var d1=t=>{throw TypeError(t)};var Ay=(t,e,n)=>e.has(t)||d1("Cannot "+n);var de=(t,e,n)=>(Ay(t,e,"read from private field"),n?n.call(t):e.get(t)),_t=(t,e,n)=>e.has(t)?d1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Xe=(t,e,n,r)=>(Ay(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Zn=(t,e,n)=>(Ay(t,e,"access private method"),n);var Uf=(t,e,n,r)=>({set _(s){Xe(t,e,s,n)},get _(){return de(t,e,r)}});function lD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var cD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vT={exports:{}},Jp={},xT={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh=Symbol.for("react.element"),uD=Symbol.for("react.portal"),dD=Symbol.for("react.fragment"),hD=Symbol.for("react.strict_mode"),fD=Symbol.for("react.profiler"),mD=Symbol.for("react.provider"),pD=Symbol.for("react.context"),gD=Symbol.for("react.forward_ref"),yD=Symbol.for("react.suspense"),vD=Symbol.for("react.memo"),xD=Symbol.for("react.lazy"),h1=Symbol.iterator;function _D(t){return t===null||typeof t!="object"?null:(t=h1&&t[h1]||t["@@iterator"],typeof t=="function"?t:null)}var _T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wT=Object.assign,bT={};function du(t,e,n){this.props=t,this.context=e,this.refs=bT,this.updater=n||_T}du.prototype.isReactComponent={};du.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};du.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NT(){}NT.prototype=du.prototype;function Ox(t,e,n){this.props=t,this.context=e,this.refs=bT,this.updater=n||_T}var Lx=Ox.prototype=new NT;Lx.constructor=Ox;wT(Lx,du.prototype);Lx.isPureReactComponent=!0;var f1=Array.isArray,ET=Object.prototype.hasOwnProperty,Fx={current:null},ST={key:!0,ref:!0,__self:!0,__source:!0};function TT(t,e,n){var r,s={},i=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)ET.call(e,r)&&!ST.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];s.children=d}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Bh,type:t,key:i,ref:l,props:s,_owner:Fx.current}}function wD(t,e){return{$$typeof:Bh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bh}function bD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var m1=/\/+/g;function Ry(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bD(""+t.key):e.toString(36)}function bm(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Bh:case uD:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+Ry(l,0):r,f1(s)?(n="",t!=null&&(n=t.replace(m1,"$&/")+"/"),bm(s,e,n,"",function(h){return h})):s!=null&&(Vx(s)&&(s=wD(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(m1,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",f1(t))for(var c=0;c<t.length;c++){i=t[c];var d=r+Ry(i,c);l+=bm(i,e,n,d,s)}else if(d=_D(t),typeof d=="function")for(t=d.call(t),c=0;!(i=t.next()).done;)i=i.value,d=r+Ry(i,c++),l+=bm(i,e,n,d,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function qf(t,e,n){if(t==null)return t;var r=[],s=0;return bm(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ND(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yr={current:null},Nm={transition:null},ED={ReactCurrentDispatcher:yr,ReactCurrentBatchConfig:Nm,ReactCurrentOwner:Fx};function CT(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:qf,forEach:function(t,e,n){qf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qf(t,function(){e++}),e},toArray:function(t){return qf(t,function(e){return e})||[]},only:function(t){if(!Vx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=du;lt.Fragment=dD;lt.Profiler=fD;lt.PureComponent=Ox;lt.StrictMode=hD;lt.Suspense=yD;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ED;lt.act=CT;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wT({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=Fx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(d in e)ET.call(e,d)&&!ST.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&c!==void 0?c[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Bh,type:t.type,key:s,ref:i,props:r,_owner:l}};lt.createContext=function(t){return t={$$typeof:pD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mD,_context:t},t.Consumer=t};lt.createElement=TT;lt.createFactory=function(t){var e=TT.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:gD,render:t}};lt.isValidElement=Vx;lt.lazy=function(t){return{$$typeof:xD,_payload:{_status:-1,_result:t},_init:ND}};lt.memo=function(t,e){return{$$typeof:vD,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=Nm.transition;Nm.transition={};try{t()}finally{Nm.transition=e}};lt.unstable_act=CT;lt.useCallback=function(t,e){return yr.current.useCallback(t,e)};lt.useContext=function(t){return yr.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return yr.current.useDeferredValue(t)};lt.useEffect=function(t,e){return yr.current.useEffect(t,e)};lt.useId=function(){return yr.current.useId()};lt.useImperativeHandle=function(t,e,n){return yr.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return yr.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return yr.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return yr.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return yr.current.useReducer(t,e,n)};lt.useRef=function(t){return yr.current.useRef(t)};lt.useState=function(t){return yr.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return yr.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return yr.current.useTransition()};lt.version="18.3.1";xT.exports=lt;var v=xT.exports;const ye=Dx(v),zx=lD({__proto__:null,default:ye},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SD=v,TD=Symbol.for("react.element"),CD=Symbol.for("react.fragment"),PD=Object.prototype.hasOwnProperty,ID=SD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kD={key:!0,ref:!0,__self:!0,__source:!0};function PT(t,e,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)PD.call(e,r)&&!kD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:TD,type:t,key:i,ref:l,props:s,_owner:ID.current}}Jp.Fragment=CD;Jp.jsx=PT;Jp.jsxs=PT;vT.exports=Jp;var o=vT.exports,IT={exports:{}},Yr={},kT={exports:{}},jT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,H){var K=U.length;U.push(H);e:for(;0<K;){var ne=K-1>>>1,ie=U[ne];if(0<s(ie,H))U[ne]=H,U[K]=ie,K=ne;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var H=U[0],K=U.pop();if(K!==H){U[0]=K;e:for(var ne=0,ie=U.length,Z=ie>>>1;ne<Z;){var ue=2*(ne+1)-1,ge=U[ue],be=ue+1,G=U[be];if(0>s(ge,K))be<ie&&0>s(G,ge)?(U[ne]=G,U[be]=K,ne=be):(U[ne]=ge,U[ue]=K,ne=ue);else if(be<ie&&0>s(G,K))U[ne]=G,U[be]=K,ne=be;else break e}}return H}function s(U,H){var K=U.sortIndex-H.sortIndex;return K!==0?K:U.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,g=null,y=3,w=!1,S=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(U){for(var H=n(h);H!==null;){if(H.callback===null)r(h);else if(H.startTime<=U)r(h),H.sortIndex=H.expirationTime,e(d,H);else break;H=n(h)}}function D(U){if(x=!1,P(U),!S)if(n(d)!==null)S=!0,Q($);else{var H=n(h);H!==null&&ee(D,H.startTime-U)}}function $(U,H){S=!1,x&&(x=!1,E(k),k=-1),w=!0;var K=y;try{for(P(H),g=n(d);g!==null&&(!(g.expirationTime>H)||U&&!R());){var ne=g.callback;if(typeof ne=="function"){g.callback=null,y=g.priorityLevel;var ie=ne(g.expirationTime<=H);H=t.unstable_now(),typeof ie=="function"?g.callback=ie:g===n(d)&&r(d),P(H)}else r(d);g=n(d)}if(g!==null)var Z=!0;else{var ue=n(h);ue!==null&&ee(D,ue.startTime-H),Z=!1}return Z}finally{g=null,y=K,w=!1}}var B=!1,A=null,k=-1,j=5,O=-1;function R(){return!(t.unstable_now()-O<j)}function V(){if(A!==null){var U=t.unstable_now();O=U;var H=!0;try{H=A(!0,U)}finally{H?F():(B=!1,A=null)}}else B=!1}var F;if(typeof N=="function")F=function(){N(V)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,pe=te.port2;te.port1.onmessage=V,F=function(){pe.postMessage(null)}}else F=function(){T(V,0)};function Q(U){A=U,B||(B=!0,F())}function ee(U,H){k=T(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,Q($))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(U){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var K=y;y=H;try{return U()}finally{y=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=y;y=U;try{return H()}finally{y=K}},t.unstable_scheduleCallback=function(U,H,K){var ne=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,U){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=K+ie,U={id:p++,callback:H,priorityLevel:U,startTime:K,expirationTime:ie,sortIndex:-1},K>ne?(U.sortIndex=K,e(h,U),n(d)===null&&U===n(h)&&(x?(E(k),k=-1):x=!0,ee(D,K-ne))):(U.sortIndex=ie,e(d,U),S||w||(S=!0,Q($))),U},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(U){var H=y;return function(){var K=y;y=H;try{return U.apply(this,arguments)}finally{y=K}}}})(jT);kT.exports=jT;var jD=kT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AD=v,Zr=jD;function xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AT=new Set,nh={};function _l(t,e){Bc(t,e),Bc(t+"Capture",e)}function Bc(t,e){for(nh[t]=e,t=0;t<e.length;t++)AT.add(e[t])}var eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mv=Object.prototype.hasOwnProperty,RD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p1={},g1={};function MD(t){return Mv.call(g1,t)?!0:Mv.call(p1,t)?!1:RD.test(t)?g1[t]=!0:(p1[t]=!0,!1)}function DD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OD(t,e,n,r){if(e===null||typeof e>"u"||DD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vr(t,e,n,r,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var $n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$n[t]=new vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$n[e]=new vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$n[t]=new vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$n[t]=new vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$n[t]=new vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$n[t]=new vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$n[t]=new vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$n[t]=new vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$n[t]=new vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var $x=/[\-:]([a-z])/g;function Bx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($x,Bx);$n[e]=new vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($x,Bx);$n[e]=new vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($x,Bx);$n[e]=new vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$n[t]=new vr(t,1,!1,t.toLowerCase(),null,!1,!1)});$n.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$n[t]=new vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ux(t,e,n,r){var s=$n.hasOwnProperty(e)?$n[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OD(e,n,s,r)&&(n=null),r||s===null?MD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var uo=AD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hf=Symbol.for("react.element"),oc=Symbol.for("react.portal"),ac=Symbol.for("react.fragment"),qx=Symbol.for("react.strict_mode"),Dv=Symbol.for("react.profiler"),RT=Symbol.for("react.provider"),MT=Symbol.for("react.context"),Hx=Symbol.for("react.forward_ref"),Ov=Symbol.for("react.suspense"),Lv=Symbol.for("react.suspense_list"),Wx=Symbol.for("react.memo"),Co=Symbol.for("react.lazy"),DT=Symbol.for("react.offscreen"),y1=Symbol.iterator;function ld(t){return t===null||typeof t!="object"?null:(t=y1&&t[y1]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,My;function xd(t){if(My===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);My=e&&e[1]||""}return`
`+My+t}var Dy=!1;function Oy(t,e){if(!t||Dy)return"";Dy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,c=i.length-1;1<=l&&0<=c&&s[l]!==i[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==i[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==i[c]){var d=`
`+s[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=c);break}}}finally{Dy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xd(t):""}function LD(t){switch(t.tag){case 5:return xd(t.type);case 16:return xd("Lazy");case 13:return xd("Suspense");case 19:return xd("SuspenseList");case 0:case 2:case 15:return t=Oy(t.type,!1),t;case 11:return t=Oy(t.type.render,!1),t;case 1:return t=Oy(t.type,!0),t;default:return""}}function Fv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ac:return"Fragment";case oc:return"Portal";case Dv:return"Profiler";case qx:return"StrictMode";case Ov:return"Suspense";case Lv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case MT:return(t.displayName||"Context")+".Consumer";case RT:return(t._context.displayName||"Context")+".Provider";case Hx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wx:return e=t.displayName||null,e!==null?e:Fv(t.type)||"Memo";case Co:e=t._payload,t=t._init;try{return Fv(t(e))}catch{}}return null}function FD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fv(e);case 8:return e===qx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VD(t){var e=OT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wf(t){t._valueTracker||(t._valueTracker=VD(t))}function LT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vv(t,e){var n=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function v1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FT(t,e){e=e.checked,e!=null&&Ux(t,"checked",e,!1)}function zv(t,e){FT(t,e);var n=oa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$v(t,e.type,n):e.hasOwnProperty("defaultValue")&&$v(t,e.type,oa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function x1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $v(t,e,n){(e!=="number"||Qm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _d=Array.isArray;function vc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oa(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Bv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(xe(92));if(_d(n)){if(1<n.length)throw Error(xe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oa(n)}}function VT(t,e){var n=oa(e.value),r=oa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function w1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gf,$T=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gf=Gf||document.createElement("div"),Gf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Od={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zD=["Webkit","ms","Moz","O"];Object.keys(Od).forEach(function(t){zD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Od[e]=Od[t]})});function BT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Od.hasOwnProperty(t)&&Od[t]?(""+e).trim():e+"px"}function UT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=BT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var $D=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qv(t,e){if(e){if($D[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xe(62))}}function Hv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wv=null;function Gx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gv=null,xc=null,_c=null;function b1(t){if(t=Hh(t)){if(typeof Gv!="function")throw Error(xe(280));var e=t.stateNode;e&&(e=sg(e),Gv(t.stateNode,t.type,e))}}function qT(t){xc?_c?_c.push(t):_c=[t]:xc=t}function HT(){if(xc){var t=xc,e=_c;if(_c=xc=null,b1(t),e)for(t=0;t<e.length;t++)b1(e[t])}}function WT(t,e){return t(e)}function GT(){}var Ly=!1;function KT(t,e,n){if(Ly)return t(e,n);Ly=!0;try{return WT(t,e,n)}finally{Ly=!1,(xc!==null||_c!==null)&&(GT(),HT())}}function sh(t,e){var n=t.stateNode;if(n===null)return null;var r=sg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(xe(231,e,typeof n));return n}var Kv=!1;if(eo)try{var cd={};Object.defineProperty(cd,"passive",{get:function(){Kv=!0}}),window.addEventListener("test",cd,cd),window.removeEventListener("test",cd,cd)}catch{Kv=!1}function BD(t,e,n,r,s,i,l,c,d){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var Ld=!1,Ym=null,Xm=!1,Zv=null,UD={onError:function(t){Ld=!0,Ym=t}};function qD(t,e,n,r,s,i,l,c,d){Ld=!1,Ym=null,BD.apply(UD,arguments)}function HD(t,e,n,r,s,i,l,c,d){if(qD.apply(this,arguments),Ld){if(Ld){var h=Ym;Ld=!1,Ym=null}else throw Error(xe(198));Xm||(Xm=!0,Zv=h)}}function wl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function N1(t){if(wl(t)!==t)throw Error(xe(188))}function WD(t){var e=t.alternate;if(!e){if(e=wl(t),e===null)throw Error(xe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return N1(s),t;if(i===r)return N1(s),e;i=i.sibling}throw Error(xe(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,r=i;break}if(c===r){l=!0,r=s,n=i;break}c=c.sibling}if(!l){for(c=i.child;c;){if(c===n){l=!0,n=i,r=s;break}if(c===r){l=!0,r=i,n=s;break}c=c.sibling}if(!l)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?t:e}function QT(t){return t=WD(t),t!==null?YT(t):null}function YT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YT(t);if(e!==null)return e;t=t.sibling}return null}var XT=Zr.unstable_scheduleCallback,E1=Zr.unstable_cancelCallback,GD=Zr.unstable_shouldYield,KD=Zr.unstable_requestPaint,on=Zr.unstable_now,ZD=Zr.unstable_getCurrentPriorityLevel,Kx=Zr.unstable_ImmediatePriority,JT=Zr.unstable_UserBlockingPriority,Jm=Zr.unstable_NormalPriority,QD=Zr.unstable_LowPriority,eC=Zr.unstable_IdlePriority,eg=null,mi=null;function YD(t){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(eg,t,void 0,(t.current.flags&128)===128)}catch{}}var Vs=Math.clz32?Math.clz32:eO,XD=Math.log,JD=Math.LN2;function eO(t){return t>>>=0,t===0?32:31-(XD(t)/JD|0)|0}var Kf=64,Zf=4194304;function wd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ep(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var c=l&~s;c!==0?r=wd(c):(i&=l,i!==0&&(r=wd(i)))}else l=n&~s,l!==0?r=wd(l):i!==0&&(r=wd(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vs(e),s=1<<n,r|=t[n],e&=~s;return r}function tO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Vs(i),c=1<<l,d=s[l];d===-1?(!(c&n)||c&r)&&(s[l]=tO(c,e)):d<=e&&(t.expiredLanes|=c),i&=~c}}function Qv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tC(){var t=Kf;return Kf<<=1,!(Kf&4194240)&&(Kf=64),t}function Fy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Uh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vs(e),t[e]=n}function rO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Vs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Zx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Tt=0;function nC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rC,Qx,sC,iC,oC,Yv=!1,Qf=[],Ho=null,Wo=null,Go=null,ih=new Map,oh=new Map,ko=[],sO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S1(t,e){switch(t){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":Wo=null;break;case"mouseover":case"mouseout":Go=null;break;case"pointerover":case"pointerout":ih.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oh.delete(e.pointerId)}}function ud(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Hh(e),e!==null&&Qx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function iO(t,e,n,r,s){switch(e){case"focusin":return Ho=ud(Ho,t,e,n,r,s),!0;case"dragenter":return Wo=ud(Wo,t,e,n,r,s),!0;case"mouseover":return Go=ud(Go,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ih.set(i,ud(ih.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,oh.set(i,ud(oh.get(i)||null,t,e,n,r,s)),!0}return!1}function aC(t){var e=Oa(t.target);if(e!==null){var n=wl(e);if(n!==null){if(e=n.tag,e===13){if(e=ZT(n),e!==null){t.blockedOn=e,oC(t.priority,function(){sC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Em(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wv=r,n.target.dispatchEvent(r),Wv=null}else return e=Hh(n),e!==null&&Qx(e),t.blockedOn=n,!1;e.shift()}return!0}function T1(t,e,n){Em(t)&&n.delete(e)}function oO(){Yv=!1,Ho!==null&&Em(Ho)&&(Ho=null),Wo!==null&&Em(Wo)&&(Wo=null),Go!==null&&Em(Go)&&(Go=null),ih.forEach(T1),oh.forEach(T1)}function dd(t,e){t.blockedOn===e&&(t.blockedOn=null,Yv||(Yv=!0,Zr.unstable_scheduleCallback(Zr.unstable_NormalPriority,oO)))}function ah(t){function e(s){return dd(s,t)}if(0<Qf.length){dd(Qf[0],t);for(var n=1;n<Qf.length;n++){var r=Qf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ho!==null&&dd(Ho,t),Wo!==null&&dd(Wo,t),Go!==null&&dd(Go,t),ih.forEach(e),oh.forEach(e),n=0;n<ko.length;n++)r=ko[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ko.length&&(n=ko[0],n.blockedOn===null);)aC(n),n.blockedOn===null&&ko.shift()}var wc=uo.ReactCurrentBatchConfig,tp=!0;function aO(t,e,n,r){var s=Tt,i=wc.transition;wc.transition=null;try{Tt=1,Yx(t,e,n,r)}finally{Tt=s,wc.transition=i}}function lO(t,e,n,r){var s=Tt,i=wc.transition;wc.transition=null;try{Tt=4,Yx(t,e,n,r)}finally{Tt=s,wc.transition=i}}function Yx(t,e,n,r){if(tp){var s=Xv(t,e,n,r);if(s===null)Ky(t,e,r,np,n),S1(t,r);else if(iO(s,t,e,n,r))r.stopPropagation();else if(S1(t,r),e&4&&-1<sO.indexOf(t)){for(;s!==null;){var i=Hh(s);if(i!==null&&rC(i),i=Xv(t,e,n,r),i===null&&Ky(t,e,r,np,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ky(t,e,r,null,n)}}var np=null;function Xv(t,e,n,r){if(np=null,t=Gx(r),t=Oa(t),t!==null)if(e=wl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ZT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return np=t,null}function lC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZD()){case Kx:return 1;case JT:return 4;case Jm:case QD:return 16;case eC:return 536870912;default:return 16}default:return 16}}var $o=null,Xx=null,Sm=null;function cC(){if(Sm)return Sm;var t,e=Xx,n=e.length,r,s="value"in $o?$o.value:$o.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[i-r];r++);return Sm=s.slice(t,1<r?1-r:void 0)}function Tm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yf(){return!0}function C1(){return!1}function Xr(t){function e(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yf:C1,this.isPropagationStopped=C1,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yf)},persist:function(){},isPersistent:Yf}),e}var hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jx=Xr(hu),qh=Qt({},hu,{view:0,detail:0}),cO=Xr(qh),Vy,zy,hd,tg=Qt({},qh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:e_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hd&&(hd&&t.type==="mousemove"?(Vy=t.screenX-hd.screenX,zy=t.screenY-hd.screenY):zy=Vy=0,hd=t),Vy)},movementY:function(t){return"movementY"in t?t.movementY:zy}}),P1=Xr(tg),uO=Qt({},tg,{dataTransfer:0}),dO=Xr(uO),hO=Qt({},qh,{relatedTarget:0}),$y=Xr(hO),fO=Qt({},hu,{animationName:0,elapsedTime:0,pseudoElement:0}),mO=Xr(fO),pO=Qt({},hu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gO=Xr(pO),yO=Qt({},hu,{data:0}),I1=Xr(yO),vO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_O={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_O[t])?!!e[t]:!1}function e_(){return wO}var bO=Qt({},qh,{key:function(t){if(t.key){var e=vO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:e_,charCode:function(t){return t.type==="keypress"?Tm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NO=Xr(bO),EO=Qt({},tg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k1=Xr(EO),SO=Qt({},qh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:e_}),TO=Xr(SO),CO=Qt({},hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),PO=Xr(CO),IO=Qt({},tg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kO=Xr(IO),jO=[9,13,27,32],t_=eo&&"CompositionEvent"in window,Fd=null;eo&&"documentMode"in document&&(Fd=document.documentMode);var AO=eo&&"TextEvent"in window&&!Fd,uC=eo&&(!t_||Fd&&8<Fd&&11>=Fd),j1=" ",A1=!1;function dC(t,e){switch(t){case"keyup":return jO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lc=!1;function RO(t,e){switch(t){case"compositionend":return hC(e);case"keypress":return e.which!==32?null:(A1=!0,j1);case"textInput":return t=e.data,t===j1&&A1?null:t;default:return null}}function MO(t,e){if(lc)return t==="compositionend"||!t_&&dC(t,e)?(t=cC(),Sm=Xx=$o=null,lc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uC&&e.locale!=="ko"?null:e.data;default:return null}}var DO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DO[t.type]:e==="textarea"}function fC(t,e,n,r){qT(r),e=rp(e,"onChange"),0<e.length&&(n=new Jx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vd=null,lh=null;function OO(t){EC(t,0)}function ng(t){var e=dc(t);if(LT(e))return t}function LO(t,e){if(t==="change")return e}var mC=!1;if(eo){var By;if(eo){var Uy="oninput"in document;if(!Uy){var M1=document.createElement("div");M1.setAttribute("oninput","return;"),Uy=typeof M1.oninput=="function"}By=Uy}else By=!1;mC=By&&(!document.documentMode||9<document.documentMode)}function D1(){Vd&&(Vd.detachEvent("onpropertychange",pC),lh=Vd=null)}function pC(t){if(t.propertyName==="value"&&ng(lh)){var e=[];fC(e,lh,t,Gx(t)),KT(OO,e)}}function FO(t,e,n){t==="focusin"?(D1(),Vd=e,lh=n,Vd.attachEvent("onpropertychange",pC)):t==="focusout"&&D1()}function VO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ng(lh)}function zO(t,e){if(t==="click")return ng(e)}function $O(t,e){if(t==="input"||t==="change")return ng(e)}function BO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bs=typeof Object.is=="function"?Object.is:BO;function ch(t,e){if(Bs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mv.call(e,s)||!Bs(t[s],e[s]))return!1}return!0}function O1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function L1(t,e){var n=O1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O1(n)}}function gC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yC(){for(var t=window,e=Qm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qm(t.document)}return e}function n_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UO(t){var e=yC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gC(n.ownerDocument.documentElement,n)){if(r!==null&&n_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=L1(n,i);var l=L1(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qO=eo&&"documentMode"in document&&11>=document.documentMode,cc=null,Jv=null,zd=null,e0=!1;function F1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;e0||cc==null||cc!==Qm(r)||(r=cc,"selectionStart"in r&&n_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zd&&ch(zd,r)||(zd=r,r=rp(Jv,"onSelect"),0<r.length&&(e=new Jx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=cc)))}function Xf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var uc={animationend:Xf("Animation","AnimationEnd"),animationiteration:Xf("Animation","AnimationIteration"),animationstart:Xf("Animation","AnimationStart"),transitionend:Xf("Transition","TransitionEnd")},qy={},vC={};eo&&(vC=document.createElement("div").style,"AnimationEvent"in window||(delete uc.animationend.animation,delete uc.animationiteration.animation,delete uc.animationstart.animation),"TransitionEvent"in window||delete uc.transitionend.transition);function rg(t){if(qy[t])return qy[t];if(!uc[t])return t;var e=uc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vC)return qy[t]=e[n];return t}var xC=rg("animationend"),_C=rg("animationiteration"),wC=rg("animationstart"),bC=rg("transitionend"),NC=new Map,V1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(t,e){NC.set(t,e),_l(e,[t])}for(var Hy=0;Hy<V1.length;Hy++){var Wy=V1[Hy],HO=Wy.toLowerCase(),WO=Wy[0].toUpperCase()+Wy.slice(1);ga(HO,"on"+WO)}ga(xC,"onAnimationEnd");ga(_C,"onAnimationIteration");ga(wC,"onAnimationStart");ga("dblclick","onDoubleClick");ga("focusin","onFocus");ga("focusout","onBlur");ga(bC,"onTransitionEnd");Bc("onMouseEnter",["mouseout","mouseover"]);Bc("onMouseLeave",["mouseout","mouseover"]);Bc("onPointerEnter",["pointerout","pointerover"]);Bc("onPointerLeave",["pointerout","pointerover"]);_l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_l("onBeforeInput",["compositionend","keypress","textInput","paste"]);_l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GO=new Set("cancel close invalid load scroll toggle".split(" ").concat(bd));function z1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HD(r,e,void 0,t),t.currentTarget=null}function EC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var l=r.length-1;0<=l;l--){var c=r[l],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==i&&s.isPropagationStopped())break e;z1(s,c,h),i=d}else for(l=0;l<r.length;l++){if(c=r[l],d=c.instance,h=c.currentTarget,c=c.listener,d!==i&&s.isPropagationStopped())break e;z1(s,c,h),i=d}}}if(Xm)throw t=Zv,Xm=!1,Zv=null,t}function Dt(t,e){var n=e[i0];n===void 0&&(n=e[i0]=new Set);var r=t+"__bubble";n.has(r)||(SC(e,t,2,!1),n.add(r))}function Gy(t,e,n){var r=0;e&&(r|=4),SC(n,t,r,e)}var Jf="_reactListening"+Math.random().toString(36).slice(2);function uh(t){if(!t[Jf]){t[Jf]=!0,AT.forEach(function(n){n!=="selectionchange"&&(GO.has(n)||Gy(n,!1,t),Gy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jf]||(e[Jf]=!0,Gy("selectionchange",!1,e))}}function SC(t,e,n,r){switch(lC(e)){case 1:var s=aO;break;case 4:s=lO;break;default:s=Yx}n=s.bind(null,e,n,t),s=void 0,!Kv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ky(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;c!==null;){if(l=Oa(c),l===null)return;if(d=l.tag,d===5||d===6){r=i=l;continue e}c=c.parentNode}}r=r.return}KT(function(){var h=i,p=Gx(n),g=[];e:{var y=NC.get(t);if(y!==void 0){var w=Jx,S=t;switch(t){case"keypress":if(Tm(n)===0)break e;case"keydown":case"keyup":w=NO;break;case"focusin":S="focus",w=$y;break;case"focusout":S="blur",w=$y;break;case"beforeblur":case"afterblur":w=$y;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=P1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=dO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=TO;break;case xC:case _C:case wC:w=mO;break;case bC:w=PO;break;case"scroll":w=cO;break;case"wheel":w=kO;break;case"copy":case"cut":case"paste":w=gO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=k1}var x=(e&4)!==0,T=!x&&t==="scroll",E=x?y!==null?y+"Capture":null:y;x=[];for(var N=h,P;N!==null;){P=N;var D=P.stateNode;if(P.tag===5&&D!==null&&(P=D,E!==null&&(D=sh(N,E),D!=null&&x.push(dh(N,D,P)))),T)break;N=N.return}0<x.length&&(y=new w(y,S,null,n,p),g.push({event:y,listeners:x}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",y&&n!==Wv&&(S=n.relatedTarget||n.fromElement)&&(Oa(S)||S[to]))break e;if((w||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,w?(S=n.relatedTarget||n.toElement,w=h,S=S?Oa(S):null,S!==null&&(T=wl(S),S!==T||S.tag!==5&&S.tag!==6)&&(S=null)):(w=null,S=h),w!==S)){if(x=P1,D="onMouseLeave",E="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(x=k1,D="onPointerLeave",E="onPointerEnter",N="pointer"),T=w==null?y:dc(w),P=S==null?y:dc(S),y=new x(D,N+"leave",w,n,p),y.target=T,y.relatedTarget=P,D=null,Oa(p)===h&&(x=new x(E,N+"enter",S,n,p),x.target=P,x.relatedTarget=T,D=x),T=D,w&&S)t:{for(x=w,E=S,N=0,P=x;P;P=Xl(P))N++;for(P=0,D=E;D;D=Xl(D))P++;for(;0<N-P;)x=Xl(x),N--;for(;0<P-N;)E=Xl(E),P--;for(;N--;){if(x===E||E!==null&&x===E.alternate)break t;x=Xl(x),E=Xl(E)}x=null}else x=null;w!==null&&$1(g,y,w,x,!1),S!==null&&T!==null&&$1(g,T,S,x,!0)}}e:{if(y=h?dc(h):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var $=LO;else if(R1(y))if(mC)$=$O;else{$=VO;var B=FO}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&($=zO);if($&&($=$(t,h))){fC(g,$,n,p);break e}B&&B(t,y,h),t==="focusout"&&(B=y._wrapperState)&&B.controlled&&y.type==="number"&&$v(y,"number",y.value)}switch(B=h?dc(h):window,t){case"focusin":(R1(B)||B.contentEditable==="true")&&(cc=B,Jv=h,zd=null);break;case"focusout":zd=Jv=cc=null;break;case"mousedown":e0=!0;break;case"contextmenu":case"mouseup":case"dragend":e0=!1,F1(g,n,p);break;case"selectionchange":if(qO)break;case"keydown":case"keyup":F1(g,n,p)}var A;if(t_)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else lc?dC(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(uC&&n.locale!=="ko"&&(lc||k!=="onCompositionStart"?k==="onCompositionEnd"&&lc&&(A=cC()):($o=p,Xx="value"in $o?$o.value:$o.textContent,lc=!0)),B=rp(h,k),0<B.length&&(k=new I1(k,t,null,n,p),g.push({event:k,listeners:B}),A?k.data=A:(A=hC(n),A!==null&&(k.data=A)))),(A=AO?RO(t,n):MO(t,n))&&(h=rp(h,"onBeforeInput"),0<h.length&&(p=new I1("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:h}),p.data=A))}EC(g,e)})}function dh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=sh(t,n),i!=null&&r.unshift(dh(t,i,s)),i=sh(t,e),i!=null&&r.push(dh(t,i,s))),t=t.return}return r}function Xl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $1(t,e,n,r,s){for(var i=e._reactName,l=[];n!==null&&n!==r;){var c=n,d=c.alternate,h=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&h!==null&&(c=h,s?(d=sh(n,i),d!=null&&l.unshift(dh(n,d,c))):s||(d=sh(n,i),d!=null&&l.push(dh(n,d,c)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var KO=/\r\n?/g,ZO=/\u0000|\uFFFD/g;function B1(t){return(typeof t=="string"?t:""+t).replace(KO,`
`).replace(ZO,"")}function em(t,e,n){if(e=B1(e),B1(t)!==e&&n)throw Error(xe(425))}function sp(){}var t0=null,n0=null;function r0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var s0=typeof setTimeout=="function"?setTimeout:void 0,QO=typeof clearTimeout=="function"?clearTimeout:void 0,U1=typeof Promise=="function"?Promise:void 0,YO=typeof queueMicrotask=="function"?queueMicrotask:typeof U1<"u"?function(t){return U1.resolve(null).then(t).catch(XO)}:s0;function XO(t){setTimeout(function(){throw t})}function Zy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ah(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ah(e)}function Ko(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function q1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fu=Math.random().toString(36).slice(2),ci="__reactFiber$"+fu,hh="__reactProps$"+fu,to="__reactContainer$"+fu,i0="__reactEvents$"+fu,JO="__reactListeners$"+fu,eL="__reactHandles$"+fu;function Oa(t){var e=t[ci];if(e)return e;for(var n=t.parentNode;n;){if(e=n[to]||n[ci]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=q1(t);t!==null;){if(n=t[ci])return n;t=q1(t)}return e}t=n,n=t.parentNode}return null}function Hh(t){return t=t[ci]||t[to],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xe(33))}function sg(t){return t[hh]||null}var o0=[],hc=-1;function ya(t){return{current:t}}function Ft(t){0>hc||(t.current=o0[hc],o0[hc]=null,hc--)}function At(t,e){hc++,o0[hc]=t.current,t.current=e}var aa={},ir=ya(aa),Ir=ya(!1),Xa=aa;function Uc(t,e){var n=t.type.contextTypes;if(!n)return aa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function kr(t){return t=t.childContextTypes,t!=null}function ip(){Ft(Ir),Ft(ir)}function H1(t,e,n){if(ir.current!==aa)throw Error(xe(168));At(ir,e),At(Ir,n)}function TC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(xe(108,FD(t)||"Unknown",s));return Qt({},n,r)}function op(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||aa,Xa=ir.current,At(ir,t),At(Ir,Ir.current),!0}function W1(t,e,n){var r=t.stateNode;if(!r)throw Error(xe(169));n?(t=TC(t,e,Xa),r.__reactInternalMemoizedMergedChildContext=t,Ft(Ir),Ft(ir),At(ir,t)):Ft(Ir),At(Ir,n)}var zi=null,ig=!1,Qy=!1;function CC(t){zi===null?zi=[t]:zi.push(t)}function tL(t){ig=!0,CC(t)}function va(){if(!Qy&&zi!==null){Qy=!0;var t=0,e=Tt;try{var n=zi;for(Tt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zi=null,ig=!1}catch(s){throw zi!==null&&(zi=zi.slice(t+1)),XT(Kx,va),s}finally{Tt=e,Qy=!1}}return null}var fc=[],mc=0,ap=null,lp=0,ds=[],hs=0,Ja=null,Ui=1,qi="";function Ra(t,e){fc[mc++]=lp,fc[mc++]=ap,ap=t,lp=e}function PC(t,e,n){ds[hs++]=Ui,ds[hs++]=qi,ds[hs++]=Ja,Ja=t;var r=Ui;t=qi;var s=32-Vs(r)-1;r&=~(1<<s),n+=1;var i=32-Vs(e)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,Ui=1<<32-Vs(e)+s|n<<s|r,qi=i+t}else Ui=1<<i|n<<s|r,qi=t}function r_(t){t.return!==null&&(Ra(t,1),PC(t,1,0))}function s_(t){for(;t===ap;)ap=fc[--mc],fc[mc]=null,lp=fc[--mc],fc[mc]=null;for(;t===Ja;)Ja=ds[--hs],ds[hs]=null,qi=ds[--hs],ds[hs]=null,Ui=ds[--hs],ds[hs]=null}var Gr=null,Hr=null,Ut=!1,Ds=null;function IC(t,e){var n=fs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gr=t,Hr=Ko(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gr=t,Hr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ja!==null?{id:Ui,overflow:qi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gr=t,Hr=null,!0):!1;default:return!1}}function a0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function l0(t){if(Ut){var e=Hr;if(e){var n=e;if(!G1(t,e)){if(a0(t))throw Error(xe(418));e=Ko(n.nextSibling);var r=Gr;e&&G1(t,e)?IC(r,n):(t.flags=t.flags&-4097|2,Ut=!1,Gr=t)}}else{if(a0(t))throw Error(xe(418));t.flags=t.flags&-4097|2,Ut=!1,Gr=t}}}function K1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gr=t}function tm(t){if(t!==Gr)return!1;if(!Ut)return K1(t),Ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!r0(t.type,t.memoizedProps)),e&&(e=Hr)){if(a0(t))throw kC(),Error(xe(418));for(;e;)IC(t,e),e=Ko(e.nextSibling)}if(K1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hr=Ko(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hr=null}}else Hr=Gr?Ko(t.stateNode.nextSibling):null;return!0}function kC(){for(var t=Hr;t;)t=Ko(t.nextSibling)}function qc(){Hr=Gr=null,Ut=!1}function i_(t){Ds===null?Ds=[t]:Ds.push(t)}var nL=uo.ReactCurrentBatchConfig;function fd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var c=s.refs;l===null?delete c[i]:c[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,t))}return t}function nm(t,e){throw t=Object.prototype.toString.call(e),Error(xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Z1(t){var e=t._init;return e(t._payload)}function jC(t){function e(E,N){if(t){var P=E.deletions;P===null?(E.deletions=[N],E.flags|=16):P.push(N)}}function n(E,N){if(!t)return null;for(;N!==null;)e(E,N),N=N.sibling;return null}function r(E,N){for(E=new Map;N!==null;)N.key!==null?E.set(N.key,N):E.set(N.index,N),N=N.sibling;return E}function s(E,N){return E=Xo(E,N),E.index=0,E.sibling=null,E}function i(E,N,P){return E.index=P,t?(P=E.alternate,P!==null?(P=P.index,P<N?(E.flags|=2,N):P):(E.flags|=2,N)):(E.flags|=1048576,N)}function l(E){return t&&E.alternate===null&&(E.flags|=2),E}function c(E,N,P,D){return N===null||N.tag!==6?(N=rv(P,E.mode,D),N.return=E,N):(N=s(N,P),N.return=E,N)}function d(E,N,P,D){var $=P.type;return $===ac?p(E,N,P.props.children,D,P.key):N!==null&&(N.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Co&&Z1($)===N.type)?(D=s(N,P.props),D.ref=fd(E,N,P),D.return=E,D):(D=Rm(P.type,P.key,P.props,null,E.mode,D),D.ref=fd(E,N,P),D.return=E,D)}function h(E,N,P,D){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=sv(P,E.mode,D),N.return=E,N):(N=s(N,P.children||[]),N.return=E,N)}function p(E,N,P,D,$){return N===null||N.tag!==7?(N=Ka(P,E.mode,D,$),N.return=E,N):(N=s(N,P),N.return=E,N)}function g(E,N,P){if(typeof N=="string"&&N!==""||typeof N=="number")return N=rv(""+N,E.mode,P),N.return=E,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Hf:return P=Rm(N.type,N.key,N.props,null,E.mode,P),P.ref=fd(E,null,N),P.return=E,P;case oc:return N=sv(N,E.mode,P),N.return=E,N;case Co:var D=N._init;return g(E,D(N._payload),P)}if(_d(N)||ld(N))return N=Ka(N,E.mode,P,null),N.return=E,N;nm(E,N)}return null}function y(E,N,P,D){var $=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return $!==null?null:c(E,N,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Hf:return P.key===$?d(E,N,P,D):null;case oc:return P.key===$?h(E,N,P,D):null;case Co:return $=P._init,y(E,N,$(P._payload),D)}if(_d(P)||ld(P))return $!==null?null:p(E,N,P,D,null);nm(E,P)}return null}function w(E,N,P,D,$){if(typeof D=="string"&&D!==""||typeof D=="number")return E=E.get(P)||null,c(N,E,""+D,$);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Hf:return E=E.get(D.key===null?P:D.key)||null,d(N,E,D,$);case oc:return E=E.get(D.key===null?P:D.key)||null,h(N,E,D,$);case Co:var B=D._init;return w(E,N,P,B(D._payload),$)}if(_d(D)||ld(D))return E=E.get(P)||null,p(N,E,D,$,null);nm(N,D)}return null}function S(E,N,P,D){for(var $=null,B=null,A=N,k=N=0,j=null;A!==null&&k<P.length;k++){A.index>k?(j=A,A=null):j=A.sibling;var O=y(E,A,P[k],D);if(O===null){A===null&&(A=j);break}t&&A&&O.alternate===null&&e(E,A),N=i(O,N,k),B===null?$=O:B.sibling=O,B=O,A=j}if(k===P.length)return n(E,A),Ut&&Ra(E,k),$;if(A===null){for(;k<P.length;k++)A=g(E,P[k],D),A!==null&&(N=i(A,N,k),B===null?$=A:B.sibling=A,B=A);return Ut&&Ra(E,k),$}for(A=r(E,A);k<P.length;k++)j=w(A,E,k,P[k],D),j!==null&&(t&&j.alternate!==null&&A.delete(j.key===null?k:j.key),N=i(j,N,k),B===null?$=j:B.sibling=j,B=j);return t&&A.forEach(function(R){return e(E,R)}),Ut&&Ra(E,k),$}function x(E,N,P,D){var $=ld(P);if(typeof $!="function")throw Error(xe(150));if(P=$.call(P),P==null)throw Error(xe(151));for(var B=$=null,A=N,k=N=0,j=null,O=P.next();A!==null&&!O.done;k++,O=P.next()){A.index>k?(j=A,A=null):j=A.sibling;var R=y(E,A,O.value,D);if(R===null){A===null&&(A=j);break}t&&A&&R.alternate===null&&e(E,A),N=i(R,N,k),B===null?$=R:B.sibling=R,B=R,A=j}if(O.done)return n(E,A),Ut&&Ra(E,k),$;if(A===null){for(;!O.done;k++,O=P.next())O=g(E,O.value,D),O!==null&&(N=i(O,N,k),B===null?$=O:B.sibling=O,B=O);return Ut&&Ra(E,k),$}for(A=r(E,A);!O.done;k++,O=P.next())O=w(A,E,k,O.value,D),O!==null&&(t&&O.alternate!==null&&A.delete(O.key===null?k:O.key),N=i(O,N,k),B===null?$=O:B.sibling=O,B=O);return t&&A.forEach(function(V){return e(E,V)}),Ut&&Ra(E,k),$}function T(E,N,P,D){if(typeof P=="object"&&P!==null&&P.type===ac&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Hf:e:{for(var $=P.key,B=N;B!==null;){if(B.key===$){if($=P.type,$===ac){if(B.tag===7){n(E,B.sibling),N=s(B,P.props.children),N.return=E,E=N;break e}}else if(B.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Co&&Z1($)===B.type){n(E,B.sibling),N=s(B,P.props),N.ref=fd(E,B,P),N.return=E,E=N;break e}n(E,B);break}else e(E,B);B=B.sibling}P.type===ac?(N=Ka(P.props.children,E.mode,D,P.key),N.return=E,E=N):(D=Rm(P.type,P.key,P.props,null,E.mode,D),D.ref=fd(E,N,P),D.return=E,E=D)}return l(E);case oc:e:{for(B=P.key;N!==null;){if(N.key===B)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){n(E,N.sibling),N=s(N,P.children||[]),N.return=E,E=N;break e}else{n(E,N);break}else e(E,N);N=N.sibling}N=sv(P,E.mode,D),N.return=E,E=N}return l(E);case Co:return B=P._init,T(E,N,B(P._payload),D)}if(_d(P))return S(E,N,P,D);if(ld(P))return x(E,N,P,D);nm(E,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,N!==null&&N.tag===6?(n(E,N.sibling),N=s(N,P),N.return=E,E=N):(n(E,N),N=rv(P,E.mode,D),N.return=E,E=N),l(E)):n(E,N)}return T}var Hc=jC(!0),AC=jC(!1),cp=ya(null),up=null,pc=null,o_=null;function a_(){o_=pc=up=null}function l_(t){var e=cp.current;Ft(cp),t._currentValue=e}function c0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bc(t,e){up=t,o_=pc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pr=!0),t.firstContext=null)}function vs(t){var e=t._currentValue;if(o_!==t)if(t={context:t,memoizedValue:e,next:null},pc===null){if(up===null)throw Error(xe(308));pc=t,up.dependencies={lanes:0,firstContext:t}}else pc=pc.next=t;return e}var La=null;function c_(t){La===null?La=[t]:La.push(t)}function RC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,c_(e)):(n.next=s.next,s.next=n),e.interleaved=n,no(t,r)}function no(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Po=!1;function u_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,no(t,n)}return s=r.interleaved,s===null?(e.next=e,c_(r)):(e.next=s.next,s.next=e),r.interleaved=e,no(t,n)}function Cm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zx(t,n)}}function Q1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dp(t,e,n,r){var s=t.updateQueue;Po=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var d=c,h=d.next;d.next=null,l===null?i=h:l.next=h,l=d;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==l&&(c===null?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=d))}if(i!==null){var g=s.baseState;l=0,p=h=d=null,c=i;do{var y=c.lane,w=c.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var S=t,x=c;switch(y=e,w=n,x.tag){case 1:if(S=x.payload,typeof S=="function"){g=S.call(w,g,y);break e}g=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=x.payload,y=typeof S=="function"?S.call(w,g,y):S,y==null)break e;g=Qt({},g,y);break e;case 2:Po=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[c]:y.push(c))}else w={eventTime:w,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(h=p=w,d=g):p=p.next=w,l|=y;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;y=c,c=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(p===null&&(d=g),s.baseState=d,s.firstBaseUpdate=h,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);tl|=l,t.lanes=l,t.memoizedState=g}}function Y1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(xe(191,s));s.call(r)}}}var Wh={},pi=ya(Wh),fh=ya(Wh),mh=ya(Wh);function Fa(t){if(t===Wh)throw Error(xe(174));return t}function d_(t,e){switch(At(mh,e),At(fh,t),At(pi,Wh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Uv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Uv(e,t)}Ft(pi),At(pi,e)}function Wc(){Ft(pi),Ft(fh),Ft(mh)}function DC(t){Fa(mh.current);var e=Fa(pi.current),n=Uv(e,t.type);e!==n&&(At(fh,t),At(pi,n))}function h_(t){fh.current===t&&(Ft(pi),Ft(fh))}var Gt=ya(0);function hp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yy=[];function f_(){for(var t=0;t<Yy.length;t++)Yy[t]._workInProgressVersionPrimary=null;Yy.length=0}var Pm=uo.ReactCurrentDispatcher,Xy=uo.ReactCurrentBatchConfig,el=0,Zt=null,yn=null,Pn=null,fp=!1,$d=!1,ph=0,rL=0;function Qn(){throw Error(xe(321))}function m_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bs(t[n],e[n]))return!1;return!0}function p_(t,e,n,r,s,i){if(el=i,Zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pm.current=t===null||t.memoizedState===null?aL:lL,t=n(r,s),$d){i=0;do{if($d=!1,ph=0,25<=i)throw Error(xe(301));i+=1,Pn=yn=null,e.updateQueue=null,Pm.current=cL,t=n(r,s)}while($d)}if(Pm.current=mp,e=yn!==null&&yn.next!==null,el=0,Pn=yn=Zt=null,fp=!1,e)throw Error(xe(300));return t}function g_(){var t=ph!==0;return ph=0,t}function ri(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Zt.memoizedState=Pn=t:Pn=Pn.next=t,Pn}function xs(){if(yn===null){var t=Zt.alternate;t=t!==null?t.memoizedState:null}else t=yn.next;var e=Pn===null?Zt.memoizedState:Pn.next;if(e!==null)Pn=e,yn=t;else{if(t===null)throw Error(xe(310));yn=t,t={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},Pn===null?Zt.memoizedState=Pn=t:Pn=Pn.next=t}return Pn}function gh(t,e){return typeof e=="function"?e(t):e}function Jy(t){var e=xs(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=yn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var c=l=null,d=null,h=i;do{var p=h.lane;if((el&p)===p)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=g,l=r):d=d.next=g,Zt.lanes|=p,tl|=p}h=h.next}while(h!==null&&h!==i);d===null?l=r:d.next=c,Bs(r,e.memoizedState)||(Pr=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Zt.lanes|=i,tl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ev(t){var e=xs(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);Bs(i,e.memoizedState)||(Pr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function OC(){}function LC(t,e){var n=Zt,r=xs(),s=e(),i=!Bs(r.memoizedState,s);if(i&&(r.memoizedState=s,Pr=!0),r=r.queue,y_(zC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,yh(9,VC.bind(null,n,r,s,e),void 0,null),kn===null)throw Error(xe(349));el&30||FC(n,e,s)}return s}function FC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VC(t,e,n,r){e.value=n,e.getSnapshot=r,$C(e)&&BC(t)}function zC(t,e,n){return n(function(){$C(e)&&BC(t)})}function $C(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bs(t,n)}catch{return!0}}function BC(t){var e=no(t,1);e!==null&&zs(e,t,1,-1)}function X1(t){var e=ri();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gh,lastRenderedState:t},e.queue=t,t=t.dispatch=oL.bind(null,Zt,t),[e.memoizedState,t]}function yh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UC(){return xs().memoizedState}function Im(t,e,n,r){var s=ri();Zt.flags|=t,s.memoizedState=yh(1|e,n,void 0,r===void 0?null:r)}function og(t,e,n,r){var s=xs();r=r===void 0?null:r;var i=void 0;if(yn!==null){var l=yn.memoizedState;if(i=l.destroy,r!==null&&m_(r,l.deps)){s.memoizedState=yh(e,n,i,r);return}}Zt.flags|=t,s.memoizedState=yh(1|e,n,i,r)}function J1(t,e){return Im(8390656,8,t,e)}function y_(t,e){return og(2048,8,t,e)}function qC(t,e){return og(4,2,t,e)}function HC(t,e){return og(4,4,t,e)}function WC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GC(t,e,n){return n=n!=null?n.concat([t]):null,og(4,4,WC.bind(null,e,t),n)}function v_(){}function KC(t,e){var n=xs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&m_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZC(t,e){var n=xs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&m_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QC(t,e,n){return el&21?(Bs(n,e)||(n=tC(),Zt.lanes|=n,tl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pr=!0),t.memoizedState=n)}function sL(t,e){var n=Tt;Tt=n!==0&&4>n?n:4,t(!0);var r=Xy.transition;Xy.transition={};try{t(!1),e()}finally{Tt=n,Xy.transition=r}}function YC(){return xs().memoizedState}function iL(t,e,n){var r=Yo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XC(t))JC(e,n);else if(n=RC(t,e,n,r),n!==null){var s=pr();zs(n,t,r,s),eP(n,e,r)}}function oL(t,e,n){var r=Yo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XC(t))JC(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,c=i(l,n);if(s.hasEagerState=!0,s.eagerState=c,Bs(c,l)){var d=e.interleaved;d===null?(s.next=s,c_(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}n=RC(t,e,s,r),n!==null&&(s=pr(),zs(n,t,r,s),eP(n,e,r))}}function XC(t){var e=t.alternate;return t===Zt||e!==null&&e===Zt}function JC(t,e){$d=fp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zx(t,n)}}var mp={readContext:vs,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},aL={readContext:vs,useCallback:function(t,e){return ri().memoizedState=[t,e===void 0?null:e],t},useContext:vs,useEffect:J1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Im(4194308,4,WC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Im(4194308,4,t,e)},useInsertionEffect:function(t,e){return Im(4,2,t,e)},useMemo:function(t,e){var n=ri();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ri();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iL.bind(null,Zt,t),[r.memoizedState,t]},useRef:function(t){var e=ri();return t={current:t},e.memoizedState=t},useState:X1,useDebugValue:v_,useDeferredValue:function(t){return ri().memoizedState=t},useTransition:function(){var t=X1(!1),e=t[0];return t=sL.bind(null,t[1]),ri().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Zt,s=ri();if(Ut){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=e(),kn===null)throw Error(xe(349));el&30||FC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,J1(zC.bind(null,r,i,t),[t]),r.flags|=2048,yh(9,VC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ri(),e=kn.identifierPrefix;if(Ut){var n=qi,r=Ui;n=(r&~(1<<32-Vs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ph++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lL={readContext:vs,useCallback:KC,useContext:vs,useEffect:y_,useImperativeHandle:GC,useInsertionEffect:qC,useLayoutEffect:HC,useMemo:ZC,useReducer:Jy,useRef:UC,useState:function(){return Jy(gh)},useDebugValue:v_,useDeferredValue:function(t){var e=xs();return QC(e,yn.memoizedState,t)},useTransition:function(){var t=Jy(gh)[0],e=xs().memoizedState;return[t,e]},useMutableSource:OC,useSyncExternalStore:LC,useId:YC,unstable_isNewReconciler:!1},cL={readContext:vs,useCallback:KC,useContext:vs,useEffect:y_,useImperativeHandle:GC,useInsertionEffect:qC,useLayoutEffect:HC,useMemo:ZC,useReducer:ev,useRef:UC,useState:function(){return ev(gh)},useDebugValue:v_,useDeferredValue:function(t){var e=xs();return yn===null?e.memoizedState=t:QC(e,yn.memoizedState,t)},useTransition:function(){var t=ev(gh)[0],e=xs().memoizedState;return[t,e]},useMutableSource:OC,useSyncExternalStore:LC,useId:YC,unstable_isNewReconciler:!1};function ks(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function u0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ag={isMounted:function(t){return(t=t._reactInternals)?wl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pr(),s=Yo(t),i=Yi(r,s);i.payload=e,n!=null&&(i.callback=n),e=Zo(t,i,s),e!==null&&(zs(e,t,s,r),Cm(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pr(),s=Yo(t),i=Yi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Zo(t,i,s),e!==null&&(zs(e,t,s,r),Cm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pr(),r=Yo(t),s=Yi(n,r);s.tag=2,e!=null&&(s.callback=e),e=Zo(t,s,r),e!==null&&(zs(e,t,r,n),Cm(e,t,r))}};function eN(t,e,n,r,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,l):e.prototype&&e.prototype.isPureReactComponent?!ch(n,r)||!ch(s,i):!0}function tP(t,e,n){var r=!1,s=aa,i=e.contextType;return typeof i=="object"&&i!==null?i=vs(i):(s=kr(e)?Xa:ir.current,r=e.contextTypes,i=(r=r!=null)?Uc(t,s):aa),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ag,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function tN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ag.enqueueReplaceState(e,e.state,null)}function d0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},u_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=vs(i):(i=kr(e)?Xa:ir.current,s.context=Uc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(u0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ag.enqueueReplaceState(s,s.state,null),dp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Gc(t,e){try{var n="",r=e;do n+=LD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function tv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function h0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uL=typeof WeakMap=="function"?WeakMap:Map;function nP(t,e,n){n=Yi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gp||(gp=!0,b0=r),h0(t,e)},n}function rP(t,e,n){n=Yi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){h0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){h0(t,e),typeof r!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function nN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=EL.bind(null,t,e,n),e.then(t,t))}function rN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sN(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yi(-1,1),e.tag=2,Zo(n,e,1))),n.lanes|=1),t)}var dL=uo.ReactCurrentOwner,Pr=!1;function fr(t,e,n,r){e.child=t===null?AC(e,null,n,r):Hc(e,t.child,n,r)}function iN(t,e,n,r,s){n=n.render;var i=e.ref;return bc(e,s),r=p_(t,e,n,r,i,s),n=g_(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ro(t,e,s)):(Ut&&n&&r_(e),e.flags|=1,fr(t,e,r,s),e.child)}function oN(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!T_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,sP(t,e,i,r,s)):(t=Rm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:ch,n(l,r)&&t.ref===e.ref)return ro(t,e,s)}return e.flags|=1,t=Xo(i,r),t.ref=e.ref,t.return=e,e.child=t}function sP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ch(i,r)&&t.ref===e.ref)if(Pr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Pr=!0);else return e.lanes=t.lanes,ro(t,e,s)}return f0(t,e,n,r,s)}function iP(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(yc,Ur),Ur|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,At(yc,Ur),Ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,At(yc,Ur),Ur|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,At(yc,Ur),Ur|=r;return fr(t,e,s,n),e.child}function oP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function f0(t,e,n,r,s){var i=kr(n)?Xa:ir.current;return i=Uc(e,i),bc(e,s),n=p_(t,e,n,r,i,s),r=g_(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ro(t,e,s)):(Ut&&r&&r_(e),e.flags|=1,fr(t,e,n,s),e.child)}function aN(t,e,n,r,s){if(kr(n)){var i=!0;op(e)}else i=!1;if(bc(e,s),e.stateNode===null)km(t,e),tP(e,n,r),d0(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,c=e.memoizedProps;l.props=c;var d=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=vs(h):(h=kr(n)?Xa:ir.current,h=Uc(e,h));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||d!==h)&&tN(e,l,r,h),Po=!1;var y=e.memoizedState;l.state=y,dp(e,r,l,s),d=e.memoizedState,c!==r||y!==d||Ir.current||Po?(typeof p=="function"&&(u0(e,n,p,r),d=e.memoizedState),(c=Po||eN(e,n,c,r,y,d,h))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),l.props=r,l.state=d,l.context=h,r=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,MC(t,e),c=e.memoizedProps,h=e.type===e.elementType?c:ks(e.type,c),l.props=h,g=e.pendingProps,y=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=vs(d):(d=kr(n)?Xa:ir.current,d=Uc(e,d));var w=n.getDerivedStateFromProps;(p=typeof w=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==g||y!==d)&&tN(e,l,r,d),Po=!1,y=e.memoizedState,l.state=y,dp(e,r,l,s);var S=e.memoizedState;c!==g||y!==S||Ir.current||Po?(typeof w=="function"&&(u0(e,n,w,r),S=e.memoizedState),(h=Po||eN(e,n,h,r,y,S,d)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,S,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,S,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),l.props=r,l.state=S,l.context=d,r=h):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return m0(t,e,n,r,i,s)}function m0(t,e,n,r,s,i){oP(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&W1(e,n,!1),ro(t,e,i);r=e.stateNode,dL.current=e;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Hc(e,t.child,null,i),e.child=Hc(e,null,c,i)):fr(t,e,c,i),e.memoizedState=r.state,s&&W1(e,n,!0),e.child}function aP(t){var e=t.stateNode;e.pendingContext?H1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&H1(t,e.context,!1),d_(t,e.containerInfo)}function lN(t,e,n,r,s){return qc(),i_(s),e.flags|=256,fr(t,e,n,r),e.child}var p0={dehydrated:null,treeContext:null,retryLane:0};function g0(t){return{baseLanes:t,cachePool:null,transitions:null}}function lP(t,e,n){var r=e.pendingProps,s=Gt.current,i=!1,l=(e.flags&128)!==0,c;if((c=l)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),At(Gt,s&1),t===null)return l0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,i?(r=e.mode,i=e.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ug(l,r,0,null),t=Ka(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=g0(n),e.memoizedState=p0,t):x_(e,l));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return hL(t,e,l,r,c,s,n);if(i){i=r.fallback,l=e.mode,s=t.child,c=s.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=Xo(s,d),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=Xo(c,i):(i=Ka(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l=l===null?g0(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=p0,r}return i=t.child,t=i.sibling,r=Xo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function x_(t,e){return e=ug({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rm(t,e,n,r){return r!==null&&i_(r),Hc(e,t.child,null,n),t=x_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hL(t,e,n,r,s,i,l){if(n)return e.flags&256?(e.flags&=-257,r=tv(Error(xe(422))),rm(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ug({mode:"visible",children:r.children},s,0,null),i=Ka(i,s,l,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Hc(e,t.child,null,l),e.child.memoizedState=g0(l),e.memoizedState=p0,i);if(!(e.mode&1))return rm(t,e,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(xe(419)),r=tv(i,r,void 0),rm(t,e,l,r)}if(c=(l&t.childLanes)!==0,Pr||c){if(r=kn,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,no(t,s),zs(r,t,s,-1))}return S_(),r=tv(Error(xe(421))),rm(t,e,l,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=SL.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Hr=Ko(s.nextSibling),Gr=e,Ut=!0,Ds=null,t!==null&&(ds[hs++]=Ui,ds[hs++]=qi,ds[hs++]=Ja,Ui=t.id,qi=t.overflow,Ja=e),e=x_(e,r.children),e.flags|=4096,e)}function cN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),c0(t.return,e,n)}function nv(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(fr(t,e,r.children,n),r=Gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cN(t,n,e);else if(t.tag===19)cN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(At(Gt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&hp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),nv(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&hp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}nv(e,!0,n,null,i);break;case"together":nv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function km(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ro(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(xe(153));if(e.child!==null){for(t=e.child,n=Xo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fL(t,e,n){switch(e.tag){case 3:aP(e),qc();break;case 5:DC(e);break;case 1:kr(e.type)&&op(e);break;case 4:d_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;At(cp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(At(Gt,Gt.current&1),e.flags|=128,null):n&e.child.childLanes?lP(t,e,n):(At(Gt,Gt.current&1),t=ro(t,e,n),t!==null?t.sibling:null);At(Gt,Gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),At(Gt,Gt.current),r)break;return null;case 22:case 23:return e.lanes=0,iP(t,e,n)}return ro(t,e,n)}var uP,y0,dP,hP;uP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};y0=function(){};dP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Fa(pi.current);var i=null;switch(n){case"input":s=Vv(t,s),r=Vv(t,r),i=[];break;case"select":s=Qt({},s,{value:void 0}),r=Qt({},r,{value:void 0}),i=[];break;case"textarea":s=Bv(t,s),r=Bv(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sp)}qv(n,r);var l;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var c=s[h];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(nh.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var d=r[h];if(c=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(l in c)!c.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&c[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(i||(i=[]),i.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(i=i||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(nh.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Dt("scroll",t),i||c===d||(i=[])):(i=i||[]).push(h,d))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};hP=function(t,e,n,r){n!==r&&(e.flags|=4)};function md(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mL(t,e,n){var r=e.pendingProps;switch(s_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(e),null;case 1:return kr(e.type)&&ip(),Yn(e),null;case 3:return r=e.stateNode,Wc(),Ft(Ir),Ft(ir),f_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ds!==null&&(S0(Ds),Ds=null))),y0(t,e),Yn(e),null;case 5:h_(e);var s=Fa(mh.current);if(n=e.type,t!==null&&e.stateNode!=null)dP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(xe(166));return Yn(e),null}if(t=Fa(pi.current),tm(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ci]=e,r[hh]=i,t=(e.mode&1)!==0,n){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(s=0;s<bd.length;s++)Dt(bd[s],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":v1(r,i),Dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Dt("invalid",r);break;case"textarea":_1(r,i),Dt("invalid",r)}qv(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&em(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&em(r.textContent,c,t),s=["children",""+c]):nh.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Dt("scroll",r)}switch(n){case"input":Wf(r),x1(r,i,!0);break;case"textarea":Wf(r),w1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=sp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[ci]=e,t[hh]=r,uP(t,e,!1,!1),e.stateNode=t;e:{switch(l=Hv(n,r),n){case"dialog":Dt("cancel",t),Dt("close",t),s=r;break;case"iframe":case"object":case"embed":Dt("load",t),s=r;break;case"video":case"audio":for(s=0;s<bd.length;s++)Dt(bd[s],t);s=r;break;case"source":Dt("error",t),s=r;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),s=r;break;case"details":Dt("toggle",t),s=r;break;case"input":v1(t,r),s=Vv(t,r),Dt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Qt({},r,{value:void 0}),Dt("invalid",t);break;case"textarea":_1(t,r),s=Bv(t,r),Dt("invalid",t);break;default:s=r}qv(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var d=c[i];i==="style"?UT(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&$T(t,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&rh(t,d):typeof d=="number"&&rh(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(nh.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Dt("scroll",t):d!=null&&Ux(t,i,d,l))}switch(n){case"input":Wf(t),x1(t,r,!1);break;case"textarea":Wf(t),w1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oa(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?vc(t,!!r.multiple,i,!1):r.defaultValue!=null&&vc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=sp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yn(e),null;case 6:if(t&&e.stateNode!=null)hP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(xe(166));if(n=Fa(mh.current),Fa(pi.current),tm(e)){if(r=e.stateNode,n=e.memoizedProps,r[ci]=e,(i=r.nodeValue!==n)&&(t=Gr,t!==null))switch(t.tag){case 3:em(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&em(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ci]=e,e.stateNode=r}return Yn(e),null;case 13:if(Ft(Gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ut&&Hr!==null&&e.mode&1&&!(e.flags&128))kC(),qc(),e.flags|=98560,i=!1;else if(i=tm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(xe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(xe(317));i[ci]=e}else qc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yn(e),i=!1}else Ds!==null&&(S0(Ds),Ds=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Gt.current&1?vn===0&&(vn=3):S_())),e.updateQueue!==null&&(e.flags|=4),Yn(e),null);case 4:return Wc(),y0(t,e),t===null&&uh(e.stateNode.containerInfo),Yn(e),null;case 10:return l_(e.type._context),Yn(e),null;case 17:return kr(e.type)&&ip(),Yn(e),null;case 19:if(Ft(Gt),i=e.memoizedState,i===null)return Yn(e),null;if(r=(e.flags&128)!==0,l=i.rendering,l===null)if(r)md(i,!1);else{if(vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=hp(t),l!==null){for(e.flags|=128,md(i,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return At(Gt,Gt.current&1|2),e.child}t=t.sibling}i.tail!==null&&on()>Kc&&(e.flags|=128,r=!0,md(i,!1),e.lanes=4194304)}else{if(!r)if(t=hp(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),md(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Ut)return Yn(e),null}else 2*on()-i.renderingStartTime>Kc&&n!==1073741824&&(e.flags|=128,r=!0,md(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=on(),e.sibling=null,n=Gt.current,At(Gt,r?n&1|2:n&1),e):(Yn(e),null);case 22:case 23:return E_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ur&1073741824&&(Yn(e),e.subtreeFlags&6&&(e.flags|=8192)):Yn(e),null;case 24:return null;case 25:return null}throw Error(xe(156,e.tag))}function pL(t,e){switch(s_(e),e.tag){case 1:return kr(e.type)&&ip(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wc(),Ft(Ir),Ft(ir),f_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return h_(e),null;case 13:if(Ft(Gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xe(340));qc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ft(Gt),null;case 4:return Wc(),null;case 10:return l_(e.type._context),null;case 22:case 23:return E_(),null;case 24:return null;default:return null}}var sm=!1,tr=!1,gL=typeof WeakSet=="function"?WeakSet:Set,ke=null;function gc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tn(t,e,r)}else n.current=null}function v0(t,e,n){try{n()}catch(r){tn(t,e,r)}}var uN=!1;function yL(t,e){if(t0=tp,t=yC(),n_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,c=-1,d=-1,h=0,p=0,g=t,y=null;t:for(;;){for(var w;g!==n||s!==0&&g.nodeType!==3||(c=l+s),g!==i||r!==0&&g.nodeType!==3||(d=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(w=g.firstChild)!==null;)y=g,g=w;for(;;){if(g===t)break t;if(y===n&&++h===s&&(c=l),y===i&&++p===r&&(d=l),(w=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=w}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(n0={focusedElem:t,selectionRange:n},tp=!1,ke=e;ke!==null;)if(e=ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ke=t;else for(;ke!==null;){e=ke;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var x=S.memoizedProps,T=S.memoizedState,E=e.stateNode,N=E.getSnapshotBeforeUpdate(e.elementType===e.type?x:ks(e.type,x),T);E.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(D){tn(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,ke=t;break}ke=e.return}return S=uN,uN=!1,S}function Bd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&v0(e,n,i)}s=s.next}while(s!==r)}}function lg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function x0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fP(t){var e=t.alternate;e!==null&&(t.alternate=null,fP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ci],delete e[hh],delete e[i0],delete e[JO],delete e[eL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mP(t){return t.tag===5||t.tag===3||t.tag===4}function dN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sp));else if(r!==4&&(t=t.child,t!==null))for(_0(t,e,n),t=t.sibling;t!==null;)_0(t,e,n),t=t.sibling}function w0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(w0(t,e,n),t=t.sibling;t!==null;)w0(t,e,n),t=t.sibling}var On=null,Ms=!1;function wo(t,e,n){for(n=n.child;n!==null;)pP(t,e,n),n=n.sibling}function pP(t,e,n){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(eg,n)}catch{}switch(n.tag){case 5:tr||gc(n,e);case 6:var r=On,s=Ms;On=null,wo(t,e,n),On=r,Ms=s,On!==null&&(Ms?(t=On,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):On.removeChild(n.stateNode));break;case 18:On!==null&&(Ms?(t=On,n=n.stateNode,t.nodeType===8?Zy(t.parentNode,n):t.nodeType===1&&Zy(t,n),ah(t)):Zy(On,n.stateNode));break;case 4:r=On,s=Ms,On=n.stateNode.containerInfo,Ms=!0,wo(t,e,n),On=r,Ms=s;break;case 0:case 11:case 14:case 15:if(!tr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&v0(n,e,l),s=s.next}while(s!==r)}wo(t,e,n);break;case 1:if(!tr&&(gc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){tn(n,e,c)}wo(t,e,n);break;case 21:wo(t,e,n);break;case 22:n.mode&1?(tr=(r=tr)||n.memoizedState!==null,wo(t,e,n),tr=r):wo(t,e,n);break;default:wo(t,e,n)}}function hN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gL),e.forEach(function(r){var s=TL.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Cs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 5:On=c.stateNode,Ms=!1;break e;case 3:On=c.stateNode.containerInfo,Ms=!0;break e;case 4:On=c.stateNode.containerInfo,Ms=!0;break e}c=c.return}if(On===null)throw Error(xe(160));pP(i,l,s),On=null,Ms=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(h){tn(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gP(e,t),e=e.sibling}function gP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cs(e,t),ni(t),r&4){try{Bd(3,t,t.return),lg(3,t)}catch(x){tn(t,t.return,x)}try{Bd(5,t,t.return)}catch(x){tn(t,t.return,x)}}break;case 1:Cs(e,t),ni(t),r&512&&n!==null&&gc(n,n.return);break;case 5:if(Cs(e,t),ni(t),r&512&&n!==null&&gc(n,n.return),t.flags&32){var s=t.stateNode;try{rh(s,"")}catch(x){tn(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&FT(s,i),Hv(c,l);var h=Hv(c,i);for(l=0;l<d.length;l+=2){var p=d[l],g=d[l+1];p==="style"?UT(s,g):p==="dangerouslySetInnerHTML"?$T(s,g):p==="children"?rh(s,g):Ux(s,p,g,h)}switch(c){case"input":zv(s,i);break;case"textarea":VT(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?vc(s,!!i.multiple,w,!1):y!==!!i.multiple&&(i.defaultValue!=null?vc(s,!!i.multiple,i.defaultValue,!0):vc(s,!!i.multiple,i.multiple?[]:"",!1))}s[hh]=i}catch(x){tn(t,t.return,x)}}break;case 6:if(Cs(e,t),ni(t),r&4){if(t.stateNode===null)throw Error(xe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){tn(t,t.return,x)}}break;case 3:if(Cs(e,t),ni(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ah(e.containerInfo)}catch(x){tn(t,t.return,x)}break;case 4:Cs(e,t),ni(t);break;case 13:Cs(e,t),ni(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(b_=on())),r&4&&hN(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(tr=(h=tr)||p,Cs(e,t),tr=h):Cs(e,t),ni(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(ke=t,p=t.child;p!==null;){for(g=ke=p;ke!==null;){switch(y=ke,w=y.child,y.tag){case 0:case 11:case 14:case 15:Bd(4,y,y.return);break;case 1:gc(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(x){tn(r,n,x)}}break;case 5:gc(y,y.return);break;case 22:if(y.memoizedState!==null){mN(g);continue}}w!==null?(w.return=y,ke=w):mN(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=g.stateNode,d=g.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=BT("display",l))}catch(x){tn(t,t.return,x)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(x){tn(t,t.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Cs(e,t),ni(t),r&4&&hN(t);break;case 21:break;default:Cs(e,t),ni(t)}}function ni(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mP(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(rh(s,""),r.flags&=-33);var i=dN(t);w0(t,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,c=dN(t);_0(t,c,l);break;default:throw Error(xe(161))}}catch(d){tn(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vL(t,e,n){ke=t,yP(t)}function yP(t,e,n){for(var r=(t.mode&1)!==0;ke!==null;){var s=ke,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||sm;if(!l){var c=s.alternate,d=c!==null&&c.memoizedState!==null||tr;c=sm;var h=tr;if(sm=l,(tr=d)&&!h)for(ke=s;ke!==null;)l=ke,d=l.child,l.tag===22&&l.memoizedState!==null?pN(s):d!==null?(d.return=l,ke=d):pN(s);for(;i!==null;)ke=i,yP(i),i=i.sibling;ke=s,sm=c,tr=h}fN(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ke=i):fN(t)}}function fN(t){for(;ke!==null;){var e=ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tr||lg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ks(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Y1(e,i,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Y1(e,l,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&ah(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}tr||e.flags&512&&x0(e)}catch(y){tn(e,e.return,y)}}if(e===t){ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,ke=n;break}ke=e.return}}function mN(t){for(;ke!==null;){var e=ke;if(e===t){ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ke=n;break}ke=e.return}}function pN(t){for(;ke!==null;){var e=ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lg(4,e)}catch(d){tn(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(d){tn(e,s,d)}}var i=e.return;try{x0(e)}catch(d){tn(e,i,d)}break;case 5:var l=e.return;try{x0(e)}catch(d){tn(e,l,d)}}}catch(d){tn(e,e.return,d)}if(e===t){ke=null;break}var c=e.sibling;if(c!==null){c.return=e.return,ke=c;break}ke=e.return}}var xL=Math.ceil,pp=uo.ReactCurrentDispatcher,__=uo.ReactCurrentOwner,ms=uo.ReactCurrentBatchConfig,xt=0,kn=null,hn=null,zn=0,Ur=0,yc=ya(0),vn=0,vh=null,tl=0,cg=0,w_=0,Ud=null,Sr=null,b_=0,Kc=1/0,Vi=null,gp=!1,b0=null,Qo=null,im=!1,Bo=null,yp=0,qd=0,N0=null,jm=-1,Am=0;function pr(){return xt&6?on():jm!==-1?jm:jm=on()}function Yo(t){return t.mode&1?xt&2&&zn!==0?zn&-zn:nL.transition!==null?(Am===0&&(Am=tC()),Am):(t=Tt,t!==0||(t=window.event,t=t===void 0?16:lC(t.type)),t):1}function zs(t,e,n,r){if(50<qd)throw qd=0,N0=null,Error(xe(185));Uh(t,n,r),(!(xt&2)||t!==kn)&&(t===kn&&(!(xt&2)&&(cg|=n),vn===4&&jo(t,zn)),jr(t,r),n===1&&xt===0&&!(e.mode&1)&&(Kc=on()+500,ig&&va()))}function jr(t,e){var n=t.callbackNode;nO(t,e);var r=ep(t,t===kn?zn:0);if(r===0)n!==null&&E1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&E1(n),e===1)t.tag===0?tL(gN.bind(null,t)):CC(gN.bind(null,t)),YO(function(){!(xt&6)&&va()}),n=null;else{switch(nC(r)){case 1:n=Kx;break;case 4:n=JT;break;case 16:n=Jm;break;case 536870912:n=eC;break;default:n=Jm}n=SP(n,vP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vP(t,e){if(jm=-1,Am=0,xt&6)throw Error(xe(327));var n=t.callbackNode;if(Nc()&&t.callbackNode!==n)return null;var r=ep(t,t===kn?zn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vp(t,r);else{e=r;var s=xt;xt|=2;var i=_P();(kn!==t||zn!==e)&&(Vi=null,Kc=on()+500,Ga(t,e));do try{bL();break}catch(c){xP(t,c)}while(!0);a_(),pp.current=i,xt=s,hn!==null?e=0:(kn=null,zn=0,e=vn)}if(e!==0){if(e===2&&(s=Qv(t),s!==0&&(r=s,e=E0(t,s))),e===1)throw n=vh,Ga(t,0),jo(t,r),jr(t,on()),n;if(e===6)jo(t,r);else{if(s=t.current.alternate,!(r&30)&&!_L(s)&&(e=vp(t,r),e===2&&(i=Qv(t),i!==0&&(r=i,e=E0(t,i))),e===1))throw n=vh,Ga(t,0),jo(t,r),jr(t,on()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(xe(345));case 2:Ma(t,Sr,Vi);break;case 3:if(jo(t,r),(r&130023424)===r&&(e=b_+500-on(),10<e)){if(ep(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){pr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=s0(Ma.bind(null,t,Sr,Vi),e);break}Ma(t,Sr,Vi);break;case 4:if(jo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-Vs(r);i=1<<l,l=e[l],l>s&&(s=l),r&=~i}if(r=s,r=on()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xL(r/1960))-r,10<r){t.timeoutHandle=s0(Ma.bind(null,t,Sr,Vi),r);break}Ma(t,Sr,Vi);break;case 5:Ma(t,Sr,Vi);break;default:throw Error(xe(329))}}}return jr(t,on()),t.callbackNode===n?vP.bind(null,t):null}function E0(t,e){var n=Ud;return t.current.memoizedState.isDehydrated&&(Ga(t,e).flags|=256),t=vp(t,e),t!==2&&(e=Sr,Sr=n,e!==null&&S0(e)),t}function S0(t){Sr===null?Sr=t:Sr.push.apply(Sr,t)}function _L(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jo(t,e){for(e&=~w_,e&=~cg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vs(e),r=1<<n;t[n]=-1,e&=~r}}function gN(t){if(xt&6)throw Error(xe(327));Nc();var e=ep(t,0);if(!(e&1))return jr(t,on()),null;var n=vp(t,e);if(t.tag!==0&&n===2){var r=Qv(t);r!==0&&(e=r,n=E0(t,r))}if(n===1)throw n=vh,Ga(t,0),jo(t,e),jr(t,on()),n;if(n===6)throw Error(xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ma(t,Sr,Vi),jr(t,on()),null}function N_(t,e){var n=xt;xt|=1;try{return t(e)}finally{xt=n,xt===0&&(Kc=on()+500,ig&&va())}}function nl(t){Bo!==null&&Bo.tag===0&&!(xt&6)&&Nc();var e=xt;xt|=1;var n=ms.transition,r=Tt;try{if(ms.transition=null,Tt=1,t)return t()}finally{Tt=r,ms.transition=n,xt=e,!(xt&6)&&va()}}function E_(){Ur=yc.current,Ft(yc)}function Ga(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QO(n)),hn!==null)for(n=hn.return;n!==null;){var r=n;switch(s_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ip();break;case 3:Wc(),Ft(Ir),Ft(ir),f_();break;case 5:h_(r);break;case 4:Wc();break;case 13:Ft(Gt);break;case 19:Ft(Gt);break;case 10:l_(r.type._context);break;case 22:case 23:E_()}n=n.return}if(kn=t,hn=t=Xo(t.current,null),zn=Ur=e,vn=0,vh=null,w_=cg=tl=0,Sr=Ud=null,La!==null){for(e=0;e<La.length;e++)if(n=La[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}La=null}return t}function xP(t,e){do{var n=hn;try{if(a_(),Pm.current=mp,fp){for(var r=Zt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fp=!1}if(el=0,Pn=yn=Zt=null,$d=!1,ph=0,__.current=null,n===null||n.return===null){vn=1,vh=e,hn=null;break}e:{var i=t,l=n.return,c=n,d=e;if(e=zn,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,p=c,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var w=rN(l);if(w!==null){w.flags&=-257,sN(w,l,c,i,e),w.mode&1&&nN(i,h,e),e=w,d=h;var S=e.updateQueue;if(S===null){var x=new Set;x.add(d),e.updateQueue=x}else S.add(d);break e}else{if(!(e&1)){nN(i,h,e),S_();break e}d=Error(xe(426))}}else if(Ut&&c.mode&1){var T=rN(l);if(T!==null){!(T.flags&65536)&&(T.flags|=256),sN(T,l,c,i,e),i_(Gc(d,c));break e}}i=d=Gc(d,c),vn!==4&&(vn=2),Ud===null?Ud=[i]:Ud.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=nP(i,d,e);Q1(i,E);break e;case 1:c=d;var N=i.type,P=i.stateNode;if(!(i.flags&128)&&(typeof N.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Qo===null||!Qo.has(P)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=rP(i,c,e);Q1(i,D);break e}}i=i.return}while(i!==null)}bP(n)}catch($){e=$,hn===n&&n!==null&&(hn=n=n.return);continue}break}while(!0)}function _P(){var t=pp.current;return pp.current=mp,t===null?mp:t}function S_(){(vn===0||vn===3||vn===2)&&(vn=4),kn===null||!(tl&268435455)&&!(cg&268435455)||jo(kn,zn)}function vp(t,e){var n=xt;xt|=2;var r=_P();(kn!==t||zn!==e)&&(Vi=null,Ga(t,e));do try{wL();break}catch(s){xP(t,s)}while(!0);if(a_(),xt=n,pp.current=r,hn!==null)throw Error(xe(261));return kn=null,zn=0,vn}function wL(){for(;hn!==null;)wP(hn)}function bL(){for(;hn!==null&&!GD();)wP(hn)}function wP(t){var e=EP(t.alternate,t,Ur);t.memoizedProps=t.pendingProps,e===null?bP(t):hn=e,__.current=null}function bP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pL(n,e),n!==null){n.flags&=32767,hn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vn=6,hn=null;return}}else if(n=mL(n,e,Ur),n!==null){hn=n;return}if(e=e.sibling,e!==null){hn=e;return}hn=e=t}while(e!==null);vn===0&&(vn=5)}function Ma(t,e,n){var r=Tt,s=ms.transition;try{ms.transition=null,Tt=1,NL(t,e,n,r)}finally{ms.transition=s,Tt=r}return null}function NL(t,e,n,r){do Nc();while(Bo!==null);if(xt&6)throw Error(xe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(xe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(rO(t,i),t===kn&&(hn=kn=null,zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||im||(im=!0,SP(Jm,function(){return Nc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ms.transition,ms.transition=null;var l=Tt;Tt=1;var c=xt;xt|=4,__.current=null,yL(t,n),gP(n,t),UO(n0),tp=!!t0,n0=t0=null,t.current=n,vL(n),KD(),xt=c,Tt=l,ms.transition=i}else t.current=n;if(im&&(im=!1,Bo=t,yp=s),i=t.pendingLanes,i===0&&(Qo=null),YD(n.stateNode),jr(t,on()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(gp)throw gp=!1,t=b0,b0=null,t;return yp&1&&t.tag!==0&&Nc(),i=t.pendingLanes,i&1?t===N0?qd++:(qd=0,N0=t):qd=0,va(),null}function Nc(){if(Bo!==null){var t=nC(yp),e=ms.transition,n=Tt;try{if(ms.transition=null,Tt=16>t?16:t,Bo===null)var r=!1;else{if(t=Bo,Bo=null,yp=0,xt&6)throw Error(xe(331));var s=xt;for(xt|=4,ke=t.current;ke!==null;){var i=ke,l=i.child;if(ke.flags&16){var c=i.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for(ke=h;ke!==null;){var p=ke;switch(p.tag){case 0:case 11:case 15:Bd(8,p,i)}var g=p.child;if(g!==null)g.return=p,ke=g;else for(;ke!==null;){p=ke;var y=p.sibling,w=p.return;if(fP(p),p===h){ke=null;break}if(y!==null){y.return=w,ke=y;break}ke=w}}}var S=i.alternate;if(S!==null){var x=S.child;if(x!==null){S.child=null;do{var T=x.sibling;x.sibling=null,x=T}while(x!==null)}}ke=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,ke=l;else e:for(;ke!==null;){if(i=ke,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bd(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,ke=E;break e}ke=i.return}}var N=t.current;for(ke=N;ke!==null;){l=ke;var P=l.child;if(l.subtreeFlags&2064&&P!==null)P.return=l,ke=P;else e:for(l=N;ke!==null;){if(c=ke,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:lg(9,c)}}catch($){tn(c,c.return,$)}if(c===l){ke=null;break e}var D=c.sibling;if(D!==null){D.return=c.return,ke=D;break e}ke=c.return}}if(xt=s,va(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(eg,t)}catch{}r=!0}return r}finally{Tt=n,ms.transition=e}}return!1}function yN(t,e,n){e=Gc(n,e),e=nP(t,e,1),t=Zo(t,e,1),e=pr(),t!==null&&(Uh(t,1,e),jr(t,e))}function tn(t,e,n){if(t.tag===3)yN(t,t,n);else for(;e!==null;){if(e.tag===3){yN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qo===null||!Qo.has(r))){t=Gc(n,t),t=rP(e,t,1),e=Zo(e,t,1),t=pr(),e!==null&&(Uh(e,1,t),jr(e,t));break}}e=e.return}}function EL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pr(),t.pingedLanes|=t.suspendedLanes&n,kn===t&&(zn&n)===n&&(vn===4||vn===3&&(zn&130023424)===zn&&500>on()-b_?Ga(t,0):w_|=n),jr(t,e)}function NP(t,e){e===0&&(t.mode&1?(e=Zf,Zf<<=1,!(Zf&130023424)&&(Zf=4194304)):e=1);var n=pr();t=no(t,e),t!==null&&(Uh(t,e,n),jr(t,n))}function SL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NP(t,n)}function TL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(e),NP(t,n)}var EP;EP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ir.current)Pr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pr=!1,fL(t,e,n);Pr=!!(t.flags&131072)}else Pr=!1,Ut&&e.flags&1048576&&PC(e,lp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;km(t,e),t=e.pendingProps;var s=Uc(e,ir.current);bc(e,n),s=p_(null,e,r,t,s,n);var i=g_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kr(r)?(i=!0,op(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,u_(e),s.updater=ag,e.stateNode=s,s._reactInternals=e,d0(e,r,t,n),e=m0(null,e,r,!0,i,n)):(e.tag=0,Ut&&i&&r_(e),fr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(km(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=PL(r),t=ks(r,t),s){case 0:e=f0(null,e,r,t,n);break e;case 1:e=aN(null,e,r,t,n);break e;case 11:e=iN(null,e,r,t,n);break e;case 14:e=oN(null,e,r,ks(r.type,t),n);break e}throw Error(xe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ks(r,s),f0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ks(r,s),aN(t,e,r,s,n);case 3:e:{if(aP(e),t===null)throw Error(xe(387));r=e.pendingProps,i=e.memoizedState,s=i.element,MC(t,e),dp(e,r,null,n);var l=e.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Gc(Error(xe(423)),e),e=lN(t,e,r,n,s);break e}else if(r!==s){s=Gc(Error(xe(424)),e),e=lN(t,e,r,n,s);break e}else for(Hr=Ko(e.stateNode.containerInfo.firstChild),Gr=e,Ut=!0,Ds=null,n=AC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qc(),r===s){e=ro(t,e,n);break e}fr(t,e,r,n)}e=e.child}return e;case 5:return DC(e),t===null&&l0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,r0(r,s)?l=null:i!==null&&r0(r,i)&&(e.flags|=32),oP(t,e),fr(t,e,l,n),e.child;case 6:return t===null&&l0(e),null;case 13:return lP(t,e,n);case 4:return d_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hc(e,null,r,n):fr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ks(r,s),iN(t,e,r,s,n);case 7:return fr(t,e,e.pendingProps,n),e.child;case 8:return fr(t,e,e.pendingProps.children,n),e.child;case 12:return fr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,At(cp,r._currentValue),r._currentValue=l,i!==null)if(Bs(i.value,l)){if(i.children===s.children&&!Ir.current){e=ro(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){l=i.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(i.tag===1){d=Yi(-1,n&-n),d.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?d.next=d:(d.next=p.next,p.next=d),h.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),c0(i.return,n,e),c.lanes|=n;break}d=d.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(xe(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),c0(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}fr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,bc(e,n),s=vs(s),r=r(s),e.flags|=1,fr(t,e,r,n),e.child;case 14:return r=e.type,s=ks(r,e.pendingProps),s=ks(r.type,s),oN(t,e,r,s,n);case 15:return sP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ks(r,s),km(t,e),e.tag=1,kr(r)?(t=!0,op(e)):t=!1,bc(e,n),tP(e,r,s),d0(e,r,s,n),m0(null,e,r,!0,t,n);case 19:return cP(t,e,n);case 22:return iP(t,e,n)}throw Error(xe(156,e.tag))};function SP(t,e){return XT(t,e)}function CL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(t,e,n,r){return new CL(t,e,n,r)}function T_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PL(t){if(typeof t=="function")return T_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hx)return 11;if(t===Wx)return 14}return 2}function Xo(t,e){var n=t.alternate;return n===null?(n=fs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rm(t,e,n,r,s,i){var l=2;if(r=t,typeof t=="function")T_(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case ac:return Ka(n.children,s,i,e);case qx:l=8,s|=8;break;case Dv:return t=fs(12,n,e,s|2),t.elementType=Dv,t.lanes=i,t;case Ov:return t=fs(13,n,e,s),t.elementType=Ov,t.lanes=i,t;case Lv:return t=fs(19,n,e,s),t.elementType=Lv,t.lanes=i,t;case DT:return ug(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RT:l=10;break e;case MT:l=9;break e;case Hx:l=11;break e;case Wx:l=14;break e;case Co:l=16,r=null;break e}throw Error(xe(130,t==null?t:typeof t,""))}return e=fs(l,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ka(t,e,n,r){return t=fs(7,t,r,e),t.lanes=n,t}function ug(t,e,n,r){return t=fs(22,t,r,e),t.elementType=DT,t.lanes=n,t.stateNode={isHidden:!1},t}function rv(t,e,n){return t=fs(6,t,null,e),t.lanes=n,t}function sv(t,e,n){return e=fs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fy(0),this.expirationTimes=Fy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function C_(t,e,n,r,s,i,l,c,d){return t=new IL(t,e,n,c,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=fs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},u_(i),t}function kL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TP(t){if(!t)return aa;t=t._reactInternals;e:{if(wl(t)!==t||t.tag!==1)throw Error(xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xe(171))}if(t.tag===1){var n=t.type;if(kr(n))return TC(t,n,e)}return e}function CP(t,e,n,r,s,i,l,c,d){return t=C_(n,r,!0,t,s,i,l,c,d),t.context=TP(null),n=t.current,r=pr(),s=Yo(n),i=Yi(r,s),i.callback=e??null,Zo(n,i,s),t.current.lanes=s,Uh(t,s,r),jr(t,r),t}function dg(t,e,n,r){var s=e.current,i=pr(),l=Yo(s);return n=TP(n),e.context===null?e.context=n:e.pendingContext=n,e=Yi(i,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zo(s,e,l),t!==null&&(zs(t,s,l,i),Cm(t,s,l)),l}function xp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function P_(t,e){vN(t,e),(t=t.alternate)&&vN(t,e)}function jL(){return null}var PP=typeof reportError=="function"?reportError:function(t){console.error(t)};function I_(t){this._internalRoot=t}hg.prototype.render=I_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xe(409));dg(t,e,null,null)};hg.prototype.unmount=I_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nl(function(){dg(null,t,null,null)}),e[to]=null}};function hg(t){this._internalRoot=t}hg.prototype.unstable_scheduleHydration=function(t){if(t){var e=iC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ko.length&&e!==0&&e<ko[n].priority;n++);ko.splice(n,0,t),n===0&&aC(t)}};function k_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xN(){}function AL(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=xp(l);i.call(h)}}var l=CP(e,r,t,0,null,!1,!1,"",xN);return t._reactRootContainer=l,t[to]=l.current,uh(t.nodeType===8?t.parentNode:t),nl(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var h=xp(d);c.call(h)}}var d=C_(t,0,!1,null,null,!1,!1,"",xN);return t._reactRootContainer=d,t[to]=d.current,uh(t.nodeType===8?t.parentNode:t),nl(function(){dg(e,d,n,r)}),d}function mg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var c=s;s=function(){var d=xp(l);c.call(d)}}dg(e,l,t,s)}else l=AL(n,e,t,s,r);return xp(l)}rC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wd(e.pendingLanes);n!==0&&(Zx(e,n|1),jr(e,on()),!(xt&6)&&(Kc=on()+500,va()))}break;case 13:nl(function(){var r=no(t,1);if(r!==null){var s=pr();zs(r,t,1,s)}}),P_(t,1)}};Qx=function(t){if(t.tag===13){var e=no(t,134217728);if(e!==null){var n=pr();zs(e,t,134217728,n)}P_(t,134217728)}};sC=function(t){if(t.tag===13){var e=Yo(t),n=no(t,e);if(n!==null){var r=pr();zs(n,t,e,r)}P_(t,e)}};iC=function(){return Tt};oC=function(t,e){var n=Tt;try{return Tt=t,e()}finally{Tt=n}};Gv=function(t,e,n){switch(e){case"input":if(zv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=sg(r);if(!s)throw Error(xe(90));LT(r),zv(r,s)}}}break;case"textarea":VT(t,n);break;case"select":e=n.value,e!=null&&vc(t,!!n.multiple,e,!1)}};WT=N_;GT=nl;var RL={usingClientEntryPoint:!1,Events:[Hh,dc,sg,qT,HT,N_]},pd={findFiberByHostInstance:Oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ML={bundleType:pd.bundleType,version:pd.version,rendererPackageName:pd.rendererPackageName,rendererConfig:pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:uo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=QT(t),t===null?null:t.stateNode},findFiberByHostInstance:pd.findFiberByHostInstance||jL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!om.isDisabled&&om.supportsFiber)try{eg=om.inject(ML),mi=om}catch{}}Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RL;Yr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k_(e))throw Error(xe(200));return kL(t,e,null,n)};Yr.createRoot=function(t,e){if(!k_(t))throw Error(xe(299));var n=!1,r="",s=PP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=C_(t,1,!1,null,null,n,!1,r,s),t[to]=e.current,uh(t.nodeType===8?t.parentNode:t),new I_(e)};Yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xe(188)):(t=Object.keys(t).join(","),Error(xe(268,t)));return t=QT(e),t=t===null?null:t.stateNode,t};Yr.flushSync=function(t){return nl(t)};Yr.hydrate=function(t,e,n){if(!fg(e))throw Error(xe(200));return mg(null,t,e,!0,n)};Yr.hydrateRoot=function(t,e,n){if(!k_(t))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=PP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=CP(e,null,t,1,n??null,s,!1,i,l),t[to]=e.current,uh(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new hg(e)};Yr.render=function(t,e,n){if(!fg(e))throw Error(xe(200));return mg(null,t,e,!1,n)};Yr.unmountComponentAtNode=function(t){if(!fg(t))throw Error(xe(40));return t._reactRootContainer?(nl(function(){mg(null,null,t,!1,function(){t._reactRootContainer=null,t[to]=null})}),!0):!1};Yr.unstable_batchedUpdates=N_;Yr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fg(n))throw Error(xe(200));if(t==null||t._reactInternals===void 0)throw Error(xe(38));return mg(t,e,n,!1,r)};Yr.version="18.3.1-next-f1338f8080-20240426";function IP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IP)}catch(t){console.error(t)}}IP(),IT.exports=Yr;var bl=IT.exports;const kP=Dx(bl);var jP,_N=bl;jP=_N.createRoot,_N.hydrateRoot;const DL=1,OL=1e6;let iv=0;function LL(){return iv=(iv+1)%Number.MAX_SAFE_INTEGER,iv.toString()}const ov=new Map,wN=t=>{if(ov.has(t))return;const e=setTimeout(()=>{ov.delete(t),Hd({type:"REMOVE_TOAST",toastId:t})},OL);ov.set(t,e)},FL=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,DL)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?wN(n):t.toasts.forEach(r=>{wN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Mm=[];let Dm={toasts:[]};function Hd(t){Dm=FL(Dm,t),Mm.forEach(e=>{e(Dm)})}function VL({...t}){const e=LL(),n=s=>Hd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Hd({type:"DISMISS_TOAST",toastId:e});return Hd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function zL(){const[t,e]=v.useState(Dm);return v.useEffect(()=>(Mm.push(e),()=>{const n=Mm.indexOf(e);n>-1&&Mm.splice(n,1)}),[t]),{...t,toast:VL,dismiss:n=>Hd({type:"DISMISS_TOAST",toastId:n})}}function Ne(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function bN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function pg(...t){return e=>{let n=!1;const r=t.map(s=>{const i=bN(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():bN(t[s],null)}}}}function ot(...t){return v.useCallback(pg(...t),t)}function $L(t,e){const n=v.createContext(e),r=i=>{const{children:l,...c}=i,d=v.useMemo(()=>c,Object.values(c));return o.jsx(n.Provider,{value:d,children:l})};r.displayName=t+"Provider";function s(i){const l=v.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ar(t,e=[]){let n=[];function r(i,l){const c=v.createContext(l),d=n.length;n=[...n,l];const h=g=>{var E;const{scope:y,children:w,...S}=g,x=((E=y==null?void 0:y[t])==null?void 0:E[d])||c,T=v.useMemo(()=>S,Object.values(S));return o.jsx(x.Provider,{value:T,children:w})};h.displayName=i+"Provider";function p(g,y){var x;const w=((x=y==null?void 0:y[t])==null?void 0:x[d])||c,S=v.useContext(w);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,p]}const s=()=>{const i=n.map(l=>v.createContext(l));return function(c){const d=(c==null?void 0:c[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[r,BL(s,...e)]}function BL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((c,{useScope:d,scopeName:h})=>{const g=d(i)[`__scope${h}`];return{...c,...g}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function rl(t){const e=qL(t),n=v.forwardRef((r,s)=>{const{children:i,...l}=r,c=v.Children.toArray(i),d=c.find(WL);if(d){const h=d.props.children,p=c.map(g=>g===d?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:g);return o.jsx(e,{...l,ref:s,children:v.isValidElement(h)?v.cloneElement(h,void 0,p):null})}return o.jsx(e,{...l,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var UL=rl("Slot");function qL(t){const e=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const l=KL(s),c=GL(i,s.props);return s.type!==v.Fragment&&(c.ref=r?pg(r,l):l),v.cloneElement(s,c)}return v.Children.count(s)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AP=Symbol("radix.slottable");function HL(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=AP,e}function WL(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AP}function GL(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function KL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Gh(t){const e=t+"CollectionProvider",[n,r]=ar(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:T,children:E}=x,N=ye.useRef(null),P=ye.useRef(new Map).current;return o.jsx(s,{scope:T,itemMap:P,collectionRef:N,children:E})};l.displayName=e;const c=t+"CollectionSlot",d=rl(c),h=ye.forwardRef((x,T)=>{const{scope:E,children:N}=x,P=i(c,E),D=ot(T,P.collectionRef);return o.jsx(d,{ref:D,children:N})});h.displayName=c;const p=t+"CollectionItemSlot",g="data-radix-collection-item",y=rl(p),w=ye.forwardRef((x,T)=>{const{scope:E,children:N,...P}=x,D=ye.useRef(null),$=ot(T,D),B=i(p,E);return ye.useEffect(()=>(B.itemMap.set(D,{ref:D,...P}),()=>void B.itemMap.delete(D))),o.jsx(y,{[g]:"",ref:$,children:N})});w.displayName=p;function S(x){const T=i(t+"CollectionConsumer",x);return ye.useCallback(()=>{const N=T.collectionRef.current;if(!N)return[];const P=Array.from(N.querySelectorAll(`[${g}]`));return Array.from(T.itemMap.values()).sort((B,A)=>P.indexOf(B.ref.current)-P.indexOf(A.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:h,ItemSlot:w},S,r]}var ZL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],De=ZL.reduce((t,e)=>{const n=rl(`Primitive.${e}`),r=v.forwardRef((s,i)=>{const{asChild:l,...c}=s,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function j_(t,e){t&&bl.flushSync(()=>t.dispatchEvent(e))}function Rr(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function QL(t,e=globalThis==null?void 0:globalThis.document){const n=Rr(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var YL="DismissableLayer",T0="dismissableLayer.update",XL="dismissableLayer.pointerDownOutside",JL="dismissableLayer.focusOutside",NN,RP=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mu=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...d}=t,h=v.useContext(RP),[p,g]=v.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=v.useState({}),S=ot(e,A=>g(A)),x=Array.from(h.layers),[T]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=x.indexOf(T),N=p?x.indexOf(p):-1,P=h.layersWithOutsidePointerEventsDisabled.size>0,D=N>=E,$=t5(A=>{const k=A.target,j=[...h.branches].some(O=>O.contains(k));!D||j||(s==null||s(A),l==null||l(A),A.defaultPrevented||c==null||c())},y),B=n5(A=>{const k=A.target;[...h.branches].some(O=>O.contains(k))||(i==null||i(A),l==null||l(A),A.defaultPrevented||c==null||c())},y);return QL(A=>{N===h.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},y),v.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(NN=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),EN(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=NN)}},[p,y,n,h]),v.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),EN())},[p,h]),v.useEffect(()=>{const A=()=>w({});return document.addEventListener(T0,A),()=>document.removeEventListener(T0,A)},[]),o.jsx(De.div,{...d,ref:S,style:{pointerEvents:P?D?"auto":"none":void 0,...t.style},onFocusCapture:Ne(t.onFocusCapture,B.onFocusCapture),onBlurCapture:Ne(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Ne(t.onPointerDownCapture,$.onPointerDownCapture)})});mu.displayName=YL;var e5="DismissableLayerBranch",MP=v.forwardRef((t,e)=>{const n=v.useContext(RP),r=v.useRef(null),s=ot(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(De.div,{...t,ref:s})});MP.displayName=e5;function t5(t,e=globalThis==null?void 0:globalThis.document){const n=Rr(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let d=function(){DP(XL,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function n5(t,e=globalThis==null?void 0:globalThis.document){const n=Rr(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&DP(JL,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function EN(){const t=new CustomEvent(T0);document.dispatchEvent(t)}function DP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?j_(s,i):s.dispatchEvent(i)}var r5=mu,s5=MP,jn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},i5="Portal",Kh=v.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,i]=v.useState(!1);jn(()=>i(!0),[]);const l=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?kP.createPortal(o.jsx(De.div,{...r,ref:e}),l):null});Kh.displayName=i5;function o5(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var Jr=t=>{const{present:e,children:n}=t,r=a5(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=ot(r.ref,l5(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};Jr.displayName="Presence";function a5(t){const[e,n]=v.useState(),r=v.useRef(null),s=v.useRef(t),i=v.useRef("none"),l=t?"mounted":"unmounted",[c,d]=o5(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=am(r.current);i.current=c==="mounted"?h:"none"},[c]),jn(()=>{const h=r.current,p=s.current;if(p!==t){const y=i.current,w=am(h);t?d("MOUNT"):w==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(p&&y!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),jn(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=w=>{const x=am(r.current).includes(w.animationName);if(w.target===e&&x&&(d("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},y=w=>{w.target===e&&(i.current=am(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function am(t){return(t==null?void 0:t.animationName)||"none"}function l5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var c5=zx[" useInsertionEffect ".trim().toString()]||jn;function _s({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,l]=u5({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:s;{const p=v.useRef(t!==void 0);v.useEffect(()=>{const g=p.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const h=v.useCallback(p=>{var g;if(c){const y=d5(p)?p(t):p;y!==t&&((g=l.current)==null||g.call(l,y))}else i(p)},[c,t,i,l]);return[d,h]}function u5({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),s=v.useRef(n),i=v.useRef(e);return c5(()=>{i.current=e},[e]),v.useEffect(()=>{var l;s.current!==n&&((l=i.current)==null||l.call(i,n),s.current=n)},[n,s]),[n,r,i]}function d5(t){return typeof t=="function"}var OP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),h5="VisuallyHidden",gg=v.forwardRef((t,e)=>o.jsx(De.span,{...t,ref:e,style:{...OP,...t.style}}));gg.displayName=h5;var f5=gg,A_="ToastProvider",[R_,m5,p5]=Gh("Toast"),[LP,mQ]=ar("Toast",[p5]),[g5,yg]=LP(A_),FP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:l}=t,[c,d]=v.useState(null),[h,p]=v.useState(0),g=v.useRef(!1),y=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${A_}\`. Expected non-empty \`string\`.`),o.jsx(R_.Provider,{scope:e,children:o.jsx(g5,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:h,viewport:c,onViewportChange:d,onToastAdd:v.useCallback(()=>p(w=>w+1),[]),onToastRemove:v.useCallback(()=>p(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:y,children:l})})};FP.displayName=A_;var VP="ToastViewport",y5=["F8"],C0="toast.viewportPause",P0="toast.viewportResume",zP=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=y5,label:s="Notifications ({hotkey})",...i}=t,l=yg(VP,n),c=m5(n),d=v.useRef(null),h=v.useRef(null),p=v.useRef(null),g=v.useRef(null),y=ot(e,g,l.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=l.toastCount>0;v.useEffect(()=>{const T=E=>{var P;r.length!==0&&r.every(D=>E[D]||E.code===D)&&((P=g.current)==null||P.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),v.useEffect(()=>{const T=d.current,E=g.current;if(S&&T&&E){const N=()=>{if(!l.isClosePausedRef.current){const B=new CustomEvent(C0);E.dispatchEvent(B),l.isClosePausedRef.current=!0}},P=()=>{if(l.isClosePausedRef.current){const B=new CustomEvent(P0);E.dispatchEvent(B),l.isClosePausedRef.current=!1}},D=B=>{!T.contains(B.relatedTarget)&&P()},$=()=>{T.contains(document.activeElement)||P()};return T.addEventListener("focusin",N),T.addEventListener("focusout",D),T.addEventListener("pointermove",N),T.addEventListener("pointerleave",$),window.addEventListener("blur",N),window.addEventListener("focus",P),()=>{T.removeEventListener("focusin",N),T.removeEventListener("focusout",D),T.removeEventListener("pointermove",N),T.removeEventListener("pointerleave",$),window.removeEventListener("blur",N),window.removeEventListener("focus",P)}}},[S,l.isClosePausedRef]);const x=v.useCallback(({tabbingDirection:T})=>{const N=c().map(P=>{const D=P.ref.current,$=[D,...k5(D)];return T==="forwards"?$:$.reverse()});return(T==="forwards"?N.reverse():N).flat()},[c]);return v.useEffect(()=>{const T=g.current;if(T){const E=N=>{var $,B,A;const P=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!P){const k=document.activeElement,j=N.shiftKey;if(N.target===T&&j){($=h.current)==null||$.focus();return}const V=x({tabbingDirection:j?"backwards":"forwards"}),F=V.findIndex(te=>te===k);av(V.slice(F+1))?N.preventDefault():j?(B=h.current)==null||B.focus():(A=p.current)==null||A.focus()}};return T.addEventListener("keydown",E),()=>T.removeEventListener("keydown",E)}},[c,x]),o.jsxs(s5,{ref:d,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&o.jsx(I0,{ref:h,onFocusFromOutsideViewport:()=>{const T=x({tabbingDirection:"forwards"});av(T)}}),o.jsx(R_.Slot,{scope:n,children:o.jsx(De.ol,{tabIndex:-1,...i,ref:y})}),S&&o.jsx(I0,{ref:p,onFocusFromOutsideViewport:()=>{const T=x({tabbingDirection:"backwards"});av(T)}})]})});zP.displayName=VP;var $P="ToastFocusProxy",I0=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=yg($P,n);return o.jsx(gg,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{var h;const c=l.relatedTarget;!((h=i.viewport)!=null&&h.contains(c))&&r()}})});I0.displayName=$P;var Zh="Toast",v5="toast.swipeStart",x5="toast.swipeMove",_5="toast.swipeCancel",w5="toast.swipeEnd",BP=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...l}=t,[c,d]=_s({prop:r,defaultProp:s??!0,onChange:i,caller:Zh});return o.jsx(Jr,{present:n||c,children:o.jsx(E5,{open:c,...l,ref:e,onClose:()=>d(!1),onPause:Rr(t.onPause),onResume:Rr(t.onResume),onSwipeStart:Ne(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(t.onSwipeMove,h=>{const{x:p,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Ne(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(t.onSwipeEnd,h=>{const{x:p,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});BP.displayName=Zh;var[b5,N5]=LP(Zh,{onClose(){}}),E5=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:l,onEscapeKeyDown:c,onPause:d,onResume:h,onSwipeStart:p,onSwipeMove:g,onSwipeCancel:y,onSwipeEnd:w,...S}=t,x=yg(Zh,n),[T,E]=v.useState(null),N=ot(e,te=>E(te)),P=v.useRef(null),D=v.useRef(null),$=s||x.duration,B=v.useRef(0),A=v.useRef($),k=v.useRef(0),{onToastAdd:j,onToastRemove:O}=x,R=Rr(()=>{var pe;(T==null?void 0:T.contains(document.activeElement))&&((pe=x.viewport)==null||pe.focus()),l()}),V=v.useCallback(te=>{!te||te===1/0||(window.clearTimeout(k.current),B.current=new Date().getTime(),k.current=window.setTimeout(R,te))},[R]);v.useEffect(()=>{const te=x.viewport;if(te){const pe=()=>{V(A.current),h==null||h()},Q=()=>{const ee=new Date().getTime()-B.current;A.current=A.current-ee,window.clearTimeout(k.current),d==null||d()};return te.addEventListener(C0,Q),te.addEventListener(P0,pe),()=>{te.removeEventListener(C0,Q),te.removeEventListener(P0,pe)}}},[x.viewport,$,d,h,V]),v.useEffect(()=>{i&&!x.isClosePausedRef.current&&V($)},[i,$,x.isClosePausedRef,V]),v.useEffect(()=>(j(),()=>O()),[j,O]);const F=v.useMemo(()=>T?ZP(T):null,[T]);return x.viewport?o.jsxs(o.Fragment,{children:[F&&o.jsx(S5,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),o.jsx(b5,{scope:n,onClose:R,children:bl.createPortal(o.jsx(R_.ItemSlot,{scope:n,children:o.jsx(r5,{asChild:!0,onEscapeKeyDown:Ne(c,()=>{x.isFocusedToastEscapeKeyDownRef.current||R(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(De.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...S,ref:N,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ne(t.onKeyDown,te=>{te.key==="Escape"&&(c==null||c(te.nativeEvent),te.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Ne(t.onPointerDown,te=>{te.button===0&&(P.current={x:te.clientX,y:te.clientY})}),onPointerMove:Ne(t.onPointerMove,te=>{if(!P.current)return;const pe=te.clientX-P.current.x,Q=te.clientY-P.current.y,ee=!!D.current,U=["left","right"].includes(x.swipeDirection),H=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,K=U?H(0,pe):0,ne=U?0:H(0,Q),ie=te.pointerType==="touch"?10:2,Z={x:K,y:ne},ue={originalEvent:te,delta:Z};ee?(D.current=Z,lm(x5,g,ue,{discrete:!1})):SN(Z,x.swipeDirection,ie)?(D.current=Z,lm(v5,p,ue,{discrete:!1}),te.target.setPointerCapture(te.pointerId)):(Math.abs(pe)>ie||Math.abs(Q)>ie)&&(P.current=null)}),onPointerUp:Ne(t.onPointerUp,te=>{const pe=D.current,Q=te.target;if(Q.hasPointerCapture(te.pointerId)&&Q.releasePointerCapture(te.pointerId),D.current=null,P.current=null,pe){const ee=te.currentTarget,U={originalEvent:te,delta:pe};SN(pe,x.swipeDirection,x.swipeThreshold)?lm(w5,w,U,{discrete:!0}):lm(_5,y,U,{discrete:!0}),ee.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),S5=t=>{const{__scopeToast:e,children:n,...r}=t,s=yg(Zh,e),[i,l]=v.useState(!1),[c,d]=v.useState(!1);return P5(()=>l(!0)),v.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:o.jsx(Kh,{asChild:!0,children:o.jsx(gg,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},T5="ToastTitle",UP=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(De.div,{...r,ref:e})});UP.displayName=T5;var C5="ToastDescription",qP=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(De.div,{...r,ref:e})});qP.displayName=C5;var HP="ToastAction",WP=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(KP,{altText:n,asChild:!0,children:o.jsx(M_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${HP}\`. Expected non-empty \`string\`.`),null)});WP.displayName=HP;var GP="ToastClose",M_=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=N5(GP,n);return o.jsx(KP,{asChild:!0,children:o.jsx(De.button,{type:"button",...r,ref:e,onClick:Ne(t.onClick,s.onClose)})})});M_.displayName=GP;var KP=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return o.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function ZP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),I5(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...ZP(r))}}),e}function lm(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?j_(s,i):s.dispatchEvent(i)}var SN=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function P5(t=()=>{}){const e=Rr(t);jn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function I5(t){return t.nodeType===t.ELEMENT_NODE}function k5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function av(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var j5=FP,QP=zP,YP=BP,XP=UP,JP=qP,eI=WP,tI=M_;function nI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=nI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=nI(t))&&(r&&(r+=" "),r+=e);return r}const TN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,CN=rI,Qh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return CN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(h=>{const p=n==null?void 0:n[h],g=i==null?void 0:i[h];if(p===null)return null;const y=TN(p)||TN(g);return s[h][y]}),c=n&&Object.entries(n).reduce((h,p)=>{let[g,y]=p;return y===void 0||(h[g]=y),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:g,className:y,...w}=p;return Object.entries(w).every(S=>{let[x,T]=S;return Array.isArray(T)?T.includes({...i,...c}[x]):{...i,...c}[x]===T})?[...h,g,y]:h},[]);return CN(t,l,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...c},d)=>v.createElement("svg",{ref:d,...R5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:sI("lucide",s),...c},[...l.map(([h,p])=>v.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(M5,{ref:i,iconNode:e,className:sI(`lucide-${A5(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=Ee("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=Ee("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=Ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=Ee("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=Ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=Ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=Ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Ee("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=Ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=Ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=Ee("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=Ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=Ee("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Ee("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=Ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=Ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=Ee("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=Ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=Ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=Ee("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=Ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=Ee("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=Ee("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=Ee("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=Ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=Ee("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=Ee("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=Ee("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Ee("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=Ee("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Ee("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=Ee("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=Ee("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=Ee("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=Ee("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=Ee("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=Ee("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=Ee("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),U_="-",l3=t=>{const e=u3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(U_);return c[0]===""&&c.length!==1&&c.shift(),mI(c,e)||c3(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},mI=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?mI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(U_);return(l=e.validators.find(({validator:c})=>c(i)))==null?void 0:l.classGroupId},RN=/^\[(.+)\]$/,c3=t=>{if(RN.test(t)){const e=RN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},u3=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return h3(Object.entries(t.classGroups),n).forEach(([i,l])=>{A0(l,r,i,e)}),r},A0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:MN(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(d3(s)){A0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,l])=>{A0(l,MN(e,i),n,r)})})},MN=(t,e)=>{let n=t;return e.split(U_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},d3=t=>t.isThemeGetter,h3=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,c])=>[e+l,c])):i);return[n,s]}):t,f3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,l)=>{n.set(i,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){n.has(i)?n.set(i,l):s(i,l)}}},pI="!",m3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,l=c=>{const d=[];let h=0,p=0,g;for(let T=0;T<c.length;T++){let E=c[T];if(h===0){if(E===s&&(r||c.slice(T,T+i)===e)){d.push(c.slice(p,T)),p=T+i;continue}if(E==="/"){g=T;continue}}E==="["?h++:E==="]"&&h--}const y=d.length===0?c:c.substring(p),w=y.startsWith(pI),S=w?y.substring(1):y,x=g&&g>p?g-p:void 0;return{modifiers:d,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:x}};return n?c=>n({className:c,parseClassName:l}):l},p3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},g3=t=>({cache:f3(t.cacheSize),parseClassName:m3(t),...l3(t)}),y3=/\s+/,v3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],l=t.trim().split(y3);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{modifiers:p,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:w}=n(h);let S=!!w,x=r(S?y.substring(0,w):y);if(!x){if(!S){c=h+(c.length>0?" "+c:c);continue}if(x=r(y),!x){c=h+(c.length>0?" "+c:c);continue}S=!1}const T=p3(p).join(":"),E=g?T+pI:T,N=E+x;if(i.includes(N))continue;i.push(N);const P=s(x,S);for(let D=0;D<P.length;++D){const $=P[D];i.push(E+$)}c=h+(c.length>0?" "+c:c)}return c};function x3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gI(e))&&(r&&(r+=" "),r+=n);return r}const gI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gI(t[r]))&&(n&&(n+=" "),n+=e);return n};function _3(t,...e){let n,r,s,i=l;function l(d){const h=e.reduce((p,g)=>g(p),t());return n=g3(h),r=n.cache.get,s=n.cache.set,i=c,c(d)}function c(d){const h=r(d);if(h)return h;const p=v3(d,n);return s(d,p),p}return function(){return i(x3.apply(null,arguments))}}const Mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},yI=/^\[(?:([a-z-]+):)?(.+)\]$/i,w3=/^\d+\/\d+$/,b3=new Set(["px","full","screen"]),N3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,T3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,C3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Li=t=>Sc(t)||b3.has(t)||w3.test(t),bo=t=>yu(t,"length",D3),Sc=t=>!!t&&!Number.isNaN(Number(t)),lv=t=>yu(t,"number",Sc),gd=t=>!!t&&Number.isInteger(Number(t)),P3=t=>t.endsWith("%")&&Sc(t.slice(0,-1)),tt=t=>yI.test(t),No=t=>N3.test(t),I3=new Set(["length","size","percentage"]),k3=t=>yu(t,I3,vI),j3=t=>yu(t,"position",vI),A3=new Set(["image","url"]),R3=t=>yu(t,A3,L3),M3=t=>yu(t,"",O3),yd=()=>!0,yu=(t,e,n)=>{const r=yI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},D3=t=>E3.test(t)&&!S3.test(t),vI=()=>!1,O3=t=>T3.test(t),L3=t=>C3.test(t),F3=()=>{const t=Mt("colors"),e=Mt("spacing"),n=Mt("blur"),r=Mt("brightness"),s=Mt("borderColor"),i=Mt("borderRadius"),l=Mt("borderSpacing"),c=Mt("borderWidth"),d=Mt("contrast"),h=Mt("grayscale"),p=Mt("hueRotate"),g=Mt("invert"),y=Mt("gap"),w=Mt("gradientColorStops"),S=Mt("gradientColorStopPositions"),x=Mt("inset"),T=Mt("margin"),E=Mt("opacity"),N=Mt("padding"),P=Mt("saturate"),D=Mt("scale"),$=Mt("sepia"),B=Mt("skew"),A=Mt("space"),k=Mt("translate"),j=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",tt,e],V=()=>[tt,e],F=()=>["",Li,bo],te=()=>["auto",Sc,tt],pe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",tt],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Sc,tt];return{cacheSize:500,separator:":",theme:{colors:[yd],spacing:[Li,bo],blur:["none","",No,tt],brightness:ne(),borderColor:[t],borderRadius:["none","","full",No,tt],borderSpacing:V(),borderWidth:F(),contrast:ne(),grayscale:H(),hueRotate:ne(),invert:H(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[P3,bo],inset:R(),margin:R(),opacity:ne(),padding:V(),saturate:ne(),scale:ne(),sepia:H(),skew:ne(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[No]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...pe(),tt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gd,tt]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",gd,tt]}],"grid-cols":[{"grid-cols":[yd]}],"col-start-end":[{col:["auto",{span:["full",gd,tt]},tt]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[yd]}],"row-start-end":[{row:["auto",{span:[gd,tt]},tt]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,e]}],"min-w":[{"min-w":[tt,e,"min","max","fit"]}],"max-w":[{"max-w":[tt,e,"none","full","min","max","fit","prose",{screen:[No]},No]}],h:[{h:[tt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",No,bo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lv]}],"font-family":[{font:[yd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",Sc,lv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Li,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Li,bo]}],"underline-offset":[{"underline-offset":["auto",Li,tt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...pe(),j3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",k3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},R3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Li,tt]}],"outline-w":[{outline:[Li,bo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Li,bo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",No,M3]}],"shadow-color":[{shadow:[yd]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",No,tt]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[g]}],saturate:[{saturate:[P]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[gd,tt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Li,bo,lv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},V3=_3(F3);function Me(...t){return V3(rI(t))}const z3=j5,xI=v.forwardRef(({className:t,...e},n)=>o.jsx(QP,{ref:n,className:Me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));xI.displayName=QP.displayName;const $3=Qh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_I=v.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(YP,{ref:r,className:Me($3({variant:e}),t),...n}));_I.displayName=YP.displayName;const B3=v.forwardRef(({className:t,...e},n)=>o.jsx(eI,{ref:n,className:Me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));B3.displayName=eI.displayName;const wI=v.forwardRef(({className:t,...e},n)=>o.jsx(tI,{ref:n,className:Me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(El,{className:"h-4 w-4"})}));wI.displayName=tI.displayName;const bI=v.forwardRef(({className:t,...e},n)=>o.jsx(XP,{ref:n,className:Me("text-sm font-semibold",t),...e}));bI.displayName=XP.displayName;const NI=v.forwardRef(({className:t,...e},n)=>o.jsx(JP,{ref:n,className:Me("text-sm opacity-90",t),...e}));NI.displayName=JP.displayName;function U3(){const{toasts:t}=zL();return o.jsxs(z3,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return o.jsxs(_I,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(bI,{children:n}),r&&o.jsx(NI,{children:r})]}),s,o.jsx(wI,{})]},e)}),o.jsx(xI,{})]})}var DN=["light","dark"],q3="(prefers-color-scheme: dark)",H3=v.createContext(void 0),W3={setTheme:t=>{},themes:[]},G3=()=>{var t;return(t=v.useContext(H3))!=null?t:W3};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:l,attrs:c,nonce:d})=>{let h=i==="system",p=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,g=s?DN.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",y=(S,x=!1,T=!0)=>{let E=l?l[S]:S,N=x?S+"|| ''":`'${E}'`,P="";return s&&T&&!x&&DN.includes(S)&&(P+=`d.style.colorScheme = '${S}';`),n==="class"?x||E?P+=`c.add(${N})`:P+="null":E&&(P+=`d[s](n,${N})`),P},w=t?`!function(){${p}${y(t)}}()`:r?`!function(){try{${p}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${q3}',m=window.matchMedia(t);if(m.media!==t||m.matches){${y("dark")}}else{${y("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${y(l?"x[e]":"e",!0)}}${h?"":"else{"+y(i,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${e}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${y(l?"x[e]":"e",!0)}}else{${y(i,!1,!1)};}${g}}catch(t){}}();`;return v.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:w}})});var K3=t=>{switch(t){case"success":return Y3;case"info":return J3;case"warning":return X3;case"error":return e6;default:return null}},Z3=Array(12).fill(0),Q3=({visible:t,className:e})=>ye.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ye.createElement("div",{className:"sonner-spinner"},Z3.map((n,r)=>ye.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Y3=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),X3=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),J3=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),e6=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),t6=ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ye.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ye.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),n6=()=>{let[t,e]=ye.useState(document.hidden);return ye.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},R0=1,r6=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:R0++,l=this.toasts.find(d=>d.id===i),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...e,id:i,title:r}),{...d,...e,id:i,dismissible:c,title:r}):d):this.addToast({title:r,...s,dismissible:c,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,l,c=s.then(async h=>{if(l=["resolve",h],ye.isValidElement(h))i=!1,this.create({id:r,type:"default",message:h});else if(i6(h)&&!h.ok){i=!1;let p=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description;this.create({id:r,type:"error",message:p,description:g})}else if(n.success!==void 0){i=!1;let p=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description;this.create({id:r,type:"success",message:p,description:g})}}).catch(async h=>{if(l=["reject",h],n.error!==void 0){i=!1;let p=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description;this.create({id:r,type:"error",message:p,description:g})}}).finally(()=>{var h;i&&(this.dismiss(r),r=void 0),(h=n.finally)==null||h.call(n)}),d=()=>new Promise((h,p)=>c.then(()=>l[0]==="reject"?p(l[1]):h(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||R0++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Nr=new r6,s6=(t,e)=>{let n=(e==null?void 0:e.id)||R0++;return Nr.addToast({title:t,...e,id:n}),n},i6=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",o6=s6,a6=()=>Nr.toasts,l6=()=>Nr.getActiveToasts(),Y=Object.assign(o6,{success:Nr.success,info:Nr.info,warning:Nr.warning,error:Nr.error,custom:Nr.custom,message:Nr.message,promise:Nr.promise,dismiss:Nr.dismiss,loading:Nr.loading},{getHistory:a6,getToasts:l6});function c6(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}c6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cm(t){return t.label!==void 0}var u6=3,d6="32px",h6="16px",ON=4e3,f6=356,m6=14,p6=20,g6=200;function Ps(...t){return t.filter(Boolean).join(" ")}function y6(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var v6=t=>{var e,n,r,s,i,l,c,d,h,p,g;let{invert:y,toast:w,unstyled:S,interacting:x,setHeights:T,visibleToasts:E,heights:N,index:P,toasts:D,expanded:$,removeToast:B,defaultRichColors:A,closeButton:k,style:j,cancelButtonStyle:O,actionButtonStyle:R,className:V="",descriptionClassName:F="",duration:te,position:pe,gap:Q,loadingIcon:ee,expandByDefault:U,classNames:H,icons:K,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:ie}=t,[Z,ue]=ye.useState(null),[ge,be]=ye.useState(null),[G,ve]=ye.useState(!1),[re,ae]=ye.useState(!1),[ce,le]=ye.useState(!1),[Ie,je]=ye.useState(!1),[et,ct]=ye.useState(!1),[vt,rt]=ye.useState(0),[It,mt]=ye.useState(0),qt=ye.useRef(w.duration||te||ON),lr=ye.useRef(null),nn=ye.useRef(null),_e=P===0,qe=P+1<=E,Qe=w.type,Ue=w.dismissible!==!1,cr=w.className||"",Hn=w.descriptionClassName||"",Xt=ye.useMemo(()=>N.findIndex(Fe=>Fe.toastId===w.id)||0,[N,w.id]),Wn=ye.useMemo(()=>{var Fe;return(Fe=w.closeButton)!=null?Fe:k},[w.closeButton,k]),Rn=ye.useMemo(()=>w.duration||te||ON,[w.duration,te]),Gn=ye.useRef(0),Mn=ye.useRef(0),Rt=ye.useRef(0),_r=ye.useRef(null),[Or,Ti]=pe.split("-"),Qs=ye.useMemo(()=>N.reduce((Fe,st,wt)=>wt>=Xt?Fe:Fe+st.height,0),[N,Xt]),Ys=n6(),Lr=w.invert||y,Fr=Qe==="loading";Mn.current=ye.useMemo(()=>Xt*Q+Qs,[Xt,Qs]),ye.useEffect(()=>{qt.current=Rn},[Rn]),ye.useEffect(()=>{ve(!0)},[]),ye.useEffect(()=>{let Fe=nn.current;if(Fe){let st=Fe.getBoundingClientRect().height;return mt(st),T(wt=>[{toastId:w.id,height:st,position:w.position},...wt]),()=>T(wt=>wt.filter(pn=>pn.toastId!==w.id))}},[T,w.id]),ye.useLayoutEffect(()=>{if(!G)return;let Fe=nn.current,st=Fe.style.height;Fe.style.height="auto";let wt=Fe.getBoundingClientRect().height;Fe.style.height=st,mt(wt),T(pn=>pn.find(Nn=>Nn.toastId===w.id)?pn.map(Nn=>Nn.toastId===w.id?{...Nn,height:wt}:Nn):[{toastId:w.id,height:wt,position:w.position},...pn])},[G,w.title,w.description,T,w.id]);let Dn=ye.useCallback(()=>{ae(!0),rt(Mn.current),T(Fe=>Fe.filter(st=>st.toastId!==w.id)),setTimeout(()=>{B(w)},g6)},[w,B,T,Mn]);ye.useEffect(()=>{if(w.promise&&Qe==="loading"||w.duration===1/0||w.type==="loading")return;let Fe;return $||x||ie&&Ys?(()=>{if(Rt.current<Gn.current){let st=new Date().getTime()-Gn.current;qt.current=qt.current-st}Rt.current=new Date().getTime()})():qt.current!==1/0&&(Gn.current=new Date().getTime(),Fe=setTimeout(()=>{var st;(st=w.onAutoClose)==null||st.call(w,w),Dn()},qt.current)),()=>clearTimeout(Fe)},[$,x,w,Qe,ie,Ys,Dn]),ye.useEffect(()=>{w.delete&&Dn()},[Dn,w.delete]);function Vr(){var Fe,st,wt;return K!=null&&K.loading?ye.createElement("div",{className:Ps(H==null?void 0:H.loader,(Fe=w==null?void 0:w.classNames)==null?void 0:Fe.loader,"sonner-loader"),"data-visible":Qe==="loading"},K.loading):ee?ye.createElement("div",{className:Ps(H==null?void 0:H.loader,(st=w==null?void 0:w.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":Qe==="loading"},ee):ye.createElement(Q3,{className:Ps(H==null?void 0:H.loader,(wt=w==null?void 0:w.classNames)==null?void 0:wt.loader),visible:Qe==="loading"})}return ye.createElement("li",{tabIndex:0,ref:nn,className:Ps(V,cr,H==null?void 0:H.toast,(e=w==null?void 0:w.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[Qe],(n=w==null?void 0:w.classNames)==null?void 0:n[Qe]),"data-sonner-toast":"","data-rich-colors":(r=w.richColors)!=null?r:A,"data-styled":!(w.jsx||w.unstyled||S),"data-mounted":G,"data-promise":!!w.promise,"data-swiped":et,"data-removed":re,"data-visible":qe,"data-y-position":Or,"data-x-position":Ti,"data-index":P,"data-front":_e,"data-swiping":ce,"data-dismissible":Ue,"data-type":Qe,"data-invert":Lr,"data-swipe-out":Ie,"data-swipe-direction":ge,"data-expanded":!!($||U&&G),style:{"--index":P,"--toasts-before":P,"--z-index":D.length-P,"--offset":`${re?vt:Mn.current}px`,"--initial-height":U?"auto":`${It}px`,...j,...w.style},onDragEnd:()=>{le(!1),ue(null),_r.current=null},onPointerDown:Fe=>{Fr||!Ue||(lr.current=new Date,rt(Mn.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(le(!0),_r.current={x:Fe.clientX,y:Fe.clientY}))},onPointerUp:()=>{var Fe,st,wt,pn;if(Ie||!Ue)return;_r.current=null;let Nn=Number(((Fe=nn.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jt=Number(((st=nn.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ts=new Date().getTime()-((wt=lr.current)==null?void 0:wt.getTime()),gn=Z==="x"?Nn:jt,Kn=Math.abs(gn)/ts;if(Math.abs(gn)>=p6||Kn>.11){rt(Mn.current),(pn=w.onDismiss)==null||pn.call(w,w),be(Z==="x"?Nn>0?"right":"left":jt>0?"down":"up"),Dn(),je(!0),ct(!1);return}le(!1),ue(null)},onPointerMove:Fe=>{var st,wt,pn,Nn;if(!_r.current||!Ue||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;let jt=Fe.clientY-_r.current.y,ts=Fe.clientX-_r.current.x,gn=(wt=t.swipeDirections)!=null?wt:y6(pe);!Z&&(Math.abs(ts)>1||Math.abs(jt)>1)&&ue(Math.abs(ts)>Math.abs(jt)?"x":"y");let Kn={x:0,y:0};Z==="y"?(gn.includes("top")||gn.includes("bottom"))&&(gn.includes("top")&&jt<0||gn.includes("bottom")&&jt>0)&&(Kn.y=jt):Z==="x"&&(gn.includes("left")||gn.includes("right"))&&(gn.includes("left")&&ts<0||gn.includes("right")&&ts>0)&&(Kn.x=ts),(Math.abs(Kn.x)>0||Math.abs(Kn.y)>0)&&ct(!0),(pn=nn.current)==null||pn.style.setProperty("--swipe-amount-x",`${Kn.x}px`),(Nn=nn.current)==null||Nn.style.setProperty("--swipe-amount-y",`${Kn.y}px`)}},Wn&&!w.jsx?ye.createElement("button",{"aria-label":ne,"data-disabled":Fr,"data-close-button":!0,onClick:Fr||!Ue?()=>{}:()=>{var Fe;Dn(),(Fe=w.onDismiss)==null||Fe.call(w,w)},className:Ps(H==null?void 0:H.closeButton,(s=w==null?void 0:w.classNames)==null?void 0:s.closeButton)},(i=K==null?void 0:K.close)!=null?i:t6):null,w.jsx||v.isValidElement(w.title)?w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title:ye.createElement(ye.Fragment,null,Qe||w.icon||w.promise?ye.createElement("div",{"data-icon":"",className:Ps(H==null?void 0:H.icon,(l=w==null?void 0:w.classNames)==null?void 0:l.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||Vr():null,w.type!=="loading"?w.icon||(K==null?void 0:K[Qe])||K3(Qe):null):null,ye.createElement("div",{"data-content":"",className:Ps(H==null?void 0:H.content,(c=w==null?void 0:w.classNames)==null?void 0:c.content)},ye.createElement("div",{"data-title":"",className:Ps(H==null?void 0:H.title,(d=w==null?void 0:w.classNames)==null?void 0:d.title)},typeof w.title=="function"?w.title():w.title),w.description?ye.createElement("div",{"data-description":"",className:Ps(F,Hn,H==null?void 0:H.description,(h=w==null?void 0:w.classNames)==null?void 0:h.description)},typeof w.description=="function"?w.description():w.description):null),v.isValidElement(w.cancel)?w.cancel:w.cancel&&cm(w.cancel)?ye.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||O,onClick:Fe=>{var st,wt;cm(w.cancel)&&Ue&&((wt=(st=w.cancel).onClick)==null||wt.call(st,Fe),Dn())},className:Ps(H==null?void 0:H.cancelButton,(p=w==null?void 0:w.classNames)==null?void 0:p.cancelButton)},w.cancel.label):null,v.isValidElement(w.action)?w.action:w.action&&cm(w.action)?ye.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||R,onClick:Fe=>{var st,wt;cm(w.action)&&((wt=(st=w.action).onClick)==null||wt.call(st,Fe),!Fe.defaultPrevented&&Dn())},className:Ps(H==null?void 0:H.actionButton,(g=w==null?void 0:w.classNames)==null?void 0:g.actionButton)},w.action.label):null))};function LN(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function x6(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,l=i?"--mobile-offset":"--offset",c=i?h6:d6;function d(h){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${l}-${h}`]=c:n[`${l}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):d(c)}),n}var q_=v.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:l,className:c,offset:d,mobileOffset:h,theme:p="light",richColors:g,duration:y,style:w,visibleToasts:S=u6,toastOptions:x,dir:T=LN(),gap:E=m6,loadingIcon:N,icons:P,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:$}=t,[B,A]=ye.useState([]),k=ye.useMemo(()=>Array.from(new Set([r].concat(B.filter(ie=>ie.position).map(ie=>ie.position)))),[B,r]),[j,O]=ye.useState([]),[R,V]=ye.useState(!1),[F,te]=ye.useState(!1),[pe,Q]=ye.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=ye.useRef(null),U=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=ye.useRef(null),K=ye.useRef(!1),ne=ye.useCallback(ie=>{A(Z=>{var ue;return(ue=Z.find(ge=>ge.id===ie.id))!=null&&ue.delete||Nr.dismiss(ie.id),Z.filter(({id:ge})=>ge!==ie.id)})},[]);return ye.useEffect(()=>Nr.subscribe(ie=>{if(ie.dismiss){A(Z=>Z.map(ue=>ue.id===ie.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{kP.flushSync(()=>{A(Z=>{let ue=Z.findIndex(ge=>ge.id===ie.id);return ue!==-1?[...Z.slice(0,ue),{...Z[ue],...ie},...Z.slice(ue+1)]:[ie,...Z]})})})}),[]),ye.useEffect(()=>{if(p!=="system"){Q(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:Z})=>{Q(Z?"dark":"light")})}catch{ie.addListener(({matches:ue})=>{try{Q(ue?"dark":"light")}catch(ge){console.error(ge)}})}},[p]),ye.useEffect(()=>{B.length<=1&&V(!1)},[B]),ye.useEffect(()=>{let ie=Z=>{var ue,ge;s.every(be=>Z[be]||Z.code===be)&&(V(!0),(ue=ee.current)==null||ue.focus()),Z.code==="Escape"&&(document.activeElement===ee.current||(ge=ee.current)!=null&&ge.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[s]),ye.useEffect(()=>{if(ee.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,K.current=!1)}},[ee.current]),ye.createElement("section",{ref:e,"aria-label":`${D} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((ie,Z)=>{var ue;let[ge,be]=ie.split("-");return B.length?ye.createElement("ol",{key:ie,dir:T==="auto"?LN():T,tabIndex:-1,ref:ee,className:c,"data-sonner-toaster":!0,"data-theme":pe,"data-y-position":ge,"data-lifted":R&&B.length>1&&!i,"data-x-position":be,style:{"--front-toast-height":`${((ue=j[0])==null?void 0:ue.height)||0}px`,"--width":`${f6}px`,"--gap":`${E}px`,...w,...x6(d,h)},onBlur:G=>{K.current&&!G.currentTarget.contains(G.relatedTarget)&&(K.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||K.current||(K.current=!0,H.current=G.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{F||V(!1)},onDragEnd:()=>V(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||te(!0)},onPointerUp:()=>te(!1)},B.filter(G=>!G.position&&Z===0||G.position===ie).map((G,ve)=>{var re,ae;return ye.createElement(v6,{key:G.id,icons:P,index:ve,toast:G,defaultRichColors:g,duration:(re=x==null?void 0:x.duration)!=null?re:y,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:S,closeButton:(ae=x==null?void 0:x.closeButton)!=null?ae:l,interacting:F,position:ie,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:ne,toasts:B.filter(ce=>ce.position==G.position),heights:j.filter(ce=>ce.position==G.position),setHeights:O,expandByDefault:i,gap:E,loadingIcon:N,expanded:R,pauseWhenPageIsHidden:$,swipeDirections:t.swipeDirections})})):null}))});const H_=({...t})=>{const{theme:e="system"}=G3();return o.jsx(q_,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var _6=zx[" useId ".trim().toString()]||(()=>{}),w6=0;function ps(t){const[e,n]=v.useState(_6());return jn(()=>{n(r=>r??String(w6++))},[t]),e?`radix-${e}`:""}const b6=["top","right","bottom","left"],la=Math.min,qr=Math.max,bp=Math.round,um=Math.floor,gi=t=>({x:t,y:t}),N6={left:"right",right:"left",bottom:"top",top:"bottom"},E6={start:"end",end:"start"};function M0(t,e,n){return qr(t,la(e,n))}function so(t,e){return typeof t=="function"?t(e):t}function io(t){return t.split("-")[0]}function vu(t){return t.split("-")[1]}function W_(t){return t==="x"?"y":"x"}function G_(t){return t==="y"?"height":"width"}function di(t){return["top","bottom"].includes(io(t))?"y":"x"}function K_(t){return W_(di(t))}function S6(t,e,n){n===void 0&&(n=!1);const r=vu(t),s=K_(t),i=G_(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=Np(l)),[l,Np(l)]}function T6(t){const e=Np(t);return[D0(t),e,D0(e)]}function D0(t){return t.replace(/start|end/g,e=>E6[e])}function C6(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:l;default:return[]}}function P6(t,e,n,r){const s=vu(t);let i=C6(io(t),n==="start",r);return s&&(i=i.map(l=>l+"-"+s),e&&(i=i.concat(i.map(D0)))),i}function Np(t){return t.replace(/left|right|bottom|top/g,e=>N6[e])}function I6(t){return{top:0,right:0,bottom:0,left:0,...t}}function EI(t){return typeof t!="number"?I6(t):{top:t,right:t,bottom:t,left:t}}function Ep(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function FN(t,e,n){let{reference:r,floating:s}=t;const i=di(e),l=K_(e),c=G_(l),d=io(e),h=i==="y",p=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,y=r[c]/2-s[c]/2;let w;switch(d){case"top":w={x:p,y:r.y-s.height};break;case"bottom":w={x:p,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:g};break;case"left":w={x:r.x-s.width,y:g};break;default:w={x:r.x,y:r.y}}switch(vu(e)){case"start":w[l]-=y*(n&&h?-1:1);break;case"end":w[l]+=y*(n&&h?-1:1);break}return w}const k6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:l}=n,c=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:g}=FN(h,r,d),y=r,w={},S=0;for(let x=0;x<c.length;x++){const{name:T,fn:E}=c[x],{x:N,y:P,data:D,reset:$}=await E({x:p,y:g,initialPlacement:r,placement:y,strategy:s,middlewareData:w,rects:h,platform:l,elements:{reference:t,floating:e}});p=N??p,g=P??g,w={...w,[T]:{...w[T],...D}},$&&S<=50&&(S++,typeof $=="object"&&($.placement&&(y=$.placement),$.rects&&(h=$.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):$.rects),{x:p,y:g}=FN(h,y,d)),x=-1)}return{x:p,y:g,placement:y,strategy:s,middlewareData:w}};async function xh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:l,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:y=!1,padding:w=0}=so(e,t),S=EI(w),T=c[y?g==="floating"?"reference":"floating":g],E=Ep(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:h,rootBoundary:p,strategy:d})),N=g==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),D=await(i.isElement==null?void 0:i.isElement(P))?await(i.getScale==null?void 0:i.getScale(P))||{x:1,y:1}:{x:1,y:1},$=Ep(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:N,offsetParent:P,strategy:d}):N);return{top:(E.top-$.top+S.top)/D.y,bottom:($.bottom-E.bottom+S.bottom)/D.y,left:(E.left-$.left+S.left)/D.x,right:($.right-E.right+S.right)/D.x}}const j6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:l,elements:c,middlewareData:d}=e,{element:h,padding:p=0}=so(t,e)||{};if(h==null)return{};const g=EI(p),y={x:n,y:r},w=K_(s),S=G_(w),x=await l.getDimensions(h),T=w==="y",E=T?"top":"left",N=T?"bottom":"right",P=T?"clientHeight":"clientWidth",D=i.reference[S]+i.reference[w]-y[w]-i.floating[S],$=y[w]-i.reference[w],B=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let A=B?B[P]:0;(!A||!await(l.isElement==null?void 0:l.isElement(B)))&&(A=c.floating[P]||i.floating[S]);const k=D/2-$/2,j=A/2-x[S]/2-1,O=la(g[E],j),R=la(g[N],j),V=O,F=A-x[S]-R,te=A/2-x[S]/2+k,pe=M0(V,te,F),Q=!d.arrow&&vu(s)!=null&&te!==pe&&i.reference[S]/2-(te<V?O:R)-x[S]/2<0,ee=Q?te<V?te-V:te-F:0;return{[w]:y[w]+ee,data:{[w]:pe,centerOffset:te-pe-ee,...Q&&{alignmentOffset:ee}},reset:Q}}}),A6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:l,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:x=!0,...T}=so(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=io(s),N=di(c),P=io(c)===c,D=await(d.isRTL==null?void 0:d.isRTL(h.floating)),$=y||(P||!x?[Np(c)]:T6(c)),B=S!=="none";!y&&B&&$.push(...P6(c,x,S,D));const A=[c,...$],k=await xh(e,T),j=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&j.push(k[E]),g){const te=S6(s,l,D);j.push(k[te[0]],k[te[1]])}if(O=[...O,{placement:s,overflows:j}],!j.every(te=>te<=0)){var R,V;const te=(((R=i.flip)==null?void 0:R.index)||0)+1,pe=A[te];if(pe&&(!(g==="alignment"?N!==di(pe):!1)||O.every(U=>U.overflows[0]>0&&di(U.placement)===N)))return{data:{index:te,overflows:O},reset:{placement:pe}};let Q=(V=O.filter(ee=>ee.overflows[0]<=0).sort((ee,U)=>ee.overflows[1]-U.overflows[1])[0])==null?void 0:V.placement;if(!Q)switch(w){case"bestFit":{var F;const ee=(F=O.filter(U=>{if(B){const H=di(U.placement);return H===N||H==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(H=>H>0).reduce((H,K)=>H+K,0)]).sort((U,H)=>U[1]-H[1])[0])==null?void 0:F[0];ee&&(Q=ee);break}case"initialPlacement":Q=c;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function VN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function zN(t){return b6.some(e=>t[e]>=0)}const R6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=so(t,e);switch(r){case"referenceHidden":{const i=await xh(e,{...s,elementContext:"reference"}),l=VN(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:zN(l)}}}case"escaped":{const i=await xh(e,{...s,altBoundary:!0}),l=VN(i,n.floating);return{data:{escapedOffsets:l,escaped:zN(l)}}}default:return{}}}}};async function M6(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=io(n),c=vu(n),d=di(n)==="y",h=["left","top"].includes(l)?-1:1,p=i&&d?-1:1,g=so(e,t);let{mainAxis:y,crossAxis:w,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof S=="number"&&(w=c==="end"?S*-1:S),d?{x:w*p,y:y*h}:{x:y*h,y:w*p}}const D6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:l,middlewareData:c}=e,d=await M6(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:l}}}}},O6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:c={fn:T=>{let{x:E,y:N}=T;return{x:E,y:N}}},...d}=so(t,e),h={x:n,y:r},p=await xh(e,d),g=di(io(s)),y=W_(g);let w=h[y],S=h[g];if(i){const T=y==="y"?"top":"left",E=y==="y"?"bottom":"right",N=w+p[T],P=w-p[E];w=M0(N,w,P)}if(l){const T=g==="y"?"top":"left",E=g==="y"?"bottom":"right",N=S+p[T],P=S-p[E];S=M0(N,S,P)}const x=c.fn({...e,[y]:w,[g]:S});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[y]:i,[g]:l}}}}}},L6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=so(t,e),p={x:n,y:r},g=di(s),y=W_(g);let w=p[y],S=p[g];const x=so(c,e),T=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const P=y==="y"?"height":"width",D=i.reference[y]-i.floating[P]+T.mainAxis,$=i.reference[y]+i.reference[P]-T.mainAxis;w<D?w=D:w>$&&(w=$)}if(h){var E,N;const P=y==="y"?"width":"height",D=["top","left"].includes(io(s)),$=i.reference[g]-i.floating[P]+(D&&((E=l.offset)==null?void 0:E[g])||0)+(D?0:T.crossAxis),B=i.reference[g]+i.reference[P]+(D?0:((N=l.offset)==null?void 0:N[g])||0)-(D?T.crossAxis:0);S<$?S=$:S>B&&(S=B)}return{[y]:w,[g]:S}}}},F6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:l,elements:c}=e,{apply:d=()=>{},...h}=so(t,e),p=await xh(e,h),g=io(s),y=vu(s),w=di(s)==="y",{width:S,height:x}=i.floating;let T,E;g==="top"||g==="bottom"?(T=g,E=y===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(E=g,T=y==="end"?"top":"bottom");const N=x-p.top-p.bottom,P=S-p.left-p.right,D=la(x-p[T],N),$=la(S-p[E],P),B=!e.middlewareData.shift;let A=D,k=$;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=P),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=N),B&&!y){const O=qr(p.left,0),R=qr(p.right,0),V=qr(p.top,0),F=qr(p.bottom,0);w?k=S-2*(O!==0||R!==0?O+R:qr(p.left,p.right)):A=x-2*(V!==0||F!==0?V+F:qr(p.top,p.bottom))}await d({...e,availableWidth:k,availableHeight:A});const j=await l.getDimensions(c.floating);return S!==j.width||x!==j.height?{reset:{rects:!0}}:{}}}};function xg(){return typeof window<"u"}function xu(t){return SI(t)?(t.nodeName||"").toLowerCase():"#document"}function Kr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Si(t){var e;return(e=(SI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function SI(t){return xg()?t instanceof Node||t instanceof Kr(t).Node:!1}function qs(t){return xg()?t instanceof Element||t instanceof Kr(t).Element:!1}function wi(t){return xg()?t instanceof HTMLElement||t instanceof Kr(t).HTMLElement:!1}function $N(t){return!xg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Kr(t).ShadowRoot}function Yh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Hs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function V6(t){return["table","td","th"].includes(xu(t))}function _g(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Z_(t){const e=Q_(),n=qs(t)?Hs(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function z6(t){let e=ca(t);for(;wi(e)&&!Zc(e);){if(Z_(e))return e;if(_g(e))return null;e=ca(e)}return null}function Q_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zc(t){return["html","body","#document"].includes(xu(t))}function Hs(t){return Kr(t).getComputedStyle(t)}function wg(t){return qs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ca(t){if(xu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$N(t)&&t.host||Si(t);return $N(e)?e.host:e}function TI(t){const e=ca(t);return Zc(e)?t.ownerDocument?t.ownerDocument.body:t.body:wi(e)&&Yh(e)?e:TI(e)}function _h(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=TI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),l=Kr(s);if(i){const c=O0(l);return e.concat(l,l.visualViewport||[],Yh(s)?s:[],c&&n?_h(c):[])}return e.concat(s,_h(s,[],n))}function O0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function CI(t){const e=Hs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=wi(t),i=s?t.offsetWidth:n,l=s?t.offsetHeight:r,c=bp(n)!==i||bp(r)!==l;return c&&(n=i,r=l),{width:n,height:r,$:c}}function Y_(t){return qs(t)?t:t.contextElement}function Tc(t){const e=Y_(t);if(!wi(e))return gi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=CI(e);let l=(i?bp(n.width):n.width)/r,c=(i?bp(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const $6=gi(0);function PI(t){const e=Kr(t);return!Q_()||!e.visualViewport?$6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function B6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Kr(t)?!1:e}function sl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Y_(t);let l=gi(1);e&&(r?qs(r)&&(l=Tc(r)):l=Tc(t));const c=B6(i,n,r)?PI(i):gi(0);let d=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,p=s.width/l.x,g=s.height/l.y;if(i){const y=Kr(i),w=r&&qs(r)?Kr(r):r;let S=y,x=O0(S);for(;x&&r&&w!==S;){const T=Tc(x),E=x.getBoundingClientRect(),N=Hs(x),P=E.left+(x.clientLeft+parseFloat(N.paddingLeft))*T.x,D=E.top+(x.clientTop+parseFloat(N.paddingTop))*T.y;d*=T.x,h*=T.y,p*=T.x,g*=T.y,d+=P,h+=D,S=Kr(x),x=O0(S)}}return Ep({width:p,height:g,x:d,y:h})}function X_(t,e){const n=wg(t).scrollLeft;return e?e.left+n:sl(Si(t)).left+n}function II(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:X_(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function U6(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",l=Si(r),c=e?_g(e.floating):!1;if(r===l||c&&i)return n;let d={scrollLeft:0,scrollTop:0},h=gi(1);const p=gi(0),g=wi(r);if((g||!g&&!i)&&((xu(r)!=="body"||Yh(l))&&(d=wg(r)),wi(r))){const w=sl(r);h=Tc(r),p.x=w.x+r.clientLeft,p.y=w.y+r.clientTop}const y=l&&!g&&!i?II(l,d,!0):gi(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+p.x+y.x,y:n.y*h.y-d.scrollTop*h.y+p.y+y.y}}function q6(t){return Array.from(t.getClientRects())}function H6(t){const e=Si(t),n=wg(t),r=t.ownerDocument.body,s=qr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=qr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+X_(t);const c=-n.scrollTop;return Hs(r).direction==="rtl"&&(l+=qr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:l,y:c}}function W6(t,e){const n=Kr(t),r=Si(t),s=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,c=0,d=0;if(s){i=s.width,l=s.height;const h=Q_();(!h||h&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:i,height:l,x:c,y:d}}function G6(t,e){const n=sl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=wi(t)?Tc(t):gi(1),l=t.clientWidth*i.x,c=t.clientHeight*i.y,d=s*i.x,h=r*i.y;return{width:l,height:c,x:d,y:h}}function BN(t,e,n){let r;if(e==="viewport")r=W6(t,n);else if(e==="document")r=H6(Si(t));else if(qs(e))r=G6(e,n);else{const s=PI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ep(r)}function kI(t,e){const n=ca(t);return n===e||!qs(n)||Zc(n)?!1:Hs(n).position==="fixed"||kI(n,e)}function K6(t,e){const n=e.get(t);if(n)return n;let r=_h(t,[],!1).filter(c=>qs(c)&&xu(c)!=="body"),s=null;const i=Hs(t).position==="fixed";let l=i?ca(t):t;for(;qs(l)&&!Zc(l);){const c=Hs(l),d=Z_(l);!d&&c.position==="fixed"&&(s=null),(i?!d&&!s:!d&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Yh(l)&&!d&&kI(t,l))?r=r.filter(p=>p!==l):s=c,l=ca(l)}return e.set(t,r),r}function Z6(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?_g(e)?[]:K6(e,this._c):[].concat(n),r],c=l[0],d=l.reduce((h,p)=>{const g=BN(e,p,s);return h.top=qr(g.top,h.top),h.right=la(g.right,h.right),h.bottom=la(g.bottom,h.bottom),h.left=qr(g.left,h.left),h},BN(e,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Q6(t){const{width:e,height:n}=CI(t);return{width:e,height:n}}function Y6(t,e,n){const r=wi(e),s=Si(e),i=n==="fixed",l=sl(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const d=gi(0);function h(){d.x=X_(s)}if(r||!r&&!i)if((xu(e)!=="body"||Yh(s))&&(c=wg(e)),r){const w=sl(e,!0,i,e);d.x=w.x+e.clientLeft,d.y=w.y+e.clientTop}else s&&h();i&&!r&&s&&h();const p=s&&!r&&!i?II(s,c):gi(0),g=l.left+c.scrollLeft-d.x-p.x,y=l.top+c.scrollTop-d.y-p.y;return{x:g,y,width:l.width,height:l.height}}function cv(t){return Hs(t).position==="static"}function UN(t,e){if(!wi(t)||Hs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Si(t)===n&&(n=n.ownerDocument.body),n}function jI(t,e){const n=Kr(t);if(_g(t))return n;if(!wi(t)){let s=ca(t);for(;s&&!Zc(s);){if(qs(s)&&!cv(s))return s;s=ca(s)}return n}let r=UN(t,e);for(;r&&V6(r)&&cv(r);)r=UN(r,e);return r&&Zc(r)&&cv(r)&&!Z_(r)?n:r||z6(t)||n}const X6=async function(t){const e=this.getOffsetParent||jI,n=this.getDimensions,r=await n(t.floating);return{reference:Y6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function J6(t){return Hs(t).direction==="rtl"}const eF={convertOffsetParentRelativeRectToViewportRelativeRect:U6,getDocumentElement:Si,getClippingRect:Z6,getOffsetParent:jI,getElementRects:X6,getClientRects:q6,getDimensions:Q6,getScale:Tc,isElement:qs,isRTL:J6};function AI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function tF(t,e){let n=null,r;const s=Si(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const h=t.getBoundingClientRect(),{left:p,top:g,width:y,height:w}=h;if(c||e(),!y||!w)return;const S=um(g),x=um(s.clientWidth-(p+y)),T=um(s.clientHeight-(g+w)),E=um(p),P={rootMargin:-S+"px "+-x+"px "+-T+"px "+-E+"px",threshold:qr(0,la(1,d))||1};let D=!0;function $(B){const A=B[0].intersectionRatio;if(A!==d){if(!D)return l();A?l(!1,A):r=setTimeout(()=>{l(!1,1e-7)},1e3)}A===1&&!AI(h,t.getBoundingClientRect())&&l(),D=!1}try{n=new IntersectionObserver($,{...P,root:s.ownerDocument})}catch{n=new IntersectionObserver($,P)}n.observe(t)}return l(!0),i}function nF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=Y_(t),p=s||i?[...h?_h(h):[],..._h(e)]:[];p.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const g=h&&c?tF(h,n):null;let y=-1,w=null;l&&(w=new ResizeObserver(E=>{let[N]=E;N&&N.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var P;(P=w)==null||P.observe(e)})),n()}),h&&!d&&w.observe(h),w.observe(e));let S,x=d?sl(t):null;d&&T();function T(){const E=sl(t);x&&!AI(x,E)&&n(),x=E,S=requestAnimationFrame(T)}return n(),()=>{var E;p.forEach(N=>{s&&N.removeEventListener("scroll",n),i&&N.removeEventListener("resize",n)}),g==null||g(),(E=w)==null||E.disconnect(),w=null,d&&cancelAnimationFrame(S)}}const rF=D6,sF=O6,iF=A6,oF=F6,aF=R6,qN=j6,lF=L6,cF=(t,e,n)=>{const r=new Map,s={platform:eF,...n},i={...s.platform,_c:r};return k6(t,e,{...s,platform:i})};var uF=typeof document<"u",dF=function(){},Lm=uF?v.useLayoutEffect:dF;function Sp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Sp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Sp(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function RI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function HN(t,e){const n=RI(t);return Math.round(e*n)/n}function uv(t){const e=v.useRef(t);return Lm(()=>{e.current=t}),e}function hF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[p,g]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,w]=v.useState(r);Sp(y,r)||w(r);const[S,x]=v.useState(null),[T,E]=v.useState(null),N=v.useCallback(U=>{U!==B.current&&(B.current=U,x(U))},[]),P=v.useCallback(U=>{U!==A.current&&(A.current=U,E(U))},[]),D=i||S,$=l||T,B=v.useRef(null),A=v.useRef(null),k=v.useRef(p),j=d!=null,O=uv(d),R=uv(s),V=uv(h),F=v.useCallback(()=>{if(!B.current||!A.current)return;const U={placement:e,strategy:n,middleware:y};R.current&&(U.platform=R.current),cF(B.current,A.current,U).then(H=>{const K={...H,isPositioned:V.current!==!1};te.current&&!Sp(k.current,K)&&(k.current=K,bl.flushSync(()=>{g(K)}))})},[y,e,n,R,V]);Lm(()=>{h===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,g(U=>({...U,isPositioned:!1})))},[h]);const te=v.useRef(!1);Lm(()=>(te.current=!0,()=>{te.current=!1}),[]),Lm(()=>{if(D&&(B.current=D),$&&(A.current=$),D&&$){if(O.current)return O.current(D,$,F);F()}},[D,$,F,O,j]);const pe=v.useMemo(()=>({reference:B,floating:A,setReference:N,setFloating:P}),[N,P]),Q=v.useMemo(()=>({reference:D,floating:$}),[D,$]),ee=v.useMemo(()=>{const U={position:n,left:0,top:0};if(!Q.floating)return U;const H=HN(Q.floating,p.x),K=HN(Q.floating,p.y);return c?{...U,transform:"translate("+H+"px, "+K+"px)",...RI(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:K}},[n,c,Q.floating,p.x,p.y]);return v.useMemo(()=>({...p,update:F,refs:pe,elements:Q,floatingStyles:ee}),[p,F,pe,Q,ee])}const fF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?qN({element:r.current,padding:s}).fn(n):{}:r?qN({element:r,padding:s}).fn(n):{}}}},mF=(t,e)=>({...rF(t),options:[t,e]}),pF=(t,e)=>({...sF(t),options:[t,e]}),gF=(t,e)=>({...lF(t),options:[t,e]}),yF=(t,e)=>({...iF(t),options:[t,e]}),vF=(t,e)=>({...oF(t),options:[t,e]}),xF=(t,e)=>({...aF(t),options:[t,e]}),_F=(t,e)=>({...fF(t),options:[t,e]});var wF="Arrow",MI=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(De.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});MI.displayName=wF;var bF=MI;function J_(t){const[e,n]=v.useState(void 0);return jn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,c;if("borderBoxSize"in i){const d=i.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,c=h.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ew="Popper",[DI,_u]=ar(ew),[NF,OI]=DI(ew),LI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return o.jsx(NF,{scope:e,anchor:r,onAnchorChange:s,children:n})};LI.displayName=ew;var FI="PopperAnchor",VI=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=OI(FI,n),l=v.useRef(null),c=ot(e,l);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:o.jsx(De.div,{...s,ref:c})});VI.displayName=FI;var tw="PopperContent",[EF,SF]=DI(tw),zI=v.forwardRef((t,e)=>{var G,ve,re,ae,ce,le;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:w="optimized",onPlaced:S,...x}=t,T=OI(tw,n),[E,N]=v.useState(null),P=ot(e,Ie=>N(Ie)),[D,$]=v.useState(null),B=J_(D),A=(B==null?void 0:B.width)??0,k=(B==null?void 0:B.height)??0,j=r+(i!=="center"?"-"+i:""),O=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},R=Array.isArray(h)?h:[h],V=R.length>0,F={padding:O,boundary:R.filter(CF),altBoundary:V},{refs:te,floatingStyles:pe,placement:Q,isPositioned:ee,middlewareData:U}=hF({strategy:"fixed",placement:j,whileElementsMounted:(...Ie)=>nF(...Ie,{animationFrame:w==="always"}),elements:{reference:T.anchor},middleware:[mF({mainAxis:s+k,alignmentAxis:l}),d&&pF({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?gF():void 0,...F}),d&&yF({...F}),vF({...F,apply:({elements:Ie,rects:je,availableWidth:et,availableHeight:ct})=>{const{width:vt,height:rt}=je.reference,It=Ie.floating.style;It.setProperty("--radix-popper-available-width",`${et}px`),It.setProperty("--radix-popper-available-height",`${ct}px`),It.setProperty("--radix-popper-anchor-width",`${vt}px`),It.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),D&&_F({element:D,padding:c}),PF({arrowWidth:A,arrowHeight:k}),y&&xF({strategy:"referenceHidden",...F})]}),[H,K]=UI(Q),ne=Rr(S);jn(()=>{ee&&(ne==null||ne())},[ee,ne]);const ie=(G=U.arrow)==null?void 0:G.x,Z=(ve=U.arrow)==null?void 0:ve.y,ue=((re=U.arrow)==null?void 0:re.centerOffset)!==0,[ge,be]=v.useState();return jn(()=>{E&&be(window.getComputedStyle(E).zIndex)},[E]),o.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:ee?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(ae=U.transformOrigin)==null?void 0:ae.x,(ce=U.transformOrigin)==null?void 0:ce.y].join(" "),...((le=U.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(EF,{scope:n,placedSide:H,onArrowChange:$,arrowX:ie,arrowY:Z,shouldHideArrow:ue,children:o.jsx(De.div,{"data-side":H,"data-align":K,...x,ref:P,style:{...x.style,animation:ee?void 0:"none"}})})})});zI.displayName=tw;var $I="PopperArrow",TF={top:"bottom",right:"left",bottom:"top",left:"right"},BI=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=SF($I,r),l=TF[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(bF,{...s,ref:n,style:{...s.style,display:"block"}})})});BI.displayName=$I;function CF(t){return t!==null}var PF=t=>({name:"transformOrigin",options:t,fn(e){var T,E,N;const{placement:n,rects:r,middlewareData:s}=e,l=((T=s.arrow)==null?void 0:T.centerOffset)!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[h,p]=UI(n),g={start:"0%",center:"50%",end:"100%"}[p],y=(((E=s.arrow)==null?void 0:E.x)??0)+c/2,w=(((N=s.arrow)==null?void 0:N.y)??0)+d/2;let S="",x="";return h==="bottom"?(S=l?g:`${y}px`,x=`${-d}px`):h==="top"?(S=l?g:`${y}px`,x=`${r.floating.height+d}px`):h==="right"?(S=`${-d}px`,x=l?g:`${w}px`):h==="left"&&(S=`${r.floating.width+d}px`,x=l?g:`${w}px`),{data:{x:S,y:x}}}});function UI(t){const[e,n="center"]=t.split("-");return[e,n]}var qI=LI,nw=VI,rw=zI,sw=BI,[bg,gQ]=ar("Tooltip",[_u]),iw=_u(),HI="TooltipProvider",IF=700,WN="tooltip.open",[kF,WI]=bg(HI),GI=t=>{const{__scopeTooltip:e,delayDuration:n=IF,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,l=v.useRef(!0),c=v.useRef(!1),d=v.useRef(0);return v.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),o.jsx(kF,{scope:e,isOpenDelayedRef:l,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:i})};GI.displayName=HI;var KI="Tooltip",[yQ,Ng]=bg(KI),L0="TooltipTrigger",jF=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ng(L0,n),i=WI(L0,n),l=iw(n),c=v.useRef(null),d=ot(e,c,s.onTriggerChange),h=v.useRef(!1),p=v.useRef(!1),g=v.useCallback(()=>h.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),o.jsx(nw,{asChild:!0,...l,children:o.jsx(De.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:d,onPointerMove:Ne(t.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ne(t.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:Ne(t.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ne(t.onFocus,()=>{h.current||s.onOpen()}),onBlur:Ne(t.onBlur,s.onClose),onClick:Ne(t.onClick,s.onClose)})})});jF.displayName=L0;var AF="TooltipPortal",[vQ,RF]=bg(AF,{forceMount:void 0}),Qc="TooltipContent",ZI=v.forwardRef((t,e)=>{const n=RF(Qc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,l=Ng(Qc,t.__scopeTooltip);return o.jsx(Jr,{present:r||l.open,children:l.disableHoverableContent?o.jsx(QI,{side:s,...i,ref:e}):o.jsx(MF,{side:s,...i,ref:e})})}),MF=v.forwardRef((t,e)=>{const n=Ng(Qc,t.__scopeTooltip),r=WI(Qc,t.__scopeTooltip),s=v.useRef(null),i=ot(e,s),[l,c]=v.useState(null),{trigger:d,onClose:h}=n,p=s.current,{onPointerInTransitChange:g}=r,y=v.useCallback(()=>{c(null),g(!1)},[g]),w=v.useCallback((S,x)=>{const T=S.currentTarget,E={x:S.clientX,y:S.clientY},N=VF(E,T.getBoundingClientRect()),P=zF(E,N),D=$F(x.getBoundingClientRect()),$=UF([...P,...D]);c($),g(!0)},[g]);return v.useEffect(()=>()=>y(),[y]),v.useEffect(()=>{if(d&&p){const S=T=>w(T,p),x=T=>w(T,d);return d.addEventListener("pointerleave",S),p.addEventListener("pointerleave",x),()=>{d.removeEventListener("pointerleave",S),p.removeEventListener("pointerleave",x)}}},[d,p,w,y]),v.useEffect(()=>{if(l){const S=x=>{const T=x.target,E={x:x.clientX,y:x.clientY},N=(d==null?void 0:d.contains(T))||(p==null?void 0:p.contains(T)),P=!BF(E,l);N?y():P&&(y(),h())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[d,p,l,h,y]),o.jsx(QI,{...t,ref:i})}),[DF,OF]=bg(KI,{isInside:!1}),LF=HL("TooltipContent"),QI=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...c}=t,d=Ng(Qc,n),h=iw(n),{onClose:p}=d;return v.useEffect(()=>(document.addEventListener(WN,p),()=>document.removeEventListener(WN,p)),[p]),v.useEffect(()=>{if(d.trigger){const g=y=>{const w=y.target;w!=null&&w.contains(d.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,p]),o.jsx(mu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:o.jsxs(rw,{"data-state":d.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(LF,{children:r}),o.jsx(DF,{scope:n,isInside:!0,children:o.jsx(f5,{id:d.contentId,role:"tooltip",children:s||r})})]})})});ZI.displayName=Qc;var YI="TooltipArrow",FF=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=iw(n);return OF(YI,n).isInside?null:o.jsx(sw,{...s,...r,ref:e})});FF.displayName=YI;function VF(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function zF(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function $F(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function BF(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const c=e[i],d=e[l],h=c.x,p=c.y,g=d.x,y=d.y;p>r!=y>r&&n<(g-h)*(r-p)/(y-p)+h&&(s=!s)}return s}function UF(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),qF(e)}function qF(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],l=e[e.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var HF=GI,XI=ZI;const WF=HF,GF=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(XI,{ref:r,sideOffset:e,className:Me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));GF.displayName=XI.displayName;var Eg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sg=typeof window>"u"||"Deno"in globalThis;function js(){}function KF(t,e){return typeof t=="function"?t(e):t}function ZF(t){return typeof t=="number"&&t>=0&&t!==1/0}function QF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function F0(t,e){return typeof t=="function"?t(e):t}function YF(t,e){return typeof t=="function"?t(e):t}function GN(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:l,stale:c}=t;if(l){if(r){if(e.queryHash!==ow(l,e.options))return!1}else if(!bh(e.queryKey,l))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||i&&!i(e))}function KN(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(wh(e.options.mutationKey)!==wh(i))return!1}else if(!bh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function ow(t,e){return((e==null?void 0:e.queryKeyHashFn)||wh)(t)}function wh(t){return JSON.stringify(t,(e,n)=>V0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function bh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>bh(t[n],e[n])):!1}function JI(t,e){if(t===e)return t;const n=ZN(t)&&ZN(e);if(n||V0(t)&&V0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),l=i.length,c=n?[]:{},d=new Set(r);let h=0;for(let p=0;p<l;p++){const g=n?p:i[p];(!n&&d.has(g)||n)&&t[g]===void 0&&e[g]===void 0?(c[g]=void 0,h++):(c[g]=JI(t[g],e[g]),c[g]===t[g]&&t[g]!==void 0&&h++)}return s===l&&h===s?t:c}return e}function ZN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function V0(t){if(!QN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!QN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function QN(t){return Object.prototype.toString.call(t)==="[object Object]"}function XF(t){return new Promise(e=>{setTimeout(e,t)})}function JF(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?JI(t,e):e}function eV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function tV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var aw=Symbol();function ek(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===aw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var $a,Oo,Mc,uT,nV=(uT=class extends Eg{constructor(){super();_t(this,$a);_t(this,Oo);_t(this,Mc);Xe(this,Mc,e=>{if(!Sg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){de(this,Oo)||this.setEventListener(de(this,Mc))}onUnsubscribe(){var e;this.hasListeners()||((e=de(this,Oo))==null||e.call(this),Xe(this,Oo,void 0))}setEventListener(e){var n;Xe(this,Mc,e),(n=de(this,Oo))==null||n.call(this),Xe(this,Oo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){de(this,$a)!==e&&(Xe(this,$a,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof de(this,$a)=="boolean"?de(this,$a):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$a=new WeakMap,Oo=new WeakMap,Mc=new WeakMap,uT),tk=new nV,Dc,Lo,Oc,dT,rV=(dT=class extends Eg{constructor(){super();_t(this,Dc,!0);_t(this,Lo);_t(this,Oc);Xe(this,Oc,e=>{if(!Sg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){de(this,Lo)||this.setEventListener(de(this,Oc))}onUnsubscribe(){var e;this.hasListeners()||((e=de(this,Lo))==null||e.call(this),Xe(this,Lo,void 0))}setEventListener(e){var n;Xe(this,Oc,e),(n=de(this,Lo))==null||n.call(this),Xe(this,Lo,e(this.setOnline.bind(this)))}setOnline(e){de(this,Dc)!==e&&(Xe(this,Dc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return de(this,Dc)}},Dc=new WeakMap,Lo=new WeakMap,Oc=new WeakMap,dT),Tp=new rV;function sV(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function iV(t){return Math.min(1e3*2**t,3e4)}function nk(t){return(t??"online")==="online"?Tp.isOnline():!0}var rk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function dv(t){return t instanceof rk}function sk(t){let e=!1,n=0,r=!1,s;const i=sV(),l=x=>{var T;r||(y(new rk(x)),(T=t.abort)==null||T.call(t))},c=()=>{e=!0},d=()=>{e=!1},h=()=>tk.isFocused()&&(t.networkMode==="always"||Tp.isOnline())&&t.canRun(),p=()=>nk(t.networkMode)&&t.canRun(),g=x=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,x),s==null||s(),i.resolve(x))},y=x=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,x),s==null||s(),i.reject(x))},w=()=>new Promise(x=>{var T;s=E=>{(r||h())&&x(E)},(T=t.onPause)==null||T.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),S=()=>{if(r)return;let x;const T=n===0?t.initialPromise:void 0;try{x=T??t.fn()}catch(E){x=Promise.reject(E)}Promise.resolve(x).then(g).catch(E=>{var B;if(r)return;const N=t.retry??(Sg?0:3),P=t.retryDelay??iV,D=typeof P=="function"?P(n,E):P,$=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,E);if(e||!$){y(E);return}n++,(B=t.onFail)==null||B.call(t,n,E),XF(D).then(()=>h()?void 0:w()).then(()=>{e?y(E):S()})})};return{promise:i,cancel:l,continue:()=>(s==null||s(),i),cancelRetry:c,continueRetry:d,canStart:p,start:()=>(p()?S():w().then(S),i)}}var oV=t=>setTimeout(t,0);function aV(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=oV;const i=c=>{e?t.push(c):s(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var mr=aV(),Ba,hT,ik=(hT=class{constructor(){_t(this,Ba)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ZF(this.gcTime)&&Xe(this,Ba,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Sg?1/0:5*60*1e3))}clearGcTimeout(){de(this,Ba)&&(clearTimeout(de(this,Ba)),Xe(this,Ba,void 0))}},Ba=new WeakMap,hT),Lc,Ua,us,qa,Jn,zh,Ha,As,Fi,fT,lV=(fT=class extends ik{constructor(n){super();_t(this,As);_t(this,Lc);_t(this,Ua);_t(this,us);_t(this,qa);_t(this,Jn);_t(this,zh);_t(this,Ha);Xe(this,Ha,!1),Xe(this,zh,n.defaultOptions),this.setOptions(n.options),this.observers=[],Xe(this,qa,n.client),Xe(this,us,de(this,qa).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Xe(this,Lc,uV(this.options)),this.state=n.state??de(this,Lc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=de(this,Jn))==null?void 0:n.promise}setOptions(n){this.options={...de(this,zh),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&de(this,us).remove(this)}setData(n,r){const s=JF(this.state.data,n,this.options);return Zn(this,As,Fi).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Zn(this,As,Fi).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=de(this,Jn))==null?void 0:s.promise;return(i=de(this,Jn))==null||i.cancel(n),r?r.then(js).catch(js):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(de(this,Lc))}isActive(){return this.observers.some(n=>YF(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===aw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>F0(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!QF(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=de(this,Jn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=de(this,Jn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),de(this,us).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(de(this,Jn)&&(de(this,Ha)?de(this,Jn).cancel({revert:!0}):de(this,Jn).cancelRetry()),this.scheduleGc()),de(this,us).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zn(this,As,Fi).call(this,{type:"invalidate"})}fetch(n,r){var p,g,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(de(this,Jn))return de(this,Jn).continueRetry(),de(this,Jn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const w=this.observers.find(S=>S.options.queryFn);w&&this.setOptions(w.options)}const s=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(Xe(this,Ha,!0),s.signal)})},l=()=>{const w=ek(this.options,r),x=(()=>{const T={client:de(this,qa),queryKey:this.queryKey,meta:this.meta};return i(T),T})();return Xe(this,Ha,!1),this.options.persister?this.options.persister(w,x,this):w(x)},d=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:de(this,qa),state:this.state,fetchFn:l};return i(w),w})();(p=this.options.behavior)==null||p.onFetch(d,this),Xe(this,Ua,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=d.fetchOptions)==null?void 0:g.meta))&&Zn(this,As,Fi).call(this,{type:"fetch",meta:(y=d.fetchOptions)==null?void 0:y.meta});const h=w=>{var S,x,T,E;dv(w)&&w.silent||Zn(this,As,Fi).call(this,{type:"error",error:w}),dv(w)||((x=(S=de(this,us).config).onError)==null||x.call(S,w,this),(E=(T=de(this,us).config).onSettled)==null||E.call(T,this.state.data,w,this)),this.scheduleGc()};return Xe(this,Jn,sk({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,abort:s.abort.bind(s),onSuccess:w=>{var S,x,T,E;if(w===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(N){h(N);return}(x=(S=de(this,us).config).onSuccess)==null||x.call(S,w,this),(E=(T=de(this,us).config).onSettled)==null||E.call(T,w,this.state.error,this),this.scheduleGc()},onError:h,onFail:(w,S)=>{Zn(this,As,Fi).call(this,{type:"failed",failureCount:w,error:S})},onPause:()=>{Zn(this,As,Fi).call(this,{type:"pause"})},onContinue:()=>{Zn(this,As,Fi).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),de(this,Jn).start()}},Lc=new WeakMap,Ua=new WeakMap,us=new WeakMap,qa=new WeakMap,Jn=new WeakMap,zh=new WeakMap,Ha=new WeakMap,As=new WeakSet,Fi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...cV(s.data,this.options),fetchMeta:n.meta??null};case"success":return Xe(this,Ua,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return dv(i)&&i.revert&&de(this,Ua)?{...de(this,Ua),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),mr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),de(this,us).notify({query:this,type:"updated",action:n})})},fT);function cV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function uV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ii,mT,dV=(mT=class extends Eg{constructor(e={}){super();_t(this,ii);this.config=e,Xe(this,ii,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??ow(s,n);let l=this.get(i);return l||(l=new lV({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){de(this,ii).has(e.queryHash)||(de(this,ii).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=de(this,ii).get(e.queryHash);n&&(e.destroy(),n===e&&de(this,ii).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){mr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return de(this,ii).get(e)}getAll(){return[...de(this,ii).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>GN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>GN(e,r)):n}notify(e){mr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){mr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){mr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ii=new WeakMap,mT),oi,hr,Wa,ai,So,pT,hV=(pT=class extends ik{constructor(n){super();_t(this,ai);_t(this,oi);_t(this,hr);_t(this,Wa);this.mutationId=n.mutationId,Xe(this,hr,n.mutationCache),Xe(this,oi,[]),this.state=n.state||fV(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){de(this,oi).includes(n)||(de(this,oi).push(n),this.clearGcTimeout(),de(this,hr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Xe(this,oi,de(this,oi).filter(r=>r!==n)),this.scheduleGc(),de(this,hr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){de(this,oi).length||(this.state.status==="pending"?this.scheduleGc():de(this,hr).remove(this))}continue(){var n;return((n=de(this,Wa))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var l,c,d,h,p,g,y,w,S,x,T,E,N,P,D,$,B,A,k,j;const r=()=>{Zn(this,ai,So).call(this,{type:"continue"})};Xe(this,Wa,sk({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(O,R)=>{Zn(this,ai,So).call(this,{type:"failed",failureCount:O,error:R})},onPause:()=>{Zn(this,ai,So).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>de(this,hr).canRun(this)}));const s=this.state.status==="pending",i=!de(this,Wa).canStart();try{if(s)r();else{Zn(this,ai,So).call(this,{type:"pending",variables:n,isPaused:i}),await((c=(l=de(this,hr).config).onMutate)==null?void 0:c.call(l,n,this));const R=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,n));R!==this.state.context&&Zn(this,ai,So).call(this,{type:"pending",context:R,variables:n,isPaused:i})}const O=await de(this,Wa).start();return await((g=(p=de(this,hr).config).onSuccess)==null?void 0:g.call(p,O,n,this.state.context,this)),await((w=(y=this.options).onSuccess)==null?void 0:w.call(y,O,n,this.state.context)),await((x=(S=de(this,hr).config).onSettled)==null?void 0:x.call(S,O,null,this.state.variables,this.state.context,this)),await((E=(T=this.options).onSettled)==null?void 0:E.call(T,O,null,n,this.state.context)),Zn(this,ai,So).call(this,{type:"success",data:O}),O}catch(O){try{throw await((P=(N=de(this,hr).config).onError)==null?void 0:P.call(N,O,n,this.state.context,this)),await(($=(D=this.options).onError)==null?void 0:$.call(D,O,n,this.state.context)),await((A=(B=de(this,hr).config).onSettled)==null?void 0:A.call(B,void 0,O,this.state.variables,this.state.context,this)),await((j=(k=this.options).onSettled)==null?void 0:j.call(k,void 0,O,n,this.state.context)),O}finally{Zn(this,ai,So).call(this,{type:"error",error:O})}}finally{de(this,hr).runNext(this)}}},oi=new WeakMap,hr=new WeakMap,Wa=new WeakMap,ai=new WeakSet,So=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),mr.batch(()=>{de(this,oi).forEach(s=>{s.onMutationUpdate(n)}),de(this,hr).notify({mutation:this,type:"updated",action:n})})},pT);function fV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $i,Rs,$h,gT,mV=(gT=class extends Eg{constructor(e={}){super();_t(this,$i);_t(this,Rs);_t(this,$h);this.config=e,Xe(this,$i,new Set),Xe(this,Rs,new Map),Xe(this,$h,0)}build(e,n,r){const s=new hV({mutationCache:this,mutationId:++Uf(this,$h)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){de(this,$i).add(e);const n=dm(e);if(typeof n=="string"){const r=de(this,Rs).get(n);r?r.push(e):de(this,Rs).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(de(this,$i).delete(e)){const n=dm(e);if(typeof n=="string"){const r=de(this,Rs).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&de(this,Rs).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=dm(e);if(typeof n=="string"){const r=de(this,Rs).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=dm(e);if(typeof n=="string"){const s=(r=de(this,Rs).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mr.batch(()=>{de(this,$i).forEach(e=>{this.notify({type:"removed",mutation:e})}),de(this,$i).clear(),de(this,Rs).clear()})}getAll(){return Array.from(de(this,$i))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>KN(n,r))}findAll(e={}){return this.getAll().filter(n=>KN(e,n))}notify(e){mr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return mr.batch(()=>Promise.all(e.map(n=>n.continue().catch(js))))}},$i=new WeakMap,Rs=new WeakMap,$h=new WeakMap,gT);function dm(t){var e;return(e=t.options.scope)==null?void 0:e.id}function YN(t){return{onFetch:(e,n)=>{var p,g,y,w,S;const r=e.options,s=(y=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,i=((w=e.state.data)==null?void 0:w.pages)||[],l=((S=e.state.data)==null?void 0:S.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let x=!1;const T=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},E=ek(e.options,e.fetchOptions),N=async(P,D,$)=>{if(x)return Promise.reject();if(D==null&&P.pages.length)return Promise.resolve(P);const A=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:D,direction:$?"backward":"forward",meta:e.options.meta};return T(R),R})(),k=await E(A),{maxPages:j}=e.options,O=$?tV:eV;return{pages:O(P.pages,k,j),pageParams:O(P.pageParams,D,j)}};if(s&&i.length){const P=s==="backward",D=P?pV:XN,$={pages:i,pageParams:l},B=D(r,$);c=await N($,B,P)}else{const P=t??i.length;do{const D=d===0?l[0]??r.initialPageParam:XN(r,c);if(d>0&&D==null)break;c=await N(c,D),d++}while(d<P)}return c};e.options.persister?e.fetchFn=()=>{var x,T;return(T=(x=e.options).persister)==null?void 0:T.call(x,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function XN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function pV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var en,Fo,Vo,Fc,Vc,zo,zc,$c,yT,gV=(yT=class{constructor(t={}){_t(this,en);_t(this,Fo);_t(this,Vo);_t(this,Fc);_t(this,Vc);_t(this,zo);_t(this,zc);_t(this,$c);Xe(this,en,t.queryCache||new dV),Xe(this,Fo,t.mutationCache||new mV),Xe(this,Vo,t.defaultOptions||{}),Xe(this,Fc,new Map),Xe(this,Vc,new Map),Xe(this,zo,0)}mount(){Uf(this,zo)._++,de(this,zo)===1&&(Xe(this,zc,tk.subscribe(async t=>{t&&(await this.resumePausedMutations(),de(this,en).onFocus())})),Xe(this,$c,Tp.subscribe(async t=>{t&&(await this.resumePausedMutations(),de(this,en).onOnline())})))}unmount(){var t,e;Uf(this,zo)._--,de(this,zo)===0&&((t=de(this,zc))==null||t.call(this),Xe(this,zc,void 0),(e=de(this,$c))==null||e.call(this),Xe(this,$c,void 0))}isFetching(t){return de(this,en).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return de(this,Fo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=de(this,en).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=de(this,en).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(F0(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return de(this,en).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=de(this,en).get(r.queryHash),i=s==null?void 0:s.state.data,l=KF(e,i);if(l!==void 0)return de(this,en).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return mr.batch(()=>de(this,en).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=de(this,en).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=de(this,en);mr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=de(this,en);return mr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=mr.batch(()=>de(this,en).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(js).catch(js)}invalidateQueries(t,e={}){return mr.batch(()=>(de(this,en).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=mr.batch(()=>de(this,en).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(js)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(js)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=de(this,en).build(this,e);return n.isStaleByTime(F0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(js).catch(js)}fetchInfiniteQuery(t){return t.behavior=YN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(js).catch(js)}ensureInfiniteQueryData(t){return t.behavior=YN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Tp.isOnline()?de(this,Fo).resumePausedMutations():Promise.resolve()}getQueryCache(){return de(this,en)}getMutationCache(){return de(this,Fo)}getDefaultOptions(){return de(this,Vo)}setDefaultOptions(t){Xe(this,Vo,t)}setQueryDefaults(t,e){de(this,Fc).set(wh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...de(this,Fc).values()],n={};return e.forEach(r=>{bh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){de(this,Vc).set(wh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...de(this,Vc).values()],n={};return e.forEach(r=>{bh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...de(this,Vo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ow(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===aw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...de(this,Vo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){de(this,en).clear(),de(this,Fo).clear()}},en=new WeakMap,Fo=new WeakMap,Vo=new WeakMap,Fc=new WeakMap,Vc=new WeakMap,zo=new WeakMap,zc=new WeakMap,$c=new WeakMap,yT),yV=v.createContext(void 0),vV=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(yV.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}var Uo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Uo||(Uo={}));const JN="popstate";function xV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:l,hash:c}=r.location;return z0("",{pathname:i,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ak(s)}return wV(e,n,null,t)}function xn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ok(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _V(){return Math.random().toString(36).substr(2,8)}function eE(t,e){return{usr:t.state,key:t.key,idx:e}}function z0(t,e,n,r){return n===void 0&&(n=null),Nh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wu(e):e,{state:n,key:e&&e.key||r||_V()})}function ak(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function wV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,c=Uo.Pop,d=null,h=p();h==null&&(h=0,l.replaceState(Nh({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function g(){c=Uo.Pop;let T=p(),E=T==null?null:T-h;h=T,d&&d({action:c,location:x.location,delta:E})}function y(T,E){c=Uo.Push;let N=z0(x.location,T,E);h=p()+1;let P=eE(N,h),D=x.createHref(N);try{l.pushState(P,"",D)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(D)}i&&d&&d({action:c,location:x.location,delta:1})}function w(T,E){c=Uo.Replace;let N=z0(x.location,T,E);h=p();let P=eE(N,h),D=x.createHref(N);l.replaceState(P,"",D),i&&d&&d({action:c,location:x.location,delta:0})}function S(T){let E=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof T=="string"?T:ak(T);return N=N.replace(/ $/,"%20"),xn(E,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,E)}let x={get action(){return c},get location(){return t(s,l)},listen(T){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(JN,g),d=T,()=>{s.removeEventListener(JN,g),d=null}},createHref(T){return e(s,T)},createURL:S,encodeLocation(T){let E=S(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:w,go(T){return l.go(T)}};return x}var tE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(tE||(tE={}));function bV(t,e,n){return n===void 0&&(n="/"),NV(t,e,n)}function NV(t,e,n,r){let s=typeof e=="string"?wu(e):e,i=uk(s.pathname||"/",n);if(i==null)return null;let l=lk(t);EV(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=OV(i);c=RV(l[d],h)}return c}function lk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,l,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(xn(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=Za([r,d.relativePath]),p=n.concat(d);i.children&&i.children.length>0&&(xn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),lk(i.children,e,p,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:jV(h,i.index),routesMeta:p})};return t.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,l);else for(let d of ck(i.path))s(i,l,d)}),e}function ck(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=ck(r.join("/")),c=[];return c.push(...l.map(d=>d===""?i:[i,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function EV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SV=/^:[\w-]+$/,TV=3,CV=2,PV=1,IV=10,kV=-2,nE=t=>t==="*";function jV(t,e){let n=t.split("/"),r=n.length;return n.some(nE)&&(r+=kV),e&&(r+=CV),n.filter(s=>!nE(s)).reduce((s,i)=>s+(SV.test(i)?TV:i===""?PV:IV),r)}function AV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function RV(t,e,n){let{routesMeta:r}=t,s={},i="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=MV({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),y=d.route;if(!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Za([i,g.pathname]),pathnameBase:BV(Za([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=Za([i,g.pathnameBase]))}return l}function MV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,p,g)=>{let{paramName:y,isOptional:w}=p;if(y==="*"){let x=c[g]||"";l=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const S=c[g];return w&&!S?h[y]=void 0:h[y]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:t}}function DV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ok(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function OV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ok(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uk(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?wu(t):t;return{pathname:n?n.startsWith("/")?n:FV(n,e):e,search:UV(r),hash:qV(s)}}function FV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zV(t,e){let n=VV(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $V(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=wu(t):(s=Nh({},t),xn(!s.pathname||!s.pathname.includes("?"),hv("?","pathname","search",s)),xn(!s.pathname||!s.pathname.includes("#"),hv("#","pathname","hash",s)),xn(!s.search||!s.search.includes("#"),hv("#","search","hash",s)));let i=t===""||s.pathname==="",l=i?"/":s.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}c=g>=0?e[g]:"/"}let d=LV(s,c),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}const Za=t=>t.join("/").replace(/\/\/+/g,"/"),BV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dk=["post","put","patch","delete"];new Set(dk);const WV=["get",...dk];new Set(WV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eh.apply(this,arguments)}const lw=v.createContext(null),GV=v.createContext(null),Tg=v.createContext(null),Cg=v.createContext(null),Sl=v.createContext({outlet:null,matches:[],isDataRoute:!1}),hk=v.createContext(null);function Pg(){return v.useContext(Cg)!=null}function cw(){return Pg()||xn(!1),v.useContext(Cg).location}function fk(t){v.useContext(Tg).static||v.useLayoutEffect(t)}function qn(){let{isDataRoute:t}=v.useContext(Sl);return t?a9():KV()}function KV(){Pg()||xn(!1);let t=v.useContext(lw),{basename:e,future:n,navigator:r}=v.useContext(Tg),{matches:s}=v.useContext(Sl),{pathname:i}=cw(),l=JSON.stringify(zV(s,n.v7_relativeSplatPath)),c=v.useRef(!1);return fk(()=>{c.current=!0}),v.useCallback(function(h,p){if(p===void 0&&(p={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let g=$V(h,JSON.parse(l),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Za([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,l,i,t])}function ZV(){let{matches:t}=v.useContext(Sl),e=t[t.length-1];return e?e.params:{}}function QV(t,e){return YV(t,e)}function YV(t,e,n,r){Pg()||xn(!1);let{navigator:s}=v.useContext(Tg),{matches:i}=v.useContext(Sl),l=i[i.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=cw(),p;if(e){var g;let T=typeof e=="string"?wu(e):e;d==="/"||(g=T.pathname)!=null&&g.startsWith(d)||xn(!1),p=T}else p=h;let y=p.pathname||"/",w=y;if(d!=="/"){let T=d.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=bV(t,{pathname:w}),x=n9(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:Za([d,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:Za([d,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&x?v.createElement(Cg.Provider,{value:{location:Eh({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Uo.Pop}},x):x}function XV(){let t=o9(),e=HV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const JV=v.createElement(XV,null);class e9 extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Sl.Provider,{value:this.props.routeContext},v.createElement(hk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t9(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(lw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Sl.Provider,{value:e},r)}function n9(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);p>=0||xn(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:y,errors:w}=n,S=g.route.loader&&y[g.route.id]===void 0&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,g,y)=>{let w,S=!1,x=null,T=null;n&&(w=c&&g.route.id?c[g.route.id]:void 0,x=g.route.errorElement||JV,d&&(h<0&&y===0?(l9("route-fallback"),S=!0,T=null):h===y&&(S=!0,T=g.route.hydrateFallbackElement||null)));let E=e.concat(l.slice(0,y+1)),N=()=>{let P;return w?P=x:S?P=T:g.route.Component?P=v.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=p,v.createElement(t9,{match:g,routeContext:{outlet:p,matches:E,isDataRoute:n!=null},children:P})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?v.createElement(e9,{location:n.location,revalidation:n.revalidation,component:x,error:w,children:N(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):N()},null)}var mk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mk||{}),pk=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pk||{});function r9(t){let e=v.useContext(lw);return e||xn(!1),e}function s9(t){let e=v.useContext(GV);return e||xn(!1),e}function i9(t){let e=v.useContext(Sl);return e||xn(!1),e}function gk(t){let e=i9(),n=e.matches[e.matches.length-1];return n.route.id||xn(!1),n.route.id}function o9(){var t;let e=v.useContext(hk),n=s9(),r=gk();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function a9(){let{router:t}=r9(mk.UseNavigateStable),e=gk(pk.UseNavigateStable),n=v.useRef(!1);return fk(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Eh({fromRouteId:e},i)))},[t,e])}const rE={};function l9(t,e,n){rE[t]||(rE[t]=!0)}function c9(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Tn(t){xn(!1)}function u9(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Uo.Pop,navigator:i,static:l=!1,future:c}=t;Pg()&&xn(!1);let d=e.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:d,navigator:i,static:l,future:Eh({v7_relativeSplatPath:!1},c)}),[d,c,i,l]);typeof r=="string"&&(r=wu(r));let{pathname:p="/",search:g="",hash:y="",state:w=null,key:S="default"}=r,x=v.useMemo(()=>{let T=uk(p,d);return T==null?null:{location:{pathname:T,search:g,hash:y,state:w,key:S},navigationType:s}},[d,p,g,y,w,S,s]);return x==null?null:v.createElement(Tg.Provider,{value:h},v.createElement(Cg.Provider,{children:n,value:x}))}function d9(t){let{children:e,location:n}=t;return QV($0(e),n)}new Promise(()=>{});function $0(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,$0(r.props.children,i));return}r.type!==Tn&&xn(!1),!r.props.index||!r.props.children||xn(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=$0(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const h9="6";try{window.__reactRouterVersion=h9}catch{}const f9="startTransition",sE=zx[f9];function m9(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=xV({window:s,v5Compat:!0}));let l=i.current,[c,d]=v.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},p=v.useCallback(g=>{h&&sE?sE(()=>d(g)):d(g)},[d,h]);return v.useLayoutEffect(()=>l.listen(p),[l,p]),v.useEffect(()=>c9(r),[r]),v.createElement(u9,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}var iE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iE||(iE={}));var oE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oE||(oE={}));const p9=()=>{};var aE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},g9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(i&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const i=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},vk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,p=i>>2,g=(i&3)<<4|c>>4;let y=(c&15)<<2|h>>6,w=h&63;d||(w=64,l||(y=64)),r.push(n[p],n[g],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||h==null||g==null)throw new y9;const y=i<<2|c>>4;if(r.push(y),h!==64){const w=c<<4&240|h>>2;if(r.push(w),g!==64){const S=h<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class y9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v9=function(t){const e=yk(t);return vk.encodeByteArray(e,!0)},Cp=function(t){return v9(t).replace(/\./g,"")},xk=function(t){try{return vk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=()=>x9().__FIREBASE_DEFAULTS__,w9=()=>{if(typeof process>"u"||typeof aE>"u")return;const t=aE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xk(t[1]);return e&&JSON.parse(e)},Ig=()=>{try{return p9()||_9()||w9()||b9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_k=t=>{var e,n;return(n=(e=Ig())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},N9=t=>{const e=_k(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wk=()=>{var t;return(t=Ig())===null||t===void 0?void 0:t.config},bk=t=>{var e;return(e=Ig())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){return t.endsWith(".cloudworkstations.dev")}async function Nk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cp(JSON.stringify(n)),Cp(JSON.stringify(l)),""].join(".")}const Gd={};function T9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gd))Gd[e]?t.emulator.push(e):t.prod.push(e);return t}function C9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lE=!1;function Ek(t,e){if(typeof window>"u"||typeof document>"u"||!bu(window.location.host)||Gd[t]===e||Gd[t]||lE)return;Gd[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",i=T9().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function d(y,w){y.setAttribute("width","24"),y.setAttribute("id",w),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{lE=!0,l()},y}function p(y,w){y.setAttribute("id",w),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=C9(r),w=n("text"),S=document.getElementById(w)||document.createElement("span"),x=n("learnmore"),T=document.getElementById(x)||document.createElement("a"),E=n("preprendIcon"),N=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const P=y.element;c(P),p(T,x);const D=h();d(N,E),P.append(N,S,T,D),document.body.appendChild(P)}i?(S.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function I9(){var t;const e=(t=Ig())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R9(){const t=or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M9(){return!I9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D9(){try{return typeof indexedDB=="object"}catch{return!1}}function O9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9="FirebaseError";class ho extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=L9,Object.setPrototypeOf(this,ho.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xh.prototype.create)}}class Xh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?F9(i,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new ho(s,c,r)}}function F9(t,e){return t.replace(V9,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const V9=/\{\$([^}]+)}/g;function z9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function il(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],l=e[s];if(cE(i)&&cE(l)){if(!il(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function cE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ed(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Sd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $9(t,e){const n=new B9(t,e);return n.subscribe.bind(n)}class B9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");U9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=fv),s.error===void 0&&(s.error=fv),s.complete===void 0&&(s.complete=fv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class ol{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new E9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W9(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const l=this.instances.get(s);return l&&e(l,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:H9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H9(t){return t===Da?void 0:t}function W9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new q9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(dt||(dt={}));const K9={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},Z9=dt.INFO,Q9={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},Y9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Q9[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uw{constructor(e){this.name=e,this._logLevel=Z9,this._logHandler=Y9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const X9=(t,e)=>e.some(n=>t instanceof n);let uE,dE;function J9(){return uE||(uE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e8(){return dE||(dE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sk=new WeakMap,B0=new WeakMap,Tk=new WeakMap,mv=new WeakMap,dw=new WeakMap;function t8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",l)},i=()=>{n(Jo(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Sk.set(n,t)}).catch(()=>{}),dw.set(e,t),e}function n8(t){if(B0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",l),t.removeEventListener("abort",l)},i=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",l),t.addEventListener("abort",l)});B0.set(t,e)}let U0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return B0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Tk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function r8(t){U0=t(U0)}function s8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pv(this),e,...n);return Tk.set(r,e.sort?e.sort():[e]),Jo(r)}:e8().includes(t)?function(...e){return t.apply(pv(this),e),Jo(Sk.get(this))}:function(...e){return Jo(t.apply(pv(this),e))}}function i8(t){return typeof t=="function"?s8(t):(t instanceof IDBTransaction&&n8(t),X9(t,J9())?new Proxy(t,U0):t)}function Jo(t){if(t instanceof IDBRequest)return t8(t);if(mv.has(t))return mv.get(t);const e=i8(t);return e!==t&&(mv.set(t,e),dw.set(e,t)),e}const pv=t=>dw.get(t);function o8(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(t,e),c=Jo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Jo(l.result),d.oldVersion,d.newVersion,Jo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{i&&d.addEventListener("close",()=>i()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const a8=["get","getKey","getAll","getAllKeys","count"],l8=["put","add","delete","clear"],gv=new Map;function hE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gv.get(e))return gv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=l8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||a8.includes(n)))return;const i=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&d.done]))[0]};return gv.set(e,i),i}r8(t=>({...t,get:(e,n,r)=>hE(e,n)||t.get(e,n,r),has:(e,n)=>!!hE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function u8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const q0="@firebase/app",fE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new uw("@firebase/app"),d8="@firebase/app-compat",h8="@firebase/analytics-compat",f8="@firebase/analytics",m8="@firebase/app-check-compat",p8="@firebase/app-check",g8="@firebase/auth",y8="@firebase/auth-compat",v8="@firebase/database",x8="@firebase/data-connect",_8="@firebase/database-compat",w8="@firebase/functions",b8="@firebase/functions-compat",N8="@firebase/installations",E8="@firebase/installations-compat",S8="@firebase/messaging",T8="@firebase/messaging-compat",C8="@firebase/performance",P8="@firebase/performance-compat",I8="@firebase/remote-config",k8="@firebase/remote-config-compat",j8="@firebase/storage",A8="@firebase/storage-compat",R8="@firebase/firestore",M8="@firebase/ai",D8="@firebase/firestore-compat",O8="firebase",L8="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="[DEFAULT]",F8={[q0]:"fire-core",[d8]:"fire-core-compat",[f8]:"fire-analytics",[h8]:"fire-analytics-compat",[p8]:"fire-app-check",[m8]:"fire-app-check-compat",[g8]:"fire-auth",[y8]:"fire-auth-compat",[v8]:"fire-rtdb",[x8]:"fire-data-connect",[_8]:"fire-rtdb-compat",[w8]:"fire-fn",[b8]:"fire-fn-compat",[N8]:"fire-iid",[E8]:"fire-iid-compat",[S8]:"fire-fcm",[T8]:"fire-fcm-compat",[C8]:"fire-perf",[P8]:"fire-perf-compat",[I8]:"fire-rc",[k8]:"fire-rc-compat",[j8]:"fire-gcs",[A8]:"fire-gcs-compat",[R8]:"fire-fst",[D8]:"fire-fst-compat",[M8]:"fire-vertex","fire-js":"fire-js",[O8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new Map,V8=new Map,W0=new Map;function mE(t,e){try{t.container.addComponent(e)}catch(n){oo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yc(t){const e=t.name;if(W0.has(e))return oo.debug(`There were multiple attempts to register component ${e}.`),!1;W0.set(e,t);for(const n of Pp.values())mE(n,t);for(const n of V8.values())mE(n,t);return!0}function hw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new Xh("app","Firebase",z8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=L8;function Ck(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:H0,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw ea.create("bad-app-name",{appName:String(s)});if(n||(n=wk()),!n)throw ea.create("no-options");const i=Pp.get(s);if(i){if(il(n,i.options)&&il(r,i.config))return i;throw ea.create("duplicate-app",{appName:s})}const l=new G9(s);for(const d of W0.values())l.addComponent(d);const c=new $8(n,r,l);return Pp.set(s,c),c}function Pk(t=H0){const e=Pp.get(t);if(!e&&t===H0&&wk())return Ck();if(!e)throw ea.create("no-app",{appName:t});return e}function ta(t,e,n){var r;let s=(r=F8[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oo.warn(c.join(" "));return}Yc(new ol(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8="firebase-heartbeat-database",U8=1,Sh="firebase-heartbeat-store";let yv=null;function Ik(){return yv||(yv=o8(B8,U8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ea.create("idb-open",{originalErrorMessage:t.message})})),yv}async function q8(t){try{const n=(await Ik()).transaction(Sh),r=await n.objectStore(Sh).get(kk(t));return await n.done,r}catch(e){if(e instanceof ho)oo.warn(e.message);else{const n=ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oo.warn(n.message)}}}async function pE(t,e){try{const r=(await Ik()).transaction(Sh,"readwrite");await r.objectStore(Sh).put(e,kk(t)),await r.done}catch(n){if(n instanceof ho)oo.warn(n.message);else{const r=ea.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oo.warn(r.message)}}}function kk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=1024,W8=30;class G8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Z8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>W8){const l=Q8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gE(),{heartbeatsToSend:r,unsentEntries:s}=K8(this._heartbeatsCache.heartbeats),i=Cp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return oo.warn(n),""}}}function gE(){return new Date().toISOString().substring(0,10)}function K8(t,e=H8){const n=[];let r=t.slice();for(const s of t){const i=n.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),yE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),yE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Z8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D9()?O9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return pE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return pE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yE(t){return Cp(JSON.stringify({version:2,heartbeats:t})).length}function Q8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t){Yc(new ol("platform-logger",e=>new c8(e),"PRIVATE")),Yc(new ol("heartbeat",e=>new G8(e),"PRIVATE")),ta(q0,fE,t),ta(q0,fE,"esm2017"),ta("fire-js","")}Y8("");var X8="firebase",J8="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ta(X8,J8,"app");var ui=function(){return ui=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ui.apply(this,arguments)};function Jh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ez(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function jk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tz=jk,Ak=new Xh("auth","Firebase",jk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new uw("@firebase/auth");function nz(t,...e){Ip.logLevel<=dt.WARN&&Ip.warn(`Auth (${Eu}): ${t}`,...e)}function Fm(t,...e){Ip.logLevel<=dt.ERROR&&Ip.error(`Auth (${Eu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t,...e){throw mw(t,...e)}function Ar(t,...e){return mw(t,...e)}function fw(t,e,n){const r=Object.assign(Object.assign({},tz()),{[e]:n});return new Xh("auth","Firebase",r).create(e,{appName:t.name})}function yi(t){return fw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ws(t,"argument-error"),fw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ak.create(t,...e)}function Ce(t,e,...n){if(!t)throw mw(e,...n)}function Wi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fm(e),new Error(e)}function ao(t,e){t||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Rk(){return vE()==="http:"||vE()==="https:"}function vE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Rk()||j9()||"connection"in navigator)?navigator.onLine:!0}function iz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this.shortDelay=e,this.longDelay=n,ao(n>e,"Short delay should be less than long delay!"),this.isMobile=P9()||A9()}get(){return sz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e){ao(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lz=new ef(3e4,6e4);function Mr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Dr(t,e,n,r,s={}){return Dk(t,s,async()=>{let i={},l={};r&&(e==="GET"?l=r:i={body:JSON.stringify(r)});const c=Nu(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},i);return k9()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&bu(t.emulatorConfig.host)&&(h.credentials="include"),Mk.fetch()(await Ok(t,t.config.apiHost,n,c),h)})}async function Dk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},oz),e);try{const s=new uz(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw Td(t,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const c=i.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Td(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Td(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw fw(t,p,h);ws(t,p)}}catch(s){if(s instanceof ho)throw s;ws(t,"network-request-failed",{message:String(s)})}}async function _a(t,e,n,r,s={}){const i=await Dr(t,e,n,r,s);return"mfaPendingCredential"in i&&ws(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Ok(t,e,n,r){const s=`${e}${n}?${r}`,i=t,l=i.config.emulator?pw(t.config,s):`${t.config.apiScheme}://${s}`;return az.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(l).toString():l}function cz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ar(this.auth,"network-request-failed")),lz.get())})}}function Td(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ar(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){return t!==void 0&&t.getResponse!==void 0}function _E(t){return t!==void 0&&t.enterprise!==void 0}class Lk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t){return(await Dr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Fk(t,e){return Dr(t,"GET","/v2/recaptchaConfig",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(t,e){return Dr(t,"POST","/v1/accounts:delete",e)}async function kp(t,e){return Dr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fz(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),s=gw(r);Ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,l=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Kd(vv(s.auth_time)),issuedAtTime:Kd(vv(s.iat)),expirationTime:Kd(vv(s.exp)),signInProvider:l||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function vv(t){return Number(t)*1e3}function gw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fm("JWT malformed, contained fewer than 3 sections"),null;try{const s=xk(n);return s?JSON.parse(s):(Fm("Failed to decode base64 JWT payload"),null)}catch(s){return Fm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function wE(t){const e=gw(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ho&&mz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kd(this.lastLoginAt),this.creationTime=Kd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await al(t,kp(n,{idToken:r}));Ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const l=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Vk(i.providerUserInfo):[],c=yz(t.providerData,l),d=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),p=d?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new K0(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function gz(t){const e=Vt(t);await jp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Vk(t){return t.map(e=>{var{providerId:n}=e,r=Jh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(t,e){const n=await Dk(t,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,l=await Ok(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&bu(t.emulatorConfig.host)&&(d.credentials="include"),Mk.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xz(t,e){return Dr(t,"POST","/v2/accounts:revokeToken",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=wE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await vz(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,l=new Cc;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),i&&(Ce(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cc,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ls{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Jh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new K0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await al(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fz(this,e)}reload(){return gz(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await al(this,hz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,l,c,d,h,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,w=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,S=(l=n.photoURL)!==null&&l!==void 0?l:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,T=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,E=(h=n.createdAt)!==null&&h!==void 0?h:void 0,N=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:D,isAnonymous:$,providerData:B,stsTokenManager:A}=n;Ce(P&&A,e,"internal-error");const k=Cc.fromJSON(this.name,A);Ce(typeof P=="string",e,"internal-error"),Eo(g,e.name),Eo(y,e.name),Ce(typeof D=="boolean",e,"internal-error"),Ce(typeof $=="boolean",e,"internal-error"),Eo(w,e.name),Eo(S,e.name),Eo(x,e.name),Eo(T,e.name),Eo(E,e.name),Eo(N,e.name);const j=new Ls({uid:P,auth:e,email:y,emailVerified:D,displayName:g,isAnonymous:$,photoURL:S,phoneNumber:w,tenantId:x,stsTokenManager:k,createdAt:E,lastLoginAt:N});return B&&Array.isArray(B)&&(j.providerData=B.map(O=>Object.assign({},O))),T&&(j._redirectEventId=T),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new Cc;s.updateFromServerResponse(n);const i=new Ls({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await jp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Vk(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new Cc;c.updateFromIdToken(r);const d=new Ls({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new K0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;function Gi(t){ao(t instanceof Function,"Expected a class definition");let e=bE.get(t);return e?(ao(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zk.type="NONE";const NE=zk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t,e,n){return`firebase:${t}:${e}:${n}`}class Pc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Vm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Vm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kp(this.auth,{idToken:e}).catch(()=>{});return n?Ls._fromGetAccountInfoResponse(this.auth,n,e):null}return Ls._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pc(Gi(NE),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Gi(NE);const l=Vm(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const y=await kp(e,{idToken:p}).catch(()=>{});if(!y)break;g=await Ls._fromGetAccountInfoResponse(e,y,p)}else g=Ls._fromJSON(e,p);h!==i&&(c=g),i=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new Pc(i,e,r):(i=d[0],c&&await i._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(l)}catch{}})),new Pc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($k(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wk(e))return"Blackberry";if(Gk(e))return"Webos";if(Bk(e))return"Safari";if((e.includes("chrome/")||Uk(e))&&!e.includes("edge/"))return"Chrome";if(Hk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $k(t=or()){return/firefox\//i.test(t)}function Bk(t=or()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uk(t=or()){return/crios\//i.test(t)}function qk(t=or()){return/iemobile/i.test(t)}function Hk(t=or()){return/android/i.test(t)}function Wk(t=or()){return/blackberry/i.test(t)}function Gk(t=or()){return/webos/i.test(t)}function yw(t=or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _z(t=or()){var e;return yw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wz(){return R9()&&document.documentMode===10}function Kk(t=or()){return yw(t)||Hk(t)||Gk(t)||Wk(t)||/windows phone/i.test(t)||qk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t,e=[]){let n;switch(t){case"Browser":n=EE(or());break;case"Worker":n=`${EE(or())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((l,c)=>{try{const d=e(i);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nz(t,e={}){return Dr(t,"GET","/v2/passwordPolicy",Mr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=6;class Sz{constructor(e){var n,r,s,i;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:Ez,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(i=d.containsUppercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SE(this),this.idTokenSubscription=new SE(this),this.beforeStateQueue=new bz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ak,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Pc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kp(this,{idToken:e}),r=await Ls._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(s=d.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(yi(this));const n=e?Vt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nz(this),n=new Sz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gi(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Pc.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{l||i(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&nz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function es(t){return Vt(t)}class SE{constructor(e){this.auth=e,this.observer=null,this.addObserver=$9(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cz(t){tf=t}function vw(t){return tf.loadJS(t)}function Pz(){return tf.recaptchaV2Script}function Iz(){return tf.recaptchaEnterpriseScript}function kz(){return tf.gapiScript}function Qk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=500,Az=6e4,hm=1e12;class Rz{constructor(e){this.auth=e,this.counter=hm,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Oz(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||hm;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||hm;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||hm;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class Mz{constructor(){this.enterprise=new Dz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Dz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Oz{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;Ce(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Lz(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Az)},jz))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Lz(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const Fz="recaptcha-enterprise",Zd="NO_RECAPTCHA";class Yk{constructor(e){this.type=Fz,this.auth=es(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(l,c)=>{Fk(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new Lk(d);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function s(i,l,c){const d=window.grecaptcha;_E(d)?d.enterprise.ready(()=>{d.enterprise.execute(i,{action:e}).then(h=>{l(h)}).catch(()=>{l(Zd)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mz().execute("siteKey",{action:"verify"}):new Promise((i,l)=>{r(this.auth).then(c=>{if(!n&&_E(window.grecaptcha))s(c,i,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Iz();d.length!==0&&(d+=c),vw(d).then(()=>{s(c,i,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function vd(t,e,n,r=!1,s=!1){const i=new Yk(t);let l;if(s)l=Zd;else try{l=await i.verify(n)}catch{l=await i.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Ic(t,e,n,r,s){var i,l;if(s==="EMAIL_PASSWORD_PROVIDER")if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await vd(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await vd(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)});else if(s==="PHONE_PROVIDER")if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const c=await vd(t,e,n);return r(t,c).catch(async d=>{var h;if(((h=t._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const p=await vd(t,e,n,!1,!0);return r(t,p)}return Promise.reject(d)})}else{const c=await vd(t,e,n,!1,!0);return r(t,c)}else return Promise.reject(s+" provider is not supported.")}async function Vz(t){const e=es(t),n=await Fk(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Lk(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new Yk(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t,e){const n=hw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(il(i,e??{}))return s;ws(s,"already-initialized")}return n.initialize({options:e})}function $z(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Bz(t,e,n){const r=es(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Xk(e),{host:l,port:c}=Uz(e),d=c===null?"":`:${c}`,h={url:`${i}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(il(h,r.config.emulator)&&il(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,bu(l)?(Nk(`${i}//${l}${d}`),Ek("Auth",!0)):qz()}function Xk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Uz(t){const e=Xk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:TE(r.substr(i.length+1))}}else{const[i,l]=r.split(":");return{host:i,port:TE(l)}}}function TE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function Hz(t,e){return Dr(t,"POST","/v1/accounts:update",e)}async function Wz(t,e){return Dr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gz(t,e){return _a(t,"POST","/v1/accounts:signInWithPassword",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(t,e){return _a(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))}async function Zz(t,e){return _a(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends kg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Th(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Th(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ic(e,n,"signInWithPassword",Gz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Kz(e,{email:this._email,oobCode:this._password});default:ws(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ic(e,r,"signUpPassword",Wz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Zz(e,{idToken:n,email:this._email,oobCode:this._password});default:ws(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t,e){return _a(t,"POST","/v1/accounts:signInWithIdp",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz="http://localhost";class ll extends kg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ll(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ws("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Jh(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new ll(r,s);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return kc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,kc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kc(e,n)}buildRequest(){const e={requestUri:Qz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CE(t,e){return Dr(t,"POST","/v1/accounts:sendVerificationCode",Mr(t,e))}async function Yz(t,e){return _a(t,"POST","/v1/accounts:signInWithPhoneNumber",Mr(t,e))}async function Xz(t,e){const n=await _a(t,"POST","/v1/accounts:signInWithPhoneNumber",Mr(t,e));if(n.temporaryProof)throw Td(t,"account-exists-with-different-credential",n);return n}const Jz={USER_NOT_FOUND:"user-not-found"};async function e$(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return _a(t,"POST","/v1/accounts:signInWithPhoneNumber",Mr(t,n),Jz)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends kg{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Qa({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Qa({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Yz(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Xz(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return e$(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i}=e;return!r&&!n&&!s&&!i?null:new Qa({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n$(t){const e=Ed(Sd(t)).link,n=e?Ed(Sd(e)).deep_link_id:null,r=Ed(Sd(t)).deep_link_id;return(r?Ed(Sd(r)).link:null)||r||n||e||t}class xw{constructor(e){var n,r,s,i,l,c;const d=Ed(Sd(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(r=d.oobCode)!==null&&r!==void 0?r:null,g=t$((s=d.mode)!==null&&s!==void 0?s:null);Ce(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(i=d.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=n$(e);try{return new xw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.providerId=Tl.PROVIDER_ID}static credential(e,n){return Th._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xw.parseLink(n);return Ce(r,"argument-error"),Th._fromEmailAndCode(e,r.code,r.tenantId)}}Tl.PROVIDER_ID="password";Tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends _w{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends nf{constructor(){super("facebook.com")}static credential(e){return ll._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ro.credential(e.oauthAccessToken)}catch{return null}}}Ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends nf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ll._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bi.credential(n,r)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends nf{constructor(){super("github.com")}static credential(e){return ll._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.GITHUB_SIGN_IN_METHOD="github.com";Mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends nf{constructor(){super("twitter.com")}static credential(e,n){return ll._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Do.credential(n,r)}catch{return null}}}Do.TWITTER_SIGN_IN_METHOD="twitter.com";Do.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r$(t,e){return _a(t,"POST","/v1/accounts:signUp",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ls._fromIdTokenResponse(e,r,s),l=PE(r);return new cl({user:i,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=PE(r);return new cl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function PE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends ho{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ap.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ap(e,n,r,s)}}function Jk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ap._fromErrorAndOperation(t,i,e,r):i})}async function s$(t,e,n=!1){const r=await al(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(t,e,n=!1){const{auth:r}=t;if(Tr(r.app))return Promise.reject(yi(r));const s="reauthenticate";try{const i=await al(t,Jk(r,s,e,t),n);Ce(i.idToken,r,"internal-error");const l=gw(i.idToken);Ce(l,r,"internal-error");const{sub:c}=l;return Ce(t.uid===c,r,"user-mismatch"),cl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ws(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(t,e,n=!1){if(Tr(t.app))return Promise.reject(yi(t));const r="signIn",s=await Jk(t,r,e),i=await cl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function n2(t,e){return t2(es(t),e)}async function i$(t,e){return e2(Vt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(t){const e=es(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function o$(t,e,n){if(Tr(t.app))return Promise.reject(yi(t));const r=es(t),l=await Ic(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",r$,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&r2(t),d}),c=await cl._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function a$(t,e,n){return Tr(t.app)?Promise.reject(yi(t)):n2(Vt(t),Tl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&r2(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l$(t,e){return Dr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Vt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await al(r,l$(r.auth,i));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function c$(t,e){return u$(Vt(t),null,e)}async function u$(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const l=await al(t,Hz(r,i));await t._updateTokensIfNecessary(l,!0)}function d$(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function h$(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function jg(t,e,n,r){return Vt(t).onAuthStateChanged(e,n,r)}function f$(t){return Vt(t).signOut()}async function m$(t){return Vt(t).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t,e){return Dr(t,"POST","/v2/accounts/mfaEnrollment:start",Mr(t,e))}const Rp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rp,"1"),this.storage.removeItem(Rp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=1e3,g$=10;class o2 extends i2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},i=this.storage.getItem(r);wz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,g$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},p$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}o2.type="LOCAL";const y$=o2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2 extends i2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a2.type="SESSION";const l2=a2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ag(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async h=>h(n.origin,i)),d=await v$(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ag.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,l;return new Promise((c,d)=>{const h=ww("",20);s.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(y.data.response);break;default:clearTimeout(p),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return window}function _$(t){dn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}async function w$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function b$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function N$(){return bw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="firebaseLocalStorageDb",E$=1,Mp="firebaseLocalStorage",u2="fbase_key";class rf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rg(t,e){return t.transaction([Mp],e?"readwrite":"readonly").objectStore(Mp)}function S$(){const t=indexedDB.deleteDatabase(c2);return new rf(t).toPromise()}function Z0(){const t=indexedDB.open(c2,E$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mp,{keyPath:u2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mp)?e(r):(r.close(),await S$(),e(await Z0()))})})}async function kE(t,e,n){const r=Rg(t,!0).put({[u2]:e,value:n});return new rf(r).toPromise()}async function T$(t,e){const n=Rg(t,!1).get(e),r=await new rf(n).toPromise();return r===void 0?null:r.value}function jE(t,e){const n=Rg(t,!0).delete(e);return new rf(n).toPromise()}const C$=800,P$=3;class d2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Z0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>P$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ag._getInstance(N$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await w$(),!this.activeServiceWorker)return;this.sender=new x$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||b$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Z0();return await kE(e,Rp,"1"),await jE(e,Rp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>T$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Rg(s,!1).getAll();return new rf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}d2.type="LOCAL";const I$=d2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t,e){return Dr(t,"POST","/v2/accounts/mfaSignIn:start",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=Qk("rcb"),k$=new ef(3e4,6e4);class j${constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=dn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Ce(A$(n),e,"argument-error"),this.shouldResolveImmediately(n)&&xE(dn().grecaptcha)?Promise.resolve(dn().grecaptcha):new Promise((r,s)=>{const i=dn().setTimeout(()=>{s(Ar(e,"network-request-failed"))},k$.get());dn()[xv]=()=>{dn().clearTimeout(i),delete dn()[xv];const c=dn().grecaptcha;if(!c||!xE(c)){s(Ar(e,"internal-error"));return}const d=c.render;c.render=(h,p)=>{const g=d(h,p);return this.counter++,g},this.hostLanguage=n,r(c)};const l=`${Pz()}?${Nu({onload:xv,render:"explicit",hl:n})}`;vw(l).catch(()=>{clearTimeout(i),s(Ar(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=dn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function A$(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class R${async load(e){return new Rz(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="recaptcha",M$={theme:"light",type:"image"};class D${constructor(e,n,r=Object.assign({},M$)){this.parameters=r,this.type=Qd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=es(e),this.isInvisible=this.parameters.size==="invisible",Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;Ce(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new R$:new j$,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(s=>{const i=l=>{l&&(this.tokenChangeListeners.delete(i),s(l))};this.tokenChangeListeners.add(i),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=dn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ce(Rk()&&!bw(),this.auth,"internal-error"),await O$(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await dz(this.auth);Ce(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function O$(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Qa._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function RE(t,e,n){if(Tr(t.app))return Promise.reject(yi(t));const r=es(t),s=await h2(r,e,Vt(n));return new L$(s,i=>n2(r,i))}async function h2(t,e,n){var r;if(!t._getRecaptchaConfig())try{await Vz(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const i=s.session;if("phoneNumber"in s){Ce(i.type==="enroll",t,"internal-error");const l={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ic(t,l,"mfaSmsEnrollment",async(p,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===Zd){Ce((n==null?void 0:n.type)===Qd,p,"argument-error");const y=await _v(p,g,n);return IE(p,y)}return IE(p,g)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneSessionInfo.sessionInfo}else{Ce(i.type==="signin",t,"internal-error");const l=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;Ce(l,t,"missing-multi-factor-info");const c={mfaPendingCredential:i.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ic(t,c,"mfaSmsSignIn",async(g,y)=>{if(y.phoneSignInInfo.captchaResponse===Zd){Ce((n==null?void 0:n.type)===Qd,g,"argument-error");const w=await _v(g,y,n);return AE(g,w)}return AE(g,y)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ic(t,i,"sendVerificationCode",async(h,p)=>{if(p.captchaResponse===Zd){Ce((n==null?void 0:n.type)===Qd,h,"argument-error");const g=await _v(h,p,n);return CE(h,g)}return CE(h,p)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{n==null||n._reset()}}async function _v(t,e,n){Ce(n.type===Qd,t,"argument-error");const r=await n.verify();Ce(typeof r=="string",t,"argument-error");const s=Object.assign({},e);if("phoneEnrollmentInfo"in s){const i=s.phoneEnrollmentInfo.phoneNumber,l=s.phoneEnrollmentInfo.captchaResponse,c=s.phoneEnrollmentInfo.clientType,d=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:r,captchaResponse:l,clientType:c,recaptchaVersion:d}}),s}else if("phoneSignInInfo"in s){const i=s.phoneSignInInfo.captchaResponse,l=s.phoneSignInInfo.clientType,c=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:i,clientType:l,recaptchaVersion:c}}),s}else return Object.assign(s,{recaptchaToken:r}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.providerId=Ya.PROVIDER_ID,this.auth=es(e)}verifyPhoneNumber(e,n){return h2(this.auth,e,Vt(n))}static credential(e,n){return Qa._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Ya.credentialFromTaggedObject(n)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Qa._fromTokenResponse(n,r):null}}Ya.PROVIDER_ID="phone";Ya.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t,e){return e?Gi(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw extends kg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F$(t){return t2(t.auth,new Nw(t),t.bypassAuthState)}function V$(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),e2(n,new Nw(t),t.bypassAuthState)}async function z$(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),s$(n,new Nw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F$;case"linkViaPopup":case"linkViaRedirect":return z$;case"reauthViaPopup":case"reauthViaRedirect":return V$;default:ws(this.auth,"internal-error")}}resolve(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=new ef(2e3,1e4);async function B$(t,e,n){if(Tr(t.app))return Promise.reject(Ar(t,"operation-not-supported-in-this-environment"));const r=es(t);rz(t,e,_w);const s=f2(r,n);return new Va(r,"signInViaPopup",e,s).executeNotNull()}class Va extends m2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ao(this.filter.length===1,"Popup operations only handle one event");const e=ww();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$$.get())};e()}}Va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="pendingRedirect",zm=new Map;class q$ extends m2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zm.get(this.auth._key());if(!e){try{const r=await H$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zm.set(this.auth._key(),e)}return this.bypassAuthState||zm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H$(t,e){const n=K$(e),r=G$(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function W$(t,e){zm.set(t._key(),e)}function G$(t){return Gi(t._redirectPersistence)}function K$(t){return Vm(U$,t.config.apiKey,t.name)}async function Z$(t,e){return await es(t)._initializationPromise,p2(t,e,!1)}async function p2(t,e,n=!1){if(Tr(t.app))return Promise.reject(yi(t));const r=es(t),s=f2(r,e),l=await new q$(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$=10*60*1e3;class Y${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!g2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ar(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q$&&this.cachedEventUids.clear(),this.cachedEventUids.has(ME(e))}saveEventToCache(e){this.cachedEventUids.add(ME(e)),this.lastProcessedEventTime=Date.now()}}function ME(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function g2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J$(t,e={}){return Dr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t7=/^https?/;async function n7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await J$(t);for(const n of e)try{if(r7(n))return}catch{}ws(t,"unauthorized-domain")}function r7(t){const e=G0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!t7.test(n))return!1;if(e7.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=new ef(3e4,6e4);function DE(){const t=dn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function i7(t){return new Promise((e,n)=>{var r,s,i;function l(){DE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DE(),n(Ar(t,"network-request-failed"))},timeout:s7.get()})}if(!((s=(r=dn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=dn().gapi)===null||i===void 0)&&i.load)l();else{const c=Qk("iframefcb");return dn()[c]=()=>{gapi.load?l():n(Ar(t,"network-request-failed"))},vw(`${kz()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw $m=null,e})}let $m=null;function o7(t){return $m=$m||i7(t),$m}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=new ef(5e3,15e3),l7="__/auth/iframe",c7="emulator/auth/iframe",u7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h7(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pw(e,c7):`https://${t.config.authDomain}/${l7}`,r={apiKey:e.apiKey,appName:t.name,v:Eu},s=d7.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Nu(r).slice(1)}`}async function f7(t){const e=await o7(t),n=dn().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:h7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u7,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const l=Ar(t,"network-request-failed"),c=dn().setTimeout(()=>{i(l)},a7.get());function d(){dn().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p7=500,g7=600,y7="_blank",v7="http://localhost";class OE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x7(t,e,n,r=p7,s=g7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},m7),{width:r.toString(),height:s.toString(),top:i,left:l}),h=or().toLowerCase();n&&(c=Uk(h)?y7:n),$k(h)&&(e=e||v7,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[w,S])=>`${y}${w}=${S},`,"");if(_z(h)&&c!=="_self")return _7(e||"",c),new OE(null);const g=window.open(e||"",c,p);Ce(g,t,"popup-blocked");try{g.focus()}catch{}return new OE(g)}function _7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7="__/auth/handler",b7="emulator/auth/handler",N7=encodeURIComponent("fac");async function LE(t,e,n,r,s,i){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Eu,eventId:s};if(e instanceof _w){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",z9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof nf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),h=d?`#${N7}=${encodeURIComponent(d)}`:"";return`${E7(t)}?${Nu(c).slice(1)}${h}`}function E7({config:t}){return t.emulator?pw(t,b7):`https://${t.authDomain}/${w7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="webStorageSupport";class S7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l2,this._completeRedirectFn=p2,this._overrideRedirectResult=W$}async _openPopup(e,n,r,s){var i;ao((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const l=await LE(e,n,r,G0(),s);return x7(e,l,ww())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await LE(e,n,r,G0(),s);return _$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ao(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await f7(e),r=new Y$(e);return n.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wv,{type:wv},s=>{var i;const l=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[wv];l!==void 0&&n(!!l),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=n7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kk()||Bk()||yw()}}const T7=S7;var FE="@firebase/auth",VE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I7(t){Yc(new ol("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zk(t)},h=new Tz(r,s,i,d);return $z(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yc(new ol("auth-internal",e=>{const n=es(e.getProvider("auth").getImmediate());return(r=>new C7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ta(FE,VE,P7(t)),ta(FE,VE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7=5*60,j7=bk("authIdTokenMaxAge")||k7;let zE=null;const A7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j7)return;const s=n==null?void 0:n.token;zE!==s&&(zE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function R7(t=Pk()){const e=hw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zz(t,{popupRedirectResolver:T7,persistence:[I$,y$,l2]}),r=bk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const l=A7(i.toString());h$(n,l,()=>l(n.currentUser)),d$(n,c=>l(c))}}const s=_k("auth");return s&&Bz(n,`http://${s}`),n}function M7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Cz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ar("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",M7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I7("Browser");var $E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,y2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,k){function j(){}j.prototype=k.prototype,A.D=k.prototype,A.prototype=new j,A.prototype.constructor=A,A.C=function(O,R,V){for(var F=Array(arguments.length-2),te=2;te<arguments.length;te++)F[te-2]=arguments[te];return k.prototype[R].apply(O,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,k,j){j||(j=0);var O=Array(16);if(typeof k=="string")for(var R=0;16>R;++R)O[R]=k.charCodeAt(j++)|k.charCodeAt(j++)<<8|k.charCodeAt(j++)<<16|k.charCodeAt(j++)<<24;else for(R=0;16>R;++R)O[R]=k[j++]|k[j++]<<8|k[j++]<<16|k[j++]<<24;k=A.g[0],j=A.g[1],R=A.g[2];var V=A.g[3],F=k+(V^j&(R^V))+O[0]+3614090360&4294967295;k=j+(F<<7&4294967295|F>>>25),F=V+(R^k&(j^R))+O[1]+3905402710&4294967295,V=k+(F<<12&4294967295|F>>>20),F=R+(j^V&(k^j))+O[2]+606105819&4294967295,R=V+(F<<17&4294967295|F>>>15),F=j+(k^R&(V^k))+O[3]+3250441966&4294967295,j=R+(F<<22&4294967295|F>>>10),F=k+(V^j&(R^V))+O[4]+4118548399&4294967295,k=j+(F<<7&4294967295|F>>>25),F=V+(R^k&(j^R))+O[5]+1200080426&4294967295,V=k+(F<<12&4294967295|F>>>20),F=R+(j^V&(k^j))+O[6]+2821735955&4294967295,R=V+(F<<17&4294967295|F>>>15),F=j+(k^R&(V^k))+O[7]+4249261313&4294967295,j=R+(F<<22&4294967295|F>>>10),F=k+(V^j&(R^V))+O[8]+1770035416&4294967295,k=j+(F<<7&4294967295|F>>>25),F=V+(R^k&(j^R))+O[9]+2336552879&4294967295,V=k+(F<<12&4294967295|F>>>20),F=R+(j^V&(k^j))+O[10]+4294925233&4294967295,R=V+(F<<17&4294967295|F>>>15),F=j+(k^R&(V^k))+O[11]+2304563134&4294967295,j=R+(F<<22&4294967295|F>>>10),F=k+(V^j&(R^V))+O[12]+1804603682&4294967295,k=j+(F<<7&4294967295|F>>>25),F=V+(R^k&(j^R))+O[13]+4254626195&4294967295,V=k+(F<<12&4294967295|F>>>20),F=R+(j^V&(k^j))+O[14]+2792965006&4294967295,R=V+(F<<17&4294967295|F>>>15),F=j+(k^R&(V^k))+O[15]+1236535329&4294967295,j=R+(F<<22&4294967295|F>>>10),F=k+(R^V&(j^R))+O[1]+4129170786&4294967295,k=j+(F<<5&4294967295|F>>>27),F=V+(j^R&(k^j))+O[6]+3225465664&4294967295,V=k+(F<<9&4294967295|F>>>23),F=R+(k^j&(V^k))+O[11]+643717713&4294967295,R=V+(F<<14&4294967295|F>>>18),F=j+(V^k&(R^V))+O[0]+3921069994&4294967295,j=R+(F<<20&4294967295|F>>>12),F=k+(R^V&(j^R))+O[5]+3593408605&4294967295,k=j+(F<<5&4294967295|F>>>27),F=V+(j^R&(k^j))+O[10]+38016083&4294967295,V=k+(F<<9&4294967295|F>>>23),F=R+(k^j&(V^k))+O[15]+3634488961&4294967295,R=V+(F<<14&4294967295|F>>>18),F=j+(V^k&(R^V))+O[4]+3889429448&4294967295,j=R+(F<<20&4294967295|F>>>12),F=k+(R^V&(j^R))+O[9]+568446438&4294967295,k=j+(F<<5&4294967295|F>>>27),F=V+(j^R&(k^j))+O[14]+3275163606&4294967295,V=k+(F<<9&4294967295|F>>>23),F=R+(k^j&(V^k))+O[3]+4107603335&4294967295,R=V+(F<<14&4294967295|F>>>18),F=j+(V^k&(R^V))+O[8]+1163531501&4294967295,j=R+(F<<20&4294967295|F>>>12),F=k+(R^V&(j^R))+O[13]+2850285829&4294967295,k=j+(F<<5&4294967295|F>>>27),F=V+(j^R&(k^j))+O[2]+4243563512&4294967295,V=k+(F<<9&4294967295|F>>>23),F=R+(k^j&(V^k))+O[7]+1735328473&4294967295,R=V+(F<<14&4294967295|F>>>18),F=j+(V^k&(R^V))+O[12]+2368359562&4294967295,j=R+(F<<20&4294967295|F>>>12),F=k+(j^R^V)+O[5]+4294588738&4294967295,k=j+(F<<4&4294967295|F>>>28),F=V+(k^j^R)+O[8]+2272392833&4294967295,V=k+(F<<11&4294967295|F>>>21),F=R+(V^k^j)+O[11]+1839030562&4294967295,R=V+(F<<16&4294967295|F>>>16),F=j+(R^V^k)+O[14]+4259657740&4294967295,j=R+(F<<23&4294967295|F>>>9),F=k+(j^R^V)+O[1]+2763975236&4294967295,k=j+(F<<4&4294967295|F>>>28),F=V+(k^j^R)+O[4]+1272893353&4294967295,V=k+(F<<11&4294967295|F>>>21),F=R+(V^k^j)+O[7]+4139469664&4294967295,R=V+(F<<16&4294967295|F>>>16),F=j+(R^V^k)+O[10]+3200236656&4294967295,j=R+(F<<23&4294967295|F>>>9),F=k+(j^R^V)+O[13]+681279174&4294967295,k=j+(F<<4&4294967295|F>>>28),F=V+(k^j^R)+O[0]+3936430074&4294967295,V=k+(F<<11&4294967295|F>>>21),F=R+(V^k^j)+O[3]+3572445317&4294967295,R=V+(F<<16&4294967295|F>>>16),F=j+(R^V^k)+O[6]+76029189&4294967295,j=R+(F<<23&4294967295|F>>>9),F=k+(j^R^V)+O[9]+3654602809&4294967295,k=j+(F<<4&4294967295|F>>>28),F=V+(k^j^R)+O[12]+3873151461&4294967295,V=k+(F<<11&4294967295|F>>>21),F=R+(V^k^j)+O[15]+530742520&4294967295,R=V+(F<<16&4294967295|F>>>16),F=j+(R^V^k)+O[2]+3299628645&4294967295,j=R+(F<<23&4294967295|F>>>9),F=k+(R^(j|~V))+O[0]+4096336452&4294967295,k=j+(F<<6&4294967295|F>>>26),F=V+(j^(k|~R))+O[7]+1126891415&4294967295,V=k+(F<<10&4294967295|F>>>22),F=R+(k^(V|~j))+O[14]+2878612391&4294967295,R=V+(F<<15&4294967295|F>>>17),F=j+(V^(R|~k))+O[5]+4237533241&4294967295,j=R+(F<<21&4294967295|F>>>11),F=k+(R^(j|~V))+O[12]+1700485571&4294967295,k=j+(F<<6&4294967295|F>>>26),F=V+(j^(k|~R))+O[3]+2399980690&4294967295,V=k+(F<<10&4294967295|F>>>22),F=R+(k^(V|~j))+O[10]+4293915773&4294967295,R=V+(F<<15&4294967295|F>>>17),F=j+(V^(R|~k))+O[1]+2240044497&4294967295,j=R+(F<<21&4294967295|F>>>11),F=k+(R^(j|~V))+O[8]+1873313359&4294967295,k=j+(F<<6&4294967295|F>>>26),F=V+(j^(k|~R))+O[15]+4264355552&4294967295,V=k+(F<<10&4294967295|F>>>22),F=R+(k^(V|~j))+O[6]+2734768916&4294967295,R=V+(F<<15&4294967295|F>>>17),F=j+(V^(R|~k))+O[13]+1309151649&4294967295,j=R+(F<<21&4294967295|F>>>11),F=k+(R^(j|~V))+O[4]+4149444226&4294967295,k=j+(F<<6&4294967295|F>>>26),F=V+(j^(k|~R))+O[11]+3174756917&4294967295,V=k+(F<<10&4294967295|F>>>22),F=R+(k^(V|~j))+O[2]+718787259&4294967295,R=V+(F<<15&4294967295|F>>>17),F=j+(V^(R|~k))+O[9]+3951481745&4294967295,A.g[0]=A.g[0]+k&4294967295,A.g[1]=A.g[1]+(R+(F<<21&4294967295|F>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+V&4294967295}r.prototype.u=function(A,k){k===void 0&&(k=A.length);for(var j=k-this.blockSize,O=this.B,R=this.h,V=0;V<k;){if(R==0)for(;V<=j;)s(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<k;)if(O[R++]=A.charCodeAt(V++),R==this.blockSize){s(this,O),R=0;break}}else for(;V<k;)if(O[R++]=A[V++],R==this.blockSize){s(this,O),R=0;break}}this.h=R,this.o+=k},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var k=1;k<A.length-8;++k)A[k]=0;var j=8*this.o;for(k=A.length-8;k<A.length;++k)A[k]=j&255,j/=256;for(this.u(A),A=Array(16),k=j=0;4>k;++k)for(var O=0;32>O;O+=8)A[j++]=this.g[k]>>>O&255;return A};function i(A,k){var j=c;return Object.prototype.hasOwnProperty.call(j,A)?j[A]:j[A]=k(A)}function l(A,k){this.h=k;for(var j=[],O=!0,R=A.length-1;0<=R;R--){var V=A[R]|0;O&&V==k||(j[R]=V,O=!1)}this.g=j}var c={};function d(A){return-128<=A&&128>A?i(A,function(k){return new l([k|0],0>k?-1:0)}):new l([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return g;if(0>A)return T(h(-A));for(var k=[],j=1,O=0;A>=j;O++)k[O]=A/j|0,j*=4294967296;return new l(k,0)}function p(A,k){if(A.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A.charAt(0)=="-")return T(p(A.substring(1),k));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=h(Math.pow(k,8)),O=g,R=0;R<A.length;R+=8){var V=Math.min(8,A.length-R),F=parseInt(A.substring(R,R+V),k);8>V?(V=h(Math.pow(k,V)),O=O.j(V).add(h(F))):(O=O.j(j),O=O.add(h(F)))}return O}var g=d(0),y=d(1),w=d(16777216);t=l.prototype,t.m=function(){if(x(this))return-T(this).m();for(var A=0,k=1,j=0;j<this.g.length;j++){var O=this.i(j);A+=(0<=O?O:4294967296+O)*k,k*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(x(this))return"-"+T(this).toString(A);for(var k=h(Math.pow(A,6)),j=this,O="";;){var R=D(j,k).g;j=E(j,R.j(k));var V=((0<j.g.length?j.g[0]:j.h)>>>0).toString(A);if(j=R,S(j))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(var k=0;k<A.g.length;k++)if(A.g[k]!=0)return!1;return!0}function x(A){return A.h==-1}t.l=function(A){return A=E(this,A),x(A)?-1:S(A)?0:1};function T(A){for(var k=A.g.length,j=[],O=0;O<k;O++)j[O]=~A.g[O];return new l(j,~A.h).add(y)}t.abs=function(){return x(this)?T(this):this},t.add=function(A){for(var k=Math.max(this.g.length,A.g.length),j=[],O=0,R=0;R<=k;R++){var V=O+(this.i(R)&65535)+(A.i(R)&65535),F=(V>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);O=F>>>16,V&=65535,F&=65535,j[R]=F<<16|V}return new l(j,j[j.length-1]&-2147483648?-1:0)};function E(A,k){return A.add(T(k))}t.j=function(A){if(S(this)||S(A))return g;if(x(this))return x(A)?T(this).j(T(A)):T(T(this).j(A));if(x(A))return T(this.j(T(A)));if(0>this.l(w)&&0>A.l(w))return h(this.m()*A.m());for(var k=this.g.length+A.g.length,j=[],O=0;O<2*k;O++)j[O]=0;for(O=0;O<this.g.length;O++)for(var R=0;R<A.g.length;R++){var V=this.i(O)>>>16,F=this.i(O)&65535,te=A.i(R)>>>16,pe=A.i(R)&65535;j[2*O+2*R]+=F*pe,N(j,2*O+2*R),j[2*O+2*R+1]+=V*pe,N(j,2*O+2*R+1),j[2*O+2*R+1]+=F*te,N(j,2*O+2*R+1),j[2*O+2*R+2]+=V*te,N(j,2*O+2*R+2)}for(O=0;O<k;O++)j[O]=j[2*O+1]<<16|j[2*O];for(O=k;O<2*k;O++)j[O]=0;return new l(j,0)};function N(A,k){for(;(A[k]&65535)!=A[k];)A[k+1]+=A[k]>>>16,A[k]&=65535,k++}function P(A,k){this.g=A,this.h=k}function D(A,k){if(S(k))throw Error("division by zero");if(S(A))return new P(g,g);if(x(A))return k=D(T(A),k),new P(T(k.g),T(k.h));if(x(k))return k=D(A,T(k)),new P(T(k.g),k.h);if(30<A.g.length){if(x(A)||x(k))throw Error("slowDivide_ only works with positive integers.");for(var j=y,O=k;0>=O.l(A);)j=$(j),O=$(O);var R=B(j,1),V=B(O,1);for(O=B(O,2),j=B(j,2);!S(O);){var F=V.add(O);0>=F.l(A)&&(R=R.add(j),V=F),O=B(O,1),j=B(j,1)}return k=E(A,R.j(k)),new P(R,k)}for(R=g;0<=A.l(k);){for(j=Math.max(1,Math.floor(A.m()/k.m())),O=Math.ceil(Math.log(j)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=h(j),F=V.j(k);x(F)||0<F.l(A);)j-=O,V=h(j),F=V.j(k);S(V)&&(V=y),R=R.add(V),A=E(A,F)}return new P(R,A)}t.A=function(A){return D(this,A).h},t.and=function(A){for(var k=Math.max(this.g.length,A.g.length),j=[],O=0;O<k;O++)j[O]=this.i(O)&A.i(O);return new l(j,this.h&A.h)},t.or=function(A){for(var k=Math.max(this.g.length,A.g.length),j=[],O=0;O<k;O++)j[O]=this.i(O)|A.i(O);return new l(j,this.h|A.h)},t.xor=function(A){for(var k=Math.max(this.g.length,A.g.length),j=[],O=0;O<k;O++)j[O]=this.i(O)^A.i(O);return new l(j,this.h^A.h)};function $(A){for(var k=A.g.length+1,j=[],O=0;O<k;O++)j[O]=A.i(O)<<1|A.i(O-1)>>>31;return new l(j,A.h)}function B(A,k){var j=k>>5;k%=32;for(var O=A.g.length-j,R=[],V=0;V<O;V++)R[V]=0<k?A.i(V+j)>>>k|A.i(V+j+1)<<32-k:A.i(V+j);return new l(R,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,y2=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,na=l}).apply(typeof $E<"u"?$E:typeof self<"u"?self:typeof window<"u"?window:{});var fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v2,Cd,x2,Bm,Q0,_2,w2,b2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,I){return f==Array.prototype||f==Object.prototype||(f[b]=I.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof fm=="object"&&fm];for(var b=0;b<f.length;++b){var I=f[b];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var I=r;f=f.split(".");for(var z=0;z<f.length-1;z++){var X=f[z];if(!(X in I))break e;I=I[X]}f=f[f.length-1],z=I[f],b=b(z),b!=z&&b!=null&&e(I,f,{configurable:!0,writable:!0,value:b})}}function i(f,b){f instanceof String&&(f+="");var I=0,z=!1,X={next:function(){if(!z&&I<f.length){var oe=I++;return{value:b(oe,f[oe]),done:!1}}return z=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(f){return f||function(){return i(this,function(b,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function h(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function p(f,b,I){return f.call.apply(f.bind,arguments)}function g(f,b,I){if(!f)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,z),f.apply(b,X)}}return function(){return f.apply(b,arguments)}}function y(f,b,I){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function w(f,b){var I=Array.prototype.slice.call(arguments,1);return function(){var z=I.slice();return z.push.apply(z,arguments),f.apply(this,z)}}function S(f,b){function I(){}I.prototype=b.prototype,f.aa=b.prototype,f.prototype=new I,f.prototype.constructor=f,f.Qb=function(z,X,oe){for(var we=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)we[Et-2]=arguments[Et];return b.prototype[X].apply(z,we)}}function x(f){const b=f.length;if(0<b){const I=Array(b);for(let z=0;z<b;z++)I[z]=f[z];return I}return[]}function T(f,b){for(let I=1;I<arguments.length;I++){const z=arguments[I];if(d(z)){const X=f.length||0,oe=z.length||0;f.length=X+oe;for(let we=0;we<oe;we++)f[X+we]=z[we]}else f.push(z)}}class E{constructor(b,I){this.i=b,this.j=I,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function N(f){return/^[\s\xa0]*$/.test(f)}function P(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function D(f){return D[" "](f),f}D[" "]=function(){};var $=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function B(f,b,I){for(const z in f)b.call(I,f[z],z,f)}function A(f,b){for(const I in f)b.call(void 0,f[I],I,f)}function k(f){const b={};for(const I in f)b[I]=f[I];return b}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,b){let I,z;for(let X=1;X<arguments.length;X++){z=arguments[X];for(I in z)f[I]=z[I];for(let oe=0;oe<j.length;oe++)I=j[oe],Object.prototype.hasOwnProperty.call(z,I)&&(f[I]=z[I])}}function R(f){var b=1;f=f.split(":");const I=[];for(;0<b&&f.length;)I.push(f.shift()),b--;return f.length&&I.push(f.join(":")),I}function V(f){c.setTimeout(()=>{throw f},0)}function F(){var f=H;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class te{constructor(){this.h=this.g=null}add(b,I){const z=pe.get();z.set(b,I),this.h?this.h.next=z:this.g=z,this.h=z}}var pe=new E(()=>new Q,f=>f.reset());class Q{constructor(){this.next=this.g=this.h=null}set(b,I){this.h=b,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,U=!1,H=new te,K=()=>{const f=c.Promise.resolve(void 0);ee=()=>{f.then(ne)}};var ne=()=>{for(var f;f=F();){try{f.h.call(f.g)}catch(I){V(I)}var b=pe;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}U=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const I=()=>{};c.addEventListener("test",I,b),c.removeEventListener("test",I,b)}catch{}return f}();function ge(f,b){if(Z.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var I=this.type=f.type,z=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if($){e:{try{D(b.nodeName);var X=!0;break e}catch{}X=!1}X||(b=null)}}else I=="mouseover"?b=f.fromElement:I=="mouseout"&&(b=f.toElement);this.relatedTarget=b,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:be[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ge.aa.h.call(this)}}S(ge,Z);var be={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),ve=0;function re(f,b,I,z,X){this.listener=f,this.proxy=null,this.src=b,this.type=I,this.capture=!!z,this.ha=X,this.key=++ve,this.da=this.fa=!1}function ae(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ce(f){this.src=f,this.g={},this.h=0}ce.prototype.add=function(f,b,I,z,X){var oe=f.toString();f=this.g[oe],f||(f=this.g[oe]=[],this.h++);var we=Ie(f,b,z,X);return-1<we?(b=f[we],I||(b.fa=!1)):(b=new re(b,this.src,oe,!!z,X),b.fa=I,f.push(b)),b};function le(f,b){var I=b.type;if(I in f.g){var z=f.g[I],X=Array.prototype.indexOf.call(z,b,void 0),oe;(oe=0<=X)&&Array.prototype.splice.call(z,X,1),oe&&(ae(b),f.g[I].length==0&&(delete f.g[I],f.h--))}}function Ie(f,b,I,z){for(var X=0;X<f.length;++X){var oe=f[X];if(!oe.da&&oe.listener==b&&oe.capture==!!I&&oe.ha==z)return X}return-1}var je="closure_lm_"+(1e6*Math.random()|0),et={};function ct(f,b,I,z,X){if(Array.isArray(b)){for(var oe=0;oe<b.length;oe++)ct(f,b[oe],I,z,X);return null}return I=qe(I),f&&f[G]?f.K(b,I,h(z)?!!z.capture:!1,X):vt(f,b,I,!1,z,X)}function vt(f,b,I,z,X,oe){if(!b)throw Error("Invalid event type");var we=h(X)?!!X.capture:!!X,Et=nn(f);if(Et||(f[je]=Et=new ce(f)),I=Et.add(b,I,z,we,oe),I.proxy)return I;if(z=rt(),I.proxy=z,z.src=f,z.listener=I,f.addEventListener)ue||(X=we),X===void 0&&(X=!1),f.addEventListener(b.toString(),z,X);else if(f.attachEvent)f.attachEvent(qt(b.toString()),z);else if(f.addListener&&f.removeListener)f.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return I}function rt(){function f(I){return b.call(f.src,f.listener,I)}const b=lr;return f}function It(f,b,I,z,X){if(Array.isArray(b))for(var oe=0;oe<b.length;oe++)It(f,b[oe],I,z,X);else z=h(z)?!!z.capture:!!z,I=qe(I),f&&f[G]?(f=f.i,b=String(b).toString(),b in f.g&&(oe=f.g[b],I=Ie(oe,I,z,X),-1<I&&(ae(oe[I]),Array.prototype.splice.call(oe,I,1),oe.length==0&&(delete f.g[b],f.h--)))):f&&(f=nn(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Ie(b,I,z,X)),(I=-1<f?b[f]:null)&&mt(I))}function mt(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[G])le(b.i,f);else{var I=f.type,z=f.proxy;b.removeEventListener?b.removeEventListener(I,z,f.capture):b.detachEvent?b.detachEvent(qt(I),z):b.addListener&&b.removeListener&&b.removeListener(z),(I=nn(b))?(le(I,f),I.h==0&&(I.src=null,b[je]=null)):ae(f)}}}function qt(f){return f in et?et[f]:et[f]="on"+f}function lr(f,b){if(f.da)f=!0;else{b=new ge(b,this);var I=f.listener,z=f.ha||f.src;f.fa&&mt(f),f=I.call(z,b)}return f}function nn(f){return f=f[je],f instanceof ce?f:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function qe(f){return typeof f=="function"?f:(f[_e]||(f[_e]=function(b){return f.handleEvent(b)}),f[_e])}function Qe(){ie.call(this),this.i=new ce(this),this.M=this,this.F=null}S(Qe,ie),Qe.prototype[G]=!0,Qe.prototype.removeEventListener=function(f,b,I,z){It(this,f,b,I,z)};function Ue(f,b){var I,z=f.F;if(z)for(I=[];z;z=z.F)I.push(z);if(f=f.M,z=b.type||b,typeof b=="string")b=new Z(b,f);else if(b instanceof Z)b.target=b.target||f;else{var X=b;b=new Z(z,f),O(b,X)}if(X=!0,I)for(var oe=I.length-1;0<=oe;oe--){var we=b.g=I[oe];X=cr(we,z,!0,b)&&X}if(we=b.g=f,X=cr(we,z,!0,b)&&X,X=cr(we,z,!1,b)&&X,I)for(oe=0;oe<I.length;oe++)we=b.g=I[oe],X=cr(we,z,!1,b)&&X}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var I=f.g[b],z=0;z<I.length;z++)ae(I[z]);delete f.g[b],f.h--}}this.F=null},Qe.prototype.K=function(f,b,I,z){return this.i.add(String(f),b,!1,I,z)},Qe.prototype.L=function(f,b,I,z){return this.i.add(String(f),b,!0,I,z)};function cr(f,b,I,z){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var X=!0,oe=0;oe<b.length;++oe){var we=b[oe];if(we&&!we.da&&we.capture==I){var Et=we.listener,ln=we.ha||we.src;we.fa&&le(f.i,we),X=Et.call(ln,z)!==!1&&X}}return X&&!z.defaultPrevented}function Hn(f,b,I){if(typeof f=="function")I&&(f=y(f,I));else if(f&&typeof f.handleEvent=="function")f=y(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:c.setTimeout(f,b||0)}function Xt(f){f.g=Hn(()=>{f.g=null,f.i&&(f.i=!1,Xt(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Wn extends ie{constructor(b,I){super(),this.m=b,this.l=I,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Xt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(f){ie.call(this),this.h=f,this.g={}}S(Rn,ie);var Gn=[];function Mn(f){B(f.g,function(b,I){this.g.hasOwnProperty(I)&&mt(b)},f),f.g={}}Rn.prototype.N=function(){Rn.aa.N.call(this),Mn(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rt=c.JSON.stringify,_r=c.JSON.parse,Or=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Ti(){}Ti.prototype.h=null;function Qs(f){return f.h||(f.h=f.i())}function Ys(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fr(){Z.call(this,"d")}S(Fr,Z);function Dn(){Z.call(this,"c")}S(Dn,Z);var Vr={},Fe=null;function st(){return Fe=Fe||new Qe}Vr.La="serverreachability";function wt(f){Z.call(this,Vr.La,f)}S(wt,Z);function pn(f){const b=st();Ue(b,new wt(b))}Vr.STAT_EVENT="statevent";function Nn(f,b){Z.call(this,Vr.STAT_EVENT,f),this.stat=b}S(Nn,Z);function jt(f){const b=st();Ue(b,new Nn(b,f))}Vr.Ma="timingevent";function ts(f,b){Z.call(this,Vr.Ma,f),this.size=b}S(ts,Z);function gn(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},b)}function Kn(){this.g=!0}Kn.prototype.xa=function(){this.g=!1};function ns(f,b,I,z,X,oe){f.info(function(){if(f.g)if(oe)for(var we="",Et=oe.split("&"),ln=0;ln<Et.length;ln++){var pt=Et[ln].split("=");if(1<pt.length){var Pt=pt[0];pt=pt[1];var Wt=Pt.split("_");we=2<=Wt.length&&Wt[1]=="type"?we+(Pt+"="+pt+"&"):we+(Pt+"=redacted&")}}else we=null;else we=oe;return"XMLHTTP REQ ("+z+") [attempt "+X+"]: "+b+`
`+I+`
`+we})}function Oe(f,b,I,z,X,oe,we){f.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+X+"]: "+b+`
`+I+`
`+oe+" "+we})}function Ci(f,b,I,z){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+vf(f,I)+(z?" "+z:"")})}function yf(f,b){f.info(function(){return"TIMEOUT: "+b})}Kn.prototype.info=function(){};function vf(f,b){if(!f.g)return b;if(!b)return null;try{var I=JSON.parse(b);if(I){for(f=0;f<I.length;f++)if(Array.isArray(I[f])){var z=I[f];if(!(2>z.length)){var X=z[1];if(Array.isArray(X)&&!(1>X.length)){var oe=X[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var we=1;we<X.length;we++)X[we]=""}}}}return Rt(I)}catch{return b}}var Ta={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Al;function bs(){}S(bs,Ti),bs.prototype.g=function(){return new XMLHttpRequest},bs.prototype.i=function(){return{}},Al=new bs;function Ns(f,b,I,z){this.j=f,this.i=b,this.l=I,this.R=z||1,this.U=new Rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xf}function xf(){this.i=null,this.g="",this.h=!1}var _f={},Du={};function Ou(f,b,I){f.L=1,f.v=ss(Jt(b)),f.m=I,f.P=!0,Lu(f,null)}function Lu(f,b){f.F=Date.now(),Ml(f),f.A=Jt(f.v);var I=f.A,z=f.R;Array.isArray(z)||(z=[String(z)]),Nf(I.i,"t",z),f.C=0,I=f.j.J,f.h=new xf,f.g=kf(f.j,I?b:null,!f.m),0<f.O&&(f.M=new Wn(y(f.Y,f,f.g),f.O)),b=f.U,I=f.g,z=f.ca;var X="readystatechange";Array.isArray(X)||(X&&(Gn[0]=X.toString()),X=Gn);for(var oe=0;oe<X.length;oe++){var we=ct(I,X[oe],z||b.handleEvent,!1,b.h||b);if(!we)break;b.g[we.key]=we}b=f.H?k(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),pn(),ns(f.i,f.u,f.A,f.l,f.R,f.m)}Ns.prototype.ca=function(f){f=f.target;const b=this.M;b&&ur(f)==3?b.j():this.Y(f)},Ns.prototype.Y=function(f){try{if(f==this.g)e:{const Wt=ur(this.g);var b=this.g.Ba();const xo=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||Ju(this.g)))){this.J||Wt!=4||b==7||(b==8||0>=xo?pn(3):pn(2)),Fu(this);var I=this.g.Z();this.X=I;t:if(wf(this)){var z=Ju(this.g);f="";var X=z.length,oe=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),Ca(this);var we="";break t}this.h.i=new c.TextDecoder}for(b=0;b<X;b++)this.h.h=!0,f+=this.h.i.decode(z[b],{stream:!(oe&&b==X-1)});z.length=0,this.h.g+=f,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=I==200,Oe(this.i,this.u,this.A,this.l,this.R,Wt,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Et,ln=this.g;if((Et=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Et)){var pt=Et;break t}}pt=null}if(I=pt)Ci(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pa(this,I);else{this.o=!1,this.s=3,jt(12),Pi(this),Ca(this);break e}}if(this.P){I=!0;let rn;for(;!this.J&&this.C<we.length;)if(rn=Rl(this,we),rn==Du){Wt==4&&(this.s=4,jt(14),I=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==_f){this.s=4,jt(15),Ci(this.i,this.l,we,"[Invalid Chunk]"),I=!1;break}else Ci(this.i,this.l,rn,null),Pa(this,rn);if(wf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||we.length!=0||this.h.h||(this.s=1,jt(16),I=!1),this.o=this.o&&I,!I)Ci(this.i,this.l,we,"[Invalid Chunked Response]"),Pi(this),Ca(this);else if(0<we.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),Ul(Pt),Pt.M=!0,jt(11))}}else Ci(this.i,this.l,we,null),Pa(this,we);Wt==4&&Pi(this),this.o&&!this.J&&(Wt==4?td(this.j,this):(this.o=!1,Ml(this)))}else Sy(this.g),I==400&&0<we.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),Pi(this),Ca(this)}}}catch{}finally{}};function wf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Rl(f,b){var I=f.C,z=b.indexOf(`
`,I);return z==-1?Du:(I=Number(b.substring(I,z)),isNaN(I)?_f:(z+=1,z+I>b.length?Du:(b=b.slice(z,z+I),f.C=z+I,b)))}Ns.prototype.cancel=function(){this.J=!0,Pi(this)};function Ml(f){f.S=Date.now()+f.I,bf(f,f.I)}function bf(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=gn(y(f.ba,f),b)}function Fu(f){f.B&&(c.clearTimeout(f.B),f.B=null)}Ns.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(yf(this.i,this.A),this.L!=2&&(pn(),jt(17)),Pi(this),this.s=2,Ca(this)):bf(this,this.S-f)};function Ca(f){f.j.G==0||f.J||td(f.j,f)}function Pi(f){Fu(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,Mn(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function Pa(f,b){try{var I=f.j;if(I.G!=0&&(I.g==f||ut(I.h,f))){if(!f.K&&ut(I.h,f)&&I.G==3){try{var z=I.Da.g.parse(b)}catch{z=null}if(Array.isArray(z)&&z.length==3){var X=z;if(X[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<f.F)Hl(I),$l(I);else break e;Bl(I),jt(18)}}else I.za=X[1],0<I.za-I.T&&37500>X[2]&&I.F&&I.v==0&&!I.C&&(I.C=gn(y(I.Za,I),6e3));if(1>=fo(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Ri(I,11)}else if((f.K||I.g==f)&&Hl(I),!N(b))for(X=I.Da.g.parse(b),b=0;b<X.length;b++){let pt=X[b];if(I.T=pt[0],pt=pt[1],I.G==2)if(pt[0]=="c"){I.K=pt[1],I.ia=pt[2];const Pt=pt[3];Pt!=null&&(I.la=Pt,I.j.info("VER="+I.la));const Wt=pt[4];Wt!=null&&(I.Aa=Wt,I.j.info("SVER="+I.Aa));const xo=pt[5];xo!=null&&typeof xo=="number"&&0<xo&&(z=1.5*xo,I.L=z,I.j.info("backChannelRequestTimeoutMs_="+z)),z=I;const rn=f.g;if(rn){const Gl=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gl){var oe=z.h;oe.g||Gl.indexOf("spdy")==-1&&Gl.indexOf("quic")==-1&&Gl.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(kt(oe,oe.h),oe.h=null))}if(z.D){const ei=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;ei&&(z.ya=ei,He(z.I,z.D,ei))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-f.F,I.j.info("Handshake RTT: "+I.R+"ms")),z=I;var we=f;if(z.qa=Wl(z,z.J?z.ia:null,z.W),we.K){ka(z.h,we);var Et=we,ln=z.L;ln&&(Et.I=ln),Et.B&&(Fu(Et),Ml(Et)),z.g=we}else Ts(z);0<I.i.length&&vo(I)}else pt[0]!="stop"&&pt[0]!="close"||Ri(I,7);else I.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Ri(I,7):zl(I):pt[0]!="noop"&&I.l&&I.l.ta(pt),I.v=0)}}pn(4)}catch{}}var Ia=class{constructor(f,b){this.g=f,this.map=b}};function Vu(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function fo(f){return f.h?1:f.g?f.g.size:0}function ut(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function kt(f,b){f.g?f.g.add(b):f.h=b}function ka(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Vu.prototype.cancel=function(){if(this.i=Ii(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ii(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const I of f.g.values())b=b.concat(I.D);return b}return x(f.i)}function mo(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var b=[],I=f.length,z=0;z<I;z++)b.push(f[z]);return b}b=[],I=0;for(z in f)b[I++]=f[z];return b}function $u(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var b=[];f=f.length;for(var I=0;I<f;I++)b.push(I);return b}b=[],I=0;for(const z in f)b[I++]=z;return b}}}function Ye(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var I=$u(f),z=mo(f),X=z.length,oe=0;oe<X;oe++)b.call(void 0,z[oe],I&&I[oe],f)}var zt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bu(f,b){if(f){f=f.split("&");for(var I=0;I<f.length;I++){var z=f[I].indexOf("="),X=null;if(0<=z){var oe=f[I].substring(0,z);X=f[I].substring(z+1)}else oe=f[I];b(oe,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function rs(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof rs){this.h=f.h,Dl(this,f.j),this.o=f.o,this.g=f.g,ki(this,f.s),this.l=f.l;var b=f.i,I=new ji;I.i=b.i,b.g&&(I.g=new Map(b.g),I.h=b.h),Xs(this,I),this.m=f.m}else f&&(b=String(f).match(zt))?(this.h=!1,Dl(this,b[1]||"",!0),this.o=Es(b[2]||""),this.g=Es(b[3]||"",!0),ki(this,b[4]),this.l=Es(b[5]||"",!0),Xs(this,b[6]||"",!0),this.m=Es(b[7]||"")):(this.h=!1,this.i=new ji(null,this.h))}rs.prototype.toString=function(){var f=[],b=this.j;b&&f.push(Ss(b,po,!0),":");var I=this.g;return(I||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Ss(b,po,!0),"@"),f.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&f.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&f.push("/"),f.push(Ss(I,I.charAt(0)=="/"?Hu:qu,!0))),(I=this.i.toString())&&f.push("?",I),(I=this.m)&&f.push("#",Ss(I,Wu)),f.join("")};function Jt(f){return new rs(f)}function Dl(f,b,I){f.j=I?Es(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function ki(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function Xs(f,b,I){b instanceof ji?(f.i=b,is(f.i,f.h)):(I||(b=Ss(b,Ol)),f.i=new ji(b,f.h))}function He(f,b,I){f.i.set(b,I)}function ss(f){return He(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Es(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ss(f,b,I){return typeof f=="string"?(f=encodeURI(f).replace(b,Uu),I&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Uu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var po=/[#\/\?@]/g,qu=/[#\?:]/g,Hu=/[#\?]/g,Ol=/[#\?@]/g,Wu=/#/g;function ji(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function zr(f){f.g||(f.g=new Map,f.h=0,f.i&&Bu(f.i,function(b,I){f.add(decodeURIComponent(b.replace(/\+/g," ")),I)}))}t=ji.prototype,t.add=function(f,b){zr(this),this.i=null,f=ze(this,f);var I=this.g.get(f);return I||this.g.set(f,I=[]),I.push(b),this.h+=1,this};function Gu(f,b){zr(f),b=ze(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Ll(f,b){return zr(f),b=ze(f,b),f.g.has(b)}t.forEach=function(f,b){zr(this),this.g.forEach(function(I,z){I.forEach(function(X){f.call(b,X,z,this)},this)},this)},t.na=function(){zr(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),I=[];for(let z=0;z<b.length;z++){const X=f[z];for(let oe=0;oe<X.length;oe++)I.push(b[z])}return I},t.V=function(f){zr(this);let b=[];if(typeof f=="string")Ll(this,f)&&(b=b.concat(this.g.get(ze(this,f))));else{f=Array.from(this.g.values());for(let I=0;I<f.length;I++)b=b.concat(f[I])}return b},t.set=function(f,b){return zr(this),this.i=null,f=ze(this,f),Ll(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function Nf(f,b,I){Gu(f,b),0<I.length&&(f.i=null,f.g.set(ze(f,b),x(I)),f.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var I=0;I<b.length;I++){var z=b[I];const oe=encodeURIComponent(String(z)),we=this.V(z);for(z=0;z<we.length;z++){var X=oe;we[z]!==""&&(X+="="+encodeURIComponent(String(we[z]))),f.push(X)}}return this.i=f.join("&")};function ze(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function is(f,b){b&&!f.j&&(zr(f),f.i=null,f.g.forEach(function(I,z){var X=z.toLowerCase();z!=X&&(Gu(this,z),Nf(this,X,I))},f)),f.j=b}function Ct(f,b){const I=new Kn;if(c.Image){const z=new Image;z.onload=w(os,I,"TestLoadImage: loaded",!0,b,z),z.onerror=w(os,I,"TestLoadImage: error",!1,b,z),z.onabort=w(os,I,"TestLoadImage: abort",!1,b,z),z.ontimeout=w(os,I,"TestLoadImage: timeout",!1,b,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=f}else b(!1)}function Ef(f,b){const I=new Kn,z=new AbortController,X=setTimeout(()=>{z.abort(),os(I,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:z.signal}).then(oe=>{clearTimeout(X),oe.ok?os(I,"TestPingServer: ok",!0,b):os(I,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),os(I,"TestPingServer: error",!1,b)})}function os(f,b,I,z,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),z(I)}catch{}}function Ku(){this.g=new Or}function Zu(f,b,I){const z=I||"";try{Ye(f,function(X,oe){let we=X;h(X)&&(we=Rt(X)),b.push(z+oe+"="+encodeURIComponent(we))})}catch(X){throw b.push(z+"type="+encodeURIComponent("_badmap")),X}}function as(f){this.l=f.Ub||null,this.j=f.eb||!1}S(as,Ti),as.prototype.g=function(){return new go(this.l,this.j)},as.prototype.i=function(f){return function(){return f}}({});function go(f,b){Qe.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(go,Qe),t=go.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,$r(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||c).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ht(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yo(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function yo(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Ht(this):$r(this),this.readyState==3&&yo(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Ht(this))},t.Qa=function(f){this.g&&(this.response=f,Ht(this))},t.ga=function(){this.g&&Ht(this)};function Ht(f){f.readyState=4,f.l=null,f.j=null,f.v=null,$r(f)}t.setRequestHeader=function(f,b){this.u.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var I=b.next();!I.done;)I=I.value,f.push(I[0]+": "+I[1]),I=b.next();return f.join(`\r
`)};function $r(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(go.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Qu(f){let b="";return B(f,function(I,z){b+=z,b+=":",b+=I,b+=`\r
`}),b}function Fl(f,b,I){e:{for(z in I){var z=!1;break e}z=!0}z||(I=Qu(I),typeof f=="string"?I!=null&&encodeURIComponent(String(I)):He(f,b,I))}function $t(f){Qe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S($t,Qe);var Sf=/^https?$/i,Yu=["POST","PUT"];t=$t.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,b,I,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Al.g(),this.v=this.o?Qs(this.o):Qs(Al),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(oe){Tf(this,oe);return}if(f=I||"",I=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var X in z)I.set(X,z[X]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const oe of z.keys())I.set(oe,z.get(oe));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(I.keys()).find(oe=>oe.toLowerCase()=="content-type"),X=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Yu,b,void 0))||z||X||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,we]of I)this.g.setRequestHeader(oe,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wr(this),this.u=!0,this.g.send(f),this.u=!1}catch(oe){Tf(this,oe)}};function Tf(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,Xu(f),Vl(f)}function Xu(f){f.A||(f.A=!0,Ue(f,"complete"),Ue(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ue(this,"complete"),Ue(this,"abort"),Vl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vl(this,!0)),$t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?at(this):this.bb())},t.bb=function(){at(this)};function at(f){if(f.h&&typeof l<"u"&&(!f.v[1]||ur(f)!=4||f.Z()!=2)){if(f.u&&ur(f)==4)Hn(f.Ea,0,f);else if(Ue(f,"readystatechange"),ur(f)==4){f.h=!1;try{const we=f.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var I;if(!(I=b)){var z;if(z=we===0){var X=String(f.D).match(zt)[1]||null;!X&&c.self&&c.self.location&&(X=c.self.location.protocol.slice(0,-1)),z=!Sf.test(X?X.toLowerCase():"")}I=z}if(I)Ue(f,"complete"),Ue(f,"success");else{f.m=6;try{var oe=2<ur(f)?f.g.statusText:""}catch{oe=""}f.l=oe+" ["+f.Z()+"]",Xu(f)}}finally{Vl(f)}}}}function Vl(f,b){if(f.g){wr(f);const I=f.g,z=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||Ue(f,"ready");try{I.onreadystatechange=z}catch{}}}function wr(f){f.I&&(c.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function ur(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),_r(b)}};function Ju(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Sy(f){const b={};f=(f.g&&2<=ur(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<f.length;z++){if(N(f[z]))continue;var I=R(f[z]);const X=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const oe=b[X]||[];b[X]=oe,oe.push(I)}A(b,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(f,b,I){return I&&I.internalChannelParams&&I.internalChannelParams[f]||b}function Cf(f){this.Aa=0,this.i=[],this.j=new Kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ai("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ai("baseRetryDelayMs",5e3,f),this.cb=Ai("retryDelaySeedMs",1e4,f),this.Wa=Ai("forwardChannelMaxRetries",2,f),this.wa=Ai("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Vu(f&&f.concurrentRequestLimit),this.Da=new Ku,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Cf.prototype,t.la=8,t.G=1,t.connect=function(f,b,I,z){jt(0),this.W=f,this.H=b||{},I&&z!==void 0&&(this.H.OSID=I,this.H.OAID=z),this.F=this.X,this.I=Wl(this,null,this.W),vo(this)};function zl(f){if(Pf(f),f.G==3){var b=f.U++,I=Jt(f.I);if(He(I,"SID",f.K),He(I,"RID",b),He(I,"TYPE","terminate"),ja(f,I),b=new Ns(f,f.j,b),b.L=2,b.v=ss(Jt(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(b.v.toString(),"")}catch{}!I&&c.Image&&(new Image().src=b.v,I=!0),I||(b.g=kf(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Ml(b)}If(f)}function $l(f){f.g&&(Ul(f),f.g.cancel(),f.g=null)}function Pf(f){$l(f),f.u&&(c.clearTimeout(f.u),f.u=null),Hl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function vo(f){if(!zu(f.h)&&!f.s){f.s=!0;var b=f.Ga;ee||K(),U||(ee(),U=!0),H.add(b,f),f.B=0}}function Ty(f,b){return fo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=gn(y(f.Ga,f,b),nd(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const X=new Ns(this,this.j,f);let oe=this.o;if(this.S&&(oe?(oe=k(oe),O(oe,this.S)):oe=this.S),this.m!==null||this.O||(X.H=oe,oe=null),this.P)e:{for(var b=0,I=0;I<this.i.length;I++){t:{var z=this.i[I];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(b+=z,4096<b){b=I;break e}if(b===4096||I===this.i.length-1){b=I+1;break e}}b=1e3}else b=1e3;b=ed(this,X,b),I=Jt(this.I),He(I,"RID",f),He(I,"CVER",22),this.D&&He(I,"X-HTTP-Session-Id",this.D),ja(this,I),oe&&(this.O?b="headers="+encodeURIComponent(String(Qu(oe)))+"&"+b:this.m&&Fl(I,this.m,oe)),kt(this.h,X),this.Ua&&He(I,"TYPE","init"),this.P?(He(I,"$req",b),He(I,"SID","null"),X.T=!0,Ou(X,I,null)):Ou(X,I,b),this.G=2}}else this.G==3&&(f?Br(this,f):this.i.length==0||zu(this.h)||Br(this))};function Br(f,b){var I;b?I=b.l:I=f.U++;const z=Jt(f.I);He(z,"SID",f.K),He(z,"RID",I),He(z,"AID",f.T),ja(f,z),f.m&&f.o&&Fl(z,f.m,f.o),I=new Ns(f,f.j,I,f.B+1),f.m===null&&(I.H=f.o),b&&(f.i=b.D.concat(f.i)),b=ed(f,I,1e3),I.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),kt(f.h,I),Ou(I,z,b)}function ja(f,b){f.H&&B(f.H,function(I,z){He(b,z,I)}),f.l&&Ye({},function(I,z){He(b,z,I)})}function ed(f,b,I){I=Math.min(f.i.length,I);var z=f.l?y(f.l.Na,f.l,f):null;e:{var X=f.i;let oe=-1;for(;;){const we=["count="+I];oe==-1?0<I?(oe=X[0].g,we.push("ofs="+oe)):oe=0:we.push("ofs="+oe);let Et=!0;for(let ln=0;ln<I;ln++){let pt=X[ln].g;const Pt=X[ln].map;if(pt-=oe,0>pt)oe=Math.max(0,X[ln].g-100),Et=!1;else try{Zu(Pt,we,"req"+pt+"_")}catch{z&&z(Pt)}}if(Et){z=we.join("&");break e}}}return f=f.i.splice(0,I),b.D=f,z}function Ts(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;ee||K(),U||(ee(),U=!0),H.add(b,f),f.v=0}}function Bl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=gn(y(f.Fa,f),nd(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,ql(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=gn(y(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),$l(this),ql(this))};function Ul(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function ql(f){f.g=new Ns(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=Jt(f.qa);He(b,"RID","rpc"),He(b,"SID",f.K),He(b,"AID",f.T),He(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&He(b,"TO",f.ja),He(b,"TYPE","xmlhttp"),ja(f,b),f.m&&f.o&&Fl(b,f.m,f.o),f.L&&(f.g.I=f.L);var I=f.g;f=f.ia,I.L=1,I.v=ss(Jt(b)),I.m=null,I.P=!0,Lu(I,f)}t.Za=function(){this.C!=null&&(this.C=null,$l(this),Bl(this),jt(19))};function Hl(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function td(f,b){var I=null;if(f.g==b){Hl(f),Ul(f),f.g=null;var z=2}else if(ut(f.h,b))I=b.D,ka(f.h,b),z=1;else return;if(f.G!=0){if(b.o)if(z==1){I=b.m?b.m.length:0,b=Date.now()-b.F;var X=f.B;z=st(),Ue(z,new ts(z,I)),vo(f)}else Ts(f);else if(X=b.s,X==3||X==0&&0<b.X||!(z==1&&Ty(f,b)||z==2&&Bl(f)))switch(I&&0<I.length&&(b=f.h,b.i=b.i.concat(I)),X){case 1:Ri(f,5);break;case 4:Ri(f,10);break;case 3:Ri(f,6);break;default:Ri(f,2)}}}function nd(f,b){let I=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(I*=2),I*b}function Ri(f,b){if(f.j.info("Error code "+b),b==2){var I=y(f.fb,f),z=f.Xa;const X=!z;z=new rs(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Dl(z,"https"),ss(z),X?Ct(z.toString(),I):Ef(z.toString(),I)}else jt(2);f.G=0,f.l&&f.l.sa(b),If(f),Pf(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function If(f){if(f.G=0,f.ka=[],f.l){const b=Ii(f.h);(b.length!=0||f.i.length!=0)&&(T(f.ka,b),T(f.ka,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.ra()}}function Wl(f,b,I){var z=I instanceof rs?Jt(I):new rs(I);if(z.g!="")b&&(z.g=b+"."+z.g),ki(z,z.s);else{var X=c.location;z=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;var oe=new rs(null);z&&Dl(oe,z),b&&(oe.g=b),X&&ki(oe,X),I&&(oe.l=I),z=oe}return I=f.D,b=f.ya,I&&b&&He(z,I,b),He(z,"VER",f.la),ja(f,z),z}function kf(f,b,I){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new $t(new as({eb:I})):new $t(f.pa),b.Ha(f.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rd(){}t=rd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Aa(){}Aa.prototype.g=function(f,b){return new En(f,b)};function En(f,b){Qe.call(this),this.g=new Cf(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!N(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new ls(this)}S(En,Qe),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){zl(this.g)},En.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var I={};I.__data__=f,f=I}else this.u&&(I={},I.__data__=Rt(f),f=I);b.i.push(new Ia(b.Ya++,f)),b.G==3&&vo(b)},En.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,En.aa.N.call(this)};function Js(f){Fr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const I in b){f=I;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}S(Js,Fr);function jf(){Dn.call(this),this.status=1}S(jf,Dn);function ls(f){this.g=f}S(ls,rd),ls.prototype.ua=function(){Ue(this.g,"a")},ls.prototype.ta=function(f){Ue(this.g,new Js(f))},ls.prototype.sa=function(f){Ue(this.g,new jf)},ls.prototype.ra=function(){Ue(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,b2=function(){return new Aa},w2=function(){return st()},_2=Vr,Q0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ta.NO_ERROR=0,Ta.TIMEOUT=8,Ta.HTTP_ERROR=6,Bm=Ta,jl.COMPLETE="complete",x2=jl,Ys.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Cd=Ys,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,v2=$t}).apply(typeof fm<"u"?fm:typeof self<"u"?self:typeof window<"u"?window:{});const BE="@firebase/firestore",UE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new uw("@firebase/firestore");function nc(){return ul.logLevel}function Te(t,...e){if(ul.logLevel<=dt.DEBUG){const n=e.map(Ew);ul.debug(`Firestore (${Su}): ${t}`,...n)}}function lo(t,...e){if(ul.logLevel<=dt.ERROR){const n=e.map(Ew);ul.error(`Firestore (${Su}): ${t}`,...n)}}function Xc(t,...e){if(ul.logLevel<=dt.WARN){const n=e.map(Ew);ul.warn(`Firestore (${Su}): ${t}`,...n)}}function Ew(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,N2(t,r,n)}function N2(t,e,n){let r=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw lo(r),new Error(r)}function Nt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||N2(e,s,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends ho{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(er.UNAUTHENTICATED))}shutdown(){}}class O7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class L7{constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Nt(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let i=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xi,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=i;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Xi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt(typeof r.accessToken=="string",31837,{l:r}),new E2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string",2055,{h:e}),new er(e)}}class F7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new F7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Nt(this.o===void 0,3512);const r=i=>{i.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.m;return this.m=i.token,Te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=$7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function Y0(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return nt(r,s);{const i=S2(),l=B7(i.encode(HE(t,n)),i.encode(HE(e,n)));return l!==0?l:nt(r,s)}}n+=r>65535?2:1}return nt(t.length,e.length)}function HE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function B7(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return nt(t[n],e[n]);return nt(t.length,e.length)}function Jc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=-62135596800,GE=1e6;class _n{static now(){return _n.fromMillis(Date.now())}static fromDate(e){return _n.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*GE);return new _n(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<WE)throw new Pe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GE}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-WE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new _n(0,0))}static max(){return new Ke(new _n(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="__name__";class si{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=si.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return nt(e.length,n.length)}static compareSegments(e,n){const r=si.isNumericId(e),s=si.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?si.extractNumericId(e).compare(si.extractNumericId(n)):Y0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return na.fromString(e.substring(4,e.length-2))}}class Lt extends si{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Lt(n)}static emptyPath(){return new Lt([])}}const U7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends si{construct(e,n,r){return new Fn(e,n,r)}static isValidIdentifier(e){return U7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KE}static keyField(){return new Fn([KE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Pe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Pe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Pe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(i(),s++)}if(i(),l)throw new Pe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(n)}static emptyPath(){return new Fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Lt.fromString(e))}static fromName(e){return new Le(Lt.fromString(e).popFirst(5))}static empty(){return new Le(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=-1;function q7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(r===1e9?new _n(n+1,0):new _n(n,r));return new ua(s,Le.empty(),e)}function H7(t){return new ua(t.readTime,t.key,Ch)}class ua{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ua(Ke.min(),Le.empty(),Ch)}static max(){return new ua(Ke.max(),Le.empty(),Ch)}}function W7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==G7)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,r)=>{n(e)})}static reject(e){return new fe((n,r)=>{r(e)})}static waitFor(e){return new fe((n,r)=>{let s=0,i=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++i,l&&i===s&&n()},d=>r(d))}),l=!0,i===s&&n()})}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next(s=>s?fe.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new fe((r,s)=>{const i=e.length,l=new Array(i);let c=0;for(let d=0;d<i;d++){const h=d;n(e[h]).next(p=>{l[h]=p,++c,c===i&&r(l)},p=>s(p))}})}static doWhile(e,n){return new fe((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Z7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Mg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=-1;function Dg(t){return t==null}function Dp(t){return t===0&&1/t==-1/0}function Q7(t){return typeof t=="number"&&Number.isInteger(t)&&!Dp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="";function Y7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ZE(e)),e=X7(t.get(n),e);return ZE(e)}function X7(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case C2:n+="";break;default:n+=i}}return n}function ZE(t){return t+C2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.comparator=e,this.root=n||Ln.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mm(this.root,e,this.comparator,!1)}getReverseIterator(){return new mm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mm(this.root,e,this.comparator,!0)}}class mm{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ln{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ln.RED,this.left=s??Ln.EMPTY,this.right=i??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ln(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ln.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YE(this.data.getIterator())}getIteratorFrom(e){return new YE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class YE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new Wr([])}unionWith(e){let n=new wn(Fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new I2("Invalid base64 string: "+i):i}}(e);return new Bn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i}(e);return new Bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const J7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(t){if(Nt(!!t,39018),typeof t=="string"){let e=0;const n=J7.exec(t);if(Nt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ha(t){return typeof t=="string"?Bn.fromBase64String(t):Bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="server_timestamp",j2="__type__",A2="__previous_value__",R2="__local_write_time__";function Tw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[j2])===null||n===void 0?void 0:n.stringValue)===k2}function Og(t){const e=t.mapValue.fields[A2];return Tw(e)?Og(e):e}function Ph(t){const e=da(t.mapValue.fields[R2].timestampValue);return new _n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n,r,s,i,l,c,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=p}}const Op="(default)";class Ih{constructor(e,n){this.projectId=e,this.database=n||Op}static empty(){return new Ih("","")}get isDefaultDatabase(){return this.database===Op}isEqual(e){return e instanceof Ih&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="__type__",tB="__max__",pm={mapValue:{}},D2="__vector__",Lp="value";function fa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tw(t)?4:rB(t)?9007199254740991:nB(t)?10:11:Be(28295,{value:t})}function bi(t,e){if(t===e)return!0;const n=fa(t);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ph(t).isEqual(Ph(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=da(s.timestampValue),c=da(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ha(s.bytesValue).isEqual(ha(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return sn(s.geoPointValue.latitude)===sn(i.geoPointValue.latitude)&&sn(s.geoPointValue.longitude)===sn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return sn(s.integerValue)===sn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=sn(s.doubleValue),c=sn(i.doubleValue);return l===c?Dp(l)===Dp(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Jc(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(s,i){const l=s.mapValue.fields||{},c=i.mapValue.fields||{};if(QE(l)!==QE(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!bi(l[d],c[d])))return!1;return!0}(t,e);default:return Be(52216,{left:t})}}function kh(t,e){return(t.values||[]).find(n=>bi(n,e))!==void 0}function eu(t,e){if(t===e)return 0;const n=fa(t),r=fa(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(i,l){const c=sn(i.integerValue||i.doubleValue),d=sn(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return XE(t.timestampValue,e.timestampValue);case 4:return XE(Ph(t),Ph(e));case 5:return Y0(t.stringValue,e.stringValue);case 6:return function(i,l){const c=ha(i),d=ha(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const p=nt(c[h],d[h]);if(p!==0)return p}return nt(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,l){const c=nt(sn(i.latitude),sn(l.latitude));return c!==0?c:nt(sn(i.longitude),sn(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return JE(t.arrayValue,e.arrayValue);case 10:return function(i,l){var c,d,h,p;const g=i.fields||{},y=l.fields||{},w=(c=g[Lp])===null||c===void 0?void 0:c.arrayValue,S=(d=y[Lp])===null||d===void 0?void 0:d.arrayValue,x=nt(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return x!==0?x:JE(w,S)}(t.mapValue,e.mapValue);case 11:return function(i,l){if(i===pm.mapValue&&l===pm.mapValue)return 0;if(i===pm.mapValue)return 1;if(l===pm.mapValue)return-1;const c=i.fields||{},d=Object.keys(c),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const y=Y0(d[g],p[g]);if(y!==0)return y;const w=eu(c[d[g]],h[p[g]]);if(w!==0)return w}return nt(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Be(23264,{Pe:n})}}function XE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=da(t),r=da(e),s=nt(n.seconds,r.seconds);return s!==0?s:nt(n.nanos,r.nanos)}function JE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=eu(n[s],r[s]);if(i)return i}return nt(n.length,r.length)}function tu(t){return X0(t)}function X0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=da(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ha(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=X0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${X0(n.fields[l])}`;return s+"}"}(t.mapValue):Be(61005,{value:t})}function Um(t){switch(fa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Og(t);return e?16+Um(e):16;case 5:return 2*t.stringValue.length;case 6:return ha(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Um(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return wa(r.fields,(i,l)=>{s+=i.length+Um(l)}),s}(t.mapValue);default:throw Be(13486,{value:t})}}function eS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function J0(t){return!!t&&"integerValue"in t}function Cw(t){return!!t&&"arrayValue"in t}function tS(t){return!!t&&"nullValue"in t}function nS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qm(t){return!!t&&"mapValue"in t}function nB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[M2])===null||n===void 0?void 0:n.stringValue)===D2}function Yd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.value=e}static empty(){return new Cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yd(n)}setAll(e){let n=Fn.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=Yd(l):s.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());qm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];qm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){wa(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Cr(Yd(this.value))}}function O2(t){const e=[];return wa(t.fields,(n,r)=>{const s=new Fn([n]);if(qm(r)){const i=O2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const l of i)e.push(s.child(l))}else e.push(s)}),new Wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,r,s,i,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=c}static newInvalidDocument(e){return new nr(e,0,Ke.min(),Ke.min(),Ke.min(),Cr.empty(),0)}static newFoundDocument(e,n,r,s){return new nr(e,1,n,Ke.min(),r,s,0)}static newNoDocument(e,n){return new nr(e,2,n,Ke.min(),Ke.min(),Cr.empty(),0)}static newUnknownDocument(e,n){return new nr(e,3,n,Ke.min(),Ke.min(),Cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.position=e,this.inclusive=n}}function rS(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],l=t.position[s];if(i.field.isKeyField()?r=Le.comparator(Le.fromName(l.referenceValue),n.key):r=eu(l,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function sS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function sB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{}class fn extends L2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oB(e,n,r):n==="array-contains"?new cB(e,r):n==="in"?new uB(e,r):n==="not-in"?new dB(e,r):n==="array-contains-any"?new hB(e,r):new fn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aB(e,r):new lB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eu(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(eu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ws extends L2{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ws(e,n)}matches(e){return F2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function F2(t){return t.op==="and"}function V2(t){return iB(t)&&F2(t)}function iB(t){for(const e of t.filters)if(e instanceof Ws)return!1;return!0}function ex(t){if(t instanceof fn)return t.field.canonicalString()+t.op.toString()+tu(t.value);if(V2(t))return t.filters.map(e=>ex(e)).join(",");{const e=t.filters.map(n=>ex(n)).join(",");return`${t.op}(${e})`}}function z2(t,e){return t instanceof fn?function(r,s){return s instanceof fn&&r.op===s.op&&r.field.isEqual(s.field)&&bi(r.value,s.value)}(t,e):t instanceof Ws?function(r,s){return s instanceof Ws&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,l,c)=>i&&z2(l,s.filters[c]),!0):!1}(t,e):void Be(19439)}function $2(t){return t instanceof fn?function(n){return`${n.field.canonicalString()} ${n.op} ${tu(n.value)}`}(t):t instanceof Ws?function(n){return n.op.toString()+" {"+n.getFilters().map($2).join(" ,")+"}"}(t):"Filter"}class oB extends fn{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class aB extends fn{constructor(e,n){super(e,"in",n),this.keys=B2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lB extends fn{constructor(e,n){super(e,"not-in",n),this.keys=B2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function B2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Le.fromName(r.referenceValue))}class cB extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cw(n)&&kh(n.arrayValue,this.value)}}class uB extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kh(this.value.arrayValue,n)}}class dB extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kh(this.value.arrayValue,n)}}class hB extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>kh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,n=null,r=[],s=[],i=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=c,this.Ie=null}}function iS(t,e=null,n=[],r=[],s=null,i=null,l=null){return new fB(t,e,n,r,s,i,l)}function Pw(t){const e=We(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ex(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Dg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tu(r)).join(",")),e.Ie=n}return e.Ie}function Iw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!z2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sS(t.startAt,e.startAt)&&sS(t.endAt,e.endAt)}function tx(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n=null,r=[],s=[],i=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=c,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function mB(t,e,n,r,s,i,l,c){return new Pu(t,e,n,r,s,i,l,c)}function Lg(t){return new Pu(t)}function oS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U2(t){return t.collectionGroup!==null}function Xd(t){const e=We(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new wn(Fn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new jh(i,r))}),n.has(Fn.keyField().canonicalString())||e.Ee.push(new jh(Fn.keyField(),r))}return e.Ee}function vi(t){const e=We(t);return e.de||(e.de=pB(e,Xd(t))),e.de}function pB(t,e){if(t.limitType==="F")return iS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new jh(s.field,i)});const n=t.endAt?new Fp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fp(t.startAt.position,t.startAt.inclusive):null;return iS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nx(t,e){const n=t.filters.concat([e]);return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rx(t,e,n){return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fg(t,e){return Iw(vi(t),vi(e))&&t.limitType===e.limitType}function q2(t){return`${Pw(vi(t))}|lt:${t.limitType}`}function rc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>$2(s)).join(", ")}]`),Dg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>tu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>tu(s)).join(",")),`Target(${r})`}(vi(t))}; limitType=${t.limitType})`}function Vg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Le.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Xd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,d){const h=rS(l,c,d);return l.inclusive?h<=0:h<0}(r.startAt,Xd(r),s)||r.endAt&&!function(l,c,d){const h=rS(l,c,d);return l.inclusive?h>=0:h>0}(r.endAt,Xd(r),s))}(t,e)}function gB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function H2(t){return(e,n)=>{let r=!1;for(const s of Xd(t)){const i=yB(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function yB(t,e,n){const r=t.field.isKeyField()?Le.comparator(e.key,n.key):function(i,l,c){const d=l.data.field(i),h=c.data.field(i);return d!==null&&h!==null?eu(d,h):Be(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return P2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=new Yt(Le.comparator);function co(){return vB}const W2=new Yt(Le.comparator);function Pd(...t){let e=W2;for(const n of t)e=e.insert(n.key,n);return e}function G2(t){let e=W2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function za(){return Jd()}function K2(){return Jd()}function Jd(){return new Cl(t=>t.toString(),(t,e)=>t.isEqual(e))}const xB=new Yt(Le.comparator),_B=new wn(Le.comparator);function ft(...t){let e=_B;for(const n of t)e=e.add(n);return e}const wB=new wn(nt);function bB(){return wB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dp(e)?"-0":e}}function Z2(t){return{integerValue:""+t}}function NB(t,e){return Q7(e)?Z2(e):kw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this._=void 0}}function EB(t,e,n){return t instanceof Ah?function(s,i){const l={fields:{[j2]:{stringValue:k2},[R2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Tw(i)&&(i=Og(i)),i&&(l.fields[A2]=i),{mapValue:l}}(n,e):t instanceof Rh?Y2(t,e):t instanceof Mh?X2(t,e):function(s,i){const l=Q2(s,i),c=aS(l)+aS(s.Re);return J0(l)&&J0(s.Re)?Z2(c):kw(s.serializer,c)}(t,e)}function SB(t,e,n){return t instanceof Rh?Y2(t,e):t instanceof Mh?X2(t,e):n}function Q2(t,e){return t instanceof Vp?function(r){return J0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ah extends zg{}class Rh extends zg{constructor(e){super(),this.elements=e}}function Y2(t,e){const n=J2(e);for(const r of t.elements)n.some(s=>bi(s,r))||n.push(r);return{arrayValue:{values:n}}}class Mh extends zg{constructor(e){super(),this.elements=e}}function X2(t,e){let n=J2(e);for(const r of t.elements)n=n.filter(s=>!bi(s,r));return{arrayValue:{values:n}}}class Vp extends zg{constructor(e,n){super(),this.serializer=e,this.Re=n}}function aS(t){return sn(t.integerValue||t.doubleValue)}function J2(t){return Cw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,n){this.field=e,this.transform=n}}function CB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Rh&&s instanceof Rh||r instanceof Mh&&s instanceof Mh?Jc(r.elements,s.elements,bi):r instanceof Vp&&s instanceof Vp?bi(r.Re,s.Re):r instanceof Ah&&s instanceof Ah}(t.transform,e.transform)}class PB{constructor(e,n){this.version=e,this.transformResults=n}}class gs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $g{}function ej(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jw(t.key,gs.none()):new sf(t.key,t.data,gs.none());{const n=t.data,r=Cr.empty();let s=new wn(Fn.comparator);for(let i of e.fields)if(!s.has(i)){let l=n.field(i);l===null&&i.length>1&&(i=i.popLast(),l=n.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new ba(t.key,r,new Wr(s.toArray()),gs.none())}}function IB(t,e,n){t instanceof sf?function(s,i,l){const c=s.value.clone(),d=cS(s.fieldTransforms,i,l.transformResults);c.setAll(d),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ba?function(s,i,l){if(!Hm(s.precondition,i))return void i.convertToUnknownDocument(l.version);const c=cS(s.fieldTransforms,i,l.transformResults),d=i.data;d.setAll(tj(s)),d.setAll(c),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function eh(t,e,n,r){return t instanceof sf?function(i,l,c,d){if(!Hm(i.precondition,l))return c;const h=i.value.clone(),p=uS(i.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ba?function(i,l,c,d){if(!Hm(i.precondition,l))return c;const h=uS(i.fieldTransforms,d,l),p=l.data;return p.setAll(tj(i)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(i,l,c){return Hm(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function kB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Q2(r.transform,s||null);i!=null&&(n===null&&(n=Cr.empty()),n.set(r.field,i))}return n||null}function lS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Jc(r,s,(i,l)=>CB(i,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sf extends $g{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ba extends $g{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function tj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cS(t,e,n){const r=new Map;Nt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],l=i.transform,c=e.data.field(i.field);r.set(i.field,SB(l,c,n[s]))}return r}function uS(t,e,n){const r=new Map;for(const s of t){const i=s.transform,l=n.data.field(s.field);r.set(s.field,EB(i,l,e))}return r}class jw extends $g{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jB extends $g{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&IB(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=K2();return this.mutations.forEach(s=>{const i=e.get(s.key),l=i.overlayedDocument;let c=this.applyToLocalView(l,i.mutatedFields);c=n.has(s.key)?null:c;const d=ej(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ft())}isEqual(e){return this.batchId===e.batchId&&Jc(this.mutations,e.mutations,(n,r)=>lS(n,r))&&Jc(this.baseMutations,e.baseMutations,(n,r)=>lS(n,r))}}class Aw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Nt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return xB}();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new Aw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RB=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,gt;function DB(t){switch(t){case he.OK:return Be(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function nj(t){if(t===void 0)return lo("GRPC error has no .code"),he.UNKNOWN;switch(t){case un.OK:return he.OK;case un.CANCELLED:return he.CANCELLED;case un.UNKNOWN:return he.UNKNOWN;case un.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case un.INTERNAL:return he.INTERNAL;case un.UNAVAILABLE:return he.UNAVAILABLE;case un.UNAUTHENTICATED:return he.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case un.NOT_FOUND:return he.NOT_FOUND;case un.ALREADY_EXISTS:return he.ALREADY_EXISTS;case un.PERMISSION_DENIED:return he.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case un.ABORTED:return he.ABORTED;case un.OUT_OF_RANGE:return he.OUT_OF_RANGE;case un.UNIMPLEMENTED:return he.UNIMPLEMENTED;case un.DATA_LOSS:return he.DATA_LOSS;default:return Be(39323,{code:t})}}(gt=un||(un={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=new na([4294967295,4294967295],0);function dS(t){const e=S2().encode(t),n=new y2;return n.update(e),new Uint8Array(n.digest())}function hS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new na([n,r],0),new na([s,i],0)]}class Rw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Id(`Invalid padding: ${n}`);if(r<0)throw new Id(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Id(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Id(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=na.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(na.fromNumber(r)));return s.compare(OB)===1&&(s=new na([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=dS(e),[r,s]=hS(n);for(let i=0;i<this.hashCount;i++){const l=this.we(r,s,i);if(!this.be(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new Rw(i,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const n=dS(e),[r,s]=hS(n);for(let i=0;i<this.hashCount;i++){const l=this.we(r,s,i);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Id extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,of.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bg(Ke.min(),s,new Yt(nt),co(),ft())}}class of{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new of(r,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class rj{constructor(e,n){this.targetId=e,this.Ce=n}}class sj{constructor(e,n,r=Bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class fS{constructor(){this.Fe=0,this.Me=mS(),this.xe=Bn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ft(),n=ft(),r=ft();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Be(38017,{changeType:i})}}),new of(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=mS()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Nt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class LB{constructor(e){this.ze=e,this.je=new Map,this.He=co(),this.Je=gm(),this.Ye=gm(),this.Ze=new Yt(nt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(tx(i))if(r===0){const l=new Le(i.path);this.tt(n,l,nr.newNoDocument(l,Ke.min()))}else Nt(r===1,20013,{expectedCount:r});else{const l=this.ut(n);if(l!==r){const c=this.ct(e),d=c?this.lt(c,e,l):1;if(d!==0){this.st(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let l,c;try{l=ha(r).toUint8Array()}catch(d){if(d instanceof I2)return Xc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Rw(l,s,i)}catch(d){return Xc(d instanceof Id?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,l)=>{const c=this._t(l);if(c){if(i.current&&tx(c.target)){const d=new Le(c.target.path);this.Et(d).has(l)||this.dt(l,d)||this.tt(l,d,nr.newNoDocument(d,e))}i.Le&&(n.set(l,i.qe()),i.Qe())}});let r=ft();this.Ye.forEach((i,l)=>{let c=!0;l.forEachWhile(d=>{const h=this._t(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.He.forEach((i,l)=>l.setReadTime(e));const s=new Bg(e,n,this.Ze,this.He,r);return this.He=co(),this.Je=gm(),this.Ye=gm(),this.Ze=new Yt(nt),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new fS,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new wn(nt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new wn(nt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fS),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function gm(){return new Yt(Le.comparator)}function mS(){return new Yt(Le.comparator)}const FB={asc:"ASCENDING",desc:"DESCENDING"},VB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zB={and:"AND",or:"OR"};class $B{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sx(t,e){return t.useProto3Json||Dg(e)?e:{value:e}}function zp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ij(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BB(t,e){return zp(t,e.toTimestamp())}function xi(t){return Nt(!!t,49232),Ke.fromTimestamp(function(n){const r=da(n);return new _n(r.seconds,r.nanos)}(t))}function Mw(t,e){return ix(t,e).canonicalString()}function ix(t,e){const n=function(s){return new Lt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oj(t){const e=Lt.fromString(t);return Nt(dj(e),10190,{key:e.toString()}),e}function ox(t,e){return Mw(t.databaseId,e.path)}function bv(t,e){const n=oj(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le(lj(n))}function aj(t,e){return Mw(t.databaseId,e)}function UB(t){const e=oj(t);return e.length===4?Lt.emptyPath():lj(e)}function ax(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lj(t){return Nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pS(t,e,n){return{name:ox(t,e),fields:n.value.mapValue.fields}}function qB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Be(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,p){return h.useProto3Json?(Nt(p===void 0||typeof p=="string",58123),Bn.fromBase64String(p||"")):(Nt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Bn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const p=h.code===void 0?he.UNKNOWN:nj(h.code);return new Pe(p,h.message||"")}(l);n=new sj(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=bv(t,r.document.name),i=xi(r.document.updateTime),l=r.document.createTime?xi(r.document.createTime):Ke.min(),c=new Cr({mapValue:{fields:r.document.fields}}),d=nr.newFoundDocument(s,i,l,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Wm(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=bv(t,r.document),i=r.readTime?xi(r.readTime):Ke.min(),l=nr.newNoDocument(s,i),c=r.removedTargetIds||[];n=new Wm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=bv(t,r.document),i=r.removedTargetIds||[];n=new Wm([],i,s,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,l=new MB(s,i),c=r.targetId;n=new rj(c,l)}}return n}function HB(t,e){let n;if(e instanceof sf)n={update:pS(t,e.key,e.value)};else if(e instanceof jw)n={delete:ox(t,e.key)};else if(e instanceof ba)n={update:pS(t,e.key,e.data),updateMask:eU(e.fieldMask)};else{if(!(e instanceof jB))return Be(16599,{ft:e.type});n={verify:ox(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const c=l.transform;if(c instanceof Ah)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Rh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Mh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Vp)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Be(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:BB(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Be(27497)}(t,e.precondition)),n}function WB(t,e){return t&&t.length>0?(Nt(e!==void 0,14353),t.map(n=>function(s,i){let l=s.updateTime?xi(s.updateTime):xi(i);return l.isEqual(Ke.min())&&(l=xi(i)),new PB(l,s.transformResults||[])}(n,e))):[]}function GB(t,e){return{documents:[aj(t,e.path)]}}function KB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aj(t,s);const i=function(h){if(h.length!==0)return uj(Ws.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const l=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:sc(y.field),direction:YB(y.dir)}}(p))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=sx(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:s}}function ZB(t){let e=UB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Nt(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=function(g){const y=cj(g);return y instanceof Ws&&V2(y)?y.getFilters():[y]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(y=>function(S){return new jh(ic(S.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(g){let y;return y=typeof g=="object"?g.value:g,Dg(y)?null:y}(n.limit));let d=null;n.startAt&&(d=function(g){const y=!!g.before,w=g.values||[];return new Fp(w,y)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const y=!g.before,w=g.values||[];return new Fp(w,y)}(n.endAt)),mB(e,s,l,i,c,"F",d,h)}function QB(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ic(n.unaryFilter.field);return fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ic(n.unaryFilter.field);return fn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ic(n.unaryFilter.field);return fn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ic(n.unaryFilter.field);return fn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(t):t.fieldFilter!==void 0?function(n){return fn.create(ic(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ws.create(n.compositeFilter.filters.map(r=>cj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(n.compositeFilter.op))}(t):Be(30097,{filter:t})}function YB(t){return FB[t]}function XB(t){return VB[t]}function JB(t){return zB[t]}function sc(t){return{fieldPath:t.canonicalString()}}function ic(t){return Fn.fromServerFormat(t.fieldPath)}function uj(t){return t instanceof fn?function(n){if(n.op==="=="){if(nS(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NAN"}};if(tS(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nS(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NOT_NAN"}};if(tS(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sc(n.field),op:XB(n.op),value:n.value}}}(t):t instanceof Ws?function(n){const r=n.getFilters().map(s=>uj(s));return r.length===1?r[0]:{compositeFilter:{op:JB(n.op),filters:r}}}(t):Be(54877,{filter:t})}function eU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n,r,s,i=Ke.min(),l=Ke.min(),c=Bn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.wt=e}}function nU(t){const e=ZB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(){this.Cn=new sU}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(ua.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class sU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new wn(Lt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wn(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hj=41943040;class Er{static withCacheSize(e){return new Er(e,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er.DEFAULT_COLLECTION_PERCENTILE=10,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Er.DEFAULT=new Er(hj,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Er.DISABLED=new Er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new nu(0)}static lr(){return new nu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="LruGarbageCollector",iU=1048576;function vS([t,e],[n,r]){const s=nt(t,n);return s===0?nt(e,r):s}class oU{constructor(e){this.Er=e,this.buffer=new wn(vS),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Te(yS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cu(n)?Te(yS,"Ignoring IndexedDB error during garbage collection: ",n):await Tu(n)}await this.mr(3e5)})}}class lU{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Mg.le);const r=new oU(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(gS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gS):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,l,c,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,n))).next(g=>(i=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),nc()<=dt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${i} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g})))}}function cU(t,e){return new lU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.changes=new Cl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&eh(r.mutation,s,Wr.empty(),_n.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ft()){const s=za();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let l=Pd();return i.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=za();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ft()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let i=co();const l=Jd(),c=function(){return Jd()}();return n.forEach((d,h)=>{const p=r.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof ba)?i=i.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),eh(p.mutation,h,p.mutation.getFieldMask(),_n.now())):l.set(h.key,Wr.empty())}),this.recalculateAndSaveOverlays(e,i).next(d=>(d.forEach((h,p)=>l.set(h,p)),n.forEach((h,p)=>{var g;return c.set(h,new dU(p,(g=l.get(h))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Jd();let s=new Yt((l,c)=>l-c),i=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let p=r.get(d)||Wr.empty();p=c.applyToLocalView(h,p),r.set(d,p);const g=(s.get(c.batchId)||ft()).add(d);s=s.insert(c.batchId,g)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,p=d.value,g=K2();p.forEach(y=>{if(!i.has(y)){const w=ej(n.get(y),r.get(y));w!==null&&g.set(y,w),i=i.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return fe.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Le.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):fe.resolve(za());let c=Ch,d=i;return l.next(h=>fe.forEach(h,(p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),i.get(p)?fe.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{d=d.insert(p,y)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,d,h,ft())).next(p=>({batchId:c,changes:G2(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next(r=>{let s=Pd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let l=Pd();return this.indexManager.getCollectionParents(e,i).next(c=>fe.forEach(c,d=>{const h=function(g,y){return new Pu(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(p=>{p.forEach((g,y)=>{l=l.insert(g,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(l=>{i.forEach((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,nr.newInvalidDocument(p)))});let c=Pd();return l.forEach((d,h)=>{const p=i.get(d);p!==void 0&&eh(p.mutation,h,Wr.empty(),_n.now()),Vg(n,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return fe.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:xi(s.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:nU(s.bundledQuery),readTime:xi(s.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(){this.overlays=new Yt(Le.comparator),this.Qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=za();return fe.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),fe.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const s=za(),i=n.length+1,l=new Le(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&d.largestBatchId>r&&s.set(d.getKey(),d)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Yt((h,p)=>h-p);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=i.get(h.largestBatchId);p===null&&(p=za(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=za(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,p)=>c.set(h,p)),!(c.size()>=s)););return fe.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new RB(n,r));let i=this.Qr.get(n);i===void 0&&(i=ft(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.$r=new wn(Cn.Ur),this.Kr=new wn(Cn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Cn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Cn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Le(new Lt([])),r=new Cn(n,e),s=new Cn(n,e+1),i=[];return this.Kr.forEachInRange([r,s],l=>{this.zr(l),i.push(l.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Le(new Lt([])),r=new Cn(n,e),s=new Cn(n,e+1);let i=ft();return this.Kr.forEachInRange([r,s],l=>{i=i.add(l.key)}),i}containsKey(e){const n=new Cn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Cn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Le.comparator(e.key,n.key)||nt(e.Zr,n.Zr)}static Wr(e,n){return nt(e.Zr,n.Zr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new wn(Cn.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new AB(i,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Xr=this.Xr.add(new Cn(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return fe.resolve(l)}lookupMutationBatch(e,n){return fe.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return fe.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Sw:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Cn(n,0),s=new Cn(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],l=>{const c=this.ei(l.Zr);i.push(c)}),fe.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(nt);return n.forEach(s=>{const i=new Cn(s,0),l=new Cn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,l],c=>{r=r.add(c.Zr)})}),fe.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Le.isDocumentKey(i)||(i=i.child(""));const l=new Cn(new Le(i),0);let c=new wn(nt);return this.Xr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(d.Zr)),!0)},l),fe.resolve(this.ni(c))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Nt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return fe.forEach(n.mutations,s=>{const i=new Cn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Cn(n,0),s=this.Xr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.ii=e,this.docs=function(){return new Yt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,l=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():nr.newInvalidDocument(n))}getEntries(e,n){let r=co();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():nr.newInvalidDocument(s))}),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=co();const l=n.path,c=new Le(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||W7(H7(p),r)<=0||(s.has(p.key)||Vg(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return fe.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Be(9500)}si(e,n){return fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vU(this)}getSize(e){return fe.resolve(this.size)}}class vU extends uU{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),fe.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.persistence=e,this.oi=new Cl(n=>Pw(n),Iw),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this._i=0,this.ai=new Dw,this.targetCount=0,this.ui=nu.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),fe.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new nu(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Tr(n),fe.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.oi.delete(l),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),fe.waitFor(i).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(l=>{i.push(s.markPotentiallyOrphaned(e,l))}),fe.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n){this.ci={},this.overlays={},this.li=new Mg(0),this.hi=!1,this.hi=!0,this.Pi=new pU,this.referenceDelegate=e(this),this.Ti=new xU(this),this.indexManager=new rU,this.remoteDocumentCache=function(s){return new yU(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new tU(n),this.Ei=new fU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new gU(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const s=new _U(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return fe.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class _U extends K7{constructor(e){super(),this.currentSequenceNumber=e}}class Ow{constructor(e){this.persistence=e,this.Vi=new Dw,this.mi=null}static fi(e){return new Ow(e)}get gi(){if(this.mi)return this.mi;throw Be(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,r=>{const s=Le.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,Ke.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return fe.or([()=>fe.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class $p{constructor(e,n){this.persistence=e,this.yi=new Cl(r=>Y7(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=cU(this,n)}static fi(e,n){return new $p(e,n)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return fe.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?fe.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,l=>this.Dr(e,l,n).next(c=>{c||(r++,i.removeEntry(l,Ke.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),fe.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Um(e.data.value)),n}Dr(e,n,r){return fe.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return fe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=ft(),s=ft();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Lw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return M9()?8:Z7(or())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(l=>{i.result=l}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(l=>{i.result=l})}).next(()=>{if(i.result)return;const l=new wU;return this.Ss(e,n,l).next(c=>{if(i.result=c,this.fs)return this.Ds(e,n,l,c.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(nc()<=dt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",rc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):(nc()<=dt.DEBUG&&Te("QueryEngine","Query:",rc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(nc()<=dt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",rc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(n))):fe.resolve())}ws(e,n){if(oS(n))return fe.resolve(null);let r=vi(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=rx(n,null,"F"),r=vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const l=ft(...i);return this.ys.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.vs(n,c);return this.Cs(n,h,l,d.readTime)?this.ws(e,rx(n,null,"F")):this.Fs(e,h,n,d)}))})))}bs(e,n,r,s){return oS(n)||s.isEqual(Ke.min())?fe.resolve(null):this.ys.getDocuments(e,r).next(i=>{const l=this.vs(n,i);return this.Cs(n,l,r,s)?fe.resolve(null):(nc()<=dt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),rc(n)),this.Fs(e,l,n,q7(s,Ch)).next(c=>c))})}vs(e,n){let r=new wn(H2(e));return n.forEach((s,i)=>{Vg(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return nc()<=dt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",rc(n)),this.ys.getDocumentsMatchingQuery(e,n,ua.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(l=>{i=i.insert(l.key,l)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="LocalStore",NU=3e8;class EU{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Yt(nt),this.Os=new Cl(i=>Pw(i),Iw),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hU(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function SU(t,e,n,r){return new EU(t,e,n,r)}async function mj(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const l=[],c=[];let d=ft();for(const h of s){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of i){c.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next(h=>({ks:h,removedBatchIds:l,addedBatchIds:c}))})})}function TU(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(c,d,h,p){const g=h.batch,y=g.keys();let w=fe.resolve();return y.forEach(S=>{w=w.next(()=>p.getEntry(d,S)).next(x=>{const T=h.docVersions.get(S);Nt(T!==null,48541),x.version.compareTo(T)<0&&(g.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),p.addEntry(x)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=ft();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function pj(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function CU(t,e){const n=We(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const l=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const c=[];e.targetChanges.forEach((p,g)=>{const y=s.get(g);if(!y)return;c.push(n.Ti.removeMatchingKeys(i,p.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(i,p.addedDocuments,g)));let w=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(Bn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),s=s.insert(g,w),function(x,T,E){return x.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=NU?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(y,w,p)&&c.push(n.Ti.updateTargetData(i,w))});let d=co(),h=ft();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))}),c.push(PU(i,l,e.documentUpdates).next(p=>{d=p.qs,h=p.Qs})),!r.isEqual(Ke.min())){const p=n.Ti.getLastRemoteSnapshotVersion(i).next(g=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(p)}return fe.waitFor(c).next(()=>l.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,d,h)).next(()=>d)}).then(i=>(n.xs=s,i))}function PU(t,e,n){let r=ft(),s=ft();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let l=co();return n.forEach((c,d)=>{const h=i.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Ke.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Te(Fw,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{qs:l,Qs:s}})}function IU(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kU(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,fe.resolve(s)):n.Ti.allocateTargetId(r).next(l=>(s=new qo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function lx(t,e,n){const r=We(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Cu(l))throw l;Te(Fw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function xS(t,e,n){const r=We(t);let s=Ke.min(),i=ft();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,p){const g=We(d),y=g.Os.get(p);return y!==void 0?fe.resolve(g.xs.get(y)):g.Ti.getTargetData(h,p)}(r,l,vi(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,c.targetId).next(d=>{i=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,n?s:Ke.min(),n?i:ft())).next(c=>(jU(r,gB(e),c),{documents:c,$s:i})))}function jU(t,e,n){let r=t.Ns.get(e)||Ke.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class _S{constructor(){this.activeTargetIds=bB()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AU{constructor(){this.xo=new _S,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new _S,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="ConnectivityMonitor";class bS{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Te(wS,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Te(wS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym=null;function cx(){return ym===null?ym=function(){return 268435456+Math.round(2147483648*Math.random())}():ym++,"0x"+ym.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="RestConnection",MU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DU{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Op?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const l=cx(),c=this.jo(e,n.toUriEncodedString());Te(Nv,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,s,i);const{host:h}=new URL(c),p=bu(h);return this.Jo(e,c,d,r,p).then(g=>(Te(Nv,`Received RPC '${e}' ${l}: `,g),g),g=>{throw Xc(Nv,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",r),g})}Yo(e,n,r,s,i,l){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Su}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=MU[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="WebChannelConnection";class LU extends DU{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const l=cx();return new Promise((c,d)=>{const h=new v2;h.setWithCredentials(!0),h.listenOnce(x2.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Bm.NO_ERROR:const g=h.getResponseJson();Te(Xn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case Bm.TIMEOUT:Te(Xn,`RPC '${e}' ${l} timed out`),d(new Pe(he.DEADLINE_EXCEEDED,"Request time out"));break;case Bm.HTTP_ERROR:const y=h.getStatus();if(Te(Xn,`RPC '${e}' ${l} failed with status:`,y,"response text:",h.getResponseText()),y>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const x=function(E){const N=E.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(N)>=0?N:he.UNKNOWN}(S.status);d(new Pe(x,S.message))}else d(new Pe(he.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Pe(he.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{h_:e,streamId:l,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{Te(Xn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(s);Te(Xn,`RPC '${e}' ${l} sending request:`,s),h.send(n,"POST",p,r,15)})}I_(e,n,r){const s=cx(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=b2(),c=w2(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=i.join("");Te(Xn,`Creating RPC '${e}' stream ${s}: ${p}`,d);const g=l.createWebChannel(p,d);this.E_(g);let y=!1,w=!1;const S=new OU({Zo:T=>{w?Te(Xn,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(y||(Te(Xn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),Te(Xn,`RPC '${e}' stream ${s} sending:`,T),g.send(T))},Xo:()=>g.close()}),x=(T,E,N)=>{T.listen(E,P=>{try{N(P)}catch(D){setTimeout(()=>{throw D},0)}})};return x(g,Cd.EventType.OPEN,()=>{w||(Te(Xn,`RPC '${e}' stream ${s} transport opened.`),S.__())}),x(g,Cd.EventType.CLOSE,()=>{w||(w=!0,Te(Xn,`RPC '${e}' stream ${s} transport closed`),S.u_(),this.d_(g))}),x(g,Cd.EventType.ERROR,T=>{w||(w=!0,Xc(Xn,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),S.u_(new Pe(he.UNAVAILABLE,"The operation could not be completed")))}),x(g,Cd.EventType.MESSAGE,T=>{var E;if(!w){const N=T.data[0];Nt(!!N,16349);const P=N,D=(P==null?void 0:P.error)||((E=P[0])===null||E===void 0?void 0:E.error);if(D){Te(Xn,`RPC '${e}' stream ${s} received error:`,D);const $=D.status;let B=function(j){const O=un[j];if(O!==void 0)return nj(O)}($),A=D.message;B===void 0&&(B=he.INTERNAL,A="Unknown error status: "+$+" with message "+D.message),w=!0,S.u_(new Pe(B,A)),g.close()}else Te(Xn,`RPC '${e}' stream ${s} received:`,N),S.c_(N)}}),x(c,_2.STAT_EVENT,T=>{T.stat===Q0.PROXY?Te(Xn,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Q0.NOPROXY&&Te(Xn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Ev(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t){return new $B(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="PersistentStream";class yj{constructor(e,n,r,s,i,l,c,d){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new gj(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(lo(n.toString()),lo("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new Pe(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Te(NS,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Te(NS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FU extends yj{constructor(e,n,r,s,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=qB(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ke.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Ke.min():l.readTime?xi(l.readTime):Ke.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=ax(this.serializer),n.addTarget=function(i,l){let c;const d=l.target;if(c=tx(d)?{documents:GB(i,d)}:{query:KB(i,d).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=ij(i,l.resumeToken);const h=sx(i,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ke.min())>0){c.readTime=zp(i,l.snapshotVersion.toTimestamp());const h=sx(i,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=QB(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=ax(this.serializer),n.removeTarget=e,this.Q_(n)}}class VU extends yj{constructor(e,n,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=WB(e.writeResults,e.commitTime),r=xi(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=ax(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>HB(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{}class $U extends zU{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Pe(he.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.zo(e,ix(n,r),s,i,l)).catch(i=>{throw i.name==="FirebaseError"?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Pe(he.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(e,ix(n,r),s,l,c,i)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Pe(he.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class BU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(lo(n),this.ua=!1):Te("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="RemoteStore";class UU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(l=>{r.enqueueAndForget(async()=>{Pl(this)&&(Te(dl,"Restarting streams for network reachability change."),await async function(d){const h=We(d);h.da.add(4),await Iu(h),h.Va.set("Unknown"),h.da.delete(4),await af(h)}(this))})}),this.Va=new BU(r,s)}}async function af(t){if(Pl(t))for(const e of t.Aa)await e(!0)}async function Iu(t){for(const e of t.Aa)await e(!1)}function vj(t,e){const n=We(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Bw(n)?$w(n):ku(n).N_()&&zw(n,e))}function Vw(t,e){const n=We(t),r=ku(n);n.Ea.delete(e),r.N_()&&xj(n,e),n.Ea.size===0&&(r.N_()?r.k_():Pl(n)&&n.Va.set("Unknown"))}function zw(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ku(t).Z_(e)}function xj(t,e){t.ma.Ke(e),ku(t).X_(e)}function $w(t){t.ma=new LB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ku(t).start(),t.Va.ca()}function Bw(t){return Pl(t)&&!ku(t).O_()&&t.Ea.size>0}function Pl(t){return We(t).da.size===0}function _j(t){t.ma=void 0}async function qU(t){t.Va.set("Online")}async function HU(t){t.Ea.forEach((e,n)=>{zw(t,e)})}async function WU(t,e){_j(t),Bw(t)?(t.Va.Pa(e),$w(t)):t.Va.set("Unknown")}async function GU(t,e,n){if(t.Va.set("Online"),e instanceof sj&&e.state===2&&e.cause)try{await async function(s,i){const l=i.cause;for(const c of i.targetIds)s.Ea.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ea.delete(c),s.ma.removeTarget(c))}(t,e)}catch(r){Te(dl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bp(t,r)}else if(e instanceof Wm?t.ma.Xe(e):e instanceof rj?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ke.min()))try{const r=await pj(t.localStore);n.compareTo(r)>=0&&await function(i,l){const c=i.ma.It(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=i.Ea.get(h);p&&i.Ea.set(h,p.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const p=i.Ea.get(d);if(!p)return;i.Ea.set(d,p.withResumeToken(Bn.EMPTY_BYTE_STRING,p.snapshotVersion)),xj(i,d);const g=new qo(p.target,d,h,p.sequenceNumber);zw(i,g)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Te(dl,"Failed to raise snapshot:",r),await Bp(t,r)}}async function Bp(t,e,n){if(!Cu(e))throw e;t.da.add(1),await Iu(t),t.Va.set("Offline"),n||(n=()=>pj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te(dl,"Retrying IndexedDB access"),await n(),t.da.delete(1),await af(t)})}function wj(t,e){return e().catch(n=>Bp(t,n,e))}async function qg(t){const e=We(t),n=ma(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Sw;for(;KU(e);)try{const s=await IU(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,ZU(e,s)}catch(s){await Bp(e,s)}bj(e)&&Nj(e)}function KU(t){return Pl(t)&&t.Ia.length<10}function ZU(t,e){t.Ia.push(e);const n=ma(t);n.N_()&&n.ea&&n.ta(e.mutations)}function bj(t){return Pl(t)&&!ma(t).O_()&&t.Ia.length>0}function Nj(t){ma(t).start()}async function QU(t){ma(t).ia()}async function YU(t){const e=ma(t);for(const n of t.Ia)e.ta(n.mutations)}async function XU(t,e,n){const r=t.Ia.shift(),s=Aw.from(r,e,n);await wj(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await qg(t)}async function JU(t,e){e&&ma(t).ea&&await async function(r,s){if(function(l){return DB(l)&&l!==he.ABORTED}(s.code)){const i=r.Ia.shift();ma(r).L_(),await wj(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await qg(r)}}(t,e),bj(t)&&Nj(t)}async function ES(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),Te(dl,"RemoteStore received new credentials");const r=Pl(n);n.da.add(3),await Iu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await af(n)}async function eq(t,e){const n=We(t);e?(n.da.delete(2),await af(n)):e||(n.da.add(2),await Iu(n),n.Va.set("Unknown"))}function ku(t){return t.fa||(t.fa=function(n,r,s){const i=We(n);return i.oa(),new FU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:qU.bind(null,t),n_:HU.bind(null,t),i_:WU.bind(null,t),Y_:GU.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Bw(t)?$w(t):t.Va.set("Unknown")):(await t.fa.stop(),_j(t))})),t.fa}function ma(t){return t.ga||(t.ga=function(n,r,s){const i=We(n);return i.oa(),new VU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:QU.bind(null,t),i_:JU.bind(null,t),na:YU.bind(null,t),ra:XU.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await qg(t)):(await t.ga.stop(),t.Ia.length>0&&(Te(dl,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const l=Date.now()+r,c=new Uw(e,n,l,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qw(t,e){if(lo("AsyncQueue",`${e}: ${t}`),Cu(t))return new Pe(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{static emptySet(e){return new jc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=Pd(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.pa=new Yt(Le.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Be(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ru{constructor(e,n,r,s,i,l,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new ru(e,n,jc.emptySet(n),l,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class nq{constructor(){this.queries=TS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=We(n),i=s.queries;s.queries=TS(),i.forEach((l,c)=>{for(const d of c.Sa)d.onError(r)})})(this,new Pe(he.ABORTED,"Firestore shutting down"))}}function TS(){return new Cl(t=>q2(t),Fg)}async function Hw(t,e){const n=We(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new tq,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=qw(l,`Initialization of query '${rc(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&Gw(n)}async function Ww(t,e){const n=We(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const l=i.Sa.indexOf(e);l>=0&&(i.Sa.splice(l,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rq(t,e){const n=We(t);let r=!1;for(const s of e){const i=s.query,l=n.queries.get(i);if(l){for(const c of l.Sa)c.Ma(s)&&(r=!0);l.ba=s}}r&&Gw(n)}function sq(t,e,n){const r=We(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Gw(t){t.Ca.forEach(e=>{e.next()})}var ux,CS;(CS=ux||(ux={})).xa="default",CS.Cache="cache";class Kw{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ru(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==ux.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.key=e}}class Sj{constructor(e){this.key=e}}class iq{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ft(),this.mutatedKeys=ft(),this.Za=H2(e),this.Xa=new jc(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new SS,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,g)=>{const y=s.get(p),w=Vg(this.query,g)?g:null,S=!!y&&this.mutatedKeys.has(y.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let T=!1;y&&w?y.data.isEqual(w.data)?S!==x&&(r.track({type:3,doc:w}),T=!0):this.ru(y,w)||(r.track({type:2,doc:w}),T=!0,(d&&this.Za(w,d)>0||h&&this.Za(w,h)<0)&&(c=!0)):!y&&w?(r.track({type:0,doc:w}),T=!0):y&&!w&&(r.track({type:1,doc:y}),T=!0,(d||h)&&(c=!0)),T&&(w?(l=l.add(w),i=x?i.add(p):i.delete(p)):(l=l.delete(p),i=i.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{Xa:l,nu:r,Cs:c,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((p,g)=>function(w,S){const x=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:T})}};return x(w)-x(S)}(p.type,g.type)||this.Za(p.doc,g.doc)),this.iu(r),s=s!=null&&s;const c=n&&!s?this.su():[],d=this.Ya.size===0&&this.current&&!s?1:0,h=d!==this.Ja;return this.Ja=d,l.length!==0||h?{snapshot:new ru(this.query,e.Xa,i,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new SS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ft(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Sj(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Ej(r))}),n}au(e){this.Ha=e.$s,this.Ya=ft();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return ru.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Zw="SyncEngine";class oq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class aq{constructor(e){this.key=e,this.cu=!1}}class lq{constructor(e,n,r,s,i,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new Cl(c=>q2(c),Fg),this.Pu=new Map,this.Tu=new Set,this.Iu=new Yt(Le.comparator),this.Eu=new Map,this.du=new Dw,this.Au={},this.Ru=new Map,this.Vu=nu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function cq(t,e,n=!0){const r=jj(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await Tj(r,e,n,!0),s}async function uq(t,e){const n=jj(t);await Tj(n,e,!0,!1)}async function Tj(t,e,n,r){const s=await kU(t.localStore,vi(e)),i=s.targetId,l=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await dq(t,e,i,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&vj(t.remoteStore,s),c}async function dq(t,e,n,r,s){t.fu=(g,y,w)=>async function(x,T,E,N){let P=T.view.tu(E);P.Cs&&(P=await xS(x.localStore,T.query,!1).then(({documents:A})=>T.view.tu(A,P)));const D=N&&N.targetChanges.get(T.targetId),$=N&&N.targetMismatches.get(T.targetId)!=null,B=T.view.applyChanges(P,x.isPrimaryClient,D,$);return IS(x,T.targetId,B.ou),B.snapshot}(t,g,y,w);const i=await xS(t.localStore,e,!0),l=new iq(e,i.$s),c=l.tu(i.documents),d=of.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=l.applyChanges(c,t.isPrimaryClient,d);IS(t,n,h.ou);const p=new oq(e,n,l);return t.hu.set(e,p),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),h.snapshot}async function hq(t,e,n){const r=We(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(l=>!Fg(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await lx(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Vw(r.remoteStore,s.targetId),dx(r,s.targetId)}).catch(Tu)):(dx(r,s.targetId),await lx(r.localStore,s.targetId,!0))}async function fq(t,e){const n=We(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vw(n.remoteStore,r.targetId))}async function mq(t,e,n){const r=wq(t);try{const s=await function(l,c){const d=We(l),h=_n.now(),p=c.reduce((w,S)=>w.add(S.key),ft());let g,y;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=co(),x=ft();return d.Bs.getEntries(w,p).next(T=>{S=T,S.forEach((E,N)=>{N.isValidDocument()||(x=x.add(E))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,S)).next(T=>{g=T;const E=[];for(const N of c){const P=kB(N,g.get(N.key).overlayedDocument);P!=null&&E.push(new ba(N.key,P,O2(P.value.mapValue),gs.exists(!0)))}return d.mutationQueue.addMutationBatch(w,h,E,c)}).next(T=>{y=T;const E=T.applyToLocalDocumentSet(g,x);return d.documentOverlayCache.saveOverlays(w,T.batchId,E)})}).then(()=>({batchId:y.batchId,changes:G2(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let h=l.Au[l.currentUser.toKey()];h||(h=new Yt(nt)),h=h.insert(c,d),l.Au[l.currentUser.toKey()]=h}(r,s.batchId,n),await lf(r,s.changes),await qg(r.remoteStore)}catch(s){const i=qw(s,"Failed to persist write");n.reject(i)}}async function Cj(t,e){const n=We(t);try{const r=await CU(n.localStore,e);e.targetChanges.forEach((s,i)=>{const l=n.Eu.get(i);l&&(Nt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.cu=!0:s.modifiedDocuments.size>0?Nt(l.cu,14607):s.removedDocuments.size>0&&(Nt(l.cu,42227),l.cu=!1))}),await lf(n,r,e)}catch(r){await Tu(r)}}function PS(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,l)=>{const c=l.view.Fa(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=We(l);d.onlineState=c;let h=!1;d.queries.forEach((p,g)=>{for(const y of g.Sa)y.Fa(c)&&(h=!0)}),h&&Gw(d)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pq(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let l=new Yt(Le.comparator);l=l.insert(i,nr.newNoDocument(i,Ke.min()));const c=ft().add(i),d=new Bg(Ke.min(),new Map,new Yt(nt),l,c);await Cj(r,d),r.Iu=r.Iu.remove(i),r.Eu.delete(e),Qw(r)}else await lx(r.localStore,e,!1).then(()=>dx(r,e,n)).catch(Tu)}async function gq(t,e){const n=We(t),r=e.batch.batchId;try{const s=await TU(n.localStore,e);Ij(n,r,null),Pj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lf(n,s)}catch(s){await Tu(s)}}async function yq(t,e,n){const r=We(t);try{const s=await function(l,c){const d=We(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return d.mutationQueue.lookupMutationBatch(h,c).next(g=>(Nt(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>d.localDocuments.getDocuments(h,p))})}(r.localStore,e);Ij(r,e,n),Pj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lf(r,s)}catch(s){await Tu(s)}}function Pj(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function Ij(t,e,n){const r=We(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function dx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||kj(t,r)})}function kj(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Vw(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Qw(t))}function IS(t,e,n){for(const r of n)r instanceof Ej?(t.du.addReference(r.key,e),vq(t,r)):r instanceof Sj?(Te(Zw,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||kj(t,r.key)):Be(19791,{pu:r})}function vq(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Te(Zw,"New document in limbo: "+n),t.Tu.add(r),Qw(t))}function Qw(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Le(Lt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new aq(n)),t.Iu=t.Iu.insert(n,r),vj(t.remoteStore,new qo(vi(Lg(n.path)),r,"TargetPurposeLimboResolution",Mg.le))}}async function lf(t,e,n){const r=We(t),s=[],i=[],l=[];r.hu.isEmpty()||(r.hu.forEach((c,d)=>{l.push(r.fu(d,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){s.push(h);const g=Lw.Rs(d.targetId,h);i.push(g)}}))}),await Promise.all(l),r.lu.Y_(s),await async function(d,h){const p=We(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>fe.forEach(h,y=>fe.forEach(y.ds,w=>p.persistence.referenceDelegate.addReference(g,y.targetId,w)).next(()=>fe.forEach(y.As,w=>p.persistence.referenceDelegate.removeReference(g,y.targetId,w)))))}catch(g){if(!Cu(g))throw g;Te(Fw,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const w=p.xs.get(y),S=w.snapshotVersion,x=w.withLastLimboFreeSnapshotVersion(S);p.xs=p.xs.insert(y,x)}}}(r.localStore,i))}async function xq(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){Te(Zw,"User change. New user:",e.toKey());const r=await mj(n.localStore,e);n.currentUser=e,function(i,l){i.Ru.forEach(c=>{c.forEach(d=>{d.reject(new Pe(he.CANCELLED,l))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lf(n,r.ks)}}function _q(t,e){const n=We(t),r=n.Eu.get(e);if(r&&r.cu)return ft().add(r.key);{let s=ft();const i=n.Pu.get(e);if(!i)return s;for(const l of i){const c=n.hu.get(l);s=s.unionWith(c.view.eu)}return s}}function jj(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_q.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pq.bind(null,e),e.lu.Y_=rq.bind(null,e.eventManager),e.lu.gu=sq.bind(null,e.eventManager),e}function wq(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yq.bind(null,e),e}class Up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ug(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return SU(this.persistence,new bU,e.initialUser,this.serializer)}Su(e){return new fj(Ow.fi,this.serializer)}bu(e){return new AU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Up.provider={build:()=>new Up};class bq extends Up{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Nt(this.persistence.referenceDelegate instanceof $p,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aU(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Er.withCacheSize(this.cacheSizeBytes):Er.DEFAULT;return new fj(r=>$p.fi(r,n),this.serializer)}}class hx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xq.bind(null,this.syncEngine),await eq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nq}()}createDatastore(e){const n=Ug(e.databaseInfo.databaseId),r=function(i){return new LU(i)}(e.databaseInfo);return function(i,l,c,d){return new $U(i,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,l,c){return new UU(r,s,i,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>PS(this.syncEngine,n,0),function(){return bS.C()?new bS:new RU}())}createSyncEngine(e,n){return function(s,i,l,c,d,h,p){const g=new lq(s,i,l,c,d,h);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=We(s);Te(dl,"RemoteStore shutting down."),i.da.add(5),await Iu(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hx.provider={build:()=>new hx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):lo("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class Nq{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=er.UNAUTHENTICATED,this.clientId=T2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async l=>{Te(pa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Te(pa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sv(t,e){t.asyncQueue.verifyOperationInProgress(),Te(pa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await mj(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Aj(t);Te(pa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ES(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>ES(e.remoteStore,s)),t._onlineComponents=e}async function Aj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(pa,"Using user provided OfflineComponentProvider");try{await Sv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===he.FAILED_PRECONDITION||s.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Xc("Error using user provided cache. Falling back to memory cache: "+n),await Sv(t,new Up)}}else Te(pa,"Using default OfflineComponentProvider"),await Sv(t,new bq(void 0));return t._offlineComponents}async function Xw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(pa,"Using user provided OnlineComponentProvider"),await kS(t,t._uninitializedComponentsProvider._online)):(Te(pa,"Using default OnlineComponentProvider"),await kS(t,new hx))),t._onlineComponents}function Rj(t){return Aj(t).then(e=>e.persistence)}function Mj(t){return Xw(t).then(e=>e.remoteStore)}function Eq(t){return Xw(t).then(e=>e.syncEngine)}async function qp(t){const e=await Xw(t),n=e.eventManager;return n.onListen=cq.bind(null,e.syncEngine),n.onUnlisten=hq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fq.bind(null,e.syncEngine),n}function Sq(t){return t.asyncQueue.enqueue(async()=>{const e=await Rj(t),n=await Mj(t);return e.setNetworkEnabled(!0),function(s){const i=We(s);return i.da.delete(0),af(i)}(n)})}function Tq(t){return t.asyncQueue.enqueue(async()=>{const e=await Rj(t),n=await Mj(t);return e.setNetworkEnabled(!1),async function(s){const i=We(s);i.da.add(0),await Iu(i),i.Va.set("Offline")}(n)})}function Cq(t,e,n={}){const r=new Xi;return t.asyncQueue.enqueueAndForget(async()=>function(i,l,c,d,h){const p=new Yw({next:y=>{p.xu(),l.enqueueAndForget(()=>Ww(i,g));const w=y.docs.has(c);!w&&y.fromCache?h.reject(new Pe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&d&&d.source==="server"?h.reject(new Pe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new Kw(Lg(c.path),p,{includeMetadataChanges:!0,Qa:!0});return Hw(i,g)}(await qp(t),t.asyncQueue,e,n,r)),r.promise}function Pq(t,e,n={}){const r=new Xi;return t.asyncQueue.enqueueAndForget(async()=>function(i,l,c,d,h){const p=new Yw({next:y=>{p.xu(),l.enqueueAndForget(()=>Ww(i,g)),y.fromCache&&d.source==="server"?h.reject(new Pe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new Kw(c,p,{includeMetadataChanges:!0,Qa:!0});return Hw(i,g)}(await qp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t,e,n){if(!n)throw new Pe(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Iq(t,e,n,r){if(e===!0&&r===!0)throw new Pe(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AS(t){if(!Le.isDocumentKey(t))throw new Pe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RS(t){if(Le.isDocumentKey(t))throw new Pe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function rr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hg(t);throw new Pe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="firestore.googleapis.com",MS=!0;class DS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lj,this.ssl=MS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:MS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iU)throw new Pe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Iq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Pe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Pe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Pe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new D7;switch(r.type){case"firstParty":return new V7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jS.get(n);r&&(Te("ComponentProvider","Removing Datastore"),jS.delete(n),r.terminate())}(this),Promise.resolve()}}function kq(t,e,n,r={}){var s;t=rr(t,Wg);const i=bu(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;i&&(Nk(`https://${d}`),Ek("Firestore",!0)),l.host!==Lj&&l.host!==d&&Xc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:d,ssl:i,emulatorOptions:r});if(!il(h,c)&&(t._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=er.MOCK_USER;else{p=S9(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Pe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new er(y)}t._authCredentials=new O7(new E2(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Na(this.firestore,e,this._query)}}class sr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class ra extends Na{constructor(e,n,r){super(e,n,Lg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new Le(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function Vn(t,e,...n){if(t=Vt(t),Oj("collection","path",e),t instanceof Wg){const r=Lt.fromString(e,...n);return RS(r),new ra(t,null,r)}{if(!(t instanceof sr||t instanceof ra))throw new Pe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return RS(r),new ra(t.firestore,null,r)}}function In(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=T2.newId()),Oj("doc","path",e),t instanceof Wg){const r=Lt.fromString(e,...n);return AS(r),new sr(t,null,new Le(r))}{if(!(t instanceof sr||t instanceof ra))throw new Pe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return AS(r),new sr(t.firestore,t instanceof ra?t.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="AsyncQueue";class LS{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new gj(this,"async_queue_retry"),this.rc=()=>{const r=Ev();r&&Te(OS,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Ev();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Ev();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Xi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Cu(e))throw e;Te(OS,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,lo("INTERNAL UNHANDLED ERROR: ",FS(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=Uw.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&Be(47125,{cc:FS(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function FS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Gs extends Wg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new LS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LS(e),this._firestoreClient=void 0,await e}}}function jq(t,e){const n=typeof t=="object"?t:Pk(),r=typeof t=="string"?t:Op,s=hw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=N9("firestore");i&&kq(s,...i)}return s}function ju(t){if(t._terminated)throw new Pe(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Aq(t),t._firestoreClient}function Aq(t){var e,n,r;const s=t._freezeSettings(),i=function(c,d,h,p){return new eB(c,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Dj(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Nq(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}function Rq(t){return Sq(ju(t=rr(t,Gs)))}function Mq(t){return Tq(ju(t=rr(t,Gs)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this._byteString=e}static fromBase64String(e){try{return new su(Bn.fromBase64String(e))}catch(n){throw new Pe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new su(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq=/^__.*__$/;class Oq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,n,this.fieldTransforms):new sf(e,this.data,n,this.fieldTransforms)}}class Fj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ba(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Vj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ic:t})}}class tb{constructor(e,n,r,s,i,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new tb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Hp(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Vj(this.Ic)&&Dq.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Lq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ug(e)}bc(e,n,r,s=!1){return new tb({Ic:e,methodName:n,wc:r,path:Fn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zg(t){const e=t._freezeSettings(),n=Ug(t._databaseId);return new Lq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zj(t,e,n,r,s,i={}){const l=t.bc(i.merge||i.mergeFields?2:0,e,n,s);rb("Data must be an object, but it was:",l,r);const c=$j(r,l);let d,h;if(i.merge)d=new Wr(l.fieldMask),h=l.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const y=fx(e,g,n);if(!l.contains(y))throw new Pe(he.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Uj(p,y)||p.push(y)}d=new Wr(p),h=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=l.fieldTransforms;return new Oq(new Cr(c),d,h)}class Qg extends Kg{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qg}}class nb extends Kg{_toFieldTransform(e){return new TB(e.path,new Ah)}isEqual(e){return e instanceof nb}}function Fq(t,e,n,r){const s=t.bc(1,e,n);rb("Data must be an object, but it was:",s,r);const i=[],l=Cr.empty();wa(r,(d,h)=>{const p=sb(e,d,n);h=Vt(h);const g=s.mc(p);if(h instanceof Qg)i.push(p);else{const y=cf(h,g);y!=null&&(i.push(p),l.set(p,y))}});const c=new Wr(i);return new Fj(l,c,s.fieldTransforms)}function Vq(t,e,n,r,s,i){const l=t.bc(1,e,n),c=[fx(e,r,n)],d=[s];if(i.length%2!=0)throw new Pe(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)c.push(fx(e,i[y])),d.push(i[y+1]);const h=[],p=Cr.empty();for(let y=c.length-1;y>=0;--y)if(!Uj(h,c[y])){const w=c[y];let S=d[y];S=Vt(S);const x=l.mc(w);if(S instanceof Qg)h.push(w);else{const T=cf(S,x);T!=null&&(h.push(w),p.set(w,T))}}const g=new Wr(h);return new Fj(p,g,l.fieldTransforms)}function zq(t,e,n,r=!1){return cf(n,t.bc(r?4:3,e))}function cf(t,e){if(Bj(t=Vt(t)))return rb("Unsupported field value:",e,t),$j(t,e);if(t instanceof Kg)return function(r,s){if(!Vj(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let l=0;for(const c of r){let d=cf(c,s.fc(l));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),l++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_n.fromDate(r);return{timestampValue:zp(s.serializer,i)}}if(r instanceof _n){const i=new _n(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zp(s.serializer,i)}}if(r instanceof Jw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof su)return{bytesValue:ij(s.serializer,r._byteString)};if(r instanceof sr){const i=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(i))throw s.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Mw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof eb)return function(l,c){return{mapValue:{fields:{[M2]:{stringValue:D2},[Lp]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.gc("VectorValues must only contain numeric values.");return kw(c.serializer,h)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Hg(r)}`)}(t,e)}function $j(t,e){const n={};return P2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(t,(r,s)=>{const i=cf(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Bj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _n||t instanceof Jw||t instanceof su||t instanceof sr||t instanceof Kg||t instanceof eb)}function rb(t,e,n){if(!Bj(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Hg(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function fx(t,e,n){if((e=Vt(e))instanceof Gg)return e._internalPath;if(typeof e=="string")return sb(t,e);throw Hp("Field path arguments must be of type string or ",t,!1,void 0,n)}const $q=new RegExp("[~\\*/\\[\\]]");function sb(t,e,n){if(e.search($q)>=0)throw Hp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gg(...e.split("."))._internalPath}catch{throw Hp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hp(t,e,n,r,s){const i=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(i||l)&&(d+=" (found",i&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new Pe(he.INVALID_ARGUMENT,c+t+d)}function Uj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Bq extends qj{data(){return super.data()}}function Yg(t,e){return typeof e=="string"?sb(t,e):e instanceof Gg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ib{}class Wj extends ib{}function Ki(t,e,...n){let r=[];e instanceof ib&&r.push(e),r=r.concat(n),function(i){const l=i.filter(d=>d instanceof ob).length,c=i.filter(d=>d instanceof Xg).length;if(l>1||l>0&&c>0)throw new Pe(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Xg extends Wj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xg(e,n,r)}_apply(e){const n=this._parse(e);return Gj(e._query,n),new Na(e.firestore,e.converter,nx(e._query,n))}_parse(e){const n=Zg(e.firestore);return function(i,l,c,d,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Pe(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){$S(g,p);const S=[];for(const x of g)S.push(zS(d,i,x));y={arrayValue:{values:S}}}else y=zS(d,i,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||$S(g,p),y=zq(c,l,g,p==="in"||p==="not-in");return fn.create(h,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sa(t,e,n){const r=e,s=Yg("where",t);return Xg._create(s,r,n)}class ob extends ib{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ob(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ws.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let l=s;const c=i.getFlattenedFilters();for(const d of c)Gj(l,d),l=nx(l,d)}(e._query,n),new Na(e.firestore,e.converter,nx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ab extends Wj{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ab(e,n)}_apply(e){const n=function(s,i,l){if(s.startAt!==null)throw new Pe(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Pe(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jh(i,l)}(e._query,this._field,this._direction);return new Na(e.firestore,e.converter,function(s,i){const l=s.explicitOrderBy.concat([i]);return new Pu(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Uq(t,e="asc"){const n=e,r=Yg("orderBy",t);return ab._create(r,n)}function zS(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new Pe(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U2(e)&&n.indexOf("/")!==-1)throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lt.fromString(n));if(!Le.isDocumentKey(r))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eS(t,new Le(r))}if(n instanceof sr)return eS(t,n._key);throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hg(n)}.`)}function $S(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gj(t,e){const n=function(s,i){for(const l of s)for(const c of l.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qq{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wa(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Lp].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>sn(l.doubleValue));return new eb(i)}convertGeoPoint(e){return new Jw(sn(e.latitude),sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Og(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ph(e));default:return null}}convertTimestamp(e){const n=da(e);return new _n(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);Nt(dj(r),9688,{name:e});const s=new Ih(r.get(1),r.get(3)),i=new Le(r.popFirst(5));return s.isEqual(n)||lo(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zj extends qj{constructor(e,n,r,s,i,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gm extends Zj{data(e={}){return super.data(e)}}class Qj{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new kd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gm(this._firestore,this._userDataWriter,r.key,r,new kd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new Gm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new kd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const d=new Gm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new kd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:Hq(c.type),doc:d,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Hq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(t){t=rr(t,sr);const e=rr(t.firestore,Gs);return Cq(ju(e),t._key).then(n=>Jj(e,t,n))}class lb extends qq{constructor(e){super(),this.firestore=e}convertBytes(e){return new su(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,n)}}function Ni(t){t=rr(t,Na);const e=rr(t.firestore,Gs),n=ju(e),r=new lb(e);return Hj(t._query),Pq(n,t._query).then(s=>new Qj(e,r,t,s))}function Yj(t,e,n){t=rr(t,sr);const r=rr(t.firestore,Gs),s=Kj(t.converter,e,n);return Jg(r,[zj(Zg(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,gs.none())])}function ia(t,e,n,...r){t=rr(t,sr);const s=rr(t.firestore,Gs),i=Zg(s);let l;return l=typeof(e=Vt(e))=="string"||e instanceof Gg?Vq(i,"updateDoc",t._key,e,n,r):Fq(i,"updateDoc",t._key,e),Jg(s,[l.toMutation(t._key,gs.exists(!0))])}function Xj(t){return Jg(rr(t.firestore,Gs),[new jw(t._key,gs.none())])}function Ei(t,e){const n=rr(t.firestore,Gs),r=In(t),s=Kj(t.converter,e);return Jg(n,[zj(Zg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,gs.exists(!1))]).then(()=>r)}function Wq(t,...e){var n,r,s;t=Vt(t);let i={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||VS(e[l])||(i=e[l],l++);const c={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(VS(e[l])){const g=e[l];e[l]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(s=g.complete)===null||s===void 0?void 0:s.bind(g)}let d,h,p;if(t instanceof sr)h=rr(t.firestore,Gs),p=Lg(t._key.path),d={next:g=>{e[l]&&e[l](Jj(h,t,g))},error:e[l+1],complete:e[l+2]};else{const g=rr(t,Na);h=rr(g.firestore,Gs),p=g._query;const y=new lb(h);d={next:w=>{e[l]&&e[l](new Qj(h,y,g,w))},error:e[l+1],complete:e[l+2]},Hj(t._query)}return function(y,w,S,x){const T=new Yw(x),E=new Kw(w,T,S);return y.asyncQueue.enqueueAndForget(async()=>Hw(await qp(y),E)),()=>{T.xu(),y.asyncQueue.enqueueAndForget(async()=>Ww(await qp(y),E))}}(ju(h),p,c,d)}function Jg(t,e){return function(r,s){const i=new Xi;return r.asyncQueue.enqueueAndForget(async()=>mq(await Eq(r),s,i)),i.promise}(ju(t),e)}function Jj(t,e,n){const r=n.docs.get(e._key),s=new lb(t);return new Zj(t,s,e._key,r,new kd(n.hasPendingWrites,n.fromCache),e.converter)}function Gq(){return new nb("serverTimestamp")}(function(e,n=!0){(function(s){Su=s})(Eu),Yc(new ol("firestore",(r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),c=new Gs(new L7(r.getProvider("auth-internal")),new z7(l,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Pe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ih(h.options.projectId,p)}(l,s),l);return i=Object.assign({useFetchStreams:n},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),ta(BE,UE,e),ta(BE,UE,"esm2017")})();const Kq={apiKey:"AIzaSyBhiSxNUrQ4b_iwpYr4F_J1UW3XOwzsMmE",authDomain:"dsa-squad.firebaseapp.com",databaseURL:"https://dsa-squad-default-rtdb.firebaseio.com",projectId:"dsa-squad",storageBucket:"dsa-squad.firebasestorage.app",messagingSenderId:"762339454857",appId:"1:762339454857:web:bfc50ed181e2daefe2fb58",measurementId:"G-WCPR6FCESS"},eA=Ck(Kq),St=R7(eA),ht=jq(eA);let cb=navigator.onLine;window.addEventListener("online",()=>{cb=!0,console.log("App is online"),Rq(ht).catch(console.error)});window.addEventListener("offline",()=>{cb=!1,console.log("App is offline"),Mq(ht).catch(console.error)});const BS=()=>cb,ou=async(t,e=3)=>{for(let n=0;n<e;n++)try{return await t()}catch(r){if(console.error(`Firebase operation failed (attempt ${n+1}/${e}):`,r),n===e-1)throw r;await new Promise(s=>setTimeout(s,Math.pow(2,n)*1e3))}},Ge={FOOD:"food",DRINKS:"drinks",DAILY_ESSENTIAL:"daily_essential"},Je={PIZZAS:"pizzas",BURGERS:"burgers",BIRYANI:"biryani",CHINESE:"chinese",INDIAN:"indian",DESSERTS:"desserts",BEER:"beer",WINE:"wine",SPIRITS:"spirits",COCKTAILS:"cocktails",STAPLES:"staples",SNACKS:"snacks",BEVERAGES:"beverages",PERSONAL_CARE:"personal_care",HOUSEHOLD:"household"},tA=[{name:"All",icon:"",category:Ge.FOOD,subcategory:"all",displayName:"All"},{name:"Pizzas",icon:"",category:Ge.FOOD,subcategory:Je.PIZZAS,displayName:"Pizzas"},{name:"Biryani",icon:"",category:Ge.FOOD,subcategory:Je.BIRYANI,displayName:"Biryani"},{name:"Chinese",icon:"",category:Ge.FOOD,subcategory:Je.CHINESE,displayName:"Chinese"},{name:"Burgers",icon:"",category:Ge.FOOD,subcategory:Je.BURGERS,displayName:"Burgers"},{name:"Indian",icon:"",category:Ge.FOOD,subcategory:Je.INDIAN,displayName:"Indian"},{name:"Desserts",icon:"",category:Ge.FOOD,subcategory:Je.DESSERTS,displayName:"Desserts"},{name:"All",icon:"",category:Ge.DRINKS,subcategory:"all",displayName:"All"},{name:"Beer",icon:"",category:Ge.DRINKS,subcategory:Je.BEER,displayName:"Beer"},{name:"Wine",icon:"",category:Ge.DRINKS,subcategory:Je.WINE,displayName:"Wine"},{name:"Spirits",icon:"",category:Ge.DRINKS,subcategory:Je.SPIRITS,displayName:"Spirits"},{name:"Cocktails",icon:"",category:Ge.DRINKS,subcategory:Je.COCKTAILS,displayName:"Cocktails"},{name:"All",icon:"",category:Ge.DAILY_ESSENTIAL,subcategory:"all",displayName:"All"},{name:"Staples",icon:"",category:Ge.DAILY_ESSENTIAL,subcategory:Je.STAPLES,displayName:"Staples"},{name:"Snacks",icon:"",category:Ge.DAILY_ESSENTIAL,subcategory:Je.SNACKS,displayName:"Snacks"},{name:"Beverages",icon:"",category:Ge.DAILY_ESSENTIAL,subcategory:Je.BEVERAGES,displayName:"Beverages"},{name:"Personal Care",icon:"",category:Ge.DAILY_ESSENTIAL,subcategory:Je.PERSONAL_CARE,displayName:"Personal Care"},{name:"Household",icon:"",category:Ge.DAILY_ESSENTIAL,subcategory:Je.HOUSEHOLD,displayName:"Household"}],Zq=[{name:"Domino's Pizza",price:250,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:Ge.FOOD,subcategory:Je.PIZZAS,description:"Delicious pizza with fresh toppings",deliveryTime:"20-25 mins",inStock:!0,isVeg:!1,discount:"20% OFF",tags:["pizza","italian","cheese","tomato"]},{name:"Spice N Ice Biryani",price:220,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:Ge.FOOD,subcategory:Je.BIRYANI,description:"Aromatic biryani with tender meat",deliveryTime:"25-30 mins",inStock:!0,isVeg:!1,offer:"BUY1 GET1",tags:["biryani","rice","spicy","indian"]},{name:"China Nation Noodles",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:Ge.FOOD,subcategory:Je.CHINESE,description:"Stir-fried noodles with vegetables",deliveryTime:"15-20 mins",inStock:!0,isVeg:!0,tags:["noodles","chinese","vegetarian","stir-fry"]},{name:"Classic Burger",price:150,rating:4.2,image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400",category:Ge.FOOD,subcategory:Je.BURGERS,description:"Juicy beef burger with fresh vegetables",deliveryTime:"18-22 mins",inStock:!0,isVeg:!1,discount:"15% OFF",tags:["burger","beef","fast-food","american"]},{name:"Butter Chicken",price:280,rating:4.6,image:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400",category:Ge.FOOD,subcategory:Je.INDIAN,description:"Creamy butter chicken with naan",deliveryTime:"30-35 mins",inStock:!0,isVeg:!1,tags:["chicken","indian","curry","butter"]},{name:"Chocolate Cake",price:120,rating:4.4,image:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400",category:Ge.FOOD,subcategory:Je.DESSERTS,description:"Rich chocolate cake with cream",deliveryTime:"20-25 mins",inStock:!0,isVeg:!0,tags:["cake","chocolate","dessert","sweet"]},{name:"Heineken Beer",price:120,rating:4.3,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Ge.DRINKS,subcategory:Je.BEER,description:"Premium lager beer",deliveryTime:"30-45 mins",inStock:!0,tags:["beer","lager","alcohol","premium"]},{name:"Red Wine",price:450,rating:4.5,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Ge.DRINKS,subcategory:Je.WINE,description:"Smooth red wine",deliveryTime:"30-45 mins",inStock:!0,discount:"10% OFF",tags:["wine","red","alcohol","premium"]},{name:"Whiskey",price:800,rating:4.7,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Ge.DRINKS,subcategory:Je.SPIRITS,description:"Premium whiskey",deliveryTime:"30-45 mins",inStock:!0,tags:["whiskey","spirits","alcohol","premium"]},{name:"Mojito Cocktail",price:180,rating:4.2,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Ge.DRINKS,subcategory:Je.COCKTAILS,description:"Refreshing mojito cocktail",deliveryTime:"25-35 mins",inStock:!0,tags:["cocktail","mojito","alcohol","refreshing"]},{name:"Basmati Rice",price:80,rating:4.4,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400",category:Ge.DAILY_ESSENTIAL,subcategory:Je.STAPLES,description:"Premium basmati rice",deliveryTime:"60-90 mins",inStock:!0,discount:"5% OFF",tags:["rice","basmati","staples","grocery"]},{name:"Potato Chips",price:30,rating:4.1,image:"https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=400",category:Ge.DAILY_ESSENTIAL,subcategory:Je.SNACKS,description:"Crispy potato chips",deliveryTime:"60-90 mins",inStock:!0,tags:["chips","snacks","potato","crispy"]},{name:"Coca Cola",price:40,rating:4,image:"https://images.unsplash.com/photo-1554866585-aa94861d3f78?w=400",category:Ge.DAILY_ESSENTIAL,subcategory:Je.BEVERAGES,description:"Refreshing cola drink",deliveryTime:"60-90 mins",inStock:!0,tags:["cola","beverage","soft-drink","refreshing"]},{name:"Toothpaste",price:60,rating:4.3,image:"https://images.unsplash.com/photo-1559591935-c6c92c6c2b6e?w=400",category:Ge.DAILY_ESSENTIAL,subcategory:Je.PERSONAL_CARE,description:"Fresh mint toothpaste",deliveryTime:"60-90 mins",inStock:!0,tags:["toothpaste","personal-care","hygiene","mint"]},{name:"Dish Soap",price:45,rating:4.2,image:"https://images.unsplash.com/photo-1559591935-c6c92c6c2b6e?w=400",category:Ge.DAILY_ESSENTIAL,subcategory:Je.HOUSEHOLD,description:"Effective dish cleaning soap",deliveryTime:"60-90 mins",inStock:!0,tags:["soap","household","cleaning","dishes"]}],Qq=async()=>{try{const t=Vn(ht,"categories");if((await Ni(t)).empty){const n=tA.map(r=>Ei(t,{...r,createdAt:new Date,updatedAt:new Date}));await Promise.all(n),console.log("Categories initialized successfully")}}catch(t){console.error("Error initializing categories:",t)}},ub=async t=>{try{const e=Vn(ht,"categories"),n=Ki(e,sa("category","==",t)),r=await Ni(n),s=[];return r.forEach(i=>{const l=i.data(),c={id:i.id,...l};s.push(c)}),s.sort((i,l)=>i.name.localeCompare(l.name)),s}catch(e){return console.error("Error fetching categories:",e),tA.filter(n=>n.category===t)}},nA=async()=>{try{const t=Vn(ht,"products");if((await Ni(t)).empty){const n=Zq.map(r=>Ei(t,{...r,createdAt:new Date,updatedAt:new Date}));await Promise.all(n),console.log("Products initialized successfully")}}catch(t){console.error("Error initializing products:",t)}},mx=async(t,e=null,n=null)=>{try{const r=Vn(ht,"products");let s;e?s=Ki(r,sa("category","==",e)):s=Ki(r,Uq("name")),n&&(e?s=Ki(s,sa("subcategory","==",n)):s=Ki(r,sa("subcategory","==",n)));const i=await Ni(s),l=[];return i.forEach(c=>{const d=c.data(),h={id:c.id,...d};(!t||h.name.toLowerCase().includes(t.toLowerCase())||h.description.toLowerCase().includes(t.toLowerCase())||h.tags.some(p=>p.toLowerCase().includes(t.toLowerCase())))&&l.push(h)}),(e||n)&&l.sort((c,d)=>c.name.localeCompare(d.name)),l}catch(r){return console.error("Error searching products:",r),[]}},Ac=async t=>await mx("",t),Yq=async()=>{try{const t=Vn(ht,"products"),e=await Ni(t),n=Vn(ht,"categories"),r=await Ni(n),s=new Map;r.forEach(c=>{var p,g;const d=c.data(),h=`${(p=d.category)==null?void 0:p.toLowerCase()}-${(g=d.subcategory)==null?void 0:g.toLowerCase()}`;s.set(h,d)});const i=[],l={pizzas:"",burgers:"",biryani:"",chinese:"",indian:"",desserts:"",momo:"",vindi:"",sandwiches:"",noodles:"",rice:"",curry:"",breads:"",soups:"",salads:"",wraps:"",tacos:"",sushi:"",pasta:"",beer:"",wine:"",spirits:"",cocktails:"",juice:"",soda:"",coffee:"",tea:"",smoothies:"",milkshakes:"",energy_drinks:"",staples:"",snacks:"",beverages:"",personal_care:"","personal care":"",household:"",fruits:"",vegetables:"",dairy:"",meat:"",frozen:"",canned:"",bakery:"",condiments:"",spices:"",oils:"",grains:"",pulses:"",nuts:"",chocolates:"",candies:""};if(e.forEach(c=>{var p,g;const d=c.data();if(!d.subcategory||d.subcategory==="all")return;const h=`${(p=d.category)==null?void 0:p.toLowerCase()}-${(g=d.subcategory)==null?void 0:g.toLowerCase()}`;if(!s.has(h)){const y=l[d.subcategory.toLowerCase()]||"",w=d.subcategory.charAt(0).toUpperCase()+d.subcategory.slice(1);i.push({name:w,icon:y,category:d.category,subcategory:d.subcategory.toLowerCase(),displayName:w,createdAt:new Date,updatedAt:new Date})}}),i.length>0){console.log("Adding missing subcategories:",i);const c=i.map(d=>Ei(n,d));await Promise.all(c),console.log(`Added ${i.length} missing subcategories to Firestore`)}else console.log("No missing subcategories found");return i}catch(t){return console.error("Error syncing missing subcategories:",t),[]}},Xq=Qh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const l=r?UL:"button";return o.jsx(l,{className:Me(Xq({variant:e,size:n,className:t})),ref:i,...s})});W.displayName="Button";const Ze=v.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:Me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ze.displayName="Input";const Jq=Qh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function an({className:t,variant:e,...n}){return o.jsx("div",{className:Me(Jq({variant:e}),t),...n})}const Ae=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Me("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ae.displayName="Card";const yt=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Me("flex flex-col space-y-1.5 p-6",t),...e}));yt.displayName="CardHeader";const bt=v.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:Me("text-2xl font-semibold leading-none tracking-tight",t),...e}));bt.displayName="CardTitle";const eH=v.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:Me("text-sm text-muted-foreground",t),...e}));eH.displayName="CardDescription";const Re=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Me("p-6 pt-0",t),...e}));Re.displayName="CardContent";const tH=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Me("flex items-center p-6 pt-0",t),...e}));tH.displayName="CardFooter";var nH="Label",rA=v.forwardRef((t,e)=>o.jsx(De.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));rA.displayName=nH;var sA=rA;const rH=Qh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ve=v.forwardRef(({className:t,...e},n)=>o.jsx(sA,{ref:n,className:Me(rH(),t),...e}));Ve.displayName=sA.displayName;var sH=v.createContext(void 0);function Au(t){const e=v.useContext(sH);return t||e||"ltr"}var Tv="rovingFocusGroup.onEntryFocus",iH={bubbles:!1,cancelable:!0},uf="RovingFocusGroup",[px,iA,oH]=Gh(uf),[aH,Ru]=ar(uf,[oH]),[lH,cH]=aH(uf),oA=v.forwardRef((t,e)=>o.jsx(px.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(px.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(uH,{...t,ref:e})})}));oA.displayName=uf;var uH=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=t,y=v.useRef(null),w=ot(e,y),S=Au(i),[x,T]=_s({prop:l,defaultProp:c??null,onChange:d,caller:uf}),[E,N]=v.useState(!1),P=Rr(h),D=iA(n),$=v.useRef(!1),[B,A]=v.useState(0);return v.useEffect(()=>{const k=y.current;if(k)return k.addEventListener(Tv,P),()=>k.removeEventListener(Tv,P)},[P]),o.jsx(lH,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:x,onItemFocus:v.useCallback(k=>T(k),[T]),onItemShiftTab:v.useCallback(()=>N(!0),[]),onFocusableItemAdd:v.useCallback(()=>A(k=>k+1),[]),onFocusableItemRemove:v.useCallback(()=>A(k=>k-1),[]),children:o.jsx(De.div,{tabIndex:E||B===0?-1:0,"data-orientation":r,...g,ref:w,style:{outline:"none",...t.style},onMouseDown:Ne(t.onMouseDown,()=>{$.current=!0}),onFocus:Ne(t.onFocus,k=>{const j=!$.current;if(k.target===k.currentTarget&&j&&!E){const O=new CustomEvent(Tv,iH);if(k.currentTarget.dispatchEvent(O),!O.defaultPrevented){const R=D().filter(Q=>Q.focusable),V=R.find(Q=>Q.active),F=R.find(Q=>Q.id===x),pe=[V,F,...R].filter(Boolean).map(Q=>Q.ref.current);cA(pe,p)}}$.current=!1}),onBlur:Ne(t.onBlur,()=>N(!1))})})}),aA="RovingFocusGroupItem",lA=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:l,...c}=t,d=ps(),h=i||d,p=cH(aA,n),g=p.currentTabStopId===h,y=iA(n),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:x}=p;return v.useEffect(()=>{if(r)return w(),()=>S()},[r,w,S]),o.jsx(px.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:o.jsx(De.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:Ne(t.onMouseDown,T=>{r?p.onItemFocus(h):T.preventDefault()}),onFocus:Ne(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:Ne(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){p.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const E=fH(T,p.orientation,p.dir);if(E!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let P=y().filter(D=>D.focusable).map(D=>D.ref.current);if(E==="last")P.reverse();else if(E==="prev"||E==="next"){E==="prev"&&P.reverse();const D=P.indexOf(T.currentTarget);P=p.loop?mH(P,D+1):P.slice(D+1)}setTimeout(()=>cA(P))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:x!=null}):l})})});lA.displayName=aA;var dH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function fH(t,e,n){const r=hH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return dH[r]}function cA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function mH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var db=oA,hb=lA,ey="Tabs",[pH,NQ]=ar(ey,[Ru]),uA=Ru(),[gH,fb]=pH(ey),dA=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:d="automatic",...h}=t,p=Au(c),[g,y]=_s({prop:r,onChange:s,defaultProp:i??"",caller:ey});return o.jsx(gH,{scope:n,baseId:ps(),value:g,onValueChange:y,orientation:l,dir:p,activationMode:d,children:o.jsx(De.div,{dir:p,"data-orientation":l,...h,ref:e})})});dA.displayName=ey;var hA="TabsList",fA=v.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=fb(hA,n),l=uA(n);return o.jsx(db,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(De.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});fA.displayName=hA;var mA="TabsTrigger",pA=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,l=fb(mA,n),c=uA(n),d=vA(l.baseId,r),h=xA(l.baseId,r),p=r===l.value;return o.jsx(hb,{asChild:!0,...c,focusable:!s,active:p,children:o.jsx(De.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:e,onMouseDown:Ne(t.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?l.onValueChange(r):g.preventDefault()}),onKeyDown:Ne(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(r)}),onFocus:Ne(t.onFocus,()=>{const g=l.activationMode!=="manual";!p&&!s&&g&&l.onValueChange(r)})})})});pA.displayName=mA;var gA="TabsContent",yA=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...l}=t,c=fb(gA,n),d=vA(c.baseId,r),h=xA(c.baseId,r),p=r===c.value,g=v.useRef(p);return v.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),o.jsx(Jr,{present:s||p,children:({present:y})=>o.jsx(De.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!y,id:h,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:y&&i})})});yA.displayName=gA;function vA(t,e){return`${t}-trigger-${e}`}function xA(t,e){return`${t}-content-${e}`}var yH=dA,_A=fA,wA=pA,bA=yA;const vH=yH,NA=v.forwardRef(({className:t,...e},n)=>o.jsx(_A,{ref:n,className:Me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));NA.displayName=_A.displayName;const gx=v.forwardRef(({className:t,...e},n)=>o.jsx(wA,{ref:n,className:Me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));gx.displayName=wA.displayName;const yx=v.forwardRef(({className:t,...e},n)=>o.jsx(bA,{ref:n,className:Me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));yx.displayName=bA.displayName;const EA=({isOpen:t,onComplete:e})=>{const[n,r]=v.useState(!1),[s,i]=v.useState({displayName:"",phone:"",age:""}),[l,c]=v.useState({displayName:"",phone:"",age:""});v.useEffect(()=>{t&&St.currentUser&&i(g=>({...g,displayName:St.currentUser.displayName||"",phone:St.currentUser.phoneNumber||""}))},[t]);const d=()=>{const g={displayName:"",phone:"",age:""};if(s.displayName.trim()?s.displayName.trim().length<2&&(g.displayName="Name must be at least 2 characters long"):g.displayName="Name is required",s.phone.trim()?/^[\+]?[1-9][\d]{0,15}$/.test(s.phone.replace(/\s/g,""))||(g.phone="Please enter a valid phone number"):g.phone="Phone number is required",!s.age.trim())g.age="Age is required";else{const y=parseInt(s.age);(isNaN(y)||y<13||y>120)&&(g.age="Age must be between 13 and 120")}return c(g),!Object.values(g).some(y=>y!=="")},h=async g=>{if(g.preventDefault(),!!d()){if(!St.currentUser){Y.error("User not authenticated");return}r(!0);try{await s2(St.currentUser,{displayName:s.displayName.trim()});const y=In(ht,"users",St.currentUser.uid),w=await iu(y),S={displayName:s.displayName.trim(),email:St.currentUser.email,phone:s.phone.trim(),age:parseInt(s.age),isOnboarded:!0,createdAt:w.exists()?w.data().createdAt:new Date,updatedAt:new Date,settings:w.exists()?w.data().settings:{notifications:!0,language:"en",sound:!0,emailNotifications:!0,pushNotifications:!0,darkMode:!1}};await Yj(y,S,{merge:!0}),Y.success("Profile completed successfully!"),e()}catch(y){console.error("Error saving user data:",y),Y.error("Failed to save profile. Please try again.")}finally{r(!1)}}},p=(g,y)=>{i(w=>({...w,[g]:y})),l[g]&&c(w=>({...w,[g]:""}))};return t?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs(Ae,{className:"w-full max-w-md bg-white",children:[o.jsxs(yt,{className:"text-center",children:[o.jsx(bt,{className:"text-2xl font-bold text-gray-800",children:"Complete Your Profile"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Please provide your details to complete your account setup"})]}),o.jsx(Re,{children:o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"displayName",className:"text-gray-700",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ao,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ze,{id:"displayName",type:"text",placeholder:"Enter your full name",value:s.displayName,onChange:g=>p("displayName",g.target.value),className:`pl-10 ${l.displayName?"border-red-500":""}`,disabled:n})]}),l.displayName&&o.jsx("p",{className:"text-red-500 text-xs",children:l.displayName})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(Qr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ze,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:s.phone,onChange:g=>p("phone",g.target.value),className:`pl-10 ${l.phone?"border-red-500":""}`,disabled:n})]}),l.phone&&o.jsx("p",{className:"text-red-500 text-xs",children:l.phone})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"age",className:"text-gray-700",children:"Age"}),o.jsxs("div",{className:"relative",children:[o.jsx(oI,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ze,{id:"age",type:"number",placeholder:"Enter your age",value:s.age,onChange:g=>p("age",g.target.value),className:`pl-10 ${l.age?"border-red-500":""}`,min:"13",max:"120",disabled:n})]}),l.age&&o.jsx("p",{className:"text-red-500 text-xs",children:l.age}),o.jsx("p",{className:"text-gray-500 text-xs",children:"You must be at least 13 years old to use this service"})]}),o.jsx(W,{type:"submit",className:"w-full bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",disabled:n,children:n?o.jsxs(o.Fragment,{children:[o.jsx(Hi,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:["Complete Profile",o.jsx(D_,{className:"ml-2 h-4 w-4"})]})})]})})]})}):null},xH=({isOpen:t,onClose:e,onLoginSuccess:n})=>{const[r,s]=v.useState(!1),[i,l]=v.useState(""),[c,d]=v.useState(""),[h,p]=v.useState(!1),[g,y]=v.useState(!1),[w,S]=v.useState(""),[x,T]=v.useState(""),[E,N]=v.useState(""),[P,D]=v.useState(!1),[$,B]=v.useState(null),[A,k]=v.useState(!1),[j,O]=v.useState(!1),R=()=>{l(""),d(""),S(""),T(""),N(""),D(!1),y(!1),s(!1),k(!1),O(!1)},V=()=>{k(!1),R(),e(),n&&n()},F=async ne=>{var ie;try{const Z=await iu(In(ht,"users",ne));return!Z.exists()||!((ie=Z.data())!=null&&ie.isOnboarded)}catch(Z){return console.error("Error checking user status:",Z),!0}},te=async ne=>{ne.preventDefault(),s(!0);try{if(g){const ie=await o$(St,i,c);Y.success("Account created successfully!"),O(!0),k(!0)}else{const ie=await a$(St,i,c);await F(ie.user.uid)?(Y.success("Account created successfully!"),O(!0),k(!0)):(Y.success("Logged in successfully!"),R(),e(),n&&n())}}catch(ie){console.error("Auth error:",ie),ie.code==="auth/email-already-in-use"?Y.error("Email already in use. Please sign in instead."):ie.code==="auth/user-not-found"?Y.error("User not found. Please check your email or sign up."):ie.code==="auth/wrong-password"?Y.error("Incorrect password. Please try again."):ie.code==="auth/weak-password"?Y.error("Password is too weak. Please use a stronger password."):Y.error("Authentication failed. Please try again.")}finally{s(!1)}},pe=async()=>{s(!0);try{const ne=new Bi;ne.setCustomParameters({prompt:"select_account"});const ie=await B$(St,ne);await F(ie.user.uid)?(Y.success("Account created successfully!"),O(!0),k(!0)):(Y.success("Successfully signed in with Google!"),R(),e(),n&&n())}catch(ne){console.error("Google auth error:",ne),ne.code==="auth/popup-closed-by-user"?Y.error("Sign-in cancelled. Please try again."):ne.code==="auth/popup-blocked"?Y.error("Pop-up blocked. Please allow pop-ups for this site."):Y.error("Google sign-in failed. Please try again.")}finally{s(!1)}},Q=()=>{if(!$){const ne=new D$(St,"recaptcha-container",{size:"invisible",callback:()=>{console.log("reCAPTCHA solved")}});B(ne)}},ee=async ne=>{ne.preventDefault(),s(!0);try{if(Q(),!$){Y.error("reCAPTCHA not ready. Please refresh and try again.");return}const ie=w.startsWith("+")?w:`+91${w}`,Z=await RE(St,ie,$);N(Z.verificationId),D(!0),Y.success("OTP sent successfully!")}catch(ie){console.error("Phone auth error:",ie),ie.code==="auth/billing-not-enabled"?Y.error("Phone authentication requires billing to be enabled. Please enable billing in Firebase Console."):ie.code==="auth/invalid-phone-number"?Y.error("Invalid phone number. Please check and try again."):ie.code==="auth/too-many-requests"?Y.error("Too many requests. Please try again later."):ie.code==="auth/quota-exceeded"?Y.error("SMS quota exceeded. Please try again later or contact support."):Y.error("Failed to send OTP. Please try again.")}finally{s(!1)}},U=async ne=>{ne.preventDefault(),s(!0);try{const ie=Ya.credential(E,x),Z=await RE(St,w,$);await F(Z.user.uid)?(Y.success("Account created successfully!"),O(!0),k(!0)):(Y.success("Phone number verified successfully!"),R(),e(),n&&n())}catch(ie){console.error("OTP verification error:",ie),ie.code==="auth/invalid-verification-code"?Y.error("Invalid OTP. Please check and try again."):ie.code==="auth/code-expired"?(Y.error("OTP has expired. Please request a new one."),D(!1)):Y.error("OTP verification failed. Please try again.")}finally{s(!1)}},H=async()=>{s(!0);try{await ee(new Event("submit"))}catch(ne){console.error("Resend OTP error:",ne),Y.error("Failed to resend OTP. Please try again.")}finally{s(!1)}},K=()=>{R(),e()};return t?o.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[o.jsxs(Ae,{className:"w-full max-w-md bg-white",children:[o.jsxs(yt,{className:"relative",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"absolute right-2 top-2",onClick:K,children:o.jsx(El,{className:"w-4 h-4"})}),o.jsx(bt,{className:"text-center text-2xl font-bold",children:g?"Create Account":"Welcome Back"})]}),o.jsxs(Re,{children:[o.jsxs(vH,{defaultValue:"email",className:"w-full",children:[o.jsxs(NA,{className:"grid w-full grid-cols-2",children:[o.jsxs(gx,{value:"email",className:"flex items-center space-x-2",children:[o.jsx(_i,{className:"w-4 h-4"}),o.jsx("span",{children:"Email"})]}),o.jsxs(gx,{value:"phone",className:"flex items-center space-x-2",children:[o.jsx(Qr,{className:"w-4 h-4"}),o.jsx("span",{children:"Phone"})]})]}),o.jsxs(yx,{value:"email",className:"space-y-4",children:[o.jsxs("form",{onSubmit:te,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(_i,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ze,{id:"email",type:"email",placeholder:"Enter your email",value:i,onChange:ne=>l(ne.target.value),className:"pl-10",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(fI,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ze,{id:"password",type:h?"text":"password",placeholder:"Enter your password",value:c,onChange:ne=>d(ne.target.value),className:"pl-10 pr-10",required:!0}),o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>p(!h),children:h?o.jsx(Om,{className:"h-4 w-4"}):o.jsx(Wd,{className:"h-4 w-4"})})]})]}),o.jsx(W,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(Hi,{className:"mr-2 h-4 w-4 animate-spin"}),g?"Creating Account...":"Signing In..."]}):g?"Create Account":"Sign In"})]}),o.jsx("div",{className:"text-center",children:o.jsx(W,{variant:"link",onClick:()=>y(!g),className:"text-sm",children:g?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with"})})]}),o.jsx(W,{variant:"outline",onClick:pe,className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(Hi,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in with Google..."]}):o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]}),o.jsx(yx,{value:"phone",className:"space-y-4",children:P?o.jsxs("form",{onSubmit:U,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"otp",children:"Verification Code"}),o.jsx(Ze,{id:"otp",type:"text",placeholder:"Enter 6-digit code",value:x,onChange:ne=>T(ne.target.value),maxLength:6,className:"text-center text-lg tracking-widest",required:!0}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Enter the 6-digit code sent to ",w]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(W,{type:"submit",className:"flex-1",disabled:r||x.length!==6,children:r?o.jsxs(o.Fragment,{children:[o.jsx(Hi,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify OTP"}),o.jsx(W,{type:"button",variant:"outline",onClick:H,disabled:r,children:"Resend"})]}),o.jsx(W,{type:"button",variant:"ghost",onClick:()=>{D(!1),T(""),N("")},className:"w-full",children:"Change Phone Number"})]}):o.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(Qr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ze,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:w,onChange:ne=>S(ne.target.value),className:"pl-10",required:!0})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"We'll send you a verification code via SMS"})]}),o.jsx(W,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(Hi,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending OTP..."]}):"Send OTP"})]})})]}),o.jsx("div",{id:"recaptcha-container",className:"mt-4"})]})]}),o.jsx(EA,{isOpen:A,onComplete:V})]}):null};var Cv="focusScope.autoFocusOnMount",Pv="focusScope.autoFocusOnUnmount",US={bubbles:!1,cancelable:!0},_H="FocusScope",ty=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=t,[c,d]=v.useState(null),h=Rr(s),p=Rr(i),g=v.useRef(null),y=ot(e,x=>d(x)),w=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let x=function(P){if(w.paused||!c)return;const D=P.target;c.contains(D)?g.current=D:To(g.current,{select:!0})},T=function(P){if(w.paused||!c)return;const D=P.relatedTarget;D!==null&&(c.contains(D)||To(g.current,{select:!0}))},E=function(P){if(document.activeElement===document.body)for(const $ of P)$.removedNodes.length>0&&To(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",T);const N=new MutationObserver(E);return c&&N.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",T),N.disconnect()}}},[r,c,w.paused]),v.useEffect(()=>{if(c){HS.add(w);const x=document.activeElement;if(!c.contains(x)){const E=new CustomEvent(Cv,US);c.addEventListener(Cv,h),c.dispatchEvent(E),E.defaultPrevented||(wH(TH(SA(c)),{select:!0}),document.activeElement===x&&To(c))}return()=>{c.removeEventListener(Cv,h),setTimeout(()=>{const E=new CustomEvent(Pv,US);c.addEventListener(Pv,p),c.dispatchEvent(E),E.defaultPrevented||To(x??document.body,{select:!0}),c.removeEventListener(Pv,p),HS.remove(w)},0)}}},[c,h,p,w]);const S=v.useCallback(x=>{if(!n&&!r||w.paused)return;const T=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,E=document.activeElement;if(T&&E){const N=x.currentTarget,[P,D]=bH(N);P&&D?!x.shiftKey&&E===D?(x.preventDefault(),n&&To(P,{select:!0})):x.shiftKey&&E===P&&(x.preventDefault(),n&&To(D,{select:!0})):E===N&&x.preventDefault()}},[n,r,w.paused]);return o.jsx(De.div,{tabIndex:-1,...l,ref:y,onKeyDown:S})});ty.displayName=_H;function wH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(To(r,{select:e}),document.activeElement!==n)return}function bH(t){const e=SA(t),n=qS(e,t),r=qS(e.reverse(),t);return[n,r]}function SA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function qS(t,e){for(const n of t)if(!NH(n,{upTo:e}))return n}function NH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function EH(t){return t instanceof HTMLInputElement&&"select"in t}function To(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&EH(t)&&e&&t.select()}}var HS=SH();function SH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=WS(t,e),t.unshift(e)},remove(e){var n;t=WS(t,e),(n=t[0])==null||n.resume()}}}function WS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function TH(t){return t.filter(e=>e.tagName!=="A")}var Iv=0;function mb(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??GS()),document.body.insertAdjacentElement("beforeend",t[1]??GS()),Iv++,()=>{Iv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Iv--}},[])}function GS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Km="right-scroll-bar-position",Zm="width-before-scroll-bar",CH="with-scroll-bars-hidden",PH="--removed-body-scroll-bar-size";function kv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function IH(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var kH=typeof window<"u"?v.useLayoutEffect:v.useEffect,KS=new WeakMap;function jH(t,e){var n=IH(null,function(r){return t.forEach(function(s){return kv(s,r)})});return kH(function(){var r=KS.get(n);if(r){var s=new Set(r),i=new Set(t),l=n.current;s.forEach(function(c){i.has(c)||kv(c,null)}),i.forEach(function(c){s.has(c)||kv(c,l)})}KS.set(n,t)},[t]),n}function AH(t){return t}function RH(t,e){e===void 0&&(e=AH);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var l=e(i,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var d=function(){var p=l;l=[],p.forEach(i)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return s}function MH(t){t===void 0&&(t={});var e=RH(null);return e.options=ui({async:!0,ssr:!1},t),e}var TA=function(t){var e=t.sideCar,n=Jh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,ui({},n))};TA.isSideCarExport=!0;function DH(t,e){return t.useMedium(e),TA}var CA=MH(),jv=function(){},ny=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:jv,onWheelCapture:jv,onTouchMoveCapture:jv}),s=r[0],i=r[1],l=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,p=t.enabled,g=t.shards,y=t.sideCar,w=t.noRelative,S=t.noIsolation,x=t.inert,T=t.allowPinchZoom,E=t.as,N=E===void 0?"div":E,P=t.gapMode,D=Jh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=y,B=jH([n,e]),A=ui(ui({},D),s);return v.createElement(v.Fragment,null,p&&v.createElement($,{sideCar:CA,removeScrollBar:h,shards:g,noRelative:w,noIsolation:S,inert:x,setCallbacks:i,allowPinchZoom:!!T,lockRef:n,gapMode:P}),l?v.cloneElement(v.Children.only(c),ui(ui({},A),{ref:B})):v.createElement(N,ui({},A,{className:d,ref:B}),c))});ny.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ny.classNames={fullWidth:Zm,zeroRight:Km};var OH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=OH();return e&&t.setAttribute("nonce",e),t}function FH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function VH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=LH())&&(FH(e,n),VH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$H=function(){var t=zH();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},PA=function(){var t=$H(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},BH={left:0,top:0,right:0,gap:0},Av=function(t){return parseInt(t||"",10)||0},UH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Av(n),Av(r),Av(s)]},qH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return BH;var e=UH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},HH=PA(),Rc="data-scroll-locked",WH=function(t,e,n,r){var s=t.left,i=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(CH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Rc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Km,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Zm,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Km," .").concat(Km,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zm," .").concat(Zm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Rc,`] {
    `).concat(PH,": ").concat(c,`px;
  }
`)},ZS=function(){var t=parseInt(document.body.getAttribute(Rc)||"0",10);return isFinite(t)?t:0},GH=function(){v.useEffect(function(){return document.body.setAttribute(Rc,(ZS()+1).toString()),function(){var t=ZS()-1;t<=0?document.body.removeAttribute(Rc):document.body.setAttribute(Rc,t.toString())}},[])},KH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;GH();var i=v.useMemo(function(){return qH(s)},[s]);return v.createElement(HH,{styles:WH(i,!e,s,n?"":"!important")})},vx=!1;if(typeof window<"u")try{var vm=Object.defineProperty({},"passive",{get:function(){return vx=!0,!0}});window.addEventListener("test",vm,vm),window.removeEventListener("test",vm,vm)}catch{vx=!1}var Jl=vx?{passive:!1}:!1,ZH=function(t){return t.tagName==="TEXTAREA"},IA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!ZH(t)&&n[e]==="visible")},QH=function(t){return IA(t,"overflowY")},YH=function(t){return IA(t,"overflowX")},QS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=kA(t,r);if(s){var i=jA(t,r),l=i[1],c=i[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},XH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},JH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},kA=function(t,e){return t==="v"?QH(e):YH(e)},jA=function(t,e){return t==="v"?XH(e):JH(e)},eW=function(t,e){return t==="h"&&e==="rtl"?-1:1},tW=function(t,e,n,r,s){var i=eW(t,window.getComputedStyle(e).direction),l=i*r,c=n.target,d=e.contains(c),h=!1,p=l>0,g=0,y=0;do{if(!c)break;var w=jA(t,c),S=w[0],x=w[1],T=w[2],E=x-T-i*S;(S||E)&&kA(t,c)&&(g+=E,y+=S);var N=c.parentNode;c=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(p&&Math.abs(g)<1||!p&&Math.abs(y)<1)&&(h=!0),h},xm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},YS=function(t){return[t.deltaX,t.deltaY]},XS=function(t){return t&&"current"in t?t.current:t},nW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sW=0,ec=[];function iW(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(sW++)[0],i=v.useState(PA)[0],l=v.useRef(t);v.useEffect(function(){l.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=ez([t.lockRef.current],(t.shards||[]).map(XS),!0).filter(Boolean);return x.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=v.useCallback(function(x,T){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var E=xm(x),N=n.current,P="deltaX"in x?x.deltaX:N[0]-E[0],D="deltaY"in x?x.deltaY:N[1]-E[1],$,B=x.target,A=Math.abs(P)>Math.abs(D)?"h":"v";if("touches"in x&&A==="h"&&B.type==="range")return!1;var k=QS(A,B);if(!k)return!0;if(k?$=A:($=A==="v"?"h":"v",k=QS(A,B)),!k)return!1;if(!r.current&&"changedTouches"in x&&(P||D)&&(r.current=$),!$)return!0;var j=r.current||$;return tW(j,T,x,j==="h"?P:D)},[]),d=v.useCallback(function(x){var T=x;if(!(!ec.length||ec[ec.length-1]!==i)){var E="deltaY"in T?YS(T):xm(T),N=e.current.filter(function($){return $.name===T.type&&($.target===T.target||T.target===$.shadowParent)&&nW($.delta,E)})[0];if(N&&N.should){T.cancelable&&T.preventDefault();return}if(!N){var P=(l.current.shards||[]).map(XS).filter(Boolean).filter(function($){return $.contains(T.target)}),D=P.length>0?c(T,P[0]):!l.current.noIsolation;D&&T.cancelable&&T.preventDefault()}}},[]),h=v.useCallback(function(x,T,E,N){var P={name:x,delta:T,target:E,should:N,shadowParent:oW(E)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(D){return D!==P})},1)},[]),p=v.useCallback(function(x){n.current=xm(x),r.current=void 0},[]),g=v.useCallback(function(x){h(x.type,YS(x),x.target,c(x,t.lockRef.current))},[]),y=v.useCallback(function(x){h(x.type,xm(x),x.target,c(x,t.lockRef.current))},[]);v.useEffect(function(){return ec.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",d,Jl),document.addEventListener("touchmove",d,Jl),document.addEventListener("touchstart",p,Jl),function(){ec=ec.filter(function(x){return x!==i}),document.removeEventListener("wheel",d,Jl),document.removeEventListener("touchmove",d,Jl),document.removeEventListener("touchstart",p,Jl)}},[]);var w=t.removeScrollBar,S=t.inert;return v.createElement(v.Fragment,null,S?v.createElement(i,{styles:rW(s)}):null,w?v.createElement(KH,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function oW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const aW=DH(CA,iW);var ry=v.forwardRef(function(t,e){return v.createElement(ny,ui({},t,{ref:e,sideCar:aW}))});ry.classNames=ny.classNames;var lW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},tc=new WeakMap,_m=new WeakMap,wm={},Rv=0,AA=function(t){return t&&(t.host||AA(t.parentNode))},cW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=AA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},uW=function(t,e,n,r){var s=cW(e,Array.isArray(t)?t:[t]);wm[n]||(wm[n]=new WeakMap);var i=wm[n],l=[],c=new Set,d=new Set(s),h=function(g){!g||c.has(g)||(c.add(g),h(g.parentNode))};s.forEach(h);var p=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(y){if(c.has(y))p(y);else try{var w=y.getAttribute(r),S=w!==null&&w!=="false",x=(tc.get(y)||0)+1,T=(i.get(y)||0)+1;tc.set(y,x),i.set(y,T),l.push(y),x===1&&S&&_m.set(y,!0),T===1&&y.setAttribute(n,"true"),S||y.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",y,E)}})};return p(e),c.clear(),Rv++,function(){l.forEach(function(g){var y=tc.get(g)-1,w=i.get(g)-1;tc.set(g,y),i.set(g,w),y||(_m.has(g)||g.removeAttribute(r),_m.delete(g)),w||g.removeAttribute(n)}),Rv--,Rv||(tc=new WeakMap,tc=new WeakMap,_m=new WeakMap,wm={})}},pb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=lW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),uW(r,s,n,"aria-hidden")):function(){return null}},sy="Dialog",[RA,EQ]=ar(sy),[dW,Ks]=RA(sy),MA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:l=!0}=t,c=v.useRef(null),d=v.useRef(null),[h,p]=_s({prop:r,defaultProp:s??!1,onChange:i,caller:sy});return o.jsx(dW,{scope:e,triggerRef:c,contentRef:d,contentId:ps(),titleId:ps(),descriptionId:ps(),open:h,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(g=>!g),[p]),modal:l,children:n})};MA.displayName=sy;var DA="DialogTrigger",OA=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ks(DA,n),i=ot(e,s.triggerRef);return o.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vb(s.open),...r,ref:i,onClick:Ne(t.onClick,s.onOpenToggle)})});OA.displayName=DA;var gb="DialogPortal",[hW,LA]=RA(gb,{forceMount:void 0}),FA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Ks(gb,e);return o.jsx(hW,{scope:e,forceMount:n,children:v.Children.map(r,l=>o.jsx(Jr,{present:n||i.open,children:o.jsx(Kh,{asChild:!0,container:s,children:l})}))})};FA.displayName=gb;var Wp="DialogOverlay",VA=v.forwardRef((t,e)=>{const n=LA(Wp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ks(Wp,t.__scopeDialog);return i.modal?o.jsx(Jr,{present:r||i.open,children:o.jsx(mW,{...s,ref:e})}):null});VA.displayName=Wp;var fW=rl("DialogOverlay.RemoveScroll"),mW=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ks(Wp,n);return o.jsx(ry,{as:fW,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(De.div,{"data-state":vb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),hl="DialogContent",zA=v.forwardRef((t,e)=>{const n=LA(hl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ks(hl,t.__scopeDialog);return o.jsx(Jr,{present:r||i.open,children:i.modal?o.jsx(pW,{...s,ref:e}):o.jsx(gW,{...s,ref:e})})});zA.displayName=hl;var pW=v.forwardRef((t,e)=>{const n=Ks(hl,t.__scopeDialog),r=v.useRef(null),s=ot(e,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return pb(i)},[]),o.jsx($A,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ne(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:Ne(t.onFocusOutside,i=>i.preventDefault())})}),gW=v.forwardRef((t,e)=>{const n=Ks(hl,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return o.jsx($A,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var d,h;(d=t.onInteractOutside)==null||d.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),$A=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=t,c=Ks(hl,n),d=v.useRef(null),h=ot(e,d);return mb(),o.jsxs(o.Fragment,{children:[o.jsx(ty,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(mu,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":vb(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(yW,{titleId:c.titleId}),o.jsx(xW,{contentRef:d,descriptionId:c.descriptionId})]})]})}),yb="DialogTitle",BA=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ks(yb,n);return o.jsx(De.h2,{id:s.titleId,...r,ref:e})});BA.displayName=yb;var UA="DialogDescription",qA=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ks(UA,n);return o.jsx(De.p,{id:s.descriptionId,...r,ref:e})});qA.displayName=UA;var HA="DialogClose",WA=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ks(HA,n);return o.jsx(De.button,{type:"button",...r,ref:e,onClick:Ne(t.onClick,()=>s.onOpenChange(!1))})});WA.displayName=HA;function vb(t){return t?"open":"closed"}var GA="DialogTitleWarning",[SQ,KA]=$L(GA,{contentName:hl,titleName:yb,docsSlug:"dialog"}),yW=({titleId:t})=>{const e=KA(GA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},vW="DialogDescriptionWarning",xW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KA(vW).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},ZA=MA,_W=OA,QA=FA,iy=VA,oy=zA,ay=BA,ly=qA,YA=WA;const Zi=ZA,wW=_W,bW=QA,XA=v.forwardRef(({className:t,...e},n)=>o.jsx(iy,{ref:n,className:Me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));XA.displayName=iy.displayName;const hi=v.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(bW,{children:[o.jsx(XA,{}),o.jsxs(oy,{ref:r,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(YA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(El,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hi.displayName=oy.displayName;const fi=({className:t,...e})=>o.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});fi.displayName="DialogHeader";const Fs=v.forwardRef(({className:t,...e},n)=>o.jsx(ay,{ref:n,className:Me("text-lg font-semibold leading-none tracking-tight",t),...e}));Fs.displayName=ay.displayName;const Ji=v.forwardRef(({className:t,...e},n)=>o.jsx(ly,{ref:n,className:Me("text-sm text-muted-foreground",t),...e}));Ji.displayName=ly.displayName;const JA=({isOpen:t,onVerified:e,onClose:n})=>{const[r,s]=v.useState(""),i=()=>{if(!r){Y.error("Please enter your date of birth");return}const l=new Date,c=new Date(r);Math.floor((l.getTime()-c.getTime())/(365.25*24*60*60*1e3))>=21?(Y.success("Age verification successful"),e()):Y.error("You must be 21 or older to access this section")};return o.jsx(Zi,{open:t,onOpenChange:n,children:o.jsxs(hi,{className:"sm:max-w-md",children:[o.jsxs(fi,{children:[o.jsxs(Fs,{className:"flex items-center space-x-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Age Verification Required"})]}),o.jsx(Ji,{children:"You must be 21 or older to access alcoholic beverages. Please verify your age to continue."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"birthdate",children:"Date of Birth"}),o.jsx(Ze,{id:"birthdate",type:"date",value:r,onChange:l=>s(l.target.value),className:"mt-1"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(W,{variant:"outline",onClick:n,children:"Cancel"}),o.jsx(W,{onClick:i,children:"Verify Age"})]}),o.jsx("div",{className:"text-xs text-gray-500 text-center",children:o.jsx("p",{children:"By continuing, you confirm that you are of legal drinking age in your jurisdiction."})})]})]})})},cy=({product:t,onClose:e,onAddToCart:n})=>t?o.jsx(Zi,{open:!!t,onOpenChange:e,children:o.jsx(hi,{className:"sm:max-w-2xl",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:t.image,alt:t.name,className:"w-full h-64 md:h-80 object-cover rounded-lg"}),t.originalPrice&&o.jsxs(an,{className:"absolute top-2 left-2 bg-red-500",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(fi,{children:o.jsx(Fs,{className:"text-xl",children:t.name})}),o.jsx("div",{className:"flex items-center space-x-2 mb-2",children:o.jsx(an,{variant:"secondary",children:t.category})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(xa,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"font-medium",children:t.rating})]}),o.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[o.jsx(pu,{className:"w-3 h-3 mr-1"}),t.deliveryTime]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-2xl font-bold",children:["",t.price]}),t.originalPrice&&o.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["",t.originalPrice]})]}),t.inStock?o.jsx(an,{variant:"outline",className:"text-green-600 border-green-600",children:"In Stock"}):o.jsx(an,{variant:"destructive",children:"Out of Stock"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold",children:"Product Features:"}),o.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[o.jsx("li",{children:" High quality ingredients"}),o.jsx("li",{children:" Fast delivery guaranteed"}),o.jsx("li",{children:" Freshness assured"}),o.jsx("li",{children:" Easy returns if not satisfied"})]})]}),o.jsxs(W,{className:"w-full",onClick:()=>{n(t),e()},disabled:!t.inStock,children:[o.jsx(Nl,{className:"w-4 h-4 mr-2"}),t.inStock?"Add to Cart":"Out of Stock"]})]})]})})}):null,uy=ZA,NW=QA,eR=v.forwardRef(({className:t,...e},n)=>o.jsx(iy,{className:Me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));eR.displayName=iy.displayName;const EW=Qh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),df=v.forwardRef(({side:t="right",className:e,children:n,...r},s)=>o.jsxs(NW,{children:[o.jsx(eR,{}),o.jsxs(oy,{ref:s,className:Me(EW({side:t}),e),...r,children:[n,o.jsxs(YA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(El,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));df.displayName=oy.displayName;const hf=({className:t,...e})=>o.jsx("div",{className:Me("flex flex-col space-y-2 text-center sm:text-left",t),...e});hf.displayName="SheetHeader";const ff=v.forwardRef(({className:t,...e},n)=>o.jsx(ay,{ref:n,className:Me("text-lg font-semibold text-foreground",t),...e}));ff.displayName=ay.displayName;const tR=v.forwardRef(({className:t,...e},n)=>o.jsx(ly,{ref:n,className:Me("text-sm text-muted-foreground",t),...e}));tR.displayName=ly.displayName;var SW="Separator",JS="horizontal",TW=["horizontal","vertical"],nR=v.forwardRef((t,e)=>{const{decorative:n,orientation:r=JS,...s}=t,i=CW(r)?r:JS,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(De.div,{"data-orientation":i,...c,...s,ref:e})});nR.displayName=SW;function CW(t){return TW.includes(t)}var rR=nR;const sR=v.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>o.jsx(rR,{ref:s,decorative:n,orientation:e,className:Me("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));sR.displayName=rR.displayName;const PW=({isOpen:t,onClose:e,cart:n,updateQuantity:r,totalPrice:s,onProceedToCheckout:i})=>{const{isDarkMode:l,toggleDarkMode:c}=mn(),[d,h]=v.useState(""),p=s>299?0:29;return o.jsx(uy,{open:t,onOpenChange:e,children:o.jsxs(df,{className:`w-full sm:max-w-lg flex flex-col ${l?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-l`,children:[o.jsxs(hf,{children:[o.jsx(ff,{className:l?"text-white":"text-gray-800",children:"Shopping Cart"}),o.jsx(tR,{className:l?"text-gray-400":"text-gray-600",children:n.length===0?"Your cart is empty":`${n.length} item${n.length===1?"":"s"} in your cart`})]}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Nl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:l?"text-gray-400":"text-gray-500",children:"Your cart is empty"}),o.jsx(W,{onClick:()=>e(!1),className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white",children:"Start Shopping"})]}):o.jsx("div",{className:"space-y-4",children:n.map(g=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 border rounded-lg ${l?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx("img",{src:g.image,alt:g.name,className:"w-16 h-16 object-cover rounded-lg"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:`font-medium text-sm ${l?"text-white":"text-gray-800"}`,children:g.name}),o.jsxs("p",{className:`text-sm ${l?"text-gray-400":"text-gray-600"}`,children:["",g.price]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(W,{variant:"outline",size:"sm",onClick:()=>r(g.id,g.quantity-1),className:"w-8 h-8 p-0 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"-"}),o.jsx("span",{className:`text-sm font-medium w-8 text-center ${l?"text-white":"text-gray-800"}`,children:g.quantity}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>r(g.id,g.quantity+1),className:"w-8 h-8 p-0 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"+"})]})]}),o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>r(g.id,0),className:"text-red-500 hover:text-red-700",children:""})]},g.id))})}),n.length>0&&o.jsx("div",{className:`border-t pt-4 ${l?"border-gray-700":"border-gray-200"}`,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ze,{placeholder:"Enter promo code",className:"mb-2"}),o.jsx(W,{variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Apply"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal"}),o.jsxs("span",{className:"text-gray-800",children:["",s.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),o.jsx("span",{className:"text-gray-800",children:p===0?"FREE":`${p}`})]}),s<299&&o.jsxs("p",{className:"text-xs text-green-600",children:["Add ",299-s," more for free delivery!"]}),o.jsx(sR,{}),o.jsxs("div",{className:"flex justify-between font-semibold",children:[o.jsx("span",{className:"text-gray-800",children:"Total"}),o.jsxs("span",{className:"text-orange-500",children:["",(s>299?s:s+p).toFixed(2)]})]})]}),o.jsx(W,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:i,children:"Proceed to Checkout"}),o.jsx(W,{variant:"outline",className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>{},children:"Clear Cart"})]})})]})})};function eT(t,[e,n]){return Math.min(n,Math.max(e,t))}function xb(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var IW=[" ","Enter","ArrowUp","ArrowDown"],kW=[" ","Enter"],fl="Select",[dy,hy,jW]=Gh(fl),[Mu,TQ]=ar(fl,[jW,_u]),fy=_u(),[AW,Ea]=Mu(fl),[RW,MW]=Mu(fl),iR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:h,name:p,autoComplete:g,disabled:y,required:w,form:S}=t,x=fy(e),[T,E]=v.useState(null),[N,P]=v.useState(null),[D,$]=v.useState(!1),B=Au(h),[A,k]=_s({prop:r,defaultProp:s??!1,onChange:i,caller:fl}),[j,O]=_s({prop:l,defaultProp:c,onChange:d,caller:fl}),R=v.useRef(null),V=T?S||!!T.closest("form"):!0,[F,te]=v.useState(new Set),pe=Array.from(F).map(Q=>Q.props.value).join(";");return o.jsx(qI,{...x,children:o.jsxs(AW,{required:w,scope:e,trigger:T,onTriggerChange:E,valueNode:N,onValueNodeChange:P,valueNodeHasChildren:D,onValueNodeHasChildrenChange:$,contentId:ps(),value:j,onValueChange:O,open:A,onOpenChange:k,dir:B,triggerPointerDownPosRef:R,disabled:y,children:[o.jsx(dy.Provider,{scope:e,children:o.jsx(RW,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(Q=>{te(ee=>new Set(ee).add(Q))},[]),onNativeOptionRemove:v.useCallback(Q=>{te(ee=>{const U=new Set(ee);return U.delete(Q),U})},[]),children:n})}),V?o.jsxs(IR,{"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:g,value:j,onChange:Q=>O(Q.target.value),disabled:y,form:S,children:[j===void 0?o.jsx("option",{value:""}):null,Array.from(F)]},pe):null]})})};iR.displayName=fl;var oR="SelectTrigger",aR=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=fy(n),l=Ea(oR,n),c=l.disabled||r,d=ot(e,l.onTriggerChange),h=hy(n),p=v.useRef("touch"),[g,y,w]=jR(x=>{const T=h().filter(P=>!P.disabled),E=T.find(P=>P.value===l.value),N=AR(T,x,E);N!==void 0&&l.onValueChange(N.value)}),S=x=>{c||(l.onOpenChange(!0),w()),x&&(l.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(nw,{asChild:!0,...i,children:o.jsx(De.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":kR(l.value)?"":void 0,...s,ref:d,onClick:Ne(s.onClick,x=>{x.currentTarget.focus(),p.current!=="mouse"&&S(x)}),onPointerDown:Ne(s.onPointerDown,x=>{p.current=x.pointerType;const T=x.target;T.hasPointerCapture(x.pointerId)&&T.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(S(x),x.preventDefault())}),onKeyDown:Ne(s.onKeyDown,x=>{const T=g.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&y(x.key),!(T&&x.key===" ")&&IW.includes(x.key)&&(S(),x.preventDefault())})})})});aR.displayName=oR;var lR="SelectValue",cR=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:l="",...c}=t,d=Ea(lR,n),{onValueNodeHasChildrenChange:h}=d,p=i!==void 0,g=ot(e,d.onValueNodeChange);return jn(()=>{h(p)},[h,p]),o.jsx(De.span,{...c,ref:g,style:{pointerEvents:"none"},children:kR(d.value)?o.jsx(o.Fragment,{children:l}):i})});cR.displayName=lR;var DW="SelectIcon",uR=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(De.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});uR.displayName=DW;var OW="SelectPortal",dR=t=>o.jsx(Kh,{asChild:!0,...t});dR.displayName=OW;var ml="SelectContent",hR=v.forwardRef((t,e)=>{const n=Ea(ml,t.__scopeSelect),[r,s]=v.useState();if(jn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?bl.createPortal(o.jsx(fR,{scope:t.__scopeSelect,children:o.jsx(dy.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(mR,{...t,ref:e})});hR.displayName=ml;var Is=10,[fR,Sa]=Mu(ml),LW="SelectContentImpl",FW=rl("SelectContent.RemoveScroll"),mR=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:w,sticky:S,hideWhenDetached:x,avoidCollisions:T,...E}=t,N=Ea(ml,n),[P,D]=v.useState(null),[$,B]=v.useState(null),A=ot(e,G=>D(G)),[k,j]=v.useState(null),[O,R]=v.useState(null),V=hy(n),[F,te]=v.useState(!1),pe=v.useRef(!1);v.useEffect(()=>{if(P)return pb(P)},[P]),mb();const Q=v.useCallback(G=>{const[ve,...re]=V().map(le=>le.ref.current),[ae]=re.slice(-1),ce=document.activeElement;for(const le of G)if(le===ce||(le==null||le.scrollIntoView({block:"nearest"}),le===ve&&$&&($.scrollTop=0),le===ae&&$&&($.scrollTop=$.scrollHeight),le==null||le.focus(),document.activeElement!==ce))return},[V,$]),ee=v.useCallback(()=>Q([k,P]),[Q,k,P]);v.useEffect(()=>{F&&ee()},[F,ee]);const{onOpenChange:U,triggerPointerDownPosRef:H}=N;v.useEffect(()=>{if(P){let G={x:0,y:0};const ve=ae=>{var ce,le;G={x:Math.abs(Math.round(ae.pageX)-(((ce=H.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((le=H.current)==null?void 0:le.y)??0))}},re=ae=>{G.x<=10&&G.y<=10?ae.preventDefault():P.contains(ae.target)||U(!1),document.removeEventListener("pointermove",ve),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",re,{capture:!0})}}},[P,U,H]),v.useEffect(()=>{const G=()=>U(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[U]);const[K,ne]=jR(G=>{const ve=V().filter(ce=>!ce.disabled),re=ve.find(ce=>ce.ref.current===document.activeElement),ae=AR(ve,G,re);ae&&setTimeout(()=>ae.ref.current.focus())}),ie=v.useCallback((G,ve,re)=>{const ae=!pe.current&&!re;(N.value!==void 0&&N.value===ve||ae)&&(j(G),ae&&(pe.current=!0))},[N.value]),Z=v.useCallback(()=>P==null?void 0:P.focus(),[P]),ue=v.useCallback((G,ve,re)=>{const ae=!pe.current&&!re;(N.value!==void 0&&N.value===ve||ae)&&R(G)},[N.value]),ge=r==="popper"?xx:pR,be=ge===xx?{side:c,sideOffset:d,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:w,sticky:S,hideWhenDetached:x,avoidCollisions:T}:{};return o.jsx(fR,{scope:n,content:P,viewport:$,onViewportChange:B,itemRefCallback:ie,selectedItem:k,onItemLeave:Z,itemTextRefCallback:ue,focusSelectedItem:ee,selectedItemText:O,position:r,isPositioned:F,searchRef:K,children:o.jsx(ry,{as:FW,allowPinchZoom:!0,children:o.jsx(ty,{asChild:!0,trapped:N.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:Ne(s,G=>{var ve;(ve=N.trigger)==null||ve.focus({preventScroll:!0}),G.preventDefault()}),children:o.jsx(mu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:o.jsx(ge,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:G=>G.preventDefault(),...E,...be,onPlaced:()=>te(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Ne(E.onKeyDown,G=>{const ve=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!ve&&G.key.length===1&&ne(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let ae=V().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(G.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const ce=G.target,le=ae.indexOf(ce);ae=ae.slice(le+1)}setTimeout(()=>Q(ae)),G.preventDefault()}})})})})})})});mR.displayName=LW;var VW="SelectItemAlignedPosition",pR=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ea(ml,n),l=Sa(ml,n),[c,d]=v.useState(null),[h,p]=v.useState(null),g=ot(e,A=>p(A)),y=hy(n),w=v.useRef(!1),S=v.useRef(!0),{viewport:x,selectedItem:T,selectedItemText:E,focusSelectedItem:N}=l,P=v.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&h&&x&&T&&E){const A=i.trigger.getBoundingClientRect(),k=h.getBoundingClientRect(),j=i.valueNode.getBoundingClientRect(),O=E.getBoundingClientRect();if(i.dir!=="rtl"){const ce=O.left-k.left,le=j.left-ce,Ie=A.left-le,je=A.width+Ie,et=Math.max(je,k.width),ct=window.innerWidth-Is,vt=eT(le,[Is,Math.max(Is,ct-et)]);c.style.minWidth=je+"px",c.style.left=vt+"px"}else{const ce=k.right-O.right,le=window.innerWidth-j.right-ce,Ie=window.innerWidth-A.right-le,je=A.width+Ie,et=Math.max(je,k.width),ct=window.innerWidth-Is,vt=eT(le,[Is,Math.max(Is,ct-et)]);c.style.minWidth=je+"px",c.style.right=vt+"px"}const R=y(),V=window.innerHeight-Is*2,F=x.scrollHeight,te=window.getComputedStyle(h),pe=parseInt(te.borderTopWidth,10),Q=parseInt(te.paddingTop,10),ee=parseInt(te.borderBottomWidth,10),U=parseInt(te.paddingBottom,10),H=pe+Q+F+U+ee,K=Math.min(T.offsetHeight*5,H),ne=window.getComputedStyle(x),ie=parseInt(ne.paddingTop,10),Z=parseInt(ne.paddingBottom,10),ue=A.top+A.height/2-Is,ge=V-ue,be=T.offsetHeight/2,G=T.offsetTop+be,ve=pe+Q+G,re=H-ve;if(ve<=ue){const ce=R.length>0&&T===R[R.length-1].ref.current;c.style.bottom="0px";const le=h.clientHeight-x.offsetTop-x.offsetHeight,Ie=Math.max(ge,be+(ce?Z:0)+le+ee),je=ve+Ie;c.style.height=je+"px"}else{const ce=R.length>0&&T===R[0].ref.current;c.style.top="0px";const Ie=Math.max(ue,pe+x.offsetTop+(ce?ie:0)+be)+re;c.style.height=Ie+"px",x.scrollTop=ve-ue+x.offsetTop}c.style.margin=`${Is}px 0`,c.style.minHeight=K+"px",c.style.maxHeight=V+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[y,i.trigger,i.valueNode,c,h,x,T,E,i.dir,r]);jn(()=>P(),[P]);const[D,$]=v.useState();jn(()=>{h&&$(window.getComputedStyle(h).zIndex)},[h]);const B=v.useCallback(A=>{A&&S.current===!0&&(P(),N==null||N(),S.current=!1)},[P,N]);return o.jsx($W,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:w,onScrollButtonChange:B,children:o.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:o.jsx(De.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});pR.displayName=VW;var zW="SelectPopperPosition",xx=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Is,...i}=t,l=fy(n);return o.jsx(rw,{...l,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xx.displayName=zW;var[$W,_b]=Mu(ml,{}),_x="SelectViewport",gR=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Sa(_x,n),l=_b(_x,n),c=ot(e,i.onViewportChange),d=v.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(dy.Slot,{scope:n,children:o.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ne(s.onScroll,h=>{const p=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=l;if(y!=null&&y.current&&g){const w=Math.abs(d.current-p.scrollTop);if(w>0){const S=window.innerHeight-Is*2,x=parseFloat(g.style.minHeight),T=parseFloat(g.style.height),E=Math.max(x,T);if(E<S){const N=E+w,P=Math.min(S,N),D=N-P;g.style.height=P+"px",g.style.bottom==="0px"&&(p.scrollTop=D>0?D:0,g.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});gR.displayName=_x;var yR="SelectGroup",[BW,UW]=Mu(yR),qW=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ps();return o.jsx(BW,{scope:n,id:s,children:o.jsx(De.div,{role:"group","aria-labelledby":s,...r,ref:e})})});qW.displayName=yR;var vR="SelectLabel",xR=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=UW(vR,n);return o.jsx(De.div,{id:s.id,...r,ref:e})});xR.displayName=vR;var Gp="SelectItem",[HW,_R]=Mu(Gp),wR=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...l}=t,c=Ea(Gp,n),d=Sa(Gp,n),h=c.value===r,[p,g]=v.useState(i??""),[y,w]=v.useState(!1),S=ot(e,N=>{var P;return(P=d.itemRefCallback)==null?void 0:P.call(d,N,r,s)}),x=ps(),T=v.useRef("touch"),E=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(HW,{scope:n,value:r,disabled:s,textId:x,isSelected:h,onItemTextChange:v.useCallback(N=>{g(P=>P||((N==null?void 0:N.textContent)??"").trim())},[]),children:o.jsx(dy.ItemSlot,{scope:n,value:r,disabled:s,textValue:p,children:o.jsx(De.div,{role:"option","aria-labelledby":x,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:S,onFocus:Ne(l.onFocus,()=>w(!0)),onBlur:Ne(l.onBlur,()=>w(!1)),onClick:Ne(l.onClick,()=>{T.current!=="mouse"&&E()}),onPointerUp:Ne(l.onPointerUp,()=>{T.current==="mouse"&&E()}),onPointerDown:Ne(l.onPointerDown,N=>{T.current=N.pointerType}),onPointerMove:Ne(l.onPointerMove,N=>{var P;T.current=N.pointerType,s?(P=d.onItemLeave)==null||P.call(d):T.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(l.onPointerLeave,N=>{var P;N.currentTarget===document.activeElement&&((P=d.onItemLeave)==null||P.call(d))}),onKeyDown:Ne(l.onKeyDown,N=>{var D;((D=d.searchRef)==null?void 0:D.current)!==""&&N.key===" "||(kW.includes(N.key)&&E(),N.key===" "&&N.preventDefault())})})})})});wR.displayName=Gp;var jd="SelectItemText",bR=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,l=Ea(jd,n),c=Sa(jd,n),d=_R(jd,n),h=MW(jd,n),[p,g]=v.useState(null),y=ot(e,E=>g(E),d.onItemTextChange,E=>{var N;return(N=c.itemTextRefCallback)==null?void 0:N.call(c,E,d.value,d.disabled)}),w=p==null?void 0:p.textContent,S=v.useMemo(()=>o.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:x,onNativeOptionRemove:T}=h;return jn(()=>(x(S),()=>T(S)),[x,T,S]),o.jsxs(o.Fragment,{children:[o.jsx(De.span,{id:d.textId,...i,ref:y}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?bl.createPortal(i.children,l.valueNode):null]})});bR.displayName=jd;var NR="SelectItemIndicator",ER=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _R(NR,n).isSelected?o.jsx(De.span,{"aria-hidden":!0,...r,ref:e}):null});ER.displayName=NR;var wx="SelectScrollUpButton",SR=v.forwardRef((t,e)=>{const n=Sa(wx,t.__scopeSelect),r=_b(wx,t.__scopeSelect),[s,i]=v.useState(!1),l=ot(e,r.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;i(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?o.jsx(CR,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});SR.displayName=wx;var bx="SelectScrollDownButton",TR=v.forwardRef((t,e)=>{const n=Sa(bx,t.__scopeSelect),r=_b(bx,t.__scopeSelect),[s,i]=v.useState(!1),l=ot(e,r.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<h;i(p)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?o.jsx(CR,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});TR.displayName=bx;var CR=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Sa("SelectScrollButton",n),l=v.useRef(null),c=hy(n),d=v.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return v.useEffect(()=>()=>d(),[d]),jn(()=>{var p;const h=c().find(g=>g.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[c]),o.jsx(De.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ne(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ne(s.onPointerMove,()=>{var h;(h=i.onItemLeave)==null||h.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ne(s.onPointerLeave,()=>{d()})})}),WW="SelectSeparator",PR=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(De.div,{"aria-hidden":!0,...r,ref:e})});PR.displayName=WW;var Nx="SelectArrow",GW=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=fy(n),i=Ea(Nx,n),l=Sa(Nx,n);return i.open&&l.position==="popper"?o.jsx(sw,{...s,...r,ref:e}):null});GW.displayName=Nx;var KW="SelectBubbleInput",IR=v.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=v.useRef(null),i=ot(r,s),l=xb(e);return v.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&p){const g=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(g)}},[l,e]),o.jsx(De.select,{...n,style:{...OP,...n.style},ref:i,defaultValue:e})});IR.displayName=KW;function kR(t){return t===""||t===void 0}function jR(t){const e=Rr(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(l=>{const c=n.current+l;e(c),function d(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(c)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function AR(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let l=ZW(t,Math.max(i,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function ZW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var QW=iR,RR=aR,YW=cR,XW=uR,JW=dR,MR=hR,eG=gR,DR=xR,OR=wR,tG=bR,nG=ER,LR=SR,FR=TR,VR=PR;const au=QW,lu=YW,pl=v.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(RR,{ref:r,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(XW,{asChild:!0,children:o.jsx(L_,{className:"h-4 w-4 opacity-50"})})]}));pl.displayName=RR.displayName;const zR=v.forwardRef(({className:t,...e},n)=>o.jsx(LR,{ref:n,className:Me("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(V5,{className:"h-4 w-4"})}));zR.displayName=LR.displayName;const $R=v.forwardRef(({className:t,...e},n)=>o.jsx(FR,{ref:n,className:Me("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(L_,{className:"h-4 w-4"})}));$R.displayName=FR.displayName;const gl=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(JW,{children:o.jsxs(MR,{ref:s,className:Me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(zR,{}),o.jsx(eG,{className:Me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx($R,{})]})}));gl.displayName=MR.displayName;const rG=v.forwardRef(({className:t,...e},n)=>o.jsx(DR,{ref:n,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));rG.displayName=DR.displayName;const Ot=v.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(OR,{ref:r,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(nG,{children:o.jsx(O_,{className:"h-4 w-4"})})}),o.jsx(tG,{children:e})]}));Ot.displayName=OR.displayName;const sG=v.forwardRef(({className:t,...e},n)=>o.jsx(VR,{ref:n,className:Me("-mx-1 my-1 h-px bg-muted",t),...e}));sG.displayName=VR.displayName;const iG=["Pizza","Milk","Bread","Eggs","Coke","Biscuits","Rice","Snacks","Juice","Soap"],oG=[{name:"food",displayName:"Food",icon:""},{name:"drinks",displayName:"Drinks",icon:""},{name:"daily-essential",displayName:"Daily Essentials",icon:""}],aG=({isOpen:t,onClose:e,onProductSelect:n})=>{const{isDarkMode:r,toggleDarkMode:s}=mn(),[i,l]=v.useState(""),[c,d]=v.useState([]),[h,p]=v.useState([]),[g,y]=v.useState(!1),[w,S]=v.useState(""),[x,T]=v.useState(""),[E,N]=v.useState(!1);v.useEffect(()=>{t&&P()},[t]),v.useEffect(()=>{D()},[i,w,x,c]);const P=async()=>{y(!0);try{const[j,O]=await Promise.all([mx("",Ge.FOOD),mx("",Ge.DAILY_ESSENTIAL)]),R=[...j,...O];d(R)}catch(j){console.error("Error loading products:",j),Y.error("Failed to load products")}finally{y(!1)}},D=()=>{let j=c;i.trim()&&(j=j.filter(O=>O.name.toLowerCase().includes(i.toLowerCase())||O.description.toLowerCase().includes(i.toLowerCase())||O.tags.some(R=>R.toLowerCase().includes(i.toLowerCase())))),w&&(j=j.filter(O=>O.category===w)),x&&(j=j.filter(O=>O.subcategory===x)),p(j)},$=j=>{n&&n(j),e()},B=()=>{S(""),T(""),l("")},A=j=>{switch(j){case Ge.FOOD:return"Food";case Ge.DAILY_ESSENTIAL:return"Daily Essential";default:return j}},k=j=>{switch(j){case Je.PIZZAS:return"Pizzas";case Je.BURGERS:return"Burgers";case Je.BIRYANI:return"Biryani";case Je.CHINESE:return"Chinese";case Je.INDIAN:return"Indian";case Je.DESSERTS:return"Desserts";case Je.STAPLES:return"Staples";case Je.SNACKS:return"Snacks";case Je.BEVERAGES:return"Beverages";case Je.PERSONAL_CARE:return"Personal Care";case Je.HOUSEHOLD:return"Household";default:return j}};return o.jsx(Zi,{open:t,onOpenChange:e,children:o.jsxs(hi,{className:`max-w-full w-full h-full max-h-full m-0 rounded-none ${r?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(fi,{className:`border-b pb-4 ${r?"border-gray-700":"border-gray-200"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>e(),className:r?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative flex-1 max-w-2xl",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(Ze,{placeholder:"Search for food, drinks, groceries...",value:i,onChange:j=>l(j.target.value),className:`pl-10 pr-10 h-12 text-lg focus:border-orange-500 ${r?"bg-gray-800 text-white border-gray-600 placeholder-gray-400":"bg-gray-50 text-gray-900 border-gray-200"}`}),i&&o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>l(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-orange-500",children:o.jsx(El,{className:"w-4 h-4"})})]})]}),o.jsx(W,{variant:"ghost",size:"icon",onClick:s,className:r?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:r?o.jsx(An,{className:"w-5 h-5"}):o.jsx(bn,{className:"w-5 h-5"})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:`text-lg font-semibold mb-3 ${r?"text-white":"text-gray-900"}`,children:"Popular Searches"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:iG.map(j=>o.jsx(W,{variant:"outline",size:"sm",onClick:()=>l(j),className:`${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:j},j))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:`text-lg font-semibold mb-3 ${r?"text-white":"text-gray-900"}`,children:"Categories"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:oG.map(j=>o.jsxs(W,{variant:"outline",onClick:()=>S(j.name),className:`h-20 flex flex-col items-center justify-center space-y-1 ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx("span",{className:"text-2xl",children:j.icon}),o.jsx("span",{className:"text-xs",children:j.displayName})]},j.name))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:`text-lg font-semibold ${r?"text-white":"text-gray-900"}`,children:"Filters"}),o.jsx(W,{variant:"ghost",size:"sm",onClick:B,className:r?"text-gray-400 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:"Clear All"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(au,{value:w,onValueChange:S,children:[o.jsx(pl,{className:r?"bg-gray-800 text-white border-gray-600":"bg-white text-gray-900 border-gray-300",children:o.jsx(lu,{placeholder:"Category"})}),o.jsxs(gl,{className:r?"bg-gray-800 border-gray-700":"bg-white border-gray-200",children:[o.jsx(Ot,{value:"",children:"All Categories"}),o.jsx(Ot,{value:Ge.FOOD,children:"Food"}),o.jsx(Ot,{value:Ge.DAILY_ESSENTIAL,children:"Daily Essential"})]})]}),o.jsxs(au,{value:x,onValueChange:T,children:[o.jsx(pl,{className:r?"bg-gray-800 text-white border-gray-600":"bg-white text-gray-900 border-gray-300",children:o.jsx(lu,{placeholder:"Subcategory"})}),o.jsxs(gl,{className:r?"bg-gray-800 border-gray-700":"bg-white border-gray-200",children:[o.jsx(Ot,{value:"",children:"All Subcategories"}),Object.values(Je).map(j=>o.jsx(Ot,{value:j,children:k(j)},j))]})]})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("h3",{className:`text-lg font-semibold ${r?"text-white":"text-gray-900"}`,children:g?"Loading...":`Search Results (${h.length})`})}),g?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):h.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Us,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:`text-lg font-medium ${r?"text-gray-300":"text-gray-600"}`,children:"No products found"}),o.jsx("p",{className:`text-sm ${r?"text-gray-500":"text-gray-400"}`,children:"Try adjusting your search or filters"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(j=>o.jsxs(Ae,{className:`cursor-pointer hover:shadow-lg transition-all duration-200 ${r?"bg-gray-800 border-gray-700 hover:bg-gray-700":"bg-white border-gray-200 hover:bg-gray-50"}`,onClick:()=>$(j),children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:j.image,alt:j.name,className:"w-full h-48 object-cover"}),j.discount&&o.jsx("div",{className:"absolute top-2 left-2 bg-orange-500 text-white px-2 py-1 rounded text-xs font-bold",children:j.discount})]}),o.jsxs(Re,{className:"p-4",children:[o.jsx("h4",{className:`font-semibold text-lg mb-2 ${r?"text-white":"text-gray-900"}`,children:j.name}),o.jsx("p",{className:`text-sm mb-3 ${r?"text-gray-400":"text-gray-600"}`,children:j.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["",j.price]})}),o.jsx(an,{variant:"secondary",className:r?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700",children:A(j.category)})]})]})]},j.id))})]})]})]})})};var Ex=["Enter"," "],lG=["ArrowDown","PageUp","Home"],BR=["ArrowUp","PageDown","End"],cG=[...lG,...BR],uG={ltr:[...Ex,"ArrowRight"],rtl:[...Ex,"ArrowLeft"]},dG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},mf="Menu",[Dh,hG,fG]=Gh(mf),[Il,UR]=ar(mf,[fG,_u,Ru]),my=_u(),qR=Ru(),[mG,kl]=Il(mf),[pG,pf]=Il(mf),HR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:l=!0}=t,c=my(e),[d,h]=v.useState(null),p=v.useRef(!1),g=Rr(i),y=Au(s);return v.useEffect(()=>{const w=()=>{p.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>p.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),o.jsx(qI,{...c,children:o.jsx(mG,{scope:e,open:n,onOpenChange:g,content:d,onContentChange:h,children:o.jsx(pG,{scope:e,onClose:v.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:y,modal:l,children:r})})})};HR.displayName=mf;var gG="MenuAnchor",wb=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=my(n);return o.jsx(nw,{...s,...r,ref:e})});wb.displayName=gG;var bb="MenuPortal",[yG,WR]=Il(bb,{forceMount:void 0}),GR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=kl(bb,e);return o.jsx(yG,{scope:e,forceMount:n,children:o.jsx(Jr,{present:n||i.open,children:o.jsx(Kh,{asChild:!0,container:s,children:r})})})};GR.displayName=bb;var ys="MenuContent",[vG,Nb]=Il(ys),KR=v.forwardRef((t,e)=>{const n=WR(ys,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=kl(ys,t.__scopeMenu),l=pf(ys,t.__scopeMenu);return o.jsx(Dh.Provider,{scope:t.__scopeMenu,children:o.jsx(Jr,{present:r||i.open,children:o.jsx(Dh.Slot,{scope:t.__scopeMenu,children:l.modal?o.jsx(xG,{...s,ref:e}):o.jsx(_G,{...s,ref:e})})})})}),xG=v.forwardRef((t,e)=>{const n=kl(ys,t.__scopeMenu),r=v.useRef(null),s=ot(e,r);return v.useEffect(()=>{const i=r.current;if(i)return pb(i)},[]),o.jsx(Eb,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ne(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_G=v.forwardRef((t,e)=>{const n=kl(ys,t.__scopeMenu);return o.jsx(Eb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),wG=rl("MenuContent.ScrollLock"),Eb=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:y,onDismiss:w,disableOutsideScroll:S,...x}=t,T=kl(ys,n),E=pf(ys,n),N=my(n),P=qR(n),D=hG(n),[$,B]=v.useState(null),A=v.useRef(null),k=ot(e,A,T.onContentChange),j=v.useRef(0),O=v.useRef(""),R=v.useRef(0),V=v.useRef(null),F=v.useRef("right"),te=v.useRef(0),pe=S?ry:v.Fragment,Q=S?{as:wG,allowPinchZoom:!0}:void 0,ee=H=>{var G,ve;const K=O.current+H,ne=D().filter(re=>!re.disabled),ie=document.activeElement,Z=(G=ne.find(re=>re.ref.current===ie))==null?void 0:G.textValue,ue=ne.map(re=>re.textValue),ge=RG(ue,K,Z),be=(ve=ne.find(re=>re.textValue===ge))==null?void 0:ve.ref.current;(function re(ae){O.current=ae,window.clearTimeout(j.current),ae!==""&&(j.current=window.setTimeout(()=>re(""),1e3))})(K),be&&setTimeout(()=>be.focus())};v.useEffect(()=>()=>window.clearTimeout(j.current),[]),mb();const U=v.useCallback(H=>{var ne,ie;return F.current===((ne=V.current)==null?void 0:ne.side)&&DG(H,(ie=V.current)==null?void 0:ie.area)},[]);return o.jsx(vG,{scope:n,searchRef:O,onItemEnter:v.useCallback(H=>{U(H)&&H.preventDefault()},[U]),onItemLeave:v.useCallback(H=>{var K;U(H)||((K=A.current)==null||K.focus(),B(null))},[U]),onTriggerLeave:v.useCallback(H=>{U(H)&&H.preventDefault()},[U]),pointerGraceTimerRef:R,onPointerGraceIntentChange:v.useCallback(H=>{V.current=H},[]),children:o.jsx(pe,{...Q,children:o.jsx(ty,{asChild:!0,trapped:s,onMountAutoFocus:Ne(i,H=>{var K;H.preventDefault(),(K=A.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:o.jsx(mu,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:y,onDismiss:w,children:o.jsx(db,{asChild:!0,...P,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:$,onCurrentTabStopIdChange:B,onEntryFocus:Ne(d,H=>{E.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(rw,{role:"menu","aria-orientation":"vertical","data-state":u4(T.open),"data-radix-menu-content":"",dir:E.dir,...N,...x,ref:k,style:{outline:"none",...x.style},onKeyDown:Ne(x.onKeyDown,H=>{const ne=H.target.closest("[data-radix-menu-content]")===H.currentTarget,ie=H.ctrlKey||H.altKey||H.metaKey,Z=H.key.length===1;ne&&(H.key==="Tab"&&H.preventDefault(),!ie&&Z&&ee(H.key));const ue=A.current;if(H.target!==ue||!cG.includes(H.key))return;H.preventDefault();const be=D().filter(G=>!G.disabled).map(G=>G.ref.current);BR.includes(H.key)&&be.reverse(),jG(be)}),onBlur:Ne(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(j.current),O.current="")}),onPointerMove:Ne(t.onPointerMove,Oh(H=>{const K=H.target,ne=te.current!==H.clientX;if(H.currentTarget.contains(K)&&ne){const ie=H.clientX>te.current?"right":"left";F.current=ie,te.current=H.clientX}}))})})})})})})});KR.displayName=ys;var bG="MenuGroup",Sb=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(De.div,{role:"group",...r,ref:e})});Sb.displayName=bG;var NG="MenuLabel",ZR=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(De.div,{...r,ref:e})});ZR.displayName=NG;var Kp="MenuItem",tT="menu.itemSelect",py=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=v.useRef(null),l=pf(Kp,t.__scopeMenu),c=Nb(Kp,t.__scopeMenu),d=ot(e,i),h=v.useRef(!1),p=()=>{const g=i.current;if(!n&&g){const y=new CustomEvent(tT,{bubbles:!0,cancelable:!0});g.addEventListener(tT,w=>r==null?void 0:r(w),{once:!0}),j_(g,y),y.defaultPrevented?h.current=!1:l.onClose()}};return o.jsx(QR,{...s,ref:d,disabled:n,onClick:Ne(t.onClick,p),onPointerDown:g=>{var y;(y=t.onPointerDown)==null||y.call(t,g),h.current=!0},onPointerUp:Ne(t.onPointerUp,g=>{var y;h.current||(y=g.currentTarget)==null||y.click()}),onKeyDown:Ne(t.onKeyDown,g=>{const y=c.searchRef.current!=="";n||y&&g.key===" "||Ex.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});py.displayName=Kp;var QR=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,l=Nb(Kp,n),c=qR(n),d=v.useRef(null),h=ot(e,d),[p,g]=v.useState(!1),[y,w]=v.useState("");return v.useEffect(()=>{const S=d.current;S&&w((S.textContent??"").trim())},[i.children]),o.jsx(Dh.ItemSlot,{scope:n,disabled:r,textValue:s??y,children:o.jsx(hb,{asChild:!0,...c,focusable:!r,children:o.jsx(De.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:h,onPointerMove:Ne(t.onPointerMove,Oh(S=>{r?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(t.onPointerLeave,Oh(S=>l.onItemLeave(S))),onFocus:Ne(t.onFocus,()=>g(!0)),onBlur:Ne(t.onBlur,()=>g(!1))})})})}),EG="MenuCheckboxItem",YR=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return o.jsx(n4,{scope:t.__scopeMenu,checked:n,children:o.jsx(py,{role:"menuitemcheckbox","aria-checked":Zp(n)?"mixed":n,...s,ref:e,"data-state":Cb(n),onSelect:Ne(s.onSelect,()=>r==null?void 0:r(Zp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});YR.displayName=EG;var XR="MenuRadioGroup",[SG,TG]=Il(XR,{value:void 0,onValueChange:()=>{}}),JR=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Rr(r);return o.jsx(SG,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(Sb,{...s,ref:e})})});JR.displayName=XR;var e4="MenuRadioItem",t4=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=TG(e4,t.__scopeMenu),i=n===s.value;return o.jsx(n4,{scope:t.__scopeMenu,checked:i,children:o.jsx(py,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Cb(i),onSelect:Ne(r.onSelect,()=>{var l;return(l=s.onValueChange)==null?void 0:l.call(s,n)},{checkForDefaultPrevented:!1})})})});t4.displayName=e4;var Tb="MenuItemIndicator",[n4,CG]=Il(Tb,{checked:!1}),r4=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=CG(Tb,n);return o.jsx(Jr,{present:r||Zp(i.checked)||i.checked===!0,children:o.jsx(De.span,{...s,ref:e,"data-state":Cb(i.checked)})})});r4.displayName=Tb;var PG="MenuSeparator",s4=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(De.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});s4.displayName=PG;var IG="MenuArrow",i4=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=my(n);return o.jsx(sw,{...s,...r,ref:e})});i4.displayName=IG;var kG="MenuSub",[CQ,o4]=Il(kG),Ad="MenuSubTrigger",a4=v.forwardRef((t,e)=>{const n=kl(Ad,t.__scopeMenu),r=pf(Ad,t.__scopeMenu),s=o4(Ad,t.__scopeMenu),i=Nb(Ad,t.__scopeMenu),l=v.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,h={__scopeMenu:t.__scopeMenu},p=v.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return v.useEffect(()=>p,[p]),v.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),d(null)}},[c,d]),o.jsx(wb,{asChild:!0,...h,children:o.jsx(QR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":u4(n.open),...t,ref:pg(e,s.onTriggerChange),onClick:g=>{var y;(y=t.onClick)==null||y.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ne(t.onPointerMove,Oh(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:Ne(t.onPointerLeave,Oh(g=>{var w,S;p();const y=(w=n.content)==null?void 0:w.getBoundingClientRect();if(y){const x=(S=n.content)==null?void 0:S.dataset.side,T=x==="right",E=T?-5:5,N=y[T?"left":"right"],P=y[T?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+E,y:g.clientY},{x:N,y:y.top},{x:P,y:y.top},{x:P,y:y.bottom},{x:N,y:y.bottom}],side:x}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(t.onKeyDown,g=>{var w;const y=i.searchRef.current!=="";t.disabled||y&&g.key===" "||uG[r.dir].includes(g.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),g.preventDefault())})})})});a4.displayName=Ad;var l4="MenuSubContent",c4=v.forwardRef((t,e)=>{const n=WR(ys,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=kl(ys,t.__scopeMenu),l=pf(ys,t.__scopeMenu),c=o4(l4,t.__scopeMenu),d=v.useRef(null),h=ot(e,d);return o.jsx(Dh.Provider,{scope:t.__scopeMenu,children:o.jsx(Jr,{present:r||i.open,children:o.jsx(Dh.Slot,{scope:t.__scopeMenu,children:o.jsx(Eb,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;l.isUsingKeyboardRef.current&&((g=d.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Ne(t.onFocusOutside,p=>{p.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ne(t.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:Ne(t.onKeyDown,p=>{var w;const g=p.currentTarget.contains(p.target),y=dG[l.dir].includes(p.key);g&&y&&(i.onOpenChange(!1),(w=c.trigger)==null||w.focus(),p.preventDefault())})})})})})});c4.displayName=l4;function u4(t){return t?"open":"closed"}function Zp(t){return t==="indeterminate"}function Cb(t){return Zp(t)?"indeterminate":t?"checked":"unchecked"}function jG(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function AG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function RG(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let l=AG(t,Math.max(i,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function MG(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const c=e[i],d=e[l],h=c.x,p=c.y,g=d.x,y=d.y;p>r!=y>r&&n<(g-h)*(r-p)/(y-p)+h&&(s=!s)}return s}function DG(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return MG(n,e)}function Oh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var OG=HR,LG=wb,FG=GR,VG=KR,zG=Sb,$G=ZR,BG=py,UG=YR,qG=JR,HG=t4,WG=r4,GG=s4,KG=i4,ZG=a4,QG=c4,gy="DropdownMenu",[YG,PQ]=ar(gy,[UR]),xr=UR(),[XG,d4]=YG(gy),h4=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:l,modal:c=!0}=t,d=xr(e),h=v.useRef(null),[p,g]=_s({prop:s,defaultProp:i??!1,onChange:l,caller:gy});return o.jsx(XG,{scope:e,triggerId:ps(),triggerRef:h,contentId:ps(),open:p,onOpenChange:g,onOpenToggle:v.useCallback(()=>g(y=>!y),[g]),modal:c,children:o.jsx(OG,{...d,open:p,onOpenChange:g,dir:r,modal:c,children:n})})};h4.displayName=gy;var f4="DropdownMenuTrigger",m4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=d4(f4,n),l=xr(n);return o.jsx(LG,{asChild:!0,...l,children:o.jsx(De.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:pg(e,i.triggerRef),onPointerDown:Ne(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:Ne(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});m4.displayName=f4;var JG="DropdownMenuPortal",p4=t=>{const{__scopeDropdownMenu:e,...n}=t,r=xr(e);return o.jsx(FG,{...r,...n})};p4.displayName=JG;var g4="DropdownMenuContent",y4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=d4(g4,n),i=xr(n),l=v.useRef(!1);return o.jsx(VG,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Ne(t.onCloseAutoFocus,c=>{var d;l.current||(d=s.triggerRef.current)==null||d.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:Ne(t.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,p=d.button===2||h;(!s.modal||p)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});y4.displayName=g4;var eK="DropdownMenuGroup",tK=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xr(n);return o.jsx(zG,{...s,...r,ref:e})});tK.displayName=eK;var nK="DropdownMenuLabel",v4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xr(n);return o.jsx($G,{...s,...r,ref:e})});v4.displayName=nK;var rK="DropdownMenuItem",x4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xr(n);return o.jsx(BG,{...s,...r,ref:e})});x4.displayName=rK;var sK="DropdownMenuCheckboxItem",_4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xr(n);return o.jsx(UG,{...s,...r,ref:e})});_4.displayName=sK;var iK="DropdownMenuRadioGroup",oK=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xr(n);return o.jsx(qG,{...s,...r,ref:e})});oK.displayName=iK;var aK="DropdownMenuRadioItem",w4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xr(n);return o.jsx(HG,{...s,...r,ref:e})});w4.displayName=aK;var lK="DropdownMenuItemIndicator",b4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xr(n);return o.jsx(WG,{...s,...r,ref:e})});b4.displayName=lK;var cK="DropdownMenuSeparator",N4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xr(n);return o.jsx(GG,{...s,...r,ref:e})});N4.displayName=cK;var uK="DropdownMenuArrow",dK=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xr(n);return o.jsx(KG,{...s,...r,ref:e})});dK.displayName=uK;var hK="DropdownMenuSubTrigger",E4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xr(n);return o.jsx(ZG,{...s,...r,ref:e})});E4.displayName=hK;var fK="DropdownMenuSubContent",S4=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xr(n);return o.jsx(QG,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});S4.displayName=fK;var mK=h4,pK=m4,gK=p4,T4=y4,C4=v4,P4=x4,I4=_4,k4=w4,j4=b4,A4=N4,R4=E4,M4=S4;const cu=mK,uu=pK,yK=v.forwardRef(({className:t,inset:e,children:n,...r},s)=>o.jsxs(R4,{ref:s,className:Me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(lI,{className:"ml-auto h-4 w-4"})]}));yK.displayName=R4.displayName;const vK=v.forwardRef(({className:t,...e},n)=>o.jsx(M4,{ref:n,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));vK.displayName=M4.displayName;const yl=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(gK,{children:o.jsx(T4,{ref:r,sideOffset:e,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));yl.displayName=T4.displayName;const Bt=v.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(P4,{ref:r,className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Bt.displayName=P4.displayName;const xK=v.forwardRef(({className:t,children:e,checked:n,...r},s)=>o.jsxs(I4,{ref:s,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(j4,{children:o.jsx(O_,{className:"h-4 w-4"})})}),e]}));xK.displayName=I4.displayName;const _K=v.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(k4,{ref:r,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(j4,{children:o.jsx(cI,{className:"h-2 w-2 fill-current"})})}),e]}));_K.displayName=k4.displayName;const vl=v.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(C4,{ref:r,className:Me("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));vl.displayName=C4.displayName;const Qi=v.forwardRef(({className:t,...e},n)=>o.jsx(A4,{ref:n,className:Me("-mx-1 my-1 h-px bg-muted",t),...e}));Qi.displayName=A4.displayName;var Pb="Radio",[wK,D4]=ar(Pb),[bK,NK]=wK(Pb),O4=v.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:l,value:c="on",onCheck:d,form:h,...p}=t,[g,y]=v.useState(null),w=ot(e,T=>y(T)),S=v.useRef(!1),x=g?h||!!g.closest("form"):!0;return o.jsxs(bK,{scope:n,checked:s,disabled:l,children:[o.jsx(De.button,{type:"button",role:"radio","aria-checked":s,"data-state":z4(s),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:w,onClick:Ne(t.onClick,T=>{s||d==null||d(),x&&(S.current=T.isPropagationStopped(),S.current||T.stopPropagation())})}),x&&o.jsx(V4,{control:g,bubbles:!S.current,name:r,value:c,checked:s,required:i,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});O4.displayName=Pb;var L4="RadioIndicator",F4=v.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=NK(L4,n);return o.jsx(Jr,{present:r||i.checked,children:o.jsx(De.span,{"data-state":z4(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});F4.displayName=L4;var EK="RadioBubbleInput",V4=v.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const l=v.useRef(null),c=ot(l,i),d=xb(n),h=J_(e);return v.useEffect(()=>{const p=l.current;if(!p)return;const g=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&w){const S=new Event("click",{bubbles:r});w.call(p,n),p.dispatchEvent(S)}},[d,n,r]),o.jsx(De.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});V4.displayName=EK;function z4(t){return t?"checked":"unchecked"}var SK=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yy="RadioGroup",[TK,IQ]=ar(yy,[Ru,D4]),$4=Ru(),B4=D4(),[CK,PK]=TK(yy),U4=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:l=!1,disabled:c=!1,orientation:d,dir:h,loop:p=!0,onValueChange:g,...y}=t,w=$4(n),S=Au(h),[x,T]=_s({prop:i,defaultProp:s??null,onChange:g,caller:yy});return o.jsx(CK,{scope:n,name:r,required:l,disabled:c,value:x,onValueChange:T,children:o.jsx(db,{asChild:!0,...w,orientation:d,dir:S,loop:p,children:o.jsx(De.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":c?"":void 0,dir:S,...y,ref:e})})})});U4.displayName=yy;var q4="RadioGroupItem",H4=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=PK(q4,n),l=i.disabled||r,c=$4(n),d=B4(n),h=v.useRef(null),p=ot(e,h),g=i.value===s.value,y=v.useRef(!1);return v.useEffect(()=>{const w=x=>{SK.includes(x.key)&&(y.current=!0)},S=()=>y.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",S)}},[]),o.jsx(hb,{asChild:!0,...c,focusable:!l,active:g,children:o.jsx(O4,{disabled:l,required:i.required,checked:g,...d,...s,name:i.name,ref:p,onCheck:()=>i.onValueChange(s.value),onKeyDown:Ne(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:Ne(s.onFocus,()=>{var w;y.current&&((w=h.current)==null||w.click())})})})});H4.displayName=q4;var IK="RadioGroupIndicator",W4=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=B4(n);return o.jsx(F4,{...s,...r,ref:e})});W4.displayName=IK;var G4=U4,K4=H4,kK=W4;const Sx=v.forwardRef(({className:t,...e},n)=>o.jsx(G4,{className:Me("grid gap-2",t),...e,ref:n}));Sx.displayName=G4.displayName;const Rd=v.forwardRef(({className:t,...e},n)=>o.jsx(K4,{ref:n,className:Me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(kK,{className:"flex items-center justify-center",children:o.jsx(cI,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Rd.displayName=K4.displayName;const vy=({isOpen:t,onClose:e,onPlaceOrder:n,totalPrice:r,user:s})=>{const{isDarkMode:i,toggleDarkMode:l}=mn(),[c,d]=v.useState(1),[h,p]=v.useState([]),[g,y]=v.useState(null),[w,S]=v.useState("cod"),[x,T]=v.useState(0),[E,N]=v.useState(""),[P,D]=v.useState(!1),$=r>299?0:29,B=r+$+x;v.useEffect(()=>{t&&s?A(s.uid):(d(1),y(null),S("cod"),T(0),N(""))},[t,s]);const A=async F=>{D(!0);try{const te=Vn(ht,"addresses"),pe=Ki(te,sa("userId","==",F)),ee=(await Ni(pe)).docs.map(U=>{const H=U.data();return{id:U.id,type:H.type,name:H.name,address:H.address,city:H.city,state:H.state,pincode:H.pincode,isDefault:H.isDefault}});ee.sort((U,H)=>U.isDefault&&!H.isDefault?-1:!U.isDefault&&H.isDefault?1:0),p(ee),ee.length>0&&y(ee.find(U=>U.isDefault)||ee[0])}catch(te){console.error("Error loading addresses: ",te),Y.error("Failed to load addresses.")}finally{D(!1)}},k=F=>{T(F),N("")},j=F=>{const te=F.target.value;N(te),T(Number(te)||0)},O=()=>{if(!g){Y.error("Please select a delivery address."),d(1);return}n({address:g,paymentMethod:w,tip:x,finalTotal:B})},R=F=>{switch(F){case"home":return o.jsx(hI,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(iI,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(_p,{className:"w-5 h-5 text-gray-500"})}},V=()=>{switch(c){case 1:return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Fs,{className:`text-xl font-bold mb-2 ${i?"text-white":"text-gray-800"}`,children:"Select Delivery Address"}),o.jsx(Ji,{className:i?"text-gray-400":"text-gray-600",children:"Choose where you'd like your order delivered"})]}),P?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):o.jsx(Sx,{value:g==null?void 0:g.id,onValueChange:F=>y(h.find(te=>te.id===F)||null),children:o.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:h.map(F=>o.jsxs(Ve,{htmlFor:F.id,className:`flex items-start space-x-3 p-4 border rounded-xl cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(Rd,{value:F.id,id:F.id,className:"mt-1"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[R(F.type),o.jsx("h3",{className:`font-semibold capitalize ${i?"text-white":"text-gray-900"}`,children:F.type}),F.isDefault&&o.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),o.jsx("p",{className:`text-sm leading-relaxed ${i?"text-gray-400":"text-gray-600"}`,children:`${F.name}, ${F.address}, ${F.city}, ${F.state} - ${F.pincode}`})]})]},F.id))})}),h.length===0&&!P&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:`mb-4 ${i?"text-gray-400":"text-gray-500"}`,children:"No addresses found"}),o.jsx(W,{variant:"outline",onClick:()=>window.location.href="/address",className:"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Add New Address"})]})]});case 2:return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Fs,{className:`text-xl font-bold mb-2 ${i?"text-white":"text-gray-800"}`,children:"Payment & Tip"}),o.jsx(Ji,{className:i?"text-gray-400":"text-gray-600",children:"Choose your payment method and add a tip"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:`font-semibold mb-3 text-lg ${i?"text-white":"text-gray-900"}`,children:"Payment Method"}),o.jsx(Sx,{value:w,onValueChange:S,children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Ve,{htmlFor:"cod",className:`flex items-center space-x-4 p-4 border rounded-xl cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(Rd,{value:"cod",id:"cod"}),o.jsx(s3,{className:"w-6 h-6 text-orange-500"}),o.jsxs("div",{children:[o.jsx("span",{className:`font-medium ${i?"text-white":"text-gray-800"}`,children:"Cash on Delivery"}),o.jsx("p",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:"Pay when you receive your order"})]})]}),o.jsxs(Ve,{htmlFor:"upi",className:`flex items-center space-x-4 p-4 border rounded-xl cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(Rd,{value:"upi",id:"upi"}),o.jsx(G5,{className:"w-6 h-6 text-orange-500"}),o.jsxs("div",{children:[o.jsx("span",{className:`font-medium ${i?"text-white":"text-gray-800"}`,children:"UPI"}),o.jsx("p",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:"Pay using UPI apps"})]})]}),o.jsxs(Ve,{htmlFor:"card",className:`flex items-center space-x-4 p-4 border rounded-xl cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(Rd,{value:"card",id:"card"}),o.jsx(B5,{className:"w-6 h-6 text-orange-500"}),o.jsxs("div",{children:[o.jsx("span",{className:`font-medium ${i?"text-white":"text-gray-800"}`,children:"Credit/Debit Card"}),o.jsx("p",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:"Pay with your card"})]})]})]})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:`font-semibold text-lg ${i?"text-white":"text-gray-900"}`,children:"Add a Tip"}),o.jsx("p",{className:`text-sm mb-3 ${i?"text-gray-400":"text-gray-600"}`,children:"Show appreciation to your delivery partner"}),o.jsx("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[10,20,50].map(F=>o.jsxs(W,{variant:x===F?"default":"outline",onClick:()=>k(F),className:`h-12 text-base ${x===F?"bg-orange-500 hover:bg-orange-600 text-white":"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white"}`,children:["",F]},F))}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ze,{type:"number",placeholder:"Custom amount",value:E,onChange:j,className:`flex-1 h-12 text-base ${i?"bg-gray-700 text-white border-gray-600 placeholder-gray-400":"bg-white text-gray-900 border-gray-300"}`}),o.jsx("span",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:""})]})]})]})]});default:return null}};return o.jsx(Zi,{open:t,onOpenChange:e,children:o.jsxs(hi,{className:`max-w-2xl ${i?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(fi,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fs,{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:"Checkout"}),o.jsxs(Ji,{className:i?"text-gray-400":"text-gray-600",children:["Step ",c," of 2"]})]}),o.jsx(W,{variant:"ghost",size:"icon",onClick:l,className:i?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:i?o.jsx(An,{className:"w-5 h-5"}):o.jsx(bn,{className:"w-5 h-5"})})]})}),o.jsx("div",{className:"py-6",children:V()}),o.jsx("div",{className:`border-t ${i?"border-gray-700":"border-gray-200"} pt-4`,children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:["Total: ",o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["",B.toFixed(2)]})]})}),o.jsxs("div",{className:"flex space-x-3",children:[c>1&&o.jsxs(W,{variant:"outline",onClick:()=>d(c-1),className:`${i?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(Un,{className:"w-4 h-4 mr-2"}),"Back"]}),c<2?o.jsxs(W,{onClick:()=>d(c+1),disabled:!g,className:"bg-orange-500 hover:bg-orange-600 text-white",children:["Continue",o.jsx(D_,{className:"w-4 h-4 ml-2"})]}):o.jsx(W,{onClick:O,className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Place Order"})]})]})})]})})};function jK(t){return Object.prototype.toString.call(t)==="[object Object]"}function nT(t){return jK(t)||Array.isArray(t)}function AK(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Ib(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:n.every(l=>{const c=t[l],d=e[l];return typeof c=="function"?`${c}`==`${d}`:!nT(c)||!nT(d)?c===d:Ib(c,d)})}function rT(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function RK(t,e){if(t.length!==e.length)return!1;const n=rT(t),r=rT(e);return n.every((s,i)=>{const l=r[i];return Ib(s,l)})}function kb(t){return typeof t=="number"}function Tx(t){return typeof t=="string"}function xy(t){return typeof t=="boolean"}function sT(t){return Object.prototype.toString.call(t)==="[object Object]"}function Kt(t){return Math.abs(t)}function jb(t){return Math.sign(t)}function th(t,e){return Kt(t-e)}function MK(t,e){if(t===0||e===0||Kt(t)<=Kt(e))return 0;const n=th(Kt(t),Kt(e));return Kt(n/t)}function DK(t){return Math.round(t*100)/100}function Lh(t){return Fh(t).map(Number)}function $s(t){return t[gf(t)]}function gf(t){return Math.max(0,t.length-1)}function Ab(t,e){return e===gf(t)}function iT(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function Fh(t){return Object.keys(t)}function Z4(t,e){return[t,e].reduce((n,r)=>(Fh(r).forEach(s=>{const i=n[s],l=r[s],c=sT(i)&&sT(l);n[s]=c?Z4(i,l):l}),n),{})}function Cx(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function OK(t,e){const n={start:r,center:s,end:i};function r(){return 0}function s(d){return i(d)/2}function i(d){return e-d}function l(d,h){return Tx(t)?n[t](d):t(e,d,h)}return{measure:l}}function Vh(){let t=[];function e(s,i,l,c={passive:!0}){let d;if("addEventListener"in s)s.addEventListener(i,l,c),d=()=>s.removeEventListener(i,l,c);else{const h=s;h.addListener(l),d=()=>h.removeListener(l)}return t.push(d),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function LK(t,e,n,r){const s=Vh(),i=1e3/60;let l=null,c=0,d=0;function h(){s.add(t,"visibilitychange",()=>{t.hidden&&S()})}function p(){w(),s.clear()}function g(T){if(!d)return;l||(l=T,n(),n());const E=T-l;for(l=T,c+=E;c>=i;)n(),c-=i;const N=c/i;r(N),d&&(d=e.requestAnimationFrame(g))}function y(){d||(d=e.requestAnimationFrame(g))}function w(){e.cancelAnimationFrame(d),l=null,c=0,d=0}function S(){l=null,c=0}return{init:h,destroy:p,start:y,stop:w,update:n,render:r}}function FK(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",i=r?"x":"y",l=!r&&n?-1:1,c=p(),d=g();function h(S){const{height:x,width:T}=S;return r?x:T}function p(){return r?"top":n?"right":"left"}function g(){return r?"bottom":n?"left":"right"}function y(S){return S*l}return{scroll:s,cross:i,startEdge:c,endEdge:d,measureSize:h,direction:y}}function xl(t=0,e=0){const n=Kt(t-e);function r(h){return h<t}function s(h){return h>e}function i(h){return r(h)||s(h)}function l(h){return i(h)?r(h)?t:e:h}function c(h){return n?h-n*Math.ceil((h-e)/n):h}return{length:n,max:e,min:t,constrain:l,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:c}}function Q4(t,e,n){const{constrain:r}=xl(0,t),s=t+1;let i=l(e);function l(y){return n?Kt((s+y)%s):r(y)}function c(){return i}function d(y){return i=l(y),g}function h(y){return p().set(c()+y)}function p(){return Q4(t,c(),n)}const g={get:c,set:d,add:h,clone:p};return g}function VK(t,e,n,r,s,i,l,c,d,h,p,g,y,w,S,x,T,E,N){const{cross:P,direction:D}=t,$=["INPUT","SELECT","TEXTAREA"],B={passive:!1},A=Vh(),k=Vh(),j=xl(50,225).constrain(w.measure(20)),O={mouse:300,touch:400},R={mouse:500,touch:600},V=S?43:25;let F=!1,te=0,pe=0,Q=!1,ee=!1,U=!1,H=!1;function K(le){if(!N)return;function Ie(et){(xy(N)||N(le,et))&&be(et)}const je=e;A.add(je,"dragstart",et=>et.preventDefault(),B).add(je,"touchmove",()=>{},B).add(je,"touchend",()=>{}).add(je,"touchstart",Ie).add(je,"mousedown",Ie).add(je,"touchcancel",ve).add(je,"contextmenu",ve).add(je,"click",re,!0)}function ne(){A.clear(),k.clear()}function ie(){const le=H?n:e;k.add(le,"touchmove",G,B).add(le,"touchend",ve).add(le,"mousemove",G,B).add(le,"mouseup",ve)}function Z(le){const Ie=le.nodeName||"";return $.includes(Ie)}function ue(){return(S?R:O)[H?"mouse":"touch"]}function ge(le,Ie){const je=g.add(jb(le)*-1),et=p.byDistance(le,!S).distance;return S||Kt(le)<j?et:T&&Ie?et*.5:p.byIndex(je.get(),0).distance}function be(le){const Ie=Cx(le,r);H=Ie,U=S&&Ie&&!le.buttons&&F,F=th(s.get(),l.get())>=2,!(Ie&&le.button!==0)&&(Z(le.target)||(Q=!0,i.pointerDown(le),h.useFriction(0).useDuration(0),s.set(l),ie(),te=i.readPoint(le),pe=i.readPoint(le,P),y.emit("pointerDown")))}function G(le){if(!Cx(le,r)&&le.touches.length>=2)return ve(le);const je=i.readPoint(le),et=i.readPoint(le,P),ct=th(je,te),vt=th(et,pe);if(!ee&&!H&&(!le.cancelable||(ee=ct>vt,!ee)))return ve(le);const rt=i.pointerMove(le);ct>x&&(U=!0),h.useFriction(.3).useDuration(.75),c.start(),s.add(D(rt)),le.preventDefault()}function ve(le){const je=p.byDistance(0,!1).index!==g.get(),et=i.pointerUp(le)*ue(),ct=ge(D(et),je),vt=MK(et,ct),rt=V-10*vt,It=E+vt/50;ee=!1,Q=!1,k.clear(),h.useDuration(rt).useFriction(It),d.distance(ct,!S),H=!1,y.emit("pointerUp")}function re(le){U&&(le.stopPropagation(),le.preventDefault(),U=!1)}function ae(){return Q}return{init:K,destroy:ne,pointerDown:ae}}function zK(t,e){let r,s;function i(g){return g.timeStamp}function l(g,y){const S=`client${(y||t.scroll)==="x"?"X":"Y"}`;return(Cx(g,e)?g:g.touches[0])[S]}function c(g){return r=g,s=g,l(g)}function d(g){const y=l(g)-l(s),w=i(g)-i(r)>170;return s=g,w&&(r=g),y}function h(g){if(!r||!s)return 0;const y=l(s)-l(r),w=i(g)-i(r),S=i(g)-i(s)>170,x=y/w;return w&&!S&&Kt(x)>.1?x:0}return{pointerDown:c,pointerMove:d,pointerUp:h,readPoint:l}}function $K(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:l}=n;return{top:r,right:s+i,bottom:r+l,left:s,width:i,height:l}}return{measure:t}}function BK(t){function e(r){return t*(r/100)}return{measure:e}}function UK(t,e,n,r,s,i,l){const c=[t].concat(r);let d,h,p=[],g=!1;function y(T){return s.measureSize(l.measure(T))}function w(T){if(!i)return;h=y(t),p=r.map(y);function E(N){for(const P of N){if(g)return;const D=P.target===t,$=r.indexOf(P.target),B=D?h:p[$],A=y(D?t:r[$]);if(Kt(A-B)>=.5){T.reInit(),e.emit("resize");break}}}d=new ResizeObserver(N=>{(xy(i)||i(T,N))&&E(N)}),n.requestAnimationFrame(()=>{c.forEach(N=>d.observe(N))})}function S(){g=!0,d&&d.disconnect()}return{init:w,destroy:S}}function qK(t,e,n,r,s,i){let l=0,c=0,d=s,h=i,p=t.get(),g=0;function y(){const B=r.get()-t.get(),A=!d;let k=0;return A?(l=0,n.set(r),t.set(r),k=B):(n.set(t),l+=B/d,l*=h,p+=l,t.add(l),k=p-g),c=jb(k),g=p,$}function w(){const B=r.get()-e.get();return Kt(B)<.001}function S(){return d}function x(){return c}function T(){return l}function E(){return P(s)}function N(){return D(i)}function P(B){return d=B,$}function D(B){return h=B,$}const $={direction:x,duration:S,velocity:T,seek:y,settled:w,useBaseFriction:N,useBaseDuration:E,useFriction:D,useDuration:P};return $}function HK(t,e,n,r,s){const i=s.measure(10),l=s.measure(50),c=xl(.1,.99);let d=!1;function h(){return!(d||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function p(w){if(!h())return;const S=t.reachedMin(e.get())?"min":"max",x=Kt(t[S]-e.get()),T=n.get()-e.get(),E=c.constrain(x/l);n.subtract(T*E),!w&&Kt(T)<i&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function g(w){d=!w}return{shouldConstrain:h,constrain:p,toggleActive:g}}function WK(t,e,n,r,s){const i=xl(-e+t,0),l=g(),c=p(),d=y();function h(S,x){return th(S,x)<=1}function p(){const S=l[0],x=$s(l),T=l.lastIndexOf(S),E=l.indexOf(x)+1;return xl(T,E)}function g(){return n.map((S,x)=>{const{min:T,max:E}=i,N=i.constrain(S),P=!x,D=Ab(n,x);return P?E:D||h(T,N)?T:h(E,N)?E:N}).map(S=>parseFloat(S.toFixed(3)))}function y(){if(e<=t+s)return[i.max];if(r==="keepSnaps")return l;const{min:S,max:x}=c;return l.slice(S,x)}return{snapsContained:d,scrollContainLimit:c}}function GK(t,e,n){const r=e[0],s=n?r-t:$s(e);return{limit:xl(s,r)}}function KK(t,e,n,r){const i=e.min+.1,l=e.max+.1,{reachedMin:c,reachedMax:d}=xl(i,l);function h(y){return y===1?d(n.get()):y===-1?c(n.get()):!1}function p(y){if(!h(y))return;const w=t*(y*-1);r.forEach(S=>S.add(w))}return{loop:p}}function ZK(t){const{max:e,length:n}=t;function r(i){const l=i-e;return n?l/-n:0}return{get:r}}function QK(t,e,n,r,s){const{startEdge:i,endEdge:l}=t,{groupSlides:c}=s,d=g().map(e.measure),h=y(),p=w();function g(){return c(r).map(x=>$s(x)[l]-x[0][i]).map(Kt)}function y(){return r.map(x=>n[i]-x[i]).map(x=>-Kt(x))}function w(){return c(h).map(x=>x[0]).map((x,T)=>x+d[T])}return{snaps:h,snapsAligned:p}}function YK(t,e,n,r,s,i){const{groupSlides:l}=s,{min:c,max:d}=r,h=p();function p(){const y=l(i),w=!t||e==="keepSnaps";return n.length===1?[i]:w?y:y.slice(c,d).map((S,x,T)=>{const E=!x,N=Ab(T,x);if(E){const P=$s(T[0])+1;return iT(P)}if(N){const P=gf(i)-$s(T)[0]+1;return iT(P,$s(T)[0])}return S})}return{slideRegistry:h}}function XK(t,e,n,r,s){const{reachedAny:i,removeOffset:l,constrain:c}=r;function d(S){return S.concat().sort((x,T)=>Kt(x)-Kt(T))[0]}function h(S){const x=t?l(S):c(S),T=e.map((N,P)=>({diff:p(N-x,0),index:P})).sort((N,P)=>Kt(N.diff)-Kt(P.diff)),{index:E}=T[0];return{index:E,distance:x}}function p(S,x){const T=[S,S+n,S-n];if(!t)return S;if(!x)return d(T);const E=T.filter(N=>jb(N)===x);return E.length?d(E):$s(T)-n}function g(S,x){const T=e[S]-s.get(),E=p(T,x);return{index:S,distance:E}}function y(S,x){const T=s.get()+S,{index:E,distance:N}=h(T),P=!t&&i(T);if(!x||P)return{index:E,distance:S};const D=e[E]-N,$=S+p(D,0);return{index:E,distance:$}}return{byDistance:y,byIndex:g,shortcut:p}}function JK(t,e,n,r,s,i,l){function c(g){const y=g.distance,w=g.index!==e.get();i.add(y),y&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),w&&(n.set(e.get()),e.set(g.index),l.emit("select"))}function d(g,y){const w=s.byDistance(g,y);c(w)}function h(g,y){const w=e.clone().set(g),S=s.byIndex(w.get(),y);c(S)}return{distance:d,index:h}}function eZ(t,e,n,r,s,i,l,c){const d={passive:!0,capture:!0};let h=0;function p(w){if(!c)return;function S(x){if(new Date().getTime()-h>10)return;l.emit("slideFocusStart"),t.scrollLeft=0;const N=n.findIndex(P=>P.includes(x));kb(N)&&(s.useDuration(0),r.index(N,0),l.emit("slideFocus"))}i.add(document,"keydown",g,!1),e.forEach((x,T)=>{i.add(x,"focus",E=>{(xy(c)||c(w,E))&&S(T)},d)})}function g(w){w.code==="Tab"&&(h=new Date().getTime())}return{init:p}}function Md(t){let e=t;function n(){return e}function r(d){e=l(d)}function s(d){e+=l(d)}function i(d){e-=l(d)}function l(d){return kb(d)?d:d.get()}return{get:n,set:r,add:s,subtract:i}}function Y4(t,e){const n=t.scroll==="x"?l:c,r=e.style;let s=null,i=!1;function l(y){return`translate3d(${y}px,0px,0px)`}function c(y){return`translate3d(0px,${y}px,0px)`}function d(y){if(i)return;const w=DK(t.direction(y));w!==s&&(r.transform=n(w),s=w)}function h(y){i=!y}function p(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:p,to:d,toggleActive:h}}function tZ(t,e,n,r,s,i,l,c,d){const p=Lh(s),g=Lh(s).reverse(),y=E().concat(N());function w(A,k){return A.reduce((j,O)=>j-s[O],k)}function S(A,k){return A.reduce((j,O)=>w(j,k)>0?j.concat([O]):j,[])}function x(A){return i.map((k,j)=>({start:k-r[j]+.5+A,end:k+e-.5+A}))}function T(A,k,j){const O=x(k);return A.map(R=>{const V=j?0:-n,F=j?n:0,te=j?"end":"start",pe=O[R][te];return{index:R,loopPoint:pe,slideLocation:Md(-1),translate:Y4(t,d[R]),target:()=>c.get()>pe?V:F}})}function E(){const A=l[0],k=S(g,A);return T(k,n,!1)}function N(){const A=e-l[0]-1,k=S(p,A);return T(k,-n,!0)}function P(){return y.every(({index:A})=>{const k=p.filter(j=>j!==A);return w(k,e)<=.1})}function D(){y.forEach(A=>{const{target:k,translate:j,slideLocation:O}=A,R=k();R!==O.get()&&(j.to(R),O.set(R))})}function $(){y.forEach(A=>A.translate.clear())}return{canLoop:P,clear:$,loop:D,loopPoints:y}}function nZ(t,e,n){let r,s=!1;function i(d){if(!n)return;function h(p){for(const g of p)if(g.type==="childList"){d.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(p=>{s||(xy(n)||n(d,p))&&h(p)}),r.observe(t,{childList:!0})}function l(){r&&r.disconnect(),s=!0}return{init:i,destroy:l}}function rZ(t,e,n,r){const s={};let i=null,l=null,c,d=!1;function h(){c=new IntersectionObserver(S=>{d||(S.forEach(x=>{const T=e.indexOf(x.target);s[T]=x}),i=null,l=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(S=>c.observe(S))}function p(){c&&c.disconnect(),d=!0}function g(S){return Fh(s).reduce((x,T)=>{const E=parseInt(T),{isIntersecting:N}=s[E];return(S&&N||!S&&!N)&&x.push(E),x},[])}function y(S=!0){if(S&&i)return i;if(!S&&l)return l;const x=g(S);return S&&(i=x),S||(l=x),x}return{init:h,destroy:p,get:y}}function sZ(t,e,n,r,s,i){const{measureSize:l,startEdge:c,endEdge:d}=t,h=n[0]&&s,p=S(),g=x(),y=n.map(l),w=T();function S(){if(!h)return 0;const N=n[0];return Kt(e[c]-N[c])}function x(){if(!h)return 0;const N=i.getComputedStyle($s(r));return parseFloat(N.getPropertyValue(`margin-${d}`))}function T(){return n.map((N,P,D)=>{const $=!P,B=Ab(D,P);return $?y[P]+p:B?y[P]+g:D[P+1][c]-N[c]}).map(Kt)}return{slideSizes:y,slideSizesWithGaps:w,startGap:p,endGap:g}}function iZ(t,e,n,r,s,i,l,c,d){const{startEdge:h,endEdge:p,direction:g}=t,y=kb(n);function w(E,N){return Lh(E).filter(P=>P%N===0).map(P=>E.slice(P,P+N))}function S(E){return E.length?Lh(E).reduce((N,P,D)=>{const $=$s(N)||0,B=$===0,A=P===gf(E),k=s[h]-i[$][h],j=s[h]-i[P][p],O=!r&&B?g(l):0,R=!r&&A?g(c):0,V=Kt(j-R-(k+O));return D&&V>e+d&&N.push(P),A&&N.push(E.length),N},[]).map((N,P,D)=>{const $=Math.max(D[P-1]||0);return E.slice($,N)}):[]}function x(E){return y?w(E,n):S(E)}return{groupSlides:x}}function oZ(t,e,n,r,s,i,l){const{align:c,axis:d,direction:h,startIndex:p,loop:g,duration:y,dragFree:w,dragThreshold:S,inViewThreshold:x,slidesToScroll:T,skipSnaps:E,containScroll:N,watchResize:P,watchSlides:D,watchDrag:$,watchFocus:B}=i,A=2,k=$K(),j=k.measure(e),O=n.map(k.measure),R=FK(d,h),V=R.measureSize(j),F=BK(V),te=OK(c,V),pe=!g&&!!N,Q=g||!!N,{slideSizes:ee,slideSizesWithGaps:U,startGap:H,endGap:K}=sZ(R,j,O,n,Q,s),ne=iZ(R,V,T,g,j,O,H,K,A),{snaps:ie,snapsAligned:Z}=QK(R,te,j,O,ne),ue=-$s(ie)+$s(U),{snapsContained:ge,scrollContainLimit:be}=WK(V,ue,Z,N,A),G=pe?ge:Z,{limit:ve}=GK(ue,G,g),re=Q4(gf(G),p,g),ae=re.clone(),ce=Lh(n),le=({dragHandler:Xt,scrollBody:Wn,scrollBounds:Rn,options:{loop:Gn}})=>{Gn||Rn.constrain(Xt.pointerDown()),Wn.seek()},Ie=({scrollBody:Xt,translate:Wn,location:Rn,offsetLocation:Gn,previousLocation:Mn,scrollLooper:Rt,slideLooper:_r,dragHandler:Or,animation:Ti,eventHandler:Qs,scrollBounds:Ys,options:{loop:Lr}},Fr)=>{const Dn=Xt.settled(),Vr=!Ys.shouldConstrain(),Fe=Lr?Dn:Dn&&Vr,st=Fe&&!Or.pointerDown();st&&Ti.stop();const wt=Rn.get()*Fr+Mn.get()*(1-Fr);Gn.set(wt),Lr&&(Rt.loop(Xt.direction()),_r.loop()),Wn.to(Gn.get()),st&&Qs.emit("settle"),Fe||Qs.emit("scroll")},je=LK(r,s,()=>le(Hn),Xt=>Ie(Hn,Xt)),et=.68,ct=G[re.get()],vt=Md(ct),rt=Md(ct),It=Md(ct),mt=Md(ct),qt=qK(vt,It,rt,mt,y,et),lr=XK(g,G,ue,ve,mt),nn=JK(je,re,ae,qt,lr,mt,l),_e=ZK(ve),qe=Vh(),Qe=rZ(e,n,l,x),{slideRegistry:Ue}=YK(pe,N,G,be,ne,ce),cr=eZ(t,n,Ue,nn,qt,qe,l,B),Hn={ownerDocument:r,ownerWindow:s,eventHandler:l,containerRect:j,slideRects:O,animation:je,axis:R,dragHandler:VK(R,t,r,s,mt,zK(R,s),vt,je,nn,qt,lr,re,l,F,w,S,E,et,$),eventStore:qe,percentOfView:F,index:re,indexPrevious:ae,limit:ve,location:vt,offsetLocation:It,previousLocation:rt,options:i,resizeHandler:UK(e,l,s,n,R,P,k),scrollBody:qt,scrollBounds:HK(ve,It,mt,qt,F),scrollLooper:KK(ue,ve,It,[vt,It,rt,mt]),scrollProgress:_e,scrollSnapList:G.map(_e.get),scrollSnaps:G,scrollTarget:lr,scrollTo:nn,slideLooper:tZ(R,V,ue,ee,U,ie,G,It,n),slideFocus:cr,slidesHandler:nZ(e,l,D),slidesInView:Qe,slideIndexes:ce,slideRegistry:Ue,slidesToScroll:ne,target:mt,translate:Y4(R,e)};return Hn}function aZ(){let t={},e;function n(h){e=h}function r(h){return t[h]||[]}function s(h){return r(h).forEach(p=>p(e,h)),d}function i(h,p){return t[h]=r(h).concat([p]),d}function l(h,p){return t[h]=r(h).filter(g=>g!==p),d}function c(){t={}}const d={init:n,emit:s,off:l,on:i,clear:c};return d}const lZ={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function cZ(t){function e(i,l){return Z4(i,l||{})}function n(i){const l=i.breakpoints||{},c=Fh(l).filter(d=>t.matchMedia(d).matches).map(d=>l[d]).reduce((d,h)=>e(d,h),{});return e(i,c)}function r(i){return i.map(l=>Fh(l.breakpoints||{})).reduce((l,c)=>l.concat(c),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function uZ(t){let e=[];function n(i,l){return e=l.filter(({options:c})=>t.optionsAtMedia(c).active!==!1),e.forEach(c=>c.init(i,t)),l.reduce((c,d)=>Object.assign(c,{[d.name]:d}),{})}function r(){e=e.filter(i=>i.destroy())}return{init:n,destroy:r}}function Qp(t,e,n){const r=t.ownerDocument,s=r.defaultView,i=cZ(s),l=uZ(i),c=Vh(),d=aZ(),{mergeOptions:h,optionsAtMedia:p,optionsMediaQueries:g}=i,{on:y,off:w,emit:S}=d,x=R;let T=!1,E,N=h(lZ,Qp.globalOptions),P=h(N),D=[],$,B,A;function k(){const{container:ce,slides:le}=P;B=(Tx(ce)?t.querySelector(ce):ce)||t.children[0];const je=Tx(le)?B.querySelectorAll(le):le;A=[].slice.call(je||B.children)}function j(ce){const le=oZ(t,B,A,r,s,ce,d);if(ce.loop&&!le.slideLooper.canLoop()){const Ie=Object.assign({},ce,{loop:!1});return j(Ie)}return le}function O(ce,le){T||(N=h(N,ce),P=p(N),D=le||D,k(),E=j(P),g([N,...D.map(({options:Ie})=>Ie)]).forEach(Ie=>c.add(Ie,"change",R)),P.active&&(E.translate.to(E.location.get()),E.animation.init(),E.slidesInView.init(),E.slideFocus.init(ae),E.eventHandler.init(ae),E.resizeHandler.init(ae),E.slidesHandler.init(ae),E.options.loop&&E.slideLooper.loop(),B.offsetParent&&A.length&&E.dragHandler.init(ae),$=l.init(ae,D)))}function R(ce,le){const Ie=ne();V(),O(h({startIndex:Ie},ce),le),d.emit("reInit")}function V(){E.dragHandler.destroy(),E.eventStore.clear(),E.translate.clear(),E.slideLooper.clear(),E.resizeHandler.destroy(),E.slidesHandler.destroy(),E.slidesInView.destroy(),E.animation.destroy(),l.destroy(),c.clear()}function F(){T||(T=!0,c.clear(),V(),d.emit("destroy"),d.clear())}function te(ce,le,Ie){!P.active||T||(E.scrollBody.useBaseFriction().useDuration(le===!0?0:P.duration),E.scrollTo.index(ce,Ie||0))}function pe(ce){const le=E.index.add(1).get();te(le,ce,-1)}function Q(ce){const le=E.index.add(-1).get();te(le,ce,1)}function ee(){return E.index.add(1).get()!==ne()}function U(){return E.index.add(-1).get()!==ne()}function H(){return E.scrollSnapList}function K(){return E.scrollProgress.get(E.offsetLocation.get())}function ne(){return E.index.get()}function ie(){return E.indexPrevious.get()}function Z(){return E.slidesInView.get()}function ue(){return E.slidesInView.get(!1)}function ge(){return $}function be(){return E}function G(){return t}function ve(){return B}function re(){return A}const ae={canScrollNext:ee,canScrollPrev:U,containerNode:ve,internalEngine:be,destroy:F,off:w,on:y,emit:S,plugins:ge,previousScrollSnap:ie,reInit:x,rootNode:G,scrollNext:pe,scrollPrev:Q,scrollProgress:K,scrollSnapList:H,scrollTo:te,selectedScrollSnap:ne,slideNodes:re,slidesInView:Z,slidesNotInView:ue};return O(e,n),setTimeout(()=>d.emit("init"),0),ae}Qp.globalOptions=void 0;function Rb(t={},e=[]){const n=v.useRef(t),r=v.useRef(e),[s,i]=v.useState(),[l,c]=v.useState(),d=v.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return v.useEffect(()=>{Ib(n.current,t)||(n.current=t,d())},[t,d]),v.useEffect(()=>{RK(r.current,e)||(r.current=e,d())},[e,d]),v.useEffect(()=>{if(AK()&&l){Qp.globalOptions=Rb.globalOptions;const h=Qp(l,n.current,r.current);return i(h),()=>h.destroy()}else i(void 0)},[l,i]),[c,s]}Rb.globalOptions=void 0;const X4=v.createContext(null);function _y(){const t=v.useContext(X4);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const Px=v.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:s,children:i,...l},c)=>{const[d,h]=Rb({...e,axis:t==="horizontal"?"x":"y"},r),[p,g]=v.useState(!1),[y,w]=v.useState(!1),S=v.useCallback(N=>{N&&(g(N.canScrollPrev()),w(N.canScrollNext()))},[]),x=v.useCallback(()=>{h==null||h.scrollPrev()},[h]),T=v.useCallback(()=>{h==null||h.scrollNext()},[h]),E=v.useCallback(N=>{N.key==="ArrowLeft"?(N.preventDefault(),x()):N.key==="ArrowRight"&&(N.preventDefault(),T())},[x,T]);return v.useEffect(()=>{!h||!n||n(h)},[h,n]),v.useEffect(()=>{if(h)return S(h),h.on("reInit",S),h.on("select",S),()=>{h==null||h.off("select",S)}},[h,S]),o.jsx(X4.Provider,{value:{carouselRef:d,api:h,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:T,canScrollPrev:p,canScrollNext:y},children:o.jsx("div",{ref:c,onKeyDownCapture:E,className:Me("relative",s),role:"region","aria-roledescription":"carousel",...l,children:i})})});Px.displayName="Carousel";const Ix=v.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:s}=_y();return o.jsx("div",{ref:r,className:"overflow-hidden",children:o.jsx("div",{ref:n,className:Me("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});Ix.displayName="CarouselContent";const kx=v.forwardRef(({className:t,...e},n)=>{const{orientation:r}=_y();return o.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:Me("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});kx.displayName="CarouselItem";const jx=v.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollPrev:l,canScrollPrev:c}=_y();return o.jsxs(W,{ref:s,variant:e,size:n,className:Me("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!c,onClick:l,...r,children:[o.jsx(Un,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Previous slide"})]})});jx.displayName="CarouselPrevious";const Ax=v.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollNext:l,canScrollNext:c}=_y();return o.jsxs(W,{ref:s,variant:e,size:n,className:Me("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!c,onClick:l,...r,children:[o.jsx(D_,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Next slide"})]})});Ax.displayName="CarouselNext";const dZ=[{name:"Biryani",image:"https://images.unsplash.com/photo-1633945274405-b6c8069047b0?w=400&h=400&fit=crop&crop=center"},{name:"Burgers",image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400&h=400&fit=crop&crop=center"},{name:"Chinese",image:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400&h=400&fit=crop&crop=center"},{name:"Pizzas",image:"https://images.unsplash.com/photo-1604382354936-07c5d9983bd3?w=400&h=400&fit=crop&crop=center"},{name:"Indian",image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400&h=400&fit=crop&crop=center"},{name:"Desserts",image:"https://images.unsplash.com/photo-1551024601-bec78aea704b?w=400&h=400&fit=crop&crop=center"}],hZ=[{name:"Fresh Vegetables",image:"https://images.unsplash.com/photo-1540420773420-3366772f4999?w=400&h=400&fit=crop&crop=center"},{name:"Fresh Fruits",image:"https://images.unsplash.com/photo-1619566636858-adf3ef46400b?w=400&h=400&fit=crop&crop=center"},{name:"Dairy, Bread & Eggs",image:"https://images.unsplash.com/photo-1550583724-b2692b85b150?w=400&h=400&fit=crop&crop=center"},{name:"Rice, Atta & Dals",image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=400&fit=crop&crop=center"},{name:"Masalas & Dry Fruits",image:"https://images.unsplash.com/photo-1604329760661-e71dc83f8f26?w=400&h=400&fit=crop&crop=center"},{name:"Oils & Ghee",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=400&fit=crop&crop=center"},{name:"Munchies",image:"https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=400&h=400&fit=crop&crop=center"},{name:"Sweet Tooth",image:"https://images.unsplash.com/photo-1551024601-bec78aea704b?w=400&h=400&fit=crop&crop=center"}],fZ=()=>{var nn;const t=qn(),{isDarkMode:e,toggleDarkMode:n}=mn(),{selectedAddress:r}=MM(),[s,i]=v.useState("food"),[l,c]=v.useState(""),[d,h]=v.useState("grid"),[p,g]=v.useState([0,1e3]),[y,w]=v.useState("Fetching location..."),[S,x]=v.useState([]),[T,E]=v.useState(!1),[N,P]=v.useState(!1),[D,$]=v.useState(null),[B,A]=v.useState(!1),[k,j]=v.useState(null),[O,R]=v.useState(!1),[V,F]=v.useState(!1),[te,pe]=v.useState(!1),[Q,ee]=v.useState(!1),[U,H]=v.useState([]),[K,ne]=v.useState([]),[ie,Z]=v.useState([]),ue=_e=>{if(!_e||_e==="Fetching location..."||_e==="Location not found"||_e==="Could not fetch location"||_e==="Location access denied"||_e==="Geolocation not supported")return _e;const qe=_e.split(",");return qe.length>=3?qe.slice(0,2).join(", ")+"...":qe.length===2?qe[0]+"...":_e.length>30?_e.substring(0,30)+"...":_e},ge=()=>r?`${r.city}, ${r.state}`:ue(y),be={fast_delivery:(()=>{var _e;if(r){const qe=(_e=r.city)==null?void 0:_e.toLowerCase();if(qe!=null&&qe.includes("mumbai"))return[{id:5,name:"Pizza Hut",price:120,rating:4.6,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"25-30 mins",ad:!0},{id:6,name:"Bombay Spice",price:150,rating:4.4,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"20-25 mins",discount:"50% OFF"},{id:7,name:"Mumbai Chinese",price:200,rating:4.2,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"18-22 mins",offer:"BUY1 GET1"}];if(qe!=null&&qe.includes("delhi"))return[{id:5,name:"Domino's Delhi",price:110,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"22-28 mins",ad:!0},{id:6,name:"Delhi Darbar",price:140,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"18-23 mins",discount:"40% OFF"},{id:7,name:"Beijing Express",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"20-25 mins",offer:"BUY1 GET1"}];if(qe!=null&&qe.includes("bangalore"))return[{id:5,name:"Pizza Corner",price:130,rating:4.7,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"20-25 mins",ad:!0},{id:6,name:"Bangalore Spice",price:160,rating:4.4,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"15-20 mins",discount:"60% OFF"},{id:7,name:"Tech Chinese",price:190,rating:4.2,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"18-22 mins",offer:"BUY1 GET1"}]}return[{id:5,name:"Domino's Pizza",price:91,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"20-25 mins",ad:!0},{id:6,name:"Spice N Ice",price:130,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"20-25 mins",discount:"60% OFF"},{id:7,name:"China Nation",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"15-20 mins",offer:"BUY1 GET1"}]})()},G=[{name:"FEAST MODE",subtitle:"65% OFF Every 30 Mins",icon:"",color:"bg-blue-900/50"},{name:"FLASH DEALS",subtitle:"Dishes From 49",icon:"",color:"bg-blue-900/50"},{name:"DISCOUNTS",subtitle:"Up To 60% OFF",icon:"%",color:"bg-blue-900/50"},{name:"Bolt",subtitle:"Food In 10 Mins",icon:"",color:"bg-blue-900/50"}],ve=be.fast_delivery.filter(_e=>_e.name.toLowerCase().includes(l.toLowerCase())),re=_e=>{x(qe=>qe.find(Ue=>Ue.id===_e.id)?qe.map(Ue=>Ue.id===_e.id?{...Ue,quantity:Ue.quantity+1}:Ue):[...qe,{..._e,quantity:1}]),Y.success(`${_e.name} added to cart!`)},ae=(_e,qe)=>{x(Qe=>qe<=0?Qe.filter(Ue=>Ue.id!==_e):Qe.map(Ue=>Ue.id===_e?{...Ue,quantity:qe}:Ue))},ce=()=>S.reduce((_e,qe)=>_e+qe.quantity,0),le=()=>S.reduce((_e,qe)=>_e+qe.price*qe.quantity,0),Ie=()=>{Y.success("Redirecting to orders...")},je=_e=>{j(_e)},et=()=>{i("wine"),B?t("/drinks"):F(!0)},ct=_e=>{console.log("handleFoodClick called with category:",_e),i("food"),t("/food",{state:{category:_e}})},vt=()=>{i("essentials"),t("/daily-essential")},rt=async _e=>{const{address:qe,paymentMethod:Qe,tip:Ue,finalTotal:cr}=_e;if(!D){Y.error("Please log in to place an order."),E(!0);return}Y.loading("Getting your location for accurate delivery tracking...");let Hn=null;try{if(navigator.geolocation){const Rt=await new Promise((_r,Or)=>{navigator.geolocation.getCurrentPosition(_r,Or,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});Hn={lat:Rt.coords.latitude,lng:Rt.coords.longitude},Y.dismiss(),Y.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(Rt){console.error("Error getting location:",Rt),Y.dismiss(),Rt.code===1?Y.error("Location access denied. Please enable location permissions for accurate tracking."):Rt.code===2?Y.error("Location unavailable. Please check your GPS settings."):Rt.code===3?Y.error("Location request timed out. Please try again."):Y.error("Could not get your location. Using approximate location."),Hn={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}const Xt=25,Wn=Math.random()*10+5,Rn=Math.round(Xt+Wn),Gn=new Date(Date.now()+Rn*60*1e3),Mn={userId:D.uid,items:S,totalPrice:cr,tip:Ue,deliveryAddress:{...qe},paymentMethod:Qe,status:"pending",createdAt:new Date,estimatedDeliveryTime:Gn,estimatedMinutes:Rn,userLocation:Hn};try{await ou(async()=>{const Rt=await Ei(Vn(ht,"orders"),Mn);Y.success("Order placed successfully!"),x([]),ee(!1),t(`/current-order/${Rt.id}`)})}catch(Rt){console.error("Error placing order:",Rt),Rt.code==="permission-denied"?Y.error("Access denied. Please check your permissions."):Rt.code==="unavailable"?Y.error("Firebase service is temporarily unavailable. Please try again later."):Y.error("Failed to place order. Please check your connection and try again.")}},It=()=>{pe(!0)},mt=_e=>{switch(_e.category){case"food":t("/food");break;case"drinks":t("/drinks");break;case"daily_essential":t("/daily-essential");break}Y.success(`Selected ${_e.name}`)};v.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async Ue=>{const{latitude:cr,longitude:Hn}=Ue.coords;try{const Wn=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${cr}&lon=${Hn}`)).json();Wn&&Wn.display_name?w(Wn.display_name):w("Location not found")}catch(Xt){console.error("Error fetching location:",Xt),w("Could not fetch location")}},()=>{w("Location access denied")}):w("Geolocation not supported"),nA();const _e=localStorage.getItem("quicklymart-cart");_e&&x(JSON.parse(_e)),localStorage.getItem("quicklymart-age-verified")&&A(!0);const Qe=jg(St,Ue=>{$(Ue),P(!!Ue)});return()=>Qe()},[]),v.useEffect(()=>{localStorage.setItem("quicklymart-cart",JSON.stringify(S))},[S]),v.useEffect(()=>{(async()=>{H(await Ac("Food")),ne(await Ac("Drinks")),Z(await Ac("Daily Essential"))})()},[]);const qt=async()=>{try{await f$(St),Y.success("Signed out successfully")}catch{Y.error("Failed to sign out")}},lr=()=>{if(!D){Y.error("You must be logged in to place an order."),E(!0);return}if(S.length===0){Y.error("Your cart is empty.");return}R(!1),ee(!0)};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx(H_,{position:"top-right"}),o.jsx("header",{className:`hidden md:block sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("img",{src:"/favicon.ico",alt:"QuicklyMart Logo",className:"w-8 h-8"}),o.jsx("h1",{className:"text-2xl font-bold text-orange-500",children:"QuicklyMart"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:"For Business"}),o.jsx(W,{variant:"ghost",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:"Help"}),N?o.jsxs(cu,{children:[o.jsx(uu,{asChild:!0,children:o.jsxs(W,{variant:"outline",className:`flex items-center space-x-2 ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(Ao,{className:"w-5 h-5"}),o.jsx("span",{children:(D==null?void 0:D.displayName)||((nn=D==null?void 0:D.email)==null?void 0:nn.split("@")[0])||"My Account"})]})}),o.jsxs(yl,{className:`w-56 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(vl,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:`text-sm font-medium leading-none ${e?"text-white":"text-gray-900"}`,children:(D==null?void 0:D.displayName)||(D==null?void 0:D.email)||"User"}),o.jsx("p",{className:`text-xs leading-none ${e?"text-gray-400":"text-gray-500"}`,children:D==null?void 0:D.email})]})}),o.jsx(Qi,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs(Bt,{onClick:()=>t("/profile"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(Ao,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs(Bt,{onClick:()=>t("/past-orders"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(li,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Past Orders"})]}),o.jsxs(Bt,{onClick:()=>t("/settings"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(j0,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]}),o.jsx(Qi,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs(Bt,{onClick:qt,className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(kN,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]}):o.jsx(W,{className:"bg-orange-500 hover:bg-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:()=>E(!0),children:"Sign In"}),o.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:e?o.jsx(An,{className:"w-5 h-5"}):o.jsx(bn,{className:"w-5 h-5"})})]})]})})})}),o.jsx("header",{className:`md:hidden sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs(W,{variant:"ghost",className:"flex items-center space-x-2 text-left h-auto p-1 rounded-md max-w-[200px] sm:max-w-[250px]",onClick:()=>t("/address"),children:[o.jsx(gr,{className:"w-7 h-7 flex-shrink-0 text-orange-500 text-bold"}),o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx("h3",{className:`font-bold text-lg truncate ${e?"text-white":"text-black"}`,children:ge()})})]})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs(W,{variant:"ghost",size:"icon",className:`${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,onClick:()=>R(!0),children:[o.jsx(Nl,{className:"w-5 h-5"}),ce()>0&&o.jsx(an,{className:"absolute -top-1 -right-1 h-5 w-5 justify-center p-1",variant:"destructive",children:ce()})]}),N?o.jsxs(cu,{children:[o.jsx(uu,{asChild:!0,children:o.jsx(W,{variant:"ghost",size:"icon",className:`${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,children:o.jsx(Ao,{className:"w-5 h-5"})})}),o.jsxs(yl,{className:`w-56 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(vl,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:`text-sm font-medium leading-none ${e?"text-white":"text-gray-900"}`,children:(D==null?void 0:D.displayName)||(D==null?void 0:D.email)||"User"}),o.jsx("p",{className:`text-xs leading-none ${e?"text-gray-400":"text-gray-500"}`,children:D==null?void 0:D.email})]})}),o.jsx(Qi,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs(Bt,{onClick:()=>t("/profile"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(Ao,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs(Bt,{onClick:()=>t("/past-orders"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(li,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Past Orders"})]}),o.jsxs(Bt,{onClick:()=>t("/settings"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(j0,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]}),o.jsx(Qi,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs(Bt,{onClick:qt,className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(kN,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]}):o.jsx(W,{variant:"ghost",size:"icon",className:`${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,onClick:()=>E(!0),children:o.jsx(Ao,{className:"w-5 h-5"})})]})]})})}),o.jsxs("main",{className:"pb-20 md:pb-0",children:[o.jsx("div",{className:`hidden md:block py-16 ${e?"bg-gray-800":"bg-gray-100"}`,children:o.jsxs("div",{className:"container mx-auto text-center",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4 text-orange-500",children:"Your daily essentials, delivered in minutes."}),r&&o.jsx("div",{className:"mb-4",children:o.jsxs(an,{className:"bg-orange-100 text-orange-700 px-4 py-2 text-sm",children:[" Delivering to: ",r.city,", ",r.state]})}),o.jsx("p",{className:`text-lg mb-8 ${e?"text-gray-300":"text-gray-600"}`,children:"Order food, groceries, and more from the best places near you."}),o.jsxs("div",{className:"flex gap-3 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(gr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(Ze,{placeholder:"Enter your delivery location",value:ge(),readOnly:!0,onClick:()=>t("/address"),className:`pl-12 pr-4 h-14 text-lg ${e?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}`})]}),o.jsxs(W,{size:"lg",className:"h-14 bg-orange-500 hover:bg-orange-600 text-white font-bold",onClick:It,children:[o.jsx(Us,{className:"w-5 h-5 mr-2"}),"Search"]})]})]})}),o.jsxs("div",{className:"md:hidden",children:[o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex gap-3",children:o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Us,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(Ze,{placeholder:"Search for 'Gift Hamp...'",value:l,onChange:_e=>c(_e.target.value),className:`pl-12 pr-12 h-14 rounded-xl text-lg ${e?"bg-gray-700 text-white border-gray-600 placeholder-gray-400":"bg-white/10 backdrop-blur-md text-white placeholder-gray-400"}`,onFocus:It}),o.jsx(W,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-quicklymart-orange-500",onClick:()=>Y.success("Voice search activated!"),children:o.jsx(Z5,{className:"w-5 h-5"})})]})})}),o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Foodie Weekend"}),o.jsx("p",{className:"text-lg mb-4",children:"Upto 60% OFF on delights!"}),o.jsx(W,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:Ie,children:"ORDER NOW"})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=150",alt:"Food",className:"w-20 h-20 rounded-full object-cover"}),o.jsx("img",{src:"https://images.unsplash.com/photo-1551024601-bec78aea704b?w=150",alt:"Dessert",className:"w-20 h-20 rounded-full object-cover"})]})]})})})]}),o.jsx("div",{className:"hidden md:block container mx-auto py-12",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs(Ae,{className:`overflow-hidden cursor-pointer group ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,onClick:()=>ct("all"),children:[o.jsx(yt,{className:"p-0",children:o.jsx("img",{src:"https://plus.unsplash.com/premium_photo-1673108852141-e8c3c22a4a22?w=400",alt:"Food Delivery",className:"w-full h-56 object-cover"})}),o.jsxs(Re,{className:"p-6",children:[o.jsx("h3",{className:`text-2xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Food Delivery"}),o.jsx("p",{className:`mb-4 ${e?"text-gray-300":"text-gray-600"}`,children:"From the best local restaurants"}),o.jsx(W,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Order Now"})]})]}),o.jsxs(Ae,{className:`overflow-hidden cursor-pointer group ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,onClick:vt,children:[o.jsx(yt,{className:"p-0",children:o.jsx("img",{src:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=500",alt:"Groceries",className:"w-full h-56 object-cover"})}),o.jsxs(Re,{className:"p-6",children:[o.jsx("h3",{className:`text-2xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Instamart"}),o.jsx("p",{className:`mb-4 ${e?"text-gray-300":"text-gray-600"}`,children:"Instant Grocery Delivery"}),o.jsx(W,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Shop Now"})]})]}),o.jsxs(Ae,{className:`overflow-hidden cursor-pointer group ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,onClick:et,children:[o.jsx(yt,{className:"p-0",children:o.jsx("img",{src:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=500",alt:"Dineout",className:"w-full h-56 object-cover"})}),o.jsxs(Re,{className:"p-6",children:[o.jsx("h3",{className:`text-2xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Dineout & Drinks"}),o.jsx("p",{className:`mb-4 ${e?"text-gray-300":"text-gray-600"}`,children:"Eat out or get drinks delivered"}),o.jsx(W,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Explore Now"})]})]})]})}),o.jsxs("div",{className:"hidden md:block container mx-auto py-12",children:[o.jsx("h2",{className:`text-3xl font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:"What's on your mind?"}),o.jsxs(Px,{opts:{align:"start",loop:!0},children:[o.jsx(Ix,{children:dZ.map((_e,qe)=>o.jsx(kx,{className:"basis-auto",children:o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>ct(_e.name),children:[o.jsx("img",{src:_e.image,alt:_e.name,className:"w-36 h-36 object-cover rounded-full mx-auto"}),o.jsx("p",{className:`mt-2 font-semibold ${e?"text-white":"text-gray-900"}`,children:_e.name})]})},qe))}),o.jsx(jx,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"}),o.jsx(Ax,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"})]})]}),o.jsxs("div",{className:"hidden md:block container mx-auto py-12",children:[o.jsx("h2",{className:`text-3xl font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:"Shop groceries on Instamart"}),o.jsxs(Px,{opts:{align:"start",loop:!0},children:[o.jsx(Ix,{children:hZ.map((_e,qe)=>o.jsx(kx,{className:"basis-auto",children:o.jsx(Ae,{className:`overflow-hidden cursor-pointer group ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,onClick:vt,children:o.jsxs(Re,{className:"p-0",children:[o.jsx("img",{src:_e.image,alt:_e.name,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"}),o.jsx("div",{className:"p-4",children:o.jsx("p",{className:`font-semibold text-center ${e?"text-white":"text-gray-900"}`,children:_e.name})})]})})},qe))}),o.jsx(jx,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"}),o.jsx(Ax,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"})]})]}),o.jsxs("div",{className:"md:hidden",children:[o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:G.map((_e,qe)=>o.jsxs("button",{className:`${_e.color} backdrop-blur-md rounded-2xl p-4 text-white relative overflow-hidden hover:opacity-90 transition-opacity`,onClick:()=>Y.success(`${_e.name} activated!`),children:[o.jsx("div",{className:"text-2xl mb-2",children:_e.icon}),o.jsx("h3",{className:"font-bold text-sm mb-1",children:_e.name}),o.jsx("p",{className:"text-xs opacity-90",children:_e.subtitle})]},qe))})}),o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"bg-gradient-to-r from-red-600 to-purple-700 rounded-2xl p-6 text-white relative overflow-hidden",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("h3",{className:"text-xl font-bold",children:"Bolt | Dinner in 10 mins"})]}),o.jsx("p",{className:"mb-4",children:"Fresh, hot & crisp delights for you."}),o.jsx(W,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:Ie,children:"ORDER NOW"})]}),o.jsx("img",{src:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=200",alt:"Food Bowl",className:"w-32 h-32 rounded-full object-cover"})]})})}),o.jsxs("div",{className:"container mx-auto px-4 mb-20",children:[o.jsx("h2",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Fast delivery"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:ve.map(_e=>o.jsxs(Ae,{className:`relative overflow-hidden rounded-2xl cursor-pointer hover:shadow-lg transition-shadow border ${e?"bg-gray-800 border-gray-700 text-white":"bg-white/5 backdrop-blur-md text-white border-gray-700"}`,onClick:()=>je(_e),children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:_e.image,alt:_e.name,className:"w-full h-48 object-cover"}),o.jsx(W,{variant:"ghost",size:"icon",className:"absolute top-3 right-3 bg-black/50 hover:bg-black/70 rounded-full p-2",onClick:qe=>{qe.stopPropagation(),Y.success("Added to wishlist!")},children:o.jsx(gu,{className:"w-4 h-4"})}),_e.discount&&o.jsx("div",{className:"absolute top-3 left-3 bg-quicklymart-orange-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:_e.discount}),_e.offer&&o.jsx("div",{className:"absolute bottom-3 right-3 bg-green-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:_e.offer}),_e.ad&&o.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/80 text-white px-3 py-1 rounded text-sm",children:["ITEMS AT ",_e.price]})]}),o.jsxs(Re,{className:"p-4",children:[o.jsx("h3",{className:"font-bold text-lg mb-1",children:_e.name}),o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(xa,{className:"w-4 h-4 fill-green-500 text-green-500"}),o.jsx("span",{className:"font-medium text-sm text-gray-300",children:_e.rating})]}),o.jsxs("span",{className:"text-gray-400 text-sm",children:[" ",_e.deliveryTime]})]}),o.jsx("p",{className:"text-gray-300 text-sm",children:_e.category})]})]},_e.id))})]})]})]}),o.jsx("div",{className:`md:hidden fixed bottom-0 left-0 right-0 backdrop-blur-md border-t z-50 ${e?"bg-gray-900/80 border-gray-700":"bg-white/80 border-gray-200"}`,children:o.jsxs("div",{className:`grid ${N?"grid-cols-4":"grid-cols-3"} h-16`,children:[o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${s==="food"?"text-quicklymart-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:()=>ct("all"),children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("span",{className:"text-xs font-medium",children:"Food"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${s==="essentials"?"text-quicklymart-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:vt,children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("span",{className:"text-xs font-medium",children:"Daily Essential"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${s==="wine"?"text-quicklymart-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:et,children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("span",{className:"text-xs font-medium",children:"Wine Stores"})]}),N&&o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${s==="reorder"?"text-quicklymart-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:()=>t("/past-orders"),children:[o.jsx(W5,{className:"w-6 h-6"}),o.jsx("span",{className:"text-xs font-medium",children:"Reorder"})]})]})}),o.jsx(xH,{isOpen:T,onClose:()=>E(!1),onLoginSuccess:()=>P(!0)}),o.jsx(JA,{isOpen:V,onVerified:()=>{A(!0),localStorage.setItem("quicklymart-age-verified","true"),F(!1),t("/drinks"),Y.success("Age verified! Welcome to wine stores.")},onClose:()=>F(!1)}),o.jsx(cy,{product:k,onClose:()=>j(null),onAddToCart:re}),o.jsx(PW,{isOpen:O,onClose:()=>R(!1),cart:S,updateQuantity:ae,totalPrice:le(),onProceedToCheckout:lr}),o.jsx(aG,{isOpen:te,onClose:()=>pe(!1),onProductSelect:mt}),o.jsx(vy,{isOpen:Q,onClose:()=>ee(!1),onPlaceOrder:rt,totalPrice:le(),user:D}),o.jsxs("footer",{className:`${e?"bg-gray-900 text-white":"bg-gray-100 text-gray-900"} mt-20`,children:[o.jsx("div",{className:"container mx-auto px-4 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("img",{src:"/favicon.ico",alt:"QuicklyMart Logo",className:"w-8 h-8"}),o.jsx("h3",{className:"text-2xl font-bold text-quicklymart-orange-500",children:"QuicklyMart"})]}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Your trusted partner for quick food delivery, grocery shopping, and daily essentials."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-quicklymart-orange-500",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-quicklymart-orange-500":"text-gray-600 hover:text-quicklymart-orange-500"} p-0 h-auto justify-start`,onClick:()=>ct("all"),children:"Food Delivery"})}),o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-quicklymart-orange-500":"text-gray-600 hover:text-quicklymart-orange-500"} p-0 h-auto justify-start`,onClick:vt,children:"Grocery Delivery"})}),o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-quicklymart-orange-500":"text-gray-600 hover:text-quicklymart-orange-500"} p-0 h-auto justify-start`,onClick:et,children:"Wine & Drinks"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-quicklymart-orange-500",children:"Support"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-quicklymart-orange-500":"text-gray-600 hover:text-quicklymart-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/help-center"),children:"Help Center"})}),o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-quicklymart-orange-500":"text-gray-600 hover:text-quicklymart-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/contact-us"),children:"Contact Us"})}),o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-quicklymart-orange-500":"text-gray-600 hover:text-quicklymart-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/track-order"),children:"Track Order"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-quicklymart-orange-500",children:"Company"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-quicklymart-orange-500":"text-gray-600 hover:text-quicklymart-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/about-us"),children:"About Us"})}),o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-quicklymart-orange-500":"text-gray-600 hover:text-quicklymart-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/careers"),children:"Careers"})}),o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-quicklymart-orange-500":"text-gray-600 hover:text-quicklymart-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/privacy-policy"),children:"Privacy Policy"})})]})]})]})}),o.jsx("div",{className:`border-t ${e?"border-gray-800":"border-gray-300"}`,children:o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:" 2024 QuicklyMart. All rights reserved."}),o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:""}),o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Made with  in India"})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsx(W,{variant:"ghost",size:"sm",className:`${e?"text-gray-400 hover:text-quicklymart-orange-500":"text-gray-600 hover:text-quicklymart-orange-500"}`,onClick:()=>Y.info("Download our mobile app!"),children:"Download App"}),o.jsx(W,{variant:"ghost",size:"sm",className:`${e?"text-gray-400 hover:text-quicklymart-orange-500":"text-gray-600 hover:text-quicklymart-orange-500"}`,onClick:()=>Y.info("Newsletter subscription coming soon!"),children:"Newsletter"})]})]})})})]})]})},mZ=()=>{var ve;const t=qn(),e=cw(),{isDarkMode:n,toggleDarkMode:r}=mn(),[s,i]=v.useState(""),[l,c]=v.useState("All"),[d,h]=v.useState(null),[p,g]=v.useState([]),[y,w]=v.useState([]),[S,x]=v.useState([]),[T,E]=v.useState(!0),[N,P]=v.useState(!0),[D,$]=v.useState(!1),[B,A]=v.useState(null),[k,j]=v.useState(!1),[O,R]=v.useState(!1),[V,F]=v.useState("relevance"),[te,pe]=v.useState(!1),[Q,ee]=v.useState("all"),U=v.useMemo(()=>{let re=[...y];switch(l!=="All"&&(re=re.filter(ae=>ae.category===l)),s&&(re=re.filter(ae=>ae.name.toLowerCase().includes(s.toLowerCase()))),Q==="veg"?re=re.filter(ae=>ae.isVeg===!0):Q==="non-veg"&&(re=re.filter(ae=>ae.isVeg===!1)),V){case"price-asc":re.sort((ae,ce)=>ae.price-ce.price);break;case"price-desc":re.sort((ae,ce)=>ce.price-ae.price);break;case"rating":re.sort((ae,ce)=>(ce.rating||0)-(ae.rating||0));break}return re},[y,l,s,Q,V]),H=p.reduce((re,ae)=>re+ae.quantity,0),K=p.reduce((re,ae)=>re+ae.price*ae.quantity,0),ne=re=>{const ae=p.find(ce=>ce.id===re.id);g(ae?p.map(ce=>ce.id===re.id?{...ce,quantity:ce.quantity+1}:ce):[...p,{...re,quantity:1}]),Y.success(`${re.name} added to cart!`)},ie=re=>{g(p.filter(ae=>ae.id!==re)),Y.success("Item removed from cart!")},Z=(re,ae)=>{if(ae<=0){ie(re);return}g(p.map(ce=>ce.id===re?{...ce,quantity:ae}:ce))},ue=()=>{g([]),Y.success("Cart cleared!")},ge=async()=>{P(!0);try{const re=await ub(Ge.FOOD);x(re)}catch(re){console.error("Error loading food categories:",re),Y.error("Failed to load categories")}finally{P(!1)}},be=async()=>{E(!0);try{const re=await Ac(Ge.FOOD);w(re)}catch(re){console.error("Error loading food products:",re),Y.error("Failed to load products")}finally{E(!1)}};v.useEffect(()=>{ge(),be();const re=localStorage.getItem("quicklymart-cart");re&&g(JSON.parse(re))},[]),v.useEffect(()=>{var re;(re=e.state)!=null&&re.category&&S.some(ce=>ce.name===e.state.category)&&c(e.state.category)},[(ve=e.state)==null?void 0:ve.category,S]),v.useEffect(()=>{localStorage.setItem("quicklymart-cart",JSON.stringify(p))},[p]),v.useEffect(()=>{const re=jg(St,ae=>{A(ae)});return()=>re()},[]);const G=async re=>{const{address:ae,paymentMethod:ce,tip:le,finalTotal:Ie}=re;if(!B){Y.error("Please log in to place an order.");return}Y.loading("Getting your location for accurate delivery tracking...");let je=null;try{if(navigator.geolocation){const mt=await new Promise((qt,lr)=>{navigator.geolocation.getCurrentPosition(qt,lr,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});je={lat:mt.coords.latitude,lng:mt.coords.longitude},Y.dismiss(),Y.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(mt){console.error("Error getting location:",mt),Y.dismiss(),mt.code===1?Y.error("Location access denied. Please enable location permissions for accurate tracking."):mt.code===2?Y.error("Location unavailable. Please check your GPS settings."):mt.code===3?Y.error("Location request timed out. Please try again."):Y.error("Could not get your location. Using approximate location."),je={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}const et=25,ct=Math.random()*10+5,vt=Math.round(et+ct),rt=new Date(Date.now()+vt*60*1e3),It={userId:B.uid,items:p,totalPrice:Ie,tip:le,deliveryAddress:{...ae},paymentMethod:ce,status:"pending",createdAt:new Date,estimatedDeliveryTime:rt,estimatedMinutes:vt,userLocation:je};try{await ou(async()=>{const mt=await Ei(Vn(ht,"orders"),It);Y.success("Order placed successfully!"),g([]),j(!1),t(`/current-order/${mt.id}`)})}catch(mt){console.error("Error placing order:",mt),mt.code==="permission-denied"?Y.error("Access denied. Please check your permissions."):mt.code==="unavailable"?Y.error("Firebase service is temporarily unavailable. Please try again later."):Y.error("Failed to place order. Please check your connection and try again.")}};return o.jsxs("div",{className:`min-h-screen ${n?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx(H_,{position:"top-right"}),o.jsx("header",{className:`sticky top-0 z-40 ${n?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:n?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${n?"text-white":"text-gray-900"}`,children:"Offers"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>pe(!te),className:n?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:te?o.jsx(El,{className:"w-5 h-5"}):o.jsx(Us,{className:"w-5 h-5"})}),o.jsx(W,{variant:"ghost",size:"icon",onClick:r,className:n?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:n?o.jsx(An,{className:"w-5 h-5"}):o.jsx(bn,{className:"w-5 h-5"})})]})]})})}),te&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx(Ze,{placeholder:"Search for food...",value:s,onChange:re=>i(re.target.value),className:`w-full ${n?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-2 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[o.jsxs(W,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:[o.jsx(V_,{className:"w-4 h-4 mr-2"})," Filter"]}),o.jsxs(cu,{children:[o.jsx(uu,{asChild:!0,children:o.jsx(W,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(yl,{children:[o.jsx(vl,{children:"Sort Options"}),o.jsx(Qi,{}),o.jsx(Bt,{onClick:()=>F("relevance"),children:"Relevance"}),o.jsx(Bt,{onClick:()=>F("price-asc"),children:"Price: Low to High"}),o.jsx(Bt,{onClick:()=>F("price-desc"),children:"Price: High to Low"}),o.jsx(Bt,{onClick:()=>F("rating"),children:"Rating"})]})]}),o.jsxs(cu,{children:[o.jsx(uu,{asChild:!0,children:o.jsx(W,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Veg/Non-Veg"})}),o.jsxs(yl,{children:[o.jsx(vl,{children:"Dietary"}),o.jsx(Qi,{}),o.jsx(Bt,{onClick:()=>ee("all"),children:"All"}),o.jsx(Bt,{onClick:()=>ee("veg"),children:"Veg"}),o.jsx(Bt,{onClick:()=>ee("non-veg"),children:"Non-Veg"})]})]}),o.jsx(W,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Offers"})]})})}),o.jsx("div",{className:`${n?"bg-gray-800":"bg-gray-50"} py-3`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:S.map(re=>o.jsx("button",{onClick:()=>c(re.name),className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors ${l===re.name?"bg-orange-500 text-white":n?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-white text-gray-700 hover:bg-gray-100"}`,children:re.name},re.id))})})}),o.jsx("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:U.map(re=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:re.image,alt:re.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(gu,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",re.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${n?"text-white":"text-gray-900"}`,children:re.name}),o.jsx(W,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(F_,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(xa,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[re.rating," (500+)  20-25 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:re.description}),o.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar  2.2 km"}),o.jsx("div",{className:"mt-2",children:o.jsx(W,{onClick:()=>ne(re),size:"sm",variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600",children:"Add to cart"})})]})]},re.id))}),p.length>0&&o.jsx("div",{className:`fixed bottom-0 left-0 right-0 z-50 p-4 ${n?"bg-gray-800 border-gray-700":"bg-white"} border-t`,children:o.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-3",children:o.jsx("button",{onClick:()=>R(!0),className:"text-sm font-semibold text-orange-500",children:"View Cart"})}),o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs(W,{className:"bg-green-500 hover:bg-green-600 text-white rounded-lg px-6",onClick:()=>j(!0),children:[H," items | ",K.toFixed(2)," Checkout"]})})]})}),o.jsx(uy,{open:O,onOpenChange:R,children:o.jsxs(df,{className:`w-96 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(hf,{children:o.jsx(ff,{className:n?"text-white":"text-gray-900",children:"Your Cart"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:p.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Nl,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:`text-lg font-medium ${n?"text-gray-300":"text-gray-600"}`,children:"Your cart is empty"}),o.jsx("p",{className:`text-sm ${n?"text-gray-500":"text-gray-400"}`,children:"Add some delicious food to get started!"})]}):o.jsx("div",{className:"space-y-4",children:p.map(re=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${n?"bg-gray-700":"bg-gray-50"}`,children:[o.jsx("img",{src:re.image,alt:re.name,className:"w-16 h-16 object-cover rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${n?"text-white":"text-gray-900"}`,children:re.name}),o.jsxs("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:["",re.price]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(W,{variant:"outline",size:"sm",onClick:()=>Z(re.id,Math.max(0,re.quantity-1)),className:n?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(z_,{className:"w-3 h-3"})}),o.jsx("span",{className:`w-8 text-center ${n?"text-white":"text-gray-900"}`,children:re.quantity}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>Z(re.id,re.quantity+1),className:n?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(vg,{className:"w-3 h-3"})})]})]},re.id))})}),p.length>0&&o.jsxs("div",{className:`border-t ${n?"border-gray-700":"border-gray-200"} pt-4`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:`font-medium ${n?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["",K.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>{if(!B){Y.error("You must be logged in to place an order.");return}j(!0)},children:"Proceed to Checkout"}),o.jsx(W,{variant:"outline",className:`w-full ${n?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,onClick:ue,children:"Clear Cart"})]})]})]})}),d&&o.jsx(cy,{product:d,onClose:()=>h(null),onAddToCart:ne}),k&&o.jsx(vy,{isOpen:k,onClose:()=>j(!1),onPlaceOrder:G,totalPrice:K,user:B})]})},pZ=()=>{const t=qn(),{isDarkMode:e,toggleDarkMode:n}=mn(),[r,s]=v.useState(""),[i,l]=v.useState("All"),[c,d]=v.useState(null),[h,p]=v.useState([]),[g,y]=v.useState([]),[w,S]=v.useState([]),[x,T]=v.useState(!0),[E,N]=v.useState(!0),[P,D]=v.useState(!1),[$,B]=v.useState(null),[A,k]=v.useState(!1),[j,O]=v.useState("relevance"),[R,V]=v.useState(!1),F=v.useMemo(()=>{let Z=[...g];switch(i!=="All"&&(Z=Z.filter(ue=>ue.category===i)),r&&(Z=Z.filter(ue=>ue.name.toLowerCase().includes(r.toLowerCase()))),j){case"price-asc":Z.sort((ue,ge)=>ue.price-ge.price);break;case"price-desc":Z.sort((ue,ge)=>ge.price-ue.price);break;case"rating":Z.sort((ue,ge)=>(ge.rating||0)-(ue.rating||0));break}return Z},[g,i,r,j]),te=h.reduce((Z,ue)=>Z+ue.quantity,0),pe=h.reduce((Z,ue)=>Z+ue.price*ue.quantity,0),Q=Z=>{const ue=h.find(ge=>ge.id===Z.id);p(ue?h.map(ge=>ge.id===Z.id?{...ge,quantity:ge.quantity+1}:ge):[...h,{...Z,quantity:1}]),Y.success(`${Z.name} added to cart!`)},ee=Z=>{p(h.filter(ue=>ue.id!==Z)),Y.success("Item removed from cart!")},U=(Z,ue)=>{if(ue<=0){ee(Z);return}p(h.map(ge=>ge.id===Z?{...ge,quantity:ue}:ge))},H=()=>{p([]),Y.success("Cart cleared!")},K=async()=>{N(!0);try{const Z=await ub(Ge.DAILY_ESSENTIAL);S(Z)}catch(Z){console.error("Error loading daily essential categories:",Z),Y.error("Failed to load categories")}finally{N(!1)}},ne=async()=>{T(!0);try{const Z=await Ac(Ge.DAILY_ESSENTIAL);y(Z)}catch(Z){console.error("Error loading daily essential products:",Z),Y.error("Failed to load products")}finally{T(!1)}};v.useEffect(()=>{K(),ne();const Z=localStorage.getItem("quicklymart-cart");Z&&p(JSON.parse(Z))},[]),v.useEffect(()=>{localStorage.setItem("quicklymart-cart",JSON.stringify(h))},[h]),v.useEffect(()=>{const Z=jg(St,ue=>{B(ue)});return()=>Z()},[]);const ie=async Z=>{const{address:ue,paymentMethod:ge,tip:be,finalTotal:G}=Z;if(!$){Y.error("Please log in to place an order.");return}Y.loading("Getting your location for accurate delivery tracking...");let ve=null;try{if(navigator.geolocation){const je=await new Promise((et,ct)=>{navigator.geolocation.getCurrentPosition(et,ct,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});ve={lat:je.coords.latitude,lng:je.coords.longitude},Y.dismiss(),Y.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(je){console.error("Error getting location:",je),Y.dismiss(),je.code===1?Y.error("Location access denied. Please enable location permissions for accurate tracking."):je.code===2?Y.error("Location unavailable. Please check your GPS settings."):je.code===3?Y.error("Location request timed out. Please try again."):Y.error("Could not get your location. Using approximate location."),ve={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}const re=25,ae=Math.random()*10+5,ce=Math.round(re+ae),le=new Date(Date.now()+ce*60*1e3),Ie={userId:$.uid,items:h,totalPrice:G,tip:be,deliveryAddress:{...ue},paymentMethod:ge,status:"pending",createdAt:new Date,estimatedDeliveryTime:le,estimatedMinutes:ce,userLocation:ve};try{await ou(async()=>{const je=await Ei(Vn(ht,"orders"),Ie);Y.success("Order placed successfully!"),p([]),k(!1),t(`/current-order/${je.id}`)})}catch(je){console.error("Error placing order:",je),je.code==="permission-denied"?Y.error("Access denied. Please check your permissions."):je.code==="unavailable"?Y.error("Firebase service is temporarily unavailable. Please try again later."):Y.error("Failed to place order. Please check your connection and try again.")}};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx(q_,{position:"top-right"}),o.jsx("header",{className:`sticky top-0 z-40 ${e?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Daily Essentials"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(W,{variant:"ghost",size:"icon",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Us,{className:"w-5 h-5"})}),o.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:e?o.jsx(An,{className:"w-5 h-5"}):o.jsx(bn,{className:"w-5 h-5"})})]})]})})}),R&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx(Ze,{placeholder:"Search for essentials...",value:r,onChange:Z=>s(Z.target.value),className:`w-full ${e?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-2 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[o.jsxs(W,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:[o.jsx(V_,{className:"w-4 h-4 mr-2"})," Filter"]}),o.jsxs(cu,{children:[o.jsx(uu,{asChild:!0,children:o.jsx(W,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(yl,{children:[o.jsx(vl,{children:"Sort Options"}),o.jsx(Qi,{}),o.jsx(Bt,{onClick:()=>O("relevance"),children:"Relevance"}),o.jsx(Bt,{onClick:()=>O("price-asc"),children:"Price: Low to High"}),o.jsx(Bt,{onClick:()=>O("price-desc"),children:"Price: High to Low"}),o.jsx(Bt,{onClick:()=>O("rating"),children:"Rating"})]})]}),o.jsx(W,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Offers"})]})})}),o.jsx("div",{className:`${e?"bg-gray-800":"bg-gray-50"} py-3`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:w.map(Z=>o.jsx("button",{onClick:()=>l(Z.name),className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors ${i===Z.name?"bg-orange-500 text-white":e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-white text-gray-700 hover:bg-gray-100"}`,children:Z.name},Z.id))})})}),o.jsx("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:F.map(Z=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:Z.image,alt:Z.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(gu,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",Z.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${e?"text-white":"text-gray-900"}`,children:Z.name}),o.jsx(W,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(F_,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(xa,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[Z.rating," (100+)  15-20 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:Z.description}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:"Local Store  1.5 km"}),o.jsx("div",{className:"mt-2",children:o.jsx(W,{onClick:()=>Q(Z),size:"sm",variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600",children:"Add to cart"})})]})]},Z.id))}),h.length>0&&o.jsx("div",{className:`fixed bottom-0 left-0 right-0 z-50 p-4 ${e?"bg-gray-800 border-gray-700":"bg-white"} border-t`,children:o.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-3",children:o.jsx("button",{onClick:()=>D(!0),className:"text-sm font-semibold text-orange-500",children:"View Cart"})}),o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs(W,{className:"bg-green-500 hover:bg-green-600 text-white rounded-lg px-6",onClick:()=>k(!0),children:[te," items | ",pe.toFixed(2)," Checkout"]})})]})}),o.jsx(uy,{open:P,onOpenChange:D,children:o.jsxs(df,{className:`w-96 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(hf,{children:o.jsx(ff,{className:e?"text-white":"text-gray-900",children:"Your Cart"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:h.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Nl,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:`text-lg font-medium ${e?"text-gray-300":"text-gray-600"}`,children:"Your cart is empty"}),o.jsx("p",{className:`text-sm ${e?"text-gray-500":"text-gray-400"}`,children:"Add some daily essentials to get started!"})]}):o.jsx("div",{className:"space-y-4",children:h.map(Z=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${e?"bg-gray-700":"bg-gray-50"}`,children:[o.jsx("img",{src:Z.image,alt:Z.name,className:"w-16 h-16 object-cover rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:Z.name}),o.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:["",Z.price]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(W,{variant:"outline",size:"sm",onClick:()=>U(Z.id,Math.max(0,Z.quantity-1)),className:e?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(z_,{className:"w-3 h-3"})}),o.jsx("span",{className:`w-8 text-center ${e?"text-white":"text-gray-900"}`,children:Z.quantity}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>U(Z.id,Z.quantity+1),className:e?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(vg,{className:"w-3 h-3"})})]})]},Z.id))})}),h.length>0&&o.jsxs("div",{className:`border-t ${e?"border-gray-700":"border-gray-200"} pt-4`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["",pe.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>{if(!$){Y.error("You must be logged in to place an order.");return}k(!0)},children:"Proceed to Checkout"}),o.jsx(W,{variant:"outline",className:`w-full ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,onClick:H,children:"Clear Cart"})]})]})]})}),c&&o.jsx(cy,{product:c,onClose:()=>d(null),onAddToCart:Q}),A&&o.jsx(vy,{isOpen:A,onClose:()=>k(!1),onPlaceOrder:ie,totalPrice:pe,user:$})]})},gZ=()=>{const t=qn(),{isDarkMode:e,toggleDarkMode:n}=mn(),[r,s]=v.useState(""),[i,l]=v.useState("All"),[c,d]=v.useState(null),[h,p]=v.useState([]),[g,y]=v.useState(!1),[w,S]=v.useState(!1),[x,T]=v.useState([]),[E,N]=v.useState([]),[P,D]=v.useState(!0),[$,B]=v.useState(!0),[A,k]=v.useState(!1),[j,O]=v.useState(null),[R,V]=v.useState(!1),[F,te]=v.useState("relevance"),[pe,Q]=v.useState(!1),ee=v.useMemo(()=>{let G=[...x];switch(i!=="All"&&(G=G.filter(ve=>ve.category===i)),r&&(G=G.filter(ve=>ve.name.toLowerCase().includes(r.toLowerCase()))),F){case"price-asc":G.sort((ve,re)=>ve.price-re.price);break;case"price-desc":G.sort((ve,re)=>re.price-ve.price);break;case"rating":G.sort((ve,re)=>(re.rating||0)-(ve.rating||0));break}return G},[x,i,r,F]),U=h.reduce((G,ve)=>G+ve.quantity,0),H=h.reduce((G,ve)=>G+ve.price*ve.quantity,0),K=G=>{if(!g){S(!0);return}const ve=h.find(re=>re.id===G.id);p(ve?h.map(re=>re.id===G.id?{...re,quantity:re.quantity+1}:re):[...h,{...G,quantity:1}]),Y.success(`${G.name} added to cart!`)},ne=G=>{p(h.filter(ve=>ve.id!==G)),Y.success("Item removed from cart!")},ie=(G,ve)=>{if(ve<=0){ne(G);return}p(h.map(re=>re.id===G?{...re,quantity:ve}:re))},Z=()=>{p([]),Y.success("Cart cleared!")},ue=async()=>{B(!0);try{const G=await ub(Ge.DRINKS);N(G)}catch(G){console.error("Error loading drinks categories:",G),Y.error("Failed to load categories")}finally{B(!1)}},ge=async()=>{D(!0);try{const G=await Ac(Ge.DRINKS);T(G)}catch(G){console.error("Error loading drinks products:",G),Y.error("Failed to load products")}finally{D(!1)}};v.useEffect(()=>{ue(),ge();const G=localStorage.getItem("quicklymart-cart");G&&p(JSON.parse(G)),localStorage.getItem("quicklymart-age-verified")?y(!0):S(!0);const re=jg(St,ae=>{O(ae)});return()=>re()},[]),v.useEffect(()=>{localStorage.setItem("quicklymart-cart",JSON.stringify(h))},[h]);const be=async G=>{const{address:ve,paymentMethod:re,tip:ae,finalTotal:ce}=G;if(!j){Y.error("Please log in to place an order.");return}Y.loading("Getting your location for accurate delivery tracking...");let le=null;try{if(navigator.geolocation){const rt=await new Promise((It,mt)=>{navigator.geolocation.getCurrentPosition(It,mt,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});le={lat:rt.coords.latitude,lng:rt.coords.longitude},Y.dismiss(),Y.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(rt){console.error("Error getting location:",rt),Y.dismiss(),rt.code===1?Y.error("Location access denied. Please enable location permissions for accurate tracking."):rt.code===2?Y.error("Location unavailable. Please check your GPS settings."):rt.code===3?Y.error("Location request timed out. Please try again."):Y.error("Could not get your location. Using approximate location."),le={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}const Ie=25,je=Math.random()*10+5,et=Math.round(Ie+je),ct=new Date(Date.now()+et*60*1e3),vt={userId:j.uid,items:h,totalPrice:ce,tip:ae,deliveryAddress:{...ve},paymentMethod:re,status:"pending",createdAt:new Date,estimatedDeliveryTime:ct,estimatedMinutes:et,userLocation:le};try{await ou(async()=>{const rt=await Ei(Vn(ht,"orders"),vt);Y.success("Order placed successfully!"),p([]),V(!1),t(`/current-order/${rt.id}`)})}catch(rt){console.error("Error placing order:",rt),rt.code==="permission-denied"?Y.error("Access denied. Please check your permissions."):rt.code==="unavailable"?Y.error("Firebase service is temporarily unavailable. Please try again later."):Y.error("Failed to place order. Please check your connection and try again.")}};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx(q_,{position:"top-right"}),o.jsx("header",{className:`sticky top-0 z-40 ${e?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Drinks"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(W,{variant:"ghost",size:"icon",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Us,{className:"w-5 h-5"})}),o.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:e?o.jsx(An,{className:"w-5 h-5"}):o.jsx(bn,{className:"w-5 h-5"})})]})]})})}),pe&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx(Ze,{placeholder:"Search for drinks...",value:r,onChange:G=>s(G.target.value),className:`w-full ${e?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-2 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[o.jsxs(W,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:[o.jsx(V_,{className:"w-4 h-4 mr-2"})," Filter"]}),o.jsxs(cu,{children:[o.jsx(uu,{asChild:!0,children:o.jsx(W,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(yl,{children:[o.jsx(vl,{children:"Sort Options"}),o.jsx(Qi,{}),o.jsx(Bt,{onClick:()=>te("relevance"),children:"Relevance"}),o.jsx(Bt,{onClick:()=>te("price-asc"),children:"Price: Low to High"}),o.jsx(Bt,{onClick:()=>te("price-desc"),children:"Price: High to Low"}),o.jsx(Bt,{onClick:()=>te("rating"),children:"Rating"})]})]}),o.jsx(W,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Offers"})]})})}),o.jsx("div",{className:`${e?"bg-gray-800":"bg-gray-50"} py-3`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:E.map(G=>o.jsx("button",{onClick:()=>l(G.name),className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors ${i===G.name?"bg-orange-500 text-white":e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-white text-gray-700 hover:bg-gray-100"}`,children:G.name},G.id))})})}),o.jsx("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:ee.map(G=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:G.image,alt:G.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(gu,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",G.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${e?"text-white":"text-gray-900"}`,children:G.name}),o.jsx(W,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(F_,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(xa,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[G.rating," (50+)  10-15 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:G.description}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:"Local Bar  3.5 km"}),o.jsx("div",{className:"mt-2",children:o.jsx(W,{onClick:()=>K(G),size:"sm",variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600",children:"Add to cart"})})]})]},G.id))}),h.length>0&&o.jsx("div",{className:`fixed bottom-0 left-0 right-0 z-50 p-4 ${e?"bg-gray-800 border-gray-700":"bg-white"} border-t`,children:o.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-3",children:o.jsx("button",{onClick:()=>k(!0),className:"text-sm font-semibold text-orange-500",children:"View Cart"})}),o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs(W,{className:"bg-green-500 hover:bg-green-600 text-white rounded-lg px-6",onClick:()=>V(!0),children:[U," items | ",H.toFixed(2)," Checkout"]})})]})}),o.jsx(uy,{open:A,onOpenChange:k,children:o.jsxs(df,{className:`w-96 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(hf,{children:o.jsx(ff,{className:e?"text-white":"text-gray-900",children:"Your Cart"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:h.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Nl,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:`text-lg font-medium ${e?"text-gray-300":"text-gray-600"}`,children:"Your cart is empty"}),o.jsx("p",{className:`text-sm ${e?"text-gray-500":"text-gray-400"}`,children:"Add some drinks to get started!"})]}):o.jsx("div",{className:"space-y-4",children:h.map(G=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${e?"bg-gray-700":"bg-gray-50"}`,children:[o.jsx("img",{src:G.image,alt:G.name,className:"w-16 h-16 object-cover rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:G.name}),o.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:["",G.price]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(W,{variant:"outline",size:"sm",onClick:()=>ie(G.id,Math.max(0,G.quantity-1)),className:e?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(z_,{className:"w-3 h-3"})}),o.jsx("span",{className:`w-8 text-center ${e?"text-white":"text-gray-900"}`,children:G.quantity}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>ie(G.id,G.quantity+1),className:e?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(vg,{className:"w-3 h-3"})})]})]},G.id))})}),h.length>0&&o.jsxs("div",{className:`border-t ${e?"border-gray-700":"border-gray-200"} pt-4`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["",H.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>{if(!j){Y.error("You must be logged in to place an order.");return}V(!0)},children:"Proceed to Checkout"}),o.jsx(W,{variant:"outline",className:`w-full ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,onClick:Z,children:"Clear Cart"})]})]})]})}),c&&o.jsx(cy,{product:c,onClose:()=>d(null),onAddToCart:K}),R&&o.jsx(vy,{isOpen:R,onClose:()=>V(!1),onPlaceOrder:be,totalPrice:H,user:j}),o.jsx(JA,{isOpen:w,onClose:()=>S(!1),onVerify:()=>{y(!0),S(!1),localStorage.setItem("quicklymart-age-verified","true")}})]})},yZ=()=>{const t=qn(),{isDarkMode:e,toggleDarkMode:n}=mn(),[r,s]=v.useState(null),[i,l]=v.useState(!1),[c,d]=v.useState(!1),[h,p]=v.useState({displayName:"",email:"",phone:"",address:"",city:"",state:"",pincode:""});v.useEffect(()=>{const w=St.onAuthStateChanged(async S=>{if(S){s(S);try{const x=await iu(In(ht,"users",S.uid));if(x.exists()){const T=x.data();p({displayName:T.displayName||S.displayName||"",email:S.email||"",phone:T.phone||S.phoneNumber||"",address:T.address||"",city:T.city||"",state:T.state||"",pincode:T.pincode||""})}else p({displayName:S.displayName||"",email:S.email||"",phone:S.phoneNumber||"",address:"",city:"",state:"",pincode:""})}catch(x){console.error("Error fetching user data:",x),Y.error("Failed to load profile data")}}else t("/")});return()=>w()},[t]);const g=async()=>{if(r){d(!0);try{await s2(r,{displayName:h.displayName});const w=In(ht,"users",r.uid);await Yj(w,{displayName:h.displayName,email:h.email,phone:h.phone,address:h.address,city:h.city,state:h.state,pincode:h.pincode,updatedAt:new Date},{merge:!0}),Y.success("Profile updated successfully!"),l(!1)}catch(w){console.error("Error updating profile:",w),Y.error("Failed to update profile")}finally{d(!1)}}},y=()=>{p({displayName:(r==null?void 0:r.displayName)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phoneNumber)||"",address:"",city:"",state:"",pincode:""}),l(!1)};return r?o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Profile"})]}),i?o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500 bg-gray-100 rounded-full w-10 h-10",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(An,{className:"w-5 h-5"}):o.jsx(bn,{className:"w-5 h-5"})}),o.jsxs(W,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-orange-500",onClick:y,disabled:c,children:[o.jsx(El,{className:"w-4 h-4 mr-1"}),"Cancel"]}),o.jsxs(W,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:g,disabled:c,children:[o.jsx(Q5,{className:"w-4 h-4 mr-1"}),c?"Saving...":"Save"]})]}):o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500 bg-gray-100 rounded-full w-10 h-10",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(An,{className:"w-5 h-5"}):o.jsx(bn,{className:"w-5 h-5"})}),o.jsxs(W,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-orange-500",onClick:()=>l(!0),children:[o.jsx($_,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx(Ae,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:o.jsx(Re,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center",children:o.jsx(Ao,{className:"w-10 h-10 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:h.displayName||"User"}),o.jsx("p",{className:"text-gray-600",children:h.email}),i&&o.jsxs(W,{variant:"ghost",size:"sm",className:"mt-2 text-orange-500 hover:text-orange-600",children:[o.jsx(aI,{className:"w-4 h-4 mr-1"}),"Change Photo"]})]})]})})}),o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(yt,{children:o.jsx(bt,{className:"text-gray-800",children:"Personal Information"})}),o.jsxs(Re,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"displayName",className:"text-gray-700",children:"Full Name"}),o.jsx(Ze,{id:"displayName",value:h.displayName,onChange:w=>p({...h,displayName:w.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"email",className:"text-gray-700",children:"Email"}),o.jsx(Ze,{id:"email",value:h.email,disabled:!0,className:"mt-1 bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsx(Ze,{id:"phone",value:h.phone,onChange:w=>p({...h,phone:w.target.value}),disabled:!i,className:"mt-1"})]})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"address",className:"text-gray-700",children:"Address"}),o.jsx(Ze,{id:"address",value:h.address,onChange:w=>p({...h,address:w.target.value}),disabled:!i,className:"mt-1",placeholder:"Street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"city",className:"text-gray-700",children:"City"}),o.jsx(Ze,{id:"city",value:h.city,onChange:w=>p({...h,city:w.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"state",className:"text-gray-700",children:"State"}),o.jsx(Ze,{id:"state",value:h.state,onChange:w=>p({...h,state:w.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"pincode",className:"text-gray-700",children:"Pincode"}),o.jsx(Ze,{id:"pincode",value:h.pincode,onChange:w=>p({...h,pincode:w.target.value}),disabled:!i,className:"mt-1"})]})]})]})]})]})]}):o.jsx("div",{children:"Loading..."})},vZ=()=>{const t=qn(),{isDarkMode:e,toggleDarkMode:n}=mn(),[r,s]=v.useState(null),[i,l]=v.useState([]),[c,d]=v.useState(!0),[h,p]=v.useState(BS());v.useEffect(()=>{const x=St.onAuthStateChanged(async E=>{E?(s(E),await g(E.uid)):t("/")}),T=()=>{const E=BS();p(E),E&&r&&g(r.uid)};return window.addEventListener("online",T),window.addEventListener("offline",T),()=>{x(),window.removeEventListener("online",T),window.removeEventListener("offline",T)}},[t,r]);const g=async x=>{d(!0);try{if(!h){Y.error("You are offline. Please check your internet connection."),d(!1);return}await ou(async()=>{const T=Vn(ht,"orders"),E=Ki(T,sa("userId","==",x)),N=await Ni(E),P=[];N.forEach(D=>{P.push({id:D.id,...D.data()})}),P.sort((D,$)=>{var k,j;const B=(k=D.createdAt)!=null&&k.toDate?D.createdAt.toDate():0;return((j=$.createdAt)!=null&&j.toDate?$.createdAt.toDate():0)-B}),l(P)})}catch(T){console.error("Error loading orders:",T),T.code==="permission-denied"?Y.error("Access denied. Please check your permissions."):T.code==="unavailable"?Y.error("Firebase service is temporarily unavailable. Please try again later."):Y.error("Failed to load orders. Please check your connection and try again.")}finally{d(!1)}},y=async()=>{if(r)try{if(!h){Y.error("You are offline. Please check your internet connection.");return}await ou(async()=>{const x={userId:r.uid,date:new Date().toISOString().split("T")[0],status:"delivered",total:450,items:[{name:"Domino's Pizza",quantity:1,price:250},{name:"Coca Cola",quantity:2,price:100}],deliveryAddress:"White Building, Midnapore, West Bengal",deliveryTime:"20-25 mins",createdAt:Gq()};await Ei(Vn(ht,"orders"),x),Y.success("Sample order created!"),await g(r.uid)})}catch(x){console.error("Error creating sample order:",x),x.code==="permission-denied"?Y.error("Access denied. Please check your permissions."):x.code==="unavailable"?Y.error("Firebase service is temporarily unavailable. Please try again later."):Y.error("Failed to create sample order. Please check your connection and try again.")}},w=x=>{switch(x){case"delivered":return"bg-green-500";case"cancelled":return"bg-red-500";case"processing":return"bg-yellow-500";default:return"bg-gray-500"}},S=x=>{switch(x){case"delivered":return o.jsx(Nd,{className:"w-4 h-4"});case"cancelled":return o.jsx(z5,{className:"w-4 h-4"});case"processing":return o.jsx(pu,{className:"w-4 h-4"});default:return o.jsx(li,{className:"w-4 h-4"})}};return r?o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Past Orders"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(An,{className:"w-5 h-5"}):o.jsx(bn,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[h?o.jsx(a3,{className:"w-4 h-4 text-orange-500"}):o.jsx(o3,{className:"w-4 h-4 text-red-500"}),o.jsx("span",{className:`text-xs ${h?"text-orange-500":"text-red-500"}`,children:h?"Online":"Offline"})]}),i.length===0&&o.jsx(W,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:y,children:"Create Sample Order"})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:c?o.jsx(Ae,{className:"bg-white border border-gray-200",children:o.jsxs(Re,{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):i.length===0?o.jsx(Ae,{className:"bg-white border border-gray-200",children:o.jsxs(Re,{className:"p-8 text-center",children:[o.jsx(li,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800",children:"No Orders Yet"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Start shopping to see your order history here"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{onClick:()=>t("/"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:"Start Shopping"}),o.jsx(W,{variant:"outline",onClick:y,className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Create Sample Order"})]})]})}):o.jsxs("div",{className:"space-y-4",children:[i.filter(x=>x.status!=="delivered"&&x.status!=="cancelled").length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 text-orange-500 flex items-center",children:[o.jsx(Os,{className:"w-5 h-5 mr-2"}),"Current Orders"]}),o.jsx("div",{className:"space-y-4",children:i.filter(x=>x.status!=="delivered"&&x.status!=="cancelled").map(x=>{var T,E;return o.jsxs(Ae,{className:"bg-white border border-orange-200 shadow-sm",children:[o.jsx(yt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(bt,{className:"text-gray-800",children:["Order #",x.id.slice(-6)]}),o.jsx("p",{className:"text-gray-600 text-sm",children:(T=x.createdAt)!=null&&T.toDate?x.createdAt.toDate().toLocaleDateString():x.date})]}),o.jsx(an,{className:"bg-orange-500 text-white",children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Os,{className:"w-4 h-4"}),o.jsx("span",{className:"capitalize",children:x.status})]})})]})}),o.jsxs(Re,{children:[o.jsx("div",{className:"space-y-2",children:x.items.map((N,P)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(li,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:N.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",N.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["",N.price]})]},P))}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg mt-3",children:[o.jsx(gr,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:typeof x.deliveryAddress=="string"?x.deliveryAddress:(E=x.deliveryAddress)!=null&&E.address?`${x.deliveryAddress.address}, ${x.deliveryAddress.city}, ${x.deliveryAddress.state} - ${x.deliveryAddress.pincode}`:"Address not available"})]}),o.jsxs("div",{className:"space-y-3 p-3 bg-orange-50 rounded-lg mt-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Os,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Delivery Time: ",x.deliveryTime||"20-25 mins"]})]}),x.paymentMethod&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 text-orange-500",children:""}),o.jsxs("span",{className:"text-sm text-gray-600 capitalize",children:["Payment: ",x.paymentMethod==="cod"?"Cash on Delivery":x.paymentMethod.toUpperCase()]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-orange-200",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["",x.totalPrice||x.total||0]})]})]}),o.jsxs("div",{className:"flex space-x-2 mt-4",children:[o.jsxs(W,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>t(`/current-order/${x.id}`),children:[o.jsx(Os,{className:"w-4 h-4 mr-2"}),"Track Order"]}),o.jsxs(W,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Call Support"]})]})]})]},`current-${x.id}`)})})]}),i.filter(x=>x.status==="delivered"||x.status==="cancelled").length>0&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:[o.jsx(li,{className:"w-5 h-5 mr-2"}),"Past Orders"]}),o.jsx("div",{className:"space-y-4",children:i.filter(x=>x.status==="delivered"||x.status==="cancelled").map(x=>{var T,E;return o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(yt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(bt,{className:"text-gray-800",children:["Order #",x.id.slice(-6)]}),o.jsx("p",{className:"text-gray-600 text-sm",children:(T=x.createdAt)!=null&&T.toDate?x.createdAt.toDate().toLocaleDateString():x.date})]}),o.jsx(an,{className:`${w(x.status)} text-white`,children:o.jsxs("div",{className:"flex items-center space-x-1",children:[S(x.status),o.jsx("span",{className:"capitalize",children:x.status})]})})]})}),o.jsxs(Re,{children:[o.jsx("div",{className:"space-y-2",children:x.items.map((N,P)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(li,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:N.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",N.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["",N.price]})]},P))}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg mt-3",children:[o.jsx(gr,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:typeof x.deliveryAddress=="string"?x.deliveryAddress:(E=x.deliveryAddress)!=null&&E.address?`${x.deliveryAddress.address}, ${x.deliveryAddress.city}, ${x.deliveryAddress.state} - ${x.deliveryAddress.pincode}`:"Address not available"})]}),o.jsxs("div",{className:"space-y-3 p-3 bg-orange-50 rounded-lg mt-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Os,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Delivery Time: ",x.deliveryTime||"20-25 mins"]})]}),x.paymentMethod&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 text-orange-500",children:""}),o.jsxs("span",{className:"text-sm text-gray-600 capitalize",children:["Payment: ",x.paymentMethod==="cod"?"Cash on Delivery":x.paymentMethod.toUpperCase()]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),o.jsxs("span",{className:"text-gray-800",children:["",x.totalPrice||x.total||0]})]}),x.tip&&x.tip>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Tip:"}),o.jsxs("span",{className:"text-gray-800",children:["",x.tip]})]}),x.totalPrice&&x.totalPrice>299?o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee:"}),o.jsx("span",{className:"text-orange-500",children:"FREE"})]}):x.totalPrice&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee:"}),o.jsx("span",{className:"text-gray-800",children:"29"})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-orange-200",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["",x.totalPrice||x.total||0]})]})]})]}),o.jsxs("div",{className:"flex space-x-2 mt-4",children:[x.status!=="delivered"&&x.status!=="cancelled"&&o.jsxs(W,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>t(`/current-order/${x.id}`),children:[o.jsx(Os,{className:"w-4 h-4 mr-2"}),"Track Order"]}),o.jsxs(W,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(xa,{className:"w-4 h-4 mr-2"}),"Rate Order"]}),o.jsxs(W,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(li,{className:"w-4 h-4 mr-2"}),"Reorder"]})]})]})]},x.id)})})]})]})})]}):o.jsx("div",{children:"Loading..."})};var Mb="Progress",Db=100,[xZ,kQ]=ar(Mb),[_Z,wZ]=xZ(Mb),J4=v.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=bZ,...l}=t;(s||s===0)&&!oT(s)&&console.error(NZ(`${s}`,"Progress"));const c=oT(s)?s:Db;r!==null&&!aT(r,c)&&console.error(EZ(`${r}`,"Progress"));const d=aT(r,c)?r:null,h=Yp(d)?i(d,c):void 0;return o.jsx(_Z,{scope:n,value:d,max:c,children:o.jsx(De.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Yp(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":nM(d,c),"data-value":d??void 0,"data-max":c,...l,ref:e})})});J4.displayName=Mb;var eM="ProgressIndicator",tM=v.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=wZ(eM,n);return o.jsx(De.div,{"data-state":nM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});tM.displayName=eM;function bZ(t,e){return`${Math.round(t/e*100)}%`}function nM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Yp(t){return typeof t=="number"}function oT(t){return Yp(t)&&!isNaN(t)&&t>0}function aT(t,e){return Yp(t)&&!isNaN(t)&&t<=e&&t>=0}function NZ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Db}\`.`}function EZ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Db} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rM=J4,SZ=tM;const sM=v.forwardRef(({className:t,value:e,...n},r)=>o.jsx(rM,{ref:r,className:Me("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(SZ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));sM.displayName=rM.displayName;var Rx={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(cD,function(n){var r="1.9.4";function s(a){var u,m,_,C;for(m=1,_=arguments.length;m<_;m++){C=arguments[m];for(u in C)a[u]=C[u]}return a}var i=Object.create||function(){function a(){}return function(u){return a.prototype=u,new a}}();function l(a,u){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var _=m.call(arguments,2);return function(){return a.apply(u,_.length?_.concat(m.call(arguments)):arguments)}}var c=0;function d(a){return"_leaflet_id"in a||(a._leaflet_id=++c),a._leaflet_id}function h(a,u,m){var _,C,M,q;return q=function(){_=!1,C&&(M.apply(m,C),C=!1)},M=function(){_?C=arguments:(a.apply(m,arguments),setTimeout(q,u),_=!0)},M}function p(a,u,m){var _=u[1],C=u[0],M=_-C;return a===_&&m?a:((a-C)%M+M)%M+C}function g(){return!1}function y(a,u){if(u===!1)return a;var m=Math.pow(10,u===void 0?6:u);return Math.round(a*m)/m}function w(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function S(a){return w(a).split(/\s+/)}function x(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?i(a.options):{});for(var m in u)a.options[m]=u[m];return a.options}function T(a,u,m){var _=[];for(var C in a)_.push(encodeURIComponent(m?C.toUpperCase():C)+"="+encodeURIComponent(a[C]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function N(a,u){return a.replace(E,function(m,_){var C=u[_];if(C===void 0)throw new Error("No value provided for variable "+m);return typeof C=="function"&&(C=C(u)),C})}var P=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function D(a,u){for(var m=0;m<a.length;m++)if(a[m]===u)return m;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var A=0;function k(a){var u=+new Date,m=Math.max(0,16-(u-A));return A=u+m,window.setTimeout(a,m)}var j=window.requestAnimationFrame||B("RequestAnimationFrame")||k,O=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function R(a,u,m){if(m&&j===k)a.call(u);else return j.call(window,l(a,u))}function V(a){a&&O.call(window,a)}var F={__proto__:null,extend:s,create:i,bind:l,get lastId(){return c},stamp:d,throttle:h,wrapNum:p,falseFn:g,formatNum:y,trim:w,splitWords:S,setOptions:x,getParamString:T,template:N,isArray:P,indexOf:D,emptyImageUrl:$,requestFn:j,cancelFn:O,requestAnimFrame:R,cancelAnimFrame:V};function te(){}te.extend=function(a){var u=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,_=i(m);_.constructor=u,u.prototype=_;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(u[C]=this[C]);return a.statics&&s(u,a.statics),a.includes&&(pe(a.includes),s.apply(null,[_].concat(a.includes))),s(_,a),delete _.statics,delete _.includes,_.options&&(_.options=m.options?i(m.options):{},s(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,q=_._initHooks.length;M<q;M++)_._initHooks[M].call(this)}},u},te.include=function(a){var u=this.prototype.options;return s(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},te.mergeOptions=function(a){return s(this.prototype.options,a),this},te.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function pe(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=P(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Q={on:function(a,u,m){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u);else{a=S(a);for(var C=0,M=a.length;C<M;C++)this._on(a[C],u,m)}return this},off:function(a,u,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],u);else{a=S(a);for(var C=arguments.length===1,M=0,q=a.length;M<q;M++)C?this._off(a[M]):this._off(a[M],u,m)}return this},_on:function(a,u,m,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,m)===!1){m===this&&(m=void 0);var C={fn:u,ctx:m};_&&(C.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(C)}},_off:function(a,u,m){var _,C,M;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(C=0,M=_.length;C<M;C++)_[C].fn=g;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var q=this._listens(a,u,m);if(q!==!1){var J=_[q];this._firingCount&&(J.fn=g,this._events[a]=_=_.slice()),_.splice(q,1)}}},fire:function(a,u,m){if(!this.listens(a,m))return this;var _=s({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var C=this._events[a];if(C){this._firingCount=this._firingCount+1||1;for(var M=0,q=C.length;M<q;M++){var J=C[M],se=J.fn;J.once&&this.off(a,se,J.ctx),se.call(J.ctx||this,_)}this._firingCount--}}return m&&this._propagateEvent(_),this},listens:function(a,u,m,_){typeof a!="string"&&console.warn('"string" type argument expected');var C=u;typeof u!="function"&&(_=!!u,C=void 0,m=void 0);var M=this._events&&this._events[a];if(M&&M.length&&this._listens(a,C,m)!==!1)return!0;if(_){for(var q in this._eventParents)if(this._eventParents[q].listens(a,u,m,_))return!0}return!1},_listens:function(a,u,m){if(!this._events)return!1;var _=this._events[a]||[];if(!u)return!!_.length;m===this&&(m=void 0);for(var C=0,M=_.length;C<M;C++)if(_[C].fn===u&&_[C].ctx===m)return C;return!1},once:function(a,u,m){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u,!0);else{a=S(a);for(var C=0,M=a.length;C<M;C++)this._on(a[C],u,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[d(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[d(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,s({layer:a.target,propagatedFrom:a.target},a),!0)}};Q.addEventListener=Q.on,Q.removeEventListener=Q.clearAllEventListeners=Q.off,Q.addOneTimeEventListener=Q.once,Q.fireEvent=Q.fire,Q.hasEventListeners=Q.listens;var ee=te.extend(Q);function U(a,u,m){this.x=m?Math.round(a):a,this.y=m?Math.round(u):u}var H=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(a){return this.clone()._add(K(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(K(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new U(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new U(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=H(this.x),this.y=H(this.y),this},distanceTo:function(a){a=K(a);var u=a.x-this.x,m=a.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(a){return a=K(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=K(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function K(a,u,m){return a instanceof U?a:P(a)?new U(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new U(a.x,a.y):new U(a,u,m)}function ne(a,u){if(a)for(var m=u?[a,u]:a,_=0,C=m.length;_<C;_++)this.extend(m[_])}ne.prototype={extend:function(a){var u,m;if(!a)return this;if(a instanceof U||typeof a[0]=="number"||"x"in a)u=m=K(a);else if(a=ie(a),u=a.min,m=a.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,m;return typeof a[0]=="number"||a instanceof U?a=K(a):a=ie(a),a instanceof ne?(u=a.min,m=a.max):u=m=a,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=ie(a);var u=this.min,m=this.max,_=a.min,C=a.max,M=C.x>=u.x&&_.x<=m.x,q=C.y>=u.y&&_.y<=m.y;return M&&q},overlaps:function(a){a=ie(a);var u=this.min,m=this.max,_=a.min,C=a.max,M=C.x>u.x&&_.x<m.x,q=C.y>u.y&&_.y<m.y;return M&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,m=this.max,_=Math.abs(u.x-m.x)*a,C=Math.abs(u.y-m.y)*a;return ie(K(u.x-_,u.y-C),K(m.x+_,m.y+C))},equals:function(a){return a?(a=ie(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ie(a,u){return!a||a instanceof ne?a:new ne(a,u)}function Z(a,u){if(a)for(var m=u?[a,u]:a,_=0,C=m.length;_<C;_++)this.extend(m[_])}Z.prototype={extend:function(a){var u=this._southWest,m=this._northEast,_,C;if(a instanceof ge)_=a,C=a;else if(a instanceof Z){if(_=a._southWest,C=a._northEast,!_||!C)return this}else return a?this.extend(be(a)||ue(a)):this;return!u&&!m?(this._southWest=new ge(_.lat,_.lng),this._northEast=new ge(C.lat,C.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),m.lat=Math.max(C.lat,m.lat),m.lng=Math.max(C.lng,m.lng)),this},pad:function(a){var u=this._southWest,m=this._northEast,_=Math.abs(u.lat-m.lat)*a,C=Math.abs(u.lng-m.lng)*a;return new Z(new ge(u.lat-_,u.lng-C),new ge(m.lat+_,m.lng+C))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ge||"lat"in a?a=be(a):a=ue(a);var u=this._southWest,m=this._northEast,_,C;return a instanceof Z?(_=a.getSouthWest(),C=a.getNorthEast()):_=C=a,_.lat>=u.lat&&C.lat<=m.lat&&_.lng>=u.lng&&C.lng<=m.lng},intersects:function(a){a=ue(a);var u=this._southWest,m=this._northEast,_=a.getSouthWest(),C=a.getNorthEast(),M=C.lat>=u.lat&&_.lat<=m.lat,q=C.lng>=u.lng&&_.lng<=m.lng;return M&&q},overlaps:function(a){a=ue(a);var u=this._southWest,m=this._northEast,_=a.getSouthWest(),C=a.getNorthEast(),M=C.lat>u.lat&&_.lat<m.lat,q=C.lng>u.lng&&_.lng<m.lng;return M&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=ue(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ue(a,u){return a instanceof Z?a:new Z(a,u)}function ge(a,u,m){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,m!==void 0&&(this.alt=+m)}ge.prototype={equals:function(a,u){if(!a)return!1;a=be(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+y(this.lat,a)+", "+y(this.lng,a)+")"},distanceTo:function(a){return ve.distance(this,be(a))},wrap:function(){return ve.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,m=u/Math.cos(Math.PI/180*this.lat);return ue([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function be(a,u,m){return a instanceof ge?a:P(a)&&typeof a[0]!="object"?a.length===3?new ge(a[0],a[1],a[2]):a.length===2?new ge(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ge(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new ge(a,u,m)}var G={latLngToPoint:function(a,u){var m=this.projection.project(a),_=this.scale(u);return this.transformation._transform(m,_)},pointToLatLng:function(a,u){var m=this.scale(u),_=this.transformation.untransform(a,m);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(a),_=this.transformation.transform(u.min,m),C=this.transformation.transform(u.max,m);return new ne(_,C)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?p(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?p(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new ge(m,u,_)},wrapLatLngBounds:function(a){var u=a.getCenter(),m=this.wrapLatLng(u),_=u.lat-m.lat,C=u.lng-m.lng;if(_===0&&C===0)return a;var M=a.getSouthWest(),q=a.getNorthEast(),J=new ge(M.lat-_,M.lng-C),se=new ge(q.lat-_,q.lng-C);return new Z(J,se)}},ve=s({},G,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var m=Math.PI/180,_=a.lat*m,C=u.lat*m,M=Math.sin((u.lat-a.lat)*m/2),q=Math.sin((u.lng-a.lng)*m/2),J=M*M+Math.cos(_)*Math.cos(C)*q*q,se=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*se}}),re=6378137,ae={R:re,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,m=this.MAX_LATITUDE,_=Math.max(Math.min(m,a.lat),-m),C=Math.sin(_*u);return new U(this.R*a.lng*u,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(a){var u=180/Math.PI;return new ge((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:function(){var a=re*Math.PI;return new ne([-a,-a],[a,a])}()};function ce(a,u,m,_){if(P(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=m,this._d=_}ce.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new U((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function le(a,u,m,_){return new ce(a,u,m,_)}var Ie=s({},ve,{code:"EPSG:3857",projection:ae,transformation:function(){var a=.5/(Math.PI*ae.R);return le(a,.5,-a,.5)}()}),je=s({},Ie,{code:"EPSG:900913"});function et(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ct(a,u){var m="",_,C,M,q,J,se;for(_=0,M=a.length;_<M;_++){for(J=a[_],C=0,q=J.length;C<q;C++)se=J[C],m+=(C?"L":"M")+se.x+" "+se.y;m+=u?Oe.svg?"z":"x":""}return m||"M0 0"}var vt=document.documentElement.style,rt="ActiveXObject"in window,It=rt&&!document.addEventListener,mt="msLaunchUri"in navigator&&!("documentMode"in document),qt=ns("webkit"),lr=ns("android"),nn=ns("android 2")||ns("android 3"),_e=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),qe=lr&&ns("Google")&&_e<537&&!("AudioNode"in window),Qe=!!window.opera,Ue=!mt&&ns("chrome"),cr=ns("gecko")&&!qt&&!Qe&&!rt,Hn=!Ue&&ns("safari"),Xt=ns("phantom"),Wn="OTransition"in vt,Rn=navigator.platform.indexOf("Win")===0,Gn=rt&&"transition"in vt,Mn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nn,Rt="MozPerspective"in vt,_r=!window.L_DISABLE_3D&&(Gn||Mn||Rt)&&!Wn&&!Xt,Or=typeof orientation<"u"||ns("mobile"),Ti=Or&&qt,Qs=Or&&Mn,Ys=!window.PointerEvent&&window.MSPointerEvent,Lr=!!(window.PointerEvent||Ys),Fr="ontouchstart"in window||!!window.TouchEvent,Dn=!window.L_NO_TOUCH&&(Fr||Lr),Vr=Or&&Qe,Fe=Or&&cr,st=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,wt=function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",g,u),window.removeEventListener("testPassiveEventSupport",g,u)}catch{}return a}(),pn=function(){return!!document.createElement("canvas").getContext}(),Nn=!!(document.createElementNS&&et("svg").createSVGRect),jt=!!Nn&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ts=!Nn&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),gn=navigator.platform.indexOf("Mac")===0,Kn=navigator.platform.indexOf("Linux")===0;function ns(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Oe={ie:rt,ielt9:It,edge:mt,webkit:qt,android:lr,android23:nn,androidStock:qe,opera:Qe,chrome:Ue,gecko:cr,safari:Hn,phantom:Xt,opera12:Wn,win:Rn,ie3d:Gn,webkit3d:Mn,gecko3d:Rt,any3d:_r,mobile:Or,mobileWebkit:Ti,mobileWebkit3d:Qs,msPointer:Ys,pointer:Lr,touch:Dn,touchNative:Fr,mobileOpera:Vr,mobileGecko:Fe,retina:st,passiveEvents:wt,canvas:pn,svg:Nn,vml:ts,inlineSvg:jt,mac:gn,linux:Kn},Ci=Oe.msPointer?"MSPointerDown":"pointerdown",yf=Oe.msPointer?"MSPointerMove":"pointermove",vf=Oe.msPointer?"MSPointerUp":"pointerup",Ta=Oe.msPointer?"MSPointerCancel":"pointercancel",jl={touchstart:Ci,touchmove:yf,touchend:vf,touchcancel:Ta},Al={touchstart:Ml,touchmove:Rl,touchend:Rl,touchcancel:Rl},bs={},Ns=!1;function xf(a,u,m){return u==="touchstart"&&wf(),Al[u]?(m=Al[u].bind(this,m),a.addEventListener(jl[u],m,!1),m):(console.warn("wrong event specified:",u),g)}function _f(a,u,m){if(!jl[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(jl[u],m,!1)}function Du(a){bs[a.pointerId]=a}function Ou(a){bs[a.pointerId]&&(bs[a.pointerId]=a)}function Lu(a){delete bs[a.pointerId]}function wf(){Ns||(document.addEventListener(Ci,Du,!0),document.addEventListener(yf,Ou,!0),document.addEventListener(vf,Lu,!0),document.addEventListener(Ta,Lu,!0),Ns=!0)}function Rl(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in bs)u.touches.push(bs[m]);u.changedTouches=[u],a(u)}}function Ml(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ht(u),Rl(a,u)}function bf(a){var u={},m,_;for(_ in a)m=a[_],u[_]=m&&m.bind?m.bind(a):m;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Fu=200;function Ca(a,u){a.addEventListener("dblclick",u);var m=0,_;function C(M){if(M.detail!==1){_=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var q=Qu(M);if(!(q.some(function(se){return se instanceof HTMLLabelElement&&se.attributes.for})&&!q.some(function(se){return se instanceof HTMLInputElement||se instanceof HTMLSelectElement}))){var J=Date.now();J-m<=Fu?(_++,_===2&&u(bf(M))):_=1,m=J}}}return a.addEventListener("click",C),{dblclick:u,simDblclick:C}}function Pi(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var Pa=ki(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ia=ki(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Vu=Ia==="webkitTransition"||Ia==="OTransition"?Ia+"End":"transitionend";function zu(a){return typeof a=="string"?document.getElementById(a):a}function fo(a,u){var m=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);m=_?_[u]:null}return m==="auto"?null:m}function ut(a,u,m){var _=document.createElement(a);return _.className=u||"",m&&m.appendChild(_),_}function kt(a){var u=a.parentNode;u&&u.removeChild(a)}function ka(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ii(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function mo(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function $u(a,u){if(a.classList!==void 0)return a.classList.contains(u);var m=rs(a);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function Ye(a,u){if(a.classList!==void 0)for(var m=S(u),_=0,C=m.length;_<C;_++)a.classList.add(m[_]);else if(!$u(a,u)){var M=rs(a);Bu(a,(M?M+" ":"")+u)}}function zt(a,u){a.classList!==void 0?a.classList.remove(u):Bu(a,w((" "+rs(a)+" ").replace(" "+u+" "," ")))}function Bu(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function rs(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Jt(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Dl(a,u)}function Dl(a,u){var m=!1,_="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):a.style.filter+=" progid:"+_+"(opacity="+u+")"}function ki(a){for(var u=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in u)return a[m];return!1}function Xs(a,u,m){var _=u||new U(0,0);a.style[Pa]=(Oe.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(m?" scale("+m+")":"")}function He(a,u){a._leaflet_pos=u,Oe.any3d?Xs(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function ss(a){return a._leaflet_pos||new U(0,0)}var Es,Ss,Uu;if("onselectstart"in document)Es=function(){ze(window,"selectstart",Ht)},Ss=function(){Ct(window,"selectstart",Ht)};else{var po=ki(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Es=function(){if(po){var a=document.documentElement.style;Uu=a[po],a[po]="none"}},Ss=function(){po&&(document.documentElement.style[po]=Uu,Uu=void 0)}}function qu(){ze(window,"dragstart",Ht)}function Hu(){Ct(window,"dragstart",Ht)}var Ol,Wu;function ji(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(zr(),Ol=a,Wu=a.style.outlineStyle,a.style.outlineStyle="none",ze(window,"keydown",zr))}function zr(){Ol&&(Ol.style.outlineStyle=Wu,Ol=void 0,Wu=void 0,Ct(window,"keydown",zr))}function Gu(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Ll(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var Nf={__proto__:null,TRANSFORM:Pa,TRANSITION:Ia,TRANSITION_END:Vu,get:zu,getStyle:fo,create:ut,remove:kt,empty:ka,toFront:Ii,toBack:mo,hasClass:$u,addClass:Ye,removeClass:zt,setClass:Bu,getClass:rs,setOpacity:Jt,testProp:ki,setTransform:Xs,setPosition:He,getPosition:ss,get disableTextSelection(){return Es},get enableTextSelection(){return Ss},disableImageDrag:qu,enableImageDrag:Hu,preventOutline:ji,restoreOutline:zr,getSizedParentNode:Gu,getScale:Ll};function ze(a,u,m,_){if(u&&typeof u=="object")for(var C in u)Ku(a,C,u[C],m);else{u=S(u);for(var M=0,q=u.length;M<q;M++)Ku(a,u[M],m,_)}return this}var is="_leaflet_events";function Ct(a,u,m,_){if(arguments.length===1)Ef(a),delete a[is];else if(u&&typeof u=="object")for(var C in u)Zu(a,C,u[C],m);else if(u=S(u),arguments.length===2)Ef(a,function(J){return D(u,J)!==-1});else for(var M=0,q=u.length;M<q;M++)Zu(a,u[M],m,_);return this}function Ef(a,u){for(var m in a[is]){var _=m.split(/\d/)[0];(!u||u(_))&&Zu(a,_,null,null,m)}}var os={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ku(a,u,m,_){var C=u+d(m)+(_?"_"+d(_):"");if(a[is]&&a[is][C])return this;var M=function(J){return m.call(_||a,J||window.event)},q=M;!Oe.touchNative&&Oe.pointer&&u.indexOf("touch")===0?M=xf(a,u,M):Oe.touch&&u==="dblclick"?M=Ca(a,M):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(os[u]||u,M,Oe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(M=function(J){J=J||window.event,Yu(a,J)&&q(J)},a.addEventListener(os[u],M,!1)):a.addEventListener(u,q,!1):a.attachEvent("on"+u,M),a[is]=a[is]||{},a[is][C]=M}function Zu(a,u,m,_,C){C=C||u+d(m)+(_?"_"+d(_):"");var M=a[is]&&a[is][C];if(!M)return this;!Oe.touchNative&&Oe.pointer&&u.indexOf("touch")===0?_f(a,u,M):Oe.touch&&u==="dblclick"?Pi(a,M):"removeEventListener"in a?a.removeEventListener(os[u]||u,M,!1):a.detachEvent("on"+u,M),a[is][C]=null}function as(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function go(a){return Ku(a,"wheel",as),this}function yo(a){return ze(a,"mousedown touchstart dblclick contextmenu",as),a._leaflet_disable_click=!0,this}function Ht(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function $r(a){return Ht(a),as(a),this}function Qu(a){if(a.composedPath)return a.composedPath();for(var u=[],m=a.target;m;)u.push(m),m=m.parentNode;return u}function Fl(a,u){if(!u)return new U(a.clientX,a.clientY);var m=Ll(u),_=m.boundingClientRect;return new U((a.clientX-_.left)/m.x-u.clientLeft,(a.clientY-_.top)/m.y-u.clientTop)}var $t=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Sf(a){return Oe.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/$t:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Yu(a,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var Tf={__proto__:null,on:ze,off:Ct,stopPropagation:as,disableScrollPropagation:go,disableClickPropagation:yo,preventDefault:Ht,stop:$r,getPropagationPath:Qu,getMousePosition:Fl,getWheelDelta:Sf,isExternalTarget:Yu,addListener:ze,removeListener:Ct},Xu=ee.extend({run:function(a,u,m,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=ss(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=R(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var m=this._startPos.add(this._offset.multiplyBy(a));u&&m._round(),He(this._el,m),this.fire("step")},_complete:function(){V(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),at=ee.extend({options:{crs:Ie,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=x(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(be(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ia&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,Vu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(be(a),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=s({animate:m.animate},m.zoom),m.pan=s({animate:m.animate,duration:m.duration},m.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,m.zoom):this._tryAnimatedPan(a,m.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,m){var _=this.getZoomScale(u),C=this.getSize().divideBy(2),M=a instanceof U?a:this.latLngToContainerPoint(a),q=M.subtract(C).multiplyBy(1-1/_),J=this.containerPointToLatLng(C.add(q));return this.setView(J,u,{zoom:m})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():ue(a);var m=K(u.paddingTopLeft||u.padding||[0,0]),_=K(u.paddingBottomRight||u.padding||[0,0]),C=this.getBoundsZoom(a,!1,m.add(_));if(C=typeof u.maxZoom=="number"?Math.min(u.maxZoom,C):C,C===1/0)return{center:a.getCenter(),zoom:C};var M=_.subtract(m).divideBy(2),q=this.project(a.getSouthWest(),C),J=this.project(a.getNorthEast(),C),se=this.unproject(q.add(J).divideBy(2).add(M),C);return{center:se,zoom:C}},fitBounds:function(a,u){if(a=ue(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=K(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ye(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,m){if(m=m||{},m.animate===!1||!Oe.any3d)return this.setView(a,u,m);this._stop();var _=this.project(this.getCenter()),C=this.project(a),M=this.getSize(),q=this._zoom;a=be(a),u=u===void 0?q:u;var J=Math.max(M.x,M.y),se=J*this.getZoomScale(q,u),me=C.distanceTo(_)||1,Se=1.42,$e=Se*Se;function it(cn){var Bf=cn?-1:1,sD=cn?se:J,iD=se*se-J*J+Bf*$e*$e*me*me,oD=2*sD*$e*me,jy=iD/oD,u1=Math.sqrt(jy*jy+1)-jy,aD=u1<1e-9?-18:Math.log(u1);return aD}function dr(cn){return(Math.exp(cn)-Math.exp(-cn))/2}function Sn(cn){return(Math.exp(cn)+Math.exp(-cn))/2}function cs(cn){return dr(cn)/Sn(cn)}var br=it(0);function Yl(cn){return J*(Sn(br)/Sn(br+Se*cn))}function eD(cn){return J*(Sn(br)*cs(br+Se*cn)-dr(br))/$e}function tD(cn){return 1-Math.pow(1-cn,1.5)}var nD=Date.now(),l1=(it(1)-br)/Se,rD=m.duration?1e3*m.duration:1e3*l1*.8;function c1(){var cn=(Date.now()-nD)/rD,Bf=tD(cn)*l1;cn<=1?(this._flyToFrame=R(c1,this),this._move(this.unproject(_.add(C.subtract(_).multiplyBy(eD(Bf)/me)),q),this.getScaleZoom(J/Yl(Bf),q),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),c1.call(this),this},flyToBounds:function(a,u){var m=this._getBoundsCenterZoom(a,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(a){return a=ue(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var m=this.getCenter(),_=this._limitCenter(m,this._zoom,ue(a));return m.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var m=K(u.paddingTopLeft||u.padding||[0,0]),_=K(u.paddingBottomRight||u.padding||[0,0]),C=this.project(this.getCenter()),M=this.project(a),q=this.getPixelBounds(),J=ie([q.min.add(m),q.max.subtract(_)]),se=J.getSize();if(!J.contains(M)){this._enforcingBounds=!0;var me=M.subtract(J.getCenter()),Se=J.extend(M).getSize().subtract(se);C.x+=me.x<0?-Se.x:Se.x,C.y+=me.y<0?-Se.y:Se.y,this.panTo(this.unproject(C),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=s({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),_=u.divideBy(2).round(),C=m.divideBy(2).round(),M=_.subtract(C);return!M.x&&!M.y?this:(a.animate&&a.pan?this.panBy(M):(a.pan&&this._rawPanBy(M),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=s({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=l(this._handleGeolocationResponse,this),m=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,a):navigator.geolocation.getCurrentPosition(u,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,m=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,m=a.coords.longitude,_=new ge(u,m),C=_.toBounds(a.coords.accuracy*2),M=this._locateOptions;if(M.setView){var q=this.getBoundsZoom(C);this.setView(_,M.maxZoom?Math.min(q,M.maxZoom):q)}var J={latlng:_,bounds:C,timestamp:a.timestamp};for(var se in a.coords)typeof a.coords[se]=="number"&&(J[se]=a.coords[se]);this.fire("locationfound",J)}},addHandler:function(a,u){if(!u)return this;var m=this[a]=new u(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(V(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)kt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=ut("div",m,u||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new Z(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,m){a=ue(a),m=K(m||[0,0]);var _=this.getZoom()||0,C=this.getMinZoom(),M=this.getMaxZoom(),q=a.getNorthWest(),J=a.getSouthEast(),se=this.getSize().subtract(m),me=ie(this.project(J,_),this.project(q,_)).getSize(),Se=Oe.any3d?this.options.zoomSnap:1,$e=se.x/me.x,it=se.y/me.y,dr=u?Math.max($e,it):Math.min($e,it);return _=this.getScaleZoom(dr,_),Se&&(_=Math.round(_/(Se/100))*(Se/100),_=u?Math.ceil(_/Se)*Se:Math.floor(_/Se)*Se),Math.max(C,Math.min(M,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var m=this._getTopLeftPoint(a,u);return new ne(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(a)/m.scale(u)},getScaleZoom:function(a,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var _=m.zoom(a*m.scale(u));return isNaN(_)?1/0:_},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(be(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(K(a),u)},layerPointToLatLng:function(a){var u=K(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(be(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(be(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ue(a))},distance:function(a,u){return this.options.crs.distance(be(a),be(u))},containerPointToLayerPoint:function(a){return K(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return K(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(K(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(be(a)))},mouseEventToContainerPoint:function(a){return Fl(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=zu(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ze(u,"scroll",this._onScroll,this),this._containerId=d(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,Ye(a,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=fo(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),He(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ye(a.markerPane,"leaflet-zoom-hide"),Ye(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,m){He(this._mapPane,new U(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var C=this._zoom!==u;this._moveStart(C,m)._move(a,u)._moveEnd(C),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,m,_){u===void 0&&(u=this._zoom);var C=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?m&&m.pinch&&this.fire("zoom",m):((C||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return V(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){He(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[d(this._container)]=this;var u=a?Ct:ze;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){V(this._resizeRequest),this._resizeRequest=R(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var m=[],_,C=u==="mouseout"||u==="mouseover",M=a.target||a.srcElement,q=!1;M;){if(_=this._targets[d(M)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){q=!0;break}if(_&&_.listens(u,!0)&&(C&&!Yu(M,a)||(m.push(_),C))||M===this._container)break;M=M.parentNode}return!m.length&&!q&&!C&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var m=a.type;m==="mousedown"&&ji(u),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,m){if(a.type==="click"){var _=s({},a);_.type="preclick",this._fireDOMEvent(_,_.type,m)}var C=this._findEventTargets(a,u);if(m){for(var M=[],q=0;q<m.length;q++)m[q].listens(u,!0)&&M.push(m[q]);C=M.concat(C)}if(C.length){u==="contextmenu"&&Ht(a);var J=C[0],se={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var me=J.getLatLng&&(!J._radius||J._radius<=10);se.containerPoint=me?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(a),se.layerPoint=this.containerPointToLayerPoint(se.containerPoint),se.latlng=me?J.getLatLng():this.layerPointToLatLng(se.layerPoint)}for(q=0;q<C.length;q++)if(C[q].fire(u,se,!0),se.originalEvent._stopped||C[q].options.bubblingMouseEvents===!1&&D(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return ss(this._mapPane)||new U(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var m=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var m=this.getSize()._divideBy(2);return this.project(a,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,m){var _=this._getNewPixelOrigin(m,u);return this.project(a,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,u,m){var _=this._getNewPixelOrigin(m,u);return ie([this.project(a.getSouthWest(),u)._subtract(_),this.project(a.getNorthWest(),u)._subtract(_),this.project(a.getSouthEast(),u)._subtract(_),this.project(a.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,m){if(!m)return a;var _=this.project(a,u),C=this.getSize().divideBy(2),M=new ne(_.subtract(C),_.add(C)),q=this._getBoundsOffset(M,m,u);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?a:this.unproject(_.add(q),u)},_limitOffset:function(a,u){if(!u)return a;var m=this.getPixelBounds(),_=new ne(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(a,u,m){var _=ie(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),C=_.min.subtract(a.min),M=_.max.subtract(a.max),q=this._rebound(C.x,-M.x),J=this._rebound(C.y,-M.y);return new U(q,J)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),m=this.getMaxZoom(),_=Oe.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(u,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){zt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var m=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var a=this._proxy=ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var m=Pa,_=this._proxy.style[m];Xs(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Xs(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),C=this._getCenterOffset(a)._divideBy(1-1/_);return m.animate!==!0&&!this.getSize().contains(C)?!1:(R(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,m,_){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Ye(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&zt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Vl(a,u){return new at(a,u)}var wr=te.extend({options:{position:"topright"},initialize:function(a){x(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),m=this.getPosition(),_=a._controlCorners[m];return Ye(u,"leaflet-control"),m.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),ur=function(a){return new wr(a)};at.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",m=this._controlContainer=ut("div",u+"control-container",this._container);function _(C,M){var q=u+C+" "+u+M;a[C+M]=ut("div",q,m)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)kt(this._controlCorners[a]);kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ju=wr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,m,_){return m<_?-1:_<m?1:0}},initialize:function(a,u,m){x(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return wr.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(d(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ye(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Ye(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):zt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return zt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=ut("div",a),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),yo(u),go(u);var _=this._section=ut("section",a+"-list");m&&(this._map.on("click",this.collapse,this),ze(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=ut("a",a+"-toggle",u);C.href="#",C.title="Layers",C.setAttribute("role","button"),ze(C,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){Ht(M),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=ut("div",a+"-base",_),this._separator=ut("div",a+"-separator",_),this._overlaysList=ut("div",a+"-overlays",_),u.appendChild(_)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&d(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(l(function(_,C){return this.options.sortFunction(_.layer,C.layer,_.name,C.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ka(this._baseLayersList),ka(this._overlaysList),this._layerControlInputs=[];var a,u,m,_,C=0;for(m=0;m<this._layers.length;m++)_=this._layers[m],this._addItem(_),u=u||_.overlay,a=a||!_.overlay,C+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&C>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(d(a.target)),m=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(a,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=m,_.firstChild},_addItem:function(a){var u=document.createElement("label"),m=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=m):_=this._createRadioElement("leaflet-base-layers_"+d(this),m),this._layerControlInputs.push(_),_.layerId=d(a.layer),ze(_,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+a.name;var M=document.createElement("span");u.appendChild(M),M.appendChild(_),M.appendChild(C);var q=a.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,m,_=[],C=[];this._handlingClick=!0;for(var M=a.length-1;M>=0;M--)u=a[M],m=this._getLayer(u.layerId).layer,u.checked?_.push(m):u.checked||C.push(m);for(M=0;M<C.length;M++)this._map.hasLayer(C[M])&&this._map.removeLayer(C[M]);for(M=0;M<_.length;M++)this._map.hasLayer(_[M])||this._map.addLayer(_[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,m,_=this._map.getZoom(),C=a.length-1;C>=0;C--)u=a[C],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&_<m.options.minZoom||m.options.maxZoom!==void 0&&_>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,ze(a,"click",Ht),this.expand();var u=this;setTimeout(function(){Ct(a,"click",Ht),u._preventClick=!1})}}),Sy=function(a,u,m){return new Ju(a,u,m)},Ai=wr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",m=ut("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,m,_,C){var M=ut("a",m,_);return M.innerHTML=a,M.href="#",M.title=u,M.setAttribute("role","button"),M.setAttribute("aria-label",u),yo(M),ze(M,"click",$r),ze(M,"click",C,this),ze(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";zt(this._zoomInButton,u),zt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Ye(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Ye(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});at.mergeOptions({zoomControl:!0}),at.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ai,this.addControl(this.zoomControl))});var Cf=function(a){return new Ai(a)},zl=wr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",m=ut("div",u),_=this.options;return this._addScales(_,u+"-line",m),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,m){a.metric&&(this._mScale=ut("div",u,m)),a.imperial&&(this._iScale=ut("div",u,m))},_update:function(){var a=this._map,u=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/a)},_updateImperial:function(a){var u=a*3.2808399,m,_,C;u>5280?(m=u/5280,_=this._getRoundNum(m),this._updateScale(this._iScale,_+" mi",_/m)):(C=this._getRoundNum(u),this._updateScale(this._iScale,C+" ft",C/u))},_updateScale:function(a,u,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),m=a/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),$l=function(a){return new zl(a)},Pf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',vo=wr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?Pf+" ":"")+"Leaflet</a>"},initialize:function(a){x(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=ut("div","leaflet-control-attribution"),yo(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});at.mergeOptions({attributionControl:!0}),at.addInitHook(function(){this.options.attributionControl&&new vo().addTo(this)});var Ty=function(a){return new vo(a)};wr.Layers=Ju,wr.Zoom=Ai,wr.Scale=zl,wr.Attribution=vo,ur.layers=Sy,ur.zoom=Cf,ur.scale=$l,ur.attribution=Ty;var Br=te.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Br.addTo=function(a,u){return a.addHandler(u,this),this};var ja={Events:Q},ed=Oe.touch?"touchstart mousedown":"mousedown",Ts=ee.extend({options:{clickTolerance:3},initialize:function(a,u,m,_){x(this,_),this._element=a,this._dragStartTarget=u||a,this._preventOutline=m},enable:function(){this._enabled||(ze(this._dragStartTarget,ed,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ts._dragging===this&&this.finishDrag(!0),Ct(this._dragStartTarget,ed,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!$u(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ts._dragging===this&&this.finishDrag();return}if(!(Ts._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ts._dragging=this,this._preventOutline&&ji(this._element),qu(),Es(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,m=Gu(this._element);this._startPoint=new U(u.clientX,u.clientY),this._startPos=ss(this._element),this._parentScale=Ll(m);var _=a.type==="mousedown";ze(document,_?"mousemove":"touchmove",this._onMove,this),ze(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,m=new U(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Ht(a),this._moved||(this.fire("dragstart"),this._moved=!0,Ye(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ye(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),He(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){zt(document.body,"leaflet-dragging"),this._lastTarget&&(zt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ct(document,"mousemove touchmove",this._onMove,this),Ct(document,"mouseup touchend touchcancel",this._onUp,this),Hu(),Ss();var u=this._moved&&this._moving;this._moving=!1,Ts._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Bl(a,u,m){var _,C=[1,4,2,8],M,q,J,se,me,Se,$e,it;for(M=0,Se=a.length;M<Se;M++)a[M]._code=Js(a[M],u);for(J=0;J<4;J++){for($e=C[J],_=[],M=0,Se=a.length,q=Se-1;M<Se;q=M++)se=a[M],me=a[q],se._code&$e?me._code&$e||(it=En(me,se,$e,u,m),it._code=Js(it,u),_.push(it)):(me._code&$e&&(it=En(me,se,$e,u,m),it._code=Js(it,u),_.push(it)),_.push(se));a=_}return a}function Ul(a,u){var m,_,C,M,q,J,se,me,Se;if(!a||a.length===0)throw new Error("latlngs not passed");f(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var $e=be([0,0]),it=ue(a),dr=it.getNorthWest().distanceTo(it.getSouthWest())*it.getNorthEast().distanceTo(it.getNorthWest());dr<1700&&($e=ql(a));var Sn=a.length,cs=[];for(m=0;m<Sn;m++){var br=be(a[m]);cs.push(u.project(be([br.lat-$e.lat,br.lng-$e.lng])))}for(J=se=me=0,m=0,_=Sn-1;m<Sn;_=m++)C=cs[m],M=cs[_],q=C.y*M.x-M.y*C.x,se+=(C.x+M.x)*q,me+=(C.y+M.y)*q,J+=q*3;J===0?Se=cs[0]:Se=[se/J,me/J];var Yl=u.unproject(K(Se));return be([Yl.lat+$e.lat,Yl.lng+$e.lng])}function ql(a){for(var u=0,m=0,_=0,C=0;C<a.length;C++){var M=be(a[C]);u+=M.lat,m+=M.lng,_++}return be([u/_,m/_])}var Hl={__proto__:null,clipPolygon:Bl,polygonCenter:Ul,centroid:ql};function td(a,u){if(!u||!a.length)return a.slice();var m=u*u;return a=kf(a,m),a=If(a,m),a}function nd(a,u,m){return Math.sqrt(ls(a,u,m,!0))}function Ri(a,u,m){return ls(a,u,m)}function If(a,u){var m=a.length,_=typeof Uint8Array<"u"?Uint8Array:Array,C=new _(m);C[0]=C[m-1]=1,Wl(a,C,u,0,m-1);var M,q=[];for(M=0;M<m;M++)C[M]&&q.push(a[M]);return q}function Wl(a,u,m,_,C){var M=0,q,J,se;for(J=_+1;J<=C-1;J++)se=ls(a[J],a[_],a[C],!0),se>M&&(q=J,M=se);M>m&&(u[q]=1,Wl(a,u,m,_,q),Wl(a,u,m,q,C))}function kf(a,u){for(var m=[a[0]],_=1,C=0,M=a.length;_<M;_++)jf(a[_],a[C])>u&&(m.push(a[_]),C=_);return C<M-1&&m.push(a[M-1]),m}var rd;function Aa(a,u,m,_,C){var M=_?rd:Js(a,m),q=Js(u,m),J,se,me;for(rd=q;;){if(!(M|q))return[a,u];if(M&q)return!1;J=M||q,se=En(a,u,J,m,C),me=Js(se,m),J===M?(a=se,M=me):(u=se,q=me)}}function En(a,u,m,_,C){var M=u.x-a.x,q=u.y-a.y,J=_.min,se=_.max,me,Se;return m&8?(me=a.x+M*(se.y-a.y)/q,Se=se.y):m&4?(me=a.x+M*(J.y-a.y)/q,Se=J.y):m&2?(me=se.x,Se=a.y+q*(se.x-a.x)/M):m&1&&(me=J.x,Se=a.y+q*(J.x-a.x)/M),new U(me,Se,C)}function Js(a,u){var m=0;return a.x<u.min.x?m|=1:a.x>u.max.x&&(m|=2),a.y<u.min.y?m|=4:a.y>u.max.y&&(m|=8),m}function jf(a,u){var m=u.x-a.x,_=u.y-a.y;return m*m+_*_}function ls(a,u,m,_){var C=u.x,M=u.y,q=m.x-C,J=m.y-M,se=q*q+J*J,me;return se>0&&(me=((a.x-C)*q+(a.y-M)*J)/se,me>1?(C=m.x,M=m.y):me>0&&(C+=q*me,M+=J*me)),q=a.x-C,J=a.y-M,_?q*q+J*J:new U(C,M)}function f(a){return!P(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function b(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(a)}function I(a,u){var m,_,C,M,q,J,se,me;if(!a||a.length===0)throw new Error("latlngs not passed");f(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Se=be([0,0]),$e=ue(a),it=$e.getNorthWest().distanceTo($e.getSouthWest())*$e.getNorthEast().distanceTo($e.getNorthWest());it<1700&&(Se=ql(a));var dr=a.length,Sn=[];for(m=0;m<dr;m++){var cs=be(a[m]);Sn.push(u.project(be([cs.lat-Se.lat,cs.lng-Se.lng])))}for(m=0,_=0;m<dr-1;m++)_+=Sn[m].distanceTo(Sn[m+1])/2;if(_===0)me=Sn[0];else for(m=0,M=0;m<dr-1;m++)if(q=Sn[m],J=Sn[m+1],C=q.distanceTo(J),M+=C,M>_){se=(M-_)/C,me=[J.x-se*(J.x-q.x),J.y-se*(J.y-q.y)];break}var br=u.unproject(K(me));return be([br.lat+Se.lat,br.lng+Se.lng])}var z={__proto__:null,simplify:td,pointToSegmentDistance:nd,closestPointOnSegment:Ri,clipSegment:Aa,_getEdgeIntersection:En,_getBitCode:Js,_sqClosestPointOnSegment:ls,isFlat:f,_flat:b,polylineCenter:I},X={project:function(a){return new U(a.lng,a.lat)},unproject:function(a){return new ge(a.y,a.x)},bounds:new ne([-180,-90],[180,90])},oe={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,m=this.R,_=a.lat*u,C=this.R_MINOR/m,M=Math.sqrt(1-C*C),q=M*Math.sin(_),J=Math.tan(Math.PI/4-_/2)/Math.pow((1-q)/(1+q),M/2);return _=-m*Math.log(Math.max(J,1e-10)),new U(a.lng*u*m,_)},unproject:function(a){for(var u=180/Math.PI,m=this.R,_=this.R_MINOR/m,C=Math.sqrt(1-_*_),M=Math.exp(-a.y/m),q=Math.PI/2-2*Math.atan(M),J=0,se=.1,me;J<15&&Math.abs(se)>1e-7;J++)me=C*Math.sin(q),me=Math.pow((1-me)/(1+me),C/2),se=Math.PI/2-2*Math.atan(M*me)-q,q+=se;return new ge(q*u,a.x*u/m)}},we={__proto__:null,LonLat:X,Mercator:oe,SphericalMercator:ae},Et=s({},ve,{code:"EPSG:3395",projection:oe,transformation:function(){var a=.5/(Math.PI*oe.R);return le(a,.5,-a,.5)}()}),ln=s({},ve,{code:"EPSG:4326",projection:X,transformation:le(1/180,1,-1/180,.5)}),pt=s({},G,{projection:X,transformation:le(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var m=u.lng-a.lng,_=u.lat-a.lat;return Math.sqrt(m*m+_*_)},infinite:!0});G.Earth=ve,G.EPSG3395=Et,G.EPSG3857=Ie,G.EPSG900913=je,G.EPSG4326=ln,G.Simple=pt;var Pt=ee.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[d(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[d(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});at.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=d(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=d(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return d(a)in this._layers},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},_addLayers:function(a){a=a?P(a)?a:[a]:[];for(var u=0,m=a.length;u<m;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[d(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=d(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,m=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var C=this._zoomBoundLayers[_].options;a=C.minZoom===void 0?a:Math.min(a,C.minZoom),u=C.maxZoom===void 0?u:Math.max(u,C.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wt=Pt.extend({initialize:function(a,u){x(this,u),this._layers={};var m,_;if(a)for(m=0,_=a.length;m<_;m++)this.addLayer(a[m])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),m,_;for(m in this._layers)_=this._layers[m],_[a]&&_[a].apply(_,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return d(a)}}),xo=function(a,u){return new Wt(a,u)},rn=Wt.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Wt.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Wt.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new Z;for(var u in this._layers){var m=this._layers[u];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),Gl=function(a,u){return new rn(a,u)},ei=te.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){x(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,u){var m=this.options,_=m[u+"Size"];typeof _=="number"&&(_=[_,_]);var C=K(_),M=K(u==="shadow"&&m.shadowAnchor||m.iconAnchor||C&&C.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(m.className||""),M&&(a.style.marginLeft=-M.x+"px",a.style.marginTop=-M.y+"px"),C&&(a.style.width=C.x+"px",a.style.height=C.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Oe.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function DM(a){return new ei(a)}var sd=ei.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof sd.imagePath!="string"&&(sd.imagePath=this._detectIconPath()),(this.options.imagePath||sd.imagePath)+ei.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(m,_,C){var M=_.exec(m);return M&&M[C]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=ut("div","leaflet-default-icon-path",document.body),u=fo(a,"background-image")||fo(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Ub=Br.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ts(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ye(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&zt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,m=u._map,_=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,M=ss(u._icon),q=m.getPixelBounds(),J=m.getPixelOrigin(),se=ie(q.min._subtract(J).add(C),q.max._subtract(J).subtract(C));if(!se.contains(M)){var me=K((Math.max(se.max.x,M.x)-se.max.x)/(q.max.x-se.max.x)-(Math.min(se.min.x,M.x)-se.min.x)/(q.min.x-se.min.x),(Math.max(se.max.y,M.y)-se.max.y)/(q.max.y-se.max.y)-(Math.min(se.min.y,M.y)-se.min.y)/(q.min.y-se.min.y)).multiplyBy(_);m.panBy(me,{animate:!1}),this._draggable._newPos._add(me),this._draggable._startPos._add(me),He(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=R(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(V(this._panRequest),this._panRequest=R(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,m=u._shadow,_=ss(u._icon),C=u._map.layerPointToLatLng(_);m&&He(m,_),u._latlng=C,a.latlng=C,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){V(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Af=Pt.extend({options:{icon:new sd,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){x(this,u),this._latlng=be(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=be(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),_=!1;m!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),Ye(m,u),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(m,"focus",this._panOnFocus,this);var C=a.icon.createShadow(this._shadow),M=!1;C!==this._shadow&&(this._removeShadow(),M=!0),C&&(Ye(C,u),C.alt=""),this._shadow=C,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&M&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(this._icon,"focus",this._panOnFocus,this),kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&kt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&He(this._icon,a),this._shadow&&He(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ye(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ub)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ub(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Jt(this._icon,a),this._shadow&&Jt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,m=u.iconSize?K(u.iconSize):K(0,0),_=u.iconAnchor?K(u.iconAnchor):K(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:m.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function OM(a,u){return new Af(a,u)}var _o=Pt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return x(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Rf=_o.extend({options:{fill:!0,radius:10},initialize:function(a,u){x(this,u),this._latlng=be(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=be(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return _o.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,m=this._clickTolerance(),_=[a+m,u+m];this._pxBounds=new ne(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function LM(a,u){return new Rf(a,u)}var Cy=Rf.extend({initialize:function(a,u,m){if(typeof u=="number"&&(u=s({},m,{radius:u})),x(this,u),this._latlng=be(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:_o.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,m=this._map,_=m.options.crs;if(_.distance===ve.distance){var C=Math.PI/180,M=this._mRadius/ve.R/C,q=m.project([u+M,a]),J=m.project([u-M,a]),se=q.add(J).divideBy(2),me=m.unproject(se).lat,Se=Math.acos((Math.cos(M*C)-Math.sin(u*C)*Math.sin(me*C))/(Math.cos(u*C)*Math.cos(me*C)))/C;(isNaN(Se)||Se===0)&&(Se=M/Math.cos(Math.PI/180*u)),this._point=se.subtract(m.getPixelOrigin()),this._radius=isNaN(Se)?0:se.x-m.project([me,a-Se]).x,this._radiusY=se.y-q.y}else{var $e=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint($e).x}this._updateBounds()}});function FM(a,u,m){return new Cy(a,u,m)}var Mi=_o.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){x(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,m=null,_=ls,C,M,q=0,J=this._parts.length;q<J;q++)for(var se=this._parts[q],me=1,Se=se.length;me<Se;me++){C=se[me-1],M=se[me];var $e=_(a,C,M,!0);$e<u&&(u=$e,m=_(a,C,M))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return I(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=be(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Z,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],m=f(a),_=0,C=a.length;_<C;_++)m?(u[_]=be(a[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(a[_]);return u},_project:function(){var a=new ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new U(a,a);this._rawPxBounds&&(this._pxBounds=new ne([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,m){var _=a[0]instanceof ge,C=a.length,M,q;if(_){for(q=[],M=0;M<C;M++)q[M]=this._map.latLngToLayerPoint(a[M]),m.extend(q[M]);u.push(q)}else for(M=0;M<C;M++)this._projectLatlngs(a[M],u,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,_,C,M,q,J,se;for(m=0,C=0,M=this._rings.length;m<M;m++)for(se=this._rings[m],_=0,q=se.length;_<q-1;_++)J=Aa(se[_],se[_+1],a,_,!0),J&&(u[C]=u[C]||[],u[C].push(J[0]),(J[1]!==se[_+1]||_===q-2)&&(u[C].push(J[1]),C++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,m=0,_=a.length;m<_;m++)a[m]=td(a[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var m,_,C,M,q,J,se=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,M=this._parts.length;m<M;m++)for(J=this._parts[m],_=0,q=J.length,C=q-1;_<q;C=_++)if(!(!u&&_===0)&&nd(a,J[C],J[_])<=se)return!0;return!1}});function VM(a,u){return new Mi(a,u)}Mi._flat=b;var Kl=Mi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ul(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Mi.prototype._convertLatLngs.call(this,a),m=u.length;return m>=2&&u[0]instanceof ge&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(a){Mi.prototype._setLatLngs.call(this,a),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,m=new U(u,u);if(a=new ne(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,C=this._rings.length,M;_<C;_++)M=Bl(this._rings[_],a,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,m,_,C,M,q,J,se,me;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(M=0,se=this._parts.length;M<se;M++)for(m=this._parts[M],q=0,me=m.length,J=me-1;q<me;J=q++)_=m[q],C=m[J],_.y>a.y!=C.y>a.y&&a.x<(C.x-_.x)*(a.y-_.y)/(C.y-_.y)+_.x&&(u=!u);return u||Mi.prototype._containsPoint.call(this,a,!0)}});function zM(a,u){return new Kl(a,u)}var Di=rn.extend({initialize:function(a,u){x(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=P(a)?a:a.features,m,_,C;if(u){for(m=0,_=u.length;m<_;m++)C=u[m],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var M=this.options;if(M.filter&&!M.filter(a))return this;var q=Mf(a,M);return q?(q.feature=Lf(a),q.defaultOptions=q.options,this.resetStyle(q),M.onEachFeature&&M.onEachFeature(a,q),this.addLayer(q)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=s({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function Mf(a,u){var m=a.type==="Feature"?a.geometry:a,_=m?m.coordinates:null,C=[],M=u&&u.pointToLayer,q=u&&u.coordsToLatLng||Py,J,se,me,Se;if(!_&&!m)return null;switch(m.type){case"Point":return J=q(_),qb(M,a,J,u);case"MultiPoint":for(me=0,Se=_.length;me<Se;me++)J=q(_[me]),C.push(qb(M,a,J,u));return new rn(C);case"LineString":case"MultiLineString":return se=Df(_,m.type==="LineString"?0:1,q),new Mi(se,u);case"Polygon":case"MultiPolygon":return se=Df(_,m.type==="Polygon"?1:2,q),new Kl(se,u);case"GeometryCollection":for(me=0,Se=m.geometries.length;me<Se;me++){var $e=Mf({geometry:m.geometries[me],type:"Feature",properties:a.properties},u);$e&&C.push($e)}return new rn(C);case"FeatureCollection":for(me=0,Se=m.features.length;me<Se;me++){var it=Mf(m.features[me],u);it&&C.push(it)}return new rn(C);default:throw new Error("Invalid GeoJSON object.")}}function qb(a,u,m,_){return a?a(u,m):new Af(m,_&&_.markersInheritOptions&&_)}function Py(a){return new ge(a[1],a[0],a[2])}function Df(a,u,m){for(var _=[],C=0,M=a.length,q;C<M;C++)q=u?Df(a[C],u-1,m):(m||Py)(a[C]),_.push(q);return _}function Iy(a,u){return a=be(a),a.alt!==void 0?[y(a.lng,u),y(a.lat,u),y(a.alt,u)]:[y(a.lng,u),y(a.lat,u)]}function Of(a,u,m,_){for(var C=[],M=0,q=a.length;M<q;M++)C.push(u?Of(a[M],f(a[M])?0:u-1,m,_):Iy(a[M],_));return!u&&m&&C.length>0&&C.push(C[0].slice()),C}function Zl(a,u){return a.feature?s({},a.feature,{geometry:u}):Lf(u)}function Lf(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var ky={toGeoJSON:function(a){return Zl(this,{type:"Point",coordinates:Iy(this.getLatLng(),a)})}};Af.include(ky),Cy.include(ky),Rf.include(ky),Mi.include({toGeoJSON:function(a){var u=!f(this._latlngs),m=Of(this._latlngs,u?1:0,!1,a);return Zl(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),Kl.include({toGeoJSON:function(a){var u=!f(this._latlngs),m=u&&!f(this._latlngs[0]),_=Of(this._latlngs,m?2:u?1:0,!0,a);return u||(_=[_]),Zl(this,{type:(m?"Multi":"")+"Polygon",coordinates:_})}}),Wt.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(a).geometry.coordinates)}),Zl(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var m=u==="GeometryCollection",_=[];return this.eachLayer(function(C){if(C.toGeoJSON){var M=C.toGeoJSON(a);if(m)_.push(M.geometry);else{var q=Lf(M);q.type==="FeatureCollection"?_.push.apply(_,q.features):_.push(q)}}}),m?Zl(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function Hb(a,u){return new Di(a,u)}var $M=Hb,Ff=Pt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,m){this._url=a,this._bounds=ue(u),x(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ye(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ii(this._image),this},bringToBack:function(){return this._map&&mo(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ue(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:ut("img");if(Ye(u,"leaflet-image-layer"),this._zoomAnimated&&Ye(u,"leaflet-zoom-animated"),this.options.className&&Ye(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onload=l(this.fire,this,"load"),u.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Xs(this._image,m,u)},_reset:function(){var a=this._image,u=new ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();He(a,u.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),BM=function(a,u,m){return new Ff(a,u,m)},Wb=Ff.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:ut("video");if(Ye(u,"leaflet-image-layer"),this._zoomAnimated&&Ye(u,"leaflet-zoom-animated"),this.options.className&&Ye(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onloadeddata=l(this.fire,this,"load"),a){for(var m=u.getElementsByTagName("source"),_=[],C=0;C<m.length;C++)_.push(m[C].src);this._url=m.length>0?_:[u.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var q=ut("source");q.src=this._url[M],u.appendChild(q)}}});function UM(a,u,m){return new Wb(a,u,m)}var Gb=Ff.extend({_initImage:function(){var a=this._image=this._url;Ye(a,"leaflet-image-layer"),this._zoomAnimated&&Ye(a,"leaflet-zoom-animated"),this.options.className&&Ye(a,this.options.className),a.onselectstart=g,a.onmousemove=g}});function qM(a,u,m){return new Gb(a,u,m)}var ti=Pt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof ge||P(a))?(this._latlng=be(a),x(this,u)):(x(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Jt(this._container,1),this.bringToFront(),this.options.interactive&&(Ye(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Jt(this._container,0),this._removeTimeout=setTimeout(l(kt,void 0,this._container),200)):kt(this._container),this.options.interactive&&(zt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=be(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ii(this._container),this},bringToBack:function(){return this._map&&mo(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof rn){u=null;var m=this._source._layers;for(var _ in m)if(m[_]._map){u=m[_];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=K(this.options.offset),m=this._getAnchor();this._zoomAnimated?He(this._container,a.add(m)):u=u.add(a).add(m);var _=this._containerBottom=-u.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});at.include({_initOverlay:function(a,u,m,_){var C=u;return C instanceof a||(C=new a(_).setContent(u)),m&&C.setLatLng(m),C}}),Pt.include({_initOverlay:function(a,u,m,_){var C=m;return C instanceof a?(x(C,_),C._source=this):(C=u&&!_?u:new a(_,this),C.setContent(m)),C}});var Vf=ti.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,ti.prototype.openOn.call(this,a)},onAdd:function(a){ti.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof _o||this._source.on("preclick",as))},onRemove:function(a){ti.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof _o||this._source.off("preclick",as))},getEvents:function(){var a=ti.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=ut("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=ut("div",a+"-content-wrapper",u);if(this._contentNode=ut("div",a+"-content",m),yo(u),go(this._contentNode),ze(u,"contextmenu",as),this._tipContainer=ut("div",a+"-tip-container",u),this._tip=ut("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=ut("a",a+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',ze(_,"click",function(C){Ht(C),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var _=a.offsetHeight,C=this.options.maxHeight,M="leaflet-popup-scrolled";C&&_>C?(u.height=C+"px",Ye(a,M)):zt(a,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();He(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(fo(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,_=this._containerWidth,C=new U(this._containerLeft,-m-this._containerBottom);C._add(ss(this._container));var M=a.layerPointToContainerPoint(C),q=K(this.options.autoPanPadding),J=K(this.options.autoPanPaddingTopLeft||q),se=K(this.options.autoPanPaddingBottomRight||q),me=a.getSize(),Se=0,$e=0;M.x+_+se.x>me.x&&(Se=M.x+_-me.x+se.x),M.x-Se-J.x<0&&(Se=M.x-J.x),M.y+m+se.y>me.y&&($e=M.y+m-me.y+se.y),M.y-$e-J.y<0&&($e=M.y-J.y),(Se||$e)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Se,$e]))}},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),HM=function(a,u){return new Vf(a,u)};at.mergeOptions({closePopupOnClick:!0}),at.include({openPopup:function(a,u,m){return this._initOverlay(Vf,a,u,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Pt.include({bindPopup:function(a,u){return this._popup=this._initOverlay(Vf,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof rn||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){$r(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof _o)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var zf=ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){ti.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){ti.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=ti.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ut("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,m,_=this._map,C=this._container,M=_.latLngToContainerPoint(_.getCenter()),q=_.layerPointToContainerPoint(a),J=this.options.direction,se=C.offsetWidth,me=C.offsetHeight,Se=K(this.options.offset),$e=this._getAnchor();J==="top"?(u=se/2,m=me):J==="bottom"?(u=se/2,m=0):J==="center"?(u=se/2,m=me/2):J==="right"?(u=0,m=me/2):J==="left"?(u=se,m=me/2):q.x<M.x?(J="right",u=0,m=me/2):(J="left",u=se+(Se.x+$e.x)*2,m=me/2),a=a.subtract(K(u,m,!0)).add(Se).add($e),zt(C,"leaflet-tooltip-right"),zt(C,"leaflet-tooltip-left"),zt(C,"leaflet-tooltip-top"),zt(C,"leaflet-tooltip-bottom"),Ye(C,"leaflet-tooltip-"+J),He(C,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Jt(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),WM=function(a,u){return new zf(a,u)};at.include({openTooltip:function(a,u,m){return this._initOverlay(zf,a,u,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Pt.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(zf,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof rn||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(ze(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),ze(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,m,_;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Kb=ei.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(ka(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var _=K(m.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function GM(a){return new Kb(a)}ei.Default=sd;var id=Pt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){x(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),kt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ii(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(mo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof U?a:new U(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,m=-a(-1/0,1/0),_=0,C=u.length,M;_<C;_++)M=u[_].style.zIndex,u[_]!==this._container&&M&&(m=a(m,+M));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){Jt(this._container,this.options.opacity);var a=+new Date,u=!1,m=!1;for(var _ in this._tiles){var C=this._tiles[_];if(!(!C.current||!C.loaded)){var M=Math.min(1,(a-C.loaded)/200);Jt(C.el,M),M<1?u=!0:(C.active?m=!0:this._onOpaqueTile(C),C.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(V(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=u-Math.abs(a-m),this._onUpdateLevel(m)):(kt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var _=this._levels[a],C=this._map;return _||(_=this._levels[a]={},_.el=ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=C.project(C.unproject(C.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,C.getCenter(),C.getZoom()),g(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var a,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)kt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,m,_){var C=Math.floor(a/2),M=Math.floor(u/2),q=m-1,J=new U(+C,+M);J.z=+q;var se=this._tileCoordsToKey(J),me=this._tiles[se];return me&&me.active?(me.retain=!0,!0):(me&&me.loaded&&(me.retain=!0),q>_?this._retainParent(C,M,q,_):!1)},_retainChildren:function(a,u,m,_){for(var C=2*a;C<2*a+2;C++)for(var M=2*u;M<2*u+2;M++){var q=new U(C,M);q.z=m+1;var J=this._tileCoordsToKey(q),se=this._tiles[J];if(se&&se.active){se.retain=!0;continue}else se&&se.loaded&&(se.retain=!0);m+1<_&&this._retainChildren(C,M,m+1,_)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,m,_){var C=Math.round(u);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var M=this.options.updateWhenZooming&&C!==this._tileZoom;(!_||M)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,u)},_setZoomTransform:function(a,u,m){var _=this._map.getZoomScale(m,a.zoom),C=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,m)).round();Oe.any3d?Xs(a.el,C,_):He(a.el,C)},_resetGrid:function(){var a=this._map,u=a.options.crs,m=this._tileSize=this.getTileSize(),_=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],_).x/m.x),Math.ceil(a.project([0,u.wrapLng[1]],_).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],_).y/m.x),Math.ceil(a.project([u.wrapLat[1],0],_).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(m,this._tileZoom),C=u.project(a,this._tileZoom).floor(),M=u.getSize().divideBy(_*2);return new ne(C.subtract(M),C.add(M))},_update:function(a){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),C=this._pxBoundsToTileRange(_),M=C.getCenter(),q=[],J=this.options.keepBuffer,se=new ne(C.getBottomLeft().subtract([J,-J]),C.getTopRight().add([J,-J]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var me in this._tiles){var Se=this._tiles[me].coords;(Se.z!==this._tileZoom||!se.contains(new U(Se.x,Se.y)))&&(this._tiles[me].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var $e=C.min.y;$e<=C.max.y;$e++)for(var it=C.min.x;it<=C.max.x;it++){var dr=new U(it,$e);if(dr.z=this._tileZoom,!!this._isValidTile(dr)){var Sn=this._tiles[this._tileCoordsToKey(dr)];Sn?Sn.current=!0:q.push(dr)}}if(q.sort(function(br,Yl){return br.distanceTo(M)-Yl.distanceTo(M)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var cs=document.createDocumentFragment();for(it=0;it<q.length;it++)this._addTile(q[it],cs);this._level.el.appendChild(cs)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!u.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return ue(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,m=this.getTileSize(),_=a.scaleBy(m),C=_.add(m),M=u.unproject(_,a.z),q=u.unproject(C,a.z);return[M,q]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),m=new Z(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),m=new U(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(a){var u=this._tiles[a];u&&(kt(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Ye(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=g,a.onmousemove=g,Oe.ielt9&&this.options.opacity<1&&Jt(a,this.options.opacity)},_addTile:function(a,u){var m=this._getTilePos(a),_=this._tileCoordsToKey(a),C=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(C),this.createTile.length<2&&R(l(this._tileReady,this,a,null,C)),He(C,m),this._tiles[_]={el:C,coords:a,current:!0},u.appendChild(C),this.fire("tileloadstart",{tile:C,coords:a})},_tileReady:function(a,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:a});var _=this._tileCoordsToKey(a);m=this._tiles[_],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Jt(m.el,0),V(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(Ye(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?R(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new U(this._wrapX?p(a.x,this._wrapX):a.x,this._wrapY?p(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new ne(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function KM(a){return new id(a)}var Ql=id.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=x(this,u),u.detectRetina&&Oe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var m=document.createElement("img");return ze(m,"load",l(this._tileOnLoad,this,u,m)),ze(m,"error",l(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var u={r:Oe.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=m),u["-y"]=m}return N(this._url,s(u,this.options))},_tileOnLoad:function(a,u){Oe.ielt9?setTimeout(l(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,m){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),a(m,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,_=this.options.zoomOffset;return m&&(a=u-a),a+_},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=g,u.onerror=g,!u.complete)){u.src=$;var m=this._tiles[a].coords;kt(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",$),id.prototype._removeTile.call(this,a)},_tileReady:function(a,u,m){if(!(!this._map||m&&m.getAttribute("src")===$))return id.prototype._tileReady.call(this,a,u,m)}});function Zb(a,u){return new Ql(a,u)}var Qb=Ql.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var m=s({},this.defaultWmsParams);for(var _ in u)_ in this.options||(m[_]=u[_]);u=x(this,u);var C=u.detectRetina&&Oe.retina?2:1,M=this.getTileSize();m.width=M.x*C,m.height=M.y*C,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Ql.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),m=this._crs,_=ie(m.project(u[0]),m.project(u[1])),C=_.min,M=_.max,q=(this._wmsVersion>=1.3&&this._crs===ln?[C.y,C.x,M.y,M.x]:[C.x,C.y,M.x,M.y]).join(","),J=Ql.prototype.getTileUrl.call(this,a);return J+T(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(a,u){return s(this.wmsParams,a),u||this.redraw(),this}});function ZM(a,u){return new Qb(a,u)}Ql.WMS=Qb,Zb.wms=ZM;var Oi=Pt.extend({options:{padding:.1},initialize:function(a){x(this,a),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ye(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var m=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,u),M=_.multiplyBy(-m).add(C).subtract(this._map._getNewPixelOrigin(a,u));Oe.any3d?Xs(this._container,M,m):He(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new ne(m,m.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yb=Oi.extend({options:{tolerance:0},getEvents:function(){var a=Oi.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Oi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");ze(a,"mousemove",this._onMouseMove,this),ze(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){V(this._redrawRequest),delete this._ctx,kt(this._container),Ct(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Oi.prototype._update.call(this);var a=this._bounds,u=this._container,m=a.getSize(),_=Oe.retina?2:1;He(u,a.min),u.width=_*m.x,u.height=_*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Oi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[d(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,m=u.next,_=u.prev;m?m.prev=_:this._drawLast=_,_?_.next=m:this._drawFirst=m,delete a._order,delete this._layers[d(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),m=[],_,C;for(C=0;C<u.length;C++){if(_=Number(u[C]),isNaN(_))return;m.push(_)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||R(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ne,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var m,_,C,M,q=a._parts,J=q.length,se=this._ctx;if(J){for(se.beginPath(),m=0;m<J;m++){for(_=0,C=q[m].length;_<C;_++)M=q[m][_],se[_?"lineTo":"moveTo"](M.x,M.y);u&&se.closePath()}this._fillStroke(se,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,m=this._ctx,_=Math.max(Math.round(a._radius),1),C=(Math.max(Math.round(a._radiusY),1)||_)/_;C!==1&&(m.save(),m.scale(1,C)),m.beginPath(),m.arc(u.x,u.y/C,_,0,Math.PI*2,!1),C!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,u){var m=u.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),m,_,C=this._drawFirst;C;C=C.next)m=C.layer,m.options.interactive&&m._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(_=m);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(zt(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var m,_,C=this._drawFirst;C;C=C.next)m=C.layer,m.options.interactive&&m._containsPoint(u)&&(_=m);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(Ye(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,m){this._map._fireDOMEvent(u,m||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var m=u.next,_=u.prev;if(m)m.prev=_;else return;_?_.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var m=u.next,_=u.prev;if(_)_.next=m;else return;m?m.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function Xb(a){return Oe.canvas?new Yb(a):null}var od=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),QM={_initContainer:function(){this._container=ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Oi.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=od("shape");Ye(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=od("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;kt(u),a.removeInteractiveTarget(u),delete this._layers[d(a)]},_updateStyle:function(a){var u=a._stroke,m=a._fill,_=a.options,C=a._container;C.stroked=!!_.stroke,C.filled=!!_.fill,_.stroke?(u||(u=a._stroke=od("stroke")),C.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=P(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(C.removeChild(u),a._stroke=null),_.fill?(m||(m=a._fill=od("fill")),C.appendChild(m),m.color=_.fillColor||_.color,m.opacity=_.fillOpacity):m&&(C.removeChild(m),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),m=Math.round(a._radius),_=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+_+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Ii(a._container)},_bringToBack:function(a){mo(a._container)}},$f=Oe.vml?od:et,ad=Oi.extend({_initContainer:function(){this._container=$f("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$f("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){kt(this._container),Ct(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Oi.prototype._update.call(this);var a=this._bounds,u=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),He(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=$f("path");a.options.className&&Ye(u,a.options.className),a.options.interactive&&Ye(u,"leaflet-interactive"),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){kt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[d(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,m=a.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,ct(a._parts,u))},_updateCircle:function(a){var u=a._point,m=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||m,C="a"+m+","+_+" 0 1,0 ",M=a._empty()?"M0 0":"M"+(u.x-m)+","+u.y+C+m*2+",0 "+C+-m*2+",0 ";this._setPath(a,M)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Ii(a._path)},_bringToBack:function(a){mo(a._path)}});Oe.vml&&ad.include(QM);function Jb(a){return Oe.svg||Oe.vml?new ad(a):null}at.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&Xb(a)||Jb(a)}});var e1=Kl.extend({initialize:function(a,u){Kl.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ue(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function YM(a,u){return new e1(a,u)}ad.create=$f,ad.pointsToPath=ct,Di.geometryToLayer=Mf,Di.coordsToLatLng=Py,Di.coordsToLatLngs=Df,Di.latLngToCoords=Iy,Di.latLngsToCoords=Of,Di.getFeature=Zl,Di.asFeature=Lf,at.mergeOptions({boxZoom:!0});var t1=Br.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Es(),qu(),this._startPoint=this._map.mouseEventToContainerPoint(a),ze(document,{contextmenu:$r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=ut("div","leaflet-zoom-box",this._container),Ye(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new ne(this._point,this._startPoint),m=u.getSize();He(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(kt(this._box),zt(this._container,"leaflet-crosshair")),Ss(),Hu(),Ct(document,{contextmenu:$r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var u=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});at.addInitHook("addHandler","boxZoom",t1),at.mergeOptions({doubleClickZoom:!0});var n1=Br.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,m=u.getZoom(),_=u.options.zoomDelta,C=a.originalEvent.shiftKey?m-_:m+_;u.options.doubleClickZoom==="center"?u.setZoom(C):u.setZoomAround(a.containerPoint,C)}});at.addInitHook("addHandler","doubleClickZoom",n1),at.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var r1=Br.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ts(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Ye(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){zt(this._map._container,"leaflet-grab"),zt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=ue(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),m=this._initialWorldOffset,_=this._draggable._newPos.x,C=(_-u+m)%a+u-m,M=(_+u+m)%a-u-m,q=Math.abs(C+m)<Math.abs(M+m)?C:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(a){var u=this._map,m=u.options,_=!m.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),_)u.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,q=m.easeLinearity,J=C.multiplyBy(q/M),se=J.distanceTo([0,0]),me=Math.min(m.inertiaMaxSpeed,se),Se=J.multiplyBy(me/se),$e=me/(m.inertiaDeceleration*q),it=Se.multiplyBy(-$e/2).round();!it.x&&!it.y?u.fire("moveend"):(it=u._limitOffset(it,u.options.maxBounds),R(function(){u.panBy(it,{duration:$e,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});at.addInitHook("addHandler","dragging",r1),at.mergeOptions({keyboard:!0,keyboardPanDelta:80});var s1=Br.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),ze(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ct(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,m=a.scrollTop||u.scrollTop,_=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},m=this.keyCodes,_,C;for(_=0,C=m.left.length;_<C;_++)u[m.left[_]]=[-1*a,0];for(_=0,C=m.right.length;_<C;_++)u[m.right[_]]=[a,0];for(_=0,C=m.down.length;_<C;_++)u[m.down[_]]=[0,a];for(_=0,C=m.up.length;_<C;_++)u[m.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},m=this.keyCodes,_,C;for(_=0,C=m.zoomIn.length;_<C;_++)u[m.zoomIn[_]]=a;for(_=0,C=m.zoomOut.length;_<C;_++)u[m.zoomOut[_]]=-a},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,m=this._map,_;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(_=this._panKeys[u],a.shiftKey&&(_=K(_).multiplyBy(3)),m.options.maxBounds&&(_=m._limitOffset(K(_),m.options.maxBounds)),m.options.worldCopyJump){var C=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(_)));m.panTo(C)}else m.panBy(_)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;$r(a)}}});at.addInitHook("addHandler","keyboard",s1),at.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var i1=Br.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=Sf(a),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),_),$r(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,M=m?Math.ceil(C/m)*m:C,q=a._limitZoom(u+(this._delta>0?M:-M))-u;this._delta=0,this._startTime=null,q&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+q):a.setZoomAround(this._lastMousePos,u+q))}});at.addInitHook("addHandler","scrollWheelZoom",i1);var XM=600;at.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var o1=Br.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new U(u.clientX,u.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",Ht),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),XM),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Ct(document,"touchend",Ht),Ct(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new U(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});at.addInitHook("addHandler","tapHold",o1),at.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var a1=Br.extend({addHooks:function(){Ye(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){zt(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(_)._divideBy(2))),this._startDist=m.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),Ht(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]),C=m.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(C,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&C<1||this._zoom>u.getMaxZoom()&&C>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var M=m._add(_)._divideBy(2)._subtract(this._centerPoint);if(C===1&&M.x===0&&M.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),V(this._animRequest);var q=l(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=R(q,this,!0),Ht(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,V(this._animRequest),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});at.addInitHook("addHandler","touchZoom",a1),at.BoxZoom=t1,at.DoubleClickZoom=n1,at.Drag=r1,at.Keyboard=s1,at.ScrollWheelZoom=i1,at.TapHold=o1,at.TouchZoom=a1,n.Bounds=ne,n.Browser=Oe,n.CRS=G,n.Canvas=Yb,n.Circle=Cy,n.CircleMarker=Rf,n.Class=te,n.Control=wr,n.DivIcon=Kb,n.DivOverlay=ti,n.DomEvent=Tf,n.DomUtil=Nf,n.Draggable=Ts,n.Evented=ee,n.FeatureGroup=rn,n.GeoJSON=Di,n.GridLayer=id,n.Handler=Br,n.Icon=ei,n.ImageOverlay=Ff,n.LatLng=ge,n.LatLngBounds=Z,n.Layer=Pt,n.LayerGroup=Wt,n.LineUtil=z,n.Map=at,n.Marker=Af,n.Mixin=ja,n.Path=_o,n.Point=U,n.PolyUtil=Hl,n.Polygon=Kl,n.Polyline=Mi,n.Popup=Vf,n.PosAnimation=Xu,n.Projection=we,n.Rectangle=e1,n.Renderer=Oi,n.SVG=ad,n.SVGOverlay=Gb,n.TileLayer=Ql,n.Tooltip=zf,n.Transformation=ce,n.Util=F,n.VideoOverlay=Wb,n.bind=l,n.bounds=ie,n.canvas=Xb,n.circle=FM,n.circleMarker=LM,n.control=ur,n.divIcon=GM,n.extend=s,n.featureGroup=Gl,n.geoJSON=Hb,n.geoJson=$M,n.gridLayer=KM,n.icon=DM,n.imageOverlay=BM,n.latLng=be,n.latLngBounds=ue,n.layerGroup=xo,n.map=Vl,n.marker=OM,n.point=K,n.polygon=zM,n.polyline=VM,n.popup=HM,n.rectangle=YM,n.setOptions=x,n.stamp=d,n.svg=Jb,n.svgOverlay=qM,n.tileLayer=Zb,n.tooltip=WM,n.transformation=le,n.version=r,n.videoOverlay=UM;var JM=window.L;n.noConflict=function(){return window.L=JM,this},window.L=n})})(Rx,Rx.exports);var TZ=Rx.exports;const Io=Dx(TZ);delete Io.Icon.Default.prototype._getIconUrl;Io.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const CZ=()=>{var pe;const t=qn(),{orderId:e}=ZV(),{isDarkMode:n,toggleDarkMode:r}=mn(),[s,i]=v.useState(null),[l,c]=v.useState(null),[d,h]=v.useState(!0),[p,g]=v.useState(1),[y,w]=v.useState({minutes:0,seconds:0}),[S,x]=v.useState(0),T=v.useRef(null),E=v.useRef(null),N={default:{lat:22.5726,lng:88.3639,name:"Restaurant",address:"Kolkata",icon:""}};v.useEffect(()=>{const Q=St.onAuthStateChanged(async ee=>{ee?(i(ee),e&&await P(e)):t("/")});return()=>Q()},[t,e]);const P=async Q=>{h(!0);try{const ee=In(ht,"orders",Q);return Wq(ee,H=>{if(H.exists()){const K={id:H.id,...H.data()};c(K),K.status&&O(K.status),setTimeout(async()=>{await D(K)},100)}else Y.error("Order not found"),t("/past-orders");h(!1)})}catch(ee){console.error("Error loading order:",ee),Y.error("Failed to load order"),h(!1)}},D=async Q=>{if(!T.current||E.current)return;const ee=k(Q),U=Q.userLocation||{lat:22.5726,lng:88.3639},[H,K]=await Promise.all([j(ee.lat,ee.lng),j(U.lat,U.lng)]);ee.address=H;const ne=(ee.lat+U.lat)/2,ie=(ee.lng+U.lng)/2;E.current=Io.map(T.current).setView([ne,ie],15),Io.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}).addTo(E.current),Io.marker([ee.lat,ee.lng]).addTo(E.current).bindPopup(`<b>${ee.name}</b><br>${ee.address}`),Io.marker([U.lat,U.lng]).addTo(E.current).bindPopup(`<b>Your Location</b><br>${K}`),Io.polyline([[ee.lat,ee.lng],[U.lat,U.lng]],{color:"#3b82f6",weight:4,opacity:.7}).addTo(E.current);const Z=$(ee.lat,ee.lng,U.lat,U.lng);x(Z);const ue=Io.latLngBounds([[ee.lat,ee.lng],[U.lat,U.lng]]);E.current.fitBounds(ue,{padding:[20,20]})},$=(Q,ee,U,H)=>{const ne=(U-Q)*Math.PI/180,ie=(H-ee)*Math.PI/180,Z=Math.sin(ne/2)*Math.sin(ne/2)+Math.cos(Q*Math.PI/180)*Math.cos(U*Math.PI/180)*Math.sin(ie/2)*Math.sin(ie/2);return 6371*(2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z)))};v.useEffect(()=>{if(!(l!=null&&l.estimatedDeliveryTime))return;const Q=setInterval(()=>{const ee=new Date().getTime(),H=(l.estimatedDeliveryTime.toDate?l.estimatedDeliveryTime.toDate().getTime():new Date(l.estimatedDeliveryTime).getTime())-ee;if(H>0){const K=Math.floor(H/6e4),ne=Math.floor(H%(1e3*60)/1e3);w({minutes:K,seconds:ne})}else w({minutes:0,seconds:0}),l.status!=="delivered"&&B("delivered")},1e3);return()=>clearInterval(Q)},[l]);const B=async Q=>{if(e)try{const ee=In(ht,"orders",e);await ia(ee,{status:Q})}catch(ee){console.error("Error updating order status:",ee)}},A=Q=>{if(!Q||Q.length===0)return"default";const ee=Q[0].name.toLowerCase();return ee.includes("domino")||ee.includes("pizza")?"dominos":ee.includes("spice")||ee.includes("ice")?"spice_n_ice":ee.includes("china")||ee.includes("nation")?"china_nation":"default"},k=Q=>{if(!Q||!Q.items)return N.default;const ee=Q.userLocation||{lat:22.5726,lng:88.3639},U=A(Q.items),H={dominos:{name:"Domino's Pizza",address:"Nearby Location",icon:"",offset:{lat:.002,lng:.003}},spice_n_ice:{name:"Spice N Ice",address:"Local Restaurant",icon:"",offset:{lat:-.001,lng:.002}},china_nation:{name:"China Nation",address:"Chinese Restaurant",icon:"",offset:{lat:.003,lng:-.001}},default:{name:"Local Restaurant",address:"Nearby Location",icon:"",offset:{lat:.001,lng:.001}}},K=H[U]||H.default;return{lat:ee.lat+K.offset.lat,lng:ee.lng+K.offset.lng,name:K.name,address:K.address,icon:K.icon}},j=async(Q,ee)=>{try{const H=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${Q}&lon=${ee}&zoom=18&addressdetails=1`)).json();if(H&&H.display_name){const K=H.display_name.split(", "),ne=K[0]||"Nearby Location",ie=K[K.length-3]||"Your Area";return`${ne}, ${ie}`}}catch(U){console.error("Error getting address:",U)}return"Nearby Location"},O=Q=>{switch(Q){case"pending":g(1);break;case"confirmed":g(2);break;case"preparing":g(3);break;case"out_for_delivery":g(4);break;case"delivered":g(5);break;default:g(1)}},R=Q=>{const ee=[{title:"Order Placed",description:"Your order has been received",icon:"",color:"text-blue-400"},{title:"Order Confirmed",description:"Restaurant has confirmed your order",icon:"",color:"text-green-400"},{title:"Preparing",description:"Your food is being prepared",icon:"",color:"text-yellow-400"},{title:"Out for Delivery",description:"Your order is on the way",icon:"",color:"text-quicklymart-orange-400"},{title:"Delivered",description:"Enjoy your meal!",icon:"",color:"text-green-500"}];return ee[Q-1]||ee[0]},V=()=>{var Q;return l?typeof l.deliveryAddress=="string"?l.deliveryAddress:(Q=l.deliveryAddress)!=null&&Q.address?`${l.deliveryAddress.address}, ${l.deliveryAddress.city}, ${l.deliveryAddress.state} - ${l.deliveryAddress.pincode}`:"Address not available":""};if(v.useEffect(()=>()=>{E.current&&(E.current.remove(),E.current=null)},[]),!s)return o.jsx("div",{children:"Loading..."});if(d)return o.jsx("div",{className:"min-h-screen bg-white text-gray-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{children:"Loading order details..."})]})});if(!l)return o.jsx("div",{className:"min-h-screen bg-white text-gray-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{children:"Order not found"}),o.jsx(W,{onClick:()=>t("/past-orders"),className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white",children:"Go to Past Orders"})]})});const F=k(l),te=R(p);return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/past-orders"),children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-gray-800 font-bold text-lg",children:["Order #",l.id.slice(-6)]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(e3,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-orange-500 font-semibold",children:[y.minutes,"m ",y.seconds,"s left"]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:r,title:n?"Switch to light mode":"Switch to dark mode",children:n?o.jsx(An,{className:"w-5 h-5"}):o.jsx(bn,{className:"w-5 h-5"})}),o.jsxs(an,{className:"bg-orange-500 text-white",children:[o.jsx(pu,{className:"w-4 h-4 mr-1"}),S.toFixed(1)," km away"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-4",children:[o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(yt,{children:o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(gr,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Live Tracking"})]})}),o.jsxs(Re,{children:[o.jsx("div",{ref:T,className:"w-full h-64 rounded-lg border border-gray-200",style:{zIndex:1}}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Distance"}),o.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[S.toFixed(1)," km"]})]}),o.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Est. Time"}),o.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[y.minutes,"m ",y.seconds,"s"]})]})]})]})]}),o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsxs(yt,{children:[o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:te.icon}),o.jsx("span",{className:"text-orange-500",children:te.title})]}),o.jsx("p",{className:"text-gray-600",children:te.description})]}),o.jsx(Re,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Progress"}),o.jsxs("span",{className:"text-gray-800",children:[Math.round(p/5*100),"%"]})]}),o.jsx(sM,{value:p/5*100,className:"h-2"})]}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(Q=>o.jsxs("div",{className:`flex flex-col items-center p-2 rounded-lg transition-all duration-300 ${Q<=p?"bg-orange-100 scale-105":"bg-gray-100"}`,children:[o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs transition-all duration-300 ${Q<=p?"bg-orange-500 shadow-lg text-white":"bg-gray-300 text-gray-600"}`,children:Q<p?"":Q}),o.jsx("span",{className:"text-xs mt-1 text-center text-gray-600",children:R(Q).title.split(" ")[0]})]},Q))})]})})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(yt,{children:o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:F.icon}),o.jsx("span",{children:"Restaurant"})]})}),o.jsxs(Re,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:F.name}),o.jsx("p",{className:"text-gray-600",children:F.address})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(W,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Call Restaurant"]}),o.jsxs(W,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(jN,{className:"w-4 h-4 mr-2"}),"Directions"]})]})]})]}),o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(yt,{children:o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(Os,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Delivery Address"})]})}),o.jsxs(Re,{className:"space-y-4",children:[o.jsx("div",{children:o.jsx("p",{className:"text-gray-600",children:V()})}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(W,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Call Delivery"]}),o.jsxs(W,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(jN,{className:"w-4 h-4 mr-2"}),"Track Order"]})]})]})]})]}),o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(yt,{children:o.jsx(bt,{className:"text-gray-800",children:"Order Items"})}),o.jsxs(Re,{children:[o.jsx("div",{className:"space-y-3",children:(pe=l.items)==null?void 0:pe.map((Q,ee)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-orange-600 text-sm",children:""})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:Q.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",Q.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["",Q.price]})]},ee))}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["",l.totalPrice||l.total||0]})]})})]})]}),o.jsxs("div",{className:"flex space-x-3 mb-6",children:[o.jsx(W,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>t("/past-orders"),children:"View All Orders"}),o.jsx(W,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>t("/"),children:"Order Again"})]})]})]})};var wy="Switch",[PZ,jQ]=ar(wy),[IZ,kZ]=PZ(wy),iM=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:l,disabled:c,value:d="on",onCheckedChange:h,form:p,...g}=t,[y,w]=v.useState(null),S=ot(e,P=>w(P)),x=v.useRef(!1),T=y?p||!!y.closest("form"):!0,[E,N]=_s({prop:s,defaultProp:i??!1,onChange:h,caller:wy});return o.jsxs(IZ,{scope:n,checked:E,disabled:c,children:[o.jsx(De.button,{type:"button",role:"switch","aria-checked":E,"aria-required":l,"data-state":cM(E),"data-disabled":c?"":void 0,disabled:c,value:d,...g,ref:S,onClick:Ne(t.onClick,P=>{N(D=>!D),T&&(x.current=P.isPropagationStopped(),x.current||P.stopPropagation())})}),T&&o.jsx(lM,{control:y,bubbles:!x.current,name:r,value:d,checked:E,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});iM.displayName=wy;var oM="SwitchThumb",aM=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=kZ(oM,n);return o.jsx(De.span,{"data-state":cM(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});aM.displayName=oM;var jZ="SwitchBubbleInput",lM=v.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const l=v.useRef(null),c=ot(l,i),d=xb(n),h=J_(e);return v.useEffect(()=>{const p=l.current;if(!p)return;const g=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&w){const S=new Event("click",{bubbles:r});w.call(p,n),p.dispatchEvent(S)}},[d,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lM.displayName=jZ;function cM(t){return t?"checked":"unchecked"}var uM=iM,AZ=aM;const Dd=v.forwardRef(({className:t,...e},n)=>o.jsx(uM,{className:Me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(AZ,{className:Me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Dd.displayName=uM.displayName;const RZ=()=>{const t=qn(),{isDarkMode:e,setDarkMode:n}=mn(),[r,s]=v.useState(null),[i,l]=v.useState(!0),[c,d]=v.useState({notifications:!0,language:"en",sound:!0,emailNotifications:!0,pushNotifications:!0}),[h,p]=v.useState(!1),[g,y]=v.useState(!1),[w,S]=v.useState(!1),[x,T]=v.useState(!1),[E,N]=v.useState(""),[P,D]=v.useState(""),[$,B]=v.useState(""),[A,k]=v.useState(!1),[j,O]=v.useState(!1),[R,V]=v.useState(!1),[F,te]=v.useState(!1),[pe,Q]=v.useState(""),[ee,U]=v.useState(!1),[H,K]=v.useState(!1),[ne,ie]=v.useState(!1);v.useEffect(()=>{const ae=St.onAuthStateChanged(async ce=>{if(ce){s(ce),await Z(ce.uid);const le=await iu(In(ht,"users",ce.uid));if(le.exists()){const Ie=le.data();K(Ie.twoFactorEnabled||!1)}}else t("/")});return()=>ae()},[t]);const Z=async ae=>{l(!0);try{const ce=await iu(In(ht,"users",ae));if(ce.exists()){const le=ce.data();le.settings&&(d(le.settings),le.settings.darkMode!==void 0&&n(le.settings.darkMode))}}catch(ce){console.error("Error loading settings:",ce),Y.error("Failed to load settings")}finally{l(!1)}},ue=async(ae,ce)=>{if(r)try{const le={...c,[ae]:ce};d(le);const Ie=In(ht,"users",r.uid);await ia(Ie,{settings:le,updatedAt:new Date}),ae==="pushNotifications"&&ce&&await be(),ae==="sound"&&ce&&new Audio("/notification.mp3").play().catch(()=>{}),Y.success(`${ae.replace(/([A-Z])/g," $1").toLowerCase()} updated`)}catch(le){console.error("Error updating settings:",le),Y.error("Failed to update settings"),d(Ie=>({...Ie,[ae]:!ce}))}},ge=async ae=>{if(n(ae),!!r)try{const ce={...c,darkMode:ae};d(ce);const le=In(ht,"users",r.uid);await ia(le,{settings:ce,updatedAt:new Date}),Y.success(`Dark mode ${ae?"enabled":"disabled"}`)}catch(ce){console.error("Error updating dark mode:",ce),Y.error("Failed to update dark mode")}},be=async()=>{"Notification"in window&&await Notification.requestPermission()!=="granted"&&(Y.error("Notification permission denied"),d(ce=>({...ce,pushNotifications:!1})))},G=async ae=>{if(ae.preventDefault(),P!==$){Y.error("New passwords do not match");return}if(P.length<6){Y.error("Password must be at least 6 characters long");return}te(!0);try{const ce=Tl.credential(r.email,E);await i$(r,ce),await c$(r,P),Y.success("Password updated successfully"),p(!1),N(""),D(""),B("")}catch(ce){console.error("Error changing password:",ce),ce.code==="auth/wrong-password"?Y.error("Current password is incorrect"):ce.code==="auth/weak-password"?Y.error("New password is too weak"):Y.error("Failed to update password")}finally{te(!1)}},ve=async()=>{ie(!0);try{const ae=In(ht,"users",r.uid);await ia(ae,{twoFactorEnabled:!0,updatedAt:new Date}),K(!0),Y.success("Two-factor authentication enabled"),T(!1)}catch(ae){console.error("Error setting up 2FA:",ae),Y.error("Failed to setup two-factor authentication")}finally{ie(!1)}},re=async()=>{if(pe!=="DELETE"){Y.error("Please type DELETE to confirm");return}U(!0);try{const ae=In(ht,"users",r.uid);await Xj(ae),await m$(r),Y.success("Account deleted successfully"),t("/")}catch(ae){console.error("Error deleting account:",ae),Y.error("Failed to delete account. Please try again.")}finally{U(!1)}};return r?o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Settings"})]})})})}),o.jsx("div",{className:"container mx-auto px-4 py-6 space-y-6",children:i?o.jsx(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:o.jsxs(Re,{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading settings..."})]})}):o.jsxs(o.Fragment,{children:[o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(yt,{children:o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(PN,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Notifications"})]})}),o.jsxs(Re,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(PN,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Ve,{className:"text-gray-800",children:"Push Notifications"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Receive notifications on your device"})]})]}),o.jsx(Dd,{checked:c.pushNotifications,onCheckedChange:ae=>ue("pushNotifications",ae)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(_i,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Ve,{className:"text-gray-800",children:"Email Notifications"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Receive updates via email"})]})]}),o.jsx(Dd,{checked:c.emailNotifications,onCheckedChange:ae=>ue("emailNotifications",ae)})]})]})]}),o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(yt,{children:o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(bn,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Appearance"})]})}),o.jsxs(Re,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[e?o.jsx(bn,{className:"w-5 h-5 text-gray-500"}):o.jsx(An,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Ve,{className:"text-gray-800",children:"Dark Mode"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Use dark theme"})]})]}),o.jsx(Dd,{checked:e,onCheckedChange:ge})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(dI,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Ve,{className:"text-gray-800",children:"Language"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Choose your preferred language"})]})]}),o.jsxs(au,{value:c.language,onValueChange:ae=>ue("language",ae),children:[o.jsx(pl,{className:"w-32 bg-white border-gray-300",children:o.jsx(lu,{})}),o.jsxs(gl,{children:[o.jsx(Ot,{value:"en",children:"English"}),o.jsx(Ot,{value:"hi",children:"Hindi"}),o.jsx(Ot,{value:"bn",children:"Bengali"})]})]})]})]})]}),o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(yt,{children:o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[c.sound?o.jsx(AN,{className:"w-5 h-5 text-orange-500"}):o.jsx(r3,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Sound & Vibration"})]})}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(AN,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Ve,{className:"text-gray-800",children:"Sound Effects"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Play sounds for notifications"})]})]}),o.jsx(Dd,{checked:c.sound,onCheckedChange:ae=>ue("sound",ae)})]})})]}),o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(yt,{children:o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(Ec,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Privacy & Security"})]})}),o.jsxs(Re,{className:"space-y-4",children:[o.jsxs(W,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>p(!0),children:[o.jsx(fI,{className:"w-4 h-4 mr-2"}),"Change Password"]}),o.jsxs(W,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>T(!0),children:[o.jsx(wp,{className:"w-4 h-4 mr-2"}),"Two-Factor Authentication",H&&o.jsx("span",{className:"ml-2 text-orange-500",children:" Enabled"})]}),o.jsxs(W,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>y(!0),children:[o.jsx(Ec,{className:"w-4 h-4 mr-2"}),"Privacy Policy"]})]})]}),o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(yt,{children:o.jsx(bt,{className:"text-gray-800",children:"Account"})}),o.jsx(Re,{className:"space-y-4",children:o.jsxs(W,{variant:"outline",className:"w-full justify-start text-red-500 border-red-500 hover:bg-red-500 hover:text-white",onClick:()=>S(!0),children:[o.jsx(B_,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})}),o.jsx(Zi,{open:h,onOpenChange:p,children:o.jsxs(hi,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(fi,{children:[o.jsx(Fs,{className:"text-gray-900",children:"Change Password"}),o.jsx(Ji,{className:"text-gray-600",children:"Enter your current password and choose a new one."})]}),o.jsxs("form",{onSubmit:G,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"currentPassword",className:"text-gray-900",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ze,{id:"currentPassword",type:A?"text":"password",value:E,onChange:ae=>N(ae.target.value),className:"pr-10",required:!0}),o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>k(!A),children:A?o.jsx(Om,{className:"h-4 w-4"}):o.jsx(Wd,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"newPassword",className:"text-gray-900",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ze,{id:"newPassword",type:j?"text":"password",value:P,onChange:ae=>D(ae.target.value),className:"pr-10",required:!0}),o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>O(!j),children:j?o.jsx(Om,{className:"h-4 w-4"}):o.jsx(Wd,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"confirmPassword",className:"text-gray-900",children:"Confirm New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ze,{id:"confirmPassword",type:R?"text":"password",value:$,onChange:ae=>B(ae.target.value),className:"pr-10",required:!0}),o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>V(!R),children:R?o.jsx(Om,{className:"h-4 w-4"}):o.jsx(Wd,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(W,{type:"button",variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Cancel"}),o.jsx(W,{type:"submit",disabled:F,className:"flex-1",children:F?o.jsxs(o.Fragment,{children:[o.jsx(Hi,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Password"})]})]})]})}),o.jsx(Zi,{open:g,onOpenChange:y,children:o.jsxs(hi,{className:"bg-white/95 backdrop-blur-md border-gray-700 max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsx(fi,{children:o.jsx(Fs,{className:"text-gray-900",children:"Privacy Policy"})}),o.jsxs("div",{className:"space-y-4 text-gray-700",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"QuicklyMart Privacy Policy"}),o.jsx("p",{className:"text-sm",children:"This Privacy Policy describes how QuicklyMart collects, uses, and protects your personal information."}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Information We Collect"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Account information (name, email, phone number)"}),o.jsx("li",{children:"Order history and preferences"}),o.jsx("li",{children:"Location data for delivery services"}),o.jsx("li",{children:"Device information and usage analytics"})]}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"How We Use Your Information"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Process and deliver your orders"}),o.jsx("li",{children:"Send order updates and notifications"}),o.jsx("li",{children:"Improve our services and user experience"}),o.jsx("li",{children:"Provide customer support"})]}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Data Security"}),o.jsx("p",{className:"text-sm",children:"We implement industry-standard security measures to protect your personal information. Your data is encrypted and stored securely."}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Your Rights"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Access and update your personal information"}),o.jsx("li",{children:"Delete your account and associated data"}),o.jsx("li",{children:"Opt-out of marketing communications"}),o.jsx("li",{children:"Request data portability"})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Last updated: ",new Date().toLocaleDateString()]})]}),o.jsx(W,{onClick:()=>y(!1),className:"w-full",children:"Close"})]})}),o.jsx(Zi,{open:x,onOpenChange:T,children:o.jsxs(hi,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(fi,{children:[o.jsx(Fs,{className:"text-gray-900",children:"Two-Factor Authentication"}),o.jsx(Ji,{className:"text-gray-600",children:H?"Two-factor authentication is currently enabled for your account.":"Add an extra layer of security to your account with two-factor authentication."})]}),o.jsxs("div",{className:"space-y-4",children:[H?o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ec,{className:"w-8 h-8 text-green-600"})}),o.jsx("p",{className:"text-gray-700",children:"Your account is protected with 2FA"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(wp,{className:"w-8 h-8 text-blue-600"})}),o.jsx("p",{className:"text-gray-700",children:"Enable two-factor authentication for enhanced security"})]}),o.jsx(W,{onClick:ve,disabled:ne,className:"w-full",children:ne?o.jsxs(o.Fragment,{children:[o.jsx(Hi,{className:"mr-2 h-4 w-4 animate-spin"}),"Setting up 2FA..."]}):"Enable 2FA"})]}),o.jsx(W,{variant:"outline",onClick:()=>T(!1),className:"w-full",children:"Close"})]})]})}),o.jsx(Zi,{open:w,onOpenChange:S,children:o.jsxs(hi,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(fi,{children:[o.jsx(Fs,{className:"text-red-600",children:"Delete Account"}),o.jsx(Ji,{className:"text-gray-600",children:"This action cannot be undone. All your data will be permanently deleted."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[o.jsxs("p",{className:"text-red-800 text-sm",children:[o.jsx("strong",{children:"Warning:"})," Deleting your account will:"]}),o.jsxs("ul",{className:"text-red-700 text-sm mt-2 space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Permanently delete all your personal data"}),o.jsx("li",{children:"Cancel any active orders"}),o.jsx("li",{children:"Remove your order history"}),o.jsx("li",{children:"Delete your saved addresses and preferences"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"deleteConfirmation",className:"text-gray-900",children:'Type "DELETE" to confirm'}),o.jsx(Ze,{id:"deleteConfirmation",value:pe,onChange:ae=>Q(ae.target.value),placeholder:"DELETE",className:"text-center font-mono"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(W,{variant:"outline",onClick:()=>S(!1),className:"flex-1",children:"Cancel"}),o.jsx(W,{variant:"destructive",onClick:re,disabled:pe!=="DELETE"||ee,className:"flex-1",children:ee?o.jsxs(o.Fragment,{children:[o.jsx(Hi,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Account"})]})]})]})})]}):o.jsx("div",{children:"Loading..."})},MZ=()=>{const t=qn(),{isDarkMode:e,toggleDarkMode:n}=mn(),{selectedAddress:r,setSelectedAddress:s}=MM(),[i,l]=v.useState(null),[c,d]=v.useState([]),[h,p]=v.useState(!1),[g,y]=v.useState(null),[w,S]=v.useState(!0),[x,T]=v.useState(null),[E,N]=v.useState({type:"home",name:"",phone:"",address:"",city:"",state:"",pincode:"",isDefault:!1});v.useEffect(()=>{const R=St.onAuthStateChanged(async V=>{V?(l(V),await P(V.uid)):t("/")});return()=>R()},[t]),v.useEffect(()=>{const R=c.find(V=>V.isDefault);R&&T(R.id)},[c]);const P=async R=>{S(!0);try{const V=Vn(ht,"addresses"),F=Ki(V,sa("userId","==",R)),te=await Ni(F),pe=[];te.forEach(Q=>{pe.push({id:Q.id,...Q.data()})}),pe.sort((Q,ee)=>{var K,ne;if(Q.isDefault&&!ee.isDefault)return-1;if(!Q.isDefault&&ee.isDefault)return 1;const U=(K=Q.createdAt)!=null&&K.toDate?Q.createdAt.toDate():0;return((ne=ee.createdAt)!=null&&ne.toDate?ee.createdAt.toDate():0)-U}),d(pe)}catch(V){console.error("Error loading addresses:",V),Y.error("Failed to load addresses")}finally{S(!1)}},D=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async R=>{const{latitude:V,longitude:F}=R.coords;try{const pe=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${V}&lon=${F}`)).json();if(pe&&pe.address){const Q=pe.address,ee={type:"other",name:Q.road||"Current Location",phone:"",address:`${Q.road||""}, ${Q.suburb||""}`,city:Q.city||Q.town||Q.village,state:Q.state,pincode:Q.postcode,isDefault:!1,userId:i.uid,createdAt:new Date};await Ei(Vn(ht,"addresses"),ee),Y.success("Current location added as a new address!"),await P(i.uid)}else Y.error("Could not determine address from location.")}catch(te){console.error("Error fetching address:",te),Y.error("Could not fetch address from location.")}},R=>{console.error("Geolocation error:",R),Y.error("Could not access your location.")}):Y.error("Geolocation is not supported by your browser.")},$=()=>{N({type:"home",name:"",phone:"",address:"",city:"",state:"",pincode:"",isDefault:!1}),y(null)},B=async()=>{if(i){if(!E.name||!E.phone||!E.address||!E.city||!E.state||!E.pincode){Y.error("Please fill in all required fields");return}try{if(g){const R=In(ht,"addresses",g.id);await ia(R,{...E,updatedAt:new Date}),Y.success("Address updated successfully!")}else{const R={...E,userId:i.uid,createdAt:new Date};await Ei(Vn(ht,"addresses"),R),Y.success("Address added successfully!")}p(!1),$(),await P(i.uid)}catch(R){console.error("Error saving address:",R),Y.error("Failed to save address")}}},A=R=>{y(R),N(R),p(!0)},k=async R=>{if(i&&confirm("Are you sure you want to delete this address?"))try{await Xj(In(ht,"addresses",R)),Y.success("Address deleted successfully!"),await P(i.uid)}catch(V){console.error("Error deleting address:",V),Y.error("Failed to delete address")}},j=async R=>{if(i)try{const V=Vn(ht,"addresses"),F=Ki(V,sa("userId","==",i.uid)),pe=(await Ni(F)).docs.map(ee=>ia(ee.ref,{isDefault:!1}));await Promise.all(pe),await ia(In(ht,"addresses",R),{isDefault:!0});const Q=c.find(ee=>ee.id===R);Q&&s(Q),Y.success("Default address updated!"),await P(i.uid),T(R)}catch(V){console.error("Error setting default address:",V),Y.error("Failed to update default address")}},O=R=>{switch(R){case"home":return o.jsx(hI,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(iI,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(_p,{className:"w-5 h-5 text-gray-500"})}};return i?o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-quicklymart-orange-500",children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"My Addresses"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Manage your delivery addresses"})]})]}),o.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-quicklymart-orange-500",children:e?o.jsx(An,{className:"w-4 h-4"}):o.jsx(bn,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[o.jsxs(Zi,{open:h,onOpenChange:p,children:[o.jsx(wW,{asChild:!0,children:o.jsxs(W,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:[o.jsx(vg,{className:"w-4 h-4 mr-2"}),"Add New Address"]})}),o.jsxs(hi,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsxs(fi,{children:[o.jsx(Fs,{className:e?"text-white":"text-gray-900",children:g?"Edit Address":"Add New Address"}),o.jsx(Ji,{className:e?"text-gray-300":"text-gray-600",children:g?"Update your address details":"Add a new delivery address"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"type",className:e?"text-white":"text-gray-900",children:"Address Type"}),o.jsxs(au,{value:E.type,onValueChange:R=>N(V=>({...V,type:R})),children:[o.jsx(pl,{className:`${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:o.jsx(lu,{})}),o.jsxs(gl,{className:e?"bg-gray-700 border-gray-600":"bg-white border-gray-300",children:[o.jsx(Ot,{value:"home",children:"Home"}),o.jsx(Ot,{value:"work",children:"Work"}),o.jsx(Ot,{value:"other",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"name",className:e?"text-white":"text-gray-900",children:"Full Name *"}),o.jsx(Ze,{id:"name",value:E.name,onChange:R=>N(V=>({...V,name:R.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"phone",className:e?"text-white":"text-gray-900",children:"Phone Number *"}),o.jsx(Ze,{id:"phone",value:E.phone,onChange:R=>N(V=>({...V,phone:R.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your phone number"})]})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"address",className:e?"text-white":"text-gray-900",children:"Address *"}),o.jsx(Ze,{id:"address",value:E.address,onChange:R=>N(V=>({...V,address:R.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"city",className:e?"text-white":"text-gray-900",children:"City *"}),o.jsx(Ze,{id:"city",value:E.city,onChange:R=>N(V=>({...V,city:R.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter city"})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"state",className:e?"text-white":"text-gray-900",children:"State *"}),o.jsx(Ze,{id:"state",value:E.state,onChange:R=>N(V=>({...V,state:R.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter state"})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"pincode",className:e?"text-white":"text-gray-900",children:"Pincode *"}),o.jsx(Ze,{id:"pincode",value:E.pincode,onChange:R=>N(V=>({...V,pincode:R.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter pincode"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"isDefault",checked:E.isDefault,onChange:R=>N(V=>({...V,isDefault:R.target.checked})),className:"rounded"}),o.jsx(Ve,{htmlFor:"isDefault",className:e?"text-white":"text-gray-900",children:"Set as default address"})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx(W,{variant:"outline",onClick:()=>p(!1),className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx(W,{onClick:B,className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:g?"Update Address":"Add Address"})]})]})]})]}),o.jsxs(W,{variant:"outline",onClick:D,className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:[o.jsx(gr,{className:"w-4 h-4 mr-2"}),"Use Current Location"]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Ze,{placeholder:"Try JP Nagar, Siri Gardenia, etc.",className:`pl-10 h-12 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h2",{className:"text-xs font-semibold mb-2 text-gray-400",children:"SAVED ADDRESSES"}),w?o.jsx("p",{className:e?"text-gray-300":"text-gray-600",children:"Loading addresses..."}):c.length===0?o.jsx("p",{className:e?"text-gray-300":"text-gray-600",children:"No saved addresses."}):o.jsx("div",{className:"space-y-4",children:c.map(R=>o.jsxs("div",{className:`border rounded-lg p-4 transition-colors ${e?"border-gray-700 hover:bg-gray-800":"border-gray-200 hover:bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[o.jsx("div",{className:"mt-1",children:O(R.type)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h3",{className:`font-bold capitalize ${e?"text-white":"text-gray-900"}`,children:R.type}),(r==null?void 0:r.id)===R.id&&o.jsxs(an,{className:"bg-quicklymart-orange-100 text-quicklymart-orange-700 text-xs",children:[o.jsx(O_,{className:"w-3 h-3 mr-1"}),"CURRENTLY SELECTED"]}),R.isDefault&&o.jsxs(an,{className:"bg-green-100 text-green-700 text-xs",children:[o.jsx(xa,{className:"w-3 h-3 mr-1"}),"DEFAULT"]})]}),o.jsx("p",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:R.name}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:R.phone}),o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:[R.address,", ",R.city,", ",R.state," - ",R.pincode]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>A(R),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx($_,{className:"w-4 h-4"})}),o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>k(R.id),className:e?"text-gray-300 hover:text-red-400":"text-gray-600 hover:text-red-500",children:o.jsx(B_,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[!R.isDefault&&o.jsx(W,{variant:"outline",size:"sm",onClick:()=>j(R.id),className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Set as Default"}),o.jsx(W,{size:"sm",onClick:()=>{s(R),Y.success("Address selected successfully!")},className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:"Use This Address"})]})]},R.id))})]})]})]}):o.jsx("div",{className:"text-center p-8",children:"Loading..."})},DZ=()=>{const t=qn(),{isDarkMode:e}=mn();return o.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-6xl font-bold text-gray-800 dark:text-white mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8",children:"Page not found"}),o.jsx(W,{onClick:()=>t("/"),className:"bg-blue-600 hover:bg-blue-700",children:"Go Home"})]})})},OZ=[{name:"For You",icon:o.jsx(uI,{className:"w-6 h-6"})},{name:"Grocery",icon:o.jsx("img",{src:"https://img.icons8.com/color/48/grocery-bag.png",alt:"grocery",className:"w-8 h-8"})},{name:"Fashion",icon:o.jsx(Y5,{className:"w-6 h-6"})},{name:"Appliances",icon:o.jsx(t3,{className:"w-6 h-6"})},{name:"Mobiles",icon:o.jsx(wp,{className:"w-6 h-6"})},{name:"Electronics",icon:o.jsx($5,{className:"w-6 h-6"})},{name:"Smart Gadgets",icon:o.jsx(i3,{className:"w-6 h-6"})},{name:"Home",icon:o.jsx(X5,{className:"w-6 h-6"})},{name:"Beauty & Personal Care",icon:o.jsx(q5,{className:"w-6 h-6"})}],lT={title:"Grocery",sections:[{title:"Staples",items:[{name:"Ghee & Oils",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-g_R9DkL_ij9a8V3n-QyW2-sH2W-qJq_LgQ&s",subcategory:"Staples"},{name:"Sugar, Jaggery & Salt",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRkYxJ1A4Z-Y3l1Xw2O-p5B9g_Yn3X0z3q9wA&s",subcategory:"Staples"},{name:"Rice & Rice Products",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTc1j8gq-u_tYwQ-Y9E9Z-2Xw3a-nJ4d0l3Xw&s",subcategory:"Staples"},{name:"Dry Fruits, Nuts & Seeds",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ4x9J0N-n8v6Z-Z9C9Xw_Q8X_X2n-H_y3o3A&s",subcategory:"Staples"},{name:"Masalas & Spices",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRYSoZ6TqO6Y-K2rL0z7gJpG8e-A9z2wF_sLw&s",subcategory:"Staples"},{name:"Dals & Pulses",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ4p7gY-p-L2N-O_R-d0a_R1p2m-G5a9yJ_pQ&s",subcategory:"Staples"},{name:"Atta & Flours",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS-p6-gT7mQ5H2xX-O_Kq_wG-g5K-Y4Kz_yXg&s",subcategory:"Staples"}]},{title:"Snacks & Beverages",items:[{name:"Juices",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRz-o-w7O3l7g-v-l2K-j-j_H-v8V-hJ_p-Jw&s",subcategory:"Beverages"},{name:"Water",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7b-C8xXcz-n-J-k-f-oD_v1n_Y-f9hY6w&s",subcategory:"Beverages"},{name:"Chips, Namkeen & Snacks",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-G7oF5x-2y-x_k-Z8c-Z-fJ_o-I_p_X_w&s",subcategory:"Snacks"},{name:"Chocolates",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_x_P3-mB_y-Y7R-n-H-O-hI_p_S8V-kL_A&s",subcategory:"Snacks"},{name:"Health Drinks",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_x_P3-mB_y-Y7R-n-H-O-hI_p_S8V-kL_A&s",subcategory:"Beverages"},{name:"Instant Beverages",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhXgG_pD-K-v-k_k-O-c-Z-Y-k_k-S-j-I_A&s",subcategory:"Beverages"}]}]},LZ=({onSubcategoryClick:t})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-blue-600 dark:text-blue-400 flex items-center",children:[lT.title," ",o.jsx(lI,{className:"w-6 h-6"})]}),o.jsx("img",{src:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=200",alt:"Grocery Banner",className:"rounded-lg h-12 object-cover"})]}),lT.sections.map((e,n)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:e.title}),o.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-6",children:e.items.map((r,s)=>o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>t(r.subcategory),children:[o.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full w-20 h-20 mx-auto flex items-center justify-center overflow-hidden mb-2",children:o.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-contain p-2"})}),o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:r.name})]},s))})]},n))]}),FZ=({categoryName:t})=>o.jsxs("div",{className:"text-center p-8 flex flex-col items-center justify-center h-full",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 dark:text-white",children:t}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Products coming soon!"})]}),VZ=()=>{const t=qn(),{isDarkMode:e,toggleDarkMode:n}=mn(),[r,s]=v.useState("Grocery"),i=c=>{t("/daily-essential",{state:{subcategory:c}})},l=()=>{switch(r){case"Grocery":return o.jsx(LZ,{onSubcategoryClick:i});default:return o.jsx(FZ,{categoryName:r})}};return o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"All Categories"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 dark:text-gray-300",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(An,{className:"w-5 h-5"}):o.jsx(bn,{className:"w-5 h-5"})}),o.jsx(Us,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(aI,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(Nl,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})]})]})}),o.jsxs("div",{className:"flex",children:[o.jsx("aside",{className:"w-28 bg-gray-50 dark:bg-gray-800 h-screen-minus-header fixed top-16 left-0 overflow-y-auto pb-16",children:o.jsx("nav",{children:o.jsx("ul",{children:OZ.map((c,d)=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>s(c.name),className:`w-full text-center p-3 text-sm font-medium border-l-4 ${r===c.name?"border-blue-500 bg-white dark:bg-gray-700 text-blue-500 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx("div",{className:"text-2xl mb-1 mx-auto flex justify-center items-center h-8",children:c.icon}),o.jsx("span",{className:"text-xs",children:c.name})]})},d))})})}),o.jsx("main",{className:"ml-28 p-4 flex-1 mb-16",children:l()})]})]})};var by="Collapsible",[zZ,dM]=ar(by),[$Z,Ob]=zZ(by),hM=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:l,...c}=t,[d,h]=_s({prop:r,defaultProp:s??!1,onChange:l,caller:by});return o.jsx($Z,{scope:n,disabled:i,contentId:ps(),open:d,onOpenToggle:v.useCallback(()=>h(p=>!p),[h]),children:o.jsx(De.div,{"data-state":Fb(d),"data-disabled":i?"":void 0,...c,ref:e})})});hM.displayName=by;var fM="CollapsibleTrigger",mM=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=Ob(fM,n);return o.jsx(De.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Fb(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:Ne(t.onClick,s.onOpenToggle)})});mM.displayName=fM;var Lb="CollapsibleContent",pM=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Ob(Lb,t.__scopeCollapsible);return o.jsx(Jr,{present:n||s.open,children:({present:i})=>o.jsx(BZ,{...r,ref:e,present:i})})});pM.displayName=Lb;var BZ=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,l=Ob(Lb,n),[c,d]=v.useState(r),h=v.useRef(null),p=ot(e,h),g=v.useRef(0),y=g.current,w=v.useRef(0),S=w.current,x=l.open||c,T=v.useRef(x),E=v.useRef(void 0);return v.useEffect(()=>{const N=requestAnimationFrame(()=>T.current=!1);return()=>cancelAnimationFrame(N)},[]),jn(()=>{const N=h.current;if(N){E.current=E.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const P=N.getBoundingClientRect();g.current=P.height,w.current=P.width,T.current||(N.style.transitionDuration=E.current.transitionDuration,N.style.animationName=E.current.animationName),d(r)}},[l.open,r]),o.jsx(De.div,{"data-state":Fb(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!x,...i,ref:p,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...t.style},children:x&&s})});function Fb(t){return t?"open":"closed"}var UZ=hM,qZ=mM,HZ=pM,Zs="Accordion",WZ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Vb,GZ,KZ]=Gh(Zs),[Ny,AQ]=ar(Zs,[KZ,dM]),zb=dM(),gM=ye.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return o.jsx(Vb.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?o.jsx(XZ,{...i,ref:e}):o.jsx(YZ,{...s,ref:e})})});gM.displayName=Zs;var[yM,ZZ]=Ny(Zs),[vM,QZ]=Ny(Zs,{collapsible:!1}),YZ=ye.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...l}=t,[c,d]=_s({prop:n,defaultProp:r??"",onChange:s,caller:Zs});return o.jsx(yM,{scope:t.__scopeAccordion,value:ye.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:ye.useCallback(()=>i&&d(""),[i,d]),children:o.jsx(vM,{scope:t.__scopeAccordion,collapsible:i,children:o.jsx(xM,{...l,ref:e})})})}),XZ=ye.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[l,c]=_s({prop:n,defaultProp:r??[],onChange:s,caller:Zs}),d=ye.useCallback(p=>c((g=[])=>[...g,p]),[c]),h=ye.useCallback(p=>c((g=[])=>g.filter(y=>y!==p)),[c]);return o.jsx(yM,{scope:t.__scopeAccordion,value:l,onItemOpen:d,onItemClose:h,children:o.jsx(vM,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(xM,{...i,ref:e})})})}),[JZ,Ey]=Ny(Zs),xM=ye.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...l}=t,c=ye.useRef(null),d=ot(c,e),h=GZ(n),g=Au(s)==="ltr",y=Ne(t.onKeyDown,w=>{var k;if(!WZ.includes(w.key))return;const S=w.target,x=h().filter(j=>{var O;return!((O=j.ref.current)!=null&&O.disabled)}),T=x.findIndex(j=>j.ref.current===S),E=x.length;if(T===-1)return;w.preventDefault();let N=T;const P=0,D=E-1,$=()=>{N=T+1,N>D&&(N=P)},B=()=>{N=T-1,N<P&&(N=D)};switch(w.key){case"Home":N=P;break;case"End":N=D;break;case"ArrowRight":i==="horizontal"&&(g?$():B());break;case"ArrowDown":i==="vertical"&&$();break;case"ArrowLeft":i==="horizontal"&&(g?B():$());break;case"ArrowUp":i==="vertical"&&B();break}const A=N%E;(k=x[A].ref.current)==null||k.focus()});return o.jsx(JZ,{scope:n,disabled:r,direction:s,orientation:i,children:o.jsx(Vb.Slot,{scope:n,children:o.jsx(De.div,{...l,"data-orientation":i,ref:d,onKeyDown:r?void 0:y})})})}),Xp="AccordionItem",[eQ,$b]=Ny(Xp),_M=ye.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=Ey(Xp,n),l=ZZ(Xp,n),c=zb(n),d=ps(),h=r&&l.value.includes(r)||!1,p=i.disabled||t.disabled;return o.jsx(eQ,{scope:n,open:h,disabled:p,triggerId:d,children:o.jsx(UZ,{"data-orientation":i.orientation,"data-state":TM(h),...c,...s,ref:e,disabled:p,open:h,onOpenChange:g=>{g?l.onItemOpen(r):l.onItemClose(r)}})})});_M.displayName=Xp;var wM="AccordionHeader",bM=ye.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Ey(Zs,n),i=$b(wM,n);return o.jsx(De.h3,{"data-orientation":s.orientation,"data-state":TM(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});bM.displayName=wM;var Mx="AccordionTrigger",NM=ye.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Ey(Zs,n),i=$b(Mx,n),l=QZ(Mx,n),c=zb(n);return o.jsx(Vb.ItemSlot,{scope:n,children:o.jsx(qZ,{"aria-disabled":i.open&&!l.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...c,...r,ref:e})})});NM.displayName=Mx;var EM="AccordionContent",SM=ye.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Ey(Zs,n),i=$b(EM,n),l=zb(n);return o.jsx(HZ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...l,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});SM.displayName=EM;function TM(t){return t?"open":"closed"}var tQ=gM,nQ=_M,rQ=bM,CM=NM,PM=SM;const cT=tQ,IM=v.forwardRef(({className:t,...e},n)=>o.jsx(nQ,{ref:n,className:Me("border-b",t),...e}));IM.displayName="AccordionItem";const kM=v.forwardRef(({className:t,children:e,...n},r)=>o.jsx(rQ,{className:"flex",children:o.jsxs(CM,{ref:r,className:Me("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,o.jsx(L_,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));kM.displayName=CM.displayName;const jM=v.forwardRef(({className:t,children:e,...n},r)=>o.jsx(PM,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:Me("pb-4 pt-0",t),children:e})}));jM.displayName=PM.displayName;const sQ=()=>{const t=qn(),{isDarkMode:e,toggleDarkMode:n}=mn(),[r,s]=v.useState(""),i=[{category:"Ordering",questions:[{question:"How do I place an order?",answer:"To place an order, simply browse our menu, add items to your cart, and proceed to checkout. You can choose your delivery address, payment method, and add a tip before confirming your order."},{question:"What payment methods do you accept?",answer:"We accept Cash on Delivery (COD), UPI, and Credit/Debit Cards. All online payments are secure and encrypted."},{question:"Can I modify or cancel my order?",answer:"You can modify or cancel your order within 5 minutes of placing it. After that, please contact our customer support team."},{question:"What is the minimum order amount?",answer:"There is no minimum order amount, but orders above 299 qualify for free delivery. Orders below 299 have a delivery fee of 29."}]},{category:"Delivery",questions:[{question:"How long does delivery take?",answer:"Delivery typically takes 25-35 minutes depending on your location and current order volume. You can track your order in real-time through our app."},{question:"Do you deliver to my area?",answer:"We deliver to most areas within our service radius. Enter your address during checkout to check if we deliver to your location."},{question:"Can I schedule delivery for later?",answer:"Currently, we offer immediate delivery only. We are working on scheduled delivery options for future updates."},{question:"What if my order is delayed?",answer:"If your order is delayed, you will receive real-time updates. For significant delays, we may offer compensation or a refund."}]},{category:"Account & App",questions:[{question:"How do I create an account?",answer:"You can create an account using your email address or sign up with Google. This allows you to save addresses, track orders, and view order history."},{question:"I forgot my password. How do I reset it?",answer:'Click on "Forgot Password" on the login screen and enter your email address. You will receive a password reset link.'},{question:"How do I update my delivery address?",answer:"Go to your Profile > Address section to add, edit, or remove delivery addresses. You can also set a default address."},{question:"Is my personal information secure?",answer:"Yes, we use industry-standard encryption to protect your personal information. We never share your data with third parties without your consent."}]},{category:"Refunds & Issues",questions:[{question:"What is your refund policy?",answer:"We offer full refunds for incorrect orders, missing items, or quality issues. Contact our support team within 24 hours of delivery."},{question:"What if my food arrives cold or damaged?",answer:"If your food arrives in poor condition, please contact us immediately. We will arrange a replacement or provide a full refund."},{question:"How do I report a missing item?",answer:"Contact our customer support team with your order number and details of the missing item. We will arrange a refund or replacement."},{question:"Can I get a refund for late delivery?",answer:"For deliveries significantly delayed beyond our estimated time, we may offer partial refunds or credits as compensation."}]}],l=[{title:"Track Your Order",icon:"",description:"Real-time order tracking"},{title:"Payment Issues",icon:"",description:"Payment problems and solutions"},{title:"Delivery Problems",icon:"",description:"Delivery delays and issues"},{title:"Account Access",icon:"",description:"Login and account issues"},{title:"Menu & Pricing",icon:"",description:"Menu items and pricing"},{title:"App Problems",icon:"",description:"Technical app issues"}],c=[{title:"Customer Support",description:"24/7 customer service",icon:o.jsx(Qr,{className:"w-6 h-6"}),action:"Call Now",value:"+91 98765 43210"},{title:"Email Support",description:"Get help via email",icon:o.jsx(_i,{className:"w-6 h-6"}),action:"Send Email",value:"support@quicklymart.com"},{title:"Live Chat",description:"Chat with our team",icon:o.jsx(k0,{className:"w-6 h-6"}),action:"Start Chat",value:"Available 24/7"}],d=i.map(h=>({...h,questions:h.questions.filter(p=>p.question.toLowerCase().includes(r.toLowerCase())||p.answer.toLowerCase().includes(r.toLowerCase()))})).filter(h=>h.questions.length>0);return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-quicklymart-orange-500",children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Help Center"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Get help and support"})]})]}),o.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-quicklymart-orange-500",children:e?o.jsx(An,{className:"w-4 h-4"}):o.jsx(bn,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Ze,{placeholder:"Search for help topics...",value:r,onChange:h=>s(h.target.value),className:`pl-10 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`})]})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:`text-xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Popular Topics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:l.map((h,p)=>o.jsx(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:border-quicklymart-orange-500 transition-colors cursor-pointer`,children:o.jsxs(Re,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-3xl mb-2",children:h.icon}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:h.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:h.description})]})},p))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Contact Us"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.map((h,p)=>o.jsx(Ae,{className:"bg-white border border-gray-200",children:o.jsxs(Re,{className:"p-6 text-center",children:[o.jsx("div",{className:"flex justify-center mb-3",children:o.jsx("div",{className:"p-3 bg-quicklymart-orange-100 rounded-full",children:h.icon})}),o.jsx("h3",{className:"font-semibold mb-2 text-gray-800",children:h.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:h.description}),o.jsx("p",{className:"text-sm font-medium mb-3 text-gray-800",children:h.value}),o.jsx(W,{variant:"outline",className:"w-full border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:h.action})]})},p))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Frequently Asked Questions"}),d.length>0?o.jsx(cT,{type:"single",collapsible:!0,className:"space-y-4",children:d.map((h,p)=>o.jsxs(Ae,{className:"bg-white border border-gray-200",children:[o.jsx(yt,{children:o.jsxs(bt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(IN,{className:"w-5 h-5"}),o.jsx("span",{children:h.category}),o.jsx(an,{variant:"secondary",className:"bg-quicklymart-orange-100 text-quicklymart-orange-800",children:h.questions.length})]})}),o.jsx(Re,{children:o.jsx(cT,{type:"single",collapsible:!0,className:"space-y-2",children:h.questions.map((g,y)=>o.jsxs(IM,{value:`${p}-${y}`,className:"border-gray-200",children:[o.jsx(kM,{className:"text-left hover:no-underline text-gray-800",children:o.jsx("span",{className:"font-medium",children:g.question})}),o.jsx(jM,{className:"text-gray-600 pt-2",children:g.answer})]},y))})})]},p))}):o.jsx(Ae,{className:"bg-white border border-gray-200",children:o.jsxs(Re,{className:"p-8 text-center",children:[o.jsx(IN,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"No results found"}),o.jsx("p",{className:"text-gray-600",children:"Try searching with different keywords"})]})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(W,{onClick:()=>t("/current-order"),className:"h-16 text-lg bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:[o.jsx(pu,{className:"w-5 h-5 mr-2"}),"Track My Order"]}),o.jsxs(W,{onClick:()=>t("/past-orders"),variant:"outline",className:"h-16 text-lg border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:[o.jsx(gr,{className:"w-5 h-5 mr-2"}),"View Order History"]})]})]}),o.jsx(Ae,{className:"bg-white border border-gray-200",children:o.jsxs(Re,{className:"p-6 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Still need help?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Our customer support team is available 24/7 to assist you with any questions or concerns."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(W,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:[o.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Call Support"]}),o.jsxs(W,{variant:"outline",className:"border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:[o.jsx(_i,{className:"w-4 h-4 mr-2"}),"Send Email"]})]})]})})]})]})},Bb=v.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:Me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Bb.displayName="Textarea";const iQ=()=>{const t=qn(),{isDarkMode:e,toggleDarkMode:n}=mn(),[r,s]=v.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,l]=v.useState(!1),c=[{title:"Customer Support",description:"24/7 customer service",icon:o.jsx(Qr,{className:"w-6 h-6"}),value:"+91 98765 43210",action:"Call Now",color:"bg-green-600"},{title:"Email Support",description:"Get help via email",icon:o.jsx(_i,{className:"w-6 h-6"}),value:"support@quicklymart.com",action:"Send Email",color:"bg-blue-600"},{title:"Live Chat",description:"Chat with our team",icon:o.jsx(k0,{className:"w-6 h-6"}),value:"Available 24/7",action:"Start Chat",color:"bg-purple-600"},{title:"Office Address",description:"Visit our office",icon:o.jsx(gr,{className:"w-6 h-6"}),value:"123 Food Street, Kolkata, WB 700001",action:"Get Directions",color:"bg-orange-600"}],d=[{day:"Monday - Friday",hours:"9:00 AM - 10:00 PM"},{day:"Saturday",hours:"10:00 AM - 11:00 PM"},{day:"Sunday",hours:"10:00 AM - 9:00 PM"}],h=(g,y)=>{s(w=>({...w,[g]:y}))},p=async g=>{g.preventDefault(),l(!0),await new Promise(y=>setTimeout(y,2e3)),Y.success("Message sent successfully! We will get back to you soon."),s({name:"",email:"",phone:"",subject:"",message:""}),l(!1)};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-quicklymart-orange-500",children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Contact Us"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Get in touch with our team"})]})]}),o.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-quicklymart-orange-500",children:e?o.jsx(An,{className:"w-4 h-4"}):o.jsx(bn,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:`text-2xl font-bold mb-6 text-center ${e?"text-white":"text-gray-800"}`,children:"Get in Touch"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:c.map((g,y)=>o.jsx(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:border-quicklymart-orange-500 transition-colors`,children:o.jsxs(Re,{className:"p-6 text-center",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${g.color}`,children:g.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:g.title}),o.jsx("p",{className:`text-sm mb-3 ${e?"text-gray-300":"text-gray-600"}`,children:g.description}),o.jsx("p",{className:`text-sm font-medium mb-4 ${e?"text-white":"text-gray-800"}`,children:g.value}),o.jsx(W,{variant:"outline",className:"w-full border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:g.action})]})},y))})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(yt,{children:o.jsxs(bt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(_p,{className:"w-5 h-5"}),o.jsx("span",{children:"Send us a Message"})]})}),o.jsx(Re,{children:o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"name",className:e?"text-white":"text-gray-800",children:"Full Name *"}),o.jsx(Ze,{id:"name",value:r.name,onChange:g=>h("name",g.target.value),required:!0,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"email",className:e?"text-white":"text-gray-800",children:"Email Address *"}),o.jsx(Ze,{id:"email",type:"email",value:r.email,onChange:g=>h("email",g.target.value),required:!0,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your email"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"phone",className:e?"text-white":"text-gray-800",children:"Phone Number"}),o.jsx(Ze,{id:"phone",type:"tel",value:r.phone,onChange:g=>h("phone",g.target.value),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your phone number"})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"subject",className:e?"text-white":"text-gray-800",children:"Subject *"}),o.jsxs(au,{value:r.subject,onValueChange:g=>h("subject",g),children:[o.jsx(pl,{className:`${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:o.jsx(lu,{placeholder:"Select a subject"})}),o.jsxs(gl,{children:[o.jsx(Ot,{value:"general",children:"General Inquiry"}),o.jsx(Ot,{value:"order",children:"Order Issue"}),o.jsx(Ot,{value:"delivery",children:"Delivery Problem"}),o.jsx(Ot,{value:"payment",children:"Payment Issue"}),o.jsx(Ot,{value:"technical",children:"Technical Support"}),o.jsx(Ot,{value:"feedback",children:"Feedback"}),o.jsx(Ot,{value:"complaint",children:"Complaint"}),o.jsx(Ot,{value:"other",children:"Other"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"message",className:e?"text-white":"text-gray-800",children:"Message *"}),o.jsx(Bb,{id:"message",value:r.message,onChange:g=>h("message",g.target.value),required:!0,rows:5,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Tell us how we can help you..."})]}),o.jsx(W,{type:"submit",className:"w-full bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(_p,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(yt,{children:o.jsxs(bt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(pu,{className:"w-5 h-5"}),o.jsx("span",{children:"Business Hours"})]})}),o.jsxs(Re,{children:[o.jsx("div",{className:"space-y-3",children:d.map((g,y)=>o.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[o.jsx("span",{className:`font-medium ${e?"text-white":"text-gray-800"}`,children:g.day}),o.jsx("span",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:g.hours})]},y))}),o.jsx("div",{className:"mt-4 p-3 bg-quicklymart-orange-100 rounded-lg",children:o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:[o.jsx("strong",{children:"Note:"})," Customer support is available 24/7 for urgent issues."]})})]})]}),o.jsxs(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(yt,{children:o.jsxs(bt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(gr,{className:"w-5 h-5"}),o.jsx("span",{children:"Office Location"})]})}),o.jsx(Re,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"space-y-2",children:o.jsxs("p",{className:`text-gray-600 ${e?"text-gray-300":"text-gray-800"}`,children:[o.jsx("strong",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"QuicklyMart Headquarters"}),o.jsx("br",{}),"123 Food Street",o.jsx("br",{}),"Park Street Area",o.jsx("br",{}),"Kolkata, West Bengal 700001",o.jsx("br",{}),"India"]})}),o.jsxs(W,{variant:"outline",className:"w-full border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:[o.jsx(gr,{className:"w-4 h-4 mr-2"}),"Get Directions"]})]})})]}),o.jsxs(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(yt,{children:o.jsx(bt,{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Response Time"})}),o.jsx(Re,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Phone Support"}),o.jsx(an,{className:"bg-green-600",children:"Immediate"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Live Chat"}),o.jsx(an,{className:"bg-green-600",children:"Within 2 min"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Email Support"}),o.jsx(an,{className:"bg-yellow-600",children:"Within 24 hours"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Contact Form"}),o.jsx(an,{className:"bg-yellow-600",children:"Within 24 hours"})]})]})})]})]})]}),o.jsx("div",{className:"mt-8",children:o.jsx(Ae,{className:`${e?"bg-red-900 border-red-800":"bg-red-50 border-red-200"}`,children:o.jsxs(Re,{className:"p-6 text-center",children:[o.jsx("h3",{className:`text-lg font-semibold mb-2 ${e?"text-white":"text-red-800"}`,children:"Emergency Support"}),o.jsx("p",{className:`text-red-700 ${e?"text-gray-300":"text-gray-600"} mb-4`,children:"For urgent issues like food safety concerns or delivery emergencies"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(W,{className:`${e?"bg-red-800 hover:bg-red-900":"bg-red-600 hover:bg-red-700"}`,children:[o.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Emergency Hotline: +91 98765 43211"]}),o.jsxs(W,{variant:"outline",className:`${e?"border-red-800 text-red-800 hover:bg-red-800 hover:text-white":"border-red-500 text-red-600 hover:bg-red-600 hover:text-white"}`,children:[o.jsx(k0,{className:"w-4 h-4 mr-2"}),"Emergency Chat"]})]})]})})})]})]})},oQ=()=>{const t=qn(),{isDarkMode:e,toggleDarkMode:n}=mn(),[r,s]=v.useState("orderId"),[i,l]=v.useState(""),[c,d]=v.useState(!1),[h,p]=v.useState(null),g={id:"ORD123456789",status:"out_for_delivery",items:[{name:"Domino's Pizza Margherita",quantity:1,price:299},{name:"Coca Cola",quantity:2,price:60},{name:"Garlic Bread",quantity:1,price:120}],totalPrice:539,deliveryAddress:{name:"John Doe",address:"123 Main Street",city:"Kolkata",state:"West Bengal",pincode:"700001"},estimatedDeliveryTime:new Date(Date.now()+15*60*1e3),currentStep:4,deliveryPerson:{name:"Rahul Kumar",phone:"+91 98765 43210",vehicle:"Bike - KA-01-AB-1234"},timeline:[{step:1,title:"Order Placed",description:"Your order has been received",time:new Date(Date.now()-45*60*1e3),completed:!0,icon:""},{step:2,title:"Order Confirmed",description:"Restaurant has confirmed your order",time:new Date(Date.now()-40*60*1e3),completed:!0,icon:""},{step:3,title:"Preparing",description:"Your food is being prepared",time:new Date(Date.now()-30*60*1e3),completed:!0,icon:""},{step:4,title:"Out for Delivery",description:"Your order is on the way",time:new Date(Date.now()-5*60*1e3),completed:!0,icon:""},{step:5,title:"Delivered",description:"Enjoy your meal!",time:null,completed:!1,icon:""}]},y=async()=>{if(!i.trim()){Y.error("Please enter your tracking information");return}d(!0),await new Promise(x=>setTimeout(x,2e3)),i.toLowerCase().includes("123")||i.toLowerCase().includes("98765")?(p(g),Y.success("Order found!")):(p(null),Y.error("Order not found. Please check your tracking information.")),d(!1)},w=x=>{switch(x){case"pending":return"bg-yellow-600";case"confirmed":return"bg-blue-600";case"preparing":return"bg-orange-600";case"out_for_delivery":return"bg-purple-600";case"delivered":return"bg-green-600";case"cancelled":return"bg-red-600";default:return"bg-gray-600"}},S=x=>{switch(x){case"pending":return"Pending";case"confirmed":return"Confirmed";case"preparing":return"Preparing";case"out_for_delivery":return"Out for Delivery";case"delivered":return"Delivered";case"cancelled":return"Cancelled";default:return"Unknown"}};return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Track Order"})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(yt,{children:o.jsx(bt,{className:"text-gray-800",children:"Track Your Order"})}),o.jsx(Re,{children:o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"orderId",className:"text-gray-700",children:"Order ID"}),o.jsx(Ze,{id:"orderId",type:"text",placeholder:"Enter order ID",value:i,onChange:x=>l(x.target.value),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsx(Ze,{id:"phone",type:"tel",placeholder:"Enter phone number",value:i,onChange:x=>l(x.target.value),className:"mt-1"})]})]}),o.jsx(W,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx(Hi,{className:"w-4 h-4 mr-2 animate-spin"}),"Searching..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Us,{className:"w-4 h-4 mr-2"}),"Track Order"]})})]})})]}),h&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(yt,{children:o.jsxs(bt,{className:"flex items-center justify-between text-gray-800",children:[o.jsxs("span",{children:["Order #",h.id]}),o.jsx(an,{className:w(h.status),children:S(h.status)})]})}),o.jsx(Re,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:""}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Order Items"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[h.items.length," items"]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:""}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Total Amount"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["",h.totalPrice]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:""}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Estimated Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:h.estimatedDeliveryTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})]}),o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(yt,{children:o.jsx(bt,{className:"text-gray-800",children:"Delivery Timeline"})}),o.jsx(Re,{children:o.jsx("div",{className:"space-y-4",children:h.timeline.map((x,T)=>o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm ${x.completed?"bg-orange-500":"bg-gray-300"}`,children:x.completed?"":T+1}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${x.completed?"text-gray-800":"text-gray-500"}`,children:x.title}),o.jsx("p",{className:`text-sm ${x.completed?"text-gray-600":"text-gray-400"}`,children:x.description}),x.time&&o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:x.time})]})]},T))})})]}),o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(yt,{children:o.jsx(bt,{className:"text-gray-800",children:"Order Items"})}),o.jsx(Re,{children:o.jsx("div",{className:"space-y-3",children:h.items.map((x,T)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(li,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:x.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",x.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["",x.price]})]},T))})})]}),o.jsxs(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(yt,{children:o.jsx(bt,{className:"text-gray-800",children:"Delivery Address"})}),o.jsx(Re,{children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(gr,{className:"w-5 h-5 text-orange-500 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-800",children:h.deliveryAddress.name}),o.jsxs("p",{className:"text-gray-600",children:[h.deliveryAddress.address,", ",h.deliveryAddress.city,", ",h.deliveryAddress.state," - ",h.deliveryAddress.pincode]})]})]})})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(W,{onClick:()=>t(`/current-order/${h.id}`),className:"flex-1 bg-orange-500 hover:bg-orange-600",children:[o.jsx(Os,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),o.jsxs(W,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(_i,{className:"w-4 h-4 mr-2"}),"Contact Support"]})]})]}),!h&&!c&&o.jsx(Ae,{className:"bg-white border border-gray-200 shadow-sm",children:o.jsxs(Re,{className:"p-8 text-center",children:[o.jsx(li,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Track Your Order"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Enter your order ID or phone number to track your order status"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{onClick:()=>t("/past-orders"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:"View Order History"}),o.jsx(W,{variant:"outline",onClick:()=>t("/contact-us"),className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Need Help?"})]})]})})]})]})},aQ=()=>{const t=qn(),{isDarkMode:e,toggleDarkMode:n}=mn(),r=[{label:"Happy Customers",value:"50,000+",icon:""},{label:"Cities Served",value:"25+",icon:""},{label:"Restaurant Partners",value:"500+",icon:""},{label:"Orders Delivered",value:"1M+",icon:""}],s=[{title:"Quality First",description:"We never compromise on food quality and safety standards.",icon:o.jsx(D5,{className:"w-8 h-8"}),color:"bg-yellow-600"},{title:"Customer Satisfaction",description:"Your satisfaction is our top priority. We go above and beyond to exceed expectations.",icon:o.jsx(gu,{className:"w-8 h-8"}),color:"bg-red-600"},{title:"Fast Delivery",description:"We promise to deliver your food fresh and hot within 30 minutes.",icon:o.jsx(Os,{className:"w-8 h-8"}),color:"bg-green-600"},{title:"Trust & Safety",description:"Your safety and trust are paramount. We maintain the highest hygiene standards.",icon:o.jsx(Ec,{className:"w-8 h-8"}),color:"bg-blue-600"}],i=[{name:"Rahul Sharma",position:"CEO & Founder",image:"",description:"Former food industry executive with 15+ years of experience"},{name:"Priya Patel",position:"CTO",image:"",description:"Tech enthusiast leading our digital transformation"},{name:"Amit Kumar",position:"Head of Operations",image:"",description:"Operations expert ensuring smooth delivery logistics"},{name:"Neha Singh",position:"Head of Customer Experience",image:"",description:"Customer advocate focused on exceptional service"}],l=[{year:"2023",title:"Best Food Delivery App",description:"Awarded by FoodTech India",icon:""},{year:"2023",title:"Fastest Growing Startup",description:"Recognized by Startup India",icon:""},{year:"2022",title:"Customer Choice Award",description:"Highest rated delivery app",icon:""},{year:"2022",title:"Innovation in Logistics",description:"Awarded by Logistics India",icon:""}],c=[{year:"2020",title:"Company Founded",description:"Started with a vision to revolutionize food delivery"},{year:"2021",title:"First 1000 Orders",description:"Reached our first major milestone"},{year:"2022",title:"Expanded to 10 Cities",description:"Grew our presence across major cities"},{year:"2023",title:"1 Million Orders",description:"Celebrated delivering 1 million orders"}];return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-quicklymart-orange-500",children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"About Us"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Learn more about QuicklyMart"})]})]}),o.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-quicklymart-orange-500",children:e?o.jsx(An,{className:"w-4 h-4"}):o.jsx(bn,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Revolutionizing Food Delivery"}),o.jsx("p",{className:`text-xl max-w-3xl mx-auto ${e?"text-gray-300":"text-gray-600"}`,children:"At QuicklyMart, we believe that great food should be accessible to everyone, delivered fresh and fast. We're on a mission to connect people with their favorite restaurants through technology and exceptional service."})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:r.map((d,h)=>o.jsx(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Re,{className:"p-6",children:[o.jsx("div",{className:"text-3xl mb-2",children:d.icon}),o.jsx("div",{className:`text-2xl font-bold mb-1 ${e?"text-white":"text-gray-800"}`,children:d.value}),o.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:d.label})]})},h))}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[o.jsxs(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(yt,{children:o.jsxs(bt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(J5,{className:"w-5 h-5"}),o.jsx("span",{children:"Our Mission"})]})}),o.jsx(Re,{children:o.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:"To provide the fastest, most reliable food delivery service while maintaining the highest standards of food quality, customer service, and safety. We strive to make ordering food as simple as possible while ensuring every meal arrives fresh and delicious."})})]}),o.jsxs(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(yt,{children:o.jsxs(bt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(xa,{className:"w-5 h-5"}),o.jsx("span",{children:"Our Vision"})]})}),o.jsx(Re,{children:o.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:"To become the most trusted and preferred food delivery platform in India, known for our commitment to quality, speed, and customer satisfaction. We envision a future where everyone can enjoy their favorite food delivered to their doorstep within minutes."})})]})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Values"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((d,h)=>o.jsx(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Re,{className:"p-6",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${d.color}`,children:d.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:d.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:d.description})]})},h))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Leadership Team"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((d,h)=>o.jsx(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Re,{className:"p-6",children:[o.jsx("div",{className:"text-4xl mb-3",children:d.image}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:d.name}),o.jsx("p",{className:"text-quicklymart-orange-500 mb-2",children:d.position}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:d.description})]})},h))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Awards & Recognition"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map((d,h)=>o.jsx(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:o.jsx(Re,{className:"p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"text-3xl",children:d.icon}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(an,{variant:"secondary",className:"bg-quicklymart-orange-100 text-quicklymart-orange-800",children:d.year}),o.jsx("h3",{className:`font-semibold ${e?"text-white":"text-gray-800"}`,children:d.title})]}),o.jsx("p",{className:`${e?"text-gray-300":"text-gray-600"}`,children:d.description})]})]})})},h))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Journey"}),o.jsx("div",{className:"space-y-6",children:c.map((d,h)=>o.jsx(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:o.jsx(Re,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(an,{className:"bg-quicklymart-orange-500",children:d.year})}),o.jsxs("div",{children:[o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:d.title}),o.jsx("p",{className:`${e?"text-gray-300":"text-gray-600"}`,children:d.description})]})]})})},h))})]}),o.jsxs(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(yt,{children:o.jsx(bt,{className:`text-center ${e?"text-white":"text-gray-800"}`,children:"Get in Touch"})}),o.jsx(Re,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[o.jsxs("div",{children:[o.jsx(gr,{className:"w-6 h-6 mx-auto mb-2 text-quicklymart-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Address"}),o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:["123 Food Street",o.jsx("br",{}),"Park Street Area",o.jsx("br",{}),"Kolkata, WB 700001"]})]}),o.jsxs("div",{children:[o.jsx(Qr,{className:"w-6 h-6 mx-auto mb-2 text-quicklymart-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Phone"}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"+91 98765 43210"})]}),o.jsxs("div",{children:[o.jsx(_i,{className:"w-6 h-6 mx-auto mb-2 text-quicklymart-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Email"}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"hello@quicklymart.com"})]})]})})]}),o.jsx("div",{className:"text-center mt-8",children:o.jsx(W,{onClick:()=>t("/"),className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-lg px-8 py-3",children:"Start Ordering Now"})})]})]})},lQ=()=>{const t=qn(),{isDarkMode:e,toggleDarkMode:n}=mn(),[r,s]=v.useState(null),[i,l]=v.useState(!1),[c,d]=v.useState({name:"",email:"",phone:"",position:"",experience:"",coverLetter:"",resume:null}),h=[{id:1,title:"Senior React Developer",department:"Engineering",location:"Kolkata, WB",type:"Full-time",experience:"3-5 years",salary:"8-15 LPA",description:"We are looking for a passionate React developer to join our team and help build amazing user experiences.",requirements:["Strong proficiency in React, TypeScript, and modern JavaScript","Experience with state management (Redux, Zustand)","Knowledge of responsive design and CSS frameworks","Experience with testing frameworks (Jest, React Testing Library)","Good understanding of REST APIs and GraphQL"],responsibilities:["Develop and maintain high-quality React applications","Collaborate with design and product teams","Write clean, maintainable, and well-documented code","Participate in code reviews and technical discussions","Mentor junior developers"]},{id:2,title:"Product Manager",department:"Product",location:"Remote",type:"Full-time",experience:"2-4 years",salary:"10-18 LPA",description:"Join our product team to help shape the future of food delivery and create amazing user experiences.",requirements:["Experience in product management or related field","Strong analytical and problem-solving skills","Excellent communication and collaboration abilities","Experience with agile methodologies","Knowledge of user research and data analysis"],responsibilities:["Define product strategy and roadmap","Gather and analyze user feedback","Work with engineering and design teams","Monitor product metrics and KPIs","Drive product launches and iterations"]},{id:3,title:"UI/UX Designer",department:"Design",location:"Mumbai, MH",type:"Full-time",experience:"2-4 years",salary:"6-12 LPA",description:"Create beautiful and intuitive user interfaces that delight our customers and drive business growth.",requirements:["Strong portfolio showcasing UI/UX work","Proficiency in design tools (Figma, Sketch, Adobe Creative Suite)","Understanding of user-centered design principles","Experience with mobile app design","Knowledge of design systems and component libraries"],responsibilities:["Design user interfaces and user experiences","Create wireframes, prototypes, and high-fidelity designs","Conduct user research and usability testing","Collaborate with product and engineering teams","Maintain and evolve our design system"]},{id:4,title:"Operations Manager",department:"Operations",location:"Delhi, NCR",type:"Full-time",experience:"3-6 years",salary:"8-15 LPA",description:"Lead our operations team to ensure smooth delivery operations and excellent customer service.",requirements:["Experience in operations management or logistics","Strong leadership and team management skills","Excellent problem-solving and decision-making abilities","Experience with process optimization","Knowledge of supply chain management"],responsibilities:["Manage day-to-day operations","Optimize delivery processes and efficiency","Lead and mentor operations team","Monitor and improve service quality","Develop and implement operational strategies"]},{id:5,title:"Marketing Specialist",department:"Marketing",location:"Bangalore, KA",type:"Full-time",experience:"1-3 years",salary:"5-10 LPA",description:"Help us grow our brand and reach more customers through creative marketing campaigns.",requirements:["Experience in digital marketing or related field","Knowledge of social media marketing and content creation","Experience with marketing analytics and tools","Creative thinking and strong communication skills","Understanding of customer acquisition and retention"],responsibilities:["Develop and execute marketing campaigns","Create engaging content for social media","Analyze marketing performance and optimize campaigns","Collaborate with creative and product teams","Manage brand presence across channels"]}],p=[{title:"Health & Wellness",description:"Comprehensive health insurance and wellness programs",icon:o.jsx(gu,{className:"w-6 h-6"}),color:"bg-red-600"},{title:"Learning & Growth",description:"Continuous learning opportunities and career development",icon:o.jsx(H5,{className:"w-6 h-6"}),color:"bg-blue-600"},{title:"Flexible Work",description:"Remote work options and flexible working hours",icon:o.jsx(dI,{className:"w-6 h-6"}),color:"bg-green-600"},{title:"Team Events",description:"Regular team building activities and social events",icon:o.jsx(n3,{className:"w-6 h-6"}),color:"bg-purple-600"}],g=S=>{s(S),d(x=>({...x,position:S.title})),l(!0)},y=async S=>{S.preventDefault(),await new Promise(x=>setTimeout(x,2e3)),Y.success("Application submitted successfully! We will get back to you soon."),l(!1),d({name:"",email:"",phone:"",position:"",experience:"",coverLetter:"",resume:null})},w=(S,x)=>{d(T=>({...T,[S]:x}))};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-quicklymart-orange-500",children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Careers"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Join our amazing team"})]})]}),o.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-quicklymart-orange-500",children:e?o.jsx(An,{className:"w-4 h-4"}):o.jsx(bn,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Join Our Team"}),o.jsx("p",{className:`text-xl max-w-3xl mx-auto ${e?"text-gray-300":"text-gray-600"}`,children:"Be part of a team that's revolutionizing food delivery. We're looking for passionate individuals who want to make a difference and grow with us."})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Why Work With Us"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((S,x)=>o.jsx(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Re,{className:"p-6",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${S.color}`,children:S.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:S.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:S.description})]})},x))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Open Positions"}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:h.map(S=>o.jsxs(Ae,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:shadow-lg transition-shadow`,children:[o.jsx(yt,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(bt,{className:`text-xl ${e?"text-white":"text-gray-800"}`,children:S.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:S.department})]}),o.jsx(an,{className:"bg-quicklymart-orange-500",children:S.type})]})}),o.jsxs(Re,{children:[o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(gr,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:S.location})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(pu,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:S.experience})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(U5,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:S.salary})]})]}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:S.description})]}),o.jsx(W,{onClick:()=>g(S),className:"w-full bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:"Apply Now"})]})]},S.id))})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs(Ae,{className:"bg-white border border-gray-200 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(yt,{children:o.jsxs(bt,{className:"flex items-center justify-between text-gray-800",children:[o.jsxs("span",{children:["Apply for ",r==null?void 0:r.title]}),o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>l(!1),className:"text-gray-600 hover:text-quicklymart-orange-500",children:""})]})}),o.jsx(Re,{children:o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"name",className:"text-gray-800",children:"Full Name *"}),o.jsx(Ze,{id:"name",value:c.name,onChange:S=>w("name",S.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"email",className:"text-gray-800",children:"Email Address *"}),o.jsx(Ze,{id:"email",type:"email",value:c.email,onChange:S=>w("email",S.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your email"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"phone",className:"text-gray-800",children:"Phone Number *"}),o.jsx(Ze,{id:"phone",type:"tel",value:c.phone,onChange:S=>w("phone",S.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your phone number"})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"experience",className:"text-gray-800",children:"Years of Experience *"}),o.jsxs(au,{value:c.experience,onValueChange:S=>w("experience",S),children:[o.jsx(pl,{className:"bg-white border-gray-300 text-gray-800",children:o.jsx(lu,{placeholder:"Select experience level"})}),o.jsxs(gl,{children:[o.jsx(Ot,{value:"0-1",children:"0-1 years"}),o.jsx(Ot,{value:"1-3",children:"1-3 years"}),o.jsx(Ot,{value:"3-5",children:"3-5 years"}),o.jsx(Ot,{value:"5-8",children:"5-8 years"}),o.jsx(Ot,{value:"8+",children:"8+ years"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"coverLetter",className:"text-gray-800",children:"Cover Letter *"}),o.jsx(Bb,{id:"coverLetter",value:c.coverLetter,onChange:S=>w("coverLetter",S.target.value),required:!0,rows:5,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Tell us why you're interested in this position and what makes you a great fit..."})]}),o.jsxs("div",{children:[o.jsx(Ve,{htmlFor:"resume",className:"text-gray-800",children:"Resume/CV *"}),o.jsx(Ze,{id:"resume",type:"file",accept:".pdf,.doc,.docx",onChange:S=>w("resume",S.target.files[0]),required:!0,className:"bg-white border-gray-300 text-gray-800 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-quicklymart-orange-500 file:text-white hover:file:bg-quicklymart-orange-600"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted formats: PDF, DOC, DOCX (Max 5MB)"})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(W,{type:"submit",className:"flex-1 bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:"Submit Application"}),o.jsx(W,{type:"button",variant:"outline",onClick:()=>l(!1),className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"})]})]})})]})}),o.jsx(Ae,{className:"bg-white border border-gray-200",children:o.jsxs(Re,{className:"p-8 text-center",children:[o.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Don't see a perfect fit?"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"We're always looking for talented individuals to join our team. Send us your resume and we'll keep you in mind for future opportunities."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(W,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:[o.jsx(_i,{className:"w-4 h-4 mr-2"}),"Send Resume"]}),o.jsxs(W,{variant:"outline",className:"border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:[o.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Contact HR"]})]})]})})]})]})},cQ=()=>{const t=qn(),{isDarkMode:e,toggleDarkMode:n}=mn(),[r,s]=v.useState("overview");return o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"text-gray-600 hover:text-quicklymart-orange-500",children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Privacy Policy"}),o.jsx("p",{className:"text-sm text-gray-600",children:"How we protect your data"})]})]}),o.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:"text-gray-600 hover:text-quicklymart-orange-500",children:e?o.jsx(An,{className:"w-4 h-4"}):o.jsx(bn,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[o.jsx("div",{className:"mb-6 p-4 bg-quicklymart-orange-50 border border-quicklymart-orange-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(oI,{className:"w-5 h-5 text-quicklymart-orange-600"}),o.jsx("span",{className:"text-sm font-medium text-quicklymart-orange-800",children:"Last updated: December 15, 2024"})]})}),o.jsx(Ae,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Re,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Introduction"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"At QuicklyMart Instant Grub, we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our food delivery service."}),o.jsx("p",{className:"text-gray-600",children:"By using our service, you agree to the collection and use of information in accordance with this policy."})]})}),o.jsx(Ae,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Re,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Information We Collect"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(Ao,{className:"w-5 h-5 mr-2 text-quicklymart-orange-500"}),"Personal Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"Name and contact information (email, phone number)"}),o.jsx("li",{children:"Delivery address and location data"}),o.jsx("li",{children:"Payment information (processed securely through our payment partners)"}),o.jsx("li",{children:"Account credentials and profile information"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(wp,{className:"w-5 h-5 mr-2 text-quicklymart-orange-500"}),"Device and Usage Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"Device type, operating system, and browser information"}),o.jsx("li",{children:"IP address and general location data"}),o.jsx("li",{children:"App usage patterns and preferences"}),o.jsx("li",{children:"Order history and delivery preferences"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(gr,{className:"w-5 h-5 mr-2 text-quicklymart-orange-500"}),"Location Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"GPS location for delivery services"}),o.jsx("li",{children:"Address book contacts (with permission)"}),o.jsx("li",{children:"Real-time location tracking during delivery"})]})]})]})]})}),o.jsx(Ae,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Re,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"How We Use Your Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(Os,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Service Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Process orders and coordinate deliveries"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(Ec,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Security"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Prevent fraud and ensure account security"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(K5,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Communication"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Send order updates and support messages"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(F5,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Analytics"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Improve our service and user experience"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(uI,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Personalization"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Provide relevant recommendations"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(j0,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Account Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage your account and preferences"})]})]})]})]})]})}),o.jsx(Ae,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Re,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Information Sharing"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We do not sell, trade, or rent your personal information to third parties. We may share your information only in the following circumstances:"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full mt-1",children:o.jsx(L5,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Restaurant Partners"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Share order details with restaurants to fulfill your orders"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full mt-1",children:o.jsx(Os,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Delivery Partners"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Provide necessary information to delivery drivers"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full mt-1",children:o.jsx(Ec,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Legal Requirements"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Comply with applicable laws and regulations"})]})]})]})]})}),o.jsx(Ae,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Re,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Data Security"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We implement industry-standard security measures to protect your personal information:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Nd,{className:"w-5 h-5 text-quicklymart-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"SSL encryption for data transmission"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Nd,{className:"w-5 h-5 text-quicklymart-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Secure payment processing"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Nd,{className:"w-5 h-5 text-quicklymart-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Regular security audits"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Nd,{className:"w-5 h-5 text-quicklymart-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Access controls and authentication"})]})]})]})}),o.jsx(Ae,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Re,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Your Rights"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"You have the following rights regarding your personal information:"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(Wd,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Access"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request access to your personal data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx($_,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Correction"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request correction of inaccurate data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(B_,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Deletion"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request deletion of your personal data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(O5,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Objection"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Object to processing of your data"})]})]})]})]})}),o.jsx(Ae,{className:"bg-white border border-gray-200",children:o.jsxs(Re,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Contact Us"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(_i,{className:"w-5 h-5 text-quicklymart-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"privacy@quicklymart.com"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Qr,{className:"w-5 h-5 text-quicklymart-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"+1 (555) 123-4567"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(gr,{className:"w-5 h-5 text-quicklymart-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"123 Food Street, Delivery City, DC 12345"})]})]})]})})]})]})},uQ=new gV,AM=v.createContext(void 0),mn=()=>{const t=v.useContext(AM);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},RM=v.createContext(void 0),MM=()=>{const t=v.useContext(RM);if(!t)throw new Error("useSelectedAddress must be used within a SelectedAddressProvider");return t},dQ=({children:t})=>{const[e,n]=v.useState(!1);v.useEffect(()=>{const d=localStorage.getItem("darkMode")==="true";n(d),r(d)},[]);const r=c=>{c?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},s=()=>{const c=!e;n(c),localStorage.setItem("darkMode",c.toString()),r(c),St.currentUser&&l(St.currentUser.uid,c)},i=c=>{n(c),localStorage.setItem("darkMode",c.toString()),r(c),St.currentUser&&l(St.currentUser.uid,c)},l=async(c,d)=>{try{const h=In(ht,"users",c);await ia(h,{"settings.darkMode":d,updatedAt:new Date})}catch(h){console.error("Error updating theme in Firestore:",h)}};return o.jsx(AM.Provider,{value:{isDarkMode:e,toggleDarkMode:s,setDarkMode:i},children:t})},hQ=()=>{const[t,e]=v.useState(()=>{const l=localStorage.getItem("quicklymart-selected-address");return l?JSON.parse(l):null}),[n,r]=v.useState(!1);v.useEffect(()=>{(async()=>{try{await Qq(),await nA(),await Yq(),console.log("Firebase data initialized successfully")}catch(c){console.error("Error initializing Firebase data:",c)}})()},[]),v.useEffect(()=>{t?localStorage.setItem("quicklymart-selected-address",JSON.stringify(t)):localStorage.removeItem("quicklymart-selected-address")},[t]),v.useEffect(()=>{(async()=>{try{const c=await Z$(St);c&&(Y.success("Google sign-in successful!"),await s(c.user))}catch(c){console.error("Google sign-in redirect error:",c),Y.error("Google sign-in failed. Please try again.")}})()},[]),v.useEffect(()=>{const l=St.onAuthStateChanged(async c=>{c?await s(c):r(!1)});return()=>l()},[]);const s=async l=>{var c;try{const d=await iu(In(ht,"users",l.uid));(!d.exists()||!((c=d.data())!=null&&c.isOnboarded))&&r(!0)}catch(d){console.error("Error checking user onboarding status:",d)}},i=()=>{r(!1)};return o.jsx(vV,{client:uQ,children:o.jsx(dQ,{children:o.jsxs(RM.Provider,{value:{selectedAddress:t,setSelectedAddress:e},children:[o.jsxs(WF,{children:[o.jsx(U3,{}),o.jsx(H_,{}),o.jsx(m9,{children:o.jsxs(d9,{children:[o.jsx(Tn,{path:"/",element:o.jsx(fZ,{})}),o.jsx(Tn,{path:"/food",element:o.jsx(mZ,{})}),o.jsx(Tn,{path:"/daily-essential",element:o.jsx(pZ,{})}),o.jsx(Tn,{path:"/drinks",element:o.jsx(gZ,{})}),o.jsx(Tn,{path:"/all-categories",element:o.jsx(VZ,{})}),o.jsx(Tn,{path:"/profile",element:o.jsx(yZ,{})}),o.jsx(Tn,{path:"/past-orders",element:o.jsx(vZ,{})}),o.jsx(Tn,{path:"/current-order/:orderId",element:o.jsx(CZ,{})}),o.jsx(Tn,{path:"/settings",element:o.jsx(RZ,{})}),o.jsx(Tn,{path:"/address",element:o.jsx(MZ,{})}),o.jsx(Tn,{path:"/help-center",element:o.jsx(sQ,{})}),o.jsx(Tn,{path:"/contact-us",element:o.jsx(iQ,{})}),o.jsx(Tn,{path:"/track-order",element:o.jsx(oQ,{})}),o.jsx(Tn,{path:"/about-us",element:o.jsx(aQ,{})}),o.jsx(Tn,{path:"/careers",element:o.jsx(lQ,{})}),o.jsx(Tn,{path:"/privacy-policy",element:o.jsx(cQ,{})}),o.jsx(Tn,{path:"*",element:o.jsx(DZ,{})})]})})]}),o.jsx(EA,{isOpen:n,onComplete:i})]})})})};jP(document.getElementById("root")).render(o.jsx(hQ,{}));
