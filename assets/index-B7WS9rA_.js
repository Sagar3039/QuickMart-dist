var o1=t=>{throw TypeError(t)};var mg=(t,e,n)=>e.has(t)||o1("Cannot "+n);var se=(t,e,n)=>(mg(t,e,"read from private field"),n?n.call(t):e.get(t)),gt=(t,e,n)=>e.has(t)?o1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ke=(t,e,n,r)=>(mg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Vn=(t,e,n)=>(mg(t,e,"access private method"),n);var rh=(t,e,n,r)=>({set _(s){Ke(t,e,s,n)},get _(){return se(t,e,r)}});function lD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function jS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kS={exports:{}},_p={},IS={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=Symbol.for("react.element"),cD=Symbol.for("react.portal"),uD=Symbol.for("react.fragment"),dD=Symbol.for("react.strict_mode"),hD=Symbol.for("react.profiler"),fD=Symbol.for("react.provider"),pD=Symbol.for("react.context"),mD=Symbol.for("react.forward_ref"),gD=Symbol.for("react.suspense"),yD=Symbol.for("react.memo"),vD=Symbol.for("react.lazy"),a1=Symbol.iterator;function xD(t){return t===null||typeof t!="object"?null:(t=a1&&t[a1]||t["@@iterator"],typeof t=="function"?t:null)}var TS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PS=Object.assign,AS={};function ql(t,e,n){this.props=t,this.context=e,this.refs=AS,this.updater=n||TS}ql.prototype.isReactComponent={};ql.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ql.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RS(){}RS.prototype=ql.prototype;function y0(t,e,n){this.props=t,this.context=e,this.refs=AS,this.updater=n||TS}var v0=y0.prototype=new RS;v0.constructor=y0;PS(v0,ql.prototype);v0.isPureReactComponent=!0;var l1=Array.isArray,LS=Object.prototype.hasOwnProperty,x0={current:null},MS={key:!0,ref:!0,__self:!0,__source:!0};function DS(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)LS.call(e,r)&&!MS.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:pd,type:t,key:i,ref:a,props:s,_owner:x0.current}}function wD(t,e){return{$$typeof:pd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function w0(t){return typeof t=="object"&&t!==null&&t.$$typeof===pd}function bD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var c1=/\/+/g;function gg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bD(""+t.key):e.toString(36)}function Oh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case pd:case cD:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+gg(a,0):r,l1(s)?(n="",t!=null&&(n=t.replace(c1,"$&/")+"/"),Oh(s,e,n,"",function(u){return u})):s!=null&&(w0(s)&&(s=wD(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(c1,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",l1(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+gg(i,l);a+=Oh(i,e,n,c,s)}else if(c=xD(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+gg(i,l++),a+=Oh(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function sh(t,e,n){if(t==null)return t;var r=[],s=0;return Oh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ED(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rr={current:null},Vh={transition:null},ND={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:Vh,ReactCurrentOwner:x0};function OS(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:sh,forEach:function(t,e,n){sh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sh(t,function(){e++}),e},toArray:function(t){return sh(t,function(e){return e})||[]},only:function(t){if(!w0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};rt.Component=ql;rt.Fragment=uD;rt.Profiler=hD;rt.PureComponent=y0;rt.StrictMode=dD;rt.Suspense=gD;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ND;rt.act=OS;rt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PS({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=x0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)LS.call(e,c)&&!MS.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:pd,type:t.type,key:s,ref:i,props:r,_owner:a}};rt.createContext=function(t){return t={$$typeof:pD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fD,_context:t},t.Consumer=t};rt.createElement=DS;rt.createFactory=function(t){var e=DS.bind(null,t);return e.type=t,e};rt.createRef=function(){return{current:null}};rt.forwardRef=function(t){return{$$typeof:mD,render:t}};rt.isValidElement=w0;rt.lazy=function(t){return{$$typeof:vD,_payload:{_status:-1,_result:t},_init:ED}};rt.memo=function(t,e){return{$$typeof:yD,type:t,compare:e===void 0?null:e}};rt.startTransition=function(t){var e=Vh.transition;Vh.transition={};try{t()}finally{Vh.transition=e}};rt.unstable_act=OS;rt.useCallback=function(t,e){return rr.current.useCallback(t,e)};rt.useContext=function(t){return rr.current.useContext(t)};rt.useDebugValue=function(){};rt.useDeferredValue=function(t){return rr.current.useDeferredValue(t)};rt.useEffect=function(t,e){return rr.current.useEffect(t,e)};rt.useId=function(){return rr.current.useId()};rt.useImperativeHandle=function(t,e,n){return rr.current.useImperativeHandle(t,e,n)};rt.useInsertionEffect=function(t,e){return rr.current.useInsertionEffect(t,e)};rt.useLayoutEffect=function(t,e){return rr.current.useLayoutEffect(t,e)};rt.useMemo=function(t,e){return rr.current.useMemo(t,e)};rt.useReducer=function(t,e,n){return rr.current.useReducer(t,e,n)};rt.useRef=function(t){return rr.current.useRef(t)};rt.useState=function(t){return rr.current.useState(t)};rt.useSyncExternalStore=function(t,e,n){return rr.current.useSyncExternalStore(t,e,n)};rt.useTransition=function(){return rr.current.useTransition()};rt.version="18.3.1";IS.exports=rt;var d=IS.exports;const de=jS(d),b0=lD({__proto__:null,default:de},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CD=d,_D=Symbol.for("react.element"),SD=Symbol.for("react.fragment"),jD=Object.prototype.hasOwnProperty,kD=CD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ID={key:!0,ref:!0,__self:!0,__source:!0};function VS(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)jD.call(e,r)&&!ID.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_D,type:t,key:i,ref:a,props:s,_owner:kD.current}}_p.Fragment=SD;_p.jsx=VS;_p.jsxs=VS;kS.exports=_p;var o=kS.exports,FS={exports:{}},Tr={},$S={exports:{}},US={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,D){var B=O.length;O.push(D);e:for(;0<B;){var V=B-1>>>1,F=O[V];if(0<s(F,D))O[V]=D,O[B]=F,B=V;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var D=O[0],B=O.pop();if(B!==D){O[0]=B;e:for(var V=0,F=O.length,Q=F>>>1;V<Q;){var ie=2*(V+1)-1,W=O[ie],ge=ie+1,te=O[ge];if(0>s(W,B))ge<F&&0>s(te,W)?(O[V]=te,O[ge]=B,V=ge):(O[V]=W,O[ie]=B,V=ie);else if(ge<F&&0>s(te,B))O[V]=te,O[ge]=B,V=ge;else break e}}return D}function s(O,D){var B=O.sortIndex-D.sortIndex;return B!==0?B:O.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,p=null,m=3,g=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(O){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=O)r(u),D.sortIndex=D.expirationTime,e(c,D);else break;D=n(u)}}function k(O){if(y=!1,N(O),!v)if(n(c)!==null)v=!0,$(A);else{var D=n(u);D!==null&&Y(k,D.startTime-O)}}function A(O,D){v=!1,y&&(y=!1,w(_),_=-1),g=!0;var B=m;try{for(N(D),p=n(c);p!==null&&(!(p.expirationTime>D)||O&&!I());){var V=p.callback;if(typeof V=="function"){p.callback=null,m=p.priorityLevel;var F=V(p.expirationTime<=D);D=t.unstable_now(),typeof F=="function"?p.callback=F:p===n(c)&&r(c),N(D)}else r(c);p=n(c)}if(p!==null)var Q=!0;else{var ie=n(u);ie!==null&&Y(k,ie.startTime-D),Q=!1}return Q}finally{p=null,m=B,g=!1}}var L=!1,C=null,_=-1,S=5,T=-1;function I(){return!(t.unstable_now()-T<S)}function P(){if(C!==null){var O=t.unstable_now();T=O;var D=!0;try{D=C(!0,O)}finally{D?R():(L=!1,C=null)}}else L=!1}var R;if(typeof x=="function")R=function(){x(P)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,H=K.port2;K.port1.onmessage=P,R=function(){H.postMessage(null)}}else R=function(){b(P,0)};function $(O){C=O,L||(L=!0,R())}function Y(O,D){_=b(function(){O(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,$(A))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var B=m;m=D;try{return O()}finally{m=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,D){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=m;m=O;try{return D()}finally{m=B}},t.unstable_scheduleCallback=function(O,D,B){var V=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?V+B:V):B=V,O){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=B+F,O={id:h++,callback:D,priorityLevel:O,startTime:B,expirationTime:F,sortIndex:-1},B>V?(O.sortIndex=B,e(u,O),n(c)===null&&O===n(u)&&(y?(w(_),_=-1):y=!0,Y(k,B-V))):(O.sortIndex=F,e(c,O),v||g||(v=!0,$(A))),O},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(O){var D=m;return function(){var B=m;m=D;try{return O.apply(this,arguments)}finally{m=B}}}})(US);$S.exports=US;var TD=$S.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PD=d,Ir=TD;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zS=new Set,Cu={};function Ea(t,e){jl(t,e),jl(t+"Capture",e)}function jl(t,e){for(Cu[t]=e,t=0;t<e.length;t++)zS.add(e[t])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xy=Object.prototype.hasOwnProperty,AD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u1={},d1={};function RD(t){return xy.call(d1,t)?!0:xy.call(u1,t)?!1:AD.test(t)?d1[t]=!0:(u1[t]=!0,!1)}function LD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MD(t,e,n,r){if(e===null||typeof e>"u"||LD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sr(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tn[t]=new sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tn[e]=new sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tn[t]=new sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tn[t]=new sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tn[t]=new sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tn[t]=new sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tn[t]=new sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tn[t]=new sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tn[t]=new sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var E0=/[\-:]([a-z])/g;function N0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(E0,N0);Tn[e]=new sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(E0,N0);Tn[e]=new sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(E0,N0);Tn[e]=new sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tn[t]=new sr(t,1,!1,t.toLowerCase(),null,!1,!1)});Tn.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tn[t]=new sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function C0(t,e,n,r){var s=Tn.hasOwnProperty(e)?Tn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MD(e,n,s,r)&&(n=null),r||s===null?RD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wi=PD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ih=Symbol.for("react.element"),Ba=Symbol.for("react.portal"),Ha=Symbol.for("react.fragment"),_0=Symbol.for("react.strict_mode"),wy=Symbol.for("react.profiler"),BS=Symbol.for("react.provider"),HS=Symbol.for("react.context"),S0=Symbol.for("react.forward_ref"),by=Symbol.for("react.suspense"),Ey=Symbol.for("react.suspense_list"),j0=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),WS=Symbol.for("react.offscreen"),h1=Symbol.iterator;function jc(t){return t===null||typeof t!="object"?null:(t=h1&&t[h1]||t["@@iterator"],typeof t=="function"?t:null)}var Kt=Object.assign,yg;function Uc(t){if(yg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yg=e&&e[1]||""}return`
`+yg+t}var vg=!1;function xg(t,e){if(!t||vg)return"";vg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{vg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Uc(t):""}function DD(t){switch(t.tag){case 5:return Uc(t.type);case 16:return Uc("Lazy");case 13:return Uc("Suspense");case 19:return Uc("SuspenseList");case 0:case 2:case 15:return t=xg(t.type,!1),t;case 11:return t=xg(t.type.render,!1),t;case 1:return t=xg(t.type,!0),t;default:return""}}function Ny(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ha:return"Fragment";case Ba:return"Portal";case wy:return"Profiler";case _0:return"StrictMode";case by:return"Suspense";case Ey:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HS:return(t.displayName||"Context")+".Consumer";case BS:return(t._context.displayName||"Context")+".Provider";case S0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j0:return e=t.displayName||null,e!==null?e:Ny(t.type)||"Memo";case Ai:e=t._payload,t=t._init;try{return Ny(t(e))}catch{}}return null}function OD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ny(e);case 8:return e===_0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VD(t){var e=qS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function oh(t){t._valueTracker||(t._valueTracker=VD(t))}function GS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cy(t,e){var n=e.checked;return Kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function f1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KS(t,e){e=e.checked,e!=null&&C0(t,"checked",e,!1)}function _y(t,e){KS(t,e);var n=fo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sy(t,e.type,fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function p1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sy(t,e,n){(e!=="number"||uf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zc=Array.isArray;function rl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function jy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function m1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(zc(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fo(n)}}function QS(t,e){var n=fo(e.value),r=fo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function g1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ky(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ah,ZS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ah=ah||document.createElement("div"),ah.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ah.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _u(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FD=["Webkit","ms","Moz","O"];Object.keys(su).forEach(function(t){FD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),su[e]=su[t]})});function XS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||su.hasOwnProperty(t)&&su[t]?(""+e).trim():e+"px"}function JS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=XS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var $D=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iy(t,e){if(e){if($D[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function Ty(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Py=null;function k0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ay=null,sl=null,il=null;function y1(t){if(t=yd(t)){if(typeof Ay!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=Tp(e),Ay(t.stateNode,t.type,e))}}function ej(t){sl?il?il.push(t):il=[t]:sl=t}function tj(){if(sl){var t=sl,e=il;if(il=sl=null,y1(t),e)for(t=0;t<e.length;t++)y1(e[t])}}function nj(t,e){return t(e)}function rj(){}var wg=!1;function sj(t,e,n){if(wg)return t(e,n);wg=!0;try{return nj(t,e,n)}finally{wg=!1,(sl!==null||il!==null)&&(rj(),tj())}}function Su(t,e){var n=t.stateNode;if(n===null)return null;var r=Tp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var Ry=!1;if(li)try{var kc={};Object.defineProperty(kc,"passive",{get:function(){Ry=!0}}),window.addEventListener("test",kc,kc),window.removeEventListener("test",kc,kc)}catch{Ry=!1}function UD(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var iu=!1,df=null,hf=!1,Ly=null,zD={onError:function(t){iu=!0,df=t}};function BD(t,e,n,r,s,i,a,l,c){iu=!1,df=null,UD.apply(zD,arguments)}function HD(t,e,n,r,s,i,a,l,c){if(BD.apply(this,arguments),iu){if(iu){var u=df;iu=!1,df=null}else throw Error(fe(198));hf||(hf=!0,Ly=u)}}function Na(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ij(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v1(t){if(Na(t)!==t)throw Error(fe(188))}function WD(t){var e=t.alternate;if(!e){if(e=Na(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return v1(s),t;if(i===r)return v1(s),e;i=i.sibling}throw Error(fe(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function oj(t){return t=WD(t),t!==null?aj(t):null}function aj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aj(t);if(e!==null)return e;t=t.sibling}return null}var lj=Ir.unstable_scheduleCallback,x1=Ir.unstable_cancelCallback,qD=Ir.unstable_shouldYield,GD=Ir.unstable_requestPaint,rn=Ir.unstable_now,KD=Ir.unstable_getCurrentPriorityLevel,I0=Ir.unstable_ImmediatePriority,cj=Ir.unstable_UserBlockingPriority,ff=Ir.unstable_NormalPriority,QD=Ir.unstable_LowPriority,uj=Ir.unstable_IdlePriority,Sp=null,Ms=null;function YD(t){if(Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(Sp,t,void 0,(t.current.flags&128)===128)}catch{}}var hs=Math.clz32?Math.clz32:JD,ZD=Math.log,XD=Math.LN2;function JD(t){return t>>>=0,t===0?32:31-(ZD(t)/XD|0)|0}var lh=64,ch=4194304;function Bc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Bc(l):(i&=a,i!==0&&(r=Bc(i)))}else a=n&~s,a!==0?r=Bc(a):i!==0&&(r=Bc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hs(e),s=1<<n,r|=t[n],e&=~s;return r}function eO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-hs(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=eO(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function My(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dj(){var t=lh;return lh<<=1,!(lh&4194240)&&(lh=64),t}function bg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function md(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hs(e),t[e]=n}function nO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-hs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function T0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var jt=0;function hj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fj,P0,pj,mj,gj,Dy=!1,uh=[],Ji=null,eo=null,to=null,ju=new Map,ku=new Map,Mi=[],rO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w1(t,e){switch(t){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":ju.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(e.pointerId)}}function Ic(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=yd(e),e!==null&&P0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function sO(t,e,n,r,s){switch(e){case"focusin":return Ji=Ic(Ji,t,e,n,r,s),!0;case"dragenter":return eo=Ic(eo,t,e,n,r,s),!0;case"mouseover":return to=Ic(to,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ju.set(i,Ic(ju.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ku.set(i,Ic(ku.get(i)||null,t,e,n,r,s)),!0}return!1}function yj(t){var e=$o(t.target);if(e!==null){var n=Na(e);if(n!==null){if(e=n.tag,e===13){if(e=ij(n),e!==null){t.blockedOn=e,gj(t.priority,function(){pj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Py=r,n.target.dispatchEvent(r),Py=null}else return e=yd(n),e!==null&&P0(e),t.blockedOn=n,!1;e.shift()}return!0}function b1(t,e,n){Fh(t)&&n.delete(e)}function iO(){Dy=!1,Ji!==null&&Fh(Ji)&&(Ji=null),eo!==null&&Fh(eo)&&(eo=null),to!==null&&Fh(to)&&(to=null),ju.forEach(b1),ku.forEach(b1)}function Tc(t,e){t.blockedOn===e&&(t.blockedOn=null,Dy||(Dy=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,iO)))}function Iu(t){function e(s){return Tc(s,t)}if(0<uh.length){Tc(uh[0],t);for(var n=1;n<uh.length;n++){var r=uh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ji!==null&&Tc(Ji,t),eo!==null&&Tc(eo,t),to!==null&&Tc(to,t),ju.forEach(e),ku.forEach(e),n=0;n<Mi.length;n++)r=Mi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mi.length&&(n=Mi[0],n.blockedOn===null);)yj(n),n.blockedOn===null&&Mi.shift()}var ol=wi.ReactCurrentBatchConfig,mf=!0;function oO(t,e,n,r){var s=jt,i=ol.transition;ol.transition=null;try{jt=1,A0(t,e,n,r)}finally{jt=s,ol.transition=i}}function aO(t,e,n,r){var s=jt,i=ol.transition;ol.transition=null;try{jt=4,A0(t,e,n,r)}finally{jt=s,ol.transition=i}}function A0(t,e,n,r){if(mf){var s=Oy(t,e,n,r);if(s===null)Pg(t,e,r,gf,n),w1(t,r);else if(sO(s,t,e,n,r))r.stopPropagation();else if(w1(t,r),e&4&&-1<rO.indexOf(t)){for(;s!==null;){var i=yd(s);if(i!==null&&fj(i),i=Oy(t,e,n,r),i===null&&Pg(t,e,r,gf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Pg(t,e,r,null,n)}}var gf=null;function Oy(t,e,n,r){if(gf=null,t=k0(r),t=$o(t),t!==null)if(e=Na(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ij(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gf=t,null}function vj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KD()){case I0:return 1;case cj:return 4;case ff:case QD:return 16;case uj:return 536870912;default:return 16}default:return 16}}var qi=null,R0=null,$h=null;function xj(){if($h)return $h;var t,e=R0,n=e.length,r,s="value"in qi?qi.value:qi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return $h=s.slice(t,1<r?1-r:void 0)}function Uh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dh(){return!0}function E1(){return!1}function Pr(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dh:E1,this.isPropagationStopped=E1,this}return Kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dh)},persist:function(){},isPersistent:dh}),e}var Gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L0=Pr(Gl),gd=Kt({},Gl,{view:0,detail:0}),lO=Pr(gd),Eg,Ng,Pc,jp=Kt({},gd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:M0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pc&&(Pc&&t.type==="mousemove"?(Eg=t.screenX-Pc.screenX,Ng=t.screenY-Pc.screenY):Ng=Eg=0,Pc=t),Eg)},movementY:function(t){return"movementY"in t?t.movementY:Ng}}),N1=Pr(jp),cO=Kt({},jp,{dataTransfer:0}),uO=Pr(cO),dO=Kt({},gd,{relatedTarget:0}),Cg=Pr(dO),hO=Kt({},Gl,{animationName:0,elapsedTime:0,pseudoElement:0}),fO=Pr(hO),pO=Kt({},Gl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mO=Pr(pO),gO=Kt({},Gl,{data:0}),C1=Pr(gO),yO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xO[t])?!!e[t]:!1}function M0(){return wO}var bO=Kt({},gd,{key:function(t){if(t.key){var e=yO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:M0,charCode:function(t){return t.type==="keypress"?Uh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EO=Pr(bO),NO=Kt({},jp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_1=Pr(NO),CO=Kt({},gd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:M0}),_O=Pr(CO),SO=Kt({},Gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),jO=Pr(SO),kO=Kt({},jp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IO=Pr(kO),TO=[9,13,27,32],D0=li&&"CompositionEvent"in window,ou=null;li&&"documentMode"in document&&(ou=document.documentMode);var PO=li&&"TextEvent"in window&&!ou,wj=li&&(!D0||ou&&8<ou&&11>=ou),S1=" ",j1=!1;function bj(t,e){switch(t){case"keyup":return TO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ej(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wa=!1;function AO(t,e){switch(t){case"compositionend":return Ej(e);case"keypress":return e.which!==32?null:(j1=!0,S1);case"textInput":return t=e.data,t===S1&&j1?null:t;default:return null}}function RO(t,e){if(Wa)return t==="compositionend"||!D0&&bj(t,e)?(t=xj(),$h=R0=qi=null,Wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wj&&e.locale!=="ko"?null:e.data;default:return null}}var LO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LO[t.type]:e==="textarea"}function Nj(t,e,n,r){ej(r),e=yf(e,"onChange"),0<e.length&&(n=new L0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var au=null,Tu=null;function MO(t){Lj(t,0)}function kp(t){var e=Ka(t);if(GS(e))return t}function DO(t,e){if(t==="change")return e}var Cj=!1;if(li){var _g;if(li){var Sg="oninput"in document;if(!Sg){var I1=document.createElement("div");I1.setAttribute("oninput","return;"),Sg=typeof I1.oninput=="function"}_g=Sg}else _g=!1;Cj=_g&&(!document.documentMode||9<document.documentMode)}function T1(){au&&(au.detachEvent("onpropertychange",_j),Tu=au=null)}function _j(t){if(t.propertyName==="value"&&kp(Tu)){var e=[];Nj(e,Tu,t,k0(t)),sj(MO,e)}}function OO(t,e,n){t==="focusin"?(T1(),au=e,Tu=n,au.attachEvent("onpropertychange",_j)):t==="focusout"&&T1()}function VO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kp(Tu)}function FO(t,e){if(t==="click")return kp(e)}function $O(t,e){if(t==="input"||t==="change")return kp(e)}function UO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gs=typeof Object.is=="function"?Object.is:UO;function Pu(t,e){if(gs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xy.call(e,s)||!gs(t[s],e[s]))return!1}return!0}function P1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A1(t,e){var n=P1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P1(n)}}function Sj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jj(){for(var t=window,e=uf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uf(t.document)}return e}function O0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zO(t){var e=jj(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Sj(n.ownerDocument.documentElement,n)){if(r!==null&&O0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=A1(n,i);var a=A1(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BO=li&&"documentMode"in document&&11>=document.documentMode,qa=null,Vy=null,lu=null,Fy=!1;function R1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fy||qa==null||qa!==uf(r)||(r=qa,"selectionStart"in r&&O0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lu&&Pu(lu,r)||(lu=r,r=yf(Vy,"onSelect"),0<r.length&&(e=new L0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qa)))}function hh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ga={animationend:hh("Animation","AnimationEnd"),animationiteration:hh("Animation","AnimationIteration"),animationstart:hh("Animation","AnimationStart"),transitionend:hh("Transition","TransitionEnd")},jg={},kj={};li&&(kj=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Ip(t){if(jg[t])return jg[t];if(!Ga[t])return t;var e=Ga[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kj)return jg[t]=e[n];return t}var Ij=Ip("animationend"),Tj=Ip("animationiteration"),Pj=Ip("animationstart"),Aj=Ip("transitionend"),Rj=new Map,L1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function No(t,e){Rj.set(t,e),Ea(e,[t])}for(var kg=0;kg<L1.length;kg++){var Ig=L1[kg],HO=Ig.toLowerCase(),WO=Ig[0].toUpperCase()+Ig.slice(1);No(HO,"on"+WO)}No(Ij,"onAnimationEnd");No(Tj,"onAnimationIteration");No(Pj,"onAnimationStart");No("dblclick","onDoubleClick");No("focusin","onFocus");No("focusout","onBlur");No(Aj,"onTransitionEnd");jl("onMouseEnter",["mouseout","mouseover"]);jl("onMouseLeave",["mouseout","mouseover"]);jl("onPointerEnter",["pointerout","pointerover"]);jl("onPointerLeave",["pointerout","pointerover"]);Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hc));function M1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HD(r,e,void 0,t),t.currentTarget=null}function Lj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;M1(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;M1(s,l,u),i=c}}}if(hf)throw t=Ly,hf=!1,Ly=null,t}function Vt(t,e){var n=e[Hy];n===void 0&&(n=e[Hy]=new Set);var r=t+"__bubble";n.has(r)||(Mj(e,t,2,!1),n.add(r))}function Tg(t,e,n){var r=0;e&&(r|=4),Mj(n,t,r,e)}var fh="_reactListening"+Math.random().toString(36).slice(2);function Au(t){if(!t[fh]){t[fh]=!0,zS.forEach(function(n){n!=="selectionchange"&&(qO.has(n)||Tg(n,!1,t),Tg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fh]||(e[fh]=!0,Tg("selectionchange",!1,e))}}function Mj(t,e,n,r){switch(vj(e)){case 1:var s=oO;break;case 4:s=aO;break;default:s=A0}n=s.bind(null,e,n,t),s=void 0,!Ry||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Pg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=$o(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}sj(function(){var u=i,h=k0(n),p=[];e:{var m=Rj.get(t);if(m!==void 0){var g=L0,v=t;switch(t){case"keypress":if(Uh(n)===0)break e;case"keydown":case"keyup":g=EO;break;case"focusin":v="focus",g=Cg;break;case"focusout":v="blur",g=Cg;break;case"beforeblur":case"afterblur":g=Cg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=N1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=uO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_O;break;case Ij:case Tj:case Pj:g=fO;break;case Aj:g=jO;break;case"scroll":g=lO;break;case"wheel":g=IO;break;case"copy":case"cut":case"paste":g=mO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_1}var y=(e&4)!==0,b=!y&&t==="scroll",w=y?m!==null?m+"Capture":null:m;y=[];for(var x=u,N;x!==null;){N=x;var k=N.stateNode;if(N.tag===5&&k!==null&&(N=k,w!==null&&(k=Su(x,w),k!=null&&y.push(Ru(x,k,N)))),b)break;x=x.return}0<y.length&&(m=new g(m,v,null,n,h),p.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Py&&(v=n.relatedTarget||n.fromElement)&&($o(v)||v[ci]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?$o(v):null,v!==null&&(b=Na(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=N1,k="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=_1,k="onPointerLeave",w="onPointerEnter",x="pointer"),b=g==null?m:Ka(g),N=v==null?m:Ka(v),m=new y(k,x+"leave",g,n,h),m.target=b,m.relatedTarget=N,k=null,$o(h)===u&&(y=new y(w,x+"enter",v,n,h),y.target=N,y.relatedTarget=b,k=y),b=k,g&&v)t:{for(y=g,w=v,x=0,N=y;N;N=Ma(N))x++;for(N=0,k=w;k;k=Ma(k))N++;for(;0<x-N;)y=Ma(y),x--;for(;0<N-x;)w=Ma(w),N--;for(;x--;){if(y===w||w!==null&&y===w.alternate)break t;y=Ma(y),w=Ma(w)}y=null}else y=null;g!==null&&D1(p,m,g,y,!1),v!==null&&b!==null&&D1(p,b,v,y,!0)}}e:{if(m=u?Ka(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var A=DO;else if(k1(m))if(Cj)A=$O;else{A=VO;var L=OO}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=FO);if(A&&(A=A(t,u))){Nj(p,A,n,h);break e}L&&L(t,m,u),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&Sy(m,"number",m.value)}switch(L=u?Ka(u):window,t){case"focusin":(k1(L)||L.contentEditable==="true")&&(qa=L,Vy=u,lu=null);break;case"focusout":lu=Vy=qa=null;break;case"mousedown":Fy=!0;break;case"contextmenu":case"mouseup":case"dragend":Fy=!1,R1(p,n,h);break;case"selectionchange":if(BO)break;case"keydown":case"keyup":R1(p,n,h)}var C;if(D0)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Wa?bj(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(wj&&n.locale!=="ko"&&(Wa||_!=="onCompositionStart"?_==="onCompositionEnd"&&Wa&&(C=xj()):(qi=h,R0="value"in qi?qi.value:qi.textContent,Wa=!0)),L=yf(u,_),0<L.length&&(_=new C1(_,t,null,n,h),p.push({event:_,listeners:L}),C?_.data=C:(C=Ej(n),C!==null&&(_.data=C)))),(C=PO?AO(t,n):RO(t,n))&&(u=yf(u,"onBeforeInput"),0<u.length&&(h=new C1("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=C))}Lj(p,e)})}function Ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Su(t,n),i!=null&&r.unshift(Ru(t,i,s)),i=Su(t,e),i!=null&&r.push(Ru(t,i,s))),t=t.return}return r}function Ma(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function D1(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Su(n,i),c!=null&&a.unshift(Ru(n,c,l))):s||(c=Su(n,i),c!=null&&a.push(Ru(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var GO=/\r\n?/g,KO=/\u0000|\uFFFD/g;function O1(t){return(typeof t=="string"?t:""+t).replace(GO,`
`).replace(KO,"")}function ph(t,e,n){if(e=O1(e),O1(t)!==e&&n)throw Error(fe(425))}function vf(){}var $y=null,Uy=null;function zy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var By=typeof setTimeout=="function"?setTimeout:void 0,QO=typeof clearTimeout=="function"?clearTimeout:void 0,V1=typeof Promise=="function"?Promise:void 0,YO=typeof queueMicrotask=="function"?queueMicrotask:typeof V1<"u"?function(t){return V1.resolve(null).then(t).catch(ZO)}:By;function ZO(t){setTimeout(function(){throw t})}function Ag(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Iu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Iu(e)}function no(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function F1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kl=Math.random().toString(36).slice(2),As="__reactFiber$"+Kl,Lu="__reactProps$"+Kl,ci="__reactContainer$"+Kl,Hy="__reactEvents$"+Kl,XO="__reactListeners$"+Kl,JO="__reactHandles$"+Kl;function $o(t){var e=t[As];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ci]||n[As]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=F1(t);t!==null;){if(n=t[As])return n;t=F1(t)}return e}t=n,n=t.parentNode}return null}function yd(t){return t=t[As]||t[ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ka(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function Tp(t){return t[Lu]||null}var Wy=[],Qa=-1;function Co(t){return{current:t}}function $t(t){0>Qa||(t.current=Wy[Qa],Wy[Qa]=null,Qa--)}function Lt(t,e){Qa++,Wy[Qa]=t.current,t.current=e}var po={},Kn=Co(po),fr=Co(!1),ra=po;function kl(t,e){var n=t.type.contextTypes;if(!n)return po;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pr(t){return t=t.childContextTypes,t!=null}function xf(){$t(fr),$t(Kn)}function $1(t,e,n){if(Kn.current!==po)throw Error(fe(168));Lt(Kn,e),Lt(fr,n)}function Dj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(fe(108,OD(t)||"Unknown",s));return Kt({},n,r)}function wf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||po,ra=Kn.current,Lt(Kn,t),Lt(fr,fr.current),!0}function U1(t,e,n){var r=t.stateNode;if(!r)throw Error(fe(169));n?(t=Dj(t,e,ra),r.__reactInternalMemoizedMergedChildContext=t,$t(fr),$t(Kn),Lt(Kn,t)):$t(fr),Lt(fr,n)}var Zs=null,Pp=!1,Rg=!1;function Oj(t){Zs===null?Zs=[t]:Zs.push(t)}function e4(t){Pp=!0,Oj(t)}function _o(){if(!Rg&&Zs!==null){Rg=!0;var t=0,e=jt;try{var n=Zs;for(jt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zs=null,Pp=!1}catch(s){throw Zs!==null&&(Zs=Zs.slice(t+1)),lj(I0,_o),s}finally{jt=e,Rg=!1}}return null}var Ya=[],Za=0,bf=null,Ef=0,Mr=[],Dr=0,sa=null,ei=1,ti="";function Do(t,e){Ya[Za++]=Ef,Ya[Za++]=bf,bf=t,Ef=e}function Vj(t,e,n){Mr[Dr++]=ei,Mr[Dr++]=ti,Mr[Dr++]=sa,sa=t;var r=ei;t=ti;var s=32-hs(r)-1;r&=~(1<<s),n+=1;var i=32-hs(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ei=1<<32-hs(e)+s|n<<s|r,ti=i+t}else ei=1<<i|n<<s|r,ti=t}function V0(t){t.return!==null&&(Do(t,1),Vj(t,1,0))}function F0(t){for(;t===bf;)bf=Ya[--Za],Ya[Za]=null,Ef=Ya[--Za],Ya[Za]=null;for(;t===sa;)sa=Mr[--Dr],Mr[Dr]=null,ti=Mr[--Dr],Mr[Dr]=null,ei=Mr[--Dr],Mr[Dr]=null}var jr=null,_r=null,zt=!1,as=null;function Fj(t,e){var n=Or(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function z1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jr=t,_r=no(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jr=t,_r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sa!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Or(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jr=t,_r=null,!0):!1;default:return!1}}function qy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gy(t){if(zt){var e=_r;if(e){var n=e;if(!z1(t,e)){if(qy(t))throw Error(fe(418));e=no(n.nextSibling);var r=jr;e&&z1(t,e)?Fj(r,n):(t.flags=t.flags&-4097|2,zt=!1,jr=t)}}else{if(qy(t))throw Error(fe(418));t.flags=t.flags&-4097|2,zt=!1,jr=t}}}function B1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jr=t}function mh(t){if(t!==jr)return!1;if(!zt)return B1(t),zt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zy(t.type,t.memoizedProps)),e&&(e=_r)){if(qy(t))throw $j(),Error(fe(418));for(;e;)Fj(t,e),e=no(e.nextSibling)}if(B1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_r=no(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_r=null}}else _r=jr?no(t.stateNode.nextSibling):null;return!0}function $j(){for(var t=_r;t;)t=no(t.nextSibling)}function Il(){_r=jr=null,zt=!1}function $0(t){as===null?as=[t]:as.push(t)}var t4=wi.ReactCurrentBatchConfig;function Ac(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function gh(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function H1(t){var e=t._init;return e(t._payload)}function Uj(t){function e(w,x){if(t){var N=w.deletions;N===null?(w.deletions=[x],w.flags|=16):N.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=oo(w,x),w.index=0,w.sibling=null,w}function i(w,x,N){return w.index=N,t?(N=w.alternate,N!==null?(N=N.index,N<x?(w.flags|=2,x):N):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,x,N,k){return x===null||x.tag!==6?(x=$g(N,w.mode,k),x.return=w,x):(x=s(x,N),x.return=w,x)}function c(w,x,N,k){var A=N.type;return A===Ha?h(w,x,N.props.children,k,N.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ai&&H1(A)===x.type)?(k=s(x,N.props),k.ref=Ac(w,x,N),k.return=w,k):(k=Kh(N.type,N.key,N.props,null,w.mode,k),k.ref=Ac(w,x,N),k.return=w,k)}function u(w,x,N,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=Ug(N,w.mode,k),x.return=w,x):(x=s(x,N.children||[]),x.return=w,x)}function h(w,x,N,k,A){return x===null||x.tag!==7?(x=Xo(N,w.mode,k,A),x.return=w,x):(x=s(x,N),x.return=w,x)}function p(w,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=$g(""+x,w.mode,N),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ih:return N=Kh(x.type,x.key,x.props,null,w.mode,N),N.ref=Ac(w,null,x),N.return=w,N;case Ba:return x=Ug(x,w.mode,N),x.return=w,x;case Ai:var k=x._init;return p(w,k(x._payload),N)}if(zc(x)||jc(x))return x=Xo(x,w.mode,N,null),x.return=w,x;gh(w,x)}return null}function m(w,x,N,k){var A=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return A!==null?null:l(w,x,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ih:return N.key===A?c(w,x,N,k):null;case Ba:return N.key===A?u(w,x,N,k):null;case Ai:return A=N._init,m(w,x,A(N._payload),k)}if(zc(N)||jc(N))return A!==null?null:h(w,x,N,k,null);gh(w,N)}return null}function g(w,x,N,k,A){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(N)||null,l(x,w,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ih:return w=w.get(k.key===null?N:k.key)||null,c(x,w,k,A);case Ba:return w=w.get(k.key===null?N:k.key)||null,u(x,w,k,A);case Ai:var L=k._init;return g(w,x,N,L(k._payload),A)}if(zc(k)||jc(k))return w=w.get(N)||null,h(x,w,k,A,null);gh(x,k)}return null}function v(w,x,N,k){for(var A=null,L=null,C=x,_=x=0,S=null;C!==null&&_<N.length;_++){C.index>_?(S=C,C=null):S=C.sibling;var T=m(w,C,N[_],k);if(T===null){C===null&&(C=S);break}t&&C&&T.alternate===null&&e(w,C),x=i(T,x,_),L===null?A=T:L.sibling=T,L=T,C=S}if(_===N.length)return n(w,C),zt&&Do(w,_),A;if(C===null){for(;_<N.length;_++)C=p(w,N[_],k),C!==null&&(x=i(C,x,_),L===null?A=C:L.sibling=C,L=C);return zt&&Do(w,_),A}for(C=r(w,C);_<N.length;_++)S=g(C,w,_,N[_],k),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?_:S.key),x=i(S,x,_),L===null?A=S:L.sibling=S,L=S);return t&&C.forEach(function(I){return e(w,I)}),zt&&Do(w,_),A}function y(w,x,N,k){var A=jc(N);if(typeof A!="function")throw Error(fe(150));if(N=A.call(N),N==null)throw Error(fe(151));for(var L=A=null,C=x,_=x=0,S=null,T=N.next();C!==null&&!T.done;_++,T=N.next()){C.index>_?(S=C,C=null):S=C.sibling;var I=m(w,C,T.value,k);if(I===null){C===null&&(C=S);break}t&&C&&I.alternate===null&&e(w,C),x=i(I,x,_),L===null?A=I:L.sibling=I,L=I,C=S}if(T.done)return n(w,C),zt&&Do(w,_),A;if(C===null){for(;!T.done;_++,T=N.next())T=p(w,T.value,k),T!==null&&(x=i(T,x,_),L===null?A=T:L.sibling=T,L=T);return zt&&Do(w,_),A}for(C=r(w,C);!T.done;_++,T=N.next())T=g(C,w,_,T.value,k),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?_:T.key),x=i(T,x,_),L===null?A=T:L.sibling=T,L=T);return t&&C.forEach(function(P){return e(w,P)}),zt&&Do(w,_),A}function b(w,x,N,k){if(typeof N=="object"&&N!==null&&N.type===Ha&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case ih:e:{for(var A=N.key,L=x;L!==null;){if(L.key===A){if(A=N.type,A===Ha){if(L.tag===7){n(w,L.sibling),x=s(L,N.props.children),x.return=w,w=x;break e}}else if(L.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ai&&H1(A)===L.type){n(w,L.sibling),x=s(L,N.props),x.ref=Ac(w,L,N),x.return=w,w=x;break e}n(w,L);break}else e(w,L);L=L.sibling}N.type===Ha?(x=Xo(N.props.children,w.mode,k,N.key),x.return=w,w=x):(k=Kh(N.type,N.key,N.props,null,w.mode,k),k.ref=Ac(w,x,N),k.return=w,w=k)}return a(w);case Ba:e:{for(L=N.key;x!==null;){if(x.key===L)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){n(w,x.sibling),x=s(x,N.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=Ug(N,w.mode,k),x.return=w,w=x}return a(w);case Ai:return L=N._init,b(w,x,L(N._payload),k)}if(zc(N))return v(w,x,N,k);if(jc(N))return y(w,x,N,k);gh(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(n(w,x.sibling),x=s(x,N),x.return=w,w=x):(n(w,x),x=$g(N,w.mode,k),x.return=w,w=x),a(w)):n(w,x)}return b}var Tl=Uj(!0),zj=Uj(!1),Nf=Co(null),Cf=null,Xa=null,U0=null;function z0(){U0=Xa=Cf=null}function B0(t){var e=Nf.current;$t(Nf),t._currentValue=e}function Ky(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function al(t,e){Cf=t,U0=Xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hr=!0),t.firstContext=null)}function qr(t){var e=t._currentValue;if(U0!==t)if(t={context:t,memoizedValue:e,next:null},Xa===null){if(Cf===null)throw Error(fe(308));Xa=t,Cf.dependencies={lanes:0,firstContext:t}}else Xa=Xa.next=t;return e}var Uo=null;function H0(t){Uo===null?Uo=[t]:Uo.push(t)}function Bj(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,H0(e)):(n.next=s.next,s.next=n),e.interleaved=n,ui(t,r)}function ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ri=!1;function W0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ro(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ht&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ui(t,n)}return s=r.interleaved,s===null?(e.next=e,H0(r)):(e.next=s.next,s.next=e),r.interleaved=e,ui(t,n)}function zh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,T0(t,n)}}function W1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _f(t,e,n,r){var s=t.updateQueue;Ri=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(m=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){p=v.call(g,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,m=typeof v=="function"?v.call(g,p,m):v,m==null)break e;p=Kt({},p,m);break e;case 2:Ri=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=p):h=h.next=g,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);oa|=a,t.lanes=a,t.memoizedState=p}}function q1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(fe(191,s));s.call(r)}}}var vd={},Ds=Co(vd),Mu=Co(vd),Du=Co(vd);function zo(t){if(t===vd)throw Error(fe(174));return t}function q0(t,e){switch(Lt(Du,e),Lt(Mu,t),Lt(Ds,vd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ky(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ky(e,t)}$t(Ds),Lt(Ds,e)}function Pl(){$t(Ds),$t(Mu),$t(Du)}function Wj(t){zo(Du.current);var e=zo(Ds.current),n=ky(e,t.type);e!==n&&(Lt(Mu,t),Lt(Ds,n))}function G0(t){Mu.current===t&&($t(Ds),$t(Mu))}var Wt=Co(0);function Sf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lg=[];function K0(){for(var t=0;t<Lg.length;t++)Lg[t]._workInProgressVersionPrimary=null;Lg.length=0}var Bh=wi.ReactCurrentDispatcher,Mg=wi.ReactCurrentBatchConfig,ia=0,Gt=null,fn=null,En=null,jf=!1,cu=!1,Ou=0,n4=0;function Fn(){throw Error(fe(321))}function Q0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gs(t[n],e[n]))return!1;return!0}function Y0(t,e,n,r,s,i){if(ia=i,Gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bh.current=t===null||t.memoizedState===null?o4:a4,t=n(r,s),cu){i=0;do{if(cu=!1,Ou=0,25<=i)throw Error(fe(301));i+=1,En=fn=null,e.updateQueue=null,Bh.current=l4,t=n(r,s)}while(cu)}if(Bh.current=kf,e=fn!==null&&fn.next!==null,ia=0,En=fn=Gt=null,jf=!1,e)throw Error(fe(300));return t}function Z0(){var t=Ou!==0;return Ou=0,t}function Ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Gt.memoizedState=En=t:En=En.next=t,En}function Gr(){if(fn===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=fn.next;var e=En===null?Gt.memoizedState:En.next;if(e!==null)En=e,fn=t;else{if(t===null)throw Error(fe(310));fn=t,t={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},En===null?Gt.memoizedState=En=t:En=En.next=t}return En}function Vu(t,e){return typeof e=="function"?e(t):e}function Dg(t){var e=Gr(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=fn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((ia&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,a=r):c=c.next=p,Gt.lanes|=h,oa|=h}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,gs(r,e.memoizedState)||(hr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Gt.lanes|=i,oa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Og(t){var e=Gr(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);gs(i,e.memoizedState)||(hr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function qj(){}function Gj(t,e){var n=Gt,r=Gr(),s=e(),i=!gs(r.memoizedState,s);if(i&&(r.memoizedState=s,hr=!0),r=r.queue,X0(Yj.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||En!==null&&En.memoizedState.tag&1){if(n.flags|=2048,Fu(9,Qj.bind(null,n,r,s,e),void 0,null),Nn===null)throw Error(fe(349));ia&30||Kj(n,e,s)}return s}function Kj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Qj(t,e,n,r){e.value=n,e.getSnapshot=r,Zj(e)&&Xj(t)}function Yj(t,e,n){return n(function(){Zj(e)&&Xj(t)})}function Zj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gs(t,n)}catch{return!0}}function Xj(t){var e=ui(t,1);e!==null&&fs(e,t,1,-1)}function G1(t){var e=Ss();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:t},e.queue=t,t=t.dispatch=i4.bind(null,Gt,t),[e.memoizedState,t]}function Fu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Jj(){return Gr().memoizedState}function Hh(t,e,n,r){var s=Ss();Gt.flags|=t,s.memoizedState=Fu(1|e,n,void 0,r===void 0?null:r)}function Ap(t,e,n,r){var s=Gr();r=r===void 0?null:r;var i=void 0;if(fn!==null){var a=fn.memoizedState;if(i=a.destroy,r!==null&&Q0(r,a.deps)){s.memoizedState=Fu(e,n,i,r);return}}Gt.flags|=t,s.memoizedState=Fu(1|e,n,i,r)}function K1(t,e){return Hh(8390656,8,t,e)}function X0(t,e){return Ap(2048,8,t,e)}function ek(t,e){return Ap(4,2,t,e)}function tk(t,e){return Ap(4,4,t,e)}function nk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rk(t,e,n){return n=n!=null?n.concat([t]):null,Ap(4,4,nk.bind(null,e,t),n)}function J0(){}function sk(t,e){var n=Gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Q0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ik(t,e){var n=Gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Q0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ok(t,e,n){return ia&21?(gs(n,e)||(n=dj(),Gt.lanes|=n,oa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hr=!0),t.memoizedState=n)}function r4(t,e){var n=jt;jt=n!==0&&4>n?n:4,t(!0);var r=Mg.transition;Mg.transition={};try{t(!1),e()}finally{jt=n,Mg.transition=r}}function ak(){return Gr().memoizedState}function s4(t,e,n){var r=io(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lk(t))ck(e,n);else if(n=Bj(t,e,n,r),n!==null){var s=tr();fs(n,t,r,s),uk(n,e,r)}}function i4(t,e,n){var r=io(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lk(t))ck(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,gs(l,a)){var c=e.interleaved;c===null?(s.next=s,H0(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Bj(t,e,s,r),n!==null&&(s=tr(),fs(n,t,r,s),uk(n,e,r))}}function lk(t){var e=t.alternate;return t===Gt||e!==null&&e===Gt}function ck(t,e){cu=jf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,T0(t,n)}}var kf={readContext:qr,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},o4={readContext:qr,useCallback:function(t,e){return Ss().memoizedState=[t,e===void 0?null:e],t},useContext:qr,useEffect:K1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hh(4194308,4,nk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hh(4,2,t,e)},useMemo:function(t,e){var n=Ss();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ss();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=s4.bind(null,Gt,t),[r.memoizedState,t]},useRef:function(t){var e=Ss();return t={current:t},e.memoizedState=t},useState:G1,useDebugValue:J0,useDeferredValue:function(t){return Ss().memoizedState=t},useTransition:function(){var t=G1(!1),e=t[0];return t=r4.bind(null,t[1]),Ss().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gt,s=Ss();if(zt){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),Nn===null)throw Error(fe(349));ia&30||Kj(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,K1(Yj.bind(null,r,i,t),[t]),r.flags|=2048,Fu(9,Qj.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ss(),e=Nn.identifierPrefix;if(zt){var n=ti,r=ei;n=(r&~(1<<32-hs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=n4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},a4={readContext:qr,useCallback:sk,useContext:qr,useEffect:X0,useImperativeHandle:rk,useInsertionEffect:ek,useLayoutEffect:tk,useMemo:ik,useReducer:Dg,useRef:Jj,useState:function(){return Dg(Vu)},useDebugValue:J0,useDeferredValue:function(t){var e=Gr();return ok(e,fn.memoizedState,t)},useTransition:function(){var t=Dg(Vu)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:qj,useSyncExternalStore:Gj,useId:ak,unstable_isNewReconciler:!1},l4={readContext:qr,useCallback:sk,useContext:qr,useEffect:X0,useImperativeHandle:rk,useInsertionEffect:ek,useLayoutEffect:tk,useMemo:ik,useReducer:Og,useRef:Jj,useState:function(){return Og(Vu)},useDebugValue:J0,useDeferredValue:function(t){var e=Gr();return fn===null?e.memoizedState=t:ok(e,fn.memoizedState,t)},useTransition:function(){var t=Og(Vu)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:qj,useSyncExternalStore:Gj,useId:ak,unstable_isNewReconciler:!1};function ns(t,e){if(t&&t.defaultProps){e=Kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rp={isMounted:function(t){return(t=t._reactInternals)?Na(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tr(),s=io(t),i=oi(r,s);i.payload=e,n!=null&&(i.callback=n),e=ro(t,i,s),e!==null&&(fs(e,t,s,r),zh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tr(),s=io(t),i=oi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ro(t,i,s),e!==null&&(fs(e,t,s,r),zh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tr(),r=io(t),s=oi(n,r);s.tag=2,e!=null&&(s.callback=e),e=ro(t,s,r),e!==null&&(fs(e,t,r,n),zh(e,t,r))}};function Q1(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Pu(n,r)||!Pu(s,i):!0}function dk(t,e,n){var r=!1,s=po,i=e.contextType;return typeof i=="object"&&i!==null?i=qr(i):(s=pr(e)?ra:Kn.current,r=e.contextTypes,i=(r=r!=null)?kl(t,s):po),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Y1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rp.enqueueReplaceState(e,e.state,null)}function Yy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},W0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=qr(i):(i=pr(e)?ra:Kn.current,s.context=kl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Rp.enqueueReplaceState(s,s.state,null),_f(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Al(t,e){try{var n="",r=e;do n+=DD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Vg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var c4=typeof WeakMap=="function"?WeakMap:Map;function hk(t,e,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tf||(Tf=!0,av=r),Zy(t,e)},n}function fk(t,e,n){n=oi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Zy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Zy(t,e),typeof r!="function"&&(so===null?so=new Set([this]):so.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Z1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new c4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=N4.bind(null,t,e,n),e.then(t,t))}function X1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function J1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oi(-1,1),e.tag=2,ro(n,e,1))),n.lanes|=1),t)}var u4=wi.ReactCurrentOwner,hr=!1;function Zn(t,e,n,r){e.child=t===null?zj(e,null,n,r):Tl(e,t.child,n,r)}function eE(t,e,n,r,s){n=n.render;var i=e.ref;return al(e,s),r=Y0(t,e,n,r,i,s),n=Z0(),t!==null&&!hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,di(t,e,s)):(zt&&n&&V0(e),e.flags|=1,Zn(t,e,r,s),e.child)}function tE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ax(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,pk(t,e,i,r,s)):(t=Kh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Pu,n(a,r)&&t.ref===e.ref)return di(t,e,s)}return e.flags|=1,t=oo(i,r),t.ref=e.ref,t.return=e,e.child=t}function pk(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Pu(i,r)&&t.ref===e.ref)if(hr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(hr=!0);else return e.lanes=t.lanes,di(t,e,s)}return Xy(t,e,n,r,s)}function mk(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(el,br),br|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Lt(el,br),br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Lt(el,br),br|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Lt(el,br),br|=r;return Zn(t,e,s,n),e.child}function gk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xy(t,e,n,r,s){var i=pr(n)?ra:Kn.current;return i=kl(e,i),al(e,s),n=Y0(t,e,n,r,i,s),r=Z0(),t!==null&&!hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,di(t,e,s)):(zt&&r&&V0(e),e.flags|=1,Zn(t,e,n,s),e.child)}function nE(t,e,n,r,s){if(pr(n)){var i=!0;wf(e)}else i=!1;if(al(e,s),e.stateNode===null)Wh(t,e),dk(e,n,r),Yy(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=qr(u):(u=pr(n)?ra:Kn.current,u=kl(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Y1(e,a,r,u),Ri=!1;var m=e.memoizedState;a.state=m,_f(e,r,a,s),c=e.memoizedState,l!==r||m!==c||fr.current||Ri?(typeof h=="function"&&(Qy(e,n,h,r),c=e.memoizedState),(l=Ri||Q1(e,n,l,r,m,c,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Hj(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ns(e.type,l),a.props=u,p=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=qr(c):(c=pr(n)?ra:Kn.current,c=kl(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||m!==c)&&Y1(e,a,r,c),Ri=!1,m=e.memoizedState,a.state=m,_f(e,r,a,s);var v=e.memoizedState;l!==p||m!==v||fr.current||Ri?(typeof g=="function"&&(Qy(e,n,g,r),v=e.memoizedState),(u=Ri||Q1(e,n,u,r,m,v,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Jy(t,e,n,r,i,s)}function Jy(t,e,n,r,s,i){gk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&U1(e,n,!1),di(t,e,i);r=e.stateNode,u4.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Tl(e,t.child,null,i),e.child=Tl(e,null,l,i)):Zn(t,e,l,i),e.memoizedState=r.state,s&&U1(e,n,!0),e.child}function yk(t){var e=t.stateNode;e.pendingContext?$1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$1(t,e.context,!1),q0(t,e.containerInfo)}function rE(t,e,n,r,s){return Il(),$0(s),e.flags|=256,Zn(t,e,n,r),e.child}var ev={dehydrated:null,treeContext:null,retryLane:0};function tv(t){return{baseLanes:t,cachePool:null,transitions:null}}function vk(t,e,n){var r=e.pendingProps,s=Wt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Lt(Wt,s&1),t===null)return Gy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Dp(a,r,0,null),t=Xo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=tv(n),e.memoizedState=ev,t):ex(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return d4(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=oo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=oo(l,i):(i=Xo(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?tv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=ev,r}return i=t.child,t=i.sibling,r=oo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ex(t,e){return e=Dp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yh(t,e,n,r){return r!==null&&$0(r),Tl(e,t.child,null,n),t=ex(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function d4(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Vg(Error(fe(422))),yh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Dp({mode:"visible",children:r.children},s,0,null),i=Xo(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Tl(e,t.child,null,a),e.child.memoizedState=tv(a),e.memoizedState=ev,i);if(!(e.mode&1))return yh(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(fe(419)),r=Vg(i,r,void 0),yh(t,e,a,r)}if(l=(a&t.childLanes)!==0,hr||l){if(r=Nn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ui(t,s),fs(r,t,s,-1))}return ox(),r=Vg(Error(fe(421))),yh(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=C4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,_r=no(s.nextSibling),jr=e,zt=!0,as=null,t!==null&&(Mr[Dr++]=ei,Mr[Dr++]=ti,Mr[Dr++]=sa,ei=t.id,ti=t.overflow,sa=e),e=ex(e,r.children),e.flags|=4096,e)}function sE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ky(t.return,e,n)}function Fg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xk(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Zn(t,e,r.children,n),r=Wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sE(t,n,e);else if(t.tag===19)sE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Lt(Wt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Sf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Fg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Sf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Fg(e,!0,n,null,i);break;case"together":Fg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function di(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=oo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function h4(t,e,n){switch(e.tag){case 3:yk(e),Il();break;case 5:Wj(e);break;case 1:pr(e.type)&&wf(e);break;case 4:q0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Lt(Nf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Lt(Wt,Wt.current&1),e.flags|=128,null):n&e.child.childLanes?vk(t,e,n):(Lt(Wt,Wt.current&1),t=di(t,e,n),t!==null?t.sibling:null);Lt(Wt,Wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Lt(Wt,Wt.current),r)break;return null;case 22:case 23:return e.lanes=0,mk(t,e,n)}return di(t,e,n)}var wk,nv,bk,Ek;wk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nv=function(){};bk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,zo(Ds.current);var i=null;switch(n){case"input":s=Cy(t,s),r=Cy(t,r),i=[];break;case"select":s=Kt({},s,{value:void 0}),r=Kt({},r,{value:void 0}),i=[];break;case"textarea":s=jy(t,s),r=jy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vf)}Iy(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Vt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Ek=function(t,e,n,r){n!==r&&(e.flags|=4)};function Rc(t,e){if(!zt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function f4(t,e,n){var r=e.pendingProps;switch(F0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(e),null;case 1:return pr(e.type)&&xf(),$n(e),null;case 3:return r=e.stateNode,Pl(),$t(fr),$t(Kn),K0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,as!==null&&(uv(as),as=null))),nv(t,e),$n(e),null;case 5:G0(e);var s=zo(Du.current);if(n=e.type,t!==null&&e.stateNode!=null)bk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(fe(166));return $n(e),null}if(t=zo(Ds.current),mh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[As]=e,r[Lu]=i,t=(e.mode&1)!==0,n){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(s=0;s<Hc.length;s++)Vt(Hc[s],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":f1(r,i),Vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Vt("invalid",r);break;case"textarea":m1(r,i),Vt("invalid",r)}Iy(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ph(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ph(r.textContent,l,t),s=["children",""+l]):Cu.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Vt("scroll",r)}switch(n){case"input":oh(r),p1(r,i,!0);break;case"textarea":oh(r),g1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[As]=e,t[Lu]=r,wk(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ty(n,r),n){case"dialog":Vt("cancel",t),Vt("close",t),s=r;break;case"iframe":case"object":case"embed":Vt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Hc.length;s++)Vt(Hc[s],t);s=r;break;case"source":Vt("error",t),s=r;break;case"img":case"image":case"link":Vt("error",t),Vt("load",t),s=r;break;case"details":Vt("toggle",t),s=r;break;case"input":f1(t,r),s=Cy(t,r),Vt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Kt({},r,{value:void 0}),Vt("invalid",t);break;case"textarea":m1(t,r),s=jy(t,r),Vt("invalid",t);break;default:s=r}Iy(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?JS(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ZS(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_u(t,c):typeof c=="number"&&_u(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Vt("scroll",t):c!=null&&C0(t,i,c,a))}switch(n){case"input":oh(t),p1(t,r,!1);break;case"textarea":oh(t),g1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?rl(t,!!r.multiple,i,!1):r.defaultValue!=null&&rl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=vf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $n(e),null;case 6:if(t&&e.stateNode!=null)Ek(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(fe(166));if(n=zo(Du.current),zo(Ds.current),mh(e)){if(r=e.stateNode,n=e.memoizedProps,r[As]=e,(i=r.nodeValue!==n)&&(t=jr,t!==null))switch(t.tag){case 3:ph(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ph(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[As]=e,e.stateNode=r}return $n(e),null;case 13:if($t(Wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zt&&_r!==null&&e.mode&1&&!(e.flags&128))$j(),Il(),e.flags|=98560,i=!1;else if(i=mh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(fe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(fe(317));i[As]=e}else Il(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$n(e),i=!1}else as!==null&&(uv(as),as=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Wt.current&1?pn===0&&(pn=3):ox())),e.updateQueue!==null&&(e.flags|=4),$n(e),null);case 4:return Pl(),nv(t,e),t===null&&Au(e.stateNode.containerInfo),$n(e),null;case 10:return B0(e.type._context),$n(e),null;case 17:return pr(e.type)&&xf(),$n(e),null;case 19:if($t(Wt),i=e.memoizedState,i===null)return $n(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Rc(i,!1);else{if(pn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Sf(t),a!==null){for(e.flags|=128,Rc(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Lt(Wt,Wt.current&1|2),e.child}t=t.sibling}i.tail!==null&&rn()>Rl&&(e.flags|=128,r=!0,Rc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Sf(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!zt)return $n(e),null}else 2*rn()-i.renderingStartTime>Rl&&n!==1073741824&&(e.flags|=128,r=!0,Rc(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rn(),e.sibling=null,n=Wt.current,Lt(Wt,r?n&1|2:n&1),e):($n(e),null);case 22:case 23:return ix(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?br&1073741824&&($n(e),e.subtreeFlags&6&&(e.flags|=8192)):$n(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function p4(t,e){switch(F0(e),e.tag){case 1:return pr(e.type)&&xf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pl(),$t(fr),$t(Kn),K0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return G0(e),null;case 13:if($t(Wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $t(Wt),null;case 4:return Pl(),null;case 10:return B0(e.type._context),null;case 22:case 23:return ix(),null;case 24:return null;default:return null}}var vh=!1,Hn=!1,m4=typeof WeakSet=="function"?WeakSet:Set,je=null;function Ja(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tn(t,e,r)}else n.current=null}function rv(t,e,n){try{n()}catch(r){tn(t,e,r)}}var iE=!1;function g4(t,e){if($y=mf,t=jj(),O0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,p=t,m=null;t:for(;;){for(var g;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==i||r!==0&&p.nodeType!==3||(c=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===t)break t;if(m===n&&++u===s&&(l=a),m===i&&++h===r&&(c=a),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uy={focusedElem:t,selectionRange:n},mf=!1,je=e;je!==null;)if(e=je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,je=t;else for(;je!==null;){e=je;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:ns(e.type,y),b);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(k){tn(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}return v=iE,iE=!1,v}function uu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&rv(e,n,i)}s=s.next}while(s!==r)}}function Lp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Nk(t){var e=t.alternate;e!==null&&(t.alternate=null,Nk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[As],delete e[Lu],delete e[Hy],delete e[XO],delete e[JO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ck(t){return t.tag===5||t.tag===3||t.tag===4}function oE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ck(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vf));else if(r!==4&&(t=t.child,t!==null))for(iv(t,e,n),t=t.sibling;t!==null;)iv(t,e,n),t=t.sibling}function ov(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ov(t,e,n),t=t.sibling;t!==null;)ov(t,e,n),t=t.sibling}var _n=null,os=!1;function _i(t,e,n){for(n=n.child;n!==null;)_k(t,e,n),n=n.sibling}function _k(t,e,n){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(Sp,n)}catch{}switch(n.tag){case 5:Hn||Ja(n,e);case 6:var r=_n,s=os;_n=null,_i(t,e,n),_n=r,os=s,_n!==null&&(os?(t=_n,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_n.removeChild(n.stateNode));break;case 18:_n!==null&&(os?(t=_n,n=n.stateNode,t.nodeType===8?Ag(t.parentNode,n):t.nodeType===1&&Ag(t,n),Iu(t)):Ag(_n,n.stateNode));break;case 4:r=_n,s=os,_n=n.stateNode.containerInfo,os=!0,_i(t,e,n),_n=r,os=s;break;case 0:case 11:case 14:case 15:if(!Hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&rv(n,e,a),s=s.next}while(s!==r)}_i(t,e,n);break;case 1:if(!Hn&&(Ja(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){tn(n,e,l)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(Hn=(r=Hn)||n.memoizedState!==null,_i(t,e,n),Hn=r):_i(t,e,n);break;default:_i(t,e,n)}}function aE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new m4),e.forEach(function(r){var s=_4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Jr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:_n=l.stateNode,os=!1;break e;case 3:_n=l.stateNode.containerInfo,os=!0;break e;case 4:_n=l.stateNode.containerInfo,os=!0;break e}l=l.return}if(_n===null)throw Error(fe(160));_k(i,a,s),_n=null,os=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){tn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Sk(e,t),e=e.sibling}function Sk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jr(e,t),_s(t),r&4){try{uu(3,t,t.return),Lp(3,t)}catch(y){tn(t,t.return,y)}try{uu(5,t,t.return)}catch(y){tn(t,t.return,y)}}break;case 1:Jr(e,t),_s(t),r&512&&n!==null&&Ja(n,n.return);break;case 5:if(Jr(e,t),_s(t),r&512&&n!==null&&Ja(n,n.return),t.flags&32){var s=t.stateNode;try{_u(s,"")}catch(y){tn(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&KS(s,i),Ty(l,a);var u=Ty(l,i);for(a=0;a<c.length;a+=2){var h=c[a],p=c[a+1];h==="style"?JS(s,p):h==="dangerouslySetInnerHTML"?ZS(s,p):h==="children"?_u(s,p):C0(s,h,p,u)}switch(l){case"input":_y(s,i);break;case"textarea":QS(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?rl(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?rl(s,!!i.multiple,i.defaultValue,!0):rl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Lu]=i}catch(y){tn(t,t.return,y)}}break;case 6:if(Jr(e,t),_s(t),r&4){if(t.stateNode===null)throw Error(fe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){tn(t,t.return,y)}}break;case 3:if(Jr(e,t),_s(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iu(e.containerInfo)}catch(y){tn(t,t.return,y)}break;case 4:Jr(e,t),_s(t);break;case 13:Jr(e,t),_s(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(rx=rn())),r&4&&aE(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Hn=(u=Hn)||h,Jr(e,t),Hn=u):Jr(e,t),_s(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(je=t,h=t.child;h!==null;){for(p=je=h;je!==null;){switch(m=je,g=m.child,m.tag){case 0:case 11:case 14:case 15:uu(4,m,m.return);break;case 1:Ja(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){tn(r,n,y)}}break;case 5:Ja(m,m.return);break;case 22:if(m.memoizedState!==null){cE(p);continue}}g!==null?(g.return=m,je=g):cE(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=XS("display",a))}catch(y){tn(t,t.return,y)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){tn(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Jr(e,t),_s(t),r&4&&aE(t);break;case 21:break;default:Jr(e,t),_s(t)}}function _s(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ck(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_u(s,""),r.flags&=-33);var i=oE(t);ov(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=oE(t);iv(t,l,a);break;default:throw Error(fe(161))}}catch(c){tn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function y4(t,e,n){je=t,jk(t)}function jk(t,e,n){for(var r=(t.mode&1)!==0;je!==null;){var s=je,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||vh;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Hn;l=vh;var u=Hn;if(vh=a,(Hn=c)&&!u)for(je=s;je!==null;)a=je,c=a.child,a.tag===22&&a.memoizedState!==null?uE(s):c!==null?(c.return=a,je=c):uE(s);for(;i!==null;)je=i,jk(i),i=i.sibling;je=s,vh=l,Hn=u}lE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,je=i):lE(t)}}function lE(t){for(;je!==null;){var e=je;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hn||Lp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Hn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ns(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&q1(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}q1(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Iu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Hn||e.flags&512&&sv(e)}catch(m){tn(e,e.return,m)}}if(e===t){je=null;break}if(n=e.sibling,n!==null){n.return=e.return,je=n;break}je=e.return}}function cE(t){for(;je!==null;){var e=je;if(e===t){je=null;break}var n=e.sibling;if(n!==null){n.return=e.return,je=n;break}je=e.return}}function uE(t){for(;je!==null;){var e=je;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lp(4,e)}catch(c){tn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){tn(e,s,c)}}var i=e.return;try{sv(e)}catch(c){tn(e,i,c)}break;case 5:var a=e.return;try{sv(e)}catch(c){tn(e,a,c)}}}catch(c){tn(e,e.return,c)}if(e===t){je=null;break}var l=e.sibling;if(l!==null){l.return=e.return,je=l;break}je=e.return}}var v4=Math.ceil,If=wi.ReactCurrentDispatcher,tx=wi.ReactCurrentOwner,zr=wi.ReactCurrentBatchConfig,ht=0,Nn=null,un=null,kn=0,br=0,el=Co(0),pn=0,$u=null,oa=0,Mp=0,nx=0,du=null,cr=null,rx=0,Rl=1/0,Ys=null,Tf=!1,av=null,so=null,xh=!1,Gi=null,Pf=0,hu=0,lv=null,qh=-1,Gh=0;function tr(){return ht&6?rn():qh!==-1?qh:qh=rn()}function io(t){return t.mode&1?ht&2&&kn!==0?kn&-kn:t4.transition!==null?(Gh===0&&(Gh=dj()),Gh):(t=jt,t!==0||(t=window.event,t=t===void 0?16:vj(t.type)),t):1}function fs(t,e,n,r){if(50<hu)throw hu=0,lv=null,Error(fe(185));md(t,n,r),(!(ht&2)||t!==Nn)&&(t===Nn&&(!(ht&2)&&(Mp|=n),pn===4&&Di(t,kn)),mr(t,r),n===1&&ht===0&&!(e.mode&1)&&(Rl=rn()+500,Pp&&_o()))}function mr(t,e){var n=t.callbackNode;tO(t,e);var r=pf(t,t===Nn?kn:0);if(r===0)n!==null&&x1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&x1(n),e===1)t.tag===0?e4(dE.bind(null,t)):Oj(dE.bind(null,t)),YO(function(){!(ht&6)&&_o()}),n=null;else{switch(hj(r)){case 1:n=I0;break;case 4:n=cj;break;case 16:n=ff;break;case 536870912:n=uj;break;default:n=ff}n=Mk(n,kk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kk(t,e){if(qh=-1,Gh=0,ht&6)throw Error(fe(327));var n=t.callbackNode;if(ll()&&t.callbackNode!==n)return null;var r=pf(t,t===Nn?kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Af(t,r);else{e=r;var s=ht;ht|=2;var i=Tk();(Nn!==t||kn!==e)&&(Ys=null,Rl=rn()+500,Zo(t,e));do try{b4();break}catch(l){Ik(t,l)}while(!0);z0(),If.current=i,ht=s,un!==null?e=0:(Nn=null,kn=0,e=pn)}if(e!==0){if(e===2&&(s=My(t),s!==0&&(r=s,e=cv(t,s))),e===1)throw n=$u,Zo(t,0),Di(t,r),mr(t,rn()),n;if(e===6)Di(t,r);else{if(s=t.current.alternate,!(r&30)&&!x4(s)&&(e=Af(t,r),e===2&&(i=My(t),i!==0&&(r=i,e=cv(t,i))),e===1))throw n=$u,Zo(t,0),Di(t,r),mr(t,rn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(fe(345));case 2:Oo(t,cr,Ys);break;case 3:if(Di(t,r),(r&130023424)===r&&(e=rx+500-rn(),10<e)){if(pf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=By(Oo.bind(null,t,cr,Ys),e);break}Oo(t,cr,Ys);break;case 4:if(Di(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-hs(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*v4(r/1960))-r,10<r){t.timeoutHandle=By(Oo.bind(null,t,cr,Ys),r);break}Oo(t,cr,Ys);break;case 5:Oo(t,cr,Ys);break;default:throw Error(fe(329))}}}return mr(t,rn()),t.callbackNode===n?kk.bind(null,t):null}function cv(t,e){var n=du;return t.current.memoizedState.isDehydrated&&(Zo(t,e).flags|=256),t=Af(t,e),t!==2&&(e=cr,cr=n,e!==null&&uv(e)),t}function uv(t){cr===null?cr=t:cr.push.apply(cr,t)}function x4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Di(t,e){for(e&=~nx,e&=~Mp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hs(e),r=1<<n;t[n]=-1,e&=~r}}function dE(t){if(ht&6)throw Error(fe(327));ll();var e=pf(t,0);if(!(e&1))return mr(t,rn()),null;var n=Af(t,e);if(t.tag!==0&&n===2){var r=My(t);r!==0&&(e=r,n=cv(t,r))}if(n===1)throw n=$u,Zo(t,0),Di(t,e),mr(t,rn()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oo(t,cr,Ys),mr(t,rn()),null}function sx(t,e){var n=ht;ht|=1;try{return t(e)}finally{ht=n,ht===0&&(Rl=rn()+500,Pp&&_o())}}function aa(t){Gi!==null&&Gi.tag===0&&!(ht&6)&&ll();var e=ht;ht|=1;var n=zr.transition,r=jt;try{if(zr.transition=null,jt=1,t)return t()}finally{jt=r,zr.transition=n,ht=e,!(ht&6)&&_o()}}function ix(){br=el.current,$t(el)}function Zo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QO(n)),un!==null)for(n=un.return;n!==null;){var r=n;switch(F0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xf();break;case 3:Pl(),$t(fr),$t(Kn),K0();break;case 5:G0(r);break;case 4:Pl();break;case 13:$t(Wt);break;case 19:$t(Wt);break;case 10:B0(r.type._context);break;case 22:case 23:ix()}n=n.return}if(Nn=t,un=t=oo(t.current,null),kn=br=e,pn=0,$u=null,nx=Mp=oa=0,cr=du=null,Uo!==null){for(e=0;e<Uo.length;e++)if(n=Uo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Uo=null}return t}function Ik(t,e){do{var n=un;try{if(z0(),Bh.current=kf,jf){for(var r=Gt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}jf=!1}if(ia=0,En=fn=Gt=null,cu=!1,Ou=0,tx.current=null,n===null||n.return===null){pn=1,$u=e,un=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=kn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=X1(a);if(g!==null){g.flags&=-257,J1(g,a,l,i,e),g.mode&1&&Z1(i,u,e),e=g,c=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break e}else{if(!(e&1)){Z1(i,u,e),ox();break e}c=Error(fe(426))}}else if(zt&&l.mode&1){var b=X1(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),J1(b,a,l,i,e),$0(Al(c,l));break e}}i=c=Al(c,l),pn!==4&&(pn=2),du===null?du=[i]:du.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=hk(i,c,e);W1(i,w);break e;case 1:l=c;var x=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(so===null||!so.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=fk(i,l,e);W1(i,k);break e}}i=i.return}while(i!==null)}Ak(n)}catch(A){e=A,un===n&&n!==null&&(un=n=n.return);continue}break}while(!0)}function Tk(){var t=If.current;return If.current=kf,t===null?kf:t}function ox(){(pn===0||pn===3||pn===2)&&(pn=4),Nn===null||!(oa&268435455)&&!(Mp&268435455)||Di(Nn,kn)}function Af(t,e){var n=ht;ht|=2;var r=Tk();(Nn!==t||kn!==e)&&(Ys=null,Zo(t,e));do try{w4();break}catch(s){Ik(t,s)}while(!0);if(z0(),ht=n,If.current=r,un!==null)throw Error(fe(261));return Nn=null,kn=0,pn}function w4(){for(;un!==null;)Pk(un)}function b4(){for(;un!==null&&!qD();)Pk(un)}function Pk(t){var e=Lk(t.alternate,t,br);t.memoizedProps=t.pendingProps,e===null?Ak(t):un=e,tx.current=null}function Ak(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=p4(n,e),n!==null){n.flags&=32767,un=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pn=6,un=null;return}}else if(n=f4(n,e,br),n!==null){un=n;return}if(e=e.sibling,e!==null){un=e;return}un=e=t}while(e!==null);pn===0&&(pn=5)}function Oo(t,e,n){var r=jt,s=zr.transition;try{zr.transition=null,jt=1,E4(t,e,n,r)}finally{zr.transition=s,jt=r}return null}function E4(t,e,n,r){do ll();while(Gi!==null);if(ht&6)throw Error(fe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(nO(t,i),t===Nn&&(un=Nn=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xh||(xh=!0,Mk(ff,function(){return ll(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zr.transition,zr.transition=null;var a=jt;jt=1;var l=ht;ht|=4,tx.current=null,g4(t,n),Sk(n,t),zO(Uy),mf=!!$y,Uy=$y=null,t.current=n,y4(n),GD(),ht=l,jt=a,zr.transition=i}else t.current=n;if(xh&&(xh=!1,Gi=t,Pf=s),i=t.pendingLanes,i===0&&(so=null),YD(n.stateNode),mr(t,rn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Tf)throw Tf=!1,t=av,av=null,t;return Pf&1&&t.tag!==0&&ll(),i=t.pendingLanes,i&1?t===lv?hu++:(hu=0,lv=t):hu=0,_o(),null}function ll(){if(Gi!==null){var t=hj(Pf),e=zr.transition,n=jt;try{if(zr.transition=null,jt=16>t?16:t,Gi===null)var r=!1;else{if(t=Gi,Gi=null,Pf=0,ht&6)throw Error(fe(331));var s=ht;for(ht|=4,je=t.current;je!==null;){var i=je,a=i.child;if(je.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(je=u;je!==null;){var h=je;switch(h.tag){case 0:case 11:case 15:uu(8,h,i)}var p=h.child;if(p!==null)p.return=h,je=p;else for(;je!==null;){h=je;var m=h.sibling,g=h.return;if(Nk(h),h===u){je=null;break}if(m!==null){m.return=g,je=m;break}je=g}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}je=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,je=a;else e:for(;je!==null;){if(i=je,i.flags&2048)switch(i.tag){case 0:case 11:case 15:uu(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,je=w;break e}je=i.return}}var x=t.current;for(je=x;je!==null;){a=je;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,je=N;else e:for(a=x;je!==null;){if(l=je,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Lp(9,l)}}catch(A){tn(l,l.return,A)}if(l===a){je=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,je=k;break e}je=l.return}}if(ht=s,_o(),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(Sp,t)}catch{}r=!0}return r}finally{jt=n,zr.transition=e}}return!1}function hE(t,e,n){e=Al(n,e),e=hk(t,e,1),t=ro(t,e,1),e=tr(),t!==null&&(md(t,1,e),mr(t,e))}function tn(t,e,n){if(t.tag===3)hE(t,t,n);else for(;e!==null;){if(e.tag===3){hE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(so===null||!so.has(r))){t=Al(n,t),t=fk(e,t,1),e=ro(e,t,1),t=tr(),e!==null&&(md(e,1,t),mr(e,t));break}}e=e.return}}function N4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tr(),t.pingedLanes|=t.suspendedLanes&n,Nn===t&&(kn&n)===n&&(pn===4||pn===3&&(kn&130023424)===kn&&500>rn()-rx?Zo(t,0):nx|=n),mr(t,e)}function Rk(t,e){e===0&&(t.mode&1?(e=ch,ch<<=1,!(ch&130023424)&&(ch=4194304)):e=1);var n=tr();t=ui(t,e),t!==null&&(md(t,e,n),mr(t,n))}function C4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Rk(t,n)}function _4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(e),Rk(t,n)}var Lk;Lk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fr.current)hr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hr=!1,h4(t,e,n);hr=!!(t.flags&131072)}else hr=!1,zt&&e.flags&1048576&&Vj(e,Ef,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wh(t,e),t=e.pendingProps;var s=kl(e,Kn.current);al(e,n),s=Y0(null,e,r,t,s,n);var i=Z0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(r)?(i=!0,wf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,W0(e),s.updater=Rp,e.stateNode=s,s._reactInternals=e,Yy(e,r,t,n),e=Jy(null,e,r,!0,i,n)):(e.tag=0,zt&&i&&V0(e),Zn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=j4(r),t=ns(r,t),s){case 0:e=Xy(null,e,r,t,n);break e;case 1:e=nE(null,e,r,t,n);break e;case 11:e=eE(null,e,r,t,n);break e;case 14:e=tE(null,e,r,ns(r.type,t),n);break e}throw Error(fe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ns(r,s),Xy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ns(r,s),nE(t,e,r,s,n);case 3:e:{if(yk(e),t===null)throw Error(fe(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Hj(t,e),_f(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Al(Error(fe(423)),e),e=rE(t,e,r,n,s);break e}else if(r!==s){s=Al(Error(fe(424)),e),e=rE(t,e,r,n,s);break e}else for(_r=no(e.stateNode.containerInfo.firstChild),jr=e,zt=!0,as=null,n=zj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Il(),r===s){e=di(t,e,n);break e}Zn(t,e,r,n)}e=e.child}return e;case 5:return Wj(e),t===null&&Gy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,zy(r,s)?a=null:i!==null&&zy(r,i)&&(e.flags|=32),gk(t,e),Zn(t,e,a,n),e.child;case 6:return t===null&&Gy(e),null;case 13:return vk(t,e,n);case 4:return q0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Tl(e,null,r,n):Zn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ns(r,s),eE(t,e,r,s,n);case 7:return Zn(t,e,e.pendingProps,n),e.child;case 8:return Zn(t,e,e.pendingProps.children,n),e.child;case 12:return Zn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Lt(Nf,r._currentValue),r._currentValue=a,i!==null)if(gs(i.value,a)){if(i.children===s.children&&!fr.current){e=di(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=oi(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ky(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(fe(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Ky(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Zn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,al(e,n),s=qr(s),r=r(s),e.flags|=1,Zn(t,e,r,n),e.child;case 14:return r=e.type,s=ns(r,e.pendingProps),s=ns(r.type,s),tE(t,e,r,s,n);case 15:return pk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ns(r,s),Wh(t,e),e.tag=1,pr(r)?(t=!0,wf(e)):t=!1,al(e,n),dk(e,r,s),Yy(e,r,s,n),Jy(null,e,r,!0,t,n);case 19:return xk(t,e,n);case 22:return mk(t,e,n)}throw Error(fe(156,e.tag))};function Mk(t,e){return lj(t,e)}function S4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(t,e,n,r){return new S4(t,e,n,r)}function ax(t){return t=t.prototype,!(!t||!t.isReactComponent)}function j4(t){if(typeof t=="function")return ax(t)?1:0;if(t!=null){if(t=t.$$typeof,t===S0)return 11;if(t===j0)return 14}return 2}function oo(t,e){var n=t.alternate;return n===null?(n=Or(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kh(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")ax(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ha:return Xo(n.children,s,i,e);case _0:a=8,s|=8;break;case wy:return t=Or(12,n,e,s|2),t.elementType=wy,t.lanes=i,t;case by:return t=Or(13,n,e,s),t.elementType=by,t.lanes=i,t;case Ey:return t=Or(19,n,e,s),t.elementType=Ey,t.lanes=i,t;case WS:return Dp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BS:a=10;break e;case HS:a=9;break e;case S0:a=11;break e;case j0:a=14;break e;case Ai:a=16,r=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Or(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Xo(t,e,n,r){return t=Or(7,t,r,e),t.lanes=n,t}function Dp(t,e,n,r){return t=Or(22,t,r,e),t.elementType=WS,t.lanes=n,t.stateNode={isHidden:!1},t}function $g(t,e,n){return t=Or(6,t,null,e),t.lanes=n,t}function Ug(t,e,n){return e=Or(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function k4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bg(0),this.expirationTimes=bg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lx(t,e,n,r,s,i,a,l,c){return t=new k4(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Or(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},W0(i),t}function I4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ba,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Dk(t){if(!t)return po;t=t._reactInternals;e:{if(Na(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(pr(n))return Dj(t,n,e)}return e}function Ok(t,e,n,r,s,i,a,l,c){return t=lx(n,r,!0,t,s,i,a,l,c),t.context=Dk(null),n=t.current,r=tr(),s=io(n),i=oi(r,s),i.callback=e??null,ro(n,i,s),t.current.lanes=s,md(t,s,r),mr(t,r),t}function Op(t,e,n,r){var s=e.current,i=tr(),a=io(s);return n=Dk(n),e.context===null?e.context=n:e.pendingContext=n,e=oi(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ro(s,e,a),t!==null&&(fs(t,s,a,i),zh(t,s,a)),a}function Rf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cx(t,e){fE(t,e),(t=t.alternate)&&fE(t,e)}function T4(){return null}var Vk=typeof reportError=="function"?reportError:function(t){console.error(t)};function ux(t){this._internalRoot=t}Vp.prototype.render=ux.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));Op(t,e,null,null)};Vp.prototype.unmount=ux.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;aa(function(){Op(null,t,null,null)}),e[ci]=null}};function Vp(t){this._internalRoot=t}Vp.prototype.unstable_scheduleHydration=function(t){if(t){var e=mj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mi.length&&e!==0&&e<Mi[n].priority;n++);Mi.splice(n,0,t),n===0&&yj(t)}};function dx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pE(){}function P4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Rf(a);i.call(u)}}var a=Ok(e,r,t,0,null,!1,!1,"",pE);return t._reactRootContainer=a,t[ci]=a.current,Au(t.nodeType===8?t.parentNode:t),aa(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Rf(c);l.call(u)}}var c=lx(t,0,!1,null,null,!1,!1,"",pE);return t._reactRootContainer=c,t[ci]=c.current,Au(t.nodeType===8?t.parentNode:t),aa(function(){Op(e,c,n,r)}),c}function $p(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Rf(a);l.call(c)}}Op(e,a,t,s)}else a=P4(n,e,t,s,r);return Rf(a)}fj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bc(e.pendingLanes);n!==0&&(T0(e,n|1),mr(e,rn()),!(ht&6)&&(Rl=rn()+500,_o()))}break;case 13:aa(function(){var r=ui(t,1);if(r!==null){var s=tr();fs(r,t,1,s)}}),cx(t,1)}};P0=function(t){if(t.tag===13){var e=ui(t,134217728);if(e!==null){var n=tr();fs(e,t,134217728,n)}cx(t,134217728)}};pj=function(t){if(t.tag===13){var e=io(t),n=ui(t,e);if(n!==null){var r=tr();fs(n,t,e,r)}cx(t,e)}};mj=function(){return jt};gj=function(t,e){var n=jt;try{return jt=t,e()}finally{jt=n}};Ay=function(t,e,n){switch(e){case"input":if(_y(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Tp(r);if(!s)throw Error(fe(90));GS(r),_y(r,s)}}}break;case"textarea":QS(t,n);break;case"select":e=n.value,e!=null&&rl(t,!!n.multiple,e,!1)}};nj=sx;rj=aa;var A4={usingClientEntryPoint:!1,Events:[yd,Ka,Tp,ej,tj,sx]},Lc={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R4={bundleType:Lc.bundleType,version:Lc.version,rendererPackageName:Lc.rendererPackageName,rendererConfig:Lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oj(t),t===null?null:t.stateNode},findFiberByHostInstance:Lc.findFiberByHostInstance||T4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Sp=wh.inject(R4),Ms=wh}catch{}}Tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A4;Tr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dx(e))throw Error(fe(200));return I4(t,e,null,n)};Tr.createRoot=function(t,e){if(!dx(t))throw Error(fe(299));var n=!1,r="",s=Vk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=lx(t,1,!1,null,null,n,!1,r,s),t[ci]=e.current,Au(t.nodeType===8?t.parentNode:t),new ux(e)};Tr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=oj(e),t=t===null?null:t.stateNode,t};Tr.flushSync=function(t){return aa(t)};Tr.hydrate=function(t,e,n){if(!Fp(e))throw Error(fe(200));return $p(null,t,e,!0,n)};Tr.hydrateRoot=function(t,e,n){if(!dx(t))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Vk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Ok(e,null,t,1,n??null,s,!1,i,a),t[ci]=e.current,Au(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Vp(e)};Tr.render=function(t,e,n){if(!Fp(e))throw Error(fe(200));return $p(null,t,e,!1,n)};Tr.unmountComponentAtNode=function(t){if(!Fp(t))throw Error(fe(40));return t._reactRootContainer?(aa(function(){$p(null,null,t,!1,function(){t._reactRootContainer=null,t[ci]=null})}),!0):!1};Tr.unstable_batchedUpdates=sx;Tr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fp(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return $p(t,e,n,!1,r)};Tr.version="18.3.1-next-f1338f8080-20240426";function Fk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fk)}catch(t){console.error(t)}}Fk(),FS.exports=Tr;var Yr=FS.exports;const $k=jS(Yr);var Uk,mE=Yr;Uk=mE.createRoot,mE.hydrateRoot;var gE=["light","dark"],L4="(prefers-color-scheme: dark)",M4=d.createContext(void 0),D4={setTheme:t=>{},themes:[]},O4=()=>{var t;return(t=d.useContext(M4))!=null?t:D4};d.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?gE.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,y=!1,b=!0)=>{let w=a?a[v]:v,x=y?v+"|| ''":`'${w}'`,N="";return s&&b&&!y&&gE.includes(v)&&(N+=`d.style.colorScheme = '${v}';`),n==="class"?y||w?N+=`c.add(${x})`:N+="null":w&&(N+=`d[s](n,${x})`),N},g=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${L4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${p}}catch(t){}}();`;return d.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var V4=t=>{switch(t){case"success":return U4;case"info":return B4;case"warning":return z4;case"error":return H4;default:return null}},F4=Array(12).fill(0),$4=({visible:t,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},de.createElement("div",{className:"sonner-spinner"},F4.map((n,r)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),U4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),z4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),B4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),H4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),W4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),q4=()=>{let[t,e]=de.useState(document.hidden);return de.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},dv=1,G4=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:dv++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,a,l=s.then(async u=>{if(a=["resolve",u],de.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(Q4(u)&&!u.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:h,description:p})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:h,description:p})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:h,description:p})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,h)=>l.then(()=>a[0]==="reject"?h(a[1]):u(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||dv++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ar=new G4,K4=(t,e)=>{let n=(e==null?void 0:e.id)||dv++;return ar.addToast({title:t,...e,id:n}),n},Q4=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Y4=K4,Z4=()=>ar.toasts,X4=()=>ar.getActiveToasts(),U=Object.assign(Y4,{success:ar.success,info:ar.info,warning:ar.warning,error:ar.error,custom:ar.custom,message:ar.message,promise:ar.promise,dismiss:ar.dismiss,loading:ar.loading},{getHistory:Z4,getToasts:X4});function J4(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}J4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function bh(t){return t.label!==void 0}var e5=3,t5="32px",n5="16px",yE=4e3,r5=356,s5=14,i5=20,o5=200;function es(...t){return t.filter(Boolean).join(" ")}function a5(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var l5=t=>{var e,n,r,s,i,a,l,c,u,h,p;let{invert:m,toast:g,unstyled:v,interacting:y,setHeights:b,visibleToasts:w,heights:x,index:N,toasts:k,expanded:A,removeToast:L,defaultRichColors:C,closeButton:_,style:S,cancelButtonStyle:T,actionButtonStyle:I,className:P="",descriptionClassName:R="",duration:K,position:H,gap:$,loadingIcon:Y,expandByDefault:O,classNames:D,icons:B,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:F}=t,[Q,ie]=de.useState(null),[W,ge]=de.useState(null),[te,ce]=de.useState(!1),[ve,Z]=de.useState(!1),[X,ne]=de.useState(!1),[xe,Le]=de.useState(!1),[ee,Pe]=de.useState(!1),[qe,Nt]=de.useState(0),[Xe,st]=de.useState(0),ze=de.useRef(g.duration||K||yE),q=de.useRef(null),pe=de.useRef(null),he=N===0,lt=N+1<=w,oe=g.type,we=g.dismissible!==!1,ke=g.className||"",wt=g.descriptionClassName||"",kt=de.useMemo(()=>x.findIndex(Ae=>Ae.toastId===g.id)||0,[x,g.id]),St=de.useMemo(()=>{var Ae;return(Ae=g.closeButton)!=null?Ae:_},[g.closeButton,_]),Rt=de.useMemo(()=>g.duration||K||yE,[g.duration,K]),Mt=de.useRef(0),Bt=de.useRef(0),De=de.useRef(0),Pt=de.useRef(null),[hn,ue]=H.split("-"),Se=de.useMemo(()=>x.reduce((Ae,Qe,tt)=>tt>=kt?Ae:Ae+Qe.height,0),[x,kt]),He=q4(),ft=g.invert||m,Ht=oe==="loading";Bt.current=de.useMemo(()=>kt*$+Se,[kt,Se]),de.useEffect(()=>{ze.current=Rt},[Rt]),de.useEffect(()=>{ce(!0)},[]),de.useEffect(()=>{let Ae=pe.current;if(Ae){let Qe=Ae.getBoundingClientRect().height;return st(Qe),b(tt=>[{toastId:g.id,height:Qe,position:g.position},...tt]),()=>b(tt=>tt.filter(Zt=>Zt.toastId!==g.id))}},[b,g.id]),de.useLayoutEffect(()=>{if(!te)return;let Ae=pe.current,Qe=Ae.style.height;Ae.style.height="auto";let tt=Ae.getBoundingClientRect().height;Ae.style.height=Qe,st(tt),b(Zt=>Zt.find(xn=>xn.toastId===g.id)?Zt.map(xn=>xn.toastId===g.id?{...xn,height:tt}:xn):[{toastId:g.id,height:tt,position:g.position},...Zt])},[te,g.title,g.description,b,g.id]);let ct=de.useCallback(()=>{Z(!0),Nt(Bt.current),b(Ae=>Ae.filter(Qe=>Qe.toastId!==g.id)),setTimeout(()=>{L(g)},o5)},[g,L,b,Bt]);de.useEffect(()=>{if(g.promise&&oe==="loading"||g.duration===1/0||g.type==="loading")return;let Ae;return A||y||F&&He?(()=>{if(De.current<Mt.current){let Qe=new Date().getTime()-Mt.current;ze.current=ze.current-Qe}De.current=new Date().getTime()})():ze.current!==1/0&&(Mt.current=new Date().getTime(),Ae=setTimeout(()=>{var Qe;(Qe=g.onAutoClose)==null||Qe.call(g,g),ct()},ze.current)),()=>clearTimeout(Ae)},[A,y,g,oe,F,He,ct]),de.useEffect(()=>{g.delete&&ct()},[ct,g.delete]);function It(){var Ae,Qe,tt;return B!=null&&B.loading?de.createElement("div",{className:es(D==null?void 0:D.loader,(Ae=g==null?void 0:g.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":oe==="loading"},B.loading):Y?de.createElement("div",{className:es(D==null?void 0:D.loader,(Qe=g==null?void 0:g.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":oe==="loading"},Y):de.createElement($4,{className:es(D==null?void 0:D.loader,(tt=g==null?void 0:g.classNames)==null?void 0:tt.loader),visible:oe==="loading"})}return de.createElement("li",{tabIndex:0,ref:pe,className:es(P,ke,D==null?void 0:D.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[oe],(n=g==null?void 0:g.classNames)==null?void 0:n[oe]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:C,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":te,"data-promise":!!g.promise,"data-swiped":ee,"data-removed":ve,"data-visible":lt,"data-y-position":hn,"data-x-position":ue,"data-index":N,"data-front":he,"data-swiping":X,"data-dismissible":we,"data-type":oe,"data-invert":ft,"data-swipe-out":xe,"data-swipe-direction":W,"data-expanded":!!(A||O&&te),style:{"--index":N,"--toasts-before":N,"--z-index":k.length-N,"--offset":`${ve?qe:Bt.current}px`,"--initial-height":O?"auto":`${Xe}px`,...S,...g.style},onDragEnd:()=>{ne(!1),ie(null),Pt.current=null},onPointerDown:Ae=>{Ht||!we||(q.current=new Date,Nt(Bt.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(ne(!0),Pt.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,Qe,tt,Zt;if(xe||!we)return;Pt.current=null;let xn=Number(((Ae=pe.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),pt=Number(((Qe=pe.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ee=new Date().getTime()-((tt=q.current)==null?void 0:tt.getTime()),Xt=Q==="x"?xn:pt,Mn=Math.abs(Xt)/Ee;if(Math.abs(Xt)>=i5||Mn>.11){Nt(Bt.current),(Zt=g.onDismiss)==null||Zt.call(g,g),ge(Q==="x"?xn>0?"right":"left":pt>0?"down":"up"),ct(),Le(!0),Pe(!1);return}ne(!1),ie(null)},onPointerMove:Ae=>{var Qe,tt,Zt,xn;if(!Pt.current||!we||((Qe=window.getSelection())==null?void 0:Qe.toString().length)>0)return;let pt=Ae.clientY-Pt.current.y,Ee=Ae.clientX-Pt.current.x,Xt=(tt=t.swipeDirections)!=null?tt:a5(H);!Q&&(Math.abs(Ee)>1||Math.abs(pt)>1)&&ie(Math.abs(Ee)>Math.abs(pt)?"x":"y");let Mn={x:0,y:0};Q==="y"?(Xt.includes("top")||Xt.includes("bottom"))&&(Xt.includes("top")&&pt<0||Xt.includes("bottom")&&pt>0)&&(Mn.y=pt):Q==="x"&&(Xt.includes("left")||Xt.includes("right"))&&(Xt.includes("left")&&Ee<0||Xt.includes("right")&&Ee>0)&&(Mn.x=Ee),(Math.abs(Mn.x)>0||Math.abs(Mn.y)>0)&&Pe(!0),(Zt=pe.current)==null||Zt.style.setProperty("--swipe-amount-x",`${Mn.x}px`),(xn=pe.current)==null||xn.style.setProperty("--swipe-amount-y",`${Mn.y}px`)}},St&&!g.jsx?de.createElement("button",{"aria-label":V,"data-disabled":Ht,"data-close-button":!0,onClick:Ht||!we?()=>{}:()=>{var Ae;ct(),(Ae=g.onDismiss)==null||Ae.call(g,g)},className:es(D==null?void 0:D.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=B==null?void 0:B.close)!=null?i:W4):null,g.jsx||d.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:de.createElement(de.Fragment,null,oe||g.icon||g.promise?de.createElement("div",{"data-icon":"",className:es(D==null?void 0:D.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||It():null,g.type!=="loading"?g.icon||(B==null?void 0:B[oe])||V4(oe):null):null,de.createElement("div",{"data-content":"",className:es(D==null?void 0:D.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},de.createElement("div",{"data-title":"",className:es(D==null?void 0:D.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?de.createElement("div",{"data-description":"",className:es(R,wt,D==null?void 0:D.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),d.isValidElement(g.cancel)?g.cancel:g.cancel&&bh(g.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||T,onClick:Ae=>{var Qe,tt;bh(g.cancel)&&we&&((tt=(Qe=g.cancel).onClick)==null||tt.call(Qe,Ae),ct())},className:es(D==null?void 0:D.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,d.isValidElement(g.action)?g.action:g.action&&bh(g.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||I,onClick:Ae=>{var Qe,tt;bh(g.action)&&((tt=(Qe=g.action).onClick)==null||tt.call(Qe,Ae),!Ae.defaultPrevented&&ct())},className:es(D==null?void 0:D.actionButton,(p=g==null?void 0:g.classNames)==null?void 0:p.actionButton)},g.action.label):null))};function vE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function c5(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?n5:t5;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var u5=d.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:p,duration:m,style:g,visibleToasts:v=e5,toastOptions:y,dir:b=vE(),gap:w=s5,loadingIcon:x,icons:N,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:A}=t,[L,C]=de.useState([]),_=de.useMemo(()=>Array.from(new Set([r].concat(L.filter(F=>F.position).map(F=>F.position)))),[L,r]),[S,T]=de.useState([]),[I,P]=de.useState(!1),[R,K]=de.useState(!1),[H,$]=de.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=de.useRef(null),O=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=de.useRef(null),B=de.useRef(!1),V=de.useCallback(F=>{C(Q=>{var ie;return(ie=Q.find(W=>W.id===F.id))!=null&&ie.delete||ar.dismiss(F.id),Q.filter(({id:W})=>W!==F.id)})},[]);return de.useEffect(()=>ar.subscribe(F=>{if(F.dismiss){C(Q=>Q.map(ie=>ie.id===F.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{$k.flushSync(()=>{C(Q=>{let ie=Q.findIndex(W=>W.id===F.id);return ie!==-1?[...Q.slice(0,ie),{...Q[ie],...F},...Q.slice(ie+1)]:[F,...Q]})})})}),[]),de.useEffect(()=>{if(h!=="system"){$(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:Q})=>{$(Q?"dark":"light")})}catch{F.addListener(({matches:ie})=>{try{$(ie?"dark":"light")}catch(W){console.error(W)}})}},[h]),de.useEffect(()=>{L.length<=1&&P(!1)},[L]),de.useEffect(()=>{let F=Q=>{var ie,W;s.every(ge=>Q[ge]||Q.code===ge)&&(P(!0),(ie=Y.current)==null||ie.focus()),Q.code==="Escape"&&(document.activeElement===Y.current||(W=Y.current)!=null&&W.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[s]),de.useEffect(()=>{if(Y.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,B.current=!1)}},[Y.current]),de.createElement("section",{ref:e,"aria-label":`${k} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((F,Q)=>{var ie;let[W,ge]=F.split("-");return L.length?de.createElement("ol",{key:F,dir:b==="auto"?vE():b,tabIndex:-1,ref:Y,className:l,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":W,"data-lifted":I&&L.length>1&&!i,"data-x-position":ge,style:{"--front-toast-height":`${((ie=S[0])==null?void 0:ie.height)||0}px`,"--width":`${r5}px`,"--gap":`${w}px`,...g,...c5(c,u)},onBlur:te=>{B.current&&!te.currentTarget.contains(te.relatedTarget)&&(B.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||B.current||(B.current=!0,D.current=te.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{R||P(!1)},onDragEnd:()=>P(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},L.filter(te=>!te.position&&Q===0||te.position===F).map((te,ce)=>{var ve,Z;return de.createElement(l5,{key:te.id,icons:N,index:ce,toast:te,defaultRichColors:p,duration:(ve=y==null?void 0:y.duration)!=null?ve:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:v,closeButton:(Z=y==null?void 0:y.closeButton)!=null?Z:a,interacting:R,position:F,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:V,toasts:L.filter(X=>X.position==te.position),heights:S.filter(X=>X.position==te.position),setHeights:T,expandByDefault:i,gap:w,loadingIcon:x,expanded:I,pauseWhenPageIsHidden:A,swipeDirections:t.swipeDirections})})):null}))});const d5=({...t})=>{const{theme:e="system"}=O4();return o.jsx(u5,{theme:e,className:"toaster group",position:"bottom-right",duration:3e3,toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function xE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Up(...t){return e=>{let n=!1;const r=t.map(s=>{const i=xE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():xE(t[s],null)}}}}function at(...t){return d.useCallback(Up(...t),t)}function h5(t,e){const n=d.createContext(e),r=i=>{const{children:a,...l}=i,c=d.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=d.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ir(t,e=[]){let n=[];function r(i,a){const l=d.createContext(a),c=n.length;n=[...n,a];const u=p=>{var w;const{scope:m,children:g,...v}=p,y=((w=m==null?void 0:m[t])==null?void 0:w[c])||l,b=d.useMemo(()=>v,Object.values(v));return o.jsx(y.Provider,{value:b,children:g})};u.displayName=i+"Provider";function h(p,m){var y;const g=((y=m==null?void 0:m[t])==null?void 0:y[c])||l,v=d.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return d.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,f5(s,...e)]}function f5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...l,...p}},{});return d.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function la(t){const e=m5(t),n=d.forwardRef((r,s)=>{const{children:i,...a}=r,l=d.Children.toArray(i),c=l.find(y5);if(c){const u=c.props.children,h=l.map(p=>p===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:p);return o.jsx(e,{...a,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var p5=la("Slot");function m5(t){const e=d.forwardRef((n,r)=>{const{children:s,...i}=n;if(d.isValidElement(s)){const a=x5(s),l=v5(i,s.props);return s.type!==d.Fragment&&(l.ref=r?Up(r,a):a),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var zk=Symbol("radix.slottable");function g5(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=zk,e}function y5(t){return d.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===zk}function v5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function x5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var w5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=w5.reduce((t,e)=>{const n=la(`Primitive.${e}`),r=d.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Bk(t,e){t&&Yr.flushSync(()=>t.dispatchEvent(e))}function Us(t){const e=d.useRef(t);return d.useEffect(()=>{e.current=t}),d.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function b5(t,e=globalThis==null?void 0:globalThis.document){const n=Us(t);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var E5="DismissableLayer",hv="dismissableLayer.update",N5="dismissableLayer.pointerDownOutside",C5="dismissableLayer.focusOutside",wE,Hk=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xd=d.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=d.useContext(Hk),[h,p]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=d.useState({}),v=at(e,C=>p(C)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(b),x=h?y.indexOf(h):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,k=x>=w,A=j5(C=>{const _=C.target,S=[...u.branches].some(T=>T.contains(_));!k||S||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),L=k5(C=>{const _=C.target;[...u.branches].some(T=>T.contains(_))||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return b5(C=>{x===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wE=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),bE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=wE)}},[h,m,n,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),bE())},[h,u]),d.useEffect(()=>{const C=()=>g({});return document.addEventListener(hv,C),()=>document.removeEventListener(hv,C)},[]),o.jsx(Ve.div,{...c,ref:v,style:{pointerEvents:N?k?"auto":"none":void 0,...t.style},onFocusCapture:be(t.onFocusCapture,L.onFocusCapture),onBlurCapture:be(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:be(t.onPointerDownCapture,A.onPointerDownCapture)})});xd.displayName=E5;var _5="DismissableLayerBranch",S5=d.forwardRef((t,e)=>{const n=d.useContext(Hk),r=d.useRef(null),s=at(e,r);return d.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Ve.div,{...t,ref:s})});S5.displayName=_5;function j5(t,e=globalThis==null?void 0:globalThis.document){const n=Us(t),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){Wk(N5,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function k5(t,e=globalThis==null?void 0:globalThis.document){const n=Us(t),r=d.useRef(!1);return d.useEffect(()=>{const s=i=>{i.target&&!r.current&&Wk(C5,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bE(){const t=new CustomEvent(hv);document.dispatchEvent(t)}function Wk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Bk(s,i):s.dispatchEvent(i)}var Pn=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},I5=b0[" useId ".trim().toString()]||(()=>{}),T5=0;function Br(t){const[e,n]=d.useState(I5());return Pn(()=>{n(r=>r??String(T5++))},[t]),e?`radix-${e}`:""}const P5=["top","right","bottom","left"],mo=Math.min,Nr=Math.max,Lf=Math.round,Eh=Math.floor,Os=t=>({x:t,y:t}),A5={left:"right",right:"left",bottom:"top",top:"bottom"},R5={start:"end",end:"start"};function fv(t,e,n){return Nr(t,mo(e,n))}function hi(t,e){return typeof t=="function"?t(e):t}function fi(t){return t.split("-")[0]}function Ql(t){return t.split("-")[1]}function hx(t){return t==="x"?"y":"x"}function fx(t){return t==="y"?"height":"width"}function Ls(t){return["top","bottom"].includes(fi(t))?"y":"x"}function px(t){return hx(Ls(t))}function L5(t,e,n){n===void 0&&(n=!1);const r=Ql(t),s=px(t),i=fx(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Mf(a)),[a,Mf(a)]}function M5(t){const e=Mf(t);return[pv(t),e,pv(e)]}function pv(t){return t.replace(/start|end/g,e=>R5[e])}function D5(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function O5(t,e,n,r){const s=Ql(t);let i=D5(fi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(pv)))),i}function Mf(t){return t.replace(/left|right|bottom|top/g,e=>A5[e])}function V5(t){return{top:0,right:0,bottom:0,left:0,...t}}function qk(t){return typeof t!="number"?V5(t):{top:t,right:t,bottom:t,left:t}}function Df(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function EE(t,e,n){let{reference:r,floating:s}=t;const i=Ls(e),a=px(e),l=fx(a),c=fi(e),u=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:p};break;case"left":g={x:r.x-s.width,y:p};break;default:g={x:r.x,y:r.y}}switch(Ql(e)){case"start":g[a]-=m*(n&&u?-1:1);break;case"end":g[a]+=m*(n&&u?-1:1);break}return g}const F5=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=EE(u,r,c),m=r,g={},v=0;for(let y=0;y<l.length;y++){const{name:b,fn:w}=l[y],{x,y:N,data:k,reset:A}=await w({x:h,y:p,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:t,floating:e}});h=x??h,p=N??p,g={...g,[b]:{...g[b],...k}},A&&v<=50&&(v++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(u=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:h,y:p}=EE(u,m,c)),y=-1)}return{x:h,y:p,placement:m,strategy:s,middlewareData:g}};async function Uu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:g=0}=hi(e,t),v=qk(g),b=l[m?p==="floating"?"reference":"floating":p],w=Df(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),x=p==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},A=Df(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:N,strategy:c}):x);return{top:(w.top-A.top+v.top)/k.y,bottom:(A.bottom-w.bottom+v.bottom)/k.y,left:(w.left-A.left+v.left)/k.x,right:(A.right-w.right+v.right)/k.x}}const $5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=hi(t,e)||{};if(u==null)return{};const p=qk(h),m={x:n,y:r},g=px(s),v=fx(g),y=await a.getDimensions(u),b=g==="y",w=b?"top":"left",x=b?"bottom":"right",N=b?"clientHeight":"clientWidth",k=i.reference[v]+i.reference[g]-m[g]-i.floating[v],A=m[g]-i.reference[g],L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=L?L[N]:0;(!C||!await(a.isElement==null?void 0:a.isElement(L)))&&(C=l.floating[N]||i.floating[v]);const _=k/2-A/2,S=C/2-y[v]/2-1,T=mo(p[w],S),I=mo(p[x],S),P=T,R=C-y[v]-I,K=C/2-y[v]/2+_,H=fv(P,K,R),$=!c.arrow&&Ql(s)!=null&&K!==H&&i.reference[v]/2-(K<P?T:I)-y[v]/2<0,Y=$?K<P?K-P:K-R:0;return{[g]:m[g]+Y,data:{[g]:H,centerOffset:K-H-Y,...$&&{alignmentOffset:Y}},reset:$}}}),U5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...b}=hi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=fi(s),x=Ls(l),N=fi(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),A=m||(N||!y?[Mf(l)]:M5(l)),L=v!=="none";!m&&L&&A.push(...O5(l,y,v,k));const C=[l,...A],_=await Uu(e,b),S=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&S.push(_[w]),p){const K=L5(s,a,k);S.push(_[K[0]],_[K[1]])}if(T=[...T,{placement:s,overflows:S}],!S.every(K=>K<=0)){var I,P;const K=(((I=i.flip)==null?void 0:I.index)||0)+1,H=C[K];if(H&&(!(p==="alignment"?x!==Ls(H):!1)||T.every(O=>O.overflows[0]>0&&Ls(O.placement)===x)))return{data:{index:K,overflows:T},reset:{placement:H}};let $=(P=T.filter(Y=>Y.overflows[0]<=0).sort((Y,O)=>Y.overflows[1]-O.overflows[1])[0])==null?void 0:P.placement;if(!$)switch(g){case"bestFit":{var R;const Y=(R=T.filter(O=>{if(L){const D=Ls(O.placement);return D===x||D==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(D=>D>0).reduce((D,B)=>D+B,0)]).sort((O,D)=>O[1]-D[1])[0])==null?void 0:R[0];Y&&($=Y);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function NE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CE(t){return P5.some(e=>t[e]>=0)}const z5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=hi(t,e);switch(r){case"referenceHidden":{const i=await Uu(e,{...s,elementContext:"reference"}),a=NE(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:CE(a)}}}case"escaped":{const i=await Uu(e,{...s,altBoundary:!0}),a=NE(i,n.floating);return{data:{escapedOffsets:a,escaped:CE(a)}}}default:return{}}}}};async function B5(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=fi(n),l=Ql(n),c=Ls(n)==="y",u=["left","top"].includes(a)?-1:1,h=i&&c?-1:1,p=hi(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*h,y:m*u}:{x:m*u,y:g*h}}const H5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await B5(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},W5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:w,y:x}=b;return{x:w,y:x}}},...c}=hi(t,e),u={x:n,y:r},h=await Uu(e,c),p=Ls(fi(s)),m=hx(p);let g=u[m],v=u[p];if(i){const b=m==="y"?"top":"left",w=m==="y"?"bottom":"right",x=g+h[b],N=g-h[w];g=fv(x,g,N)}if(a){const b=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=v+h[b],N=v-h[w];v=fv(x,v,N)}const y=l.fn({...e,[m]:g,[p]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:i,[p]:a}}}}}},q5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=hi(t,e),h={x:n,y:r},p=Ls(s),m=hx(p);let g=h[m],v=h[p];const y=hi(l,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const N=m==="y"?"height":"width",k=i.reference[m]-i.floating[N]+b.mainAxis,A=i.reference[m]+i.reference[N]-b.mainAxis;g<k?g=k:g>A&&(g=A)}if(u){var w,x;const N=m==="y"?"width":"height",k=["top","left"].includes(fi(s)),A=i.reference[p]-i.floating[N]+(k&&((w=a.offset)==null?void 0:w[p])||0)+(k?0:b.crossAxis),L=i.reference[p]+i.reference[N]+(k?0:((x=a.offset)==null?void 0:x[p])||0)-(k?b.crossAxis:0);v<A?v=A:v>L&&(v=L)}return{[m]:g,[p]:v}}}},G5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=hi(t,e),h=await Uu(e,u),p=fi(s),m=Ql(s),g=Ls(s)==="y",{width:v,height:y}=i.floating;let b,w;p==="top"||p==="bottom"?(b=p,w=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(w=p,b=m==="end"?"top":"bottom");const x=y-h.top-h.bottom,N=v-h.left-h.right,k=mo(y-h[b],x),A=mo(v-h[w],N),L=!e.middlewareData.shift;let C=k,_=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=x),L&&!m){const T=Nr(h.left,0),I=Nr(h.right,0),P=Nr(h.top,0),R=Nr(h.bottom,0);g?_=v-2*(T!==0||I!==0?T+I:Nr(h.left,h.right)):C=y-2*(P!==0||R!==0?P+R:Nr(h.top,h.bottom))}await c({...e,availableWidth:_,availableHeight:C});const S=await a.getDimensions(l.floating);return v!==S.width||y!==S.height?{reset:{rects:!0}}:{}}}};function zp(){return typeof window<"u"}function Yl(t){return Gk(t)?(t.nodeName||"").toLowerCase():"#document"}function kr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ws(t){var e;return(e=(Gk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Gk(t){return zp()?t instanceof Node||t instanceof kr(t).Node:!1}function ys(t){return zp()?t instanceof Element||t instanceof kr(t).Element:!1}function zs(t){return zp()?t instanceof HTMLElement||t instanceof kr(t).HTMLElement:!1}function _E(t){return!zp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof kr(t).ShadowRoot}function wd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=vs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function K5(t){return["table","td","th"].includes(Yl(t))}function Bp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function mx(t){const e=gx(),n=ys(t)?vs(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Q5(t){let e=go(t);for(;zs(e)&&!Ll(e);){if(mx(e))return e;if(Bp(e))return null;e=go(e)}return null}function gx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ll(t){return["html","body","#document"].includes(Yl(t))}function vs(t){return kr(t).getComputedStyle(t)}function Hp(t){return ys(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function go(t){if(Yl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_E(t)&&t.host||Ws(t);return _E(e)?e.host:e}function Kk(t){const e=go(t);return Ll(e)?t.ownerDocument?t.ownerDocument.body:t.body:zs(e)&&wd(e)?e:Kk(e)}function zu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Kk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=kr(s);if(i){const l=mv(a);return e.concat(a,a.visualViewport||[],wd(s)?s:[],l&&n?zu(l):[])}return e.concat(s,zu(s,[],n))}function mv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Qk(t){const e=vs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=zs(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Lf(n)!==i||Lf(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function yx(t){return ys(t)?t:t.contextElement}function cl(t){const e=yx(t);if(!zs(e))return Os(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Qk(e);let a=(i?Lf(n.width):n.width)/r,l=(i?Lf(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Y5=Os(0);function Yk(t){const e=kr(t);return!gx()||!e.visualViewport?Y5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Z5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==kr(t)?!1:e}function ca(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=yx(t);let a=Os(1);e&&(r?ys(r)&&(a=cl(r)):a=cl(t));const l=Z5(i,n,r)?Yk(i):Os(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,h=s.width/a.x,p=s.height/a.y;if(i){const m=kr(i),g=r&&ys(r)?kr(r):r;let v=m,y=mv(v);for(;y&&r&&g!==v;){const b=cl(y),w=y.getBoundingClientRect(),x=vs(y),N=w.left+(y.clientLeft+parseFloat(x.paddingLeft))*b.x,k=w.top+(y.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,h*=b.x,p*=b.y,c+=N,u+=k,v=kr(y),y=mv(v)}}return Df({width:h,height:p,x:c,y:u})}function vx(t,e){const n=Hp(t).scrollLeft;return e?e.left+n:ca(Ws(t)).left+n}function Zk(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:vx(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function X5(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Ws(r),l=e?Bp(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Os(1);const h=Os(0),p=zs(r);if((p||!p&&!i)&&((Yl(r)!=="body"||wd(a))&&(c=Hp(r)),zs(r))){const g=ca(r);u=cl(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=a&&!p&&!i?Zk(a,c,!0):Os(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function J5(t){return Array.from(t.getClientRects())}function e6(t){const e=Ws(t),n=Hp(t),r=t.ownerDocument.body,s=Nr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Nr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+vx(t);const l=-n.scrollTop;return vs(r).direction==="rtl"&&(a+=Nr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function t6(t,e){const n=kr(t),r=Ws(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=gx();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function n6(t,e){const n=ca(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=zs(t)?cl(t):Os(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function SE(t,e,n){let r;if(e==="viewport")r=t6(t,n);else if(e==="document")r=e6(Ws(t));else if(ys(e))r=n6(e,n);else{const s=Yk(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Df(r)}function Xk(t,e){const n=go(t);return n===e||!ys(n)||Ll(n)?!1:vs(n).position==="fixed"||Xk(n,e)}function r6(t,e){const n=e.get(t);if(n)return n;let r=zu(t,[],!1).filter(l=>ys(l)&&Yl(l)!=="body"),s=null;const i=vs(t).position==="fixed";let a=i?go(t):t;for(;ys(a)&&!Ll(a);){const l=vs(a),c=mx(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||wd(a)&&!c&&Xk(t,a))?r=r.filter(h=>h!==a):s=l,a=go(a)}return e.set(t,r),r}function s6(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Bp(e)?[]:r6(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,h)=>{const p=SE(e,h,s);return u.top=Nr(p.top,u.top),u.right=mo(p.right,u.right),u.bottom=mo(p.bottom,u.bottom),u.left=Nr(p.left,u.left),u},SE(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function i6(t){const{width:e,height:n}=Qk(t);return{width:e,height:n}}function o6(t,e,n){const r=zs(e),s=Ws(e),i=n==="fixed",a=ca(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Os(0);function u(){c.x=vx(s)}if(r||!r&&!i)if((Yl(e)!=="body"||wd(s))&&(l=Hp(e)),r){const g=ca(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?Zk(s,l):Os(0),p=a.left+l.scrollLeft-c.x-h.x,m=a.top+l.scrollTop-c.y-h.y;return{x:p,y:m,width:a.width,height:a.height}}function zg(t){return vs(t).position==="static"}function jE(t,e){if(!zs(t)||vs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ws(t)===n&&(n=n.ownerDocument.body),n}function Jk(t,e){const n=kr(t);if(Bp(t))return n;if(!zs(t)){let s=go(t);for(;s&&!Ll(s);){if(ys(s)&&!zg(s))return s;s=go(s)}return n}let r=jE(t,e);for(;r&&K5(r)&&zg(r);)r=jE(r,e);return r&&Ll(r)&&zg(r)&&!mx(r)?n:r||Q5(t)||n}const a6=async function(t){const e=this.getOffsetParent||Jk,n=this.getDimensions,r=await n(t.floating);return{reference:o6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function l6(t){return vs(t).direction==="rtl"}const c6={convertOffsetParentRelativeRectToViewportRelativeRect:X5,getDocumentElement:Ws,getClippingRect:s6,getOffsetParent:Jk,getElementRects:a6,getClientRects:J5,getDimensions:i6,getScale:cl,isElement:ys,isRTL:l6};function eI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function u6(t,e){let n=null,r;const s=Ws(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:p,width:m,height:g}=u;if(l||e(),!m||!g)return;const v=Eh(p),y=Eh(s.clientWidth-(h+m)),b=Eh(s.clientHeight-(p+g)),w=Eh(h),N={rootMargin:-v+"px "+-y+"px "+-b+"px "+-w+"px",threshold:Nr(0,mo(1,c))||1};let k=!0;function A(L){const C=L[0].intersectionRatio;if(C!==c){if(!k)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!eI(u,t.getBoundingClientRect())&&a(),k=!1}try{n=new IntersectionObserver(A,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,N)}n.observe(t)}return a(!0),i}function d6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=yx(t),h=s||i?[...u?zu(u):[],...zu(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const p=u&&l?u6(u,n):null;let m=-1,g=null;a&&(g=new ResizeObserver(w=>{let[x]=w;x&&x.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let v,y=c?ca(t):null;c&&b();function b(){const w=ca(t);y&&!eI(y,w)&&n(),y=w,v=requestAnimationFrame(b)}return n(),()=>{var w;h.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),p==null||p(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const h6=H5,f6=W5,p6=U5,m6=G5,g6=z5,kE=$5,y6=q5,v6=(t,e,n)=>{const r=new Map,s={platform:c6,...n},i={...s.platform,_c:r};return F5(t,e,{...s,platform:i})};var x6=typeof document<"u",w6=function(){},Qh=x6?d.useLayoutEffect:w6;function Of(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Of(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Of(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function tI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function IE(t,e){const n=tI(t);return Math.round(e*n)/n}function Bg(t){const e=d.useRef(t);return Qh(()=>{e.current=t}),e}function b6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,p]=d.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=d.useState(r);Of(m,r)||g(r);const[v,y]=d.useState(null),[b,w]=d.useState(null),x=d.useCallback(O=>{O!==L.current&&(L.current=O,y(O))},[]),N=d.useCallback(O=>{O!==C.current&&(C.current=O,w(O))},[]),k=i||v,A=a||b,L=d.useRef(null),C=d.useRef(null),_=d.useRef(h),S=c!=null,T=Bg(c),I=Bg(s),P=Bg(u),R=d.useCallback(()=>{if(!L.current||!C.current)return;const O={placement:e,strategy:n,middleware:m};I.current&&(O.platform=I.current),v6(L.current,C.current,O).then(D=>{const B={...D,isPositioned:P.current!==!1};K.current&&!Of(_.current,B)&&(_.current=B,Yr.flushSync(()=>{p(B)}))})},[m,e,n,I,P]);Qh(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,p(O=>({...O,isPositioned:!1})))},[u]);const K=d.useRef(!1);Qh(()=>(K.current=!0,()=>{K.current=!1}),[]),Qh(()=>{if(k&&(L.current=k),A&&(C.current=A),k&&A){if(T.current)return T.current(k,A,R);R()}},[k,A,R,T,S]);const H=d.useMemo(()=>({reference:L,floating:C,setReference:x,setFloating:N}),[x,N]),$=d.useMemo(()=>({reference:k,floating:A}),[k,A]),Y=d.useMemo(()=>{const O={position:n,left:0,top:0};if(!$.floating)return O;const D=IE($.floating,h.x),B=IE($.floating,h.y);return l?{...O,transform:"translate("+D+"px, "+B+"px)",...tI($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:B}},[n,l,$.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:R,refs:H,elements:$,floatingStyles:Y}),[h,R,H,$,Y])}const E6=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?kE({element:r.current,padding:s}).fn(n):{}:r?kE({element:r,padding:s}).fn(n):{}}}},N6=(t,e)=>({...h6(t),options:[t,e]}),C6=(t,e)=>({...f6(t),options:[t,e]}),_6=(t,e)=>({...y6(t),options:[t,e]}),S6=(t,e)=>({...p6(t),options:[t,e]}),j6=(t,e)=>({...m6(t),options:[t,e]}),k6=(t,e)=>({...g6(t),options:[t,e]}),I6=(t,e)=>({...E6(t),options:[t,e]});var T6="Arrow",nI=d.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(Ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});nI.displayName=T6;var P6=nI;function xx(t){const[e,n]=d.useState(void 0);return Pn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var wx="Popper",[rI,Zl]=ir(wx),[A6,sI]=rI(wx),iI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=d.useState(null);return o.jsx(A6,{scope:e,anchor:r,onAnchorChange:s,children:n})};iI.displayName=wx;var oI="PopperAnchor",aI=d.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=sI(oI,n),a=d.useRef(null),l=at(e,a);return d.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(Ve.div,{...s,ref:l})});aI.displayName=oI;var bx="PopperContent",[R6,L6]=rI(bx),lI=d.forwardRef((t,e)=>{var te,ce,ve,Z,X,ne;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=t,b=sI(bx,n),[w,x]=d.useState(null),N=at(e,xe=>x(xe)),[k,A]=d.useState(null),L=xx(k),C=(L==null?void 0:L.width)??0,_=(L==null?void 0:L.height)??0,S=r+(i!=="center"?"-"+i:""),T=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},I=Array.isArray(u)?u:[u],P=I.length>0,R={padding:T,boundary:I.filter(D6),altBoundary:P},{refs:K,floatingStyles:H,placement:$,isPositioned:Y,middlewareData:O}=b6({strategy:"fixed",placement:S,whileElementsMounted:(...xe)=>d6(...xe,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[N6({mainAxis:s+_,alignmentAxis:a}),c&&C6({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?_6():void 0,...R}),c&&S6({...R}),j6({...R,apply:({elements:xe,rects:Le,availableWidth:ee,availableHeight:Pe})=>{const{width:qe,height:Nt}=Le.reference,Xe=xe.floating.style;Xe.setProperty("--radix-popper-available-width",`${ee}px`),Xe.setProperty("--radix-popper-available-height",`${Pe}px`),Xe.setProperty("--radix-popper-anchor-width",`${qe}px`),Xe.setProperty("--radix-popper-anchor-height",`${Nt}px`)}}),k&&I6({element:k,padding:l}),O6({arrowWidth:C,arrowHeight:_}),m&&k6({strategy:"referenceHidden",...R})]}),[D,B]=dI($),V=Us(v);Pn(()=>{Y&&(V==null||V())},[Y,V]);const F=(te=O.arrow)==null?void 0:te.x,Q=(ce=O.arrow)==null?void 0:ce.y,ie=((ve=O.arrow)==null?void 0:ve.centerOffset)!==0,[W,ge]=d.useState();return Pn(()=>{w&&ge(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Y?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(Z=O.transformOrigin)==null?void 0:Z.x,(X=O.transformOrigin)==null?void 0:X.y].join(" "),...((ne=O.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(R6,{scope:n,placedSide:D,onArrowChange:A,arrowX:F,arrowY:Q,shouldHideArrow:ie,children:o.jsx(Ve.div,{"data-side":D,"data-align":B,...y,ref:N,style:{...y.style,animation:Y?void 0:"none"}})})})});lI.displayName=bx;var cI="PopperArrow",M6={top:"bottom",right:"left",bottom:"top",left:"right"},uI=d.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=L6(cI,r),a=M6[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(P6,{...s,ref:n,style:{...s.style,display:"block"}})})});uI.displayName=cI;function D6(t){return t!==null}var O6=t=>({name:"transformOrigin",options:t,fn(e){var b,w,x;const{placement:n,rects:r,middlewareData:s}=e,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,h]=dI(n),p={start:"0%",center:"50%",end:"100%"}[h],m=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,g=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let v="",y="";return u==="bottom"?(v=a?p:`${m}px`,y=`${-c}px`):u==="top"?(v=a?p:`${m}px`,y=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,y=a?p:`${g}px`):u==="left"&&(v=`${r.floating.width+c}px`,y=a?p:`${g}px`),{data:{x:v,y}}}});function dI(t){const[e,n="center"]=t.split("-");return[e,n]}var hI=iI,Ex=aI,Nx=lI,Cx=uI,V6="Portal",Wp=d.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=d.useState(!1);Pn(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?$k.createPortal(o.jsx(Ve.div,{...r,ref:e}),a):null});Wp.displayName=V6;function F6(t,e){return d.useReducer((n,r)=>e[n][r]??n,t)}var Zr=t=>{const{present:e,children:n}=t,r=$6(e),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),i=at(r.ref,U6(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:i}):null};Zr.displayName="Presence";function $6(t){const[e,n]=d.useState(),r=d.useRef(null),s=d.useRef(t),i=d.useRef("none"),a=t?"mounted":"unmounted",[l,c]=F6(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=Nh(r.current);i.current=l==="mounted"?u:"none"},[l]),Pn(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,g=Nh(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Pn(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,p=g=>{const y=Nh(r.current).includes(g.animationName);if(g.target===e&&y&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=g=>{g.target===e&&(i.current=Nh(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Nh(t){return(t==null?void 0:t.animationName)||"none"}function U6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var z6=b0[" useInsertionEffect ".trim().toString()]||Pn;function xs({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=B6({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=d.useRef(t!==void 0);d.useEffect(()=>{const p=h.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=d.useCallback(h=>{var p;if(l){const m=H6(h)?h(t):h;m!==t&&((p=a.current)==null||p.call(a,m))}else i(h)},[l,t,i,a]);return[c,u]}function B6({defaultProp:t,onChange:e}){const[n,r]=d.useState(t),s=d.useRef(n),i=d.useRef(e);return z6(()=>{i.current=e},[e]),d.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function H6(t){return typeof t=="function"}var fI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),W6="VisuallyHidden",pI=d.forwardRef((t,e)=>o.jsx(Ve.span,{...t,ref:e,style:{...fI,...t.style}}));pI.displayName=W6;var q6=pI,[qp,PZ]=ir("Tooltip",[Zl]),_x=Zl(),mI="TooltipProvider",G6=700,TE="tooltip.open",[K6,gI]=qp(mI),yI=t=>{const{__scopeTooltip:e,delayDuration:n=G6,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=d.useRef(!0),l=d.useRef(!1),c=d.useRef(0);return d.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(K6,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:d.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};yI.displayName=mI;var vI="Tooltip",[AZ,Gp]=qp(vI),gv="TooltipTrigger",Q6=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Gp(gv,n),i=gI(gv,n),a=_x(n),l=d.useRef(null),c=at(e,l,s.onTriggerChange),u=d.useRef(!1),h=d.useRef(!1),p=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),o.jsx(Ex,{asChild:!0,...a,children:o.jsx(Ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:be(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:be(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:be(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:be(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:be(t.onBlur,s.onClose),onClick:be(t.onClick,s.onClose)})})});Q6.displayName=gv;var Y6="TooltipPortal",[RZ,Z6]=qp(Y6,{forceMount:void 0}),Ml="TooltipContent",xI=d.forwardRef((t,e)=>{const n=Z6(Ml,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=Gp(Ml,t.__scopeTooltip);return o.jsx(Zr,{present:r||a.open,children:a.disableHoverableContent?o.jsx(wI,{side:s,...i,ref:e}):o.jsx(X6,{side:s,...i,ref:e})})}),X6=d.forwardRef((t,e)=>{const n=Gp(Ml,t.__scopeTooltip),r=gI(Ml,t.__scopeTooltip),s=d.useRef(null),i=at(e,s),[a,l]=d.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:p}=r,m=d.useCallback(()=>{l(null),p(!1)},[p]),g=d.useCallback((v,y)=>{const b=v.currentTarget,w={x:v.clientX,y:v.clientY},x=r3(w,b.getBoundingClientRect()),N=s3(w,x),k=i3(y.getBoundingClientRect()),A=a3([...N,...k]);l(A),p(!0)},[p]);return d.useEffect(()=>()=>m(),[m]),d.useEffect(()=>{if(c&&h){const v=b=>g(b,h),y=b=>g(b,c);return c.addEventListener("pointerleave",v),h.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",y)}}},[c,h,g,m]),d.useEffect(()=>{if(a){const v=y=>{const b=y.target,w={x:y.clientX,y:y.clientY},x=(c==null?void 0:c.contains(b))||(h==null?void 0:h.contains(b)),N=!o3(w,a);x?m():N&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,h,a,u,m]),o.jsx(wI,{...t,ref:i})}),[J6,e3]=qp(vI,{isInside:!1}),t3=g5("TooltipContent"),wI=d.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=Gp(Ml,n),u=_x(n),{onClose:h}=c;return d.useEffect(()=>(document.addEventListener(TE,h),()=>document.removeEventListener(TE,h)),[h]),d.useEffect(()=>{if(c.trigger){const p=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,h]),o.jsx(xd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:o.jsxs(Nx,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(t3,{children:r}),o.jsx(J6,{scope:n,isInside:!0,children:o.jsx(q6,{id:c.contentId,role:"tooltip",children:s||r})})]})})});xI.displayName=Ml;var bI="TooltipArrow",n3=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=_x(n);return e3(bI,n).isInside?null:o.jsx(Cx,{...s,...r,ref:e})});n3.displayName=bI;function r3(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function s3(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function i3(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function o3(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,h=l.y,p=c.x,m=c.y;h>r!=m>r&&n<(p-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function a3(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),l3(e)}function l3(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var c3=yI,EI=xI;function NI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=NI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function CI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=NI(t))&&(r&&(r+=" "),r+=e);return r}const Sx="-",u3=t=>{const e=h3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(Sx);return l[0]===""&&l.length!==1&&l.shift(),_I(l,e)||d3(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},_I=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?_I(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Sx);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},PE=/^\[(.+)\]$/,d3=t=>{if(PE.test(t)){const e=PE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},h3=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return p3(Object.entries(t.classGroups),n).forEach(([i,a])=>{yv(a,r,i,e)}),r},yv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:AE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(f3(s)){yv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{yv(a,AE(e,i),n,r)})})},AE=(t,e)=>{let n=t;return e.split(Sx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},f3=t=>t.isThemeGetter,p3=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,m3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},SI="!",g3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,h=0,p;for(let b=0;b<l.length;b++){let w=l[b];if(u===0){if(w===s&&(r||l.slice(b,b+i)===e)){c.push(l.slice(h,b)),h=b+i;continue}if(w==="/"){p=b;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?l:l.substring(h),g=m.startsWith(SI),v=g?m.substring(1):m,y=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:a}):a},y3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},v3=t=>({cache:m3(t.cacheSize),parseClassName:g3(t),...u3(t)}),x3=/\s+/,w3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(x3);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let v=!!g,y=r(v?m.substring(0,g):m);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=r(m),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=y3(h).join(":"),w=p?b+SI:b,x=w+y;if(i.includes(x))continue;i.push(x);const N=s(y,v);for(let k=0;k<N.length;++k){const A=N[k];i.push(w+A)}l=u+(l.length>0?" "+l:l)}return l};function b3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=jI(e))&&(r&&(r+=" "),r+=n);return r}const jI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=jI(t[r]))&&(n&&(n+=" "),n+=e);return n};function E3(t,...e){let n,r,s,i=a;function a(c){const u=e.reduce((h,p)=>p(h),t());return n=v3(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=w3(c,n);return s(c,h),h}return function(){return i(b3.apply(null,arguments))}}const Ot=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},kI=/^\[(?:([a-z-]+):)?(.+)\]$/i,N3=/^\d+\/\d+$/,C3=new Set(["px","full","screen"]),_3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,S3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,k3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,I3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ks=t=>ul(t)||C3.has(t)||N3.test(t),Si=t=>Xl(t,"length",O3),ul=t=>!!t&&!Number.isNaN(Number(t)),Hg=t=>Xl(t,"number",ul),Mc=t=>!!t&&Number.isInteger(Number(t)),T3=t=>t.endsWith("%")&&ul(t.slice(0,-1)),Ye=t=>kI.test(t),ji=t=>_3.test(t),P3=new Set(["length","size","percentage"]),A3=t=>Xl(t,P3,II),R3=t=>Xl(t,"position",II),L3=new Set(["image","url"]),M3=t=>Xl(t,L3,F3),D3=t=>Xl(t,"",V3),Dc=()=>!0,Xl=(t,e,n)=>{const r=kI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},O3=t=>S3.test(t)&&!j3.test(t),II=()=>!1,V3=t=>k3.test(t),F3=t=>I3.test(t),$3=()=>{const t=Ot("colors"),e=Ot("spacing"),n=Ot("blur"),r=Ot("brightness"),s=Ot("borderColor"),i=Ot("borderRadius"),a=Ot("borderSpacing"),l=Ot("borderWidth"),c=Ot("contrast"),u=Ot("grayscale"),h=Ot("hueRotate"),p=Ot("invert"),m=Ot("gap"),g=Ot("gradientColorStops"),v=Ot("gradientColorStopPositions"),y=Ot("inset"),b=Ot("margin"),w=Ot("opacity"),x=Ot("padding"),N=Ot("saturate"),k=Ot("scale"),A=Ot("sepia"),L=Ot("skew"),C=Ot("space"),_=Ot("translate"),S=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Ye,e],P=()=>[Ye,e],R=()=>["",Ks,Si],K=()=>["auto",ul,Ye],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Ye],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[ul,Ye];return{cacheSize:500,separator:":",theme:{colors:[Dc],spacing:[Ks,Si],blur:["none","",ji,Ye],brightness:V(),borderColor:[t],borderRadius:["none","","full",ji,Ye],borderSpacing:P(),borderWidth:R(),contrast:V(),grayscale:D(),hueRotate:V(),invert:D(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[T3,Si],inset:I(),margin:I(),opacity:V(),padding:P(),saturate:V(),scale:V(),sepia:D(),skew:V(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[ji]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Ye]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mc,Ye]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Mc,Ye]}],"grid-cols":[{"grid-cols":[Dc]}],"col-start-end":[{col:["auto",{span:["full",Mc,Ye]},Ye]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Dc]}],"row-start-end":[{row:["auto",{span:[Mc,Ye]},Ye]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,e]}],"min-w":[{"min-w":[Ye,e,"min","max","fit"]}],"max-w":[{"max-w":[Ye,e,"none","full","min","max","fit","prose",{screen:[ji]},ji]}],h:[{h:[Ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ji,Si]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hg]}],"font-family":[{font:[Dc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",ul,Hg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ks,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ks,Si]}],"underline-offset":[{"underline-offset":["auto",Ks,Ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),R3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",A3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},M3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Ks,Ye]}],"outline-w":[{outline:[Ks,Si]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ks,Si]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ji,D3]}],"shadow-color":[{shadow:[Dc]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ji,Ye]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[N]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Mc,Ye]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ks,Si,Hg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},U3=E3($3);function Me(...t){return U3(CI(t))}const z3=c3,B3=d.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(EI,{ref:r,sideOffset:e,className:Me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));B3.displayName=EI.displayName;var Kp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qp=typeof window>"u"||"Deno"in globalThis;function rs(){}function H3(t,e){return typeof t=="function"?t(e):t}function W3(t){return typeof t=="number"&&t>=0&&t!==1/0}function q3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vv(t,e){return typeof t=="function"?t(e):t}function G3(t,e){return typeof t=="function"?t(e):t}function RE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==jx(a,e.options))return!1}else if(!Hu(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function LE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Bu(e.options.mutationKey)!==Bu(i))return!1}else if(!Hu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function jx(t,e){return((e==null?void 0:e.queryKeyHashFn)||Bu)(t)}function Bu(t){return JSON.stringify(t,(e,n)=>xv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Hu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Hu(t[n],e[n])):!1}function TI(t,e){if(t===e)return t;const n=ME(t)&&ME(e);if(n||xv(t)&&xv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<a;h++){const p=n?h:i[h];(!n&&c.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(l[p]=void 0,u++):(l[p]=TI(t[p],e[p]),l[p]===t[p]&&t[p]!==void 0&&u++)}return s===a&&u===s?t:l}return e}function ME(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xv(t){if(!DE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!DE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function DE(t){return Object.prototype.toString.call(t)==="[object Object]"}function K3(t){return new Promise(e=>{setTimeout(e,t)})}function Q3(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?TI(t,e):e}function Y3(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Z3(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var kx=Symbol();function PI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===kx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Wo,Ui,xl,xS,X3=(xS=class extends Kp{constructor(){super();gt(this,Wo);gt(this,Ui);gt(this,xl);Ke(this,xl,e=>{if(!Qp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){se(this,Ui)||this.setEventListener(se(this,xl))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,Ui))==null||e.call(this),Ke(this,Ui,void 0))}setEventListener(e){var n;Ke(this,xl,e),(n=se(this,Ui))==null||n.call(this),Ke(this,Ui,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){se(this,Wo)!==e&&(Ke(this,Wo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof se(this,Wo)=="boolean"?se(this,Wo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Wo=new WeakMap,Ui=new WeakMap,xl=new WeakMap,xS),AI=new X3,wl,zi,bl,wS,J3=(wS=class extends Kp{constructor(){super();gt(this,wl,!0);gt(this,zi);gt(this,bl);Ke(this,bl,e=>{if(!Qp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){se(this,zi)||this.setEventListener(se(this,bl))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,zi))==null||e.call(this),Ke(this,zi,void 0))}setEventListener(e){var n;Ke(this,bl,e),(n=se(this,zi))==null||n.call(this),Ke(this,zi,e(this.setOnline.bind(this)))}setOnline(e){se(this,wl)!==e&&(Ke(this,wl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return se(this,wl)}},wl=new WeakMap,zi=new WeakMap,bl=new WeakMap,wS),Vf=new J3;function eV(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function tV(t){return Math.min(1e3*2**t,3e4)}function RI(t){return(t??"online")==="online"?Vf.isOnline():!0}var LI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Wg(t){return t instanceof LI}function MI(t){let e=!1,n=0,r=!1,s;const i=eV(),a=y=>{var b;r||(m(new LI(y)),(b=t.abort)==null||b.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>AI.isFocused()&&(t.networkMode==="always"||Vf.isOnline())&&t.canRun(),h=()=>RI(t.networkMode)&&t.canRun(),p=y=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,y),s==null||s(),i.resolve(y))},m=y=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var b;s=w=>{(r||u())&&y(w)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(r)return;let y;const b=n===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(p).catch(w=>{var L;if(r)return;const x=t.retry??(Qp?0:3),N=t.retryDelay??tV,k=typeof N=="function"?N(n,w):N,A=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,w);if(e||!A){m(w);return}n++,(L=t.onFail)==null||L.call(t,n,w),K3(k).then(()=>u()?void 0:g()).then(()=>{e?m(w):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?v():g().then(v),i)}}var nV=t=>setTimeout(t,0);function rV(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=nV;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Xn=rV(),qo,bS,DI=(bS=class{constructor(){gt(this,qo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),W3(this.gcTime)&&Ke(this,qo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qp?1/0:5*60*1e3))}clearGcTimeout(){se(this,qo)&&(clearTimeout(se(this,qo)),Ke(this,qo,void 0))}},qo=new WeakMap,bS),El,Go,Lr,Ko,zn,hd,Qo,ss,Qs,ES,sV=(ES=class extends DI{constructor(n){super();gt(this,ss);gt(this,El);gt(this,Go);gt(this,Lr);gt(this,Ko);gt(this,zn);gt(this,hd);gt(this,Qo);Ke(this,Qo,!1),Ke(this,hd,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ke(this,Ko,n.client),Ke(this,Lr,se(this,Ko).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ke(this,El,oV(this.options)),this.state=n.state??se(this,El),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=se(this,zn))==null?void 0:n.promise}setOptions(n){this.options={...se(this,hd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,Lr).remove(this)}setData(n,r){const s=Q3(this.state.data,n,this.options);return Vn(this,ss,Qs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Vn(this,ss,Qs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=se(this,zn))==null?void 0:s.promise;return(i=se(this,zn))==null||i.cancel(n),r?r.then(rs).catch(rs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,El))}isActive(){return this.observers.some(n=>G3(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>vv(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!q3(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=se(this,zn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=se(this,zn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),se(this,Lr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(se(this,zn)&&(se(this,Qo)?se(this,zn).cancel({revert:!0}):se(this,zn).cancelRetry()),this.scheduleGc()),se(this,Lr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vn(this,ss,Qs).call(this,{type:"invalidate"})}fetch(n,r){var h,p,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(se(this,zn))return se(this,zn).continueRetry(),se(this,zn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(v=>v.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ke(this,Qo,!0),s.signal)})},a=()=>{const g=PI(this.options,r),y=(()=>{const b={client:se(this,Ko),queryKey:this.queryKey,meta:this.meta};return i(b),b})();return Ke(this,Qo,!1),this.options.persister?this.options.persister(g,y,this):g(y)},c=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:se(this,Ko),state:this.state,fetchFn:a};return i(g),g})();(h=this.options.behavior)==null||h.onFetch(c,this),Ke(this,Go,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&Vn(this,ss,Qs).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=g=>{var v,y,b,w;Wg(g)&&g.silent||Vn(this,ss,Qs).call(this,{type:"error",error:g}),Wg(g)||((y=(v=se(this,Lr).config).onError)==null||y.call(v,g,this),(w=(b=se(this,Lr).config).onSettled)==null||w.call(b,this.state.data,g,this)),this.scheduleGc()};return Ke(this,zn,MI({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var v,y,b,w;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(x){u(x);return}(y=(v=se(this,Lr).config).onSuccess)==null||y.call(v,g,this),(w=(b=se(this,Lr).config).onSettled)==null||w.call(b,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,v)=>{Vn(this,ss,Qs).call(this,{type:"failed",failureCount:g,error:v})},onPause:()=>{Vn(this,ss,Qs).call(this,{type:"pause"})},onContinue:()=>{Vn(this,ss,Qs).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),se(this,zn).start()}},El=new WeakMap,Go=new WeakMap,Lr=new WeakMap,Ko=new WeakMap,zn=new WeakMap,hd=new WeakMap,Qo=new WeakMap,ss=new WeakSet,Qs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...iV(s.data,this.options),fetchMeta:n.meta??null};case"success":return Ke(this,Go,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Wg(i)&&i.revert&&se(this,Go)?{...se(this,Go),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Xn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),se(this,Lr).notify({query:this,type:"updated",action:n})})},ES);function iV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:RI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function oV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ks,NS,aV=(NS=class extends Kp{constructor(e={}){super();gt(this,ks);this.config=e,Ke(this,ks,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??jx(s,n);let a=this.get(i);return a||(a=new sV({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){se(this,ks).has(e.queryHash)||(se(this,ks).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=se(this,ks).get(e.queryHash);n&&(e.destroy(),n===e&&se(this,ks).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return se(this,ks).get(e)}getAll(){return[...se(this,ks).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>RE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>RE(e,r)):n}notify(e){Xn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Xn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Xn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ks=new WeakMap,NS),Is,Yn,Yo,Ts,Ii,CS,lV=(CS=class extends DI{constructor(n){super();gt(this,Ts);gt(this,Is);gt(this,Yn);gt(this,Yo);this.mutationId=n.mutationId,Ke(this,Yn,n.mutationCache),Ke(this,Is,[]),this.state=n.state||cV(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){se(this,Is).includes(n)||(se(this,Is).push(n),this.clearGcTimeout(),se(this,Yn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ke(this,Is,se(this,Is).filter(r=>r!==n)),this.scheduleGc(),se(this,Yn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){se(this,Is).length||(this.state.status==="pending"?this.scheduleGc():se(this,Yn).remove(this))}continue(){var n;return((n=se(this,Yo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,u,h,p,m,g,v,y,b,w,x,N,k,A,L,C,_,S;const r=()=>{Vn(this,Ts,Ii).call(this,{type:"continue"})};Ke(this,Yo,MI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(T,I)=>{Vn(this,Ts,Ii).call(this,{type:"failed",failureCount:T,error:I})},onPause:()=>{Vn(this,Ts,Ii).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Yn).canRun(this)}));const s=this.state.status==="pending",i=!se(this,Yo).canStart();try{if(s)r();else{Vn(this,Ts,Ii).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(a=se(this,Yn).config).onMutate)==null?void 0:l.call(a,n,this));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));I!==this.state.context&&Vn(this,Ts,Ii).call(this,{type:"pending",context:I,variables:n,isPaused:i})}const T=await se(this,Yo).start();return await((p=(h=se(this,Yn).config).onSuccess)==null?void 0:p.call(h,T,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,T,n,this.state.context)),await((y=(v=se(this,Yn).config).onSettled)==null?void 0:y.call(v,T,null,this.state.variables,this.state.context,this)),await((w=(b=this.options).onSettled)==null?void 0:w.call(b,T,null,n,this.state.context)),Vn(this,Ts,Ii).call(this,{type:"success",data:T}),T}catch(T){try{throw await((N=(x=se(this,Yn).config).onError)==null?void 0:N.call(x,T,n,this.state.context,this)),await((A=(k=this.options).onError)==null?void 0:A.call(k,T,n,this.state.context)),await((C=(L=se(this,Yn).config).onSettled)==null?void 0:C.call(L,void 0,T,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,void 0,T,n,this.state.context)),T}finally{Vn(this,Ts,Ii).call(this,{type:"error",error:T})}}finally{se(this,Yn).runNext(this)}}},Is=new WeakMap,Yn=new WeakMap,Yo=new WeakMap,Ts=new WeakSet,Ii=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Xn.batch(()=>{se(this,Is).forEach(s=>{s.onMutationUpdate(n)}),se(this,Yn).notify({mutation:this,type:"updated",action:n})})},CS);function cV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xs,is,fd,_S,uV=(_S=class extends Kp{constructor(e={}){super();gt(this,Xs);gt(this,is);gt(this,fd);this.config=e,Ke(this,Xs,new Set),Ke(this,is,new Map),Ke(this,fd,0)}build(e,n,r){const s=new lV({mutationCache:this,mutationId:++rh(this,fd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){se(this,Xs).add(e);const n=Ch(e);if(typeof n=="string"){const r=se(this,is).get(n);r?r.push(e):se(this,is).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(se(this,Xs).delete(e)){const n=Ch(e);if(typeof n=="string"){const r=se(this,is).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&se(this,is).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ch(e);if(typeof n=="string"){const r=se(this,is).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Ch(e);if(typeof n=="string"){const s=(r=se(this,is).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xn.batch(()=>{se(this,Xs).forEach(e=>{this.notify({type:"removed",mutation:e})}),se(this,Xs).clear(),se(this,is).clear()})}getAll(){return Array.from(se(this,Xs))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>LE(n,r))}findAll(e={}){return this.getAll().filter(n=>LE(e,n))}notify(e){Xn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Xn.batch(()=>Promise.all(e.map(n=>n.continue().catch(rs))))}},Xs=new WeakMap,is=new WeakMap,fd=new WeakMap,_S);function Ch(t){var e;return(e=t.options.scope)==null?void 0:e.id}function OE(t){return{onFetch:(e,n)=>{var h,p,m,g,v;const r=e.options,s=(m=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const b=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},w=PI(e.options,e.fetchOptions),x=async(N,k,A)=>{if(y)return Promise.reject();if(k==null&&N.pages.length)return Promise.resolve(N);const C=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:k,direction:A?"backward":"forward",meta:e.options.meta};return b(I),I})(),_=await w(C),{maxPages:S}=e.options,T=A?Z3:Y3;return{pages:T(N.pages,_,S),pageParams:T(N.pageParams,k,S)}};if(s&&i.length){const N=s==="backward",k=N?dV:VE,A={pages:i,pageParams:a},L=k(r,A);l=await x(A,L,N)}else{const N=t??i.length;do{const k=c===0?a[0]??r.initialPageParam:VE(r,l);if(c>0&&k==null)break;l=await x(l,k),c++}while(c<N)}return l};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function VE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function dV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var en,Bi,Hi,Nl,Cl,Wi,_l,Sl,SS,hV=(SS=class{constructor(t={}){gt(this,en);gt(this,Bi);gt(this,Hi);gt(this,Nl);gt(this,Cl);gt(this,Wi);gt(this,_l);gt(this,Sl);Ke(this,en,t.queryCache||new aV),Ke(this,Bi,t.mutationCache||new uV),Ke(this,Hi,t.defaultOptions||{}),Ke(this,Nl,new Map),Ke(this,Cl,new Map),Ke(this,Wi,0)}mount(){rh(this,Wi)._++,se(this,Wi)===1&&(Ke(this,_l,AI.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,en).onFocus())})),Ke(this,Sl,Vf.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,en).onOnline())})))}unmount(){var t,e;rh(this,Wi)._--,se(this,Wi)===0&&((t=se(this,_l))==null||t.call(this),Ke(this,_l,void 0),(e=se(this,Sl))==null||e.call(this),Ke(this,Sl,void 0))}isFetching(t){return se(this,en).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return se(this,Bi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=se(this,en).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=se(this,en).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(vv(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return se(this,en).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=se(this,en).get(r.queryHash),i=s==null?void 0:s.state.data,a=H3(e,i);if(a!==void 0)return se(this,en).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Xn.batch(()=>se(this,en).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=se(this,en).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=se(this,en);Xn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=se(this,en);return Xn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Xn.batch(()=>se(this,en).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(rs).catch(rs)}invalidateQueries(t,e={}){return Xn.batch(()=>(se(this,en).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Xn.batch(()=>se(this,en).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(rs)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(rs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=se(this,en).build(this,e);return n.isStaleByTime(vv(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(rs).catch(rs)}fetchInfiniteQuery(t){return t.behavior=OE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(rs).catch(rs)}ensureInfiniteQueryData(t){return t.behavior=OE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vf.isOnline()?se(this,Bi).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,en)}getMutationCache(){return se(this,Bi)}getDefaultOptions(){return se(this,Hi)}setDefaultOptions(t){Ke(this,Hi,t)}setQueryDefaults(t,e){se(this,Nl).set(Bu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...se(this,Nl).values()],n={};return e.forEach(r=>{Hu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){se(this,Cl).set(Bu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...se(this,Cl).values()],n={};return e.forEach(r=>{Hu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...se(this,Hi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=jx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===kx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...se(this,Hi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){se(this,en).clear(),se(this,Bi).clear()}},en=new WeakMap,Bi=new WeakMap,Hi=new WeakMap,Nl=new WeakMap,Cl=new WeakMap,Wi=new WeakMap,_l=new WeakMap,Sl=new WeakMap,SS),fV=d.createContext(void 0),pV=({client:t,children:e})=>(d.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(fV.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wu.apply(this,arguments)}var Ki;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ki||(Ki={}));const FE="popstate";function mV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return wv("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:VI(s)}return yV(e,n,null,t)}function mn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function OI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gV(){return Math.random().toString(36).substr(2,8)}function $E(t,e){return{usr:t.state,key:t.key,idx:e}}function wv(t,e,n,r){return n===void 0&&(n=null),Wu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jl(e):e,{state:n,key:e&&e.key||r||gV()})}function VI(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Ki.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(Wu({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function p(){l=Ki.Pop;let b=h(),w=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:w})}function m(b,w){l=Ki.Push;let x=wv(y.location,b,w);u=h()+1;let N=$E(x,u),k=y.createHref(x);try{a.pushState(N,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(k)}i&&c&&c({action:l,location:y.location,delta:1})}function g(b,w){l=Ki.Replace;let x=wv(y.location,b,w);u=h();let N=$E(x,u),k=y.createHref(x);a.replaceState(N,"",k),i&&c&&c({action:l,location:y.location,delta:0})}function v(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:VI(b);return x=x.replace(/ $/,"%20"),mn(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let y={get action(){return l},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(FE,p),c=b,()=>{s.removeEventListener(FE,p),c=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let w=v(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:g,go(b){return a.go(b)}};return y}var UE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(UE||(UE={}));function vV(t,e,n){return n===void 0&&(n="/"),xV(t,e,n)}function xV(t,e,n,r){let s=typeof e=="string"?Jl(e):e,i=UI(s.pathname||"/",n);if(i==null)return null;let a=FI(t);wV(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=AV(i);l=IV(a[c],u)}return l}function FI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(mn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Jo([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(mn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),FI(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:jV(u,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of $I(i.path))s(i,a,c)}),e}function $I(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=$I(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function wV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bV=/^:[\w-]+$/,EV=3,NV=2,CV=1,_V=10,SV=-2,zE=t=>t==="*";function jV(t,e){let n=t.split("/"),r=n.length;return n.some(zE)&&(r+=SV),e&&(r+=NV),n.filter(s=>!zE(s)).reduce((s,i)=>s+(bV.test(i)?EV:i===""?CV:_V),r)}function kV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function IV(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=TV({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Jo([i,p.pathname]),pathnameBase:VV(Jo([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=Jo([i,p.pathnameBase]))}return a}function TV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let y=l[p]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[p];return g&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function PV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),OI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function AV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return OI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function UI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function RV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Jl(t):t;return{pathname:n?n.startsWith("/")?n:LV(n,e):e,search:FV(r),hash:$V(s)}}function LV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DV(t,e){let n=MV(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function OV(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Jl(t):(s=Wu({},t),mn(!s.pathname||!s.pathname.includes("?"),qg("?","pathname","search",s)),mn(!s.pathname||!s.pathname.includes("#"),qg("#","pathname","hash",s)),mn(!s.search||!s.search.includes("#"),qg("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}l=p>=0?e[p]:"/"}let c=RV(s,l),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Jo=t=>t.join("/").replace(/\/\/+/g,"/"),VV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$V=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zI=["post","put","patch","delete"];new Set(zI);const zV=["get",...zI];new Set(zV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(this,arguments)}const Ix=d.createContext(null),BV=d.createContext(null),Yp=d.createContext(null),Zp=d.createContext(null),Ca=d.createContext({outlet:null,matches:[],isDataRoute:!1}),BI=d.createContext(null);function Xp(){return d.useContext(Zp)!=null}function Jp(){return Xp()||mn(!1),d.useContext(Zp).location}function HI(t){d.useContext(Yp).static||d.useLayoutEffect(t)}function Ln(){let{isDataRoute:t}=d.useContext(Ca);return t?rF():HV()}function HV(){Xp()||mn(!1);let t=d.useContext(Ix),{basename:e,future:n,navigator:r}=d.useContext(Yp),{matches:s}=d.useContext(Ca),{pathname:i}=Jp(),a=JSON.stringify(DV(s,n.v7_relativeSplatPath)),l=d.useRef(!1);return HI(()=>{l.current=!0}),d.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=OV(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Jo([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,a,i,t])}function WV(){let{matches:t}=d.useContext(Ca),e=t[t.length-1];return e?e.params:{}}function qV(t,e){return GV(t,e)}function GV(t,e,n,r){Xp()||mn(!1);let{navigator:s}=d.useContext(Yp),{matches:i}=d.useContext(Ca),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Jp(),h;if(e){var p;let b=typeof e=="string"?Jl(e):e;c==="/"||(p=b.pathname)!=null&&p.startsWith(c)||mn(!1),h=b}else h=u;let m=h.pathname||"/",g=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=vV(t,{pathname:g}),y=XV(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Jo([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Jo([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&y?d.createElement(Zp.Provider,{value:{location:qu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ki.Pop}},y):y}function KV(){let t=nF(),e=UV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},e),n?d.createElement("pre",{style:s},n):null,null)}const QV=d.createElement(KV,null);class YV extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?d.createElement(Ca.Provider,{value:this.props.routeContext},d.createElement(BI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZV(t){let{routeContext:e,match:n,children:r}=t,s=d.useContext(Ix);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(Ca.Provider,{value:e},r)}function XV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);h>=0||mn(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:m,errors:g}=n,v=p.route.loader&&m[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,m)=>{let g,v=!1,y=null,b=null;n&&(g=l&&p.route.id?l[p.route.id]:void 0,y=p.route.errorElement||QV,c&&(u<0&&m===0?(sF("route-fallback"),v=!0,b=null):u===m&&(v=!0,b=p.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,m+1)),x=()=>{let N;return g?N=y:v?N=b:p.route.Component?N=d.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=h,d.createElement(ZV,{match:p,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?d.createElement(YV,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var WI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(WI||{}),qI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qI||{});function JV(t){let e=d.useContext(Ix);return e||mn(!1),e}function eF(t){let e=d.useContext(BV);return e||mn(!1),e}function tF(t){let e=d.useContext(Ca);return e||mn(!1),e}function GI(t){let e=tF(),n=e.matches[e.matches.length-1];return n.route.id||mn(!1),n.route.id}function nF(){var t;let e=d.useContext(BI),n=eF(),r=GI();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rF(){let{router:t}=JV(WI.UseNavigateStable),e=GI(qI.UseNavigateStable),n=d.useRef(!1);return HI(()=>{n.current=!0}),d.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,qu({fromRouteId:e},i)))},[t,e])}const BE={};function sF(t,e,n){BE[t]||(BE[t]=!0)}function iF(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wn(t){mn(!1)}function oF(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ki.Pop,navigator:i,static:a=!1,future:l}=t;Xp()&&mn(!1);let c=e.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:i,static:a,future:qu({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Jl(r));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:v="default"}=r,y=d.useMemo(()=>{let b=UI(h,c);return b==null?null:{location:{pathname:b,search:p,hash:m,state:g,key:v},navigationType:s}},[c,h,p,m,g,v,s]);return y==null?null:d.createElement(Yp.Provider,{value:u},d.createElement(Zp.Provider,{children:n,value:y}))}function aF(t){let{children:e,location:n}=t;return qV(bv(e),n)}new Promise(()=>{});function bv(t,e){e===void 0&&(e=[]);let n=[];return d.Children.forEach(t,(r,s)=>{if(!d.isValidElement(r))return;let i=[...e,s];if(r.type===d.Fragment){n.push.apply(n,bv(r.props.children,i));return}r.type!==wn&&mn(!1),!r.props.index||!r.props.children||mn(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=bv(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const lF="6";try{window.__reactRouterVersion=lF}catch{}const cF="startTransition",HE=b0[cF];function uF(t){let{basename:e,children:n,future:r,window:s}=t,i=d.useRef();i.current==null&&(i.current=mV({window:s,v5Compat:!0}));let a=i.current,[l,c]=d.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=d.useCallback(p=>{u&&HE?HE(()=>c(p)):c(p)},[c,u]);return d.useLayoutEffect(()=>a.listen(h),[a,h]),d.useEffect(()=>iF(r),[r]),d.createElement(oF,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}var WE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(WE||(WE={}));var qE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qE||(qE={}));const dF=()=>{};var GE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},hF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},QI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,p=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(m=64)),r.push(n[h],n[p],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||p==null)throw new fF;const m=i<<2|l>>4;if(r.push(m),u!==64){const g=l<<4&240|u>>2;if(r.push(g),p!==64){const v=u<<6&192|p;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pF=function(t){const e=KI(t);return QI.encodeByteArray(e,!0)},Ff=function(t){return pF(t).replace(/\./g,"")},YI=function(t){try{return QI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=()=>mF().__FIREBASE_DEFAULTS__,yF=()=>{if(typeof process>"u"||typeof GE>"u")return;const t=GE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YI(t[1]);return e&&JSON.parse(e)},em=()=>{try{return dF()||gF()||yF()||vF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZI=t=>{var e,n;return(n=(e=em())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xF=t=>{const e=ZI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},XI=()=>{var t;return(t=em())===null||t===void 0?void 0:t.config},JI=t=>{var e;return(e=em())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){return t.endsWith(".cloudworkstations.dev")}async function e2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ff(JSON.stringify(n)),Ff(JSON.stringify(a)),""].join(".")}const fu={};function EF(){const t={prod:[],emulator:[]};for(const e of Object.keys(fu))fu[e]?t.emulator.push(e):t.prod.push(e);return t}function NF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let KE=!1;function t2(t,e){if(typeof window>"u"||typeof document>"u"||!ec(window.location.host)||fu[t]===e||fu[t]||KE)return;fu[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=EF().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{KE=!0,a()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=NF(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),w=n("preprendIcon"),x=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const N=m.element;l(N),h(b,y);const k=u();c(x,w),N.append(x,v,b,k),document.body.appendChild(N)}i?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function _F(){var t;const e=(t=em())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IF(){const t=Qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TF(){return!_F()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PF(){try{return typeof indexedDB=="object"}catch{return!1}}function AF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="FirebaseError";class bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RF,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bd.prototype.create)}}class bd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?LF(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new bi(s,l,r)}}function LF(t,e){return t.replace(MF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const MF=/\{\$([^}]+)}/g;function DF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ua(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(QE(i)&&QE(a)){if(!ua(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function QE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function qc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OF(t,e){const n=new VF(t,e);return n.subscribe.bind(n)}class VF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Gg),s.error===void 0&&(s.error=Gg),s.complete===void 0&&(s.complete=Gg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class da{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zF(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UF(t){return t===Vo?void 0:t}function zF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $F(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const HF={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},WF=it.INFO,qF={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},GF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=qF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tx{constructor(e){this.name=e,this._logLevel=WF,this._logHandler=GF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const KF=(t,e)=>e.some(n=>t instanceof n);let YE,ZE;function QF(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YF(){return ZE||(ZE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n2=new WeakMap,Ev=new WeakMap,r2=new WeakMap,Kg=new WeakMap,Px=new WeakMap;function ZF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(ao(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&n2.set(n,t)}).catch(()=>{}),Px.set(e,t),e}function XF(t){if(Ev.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Ev.set(t,e)}let Nv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ev.get(t);if(e==="objectStoreNames")return t.objectStoreNames||r2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ao(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JF(t){Nv=t(Nv)}function e9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qg(this),e,...n);return r2.set(r,e.sort?e.sort():[e]),ao(r)}:YF().includes(t)?function(...e){return t.apply(Qg(this),e),ao(n2.get(this))}:function(...e){return ao(t.apply(Qg(this),e))}}function t9(t){return typeof t=="function"?e9(t):(t instanceof IDBTransaction&&XF(t),KF(t,QF())?new Proxy(t,Nv):t)}function ao(t){if(t instanceof IDBRequest)return ZF(t);if(Kg.has(t))return Kg.get(t);const e=t9(t);return e!==t&&(Kg.set(t,e),Px.set(e,t)),e}const Qg=t=>Px.get(t);function n9(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=ao(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ao(a.result),c.oldVersion,c.newVersion,ao(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const r9=["get","getKey","getAll","getAllKeys","count"],s9=["put","add","delete","clear"],Yg=new Map;function XE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=s9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||r9.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Yg.set(e,i),i}JF(t=>({...t,get:(e,n,r)=>XE(e,n)||t.get(e,n,r),has:(e,n)=>!!XE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(o9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function o9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cv="@firebase/app",JE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new Tx("@firebase/app"),a9="@firebase/app-compat",l9="@firebase/analytics-compat",c9="@firebase/analytics",u9="@firebase/app-check-compat",d9="@firebase/app-check",h9="@firebase/auth",f9="@firebase/auth-compat",p9="@firebase/database",m9="@firebase/data-connect",g9="@firebase/database-compat",y9="@firebase/functions",v9="@firebase/functions-compat",x9="@firebase/installations",w9="@firebase/installations-compat",b9="@firebase/messaging",E9="@firebase/messaging-compat",N9="@firebase/performance",C9="@firebase/performance-compat",_9="@firebase/remote-config",S9="@firebase/remote-config-compat",j9="@firebase/storage",k9="@firebase/storage-compat",I9="@firebase/firestore",T9="@firebase/ai",P9="@firebase/firestore-compat",A9="firebase",R9="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="[DEFAULT]",L9={[Cv]:"fire-core",[a9]:"fire-core-compat",[c9]:"fire-analytics",[l9]:"fire-analytics-compat",[d9]:"fire-app-check",[u9]:"fire-app-check-compat",[h9]:"fire-auth",[f9]:"fire-auth-compat",[p9]:"fire-rtdb",[m9]:"fire-data-connect",[g9]:"fire-rtdb-compat",[y9]:"fire-fn",[v9]:"fire-fn-compat",[x9]:"fire-iid",[w9]:"fire-iid-compat",[b9]:"fire-fcm",[E9]:"fire-fcm-compat",[N9]:"fire-perf",[C9]:"fire-perf-compat",[_9]:"fire-rc",[S9]:"fire-rc-compat",[j9]:"fire-gcs",[k9]:"fire-gcs-compat",[I9]:"fire-fst",[P9]:"fire-fst-compat",[T9]:"fire-vertex","fire-js":"fire-js",[A9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new Map,M9=new Map,Sv=new Map;function eN(t,e){try{t.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dl(t){const e=t.name;if(Sv.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;Sv.set(e,t);for(const n of $f.values())eN(n,t);for(const n of M9.values())eN(n,t);return!0}function Ax(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new bd("app","Firebase",D9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=R9;function s2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_v,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw lo.create("bad-app-name",{appName:String(s)});if(n||(n=XI()),!n)throw lo.create("no-options");const i=$f.get(s);if(i){if(ua(n,i.options)&&ua(r,i.config))return i;throw lo.create("duplicate-app",{appName:s})}const a=new BF(s);for(const c of Sv.values())a.addComponent(c);const l=new O9(n,r,a);return $f.set(s,l),l}function i2(t=_v){const e=$f.get(t);if(!e&&t===_v&&XI())return s2();if(!e)throw lo.create("no-app",{appName:t});return e}function co(t,e,n){var r;let s=(r=L9[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(l.join(" "));return}Dl(new da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="firebase-heartbeat-database",F9=1,Gu="firebase-heartbeat-store";let Zg=null;function o2(){return Zg||(Zg=n9(V9,F9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw lo.create("idb-open",{originalErrorMessage:t.message})})),Zg}async function $9(t){try{const n=(await o2()).transaction(Gu),r=await n.objectStore(Gu).get(a2(t));return await n.done,r}catch(e){if(e instanceof bi)pi.warn(e.message);else{const n=lo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(n.message)}}}async function tN(t,e){try{const r=(await o2()).transaction(Gu,"readwrite");await r.objectStore(Gu).put(e,a2(t)),await r.done}catch(n){if(n instanceof bi)pi.warn(n.message);else{const r=lo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(r.message)}}}function a2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=1024,z9=30;class B9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>z9){const a=q9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nN(),{heartbeatsToSend:r,unsentEntries:s}=H9(this._heartbeatsCache.heartbeats),i=Ff(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return pi.warn(n),""}}}function nN(){return new Date().toISOString().substring(0,10)}function H9(t,e=U9){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),rN(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),rN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class W9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PF()?AF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return tN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return tN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rN(t){return Ff(JSON.stringify({version:2,heartbeats:t})).length}function q9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t){Dl(new da("platform-logger",e=>new i9(e),"PRIVATE")),Dl(new da("heartbeat",e=>new B9(e),"PRIVATE")),co(Cv,JE,t),co(Cv,JE,"esm2017"),co("fire-js","")}G9("");var K9="firebase",Q9="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(K9,Q9,"app");var Rs=function(){return Rs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rs.apply(this,arguments)};function Ed(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Y9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function l2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z9=l2,c2=new bd("auth","Firebase",l2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new Tx("@firebase/auth");function X9(t,...e){Uf.logLevel<=it.WARN&&Uf.warn(`Auth (${nc}): ${t}`,...e)}function Yh(t,...e){Uf.logLevel<=it.ERROR&&Uf.error(`Auth (${nc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,...e){throw Lx(t,...e)}function gr(t,...e){return Lx(t,...e)}function Rx(t,e,n){const r=Object.assign(Object.assign({},Z9()),{[e]:n});return new bd("auth","Firebase",r).create(e,{appName:t.name})}function Vs(t){return Rx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Kr(t,"argument-error"),Rx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return c2.create(t,...e)}function Ce(t,e,...n){if(!t)throw Lx(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yh(e),new Error(e)}function mi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function u2(){return sN()==="http:"||sN()==="https:"}function sN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u2()||jF()||"connection"in navigator)?navigator.onLine:!0}function t8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=CF()||kF()}get(){return e8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t,e){mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s8=new Nd(3e4,6e4);function vr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xr(t,e,n,r,s={}){return h2(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=tc(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return SF()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ec(t.emulatorConfig.host)&&(u.credentials="include"),d2.fetch()(await f2(t,t.config.apiHost,n,l),u)})}async function h2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},n8),e);try{const s=new o8(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Gc(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Gc(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Gc(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Rx(t,h,u);Kr(t,h)}}catch(s){if(s instanceof bi)throw s;Kr(t,"network-request-failed",{message:String(s)})}}async function So(t,e,n,r,s={}){const i=await xr(t,e,n,r,s);return"mfaPendingCredential"in i&&Kr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function f2(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?Mx(t.config,s):`${t.config.apiScheme}://${s}`;return r8.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function i8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),s8.get())})}}function Gc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=gr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t){return t!==void 0&&t.getResponse!==void 0}function oN(t){return t!==void 0&&t.enterprise!==void 0}class p2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return i8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(t){return(await xr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function m2(t,e){return xr(t,"GET","/v2/recaptchaConfig",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l8(t,e){return xr(t,"POST","/v1/accounts:delete",e)}async function zf(t,e){return xr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c8(t,e=!1){const n=Ut(t),r=await n.getIdToken(e),s=Dx(r);Ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:pu(Xg(s.auth_time)),issuedAtTime:pu(Xg(s.iat)),expirationTime:pu(Xg(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Xg(t){return Number(t)*1e3}function Dx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const s=YI(n);return s?JSON.parse(s):(Yh("Failed to decode base64 JWT payload"),null)}catch(s){return Yh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function aN(t){const e=Dx(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bi&&u8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function u8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ha(t,zf(n,{idToken:r}));Ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?g2(i.providerUserInfo):[],l=f8(t.providerData,a),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new kv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function h8(t){const e=Ut(t);await Bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f8(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function g2(t){return t.map(e=>{var{providerId:n}=e,r=Ed(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p8(t,e){const n=await h2(t,{},async()=>{const r=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await f2(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&ec(t.emulatorConfig.host)&&(c.credentials="include"),d2.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m8(t,e){return xr(t,"POST","/v2/accounts:revokeToken",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=aN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await p8(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new dl;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ce(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ed(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new d8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ha(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c8(this,e)}reload(){return h8(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await ha(this,l8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,u,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:N,emailVerified:k,isAnonymous:A,providerData:L,stsTokenManager:C}=n;Ce(N&&C,e,"internal-error");const _=dl.fromJSON(this.name,C);Ce(typeof N=="string",e,"internal-error"),ki(p,e.name),ki(m,e.name),Ce(typeof k=="boolean",e,"internal-error"),Ce(typeof A=="boolean",e,"internal-error"),ki(g,e.name),ki(v,e.name),ki(y,e.name),ki(b,e.name),ki(w,e.name),ki(x,e.name);const S=new cs({uid:N,auth:e,email:m,emailVerified:k,displayName:p,isAnonymous:A,photoURL:v,phoneNumber:g,tenantId:y,stsTokenManager:_,createdAt:w,lastLoginAt:x});return L&&Array.isArray(L)&&(S.providerData=L.map(T=>Object.assign({},T))),b&&(S._redirectEventId=b),S}static async _fromIdTokenResponse(e,n,r=!1){const s=new dl;s.updateFromServerResponse(n);const i=new cs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Bf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?g2(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new dl;l.updateFromIdToken(r);const c=new cs({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new kv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Map;function ri(t){mi(t instanceof Function,"Expected a class definition");let e=lN.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}y2.type="NONE";const cN=y2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t,e,n){return`firebase:${t}:${e}:${n}`}class hl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Zh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Zh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zf(this.auth,{idToken:e}).catch(()=>{});return n?cs._fromGetAccountInfoResponse(this.auth,n,e):null}return cs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hl(ri(cN),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ri(cN);const a=Zh(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(a);if(h){let p;if(typeof h=="string"){const m=await zf(e,{idToken:h}).catch(()=>{});if(!m)break;p=await cs._fromGetAccountInfoResponse(e,m,h)}else p=cs._fromJSON(e,h);u!==i&&(l=p),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new hl(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new hl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N2(e))return"Blackberry";if(C2(e))return"Webos";if(x2(e))return"Safari";if((e.includes("chrome/")||w2(e))&&!e.includes("edge/"))return"Chrome";if(E2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function v2(t=Qn()){return/firefox\//i.test(t)}function x2(t=Qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w2(t=Qn()){return/crios\//i.test(t)}function b2(t=Qn()){return/iemobile/i.test(t)}function E2(t=Qn()){return/android/i.test(t)}function N2(t=Qn()){return/blackberry/i.test(t)}function C2(t=Qn()){return/webos/i.test(t)}function Ox(t=Qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g8(t=Qn()){var e;return Ox(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function y8(){return IF()&&document.documentMode===10}function _2(t=Qn()){return Ox(t)||E2(t)||C2(t)||N2(t)||/windows phone/i.test(t)||b2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t,e=[]){let n;switch(t){case"Browser":n=uN(Qn());break;case"Worker":n=`${uN(Qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(t,e={}){return xr(t,"GET","/v2/passwordPolicy",vr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=6;class b8{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:w8,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dN(this),this.idTokenSubscription=new dN(this),this.beforeStateQueue=new v8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zf(this,{idToken:e}),r=await cs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(Vs(this));const n=e?Ut(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await x8(this),n=new b8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await m8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&X9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ar(t){return Ut(t)}class dN{constructor(e){this.auth=e,this.observer=null,this.addObserver=OF(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N8(t){Cd=t}function Vx(t){return Cd.loadJS(t)}function C8(){return Cd.recaptchaV2Script}function _8(){return Cd.recaptchaEnterpriseScript}function S8(){return Cd.gapiScript}function j2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=500,k8=6e4,_h=1e12;class I8{constructor(e){this.auth=e,this.counter=_h,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new A8(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||_h;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||_h;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||_h;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class T8{constructor(){this.enterprise=new P8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class P8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class A8{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;Ce(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=R8(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},k8)},j8))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function R8(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const L8="recaptcha-enterprise",mu="NO_RECAPTCHA";class k2{constructor(e){this.type=L8,this.auth=Ar(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{m2(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new p2(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;oN(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(mu)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new T8().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&oN(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=_8();c.length!==0&&(c+=l),Vx(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function Oc(t,e,n,r=!1,s=!1){const i=new k2(t);let a;if(s)a=mu;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function fl(t,e,n,r,s){var i,a;if(s==="EMAIL_PASSWORD_PROVIDER")if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Oc(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Oc(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)});else if(s==="PHONE_PROVIDER")if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("PHONE_PROVIDER")){const l=await Oc(t,e,n);return r(t,l).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await Oc(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)})}else{const l=await Oc(t,e,n,!1,!0);return r(t,l)}else return Promise.reject(s+" provider is not supported.")}async function M8(t){const e=Ar(t),n=await m2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new p2(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new k2(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t,e){const n=Ax(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ua(i,e??{}))return s;Kr(s,"already-initialized")}return n.initialize({options:e})}function O8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function V8(t,e,n){const r=Ar(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=I2(e),{host:a,port:l}=F8(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(ua(u,r.config.emulator)&&ua(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ec(a)?(e2(`${i}//${a}${c}`),t2("Auth",!0)):$8()}function I2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function F8(t){const e=I2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:hN(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:hN(a)}}}function hN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function U8(t,e){return xr(t,"POST","/v1/accounts:update",e)}async function z8(t,e){return xr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B8(t,e){return So(t,"POST","/v1/accounts:signInWithPassword",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H8(t,e){return So(t,"POST","/v1/accounts:signInWithEmailLink",vr(t,e))}async function W8(t,e){return So(t,"POST","/v1/accounts:signInWithEmailLink",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends tm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ku(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ku(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fl(e,n,"signInWithPassword",B8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return H8(e,{email:this._email,oobCode:this._password});default:Kr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fl(e,r,"signUpPassword",z8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return W8(e,{idToken:n,email:this._email,oobCode:this._password});default:Kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e){return So(t,"POST","/v1/accounts:signInWithIdp",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="http://localhost";class fa extends tm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ed(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new fa(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return pl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pl(e,n)}buildRequest(){const e={requestUri:q8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(t,e){return xr(t,"POST","/v1/accounts:sendVerificationCode",vr(t,e))}async function G8(t,e){return So(t,"POST","/v1/accounts:signInWithPhoneNumber",vr(t,e))}async function K8(t,e){const n=await So(t,"POST","/v1/accounts:signInWithPhoneNumber",vr(t,e));if(n.temporaryProof)throw Gc(t,"account-exists-with-different-credential",n);return n}const Q8={USER_NOT_FOUND:"user-not-found"};async function Y8(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return So(t,"POST","/v1/accounts:signInWithPhoneNumber",vr(t,n),Q8)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends tm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new ea({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new ea({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return G8(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return K8(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Y8(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i}=e;return!r&&!n&&!s&&!i?null:new ea({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X8(t){const e=Wc(qc(t)).link,n=e?Wc(qc(e)).deep_link_id:null,r=Wc(qc(t)).deep_link_id;return(r?Wc(qc(r)).link:null)||r||n||e||t}class Fx{constructor(e){var n,r,s,i,a,l;const c=Wc(qc(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=Z8((s=c.mode)!==null&&s!==void 0?s:null);Ce(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=X8(e);try{return new Fx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,n){return Ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Fx.parseLink(n);return Ce(r,"argument-error"),Ku._fromEmailAndCode(e,r.code,r.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends $x{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends _d{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends _d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends _d{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends _d{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fi.credential(n,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(t,e){return So(t,"POST","/v1/accounts:signUp",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await cs._fromIdTokenResponse(e,r,s),a=pN(r);return new pa({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=pN(r);return new pa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function pN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends bi{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Hf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Hf(e,n,r,s)}}function T2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Hf._fromErrorAndOperation(t,i,e,r):i})}async function e$(t,e,n=!1){const r=await ha(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(Vs(r));const s="reauthenticate";try{const i=await ha(t,T2(r,s,e,t),n);Ce(i.idToken,r,"internal-error");const a=Dx(i.idToken);Ce(a,r,"internal-error");const{sub:l}=a;return Ce(t.uid===l,r,"user-mismatch"),pa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Kr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(t,e,n=!1){if(ur(t.app))return Promise.reject(Vs(t));const r="signIn",s=await T2(t,r,e),i=await pa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function R2(t,e){return A2(Ar(t),e)}async function t$(t,e){return P2(Ut(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(t){const e=Ar(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function n$(t,e,n){if(ur(t.app))return Promise.reject(Vs(t));const r=Ar(t),a=await fl(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J8,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&L2(t),c}),l=await pa._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function r$(t,e,n){return ur(t.app)?Promise.reject(Vs(t)):R2(Ut(t),_a.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&L2(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s$(t,e){return xr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ut(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await ha(r,s$(r.auth,i));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function i$(t,e){return o$(Ut(t),null,e)}async function o$(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const a=await ha(t,U8(r,i));await t._updateTokensIfNecessary(a,!0)}function a$(t,e,n,r){return Ut(t).onIdTokenChanged(e,n,r)}function l$(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function Sd(t,e,n,r){return Ut(t).onAuthStateChanged(e,n,r)}function D2(t){return Ut(t).signOut()}async function c$(t){return Ut(t).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t,e){return xr(t,"POST","/v2/accounts/mfaEnrollment:start",vr(t,e))}const Wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wf,"1"),this.storage.removeItem(Wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=1e3,d$=10;class V2 extends O2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);y8()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,d$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},u$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V2.type="LOCAL";const h$=V2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends O2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}F2.type="SESSION";const $2=F2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new nm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await f$(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=Ux("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function m$(t){ln().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function g$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function v$(){return zx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="firebaseLocalStorageDb",x$=1,qf="firebaseLocalStorage",z2="fbase_key";class jd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rm(t,e){return t.transaction([qf],e?"readwrite":"readonly").objectStore(qf)}function w$(){const t=indexedDB.deleteDatabase(U2);return new jd(t).toPromise()}function Iv(){const t=indexedDB.open(U2,x$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qf,{keyPath:z2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qf)?e(r):(r.close(),await w$(),e(await Iv()))})})}async function gN(t,e,n){const r=rm(t,!0).put({[z2]:e,value:n});return new jd(r).toPromise()}async function b$(t,e){const n=rm(t,!1).get(e),r=await new jd(n).toPromise();return r===void 0?null:r.value}function yN(t,e){const n=rm(t,!0).delete(e);return new jd(n).toPromise()}const E$=800,N$=3;class B2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>N$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nm._getInstance(v$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await g$(),!this.activeServiceWorker)return;this.sender=new p$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iv();return await gN(e,Wf,"1"),await yN(e,Wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>b$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=rm(s,!1).getAll();return new jd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B2.type="LOCAL";const C$=B2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t,e){return xr(t,"POST","/v2/accounts/mfaSignIn:start",vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=j2("rcb"),_$=new Nd(3e4,6e4);class S${constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ln().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Ce(j$(n),e,"argument-error"),this.shouldResolveImmediately(n)&&iN(ln().grecaptcha)?Promise.resolve(ln().grecaptcha):new Promise((r,s)=>{const i=ln().setTimeout(()=>{s(gr(e,"network-request-failed"))},_$.get());ln()[Jg]=()=>{ln().clearTimeout(i),delete ln()[Jg];const l=ln().grecaptcha;if(!l||!iN(l)){s(gr(e,"internal-error"));return}const c=l.render;l.render=(u,h)=>{const p=c(u,h);return this.counter++,p},this.hostLanguage=n,r(l)};const a=`${C8()}?${tc({onload:Jg,render:"explicit",hl:n})}`;Vx(a).catch(()=>{clearTimeout(i),s(gr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=ln().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function j$(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class k${async load(e){return new I8(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu="recaptcha",I$={theme:"light",type:"image"};class T${constructor(e,n,r=Object.assign({},I$)){this.parameters=r,this.type=gu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ar(e),this.isInvisible=this.parameters.size==="invisible",Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;Ce(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new k$:new S$,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(s=>{const i=a=>{a&&(this.tokenChangeListeners.delete(i),s(a))};this.tokenChangeListeners.add(i),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=ln()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ce(u2()&&!zx(),this.auth,"internal-error"),await P$(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await a8(this.auth);Ce(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function P$(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=ea._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function xN(t,e,n){if(ur(t.app))return Promise.reject(Vs(t));const r=Ar(t),s=await H2(r,e,Ut(n));return new A$(s,i=>R2(r,i))}async function H2(t,e,n){var r;if(!t._getRecaptchaConfig())try{await M8(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const i=s.session;if("phoneNumber"in s){Ce(i.type==="enroll",t,"internal-error");const a={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await fl(t,a,"mfaSmsEnrollment",async(h,p)=>{if(p.phoneEnrollmentInfo.captchaResponse===mu){Ce((n==null?void 0:n.type)===gu,h,"argument-error");const m=await ey(h,p,n);return mN(h,m)}return mN(h,p)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{Ce(i.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;Ce(a,t,"missing-multi-factor-info");const l={mfaPendingCredential:i.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await fl(t,l,"mfaSmsSignIn",async(p,m)=>{if(m.phoneSignInInfo.captchaResponse===mu){Ce((n==null?void 0:n.type)===gu,p,"argument-error");const g=await ey(p,m,n);return vN(p,g)}return vN(p,m)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await fl(t,i,"sendVerificationCode",async(u,h)=>{if(h.captchaResponse===mu){Ce((n==null?void 0:n.type)===gu,u,"argument-error");const p=await ey(u,h,n);return fN(u,p)}return fN(u,h)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function ey(t,e,n){Ce(n.type===gu,t,"argument-error");const r=await n.verify();Ce(typeof r=="string",t,"argument-error");const s=Object.assign({},e);if("phoneEnrollmentInfo"in s){const i=s.phoneEnrollmentInfo.phoneNumber,a=s.phoneEnrollmentInfo.captchaResponse,l=s.phoneEnrollmentInfo.clientType,c=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:r,captchaResponse:a,clientType:l,recaptchaVersion:c}}),s}else if("phoneSignInInfo"in s){const i=s.phoneSignInInfo.captchaResponse,a=s.phoneSignInInfo.clientType,l=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:i,clientType:a,recaptchaVersion:l}}),s}else return Object.assign(s,{recaptchaToken:r}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.providerId=ta.PROVIDER_ID,this.auth=Ar(e)}verifyPhoneNumber(e,n){return H2(this.auth,e,Ut(n))}static credential(e,n){return ea._fromVerification(e,n)}static credentialFromResult(e){const n=e;return ta.credentialFromTaggedObject(n)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?ea._fromTokenResponse(n,r):null}}ta.PROVIDER_ID="phone";ta.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t,e){return e?ri(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends tm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function R$(t){return A2(t.auth,new Bx(t),t.bypassAuthState)}function L$(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),P2(n,new Bx(t),t.bypassAuthState)}async function M$(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),e$(n,new Bx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R$;case"linkViaPopup":case"linkViaRedirect":return M$;case"reauthViaPopup":case"reauthViaRedirect":return L$;default:Kr(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=new Nd(2e3,1e4);async function O$(t,e,n){if(ur(t.app))return Promise.reject(gr(t,"operation-not-supported-in-this-environment"));const r=Ar(t);J9(t,e,$x);const s=W2(r,n);return new Bo(r,"signInViaPopup",e,s).executeNotNull()}class Bo extends q2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=Ux();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,D$.get())};e()}}Bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$="pendingRedirect",Xh=new Map;class F$ extends q2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xh.get(this.auth._key());if(!e){try{const r=await $$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xh.set(this.auth._key(),e)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $$(t,e){const n=B$(e),r=z$(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function U$(t,e){Xh.set(t._key(),e)}function z$(t){return ri(t._redirectPersistence)}function B$(t){return Zh(V$,t.config.apiKey,t.name)}async function H$(t,e){return await Ar(t)._initializationPromise,G2(t,e,!1)}async function G2(t,e,n=!1){if(ur(t.app))return Promise.reject(Vs(t));const r=Ar(t),s=W2(r,e),a=await new F$(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$=10*60*1e3;class q${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!G$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!K2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W$&&this.cachedEventUids.clear(),this.cachedEventUids.has(wN(e))}saveEventToCache(e){this.cachedEventUids.add(wN(e)),this.lastProcessedEventTime=Date.now()}}function wN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function K2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function G$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K$(t,e={}){return xr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y$=/^https?/;async function Z$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await K$(t);for(const n of e)try{if(X$(n))return}catch{}Kr(t,"unauthorized-domain")}function X$(t){const e=jv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Y$.test(n))return!1;if(Q$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=new Nd(3e4,6e4);function bN(){const t=ln().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eU(t){return new Promise((e,n)=>{var r,s,i;function a(){bN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bN(),n(gr(t,"network-request-failed"))},timeout:J$.get()})}if(!((s=(r=ln().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ln().gapi)===null||i===void 0)&&i.load)a();else{const l=j2("iframefcb");return ln()[l]=()=>{gapi.load?a():n(gr(t,"network-request-failed"))},Vx(`${S8()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Jh=null,e})}let Jh=null;function tU(t){return Jh=Jh||eU(t),Jh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=new Nd(5e3,15e3),rU="__/auth/iframe",sU="emulator/auth/iframe",iU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aU(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mx(e,sU):`https://${t.config.authDomain}/${rU}`,r={apiKey:e.apiKey,appName:t.name,v:nc},s=oU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${tc(r).slice(1)}`}async function lU(t){const e=await tU(t),n=ln().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:aU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=gr(t,"network-request-failed"),l=ln().setTimeout(()=>{i(a)},nU.get());function c(){ln().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uU=500,dU=600,hU="_blank",fU="http://localhost";class EN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pU(t,e,n,r=uU,s=dU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},cU),{width:r.toString(),height:s.toString(),top:i,left:a}),u=Qn().toLowerCase();n&&(l=w2(u)?hU:n),v2(u)&&(e=e||fU,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[g,v])=>`${m}${g}=${v},`,"");if(g8(u)&&l!=="_self")return mU(e||"",l),new EN(null);const p=window.open(e||"",l,h);Ce(p,t,"popup-blocked");try{p.focus()}catch{}return new EN(p)}function mU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="__/auth/handler",yU="emulator/auth/handler",vU=encodeURIComponent("fac");async function NN(t,e,n,r,s,i){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nc,eventId:s};if(e instanceof $x){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",DF(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof _d){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${vU}=${encodeURIComponent(c)}`:"";return`${xU(t)}?${tc(l).slice(1)}${u}`}function xU({config:t}){return t.emulator?Mx(t,yU):`https://${t.authDomain}/${gU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="webStorageSupport";class wU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$2,this._completeRedirectFn=G2,this._overrideRedirectResult=U$}async _openPopup(e,n,r,s){var i;mi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await NN(e,n,r,jv(),s);return pU(e,a,Ux())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await NN(e,n,r,jv(),s);return m$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(mi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lU(e),r=new q$(e);return n.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ty,{type:ty},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[ty];a!==void 0&&n(!!a),Kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _2()||x2()||Ox()}}const bU=wU;var CN="@firebase/auth",_N="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CU(t){Dl(new da("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ce(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S2(t)},u=new E8(r,s,i,c);return O8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dl(new da("auth-internal",e=>{const n=Ar(e.getProvider("auth").getImmediate());return(r=>new EU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(CN,_N,NU(t)),co(CN,_N,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=5*60,SU=JI("authIdTokenMaxAge")||_U;let SN=null;const jU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SU)return;const s=n==null?void 0:n.token;SN!==s&&(SN=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function kU(t=i2()){const e=Ax(t,"auth");if(e.isInitialized())return e.getImmediate();const n=D8(t,{popupRedirectResolver:bU,persistence:[C$,h$,$2]}),r=JI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=jU(i.toString());l$(n,a,()=>a(n.currentUser)),a$(n,l=>a(l))}}const s=ZI("auth");return s&&V8(n,`http://${s}`),n}function IU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}N8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=gr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",IU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CU("Browser");var jN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uo,Q2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function S(){}S.prototype=_.prototype,C.D=_.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(T,I,P){for(var R=Array(arguments.length-2),K=2;K<arguments.length;K++)R[K-2]=arguments[K];return _.prototype[I].apply(T,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,_,S){S||(S=0);var T=Array(16);if(typeof _=="string")for(var I=0;16>I;++I)T[I]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(I=0;16>I;++I)T[I]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=C.g[0],S=C.g[1],I=C.g[2];var P=C.g[3],R=_+(P^S&(I^P))+T[0]+3614090360&4294967295;_=S+(R<<7&4294967295|R>>>25),R=P+(I^_&(S^I))+T[1]+3905402710&4294967295,P=_+(R<<12&4294967295|R>>>20),R=I+(S^P&(_^S))+T[2]+606105819&4294967295,I=P+(R<<17&4294967295|R>>>15),R=S+(_^I&(P^_))+T[3]+3250441966&4294967295,S=I+(R<<22&4294967295|R>>>10),R=_+(P^S&(I^P))+T[4]+4118548399&4294967295,_=S+(R<<7&4294967295|R>>>25),R=P+(I^_&(S^I))+T[5]+1200080426&4294967295,P=_+(R<<12&4294967295|R>>>20),R=I+(S^P&(_^S))+T[6]+2821735955&4294967295,I=P+(R<<17&4294967295|R>>>15),R=S+(_^I&(P^_))+T[7]+4249261313&4294967295,S=I+(R<<22&4294967295|R>>>10),R=_+(P^S&(I^P))+T[8]+1770035416&4294967295,_=S+(R<<7&4294967295|R>>>25),R=P+(I^_&(S^I))+T[9]+2336552879&4294967295,P=_+(R<<12&4294967295|R>>>20),R=I+(S^P&(_^S))+T[10]+4294925233&4294967295,I=P+(R<<17&4294967295|R>>>15),R=S+(_^I&(P^_))+T[11]+2304563134&4294967295,S=I+(R<<22&4294967295|R>>>10),R=_+(P^S&(I^P))+T[12]+1804603682&4294967295,_=S+(R<<7&4294967295|R>>>25),R=P+(I^_&(S^I))+T[13]+4254626195&4294967295,P=_+(R<<12&4294967295|R>>>20),R=I+(S^P&(_^S))+T[14]+2792965006&4294967295,I=P+(R<<17&4294967295|R>>>15),R=S+(_^I&(P^_))+T[15]+1236535329&4294967295,S=I+(R<<22&4294967295|R>>>10),R=_+(I^P&(S^I))+T[1]+4129170786&4294967295,_=S+(R<<5&4294967295|R>>>27),R=P+(S^I&(_^S))+T[6]+3225465664&4294967295,P=_+(R<<9&4294967295|R>>>23),R=I+(_^S&(P^_))+T[11]+643717713&4294967295,I=P+(R<<14&4294967295|R>>>18),R=S+(P^_&(I^P))+T[0]+3921069994&4294967295,S=I+(R<<20&4294967295|R>>>12),R=_+(I^P&(S^I))+T[5]+3593408605&4294967295,_=S+(R<<5&4294967295|R>>>27),R=P+(S^I&(_^S))+T[10]+38016083&4294967295,P=_+(R<<9&4294967295|R>>>23),R=I+(_^S&(P^_))+T[15]+3634488961&4294967295,I=P+(R<<14&4294967295|R>>>18),R=S+(P^_&(I^P))+T[4]+3889429448&4294967295,S=I+(R<<20&4294967295|R>>>12),R=_+(I^P&(S^I))+T[9]+568446438&4294967295,_=S+(R<<5&4294967295|R>>>27),R=P+(S^I&(_^S))+T[14]+3275163606&4294967295,P=_+(R<<9&4294967295|R>>>23),R=I+(_^S&(P^_))+T[3]+4107603335&4294967295,I=P+(R<<14&4294967295|R>>>18),R=S+(P^_&(I^P))+T[8]+1163531501&4294967295,S=I+(R<<20&4294967295|R>>>12),R=_+(I^P&(S^I))+T[13]+2850285829&4294967295,_=S+(R<<5&4294967295|R>>>27),R=P+(S^I&(_^S))+T[2]+4243563512&4294967295,P=_+(R<<9&4294967295|R>>>23),R=I+(_^S&(P^_))+T[7]+1735328473&4294967295,I=P+(R<<14&4294967295|R>>>18),R=S+(P^_&(I^P))+T[12]+2368359562&4294967295,S=I+(R<<20&4294967295|R>>>12),R=_+(S^I^P)+T[5]+4294588738&4294967295,_=S+(R<<4&4294967295|R>>>28),R=P+(_^S^I)+T[8]+2272392833&4294967295,P=_+(R<<11&4294967295|R>>>21),R=I+(P^_^S)+T[11]+1839030562&4294967295,I=P+(R<<16&4294967295|R>>>16),R=S+(I^P^_)+T[14]+4259657740&4294967295,S=I+(R<<23&4294967295|R>>>9),R=_+(S^I^P)+T[1]+2763975236&4294967295,_=S+(R<<4&4294967295|R>>>28),R=P+(_^S^I)+T[4]+1272893353&4294967295,P=_+(R<<11&4294967295|R>>>21),R=I+(P^_^S)+T[7]+4139469664&4294967295,I=P+(R<<16&4294967295|R>>>16),R=S+(I^P^_)+T[10]+3200236656&4294967295,S=I+(R<<23&4294967295|R>>>9),R=_+(S^I^P)+T[13]+681279174&4294967295,_=S+(R<<4&4294967295|R>>>28),R=P+(_^S^I)+T[0]+3936430074&4294967295,P=_+(R<<11&4294967295|R>>>21),R=I+(P^_^S)+T[3]+3572445317&4294967295,I=P+(R<<16&4294967295|R>>>16),R=S+(I^P^_)+T[6]+76029189&4294967295,S=I+(R<<23&4294967295|R>>>9),R=_+(S^I^P)+T[9]+3654602809&4294967295,_=S+(R<<4&4294967295|R>>>28),R=P+(_^S^I)+T[12]+3873151461&4294967295,P=_+(R<<11&4294967295|R>>>21),R=I+(P^_^S)+T[15]+530742520&4294967295,I=P+(R<<16&4294967295|R>>>16),R=S+(I^P^_)+T[2]+3299628645&4294967295,S=I+(R<<23&4294967295|R>>>9),R=_+(I^(S|~P))+T[0]+4096336452&4294967295,_=S+(R<<6&4294967295|R>>>26),R=P+(S^(_|~I))+T[7]+1126891415&4294967295,P=_+(R<<10&4294967295|R>>>22),R=I+(_^(P|~S))+T[14]+2878612391&4294967295,I=P+(R<<15&4294967295|R>>>17),R=S+(P^(I|~_))+T[5]+4237533241&4294967295,S=I+(R<<21&4294967295|R>>>11),R=_+(I^(S|~P))+T[12]+1700485571&4294967295,_=S+(R<<6&4294967295|R>>>26),R=P+(S^(_|~I))+T[3]+2399980690&4294967295,P=_+(R<<10&4294967295|R>>>22),R=I+(_^(P|~S))+T[10]+4293915773&4294967295,I=P+(R<<15&4294967295|R>>>17),R=S+(P^(I|~_))+T[1]+2240044497&4294967295,S=I+(R<<21&4294967295|R>>>11),R=_+(I^(S|~P))+T[8]+1873313359&4294967295,_=S+(R<<6&4294967295|R>>>26),R=P+(S^(_|~I))+T[15]+4264355552&4294967295,P=_+(R<<10&4294967295|R>>>22),R=I+(_^(P|~S))+T[6]+2734768916&4294967295,I=P+(R<<15&4294967295|R>>>17),R=S+(P^(I|~_))+T[13]+1309151649&4294967295,S=I+(R<<21&4294967295|R>>>11),R=_+(I^(S|~P))+T[4]+4149444226&4294967295,_=S+(R<<6&4294967295|R>>>26),R=P+(S^(_|~I))+T[11]+3174756917&4294967295,P=_+(R<<10&4294967295|R>>>22),R=I+(_^(P|~S))+T[2]+718787259&4294967295,I=P+(R<<15&4294967295|R>>>17),R=S+(P^(I|~_))+T[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+P&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var S=_-this.blockSize,T=this.B,I=this.h,P=0;P<_;){if(I==0)for(;P<=S;)s(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<_;)if(T[I++]=C.charCodeAt(P++),I==this.blockSize){s(this,T),I=0;break}}else for(;P<_;)if(T[I++]=C[P++],I==this.blockSize){s(this,T),I=0;break}}this.h=I,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var S=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=S&255,S/=256;for(this.u(C),C=Array(16),_=S=0;4>_;++_)for(var T=0;32>T;T+=8)C[S++]=this.g[_]>>>T&255;return C};function i(C,_){var S=l;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=_(C)}function a(C,_){this.h=_;for(var S=[],T=!0,I=C.length-1;0<=I;I--){var P=C[I]|0;T&&P==_||(S[I]=P,T=!1)}this.g=S}var l={};function c(C){return-128<=C&&128>C?i(C,function(_){return new a([_|0],0>_?-1:0)}):new a([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return b(u(-C));for(var _=[],S=1,T=0;C>=S;T++)_[T]=C/S|0,S*=4294967296;return new a(_,0)}function h(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return b(h(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(_,8)),T=p,I=0;I<C.length;I+=8){var P=Math.min(8,C.length-I),R=parseInt(C.substring(I,I+P),_);8>P?(P=u(Math.pow(_,P)),T=T.j(P).add(u(R))):(T=T.j(S),T=T.add(u(R)))}return T}var p=c(0),m=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(y(this))return-b(this).m();for(var C=0,_=1,S=0;S<this.g.length;S++){var T=this.i(S);C+=(0<=T?T:4294967296+T)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(y(this))return"-"+b(this).toString(C);for(var _=u(Math.pow(C,6)),S=this,T="";;){var I=k(S,_).g;S=w(S,I.j(_));var P=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=I,v(S))return P+T;for(;6>P.length;)P="0"+P;T=P+T}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=w(this,C),y(C)?-1:v(C)?0:1};function b(C){for(var _=C.g.length,S=[],T=0;T<_;T++)S[T]=~C.g[T];return new a(S,~C.h).add(m)}t.abs=function(){return y(this)?b(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],T=0,I=0;I<=_;I++){var P=T+(this.i(I)&65535)+(C.i(I)&65535),R=(P>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);T=R>>>16,P&=65535,R&=65535,S[I]=R<<16|P}return new a(S,S[S.length-1]&-2147483648?-1:0)};function w(C,_){return C.add(b(_))}t.j=function(C){if(v(this)||v(C))return p;if(y(this))return y(C)?b(this).j(b(C)):b(b(this).j(C));if(y(C))return b(this.j(b(C)));if(0>this.l(g)&&0>C.l(g))return u(this.m()*C.m());for(var _=this.g.length+C.g.length,S=[],T=0;T<2*_;T++)S[T]=0;for(T=0;T<this.g.length;T++)for(var I=0;I<C.g.length;I++){var P=this.i(T)>>>16,R=this.i(T)&65535,K=C.i(I)>>>16,H=C.i(I)&65535;S[2*T+2*I]+=R*H,x(S,2*T+2*I),S[2*T+2*I+1]+=P*H,x(S,2*T+2*I+1),S[2*T+2*I+1]+=R*K,x(S,2*T+2*I+1),S[2*T+2*I+2]+=P*K,x(S,2*T+2*I+2)}for(T=0;T<_;T++)S[T]=S[2*T+1]<<16|S[2*T];for(T=_;T<2*_;T++)S[T]=0;return new a(S,0)};function x(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function N(C,_){this.g=C,this.h=_}function k(C,_){if(v(_))throw Error("division by zero");if(v(C))return new N(p,p);if(y(C))return _=k(b(C),_),new N(b(_.g),b(_.h));if(y(_))return _=k(C,b(_)),new N(b(_.g),_.h);if(30<C.g.length){if(y(C)||y(_))throw Error("slowDivide_ only works with positive integers.");for(var S=m,T=_;0>=T.l(C);)S=A(S),T=A(T);var I=L(S,1),P=L(T,1);for(T=L(T,2),S=L(S,2);!v(T);){var R=P.add(T);0>=R.l(C)&&(I=I.add(S),P=R),T=L(T,1),S=L(S,1)}return _=w(C,I.j(_)),new N(I,_)}for(I=p;0<=C.l(_);){for(S=Math.max(1,Math.floor(C.m()/_.m())),T=Math.ceil(Math.log(S)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),P=u(S),R=P.j(_);y(R)||0<R.l(C);)S-=T,P=u(S),R=P.j(_);v(P)&&(P=m),I=I.add(P),C=w(C,R)}return new N(I,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],T=0;T<_;T++)S[T]=this.i(T)&C.i(T);return new a(S,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],T=0;T<_;T++)S[T]=this.i(T)|C.i(T);return new a(S,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],T=0;T<_;T++)S[T]=this.i(T)^C.i(T);return new a(S,this.h^C.h)};function A(C){for(var _=C.g.length+1,S=[],T=0;T<_;T++)S[T]=C.i(T)<<1|C.i(T-1)>>>31;return new a(S,C.h)}function L(C,_){var S=_>>5;_%=32;for(var T=C.g.length-S,I=[],P=0;P<T;P++)I[P]=0<_?C.i(P+S)>>>_|C.i(P+S+1)<<32-_:C.i(P+S);return new a(I,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Q2=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,uo=a}).apply(typeof jN<"u"?jN:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y2,Kc,Z2,ef,Tv,X2,J2,eT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,j){return f==Array.prototype||f==Object.prototype||(f[E]=j.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var E=0;E<f.length;++E){var j=f[E];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function s(f,E){if(E)e:{var j=r;f=f.split(".");for(var M=0;M<f.length-1;M++){var G=f[M];if(!(G in j))break e;j=j[G]}f=f[f.length-1],M=j[f],E=E(M),E!=M&&E!=null&&e(j,f,{configurable:!0,writable:!0,value:E})}}function i(f,E){f instanceof String&&(f+="");var j=0,M=!1,G={next:function(){if(!M&&j<f.length){var J=j++;return{value:E(J,f[J]),done:!1}}return M=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(f){return f||function(){return i(this,function(E,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function u(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function h(f,E,j){return f.call.apply(f.bind,arguments)}function p(f,E,j){if(!f)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,M),f.apply(E,G)}}return function(){return f.apply(E,arguments)}}function m(f,E,j){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function g(f,E){var j=Array.prototype.slice.call(arguments,1);return function(){var M=j.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function v(f,E){function j(){}j.prototype=E.prototype,f.aa=E.prototype,f.prototype=new j,f.prototype.constructor=f,f.Qb=function(M,G,J){for(var me=Array(arguments.length-2),At=2;At<arguments.length;At++)me[At-2]=arguments[At];return E.prototype[G].apply(M,me)}}function y(f){const E=f.length;if(0<E){const j=Array(E);for(let M=0;M<E;M++)j[M]=f[M];return j}return[]}function b(f,E){for(let j=1;j<arguments.length;j++){const M=arguments[j];if(c(M)){const G=f.length||0,J=M.length||0;f.length=G+J;for(let me=0;me<J;me++)f[G+me]=M[me]}else f.push(M)}}class w{constructor(E,j){this.i=E,this.j=j,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function x(f){return/^[\s\xa0]*$/.test(f)}function N(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function k(f){return k[" "](f),f}k[" "]=function(){};var A=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function L(f,E,j){for(const M in f)E.call(j,f[M],M,f)}function C(f,E){for(const j in f)E.call(void 0,f[j],j,f)}function _(f){const E={};for(const j in f)E[j]=f[j];return E}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(f,E){let j,M;for(let G=1;G<arguments.length;G++){M=arguments[G];for(j in M)f[j]=M[j];for(let J=0;J<S.length;J++)j=S[J],Object.prototype.hasOwnProperty.call(M,j)&&(f[j]=M[j])}}function I(f){var E=1;f=f.split(":");const j=[];for(;0<E&&f.length;)j.push(f.shift()),E--;return f.length&&j.push(f.join(":")),j}function P(f){l.setTimeout(()=>{throw f},0)}function R(){var f=D;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class K{constructor(){this.h=this.g=null}add(E,j){const M=H.get();M.set(E,j),this.h?this.h.next=M:this.g=M,this.h=M}}var H=new w(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(E,j){this.h=E,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,O=!1,D=new K,B=()=>{const f=l.Promise.resolve(void 0);Y=()=>{f.then(V)}};var V=()=>{for(var f;f=R();){try{f.h.call(f.g)}catch(j){P(j)}var E=H;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}O=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const j=()=>{};l.addEventListener("test",j,E),l.removeEventListener("test",j,E)}catch{}return f}();function W(f,E){if(Q.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var j=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(A){e:{try{k(E.nodeName);var G=!0;break e}catch{}G=!1}G||(E=null)}}else j=="mouseover"?E=f.fromElement:j=="mouseout"&&(E=f.toElement);this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ge[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&W.aa.h.call(this)}}v(W,Q);var ge={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),ce=0;function ve(f,E,j,M,G){this.listener=f,this.proxy=null,this.src=E,this.type=j,this.capture=!!M,this.ha=G,this.key=++ce,this.da=this.fa=!1}function Z(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function X(f){this.src=f,this.g={},this.h=0}X.prototype.add=function(f,E,j,M,G){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var me=xe(f,E,M,G);return-1<me?(E=f[me],j||(E.fa=!1)):(E=new ve(E,this.src,J,!!M,G),E.fa=j,f.push(E)),E};function ne(f,E){var j=E.type;if(j in f.g){var M=f.g[j],G=Array.prototype.indexOf.call(M,E,void 0),J;(J=0<=G)&&Array.prototype.splice.call(M,G,1),J&&(Z(E),f.g[j].length==0&&(delete f.g[j],f.h--))}}function xe(f,E,j,M){for(var G=0;G<f.length;++G){var J=f[G];if(!J.da&&J.listener==E&&J.capture==!!j&&J.ha==M)return G}return-1}var Le="closure_lm_"+(1e6*Math.random()|0),ee={};function Pe(f,E,j,M,G){if(Array.isArray(E)){for(var J=0;J<E.length;J++)Pe(f,E[J],j,M,G);return null}return j=lt(j),f&&f[te]?f.K(E,j,u(M)?!!M.capture:!1,G):qe(f,E,j,!1,M,G)}function qe(f,E,j,M,G,J){if(!E)throw Error("Invalid event type");var me=u(G)?!!G.capture:!!G,At=pe(f);if(At||(f[Le]=At=new X(f)),j=At.add(E,j,M,me,J),j.proxy)return j;if(M=Nt(),j.proxy=M,M.src=f,M.listener=j,f.addEventListener)ie||(G=me),G===void 0&&(G=!1),f.addEventListener(E.toString(),M,G);else if(f.attachEvent)f.attachEvent(ze(E.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Nt(){function f(j){return E.call(f.src,f.listener,j)}const E=q;return f}function Xe(f,E,j,M,G){if(Array.isArray(E))for(var J=0;J<E.length;J++)Xe(f,E[J],j,M,G);else M=u(M)?!!M.capture:!!M,j=lt(j),f&&f[te]?(f=f.i,E=String(E).toString(),E in f.g&&(J=f.g[E],j=xe(J,j,M,G),-1<j&&(Z(J[j]),Array.prototype.splice.call(J,j,1),J.length==0&&(delete f.g[E],f.h--)))):f&&(f=pe(f))&&(E=f.g[E.toString()],f=-1,E&&(f=xe(E,j,M,G)),(j=-1<f?E[f]:null)&&st(j))}function st(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[te])ne(E.i,f);else{var j=f.type,M=f.proxy;E.removeEventListener?E.removeEventListener(j,M,f.capture):E.detachEvent?E.detachEvent(ze(j),M):E.addListener&&E.removeListener&&E.removeListener(M),(j=pe(E))?(ne(j,f),j.h==0&&(j.src=null,E[Le]=null)):Z(f)}}}function ze(f){return f in ee?ee[f]:ee[f]="on"+f}function q(f,E){if(f.da)f=!0;else{E=new W(E,this);var j=f.listener,M=f.ha||f.src;f.fa&&st(f),f=j.call(M,E)}return f}function pe(f){return f=f[Le],f instanceof X?f:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function lt(f){return typeof f=="function"?f:(f[he]||(f[he]=function(E){return f.handleEvent(E)}),f[he])}function oe(){F.call(this),this.i=new X(this),this.M=this,this.F=null}v(oe,F),oe.prototype[te]=!0,oe.prototype.removeEventListener=function(f,E,j,M){Xe(this,f,E,j,M)};function we(f,E){var j,M=f.F;if(M)for(j=[];M;M=M.F)j.push(M);if(f=f.M,M=E.type||E,typeof E=="string")E=new Q(E,f);else if(E instanceof Q)E.target=E.target||f;else{var G=E;E=new Q(M,f),T(E,G)}if(G=!0,j)for(var J=j.length-1;0<=J;J--){var me=E.g=j[J];G=ke(me,M,!0,E)&&G}if(me=E.g=f,G=ke(me,M,!0,E)&&G,G=ke(me,M,!1,E)&&G,j)for(J=0;J<j.length;J++)me=E.g=j[J],G=ke(me,M,!1,E)&&G}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var j=f.g[E],M=0;M<j.length;M++)Z(j[M]);delete f.g[E],f.h--}}this.F=null},oe.prototype.K=function(f,E,j,M){return this.i.add(String(f),E,!1,j,M)},oe.prototype.L=function(f,E,j,M){return this.i.add(String(f),E,!0,j,M)};function ke(f,E,j,M){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var G=!0,J=0;J<E.length;++J){var me=E[J];if(me&&!me.da&&me.capture==j){var At=me.listener,Cn=me.ha||me.src;me.fa&&ne(f.i,me),G=At.call(Cn,M)!==!1&&G}}return G&&!M.defaultPrevented}function wt(f,E,j){if(typeof f=="function")j&&(f=m(f,j));else if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:l.setTimeout(f,E||0)}function kt(f){f.g=wt(()=>{f.g=null,f.i&&(f.i=!1,kt(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class St extends F{constructor(E,j){super(),this.m=E,this.l=j,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rt(f){F.call(this),this.h=f,this.g={}}v(Rt,F);var Mt=[];function Bt(f){L(f.g,function(E,j){this.g.hasOwnProperty(j)&&st(E)},f),f.g={}}Rt.prototype.N=function(){Rt.aa.N.call(this),Bt(this)},Rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var De=l.JSON.stringify,Pt=l.JSON.parse,hn=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function ue(){}ue.prototype.h=null;function Se(f){return f.h||(f.h=f.i())}function He(){}var ft={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ht(){Q.call(this,"d")}v(Ht,Q);function ct(){Q.call(this,"c")}v(ct,Q);var It={},Ae=null;function Qe(){return Ae=Ae||new oe}It.La="serverreachability";function tt(f){Q.call(this,It.La,f)}v(tt,Q);function Zt(f){const E=Qe();we(E,new tt(E))}It.STAT_EVENT="statevent";function xn(f,E){Q.call(this,It.STAT_EVENT,f),this.stat=E}v(xn,Q);function pt(f){const E=Qe();we(E,new xn(E,f))}It.Ma="timingevent";function Ee(f,E){Q.call(this,It.Ma,f),this.size=E}v(Ee,Q);function Xt(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},E)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function FM(f,E,j,M,G,J){f.info(function(){if(f.g)if(J)for(var me="",At=J.split("&"),Cn=0;Cn<At.length;Cn++){var mt=At[Cn].split("=");if(1<mt.length){var Dn=mt[0];mt=mt[1];var On=Dn.split("_");me=2<=On.length&&On[1]=="type"?me+(Dn+"="+mt+"&"):me+(Dn+"=redacted&")}}else me=null;else me=J;return"XMLHTTP REQ ("+M+") [attempt "+G+"]: "+E+`
`+j+`
`+me})}function $M(f,E,j,M,G,J,me){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+G+"]: "+E+`
`+j+`
`+J+" "+me})}function Pa(f,E,j,M){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+zM(f,j)+(M?" "+M:"")})}function UM(f,E){f.info(function(){return"TIMEOUT: "+E})}Mn.prototype.info=function(){};function zM(f,E){if(!f.g)return E;if(!E)return null;try{var j=JSON.parse(E);if(j){for(f=0;f<j.length;f++)if(Array.isArray(j[f])){var M=j[f];if(!(2>M.length)){var G=M[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var me=1;me<G.length;me++)G[me]=""}}}}return De(j)}catch{return E}}var Bd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rg;function Hd(){}v(Hd,ue),Hd.prototype.g=function(){return new XMLHttpRequest},Hd.prototype.i=function(){return{}},rg=new Hd;function Ei(f,E,j,M){this.j=f,this.i=E,this.l=j,this.R=M||1,this.U=new Rt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Eb}function Eb(){this.i=null,this.g="",this.h=!1}var Nb={},sg={};function ig(f,E,j){f.L=1,f.v=Kd(qs(E)),f.m=j,f.P=!0,Cb(f,null)}function Cb(f,E){f.F=Date.now(),Wd(f),f.A=qs(f.v);var j=f.A,M=f.R;Array.isArray(M)||(M=[String(M)]),Vb(j.i,"t",M),f.C=0,j=f.j.J,f.h=new Eb,f.g=n1(f.j,j?E:null,!f.m),0<f.O&&(f.M=new St(m(f.Y,f,f.g),f.O)),E=f.U,j=f.g,M=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(Mt[0]=G.toString()),G=Mt);for(var J=0;J<G.length;J++){var me=Pe(j,G[J],M||E.handleEvent,!1,E.h||E);if(!me)break;E.g[me.key]=me}E=f.H?_(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Zt(),FM(f.i,f.u,f.A,f.l,f.R,f.m)}Ei.prototype.ca=function(f){f=f.target;const E=this.M;E&&Gs(f)==3?E.j():this.Y(f)},Ei.prototype.Y=function(f){try{if(f==this.g)e:{const On=Gs(this.g);var E=this.g.Ba();const La=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||Wb(this.g)))){this.J||On!=4||E==7||(E==8||0>=La?Zt(3):Zt(2)),og(this);var j=this.g.Z();this.X=j;t:if(_b(this)){var M=Wb(this.g);f="";var G=M.length,J=Gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ao(this),xc(this);var me="";break t}this.h.i=new l.TextDecoder}for(E=0;E<G;E++)this.h.h=!0,f+=this.h.i.decode(M[E],{stream:!(J&&E==G-1)});M.length=0,this.h.g+=f,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=j==200,$M(this.i,this.u,this.A,this.l,this.R,On,j),this.o){if(this.T&&!this.K){t:{if(this.g){var At,Cn=this.g;if((At=Cn.g?Cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(At)){var mt=At;break t}}mt=null}if(j=mt)Pa(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ag(this,j);else{this.o=!1,this.s=3,pt(12),Ao(this),xc(this);break e}}if(this.P){j=!0;let Xr;for(;!this.J&&this.C<me.length;)if(Xr=BM(this,me),Xr==sg){On==4&&(this.s=4,pt(14),j=!1),Pa(this.i,this.l,null,"[Incomplete Response]");break}else if(Xr==Nb){this.s=4,pt(15),Pa(this.i,this.l,me,"[Invalid Chunk]"),j=!1;break}else Pa(this.i,this.l,Xr,null),ag(this,Xr);if(_b(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||me.length!=0||this.h.h||(this.s=1,pt(16),j=!1),this.o=this.o&&j,!j)Pa(this.i,this.l,me,"[Invalid Chunked Response]"),Ao(this),xc(this);else if(0<me.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),fg(Dn),Dn.M=!0,pt(11))}}else Pa(this.i,this.l,me,null),ag(this,me);On==4&&Ao(this),this.o&&!this.J&&(On==4?Xb(this.j,this):(this.o=!1,Wd(this)))}else oD(this.g),j==400&&0<me.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Ao(this),xc(this)}}}catch{}finally{}};function _b(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function BM(f,E){var j=f.C,M=E.indexOf(`
`,j);return M==-1?sg:(j=Number(E.substring(j,M)),isNaN(j)?Nb:(M+=1,M+j>E.length?sg:(E=E.slice(M,M+j),f.C=M+j,E)))}Ei.prototype.cancel=function(){this.J=!0,Ao(this)};function Wd(f){f.S=Date.now()+f.I,Sb(f,f.I)}function Sb(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Xt(m(f.ba,f),E)}function og(f){f.B&&(l.clearTimeout(f.B),f.B=null)}Ei.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(UM(this.i,this.A),this.L!=2&&(Zt(),pt(17)),Ao(this),this.s=2,xc(this)):Sb(this,this.S-f)};function xc(f){f.j.G==0||f.J||Xb(f.j,f)}function Ao(f){og(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,Bt(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function ag(f,E){try{var j=f.j;if(j.G!=0&&(j.g==f||lg(j.h,f))){if(!f.K&&lg(j.h,f)&&j.G==3){try{var M=j.Da.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var G=M;if(G[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<f.F)eh(j),Xd(j);else break e;hg(j),pt(18)}}else j.za=G[1],0<j.za-j.T&&37500>G[2]&&j.F&&j.v==0&&!j.C&&(j.C=Xt(m(j.Za,j),6e3));if(1>=Ib(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else Lo(j,11)}else if((f.K||j.g==f)&&eh(j),!x(E))for(G=j.Da.g.parse(E),E=0;E<G.length;E++){let mt=G[E];if(j.T=mt[0],mt=mt[1],j.G==2)if(mt[0]=="c"){j.K=mt[1],j.ia=mt[2];const Dn=mt[3];Dn!=null&&(j.la=Dn,j.j.info("VER="+j.la));const On=mt[4];On!=null&&(j.Aa=On,j.j.info("SVER="+j.Aa));const La=mt[5];La!=null&&typeof La=="number"&&0<La&&(M=1.5*La,j.L=M,j.j.info("backChannelRequestTimeoutMs_="+M)),M=j;const Xr=f.g;if(Xr){const nh=Xr.g?Xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nh){var J=M.h;J.g||nh.indexOf("spdy")==-1&&nh.indexOf("quic")==-1&&nh.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(cg(J,J.h),J.h=null))}if(M.D){const pg=Xr.g?Xr.g.getResponseHeader("X-HTTP-Session-Id"):null;pg&&(M.ya=pg,Dt(M.I,M.D,pg))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-f.F,j.j.info("Handshake RTT: "+j.R+"ms")),M=j;var me=f;if(M.qa=t1(M,M.J?M.ia:null,M.W),me.K){Tb(M.h,me);var At=me,Cn=M.L;Cn&&(At.I=Cn),At.B&&(og(At),Wd(At)),M.g=me}else Yb(M);0<j.i.length&&Jd(j)}else mt[0]!="stop"&&mt[0]!="close"||Lo(j,7);else j.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?Lo(j,7):dg(j):mt[0]!="noop"&&j.l&&j.l.ta(mt),j.v=0)}}Zt(4)}catch{}}var HM=class{constructor(f,E){this.g=f,this.map=E}};function jb(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kb(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ib(f){return f.h?1:f.g?f.g.size:0}function lg(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function cg(f,E){f.g?f.g.add(E):f.h=E}function Tb(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}jb.prototype.cancel=function(){if(this.i=Pb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Pb(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const j of f.g.values())E=E.concat(j.D);return E}return y(f.i)}function WM(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(c(f)){for(var E=[],j=f.length,M=0;M<j;M++)E.push(f[M]);return E}E=[],j=0;for(M in f)E[j++]=f[M];return E}function qM(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||typeof f=="string"){var E=[];f=f.length;for(var j=0;j<f;j++)E.push(j);return E}E=[],j=0;for(const M in f)E[j++]=M;return E}}}function Ab(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(c(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var j=qM(f),M=WM(f),G=M.length,J=0;J<G;J++)E.call(void 0,M[J],j&&j[J],f)}var Rb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GM(f,E){if(f){f=f.split("&");for(var j=0;j<f.length;j++){var M=f[j].indexOf("="),G=null;if(0<=M){var J=f[j].substring(0,M);G=f[j].substring(M+1)}else J=f[j];E(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ro(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ro){this.h=f.h,qd(this,f.j),this.o=f.o,this.g=f.g,Gd(this,f.s),this.l=f.l;var E=f.i,j=new Ec;j.i=E.i,E.g&&(j.g=new Map(E.g),j.h=E.h),Lb(this,j),this.m=f.m}else f&&(E=String(f).match(Rb))?(this.h=!1,qd(this,E[1]||"",!0),this.o=wc(E[2]||""),this.g=wc(E[3]||"",!0),Gd(this,E[4]),this.l=wc(E[5]||"",!0),Lb(this,E[6]||"",!0),this.m=wc(E[7]||"")):(this.h=!1,this.i=new Ec(null,this.h))}Ro.prototype.toString=function(){var f=[],E=this.j;E&&f.push(bc(E,Mb,!0),":");var j=this.g;return(j||E=="file")&&(f.push("//"),(E=this.o)&&f.push(bc(E,Mb,!0),"@"),f.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&f.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&f.push("/"),f.push(bc(j,j.charAt(0)=="/"?YM:QM,!0))),(j=this.i.toString())&&f.push("?",j),(j=this.m)&&f.push("#",bc(j,XM)),f.join("")};function qs(f){return new Ro(f)}function qd(f,E,j){f.j=j?wc(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Gd(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function Lb(f,E,j){E instanceof Ec?(f.i=E,JM(f.i,f.h)):(j||(E=bc(E,ZM)),f.i=new Ec(E,f.h))}function Dt(f,E,j){f.i.set(E,j)}function Kd(f){return Dt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function wc(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function bc(f,E,j){return typeof f=="string"?(f=encodeURI(f).replace(E,KM),j&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function KM(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Mb=/[#\/\?@]/g,QM=/[#\?:]/g,YM=/[#\?]/g,ZM=/[#\?@]/g,XM=/#/g;function Ec(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function Ni(f){f.g||(f.g=new Map,f.h=0,f.i&&GM(f.i,function(E,j){f.add(decodeURIComponent(E.replace(/\+/g," ")),j)}))}t=Ec.prototype,t.add=function(f,E){Ni(this),this.i=null,f=Aa(this,f);var j=this.g.get(f);return j||this.g.set(f,j=[]),j.push(E),this.h+=1,this};function Db(f,E){Ni(f),E=Aa(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function Ob(f,E){return Ni(f),E=Aa(f,E),f.g.has(E)}t.forEach=function(f,E){Ni(this),this.g.forEach(function(j,M){j.forEach(function(G){f.call(E,G,M,this)},this)},this)},t.na=function(){Ni(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),j=[];for(let M=0;M<E.length;M++){const G=f[M];for(let J=0;J<G.length;J++)j.push(E[M])}return j},t.V=function(f){Ni(this);let E=[];if(typeof f=="string")Ob(this,f)&&(E=E.concat(this.g.get(Aa(this,f))));else{f=Array.from(this.g.values());for(let j=0;j<f.length;j++)E=E.concat(f[j])}return E},t.set=function(f,E){return Ni(this),this.i=null,f=Aa(this,f),Ob(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function Vb(f,E,j){Db(f,E),0<j.length&&(f.i=null,f.g.set(Aa(f,E),y(j)),f.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var j=0;j<E.length;j++){var M=E[j];const J=encodeURIComponent(String(M)),me=this.V(M);for(M=0;M<me.length;M++){var G=J;me[M]!==""&&(G+="="+encodeURIComponent(String(me[M]))),f.push(G)}}return this.i=f.join("&")};function Aa(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function JM(f,E){E&&!f.j&&(Ni(f),f.i=null,f.g.forEach(function(j,M){var G=M.toLowerCase();M!=G&&(Db(this,M),Vb(this,G,j))},f)),f.j=E}function eD(f,E){const j=new Mn;if(l.Image){const M=new Image;M.onload=g(Ci,j,"TestLoadImage: loaded",!0,E,M),M.onerror=g(Ci,j,"TestLoadImage: error",!1,E,M),M.onabort=g(Ci,j,"TestLoadImage: abort",!1,E,M),M.ontimeout=g(Ci,j,"TestLoadImage: timeout",!1,E,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else E(!1)}function tD(f,E){const j=new Mn,M=new AbortController,G=setTimeout(()=>{M.abort(),Ci(j,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:M.signal}).then(J=>{clearTimeout(G),J.ok?Ci(j,"TestPingServer: ok",!0,E):Ci(j,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(G),Ci(j,"TestPingServer: error",!1,E)})}function Ci(f,E,j,M,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),M(j)}catch{}}function nD(){this.g=new hn}function rD(f,E,j){const M=j||"";try{Ab(f,function(G,J){let me=G;u(G)&&(me=De(G)),E.push(M+J+"="+encodeURIComponent(me))})}catch(G){throw E.push(M+"type="+encodeURIComponent("_badmap")),G}}function Qd(f){this.l=f.Ub||null,this.j=f.eb||!1}v(Qd,ue),Qd.prototype.g=function(){return new Yd(this.l,this.j)},Qd.prototype.i=function(f){return function(){return f}}({});function Yd(f,E){oe.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Yd,oe),t=Yd.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,Cc(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||l).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nc(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Cc(this)),this.g&&(this.readyState=3,Cc(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fb(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fb(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?Nc(this):Cc(this),this.readyState==3&&Fb(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Nc(this))},t.Qa=function(f){this.g&&(this.response=f,Nc(this))},t.ga=function(){this.g&&Nc(this)};function Nc(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Cc(f)}t.setRequestHeader=function(f,E){this.u.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var j=E.next();!j.done;)j=j.value,f.push(j[0]+": "+j[1]),j=E.next();return f.join(`\r
`)};function Cc(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Yd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function $b(f){let E="";return L(f,function(j,M){E+=M,E+=":",E+=j,E+=`\r
`}),E}function ug(f,E,j){e:{for(M in j){var M=!1;break e}M=!0}M||(j=$b(j),typeof f=="string"?j!=null&&encodeURIComponent(String(j)):Dt(f,E,j))}function Jt(f){oe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Jt,oe);var sD=/^https?$/i,iD=["POST","PUT"];t=Jt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,E,j,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rg.g(),this.v=this.o?Se(this.o):Se(rg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(J){Ub(this,J);return}if(f=j||"",j=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var G in M)j.set(G,M[G]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const J of M.keys())j.set(J,M.get(J));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(j.keys()).find(J=>J.toLowerCase()=="content-type"),G=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(iD,E,void 0))||M||G||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of j)this.g.setRequestHeader(J,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hb(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){Ub(this,J)}};function Ub(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,zb(f),Zd(f)}function zb(f){f.A||(f.A=!0,we(f,"complete"),we(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,we(this,"complete"),we(this,"abort"),Zd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zd(this,!0)),Jt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bb(this):this.bb())},t.bb=function(){Bb(this)};function Bb(f){if(f.h&&typeof a<"u"&&(!f.v[1]||Gs(f)!=4||f.Z()!=2)){if(f.u&&Gs(f)==4)wt(f.Ea,0,f);else if(we(f,"readystatechange"),Gs(f)==4){f.h=!1;try{const me=f.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var j;if(!(j=E)){var M;if(M=me===0){var G=String(f.D).match(Rb)[1]||null;!G&&l.self&&l.self.location&&(G=l.self.location.protocol.slice(0,-1)),M=!sD.test(G?G.toLowerCase():"")}j=M}if(j)we(f,"complete"),we(f,"success");else{f.m=6;try{var J=2<Gs(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",zb(f)}}finally{Zd(f)}}}}function Zd(f,E){if(f.g){Hb(f);const j=f.g,M=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||we(f,"ready");try{j.onreadystatechange=M}catch{}}}function Hb(f){f.I&&(l.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Gs(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Gs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Pt(E)}};function Wb(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function oD(f){const E={};f=(f.g&&2<=Gs(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(x(f[M]))continue;var j=I(f[M]);const G=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const J=E[G]||[];E[G]=J,J.push(j)}C(E,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _c(f,E,j){return j&&j.internalChannelParams&&j.internalChannelParams[f]||E}function qb(f){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_c("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_c("baseRetryDelayMs",5e3,f),this.cb=_c("retryDelaySeedMs",1e4,f),this.Wa=_c("forwardChannelMaxRetries",2,f),this.wa=_c("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new jb(f&&f.concurrentRequestLimit),this.Da=new nD,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qb.prototype,t.la=8,t.G=1,t.connect=function(f,E,j,M){pt(0),this.W=f,this.H=E||{},j&&M!==void 0&&(this.H.OSID=j,this.H.OAID=M),this.F=this.X,this.I=t1(this,null,this.W),Jd(this)};function dg(f){if(Gb(f),f.G==3){var E=f.U++,j=qs(f.I);if(Dt(j,"SID",f.K),Dt(j,"RID",E),Dt(j,"TYPE","terminate"),Sc(f,j),E=new Ei(f,f.j,E),E.L=2,E.v=Kd(qs(j)),j=!1,l.navigator&&l.navigator.sendBeacon)try{j=l.navigator.sendBeacon(E.v.toString(),"")}catch{}!j&&l.Image&&(new Image().src=E.v,j=!0),j||(E.g=n1(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Wd(E)}e1(f)}function Xd(f){f.g&&(fg(f),f.g.cancel(),f.g=null)}function Gb(f){Xd(f),f.u&&(l.clearTimeout(f.u),f.u=null),eh(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function Jd(f){if(!kb(f.h)&&!f.s){f.s=!0;var E=f.Ga;Y||B(),O||(Y(),O=!0),D.add(E,f),f.B=0}}function aD(f,E){return Ib(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Xt(m(f.Ga,f,E),Jb(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new Ei(this,this.j,f);let J=this.o;if(this.S&&(J?(J=_(J),T(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var E=0,j=0;j<this.i.length;j++){t:{var M=this.i[j];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,4096<E){E=j;break e}if(E===4096||j===this.i.length-1){E=j+1;break e}}E=1e3}else E=1e3;E=Qb(this,G,E),j=qs(this.I),Dt(j,"RID",f),Dt(j,"CVER",22),this.D&&Dt(j,"X-HTTP-Session-Id",this.D),Sc(this,j),J&&(this.O?E="headers="+encodeURIComponent(String($b(J)))+"&"+E:this.m&&ug(j,this.m,J)),cg(this.h,G),this.Ua&&Dt(j,"TYPE","init"),this.P?(Dt(j,"$req",E),Dt(j,"SID","null"),G.T=!0,ig(G,j,null)):ig(G,j,E),this.G=2}}else this.G==3&&(f?Kb(this,f):this.i.length==0||kb(this.h)||Kb(this))};function Kb(f,E){var j;E?j=E.l:j=f.U++;const M=qs(f.I);Dt(M,"SID",f.K),Dt(M,"RID",j),Dt(M,"AID",f.T),Sc(f,M),f.m&&f.o&&ug(M,f.m,f.o),j=new Ei(f,f.j,j,f.B+1),f.m===null&&(j.H=f.o),E&&(f.i=E.D.concat(f.i)),E=Qb(f,j,1e3),j.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),cg(f.h,j),ig(j,M,E)}function Sc(f,E){f.H&&L(f.H,function(j,M){Dt(E,M,j)}),f.l&&Ab({},function(j,M){Dt(E,M,j)})}function Qb(f,E,j){j=Math.min(f.i.length,j);var M=f.l?m(f.l.Na,f.l,f):null;e:{var G=f.i;let J=-1;for(;;){const me=["count="+j];J==-1?0<j?(J=G[0].g,me.push("ofs="+J)):J=0:me.push("ofs="+J);let At=!0;for(let Cn=0;Cn<j;Cn++){let mt=G[Cn].g;const Dn=G[Cn].map;if(mt-=J,0>mt)J=Math.max(0,G[Cn].g-100),At=!1;else try{rD(Dn,me,"req"+mt+"_")}catch{M&&M(Dn)}}if(At){M=me.join("&");break e}}}return f=f.i.splice(0,j),E.D=f,M}function Yb(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;Y||B(),O||(Y(),O=!0),D.add(E,f),f.v=0}}function hg(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Xt(m(f.Fa,f),Jb(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Zb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Xt(m(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Xd(this),Zb(this))};function fg(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function Zb(f){f.g=new Ei(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=qs(f.qa);Dt(E,"RID","rpc"),Dt(E,"SID",f.K),Dt(E,"AID",f.T),Dt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&Dt(E,"TO",f.ja),Dt(E,"TYPE","xmlhttp"),Sc(f,E),f.m&&f.o&&ug(E,f.m,f.o),f.L&&(f.g.I=f.L);var j=f.g;f=f.ia,j.L=1,j.v=Kd(qs(E)),j.m=null,j.P=!0,Cb(j,f)}t.Za=function(){this.C!=null&&(this.C=null,Xd(this),hg(this),pt(19))};function eh(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function Xb(f,E){var j=null;if(f.g==E){eh(f),fg(f),f.g=null;var M=2}else if(lg(f.h,E))j=E.D,Tb(f.h,E),M=1;else return;if(f.G!=0){if(E.o)if(M==1){j=E.m?E.m.length:0,E=Date.now()-E.F;var G=f.B;M=Qe(),we(M,new Ee(M,j)),Jd(f)}else Yb(f);else if(G=E.s,G==3||G==0&&0<E.X||!(M==1&&aD(f,E)||M==2&&hg(f)))switch(j&&0<j.length&&(E=f.h,E.i=E.i.concat(j)),G){case 1:Lo(f,5);break;case 4:Lo(f,10);break;case 3:Lo(f,6);break;default:Lo(f,2)}}}function Jb(f,E){let j=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(j*=2),j*E}function Lo(f,E){if(f.j.info("Error code "+E),E==2){var j=m(f.fb,f),M=f.Xa;const G=!M;M=new Ro(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||qd(M,"https"),Kd(M),G?eD(M.toString(),j):tD(M.toString(),j)}else pt(2);f.G=0,f.l&&f.l.sa(E),e1(f),Gb(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function e1(f){if(f.G=0,f.ka=[],f.l){const E=Pb(f.h);(E.length!=0||f.i.length!=0)&&(b(f.ka,E),b(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function t1(f,E,j){var M=j instanceof Ro?qs(j):new Ro(j);if(M.g!="")E&&(M.g=E+"."+M.g),Gd(M,M.s);else{var G=l.location;M=G.protocol,E=E?E+"."+G.hostname:G.hostname,G=+G.port;var J=new Ro(null);M&&qd(J,M),E&&(J.g=E),G&&Gd(J,G),j&&(J.l=j),M=J}return j=f.D,E=f.ya,j&&E&&Dt(M,j,E),Dt(M,"VER",f.la),Sc(f,M),M}function n1(f,E,j){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new Jt(new Qd({eb:j})):new Jt(f.pa),E.Ha(f.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function r1(){}t=r1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function th(){}th.prototype.g=function(f,E){return new wr(f,E)};function wr(f,E){oe.call(this),this.g=new qb(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!x(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!x(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Ra(this)}v(wr,oe),wr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wr.prototype.close=function(){dg(this.g)},wr.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var j={};j.__data__=f,f=j}else this.u&&(j={},j.__data__=De(f),f=j);E.i.push(new HM(E.Ya++,f)),E.G==3&&Jd(E)},wr.prototype.N=function(){this.g.l=null,delete this.j,dg(this.g),delete this.g,wr.aa.N.call(this)};function s1(f){Ht.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const j in E){f=j;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}v(s1,Ht);function i1(){ct.call(this),this.status=1}v(i1,ct);function Ra(f){this.g=f}v(Ra,r1),Ra.prototype.ua=function(){we(this.g,"a")},Ra.prototype.ta=function(f){we(this.g,new s1(f))},Ra.prototype.sa=function(f){we(this.g,new i1)},Ra.prototype.ra=function(){we(this.g,"b")},th.prototype.createWebChannel=th.prototype.g,wr.prototype.send=wr.prototype.o,wr.prototype.open=wr.prototype.m,wr.prototype.close=wr.prototype.close,eT=function(){return new th},J2=function(){return Qe()},X2=It,Tv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bd.NO_ERROR=0,Bd.TIMEOUT=8,Bd.HTTP_ERROR=6,ef=Bd,bb.COMPLETE="complete",Z2=bb,He.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",oe.prototype.listen=oe.prototype.K,Kc=He,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,Y2=Jt}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const kN="@firebase/firestore",IN="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Tx("@firebase/firestore");function Fa(){return ma.logLevel}function Ne(t,...e){if(ma.logLevel<=it.DEBUG){const n=e.map(Hx);ma.debug(`Firestore (${rc}): ${t}`,...n)}}function gi(t,...e){if(ma.logLevel<=it.ERROR){const n=e.map(Hx);ma.error(`Firestore (${rc}): ${t}`,...n)}}function Ol(t,...e){if(ma.logLevel<=it.WARN){const n=e.map(Hx);ma.warn(`Firestore (${rc}): ${t}`,...n)}}function Hx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tT(t,r,n)}function tT(t,e,n){let r=`FIRESTORE (${rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gi(r),new Error(r)}function _t(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||tT(e,s,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bn.UNAUTHENTICATED))}shutdown(){}}class PU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AU{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ai,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ai)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new nT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new Bn(e)}}class RU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new RU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const r=i=>{i.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Ne("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new TN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=DU(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function Pv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Je(r,s);{const i=rT(),a=OU(i.encode(PN(t,n)),i.encode(PN(e,n)));return a!==0?a:Je(r,s)}}n+=r>65535?2:1}return Je(t.length,e.length)}function PN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function OU(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Je(t[n],e[n]);return Je(t.length,e.length)}function Vl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=-62135596800,RN=1e6;class gn{static now(){return gn.fromMillis(Date.now())}static fromDate(e){return gn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RN);return new gn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AN)throw new _e(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RN}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-AN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new gn(0,0))}static max(){return new Ge(new gn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="__name__";class js{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return js.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof js?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=js.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Je(e.length,n.length)}static compareSegments(e,n){const r=js.isNumericId(e),s=js.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?js.extractNumericId(e).compare(js.extractNumericId(n)):Pv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return uo.fromString(e.substring(4,e.length-2))}}class Ft extends js{construct(e,n,r){return new Ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ft(n)}static emptyPath(){return new Ft([])}}const VU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends js{construct(e,n,r){return new jn(e,n,r)}static isValidIdentifier(e){return VU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LN}static keyField(){return new jn([LN])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new _e(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new _e(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new _e(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new _e(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(n)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Ft.fromString(e))}static fromName(e){return new Oe(Ft.fromString(e).popFirst(5))}static empty(){return new Oe(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=-1;function FU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ge.fromTimestamp(r===1e9?new gn(n+1,0):new gn(n,r));return new yo(s,Oe.empty(),e)}function $U(t){return new yo(t.readTime,t.key,Qu)}class yo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yo(Ge.min(),Oe.empty(),Qu)}static max(){return new yo(Ge.max(),Oe.empty(),Qu)}}function UU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==zU)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(s=>s?le.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new le((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{a[u]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new le((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function HU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ic(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}sm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=-1;function im(t){return t==null}function Gf(t){return t===0&&1/t==-1/0}function WU(t){return typeof t=="number"&&Number.isInteger(t)&&!Gf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="";function qU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=MN(e)),e=GU(t.get(n),e);return MN(e)}function GU(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case iT:n+="";break;default:n+=i}}return n}function MN(t){return t+iT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jh(this.root,e,this.comparator,!0)}}class jh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Sn.RED,this.left=s??Sn.EMPTY,this.right=i??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Sn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Sn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ON(this.data.getIterator())}getIteratorFrom(e){return new ON(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yn(this.comparator);return n.data=e,n}}class ON{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new yn(jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aT("Invalid base64 string: "+i):i}}(e);return new An(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const KU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=KU.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xo(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="server_timestamp",cT="__type__",uT="__previous_value__",dT="__local_write_time__";function qx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[cT])===null||n===void 0?void 0:n.stringValue)===lT}function om(t){const e=t.mapValue.fields[uT];return qx(e)?om(e):e}function Yu(t){const e=vo(t.mapValue.fields[dT].timestampValue);return new gn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n,r,s,i,a,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const Kf="(default)";class Zu{constructor(e,n){this.projectId=e,this.database=n||Kf}static empty(){return new Zu("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="__type__",YU="__max__",kh={mapValue:{}},fT="__vector__",Qf="value";function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qx(t)?4:XU(t)?9007199254740991:ZU(t)?10:11:Ue(28295,{value:t})}function Bs(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yu(t).isEqual(Yu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=vo(s.timestampValue),l=vo(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return xo(s.bytesValue).isEqual(xo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return nn(s.geoPointValue.latitude)===nn(i.geoPointValue.latitude)&&nn(s.geoPointValue.longitude)===nn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return nn(s.integerValue)===nn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=nn(s.doubleValue),l=nn(i.doubleValue);return a===l?Gf(a)===Gf(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Vl(t.arrayValue.values||[],e.arrayValue.values||[],Bs);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(DN(a)!==DN(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Bs(a[c],l[c])))return!1;return!0}(t,e);default:return Ue(52216,{left:t})}}function Xu(t,e){return(t.values||[]).find(n=>Bs(n,e))!==void 0}function Fl(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=nn(i.integerValue||i.doubleValue),c=nn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return VN(t.timestampValue,e.timestampValue);case 4:return VN(Yu(t),Yu(e));case 5:return Pv(t.stringValue,e.stringValue);case 6:return function(i,a){const l=xo(i),c=xo(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=Je(l[u],c[u]);if(h!==0)return h}return Je(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Je(nn(i.latitude),nn(a.latitude));return l!==0?l:Je(nn(i.longitude),nn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return FN(t.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,u,h;const p=i.fields||{},m=a.fields||{},g=(l=p[Qf])===null||l===void 0?void 0:l.arrayValue,v=(c=m[Qf])===null||c===void 0?void 0:c.arrayValue,y=Je(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:FN(g,v)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===kh.mapValue&&a===kh.mapValue)return 0;if(i===kh.mapValue)return 1;if(a===kh.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const m=Pv(c[p],h[p]);if(m!==0)return m;const g=Fl(l[c[p]],u[h[p]]);if(g!==0)return g}return Je(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Ue(23264,{Pe:n})}}function VN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=vo(t),r=vo(e),s=Je(n.seconds,r.seconds);return s!==0?s:Je(n.nanos,r.nanos)}function FN(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Fl(n[s],r[s]);if(i)return i}return Je(n.length,r.length)}function $l(t){return Av(t)}function Av(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Av(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Av(n.fields[a])}`;return s+"}"}(t.mapValue):Ue(61005,{value:t})}function tf(t){switch(wo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=om(t);return e?16+tf(e):16;case 5:return 2*t.stringValue.length;case 6:return xo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+tf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return jo(r.fields,(i,a)=>{s+=i.length+tf(a)}),s}(t.mapValue);default:throw Ue(13486,{value:t})}}function $N(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rv(t){return!!t&&"integerValue"in t}function Gx(t){return!!t&&"arrayValue"in t}function UN(t){return!!t&&"nullValue"in t}function zN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nf(t){return!!t&&"mapValue"in t}function ZU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[hT])===null||n===void 0?void 0:n.stringValue)===fT}function yu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(n)}setAll(e){let n=jn.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=yu(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];nf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){jo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new dr(yu(this.value))}}function pT(t){const e=[];return jo(t.fields,(n,r)=>{const s=new jn([n]);if(nf(r)){const i=pT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Wn(e,0,Ge.min(),Ge.min(),Ge.min(),dr.empty(),0)}static newFoundDocument(e,n,r,s){return new Wn(e,1,n,Ge.min(),r,s,0)}static newNoDocument(e,n){return new Wn(e,2,n,Ge.min(),Ge.min(),dr.empty(),0)}static newUnknownDocument(e,n){return new Wn(e,3,n,Ge.min(),Ge.min(),dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n){this.position=e,this.inclusive=n}}function BN(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=Oe.comparator(Oe.fromName(a.referenceValue),n.key):r=Fl(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function HN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n="asc"){this.field=e,this.dir=n}}function JU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mT=class{};class dn extends mT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new t7(e,n,r):n==="array-contains"?new s7(e,r):n==="in"?new i7(e,r):n==="not-in"?new o7(e,r):n==="array-contains-any"?new a7(e,r):new dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new n7(e,r):new r7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fl(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(Fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ws extends mT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ws(e,n)}matches(e){return gT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function gT(t){return t.op==="and"}function yT(t){return e7(t)&&gT(t)}function e7(t){for(const e of t.filters)if(e instanceof ws)return!1;return!0}function Lv(t){if(t instanceof dn)return t.field.canonicalString()+t.op.toString()+$l(t.value);if(yT(t))return t.filters.map(e=>Lv(e)).join(",");{const e=t.filters.map(n=>Lv(n)).join(",");return`${t.op}(${e})`}}function vT(t,e){return t instanceof dn?function(r,s){return s instanceof dn&&r.op===s.op&&r.field.isEqual(s.field)&&Bs(r.value,s.value)}(t,e):t instanceof ws?function(r,s){return s instanceof ws&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&vT(a,s.filters[l]),!0):!1}(t,e):void Ue(19439)}function xT(t){return t instanceof dn?function(n){return`${n.field.canonicalString()} ${n.op} ${$l(n.value)}`}(t):t instanceof ws?function(n){return n.op.toString()+" {"+n.getFilters().map(xT).join(" ,")+"}"}(t):"Filter"}class t7 extends dn{constructor(e,n,r){super(e,n,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class n7 extends dn{constructor(e,n){super(e,"in",n),this.keys=wT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class r7 extends dn{constructor(e,n){super(e,"not-in",n),this.keys=wT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class s7 extends dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gx(n)&&Xu(n.arrayValue,this.value)}}class i7 extends dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xu(this.value.arrayValue,n)}}class o7 extends dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xu(this.value.arrayValue,n)}}class a7 extends dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Ie=null}}function WN(t,e=null,n=[],r=[],s=null,i=null,a=null){return new l7(t,e,n,r,s,i,a)}function Kx(t){const e=We(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),im(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$l(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$l(r)).join(",")),e.Ie=n}return e.Ie}function Qx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HN(t.startAt,e.startAt)&&HN(t.endAt,e.endAt)}function Mv(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function c7(t,e,n,r,s,i,a,l){return new oc(t,e,n,r,s,i,a,l)}function am(t){return new oc(t)}function qN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bT(t){return t.collectionGroup!==null}function vu(t){const e=We(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new yn(jn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Ju(i,r))}),n.has(jn.keyField().canonicalString())||e.Ee.push(new Ju(jn.keyField(),r))}return e.Ee}function Fs(t){const e=We(t);return e.de||(e.de=u7(e,vu(t))),e.de}function u7(t,e){if(t.limitType==="F")return WN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ju(s.field,i)});const n=t.endAt?new Yf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yf(t.startAt.position,t.startAt.inclusive):null;return WN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dv(t,e){const n=t.filters.concat([e]);return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ov(t,e,n){return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lm(t,e){return Qx(Fs(t),Fs(e))&&t.limitType===e.limitType}function ET(t){return`${Kx(Fs(t))}|lt:${t.limitType}`}function $a(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>xT(s)).join(", ")}]`),im(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>$l(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>$l(s)).join(",")),`Target(${r})`}(Fs(t))}; limitType=${t.limitType})`}function cm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of vu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=BN(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,vu(r),s)||r.endAt&&!function(a,l,c){const u=BN(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,vu(r),s))}(t,e)}function d7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NT(t){return(e,n)=>{let r=!1;for(const s of vu(t)){const i=h7(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function h7(t,e,n){const r=t.field.isKeyField()?Oe.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Fl(c,u):Ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return oT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=new Qt(Oe.comparator);function yi(){return f7}const CT=new Qt(Oe.comparator);function Qc(...t){let e=CT;for(const n of t)e=e.insert(n.key,n);return e}function _T(t){let e=CT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ho(){return xu()}function ST(){return xu()}function xu(){return new Sa(t=>t.toString(),(t,e)=>t.isEqual(e))}const p7=new Qt(Oe.comparator),m7=new yn(Oe.comparator);function ot(...t){let e=m7;for(const n of t)e=e.add(n);return e}const g7=new yn(Je);function y7(){return g7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gf(e)?"-0":e}}function jT(t){return{integerValue:""+t}}function v7(t,e){return WU(e)?jT(e):Yx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this._=void 0}}function x7(t,e,n){return t instanceof ed?function(s,i){const a={fields:{[cT]:{stringValue:lT},[dT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&qx(i)&&(i=om(i)),i&&(a.fields[uT]=i),{mapValue:a}}(n,e):t instanceof td?IT(t,e):t instanceof nd?TT(t,e):function(s,i){const a=kT(s,i),l=GN(a)+GN(s.Re);return Rv(a)&&Rv(s.Re)?jT(l):Yx(s.serializer,l)}(t,e)}function w7(t,e,n){return t instanceof td?IT(t,e):t instanceof nd?TT(t,e):n}function kT(t,e){return t instanceof Zf?function(r){return Rv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ed extends um{}class td extends um{constructor(e){super(),this.elements=e}}function IT(t,e){const n=PT(e);for(const r of t.elements)n.some(s=>Bs(s,r))||n.push(r);return{arrayValue:{values:n}}}class nd extends um{constructor(e){super(),this.elements=e}}function TT(t,e){let n=PT(e);for(const r of t.elements)n=n.filter(s=>!Bs(s,r));return{arrayValue:{values:n}}}class Zf extends um{constructor(e,n){super(),this.serializer=e,this.Re=n}}function GN(t){return nn(t.integerValue||t.doubleValue)}function PT(t){return Gx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,n){this.field=e,this.transform=n}}function E7(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof td&&s instanceof td||r instanceof nd&&s instanceof nd?Vl(r.elements,s.elements,Bs):r instanceof Zf&&s instanceof Zf?Bs(r.Re,s.Re):r instanceof ed&&s instanceof ed}(t.transform,e.transform)}class N7{constructor(e,n){this.version=e,this.transformResults=n}}class Hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dm{}function AT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zx(t.key,Hr.none()):new kd(t.key,t.data,Hr.none());{const n=t.data,r=dr.empty();let s=new yn(jn.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new ko(t.key,r,new Sr(s.toArray()),Hr.none())}}function C7(t,e,n){t instanceof kd?function(s,i,a){const l=s.value.clone(),c=QN(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ko?function(s,i,a){if(!rf(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=QN(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(RT(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function wu(t,e,n,r){return t instanceof kd?function(i,a,l,c){if(!rf(i.precondition,a))return l;const u=i.value.clone(),h=YN(i.fieldTransforms,c,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ko?function(i,a,l,c){if(!rf(i.precondition,a))return l;const u=YN(i.fieldTransforms,c,a),h=a.data;return h.setAll(RT(i)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,a,l){return rf(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function _7(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=kT(r.transform,s||null);i!=null&&(n===null&&(n=dr.empty()),n.set(r.field,i))}return n||null}function KN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Vl(r,s,(i,a)=>E7(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kd extends dm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ko extends dm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function RT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function QN(t,e,n){const r=new Map;_t(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,w7(a,l,n[s]))}return r}function YN(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,x7(i,a,e))}return r}class Zx extends dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S7 extends dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&C7(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ST();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=AT(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(n,r)=>KN(n,r))&&Vl(this.baseMutations,e.baseMutations,(n,r)=>KN(n,r))}}class Xx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){_t(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return p7}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Xx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k7=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,dt;function T7(t){switch(t){case ae.OK:return Ue(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function LT(t){if(t===void 0)return gi("GRPC error has no .code"),ae.UNKNOWN;switch(t){case an.OK:return ae.OK;case an.CANCELLED:return ae.CANCELLED;case an.UNKNOWN:return ae.UNKNOWN;case an.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case an.INTERNAL:return ae.INTERNAL;case an.UNAVAILABLE:return ae.UNAVAILABLE;case an.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case an.NOT_FOUND:return ae.NOT_FOUND;case an.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case an.ABORTED:return ae.ABORTED;case an.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case an.DATA_LOSS:return ae.DATA_LOSS;default:return Ue(39323,{code:t})}}(dt=an||(an={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=new uo([4294967295,4294967295],0);function ZN(t){const e=rT().encode(t),n=new Q2;return n.update(e),new Uint8Array(n.digest())}function XN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new uo([n,r],0),new uo([s,i],0)]}class Jx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yc(`Invalid padding: ${n}`);if(r<0)throw new Yc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=uo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(uo.fromNumber(r)));return s.compare(P7)===1&&(s=new uo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=ZN(e),[r,s]=XN(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);if(!this.be(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Jx(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=ZN(e),[r,s]=XN(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Id.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hm(Ge.min(),s,new Qt(Je),yi(),ot())}}class Id{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Id(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class MT{constructor(e,n){this.targetId=e,this.Ce=n}}class DT{constructor(e,n,r=An.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class JN{constructor(){this.Fe=0,this.Me=eC(),this.xe=An.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ot(),n=ot(),r=ot();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ue(38017,{changeType:i})}}),new Id(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=eC()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,_t(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class A7{constructor(e){this.ze=e,this.je=new Map,this.He=yi(),this.Je=Ih(),this.Ye=Ih(),this.Ze=new Qt(Je)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Mv(i))if(r===0){const a=new Oe(i.path);this.tt(n,a,Wn.newNoDocument(a,Ge.min()))}else _t(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const l=this.ct(e),c=l?this.lt(l,e,a):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=xo(r).toUint8Array()}catch(c){if(c instanceof aT)return Ol("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Jx(a,s,i)}catch(c){return Ol(c instanceof Yc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,a)=>{const l=this._t(a);if(l){if(i.current&&Mv(l.target)){const c=new Oe(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,Wn.newNoDocument(c,e))}i.Le&&(n.set(a,i.qe()),i.Qe())}});let r=ot();this.Ye.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,a)=>a.setReadTime(e));const s=new hm(e,n,this.Ze,this.He,r);return this.He=yi(),this.Je=Ih(),this.Ye=Ih(),this.Ze=new Qt(Je),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new JN,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new yn(Je),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new yn(Je),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new JN),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Ih(){return new Qt(Oe.comparator)}function eC(){return new Qt(Oe.comparator)}const R7={asc:"ASCENDING",desc:"DESCENDING"},L7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M7={and:"AND",or:"OR"};class D7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vv(t,e){return t.useProto3Json||im(e)?e:{value:e}}function Xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O7(t,e){return Xf(t,e.toTimestamp())}function $s(t){return _t(!!t,49232),Ge.fromTimestamp(function(n){const r=vo(n);return new gn(r.seconds,r.nanos)}(t))}function ew(t,e){return Fv(t,e).canonicalString()}function Fv(t,e){const n=function(s){return new Ft(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VT(t){const e=Ft.fromString(t);return _t(BT(e),10190,{key:e.toString()}),e}function $v(t,e){return ew(t.databaseId,e.path)}function ny(t,e){const n=VT(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Oe($T(n))}function FT(t,e){return ew(t.databaseId,e)}function V7(t){const e=VT(t);return e.length===4?Ft.emptyPath():$T(e)}function Uv(t){return new Ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $T(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tC(t,e,n){return{name:$v(t,e),fields:n.value.mapValue.fields}}function F7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ue(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(_t(h===void 0||typeof h=="string",58123),An.fromBase64String(h||"")):(_t(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),An.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const h=u.code===void 0?ae.UNKNOWN:LT(u.code);return new _e(h,u.message||"")}(a);n=new DT(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ny(t,r.document.name),i=$s(r.document.updateTime),a=r.document.createTime?$s(r.document.createTime):Ge.min(),l=new dr({mapValue:{fields:r.document.fields}}),c=Wn.newFoundDocument(s,i,a,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new sf(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ny(t,r.document),i=r.readTime?$s(r.readTime):Ge.min(),a=Wn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new sf([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ny(t,r.document),i=r.removedTargetIds||[];n=new sf([],i,s,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new I7(s,i),l=r.targetId;n=new MT(l,a)}}return n}function $7(t,e){let n;if(e instanceof kd)n={update:tC(t,e.key,e.value)};else if(e instanceof Zx)n={delete:$v(t,e.key)};else if(e instanceof ko)n={update:tC(t,e.key,e.data),updateMask:Q7(e.fieldMask)};else{if(!(e instanceof S7))return Ue(16599,{ft:e.type});n={verify:$v(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof ed)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof td)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof nd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Zf)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw Ue(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:O7(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ue(27497)}(t,e.precondition)),n}function U7(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?$s(s.updateTime):$s(i);return a.isEqual(Ge.min())&&(a=$s(i)),new N7(a,s.transformResults||[])}(n,e))):[]}function z7(t,e){return{documents:[FT(t,e.path)]}}function B7(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FT(t,s);const i=function(u){if(u.length!==0)return zT(ws.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:Ua(m.field),direction:q7(m.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Vv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function H7(t){let e=V7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){_t(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const m=UT(p);return m instanceof ws&&yT(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(m=>function(v){return new Ju(za(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,im(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,g=p.values||[];return new Yf(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const m=!p.before,g=p.values||[];return new Yf(g,m)}(n.endAt)),c7(e,s,a,i,l,"F",c,u)}function W7(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=za(n.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=za(n.unaryFilter.field);return dn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=za(n.unaryFilter.field);return dn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=za(n.unaryFilter.field);return dn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return dn.create(za(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ws.create(n.compositeFilter.filters.map(r=>UT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(n.compositeFilter.op))}(t):Ue(30097,{filter:t})}function q7(t){return R7[t]}function G7(t){return L7[t]}function K7(t){return M7[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function za(t){return jn.fromServerFormat(t.fieldPath)}function zT(t){return t instanceof dn?function(n){if(n.op==="=="){if(zN(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(UN(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zN(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(UN(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:G7(n.op),value:n.value}}}(t):t instanceof ws?function(n){const r=n.getFilters().map(s=>zT(s));return r.length===1?r[0]:{compositeFilter:{op:K7(n.op),filters:r}}}(t):Ue(54877,{filter:t})}function Q7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r,s,i=Ge.min(),a=Ge.min(),l=An.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e){this.wt=e}}function Z7(t){const e=H7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ov(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(){this.Cn=new J7}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(yo.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class J7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new yn(Ft.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new yn(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HT=41943040;class lr{static withCacheSize(e){return new lr(e,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(HT,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ul(0)}static lr(){return new Ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="LruGarbageCollector",ez=1048576;function sC([t,e],[n,r]){const s=Je(t,n);return s===0?Je(e,r):s}class tz{constructor(e){this.Er=e,this.buffer=new yn(sC),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ne(rC,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ic(n)?Ne(rC,"Ignoring IndexedDB error during garbage collection: ",n):await sc(n)}await this.mr(3e5)})}}class rz{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(sm.le);const r=new tz(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(nC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nC):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,a,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Fa()<=it.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function sz(t,e){return new rz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(){this.changes=new Sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&wu(r.mutation,s,Sr.empty(),gn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const s=Ho();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=Qc();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ho();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=yi();const a=xu(),l=function(){return xu()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof ko)?i=i.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),wu(h.mutation,u,h.mutation.getFieldMask(),gn.now())):a.set(u.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>{var p;return l.set(u,new oz(h,(p=a.get(u))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=xu();let s=new Qt((a,l)=>a-l),i=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Sr.empty();h=l.applyToLocalView(u,h),r.set(c,h);const p=(s.get(l.batchId)||ot()).add(c);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,p=ST();h.forEach(m=>{if(!i.has(m)){const g=AT(n.get(m),r.get(m));g!==null&&p.set(m,g),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,p))}return le.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return Oe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):le.resolve(Ho());let l=Qu,c=i;return a.next(u=>le.forEach(u,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(h)?le.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ot())).next(h=>({batchId:l,changes:_T(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next(r=>{let s=Qc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Qc();return this.indexManager.getCollectionParents(e,i).next(l=>le.forEach(l,c=>{const u=function(p,m){return new oc(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Wn.newInvalidDocument(h)))});let l=Qc();return a.forEach((c,u)=>{const h=i.get(c);h!==void 0&&wu(h.mutation,u,Sr.empty(),gn.now()),cm(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return le.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:$s(s.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:Z7(s.bundledQuery),readTime:$s(s.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this.overlays=new Qt(Oe.comparator),this.Qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ho();return le.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const s=Ho(),i=n.length+1,a=new Oe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return le.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qt((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Ho(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=Ho(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=s)););return le.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new k7(n,r));let i=this.Qr.get(n);i===void 0&&(i=ot(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.$r=new yn(bn.Ur),this.Kr=new yn(bn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new bn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new bn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Oe(new Ft([])),r=new bn(n,e),s=new bn(n,e+1),i=[];return this.Kr.forEachInRange([r,s],a=>{this.zr(a),i.push(a.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Oe(new Ft([])),r=new bn(n,e),s=new bn(n,e+1);let i=ot();return this.Kr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new bn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Oe.comparator(e.key,n.key)||Je(e.Zr,n.Zr)}static Wr(e,n){return Je(e.Zr,n.Zr)||Oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new yn(bn.Ur)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new j7(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Xr=this.Xr.add(new bn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return le.resolve(a)}lookupMutationBatch(e,n){return le.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return le.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Wx:this.nr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),s=new bn(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],a=>{const l=this.ei(a.Zr);i.push(l)}),le.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yn(Je);return n.forEach(s=>{const i=new bn(s,0),a=new bn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,a],l=>{r=r.add(l.Zr)})}),le.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Oe.isDocumentKey(i)||(i=i.child(""));const a=new bn(new Oe(i),0);let l=new yn(Je);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Zr)),!0)},a),le.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){_t(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return le.forEach(n.mutations,s=>{const i=new bn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new bn(n,0),s=this.Xr.firstAfterOrEqual(r);return le.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.ii=e,this.docs=function(){return new Qt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Wn.newInvalidDocument(s))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=yi();const a=n.path,l=new Oe(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||UU($U(h),r)<=0||(s.has(h.key)||cm(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ue(9500)}si(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fz(this)}getSize(e){return le.resolve(this.size)}}class fz extends iz{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.persistence=e,this.oi=new Sa(n=>Kx(n),Qx),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this._i=0,this.ai=new tw,this.targetCount=0,this.ui=Ul.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),le.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ul(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Tr(n),le.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),le.waitFor(i).next(()=>s)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),le.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){this.ci={},this.overlays={},this.li=new sm(0),this.hi=!1,this.hi=!0,this.Pi=new uz,this.referenceDelegate=e(this),this.Ti=new pz(this),this.indexManager=new X7,this.remoteDocumentCache=function(s){return new hz(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Y7(n),this.Ei=new lz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new dz(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const s=new mz(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return le.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class mz extends BU{constructor(e){super(),this.currentSequenceNumber=e}}class nw{constructor(e){this.persistence=e,this.Vi=new tw,this.mi=null}static fi(e){return new nw(e)}get gi(){if(this.mi)return this.mi;throw Ue(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.gi,r=>{const s=Oe.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,Ge.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return le.or([()=>le.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Jf{constructor(e,n){this.persistence=e,this.yi=new Sa(r=>qU(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=sz(this,n)}static fi(e,n){return new Jf(e,n)}di(){}Ai(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return le.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?le.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,a=>this.Dr(e,a,n).next(l=>{l||(r++,i.removeEntry(a,Ge.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),le.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tf(e.data.value)),n}Dr(e,n,r){return le.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return le.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=ot(),s=ot();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new rw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return TF()?8:HU(Qn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new gz;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Fa()<=it.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),le.resolve()):(Fa()<=it.DEBUG&&Ne("QueryEngine","Query:",$a(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Fa()<=it.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fs(n))):le.resolve())}ws(e,n){if(qN(n))return le.resolve(null);let r=Fs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ov(n,null,"F"),r=Fs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=ot(...i);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,l);return this.Cs(n,u,a,c.readTime)?this.ws(e,Ov(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,s){return qN(n)||s.isEqual(Ge.min())?le.resolve(null):this.ys.getDocuments(e,r).next(i=>{const a=this.vs(n,i);return this.Cs(n,a,r,s)?le.resolve(null):(Fa()<=it.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$a(n)),this.Fs(e,a,n,FU(s,Qu)).next(l=>l))})}vs(e,n){let r=new yn(NT(e));return n.forEach((s,i)=>{cm(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Fa()<=it.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",$a(n)),this.ys.getDocumentsMatchingQuery(e,n,yo.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="LocalStore",vz=3e8;class xz{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Qt(Je),this.Os=new Sa(i=>Kx(i),Qx),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new az(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function wz(t,e,n,r){return new xz(t,e,n,r)}async function qT(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=ot();for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:a,addedBatchIds:l}))})})}function bz(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const p=u.batch,m=p.keys();let g=le.resolve();return m.forEach(v=>{g=g.next(()=>h.getEntry(c,v)).next(y=>{const b=u.docVersions.get(v);_t(b!==null,48541),y.version.compareTo(b)<0&&(p.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ot();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function GT(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Ez(t,e){const n=We(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((h,p)=>{const m=s.get(p);if(!m)return;l.push(n.Ti.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(i,h.addedDocuments,p)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(An.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(p,g),function(y,b,w){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=vz?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,g,h)&&l.push(n.Ti.updateTargetData(i,g))});let c=yi(),u=ot();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(Nz(i,a,e.documentUpdates).next(h=>{c=h.qs,u=h.Qs})),!r.isEqual(Ge.min())){const h=n.Ti.getLastRemoteSnapshotVersion(i).next(p=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return le.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.xs=s,i))}function Nz(t,e,n){let r=ot(),s=ot();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=yi();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ge.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Ne(sw,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{qs:a,Qs:s}})}function Cz(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Wx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _z(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,le.resolve(s)):n.Ti.allocateTargetId(r).next(a=>(s=new Qi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function zv(t,e,n){const r=We(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!ic(a))throw a;Ne(sw,`Failed to update sequence numbers for target ${e}: ${a}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function iC(t,e,n){const r=We(t);let s=Ge.min(),i=ot();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,h){const p=We(c),m=p.Os.get(h);return m!==void 0?le.resolve(p.xs.get(m)):p.Ti.getTargetData(u,h)}(r,a,Fs(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(a,e,n?s:Ge.min(),n?i:ot())).next(l=>(Sz(r,d7(e),l),{documents:l,$s:i})))}function Sz(t,e,n){let r=t.Ns.get(e)||Ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class oC{constructor(){this.activeTargetIds=y7()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jz{constructor(){this.xo=new oC,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new oC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="ConnectivityMonitor";class lC{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ne(aC,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ne(aC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function Bv(){return Th===null?Th=function(){return 268435456+Math.round(2147483648*Math.random())}():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="RestConnection",Iz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tz{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Kf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const a=Bv(),l=this.jo(e,n.toUriEncodedString());Ne(ry,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:u}=new URL(l),h=ec(u);return this.Jo(e,l,c,r,h).then(p=>(Ne(ry,`Received RPC '${e}' ${a}: `,p),p),p=>{throw Ol(ry,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",r),p})}Yo(e,n,r,s,i,a){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=Iz[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class Az extends Tz{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=Bv();return new Promise((l,c)=>{const u=new Y2;u.setWithCredentials(!0),u.listenOnce(Z2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ef.NO_ERROR:const p=u.getResponseJson();Ne(Un,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case ef.TIMEOUT:Ne(Un,`RPC '${e}' ${a} timed out`),c(new _e(ae.DEADLINE_EXCEEDED,"Request time out"));break;case ef.HTTP_ERROR:const m=u.getStatus();if(Ne(Un,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const y=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(x)>=0?x:ae.UNKNOWN}(v.status);c(new _e(y,v.message))}else c(new _e(ae.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new _e(ae.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{h_:e,streamId:a,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{Ne(Un,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);Ne(Un,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",h,r,15)})}I_(e,n,r){const s=Bv(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=eT(),l=J2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");Ne(Un,`Creating RPC '${e}' stream ${s}: ${h}`,c);const p=a.createWebChannel(h,c);this.E_(p);let m=!1,g=!1;const v=new Pz({Zo:b=>{g?Ne(Un,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(m||(Ne(Un,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),Ne(Un,`RPC '${e}' stream ${s} sending:`,b),p.send(b))},Xo:()=>p.close()}),y=(b,w,x)=>{b.listen(w,N=>{try{x(N)}catch(k){setTimeout(()=>{throw k},0)}})};return y(p,Kc.EventType.OPEN,()=>{g||(Ne(Un,`RPC '${e}' stream ${s} transport opened.`),v.__())}),y(p,Kc.EventType.CLOSE,()=>{g||(g=!0,Ne(Un,`RPC '${e}' stream ${s} transport closed`),v.u_(),this.d_(p))}),y(p,Kc.EventType.ERROR,b=>{g||(g=!0,Ol(Un,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),v.u_(new _e(ae.UNAVAILABLE,"The operation could not be completed")))}),y(p,Kc.EventType.MESSAGE,b=>{var w;if(!g){const x=b.data[0];_t(!!x,16349);const N=x,k=(N==null?void 0:N.error)||((w=N[0])===null||w===void 0?void 0:w.error);if(k){Ne(Un,`RPC '${e}' stream ${s} received error:`,k);const A=k.status;let L=function(S){const T=an[S];if(T!==void 0)return LT(T)}(A),C=k.message;L===void 0&&(L=ae.INTERNAL,C="Unknown error status: "+A+" with message "+k.message),g=!0,v.u_(new _e(L,C)),p.close()}else Ne(Un,`RPC '${e}' stream ${s} received:`,x),v.c_(x)}}),y(l,X2.STAT_EVENT,b=>{b.stat===Tv.PROXY?Ne(Un,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Tv.NOPROXY&&Ne(Un,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function sy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t){return new D7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="PersistentStream";class QT{constructor(e,n,r,s,i,a,l,c){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new KT(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new _e(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ne(cC,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Ne(cC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rz extends QT{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=F7(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ge.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ge.min():a.readTime?$s(a.readTime):Ge.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Uv(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Mv(c)?{documents:z7(i,c)}:{query:B7(i,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=OT(i,a.resumeToken);const u=Vv(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Ge.min())>0){l.readTime=Xf(i,a.snapshotVersion.toTimestamp());const u=Vv(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=W7(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Uv(this.serializer),n.removeTarget=e,this.Q_(n)}}class Lz extends QT{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=U7(e.writeResults,e.commitTime),r=$s(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Uv(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$7(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{}class Dz extends Mz{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new _e(ae.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.zo(e,Fv(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new _e(ae.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,Fv(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(ae.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Oz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(gi(n),this.ua=!1):Ne("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class Vz{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(a=>{r.enqueueAndForget(async()=>{ja(this)&&(Ne(ga,"Restarting streams for network reachability change."),await async function(c){const u=We(c);u.da.add(4),await ac(u),u.Va.set("Unknown"),u.da.delete(4),await Td(u)}(this))})}),this.Va=new Oz(r,s)}}async function Td(t){if(ja(t))for(const e of t.Aa)await e(!0)}async function ac(t){for(const e of t.Aa)await e(!1)}function YT(t,e){const n=We(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),lw(n)?aw(n):lc(n).N_()&&ow(n,e))}function iw(t,e){const n=We(t),r=lc(n);n.Ea.delete(e),r.N_()&&ZT(n,e),n.Ea.size===0&&(r.N_()?r.k_():ja(n)&&n.Va.set("Unknown"))}function ow(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lc(t).Z_(e)}function ZT(t,e){t.ma.Ke(e),lc(t).X_(e)}function aw(t){t.ma=new A7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),lc(t).start(),t.Va.ca()}function lw(t){return ja(t)&&!lc(t).O_()&&t.Ea.size>0}function ja(t){return We(t).da.size===0}function XT(t){t.ma=void 0}async function Fz(t){t.Va.set("Online")}async function $z(t){t.Ea.forEach((e,n)=>{ow(t,e)})}async function Uz(t,e){XT(t),lw(t)?(t.Va.Pa(e),aw(t)):t.Va.set("Unknown")}async function zz(t,e,n){if(t.Va.set("Online"),e instanceof DT&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(r){Ne(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ep(t,r)}else if(e instanceof sf?t.ma.Xe(e):e instanceof MT?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ge.min()))try{const r=await GT(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.ma.It(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ea.get(u);h&&i.Ea.set(u,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const h=i.Ea.get(c);if(!h)return;i.Ea.set(c,h.withResumeToken(An.EMPTY_BYTE_STRING,h.snapshotVersion)),ZT(i,c);const p=new Qi(h.target,c,u,h.sequenceNumber);ow(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ne(ga,"Failed to raise snapshot:",r),await ep(t,r)}}async function ep(t,e,n){if(!ic(e))throw e;t.da.add(1),await ac(t),t.Va.set("Offline"),n||(n=()=>GT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne(ga,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Td(t)})}function JT(t,e){return e().catch(n=>ep(t,n,e))}async function pm(t){const e=We(t),n=bo(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Wx;for(;Bz(e);)try{const s=await Cz(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,Hz(e,s)}catch(s){await ep(e,s)}eP(e)&&tP(e)}function Bz(t){return ja(t)&&t.Ia.length<10}function Hz(t,e){t.Ia.push(e);const n=bo(t);n.N_()&&n.ea&&n.ta(e.mutations)}function eP(t){return ja(t)&&!bo(t).O_()&&t.Ia.length>0}function tP(t){bo(t).start()}async function Wz(t){bo(t).ia()}async function qz(t){const e=bo(t);for(const n of t.Ia)e.ta(n.mutations)}async function Gz(t,e,n){const r=t.Ia.shift(),s=Xx.from(r,e,n);await JT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await pm(t)}async function Kz(t,e){e&&bo(t).ea&&await async function(r,s){if(function(a){return T7(a)&&a!==ae.ABORTED}(s.code)){const i=r.Ia.shift();bo(r).L_(),await JT(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await pm(r)}}(t,e),eP(t)&&tP(t)}async function uC(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),Ne(ga,"RemoteStore received new credentials");const r=ja(n);n.da.add(3),await ac(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Td(n)}async function Qz(t,e){const n=We(t);e?(n.da.delete(2),await Td(n)):e||(n.da.add(2),await ac(n),n.Va.set("Unknown"))}function lc(t){return t.fa||(t.fa=function(n,r,s){const i=We(n);return i.oa(),new Rz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:Fz.bind(null,t),n_:$z.bind(null,t),i_:Uz.bind(null,t),Y_:zz.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),lw(t)?aw(t):t.Va.set("Unknown")):(await t.fa.stop(),XT(t))})),t.fa}function bo(t){return t.ga||(t.ga=function(n,r,s){const i=We(n);return i.oa(),new Lz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Wz.bind(null,t),i_:Kz.bind(null,t),na:qz.bind(null,t),ra:Gz.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await pm(t)):(await t.ga.stop(),t.Ia.length>0&&(Ne(ga,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new cw(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uw(t,e){if(gi("AsyncQueue",`${e}: ${t}`),ic(t))return new _e(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Oe.comparator(n.key,r.key):(n,r)=>Oe.comparator(n.key,r.key),this.keyedMap=Qc(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ml;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.pa=new Qt(Oe.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ue(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class zl{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new zl(e,n,ml.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Zz{constructor(){this.queries=hC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=We(n),i=s.queries;s.queries=hC(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new _e(ae.ABORTED,"Firestore shutting down"))}}function hC(){return new Sa(t=>ET(t),lm)}async function dw(t,e){const n=We(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new Yz,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=uw(a,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&fw(n)}async function hw(t,e){const n=We(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Xz(t,e){const n=We(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Ma(s)&&(r=!0);a.ba=s}}r&&fw(n)}function Jz(t,e,n){const r=We(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function fw(t){t.Ca.forEach(e=>{e.next()})}var Hv,fC;(fC=Hv||(Hv={})).xa="default",fC.Cache="cache";class pw{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Hv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.key=e}}class rP{constructor(e){this.key=e}}class eB{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ot(),this.mutatedKeys=ot(),this.Za=NT(e),this.Xa=new ml(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new dC,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const m=s.get(h),g=cm(this.query,p)?p:null,v=!!m&&this.mutatedKeys.has(m.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;m&&g?m.data.isEqual(g.data)?v!==y&&(r.track({type:3,doc:g}),b=!0):this.ru(m,g)||(r.track({type:2,doc:g}),b=!0,(c&&this.Za(g,c)>0||u&&this.Za(g,u)<0)&&(l=!0)):!m&&g?(r.track({type:0,doc:g}),b=!0):m&&!g&&(r.track({type:1,doc:m}),b=!0,(c||u)&&(l=!0)),b&&(g?(a=a.add(g),i=y?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Xa:a,nu:r,Cs:l,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((h,p)=>function(g,v){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:b})}};return y(g)-y(v)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),s=s!=null&&s;const l=n&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,u=c!==this.Ja;return this.Ja=c,a.length!==0||u?{snapshot:new zl(this.query,e.Xa,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new dC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ot(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new rP(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new nP(r))}),n}au(e){this.Ha=e.$s,this.Ya=ot();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return zl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const mw="SyncEngine";class tB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nB{constructor(e){this.key=e,this.cu=!1}}class rB{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Sa(l=>ET(l),lm),this.Pu=new Map,this.Tu=new Set,this.Iu=new Qt(Oe.comparator),this.Eu=new Map,this.du=new tw,this.Au={},this.Ru=new Map,this.Vu=Ul.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function sB(t,e,n=!0){const r=cP(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await sP(r,e,n,!0),s}async function iB(t,e){const n=cP(t);await sP(n,e,!0,!1)}async function sP(t,e,n,r){const s=await _z(t.localStore,Fs(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await oB(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&YT(t.remoteStore,s),l}async function oB(t,e,n,r,s){t.fu=(p,m,g)=>async function(y,b,w,x){let N=b.view.tu(w);N.Cs&&(N=await iC(y.localStore,b.query,!1).then(({documents:C})=>b.view.tu(C,N)));const k=x&&x.targetChanges.get(b.targetId),A=x&&x.targetMismatches.get(b.targetId)!=null,L=b.view.applyChanges(N,y.isPrimaryClient,k,A);return mC(y,b.targetId,L.ou),L.snapshot}(t,p,m,g);const i=await iC(t.localStore,e,!0),a=new eB(e,i.$s),l=a.tu(i.documents),c=Id.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);mC(t,n,u.ou);const h=new tB(e,n,a);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function aB(t,e,n){const r=We(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(a=>!lm(a,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await zv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&iw(r.remoteStore,s.targetId),Wv(r,s.targetId)}).catch(sc)):(Wv(r,s.targetId),await zv(r.localStore,s.targetId,!0))}async function lB(t,e){const n=We(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iw(n.remoteStore,r.targetId))}async function cB(t,e,n){const r=gB(t);try{const s=await function(a,l){const c=We(a),u=gn.now(),h=l.reduce((g,v)=>g.add(v.key),ot());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=yi(),y=ot();return c.Bs.getEntries(g,h).next(b=>{v=b,v.forEach((w,x)=>{x.isValidDocument()||(y=y.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,v)).next(b=>{p=b;const w=[];for(const x of l){const N=_7(x,p.get(x.key).overlayedDocument);N!=null&&w.push(new ko(x.key,N,pT(N.value.mapValue),Hr.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,w,l)}).next(b=>{m=b;const w=b.applyToLocalDocumentSet(p,y);return c.documentOverlayCache.saveOverlays(g,b.batchId,w)})}).then(()=>({batchId:m.batchId,changes:_T(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Au[a.currentUser.toKey()];u||(u=new Qt(Je)),u=u.insert(l,c),a.Au[a.currentUser.toKey()]=u}(r,s.batchId,n),await Pd(r,s.changes),await pm(r.remoteStore)}catch(s){const i=uw(s,"Failed to persist write");n.reject(i)}}async function iP(t,e){const n=We(t);try{const r=await Ez(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Eu.get(i);a&&(_t(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?_t(a.cu,14607):s.removedDocuments.size>0&&(_t(a.cu,42227),a.cu=!1))}),await Pd(n,r,e)}catch(r){await sc(r)}}function pC(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,a)=>{const l=a.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=We(a);c.onlineState=l;let u=!1;c.queries.forEach((h,p)=>{for(const m of p.Sa)m.Fa(l)&&(u=!0)}),u&&fw(c)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uB(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let a=new Qt(Oe.comparator);a=a.insert(i,Wn.newNoDocument(i,Ge.min()));const l=ot().add(i),c=new hm(Ge.min(),new Map,new Qt(Je),a,l);await iP(r,c),r.Iu=r.Iu.remove(i),r.Eu.delete(e),gw(r)}else await zv(r.localStore,e,!1).then(()=>Wv(r,e,n)).catch(sc)}async function dB(t,e){const n=We(t),r=e.batch.batchId;try{const s=await bz(n.localStore,e);aP(n,r,null),oP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pd(n,s)}catch(s){await sc(s)}}async function hB(t,e,n){const r=We(t);try{const s=await function(a,l){const c=We(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(p=>(_t(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);aP(r,e,n),oP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pd(r,s)}catch(s){await sc(s)}}function oP(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function aP(t,e,n){const r=We(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function Wv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||lP(t,r)})}function lP(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(iw(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),gw(t))}function mC(t,e,n){for(const r of n)r instanceof nP?(t.du.addReference(r.key,e),fB(t,r)):r instanceof rP?(Ne(mw,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||lP(t,r.key)):Ue(19791,{pu:r})}function fB(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Ne(mw,"New document in limbo: "+n),t.Tu.add(r),gw(t))}function gw(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Oe(Ft.fromString(e)),r=t.Vu.next();t.Eu.set(r,new nB(n)),t.Iu=t.Iu.insert(n,r),YT(t.remoteStore,new Qi(Fs(am(n.path)),r,"TargetPurposeLimboResolution",sm.le))}}async function Pd(t,e,n){const r=We(t),s=[],i=[],a=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{a.push(r.fu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){s.push(u);const p=rw.Rs(c.targetId,u);i.push(p)}}))}),await Promise.all(a),r.lu.Y_(s),await async function(c,u){const h=We(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>le.forEach(u,m=>le.forEach(m.ds,g=>h.persistence.referenceDelegate.addReference(p,m.targetId,g)).next(()=>le.forEach(m.As,g=>h.persistence.referenceDelegate.removeReference(p,m.targetId,g)))))}catch(p){if(!ic(p))throw p;Ne(sw,"Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const g=h.xs.get(m),v=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(v);h.xs=h.xs.insert(m,y)}}}(r.localStore,i))}async function pB(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){Ne(mw,"User change. New user:",e.toKey());const r=await qT(n.localStore,e);n.currentUser=e,function(i,a){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new _e(ae.CANCELLED,a))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pd(n,r.ks)}}function mB(t,e){const n=We(t),r=n.Eu.get(e);if(r&&r.cu)return ot().add(r.key);{let s=ot();const i=n.Pu.get(e);if(!i)return s;for(const a of i){const l=n.hu.get(a);s=s.unionWith(l.view.eu)}return s}}function cP(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uB.bind(null,e),e.lu.Y_=Xz.bind(null,e.eventManager),e.lu.gu=Jz.bind(null,e.eventManager),e}function gB(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hB.bind(null,e),e}class tp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return wz(this.persistence,new yz,e.initialUser,this.serializer)}Su(e){return new WT(nw.fi,this.serializer)}bu(e){return new jz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tp.provider={build:()=>new tp};class yB extends tp{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){_t(this.persistence.referenceDelegate instanceof Jf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nz(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?lr.withCacheSize(this.cacheSizeBytes):lr.DEFAULT;return new WT(r=>Jf.fi(r,n),this.serializer)}}class qv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pB.bind(null,this.syncEngine),await Qz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Zz}()}createDatastore(e){const n=fm(e.databaseInfo.databaseId),r=function(i){return new Az(i)}(e.databaseInfo);return function(i,a,l,c){return new Dz(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new Vz(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>pC(this.syncEngine,n,0),function(){return lC.C()?new lC:new kz}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,h){const p=new rB(s,i,a,l,c,u);return h&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=We(s);Ne(ga,"RemoteStore shutting down."),i.da.add(5),await ac(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qv.provider={build:()=>new qv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="FirestoreClient";class vB{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Bn.UNAUTHENTICATED,this.clientId=sT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{Ne(Eo,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Ne(Eo,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function iy(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(Eo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await qT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uP(t);Ne(Eo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>uC(e.remoteStore,s)),t._onlineComponents=e}async function uP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(Eo,"Using user provided OfflineComponentProvider");try{await iy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ol("Error using user provided cache. Falling back to memory cache: "+n),await iy(t,new tp)}}else Ne(Eo,"Using default OfflineComponentProvider"),await iy(t,new yB(void 0));return t._offlineComponents}async function vw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(Eo,"Using user provided OnlineComponentProvider"),await gC(t,t._uninitializedComponentsProvider._online)):(Ne(Eo,"Using default OnlineComponentProvider"),await gC(t,new qv))),t._onlineComponents}function dP(t){return uP(t).then(e=>e.persistence)}function hP(t){return vw(t).then(e=>e.remoteStore)}function xB(t){return vw(t).then(e=>e.syncEngine)}async function np(t){const e=await vw(t),n=e.eventManager;return n.onListen=sB.bind(null,e.syncEngine),n.onUnlisten=aB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lB.bind(null,e.syncEngine),n}function wB(t){return t.asyncQueue.enqueue(async()=>{const e=await dP(t),n=await hP(t);return e.setNetworkEnabled(!0),function(s){const i=We(s);return i.da.delete(0),Td(i)}(n)})}function bB(t){return t.asyncQueue.enqueue(async()=>{const e=await dP(t),n=await hP(t);return e.setNetworkEnabled(!1),async function(s){const i=We(s);i.da.add(0),await ac(i),i.Va.set("Offline")}(n)})}function EB(t,e,n={}){const r=new ai;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new yw({next:m=>{h.xu(),a.enqueueAndForget(()=>hw(i,p));const g=m.docs.has(l);!g&&m.fromCache?u.reject(new _e(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new _e(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new pw(am(l.path),h,{includeMetadataChanges:!0,Qa:!0});return dw(i,p)}(await np(t),t.asyncQueue,e,n,r)),r.promise}function NB(t,e,n={}){const r=new ai;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new yw({next:m=>{h.xu(),a.enqueueAndForget(()=>hw(i,p)),m.fromCache&&c.source==="server"?u.reject(new _e(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new pw(l,h,{includeMetadataChanges:!0,Qa:!0});return dw(i,p)}(await np(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t,e,n){if(!n)throw new _e(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CB(t,e,n,r){if(e===!0&&r===!0)throw new _e(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vC(t){if(!Oe.isDocumentKey(t))throw new _e(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xC(t){if(Oe.isDocumentKey(t))throw new _e(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mm(t);throw new _e(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="firestore.googleapis.com",wC=!0;class bC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mP,this.ssl=wC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:wC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ez)throw new _e(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new TU;switch(r.type){case"firstParty":return new LU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yC.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),yC.delete(n),r.terminate())}(this),Promise.resolve()}}function _B(t,e,n,r={}){var s;t=qn(t,gm);const i=ec(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(e2(`https://${c}`),t2("Firestore",!0)),a.host!==mP&&a.host!==c&&Ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:i,emulatorOptions:r});if(!ua(u,l)&&(t._setSettings(u),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Bn.MOCK_USER;else{h=bF(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new _e(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Bn(m)}t._authCredentials=new PU(new nT(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class Gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}}class ho extends Io{constructor(e,n,r){super(e,n,am(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new Oe(e))}withConverter(e){return new ho(this.firestore,e,this._path)}}function on(t,e,...n){if(t=Ut(t),pP("collection","path",e),t instanceof gm){const r=Ft.fromString(e,...n);return xC(r),new ho(t,null,r)}{if(!(t instanceof Gn||t instanceof ho))throw new _e(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ft.fromString(e,...n));return xC(r),new ho(t.firestore,null,r)}}function Ct(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=sT.newId()),pP("doc","path",e),t instanceof gm){const r=Ft.fromString(e,...n);return vC(r),new Gn(t,null,new Oe(r))}{if(!(t instanceof Gn||t instanceof ho))throw new _e(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ft.fromString(e,...n));return vC(r),new Gn(t.firestore,t instanceof ho?t.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="AsyncQueue";class NC{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new KT(this,"async_queue_retry"),this.rc=()=>{const r=sy();r&&Ne(EC,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=sy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=sy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ai;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ic(e))throw e;Ne(EC,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,gi("INTERNAL UNHANDLED ERROR: ",CC(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=cw.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&Ue(47125,{cc:CC(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function CC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class bs extends gm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new NC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NC(e),this._firestoreClient=void 0,await e}}}function SB(t,e){const n=typeof t=="object"?t:i2(),r=typeof t=="string"?t:Kf,s=Ax(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=xF("firestore");i&&_B(s,...i)}return s}function cc(t){if(t._terminated)throw new _e(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jB(t),t._firestoreClient}function jB(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,h){return new QU(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new vB(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function kB(t){return wB(cc(t=qn(t,bs)))}function IB(t){return bB(cc(t=qn(t,bs)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(An.fromBase64String(e))}catch(n){throw new _e(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bl(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=/^__.*__$/;class PB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new kd(e,this.data,n,this.fieldTransforms)}}class gP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ic:t})}}class bw{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new bw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return rp(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(yP(this.Ic)&&TB.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class AB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fm(e)}bc(e,n,r,s=!1){return new bw({Ic:e,methodName:n,wc:r,path:jn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xm(t){const e=t._freezeSettings(),n=fm(t._databaseId);return new AB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vP(t,e,n,r,s,i={}){const a=t.bc(i.merge||i.mergeFields?2:0,e,n,s);Nw("Data must be an object, but it was:",a,r);const l=xP(r,a);let c,u;if(i.merge)c=new Sr(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const m=Gv(e,p,n);if(!a.contains(m))throw new _e(ae.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);bP(h,m)||h.push(m)}c=new Sr(h),u=a.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=a.fieldTransforms;return new PB(new dr(l),c,u)}class wm extends vm{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wm}}class Ew extends vm{_toFieldTransform(e){return new b7(e.path,new ed)}isEqual(e){return e instanceof Ew}}function RB(t,e,n,r){const s=t.bc(1,e,n);Nw("Data must be an object, but it was:",s,r);const i=[],a=dr.empty();jo(r,(c,u)=>{const h=Cw(e,c,n);u=Ut(u);const p=s.mc(h);if(u instanceof wm)i.push(h);else{const m=Ad(u,p);m!=null&&(i.push(h),a.set(h,m))}});const l=new Sr(i);return new gP(a,l,s.fieldTransforms)}function LB(t,e,n,r,s,i){const a=t.bc(1,e,n),l=[Gv(e,r,n)],c=[s];if(i.length%2!=0)throw new _e(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(Gv(e,i[m])),c.push(i[m+1]);const u=[],h=dr.empty();for(let m=l.length-1;m>=0;--m)if(!bP(u,l[m])){const g=l[m];let v=c[m];v=Ut(v);const y=a.mc(g);if(v instanceof wm)u.push(g);else{const b=Ad(v,y);b!=null&&(u.push(g),h.set(g,b))}}const p=new Sr(u);return new gP(h,p,a.fieldTransforms)}function MB(t,e,n,r=!1){return Ad(n,t.bc(r?4:3,e))}function Ad(t,e){if(wP(t=Ut(t)))return Nw("Unsupported field value:",e,t),xP(t,e);if(t instanceof vm)return function(r,s){if(!yP(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Ad(l,s.fc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v7(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=gn.fromDate(r);return{timestampValue:Xf(s.serializer,i)}}if(r instanceof gn){const i=new gn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xf(s.serializer,i)}}if(r instanceof xw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bl)return{bytesValue:OT(s.serializer,r._byteString)};if(r instanceof Gn){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ew(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ww)return function(a,l){return{mapValue:{fields:{[hT]:{stringValue:fT},[Qf]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.gc("VectorValues must only contain numeric values.");return Yx(l.serializer,u)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${mm(r)}`)}(t,e)}function xP(t,e){const n={};return oT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(t,(r,s)=>{const i=Ad(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function wP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gn||t instanceof xw||t instanceof Bl||t instanceof Gn||t instanceof vm||t instanceof ww)}function Nw(t,e,n){if(!wP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=mm(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Gv(t,e,n){if((e=Ut(e))instanceof ym)return e._internalPath;if(typeof e=="string")return Cw(t,e);throw rp("Field path arguments must be of type string or ",t,!1,void 0,n)}const DB=new RegExp("[~\\*/\\[\\]]");function Cw(t,e,n){if(e.search(DB)>=0)throw rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ym(...e.split("."))._internalPath}catch{throw rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rp(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new _e(ae.INVALID_ARGUMENT,l+t+c)}function bP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OB extends EP{data(){return super.data()}}function bm(t,e){return typeof e=="string"?Cw(t,e):e instanceof ym?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _w{}class CP extends _w{}function Vr(t,e,...n){let r=[];e instanceof _w&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof Sw).length,l=i.filter(c=>c instanceof Em).length;if(a>1||a>0&&l>0)throw new _e(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Em extends CP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Em(e,n,r)}_apply(e){const n=this._parse(e);return _P(e._query,n),new Io(e.firestore,e.converter,Dv(e._query,n))}_parse(e){const n=xm(e.firestore);return function(i,a,l,c,u,h,p){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new _e(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){jC(p,h);const v=[];for(const y of p)v.push(SC(c,i,y));m={arrayValue:{values:v}}}else m=SC(c,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||jC(p,h),m=MB(l,a,p,h==="in"||h==="not-in");return dn.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ps(t,e,n){const r=e,s=bm("where",t);return Em._create(s,r,n)}class Sw extends _w{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ws.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)_P(a,c),a=Dv(a,c)}(e._query,n),new Io(e.firestore,e.converter,Dv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jw extends CP{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jw(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new _e(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new _e(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ju(i,a)}(e._query,this._field,this._direction);return new Io(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new oc(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function VB(t,e="asc"){const n=e,r=bm("orderBy",t);return jw._create(r,n)}function SC(t,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new _e(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bT(e)&&n.indexOf("/")!==-1)throw new _e(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ft.fromString(n));if(!Oe.isDocumentKey(r))throw new _e(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $N(t,new Oe(r))}if(n instanceof Gn)return $N(t,n._key);throw new _e(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mm(n)}.`)}function jC(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _P(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _e(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class FB{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Qf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>nn(a.doubleValue));return new ww(i)}convertGeoPoint(e){return new xw(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=om(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){const n=vo(e);return new gn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ft.fromString(e);_t(BT(r),9688,{name:e});const s=new Zu(r.get(1),r.get(3)),i=new Oe(r.popFirst(5));return s.isEqual(n)||gi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jP extends EP{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class of extends jP{data(e={}){return super.data(e)}}class kP{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Zc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new of(this._firestore,this._userDataWriter,r.key,r,new Zc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new of(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Zc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new of(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Zc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:$B(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $B(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){t=qn(t,Gn);const e=qn(t.firestore,bs);return EB(cc(e),t._key).then(n=>PP(e,t,n))}class kw extends FB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,n)}}function nr(t){t=qn(t,Io);const e=qn(t.firestore,bs),n=cc(e),r=new kw(e);return NP(t._query),NB(n,t._query).then(s=>new kP(e,r,t,s))}function IP(t,e,n){t=qn(t,Gn);const r=qn(t.firestore,bs),s=SP(t.converter,e,n);return Nm(r,[vP(xm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Hr.none())])}function In(t,e,n,...r){t=qn(t,Gn);const s=qn(t.firestore,bs),i=xm(s);let a;return a=typeof(e=Ut(e))=="string"||e instanceof ym?LB(i,"updateDoc",t._key,e,n,r):RB(i,"updateDoc",t._key,e),Nm(s,[a.toMutation(t._key,Hr.exists(!0))])}function Iw(t){return Nm(qn(t.firestore,bs),[new Zx(t._key,Hr.none())])}function Es(t,e){const n=qn(t.firestore,bs),r=Ct(t),s=SP(t.converter,e);return Nm(n,[vP(xm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function TP(t,...e){var n,r,s;t=Ut(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||_C(e[a])||(i=e[a],a++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_C(e[a])){const p=e[a];e[a]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[a+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[a+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let c,u,h;if(t instanceof Gn)u=qn(t.firestore,bs),h=am(t._key.path),c={next:p=>{e[a]&&e[a](PP(u,t,p))},error:e[a+1],complete:e[a+2]};else{const p=qn(t,Io);u=qn(p.firestore,bs),h=p._query;const m=new kw(u);c={next:g=>{e[a]&&e[a](new kP(u,m,p,g))},error:e[a+1],complete:e[a+2]},NP(t._query)}return function(m,g,v,y){const b=new yw(y),w=new pw(g,b,v);return m.asyncQueue.enqueueAndForget(async()=>dw(await np(m),w)),()=>{b.xu(),m.asyncQueue.enqueueAndForget(async()=>hw(await np(m),w))}}(cc(u),h,l,c)}function Nm(t,e){return function(r,s){const i=new ai;return r.asyncQueue.enqueueAndForget(async()=>cB(await xB(r),s,i)),i.promise}(cc(t),e)}function PP(t,e,n){const r=n.docs.get(e._key),s=new kw(t);return new jP(t,s,e._key,r,new Zc(n.hasPendingWrites,n.fromCache),e.converter)}function UB(){return new Ew("serverTimestamp")}(function(e,n=!0){(function(s){rc=s})(nc),Dl(new da("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new bs(new AU(r.getProvider("auth-internal")),new MU(a,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new _e(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(u.options.projectId,h)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),co(kN,IN,e),co(kN,IN,"esm2017")})();const zB={apiKey:"AIzaSyBhiSxNUrQ4b_iwpYr4F_J1UW3XOwzsMmE",authDomain:"dsa-squad.firebaseapp.com",databaseURL:"https://dsa-squad-default-rtdb.firebaseio.com",projectId:"dsa-squad",storageBucket:"dsa-squad.firebasestorage.app",messagingSenderId:"762339454857",appId:"1:762339454857:web:bfc50ed181e2daefe2fb58",measurementId:"G-WCPR6FCESS"},AP=s2(zB),Et=kU(AP),Fe=SB(AP);let Tw=navigator.onLine;window.addEventListener("online",()=>{Tw=!0,console.log("App is online"),kB(Fe).catch(console.error)});window.addEventListener("offline",()=>{Tw=!1,console.log("App is offline"),IB(Fe).catch(console.error)});const kC=()=>Tw,Hl=async(t,e=3)=>{for(let n=0;n<e;n++)try{return await t()}catch(r){if(console.error(`Firebase operation failed (attempt ${n+1}/${e}):`,r),n===e-1)throw r;await new Promise(s=>setTimeout(s,Math.pow(2,n)*1e3))}},Be={FOOD:"food",DRINKS:"drinks",DAILY_ESSENTIAL:"daily_essential"},bt={PIZZAS:"pizzas",BURGERS:"burgers",BIRYANI:"biryani",CHINESE:"chinese",INDIAN:"indian",DESSERTS:"desserts",BEER:"beer",WINE:"wine",SPIRITS:"spirits",COCKTAILS:"cocktails",STAPLES:"staples",SNACKS:"snacks",BEVERAGES:"beverages",PERSONAL_CARE:"personal_care",HOUSEHOLD:"household"},RP=[{name:"All",icon:"🌐",category:Be.FOOD,subcategory:"all",displayName:"All"},{name:"Pizzas",icon:"🍕",category:Be.FOOD,subcategory:bt.PIZZAS,displayName:"Pizzas"},{name:"Biryani",icon:"🍛",category:Be.FOOD,subcategory:bt.BIRYANI,displayName:"Biryani"},{name:"Chinese",icon:"🥡",category:Be.FOOD,subcategory:bt.CHINESE,displayName:"Chinese"},{name:"Burgers",icon:"🍔",category:Be.FOOD,subcategory:bt.BURGERS,displayName:"Burgers"},{name:"Indian",icon:"🍛",category:Be.FOOD,subcategory:bt.INDIAN,displayName:"Indian"},{name:"Desserts",icon:"🍰",category:Be.FOOD,subcategory:bt.DESSERTS,displayName:"Desserts"},{name:"All",icon:"🌐",category:Be.DRINKS,subcategory:"all",displayName:"All"},{name:"Beer",icon:"🍺",category:Be.DRINKS,subcategory:bt.BEER,displayName:"Beer"},{name:"Wine",icon:"🍷",category:Be.DRINKS,subcategory:bt.WINE,displayName:"Wine"},{name:"Spirits",icon:"🥃",category:Be.DRINKS,subcategory:bt.SPIRITS,displayName:"Spirits"},{name:"Cocktails",icon:"🍹",category:Be.DRINKS,subcategory:bt.COCKTAILS,displayName:"Cocktails"},{name:"All",icon:"🌐",category:Be.DAILY_ESSENTIAL,subcategory:"all",displayName:"All"},{name:"Staples",icon:"🛒",category:Be.DAILY_ESSENTIAL,subcategory:bt.STAPLES,displayName:"Staples"},{name:"Snacks",icon:"🍿",category:Be.DAILY_ESSENTIAL,subcategory:bt.SNACKS,displayName:"Snacks"},{name:"Beverages",icon:"🥤",category:Be.DAILY_ESSENTIAL,subcategory:bt.BEVERAGES,displayName:"Beverages"},{name:"Personal Care",icon:"🧴",category:Be.DAILY_ESSENTIAL,subcategory:bt.PERSONAL_CARE,displayName:"Personal Care"},{name:"Household",icon:"🏠",category:Be.DAILY_ESSENTIAL,subcategory:bt.HOUSEHOLD,displayName:"Household"}],BB=[{name:"Domino's Pizza",price:250,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:Be.FOOD,subcategory:bt.PIZZAS,description:"Delicious pizza with fresh toppings",deliveryTime:"20-25 mins",inStock:!0,isVeg:!1,discount:"20% OFF",tags:["pizza","italian","cheese","tomato"]},{name:"Spice N Ice Biryani",price:220,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:Be.FOOD,subcategory:bt.BIRYANI,description:"Aromatic biryani with tender meat",deliveryTime:"25-30 mins",inStock:!0,isVeg:!1,offer:"BUY1 GET1",tags:["biryani","rice","spicy","indian"]},{name:"China Nation Noodles",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:Be.FOOD,subcategory:bt.CHINESE,description:"Stir-fried noodles with vegetables",deliveryTime:"15-20 mins",inStock:!0,isVeg:!0,tags:["noodles","chinese","vegetarian","stir-fry"]},{name:"Classic Burger",price:150,rating:4.2,image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400",category:Be.FOOD,subcategory:bt.BURGERS,description:"Juicy beef burger with fresh vegetables",deliveryTime:"18-22 mins",inStock:!0,isVeg:!1,discount:"15% OFF",tags:["burger","beef","fast-food","american"]},{name:"Butter Chicken",price:280,rating:4.6,image:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400",category:Be.FOOD,subcategory:bt.INDIAN,description:"Creamy butter chicken with naan",deliveryTime:"30-35 mins",inStock:!0,isVeg:!1,tags:["chicken","indian","curry","butter"]},{name:"Chocolate Cake",price:120,rating:4.4,image:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400",category:Be.FOOD,subcategory:bt.DESSERTS,description:"Rich chocolate cake with cream",deliveryTime:"20-25 mins",inStock:!0,isVeg:!0,tags:["cake","chocolate","dessert","sweet"]},{name:"Heineken Beer",price:120,rating:4.3,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Be.DRINKS,subcategory:bt.BEER,description:"Premium lager beer",deliveryTime:"30-45 mins",inStock:!0,tags:["beer","lager","alcohol","premium"]},{name:"Red Wine",price:450,rating:4.5,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Be.DRINKS,subcategory:bt.WINE,description:"Smooth red wine",deliveryTime:"30-45 mins",inStock:!0,discount:"10% OFF",tags:["wine","red","alcohol","premium"]},{name:"Whiskey",price:800,rating:4.7,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Be.DRINKS,subcategory:bt.SPIRITS,description:"Premium whiskey",deliveryTime:"30-45 mins",inStock:!0,tags:["whiskey","spirits","alcohol","premium"]},{name:"Mojito Cocktail",price:180,rating:4.2,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Be.DRINKS,subcategory:bt.COCKTAILS,description:"Refreshing mojito cocktail",deliveryTime:"25-35 mins",inStock:!0,tags:["cocktail","mojito","alcohol","refreshing"]},{name:"Basmati Rice",price:80,rating:4.4,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400",category:Be.DAILY_ESSENTIAL,subcategory:bt.STAPLES,description:"Premium basmati rice",deliveryTime:"60-90 mins",inStock:!0,discount:"5% OFF",tags:["rice","basmati","staples","grocery"]},{name:"Potato Chips",price:30,rating:4.1,image:"https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=400",category:Be.DAILY_ESSENTIAL,subcategory:bt.SNACKS,description:"Crispy potato chips",deliveryTime:"60-90 mins",inStock:!0,tags:["chips","snacks","potato","crispy"]},{name:"Coca Cola",price:40,rating:4,image:"https://images.unsplash.com/photo-1554866585-aa94861d3f78?w=400",category:Be.DAILY_ESSENTIAL,subcategory:bt.BEVERAGES,description:"Refreshing cola drink",deliveryTime:"60-90 mins",inStock:!0,tags:["cola","beverage","soft-drink","refreshing"]},{name:"Toothpaste",price:60,rating:4.3,image:"https://images.unsplash.com/photo-1559591935-c6c92c6c2b6e?w=400",category:Be.DAILY_ESSENTIAL,subcategory:bt.PERSONAL_CARE,description:"Fresh mint toothpaste",deliveryTime:"60-90 mins",inStock:!0,tags:["toothpaste","personal-care","hygiene","mint"]},{name:"Dish Soap",price:45,rating:4.2,image:"https://images.unsplash.com/photo-1559591935-c6c92c6c2b6e?w=400",category:Be.DAILY_ESSENTIAL,subcategory:bt.HOUSEHOLD,description:"Effective dish cleaning soap",deliveryTime:"60-90 mins",inStock:!0,tags:["soap","household","cleaning","dishes"]}],HB=async()=>{try{const t=on(Fe,"categories");if((await nr(t)).empty){const n=RP.map(r=>Es(t,{...r,createdAt:new Date,updatedAt:new Date}));await Promise.all(n),console.log("Categories initialized successfully")}}catch(t){console.error("Error initializing categories:",t)}},rd=async t=>{try{const e=on(Fe,"categories"),n=Vr(e,ps("category","==",t)),r=await nr(n),s=[];return r.forEach(i=>{const a=i.data(),l={id:i.id,...a};s.push(l)}),s.sort((i,a)=>i.name.localeCompare(a.name)),s}catch(e){return console.error("Error fetching categories:",e),RP.filter(n=>n.category===t)}},WB=async()=>{try{const t=on(Fe,"products");if((await nr(t)).empty){const n=BB.map(r=>Es(t,{...r,createdAt:new Date,updatedAt:new Date}));await Promise.all(n),console.log("Products initialized successfully")}}catch(t){console.error("Error initializing products:",t)}},Xc=async(t,e=null,n=null)=>{try{const r=on(Fe,"products");let s;e?s=Vr(r,ps("category","==",e)):s=Vr(r,VB("name")),n&&(e?s=Vr(s,ps("subcategory","==",n)):s=Vr(r,ps("subcategory","==",n)));const i=await nr(s),a=[];return i.forEach(l=>{const c=l.data(),u={id:l.id,...c};(!t||u.name.toLowerCase().includes(t.toLowerCase())||u.description.toLowerCase().includes(t.toLowerCase())||u.tags&&u.tags.some(h=>h.toLowerCase().includes(t.toLowerCase())))&&a.push(u)}),(e||n)&&a.sort((l,c)=>l.name.localeCompare(c.name)),a}catch(r){return console.error("Error searching products:",r),[]}},gl=async t=>await Xc("",t),qB=async()=>{try{const t=on(Fe,"products"),e=await nr(t),n=on(Fe,"categories"),r=await nr(n),s=new Map;r.forEach(l=>{var h,p;const c=l.data(),u=`${(h=c.category)==null?void 0:h.toLowerCase()}-${(p=c.subcategory)==null?void 0:p.toLowerCase()}`;s.set(u,c)});const i=[],a={pizzas:"🍕",burgers:"🍔",biryani:"🍛",chinese:"🥡",indian:"🍛",desserts:"🍰",momo:"🥟",vindi:"🥦",sandwiches:"🥪",noodles:"🍜",rice:"🍚",curry:"🍛",breads:"🥖",soups:"🍲",salads:"🥗",wraps:"🌯",tacos:"🌮",sushi:"🍣",pasta:"🍝",beer:"🍺",wine:"🍷",spirits:"🥃",cocktails:"🍹",juice:"🧃",soda:"🥤",coffee:"☕",tea:"🫖",smoothies:"🥤",milkshakes:"🥤",energy_drinks:"⚡",staples:"🛒",snacks:"🍿",beverages:"🥤",personal_care:"🧴","personal care":"🧴",household:"🏠",fruits:"🍎",vegetables:"🥬",dairy:"🥛",meat:"🥩",frozen:"🧊",canned:"🥫",bakery:"🥖",condiments:"🧂",spices:"🌶️",oils:"🫗",grains:"🌾",pulses:"🫘",nuts:"🥜",chocolates:"🍫",candies:"🍬"};if(e.forEach(l=>{var h,p;const c=l.data();if(!c.subcategory||c.subcategory==="all")return;const u=`${(h=c.category)==null?void 0:h.toLowerCase()}-${(p=c.subcategory)==null?void 0:p.toLowerCase()}`;if(!s.has(u)){const m=a[c.subcategory.toLowerCase()]||"📦",g=c.subcategory.charAt(0).toUpperCase()+c.subcategory.slice(1);i.push({name:g,icon:m,category:c.category,subcategory:c.subcategory.toLowerCase(),displayName:g,createdAt:new Date,updatedAt:new Date})}}),i.length>0){console.log("Adding missing subcategories:",i);const l=i.map(c=>Es(n,c));await Promise.all(l),console.log(`Added ${i.length} missing subcategories to Firestore`)}else console.log("No missing subcategories found");return i}catch(t){return console.error("Error syncing missing subcategories:",t),[]}},GB=async(t=4)=>{try{const e=on(Fe,"orders"),n=await nr(e),r={};return n.forEach(i=>{const a=i.data();Array.isArray(a.items)&&a.items.forEach(l=>{l.id&&(r[l.id]||(r[l.id]={count:0,product:l}),r[l.id].count+=l.quantity||1)})}),Object.values(r).sort((i,a)=>a.count-i.count).slice(0,t).map(i=>({...i.product,totalBought:i.count}))}catch(e){return console.error("Error fetching top bought products:",e),[]}},LP=async()=>{try{console.log("Checking if products exist in database...");const t=on(Fe,"products"),e=await nr(t);e.empty?(console.log("No products found in database, initializing..."),await WB()):console.log("Found",e.size,"products in database")}catch(t){console.error("Error checking products:",t)}};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=d.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>d.createElement("svg",{ref:c,...QB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MP("lucide",s),...l},[...a.map(([u,h])=>d.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(t,e)=>{const n=d.forwardRef(({className:r,...s},i)=>d.createElement(YB,{ref:i,iconNode:e,className:MP(`lucide-${KB(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=ye("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=ye("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=ye("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=ye("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=ye("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=ye("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=ye("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=ye("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=ye("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=ye("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=ye("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=ye("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=ye("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=ye("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=ye("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=ye("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ye("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=ye("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=ye("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ye("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=ye("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ye("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=ye("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=ye("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=ye("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=ye("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=ye("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=ye("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=ye("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),RC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,LC=CI,_m=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return LC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],p=i==null?void 0:i[u];if(h===null)return null;const m=RC(h)||RC(p);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[p,m]=h;return m===void 0||(u[p]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:p,className:m,...g}=h;return Object.entries(g).every(v=>{let[y,b]=v;return Array.isArray(b)?b.includes({...i,...l}[y]):{...i,...l}[y]===b})?[...u,p,m]:u},[]);return LC(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},SH=_m("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=d.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?p5:"button";return o.jsx(a,{className:Me(SH({variant:e,size:n,className:t})),ref:i,...s})});z.displayName="Button";const jH=_m("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Tt({className:t,variant:e,...n}){return o.jsx("div",{className:Me(jH({variant:e}),t),...n})}const Ie=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Me("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ie.displayName="Card";const ut=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Me("flex flex-col space-y-1.5 p-6",t),...e}));ut.displayName="CardHeader";const xt=d.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:Me("text-2xl font-semibold leading-none tracking-tight",t),...e}));xt.displayName="CardTitle";const kH=d.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:Me("text-sm text-muted-foreground",t),...e}));kH.displayName="CardDescription";const Te=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Me("p-6 pt-0",t),...e}));Te.displayName="CardContent";const IH=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Me("flex items-center p-6 pt-0",t),...e}));IH.displayName="CardFooter";const $e=d.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:Me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));$e.displayName="Input";var TH="Label",BP=d.forwardRef((t,e)=>o.jsx(Ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));BP.displayName=TH;var HP=BP;const PH=_m("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Re=d.forwardRef(({className:t,...e},n)=>o.jsx(HP,{ref:n,className:Me(PH(),t),...e}));Re.displayName=HP.displayName;function Sm(t){const e=t+"CollectionProvider",[n,r]=ir(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:b,children:w}=y,x=de.useRef(null),N=de.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:N,collectionRef:x,children:w})};a.displayName=e;const l=t+"CollectionSlot",c=la(l),u=de.forwardRef((y,b)=>{const{scope:w,children:x}=y,N=i(l,w),k=at(b,N.collectionRef);return o.jsx(c,{ref:k,children:x})});u.displayName=l;const h=t+"CollectionItemSlot",p="data-radix-collection-item",m=la(h),g=de.forwardRef((y,b)=>{const{scope:w,children:x,...N}=y,k=de.useRef(null),A=at(b,k),L=i(h,w);return de.useEffect(()=>(L.itemMap.set(k,{ref:k,...N}),()=>void L.itemMap.delete(k))),o.jsx(m,{[p]:"",ref:A,children:x})});g.displayName=h;function v(y){const b=i(t+"CollectionConsumer",y);return de.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const N=Array.from(x.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((L,C)=>N.indexOf(L.ref.current)-N.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},v,r]}var AH=d.createContext(void 0);function fc(t){const e=d.useContext(AH);return t||e||"ltr"}var oy="rovingFocusGroup.onEntryFocus",RH={bubbles:!1,cancelable:!0},Ld="RovingFocusGroup",[Zv,WP,LH]=Sm(Ld),[MH,pc]=ir(Ld,[LH]),[DH,OH]=MH(Ld),qP=d.forwardRef((t,e)=>o.jsx(Zv.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Zv.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(VH,{...t,ref:e})})}));qP.displayName=Ld;var VH=d.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=t,m=d.useRef(null),g=at(e,m),v=fc(i),[y,b]=xs({prop:a,defaultProp:l??null,onChange:c,caller:Ld}),[w,x]=d.useState(!1),N=Us(u),k=WP(n),A=d.useRef(!1),[L,C]=d.useState(0);return d.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(oy,N),()=>_.removeEventListener(oy,N)},[N]),o.jsx(DH,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:y,onItemFocus:d.useCallback(_=>b(_),[b]),onItemShiftTab:d.useCallback(()=>x(!0),[]),onFocusableItemAdd:d.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:d.useCallback(()=>C(_=>_-1),[]),children:o.jsx(Ve.div,{tabIndex:w||L===0?-1:0,"data-orientation":r,...p,ref:g,style:{outline:"none",...t.style},onMouseDown:be(t.onMouseDown,()=>{A.current=!0}),onFocus:be(t.onFocus,_=>{const S=!A.current;if(_.target===_.currentTarget&&S&&!w){const T=new CustomEvent(oy,RH);if(_.currentTarget.dispatchEvent(T),!T.defaultPrevented){const I=k().filter($=>$.focusable),P=I.find($=>$.active),R=I.find($=>$.id===y),H=[P,R,...I].filter(Boolean).map($=>$.ref.current);QP(H,h)}}A.current=!1}),onBlur:be(t.onBlur,()=>x(!1))})})}),GP="RovingFocusGroupItem",KP=d.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=t,c=Br(),u=i||c,h=OH(GP,n),p=h.currentTabStopId===u,m=WP(n),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:y}=h;return d.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),o.jsx(Zv.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Ve.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:be(t.onMouseDown,b=>{r?h.onItemFocus(u):b.preventDefault()}),onFocus:be(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:be(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=UH(b,h.orientation,h.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let N=m().filter(k=>k.focusable).map(k=>k.ref.current);if(w==="last")N.reverse();else if(w==="prev"||w==="next"){w==="prev"&&N.reverse();const k=N.indexOf(b.currentTarget);N=h.loop?zH(N,k+1):N.slice(k+1)}setTimeout(()=>QP(N))}}),children:typeof a=="function"?a({isCurrentTabStop:p,hasTabStop:y!=null}):a})})});KP.displayName=GP;var FH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $H(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function UH(t,e,n){const r=$H(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return FH[r]}function QP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function zH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Ow=qP,Vw=KP,jm="Tabs",[BH,$Z]=ir(jm,[pc]),YP=pc(),[HH,Fw]=BH(jm),ZP=d.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=fc(l),[p,m]=xs({prop:r,onChange:s,defaultProp:i??"",caller:jm});return o.jsx(HH,{scope:n,baseId:Br(),value:p,onValueChange:m,orientation:a,dir:h,activationMode:c,children:o.jsx(Ve.div,{dir:h,"data-orientation":a,...u,ref:e})})});ZP.displayName=jm;var XP="TabsList",JP=d.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Fw(XP,n),a=YP(n);return o.jsx(Ow,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(Ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});JP.displayName=XP;var eA="TabsTrigger",tA=d.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=Fw(eA,n),l=YP(n),c=sA(a.baseId,r),u=iA(a.baseId,r),h=r===a.value;return o.jsx(Vw,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(Ve.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:be(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?a.onValueChange(r):p.preventDefault()}),onKeyDown:be(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&a.onValueChange(r)}),onFocus:be(t.onFocus,()=>{const p=a.activationMode!=="manual";!h&&!s&&p&&a.onValueChange(r)})})})});tA.displayName=eA;var nA="TabsContent",rA=d.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=Fw(nA,n),c=sA(l.baseId,r),u=iA(l.baseId,r),h=r===l.value,p=d.useRef(h);return d.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(Zr,{present:s||h,children:({present:m})=>o.jsx(Ve.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:m&&i})})});rA.displayName=nA;function sA(t,e){return`${t}-trigger-${e}`}function iA(t,e){return`${t}-content-${e}`}var WH=ZP,oA=JP,aA=tA,lA=rA;const qH=WH,cA=d.forwardRef(({className:t,...e},n)=>o.jsx(oA,{ref:n,className:Me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));cA.displayName=oA.displayName;const Xv=d.forwardRef(({className:t,...e},n)=>o.jsx(aA,{ref:n,className:Me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Xv.displayName=aA.displayName;const Jv=d.forwardRef(({className:t,...e},n)=>o.jsx(lA,{ref:n,className:Me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Jv.displayName=lA.displayName;const uA=({isOpen:t,onComplete:e})=>{const[n,r]=d.useState(!1),[s,i]=d.useState({displayName:"",phone:"",age:""}),[a,l]=d.useState({displayName:"",phone:"",age:""});d.useEffect(()=>{t&&Et.currentUser&&i(p=>({...p,displayName:Et.currentUser.displayName||"",phone:Et.currentUser.phoneNumber||""}))},[t]);const c=()=>{const p={displayName:"",phone:"",age:""};if(s.displayName.trim()?s.displayName.trim().length<2&&(p.displayName="Name must be at least 2 characters long"):p.displayName="Name is required",s.phone.trim()?/^[\+]?[1-9][\d]{0,15}$/.test(s.phone.replace(/\s/g,""))||(p.phone="Please enter a valid phone number"):p.phone="Phone number is required",!s.age.trim())p.age="Age is required";else{const m=parseInt(s.age);(isNaN(m)||m<13||m>120)&&(p.age="Age must be between 13 and 120")}return l(p),!Object.values(p).some(m=>m!=="")},u=async p=>{if(p.preventDefault(),!!c()){if(!Et.currentUser){U.error("User not authenticated");return}r(!0);try{await M2(Et.currentUser,{displayName:s.displayName.trim()});const m=Ct(Fe,"users",Et.currentUser.uid),g=await ya(m),v={displayName:s.displayName.trim(),email:Et.currentUser.email,phone:s.phone.trim(),age:parseInt(s.age),isOnboarded:!0,createdAt:g.exists()?g.data().createdAt:new Date,updatedAt:new Date,settings:g.exists()?g.data().settings:{notifications:!0,language:"en",sound:!0,emailNotifications:!0,pushNotifications:!0,darkMode:!1}};await IP(m,v,{merge:!0}),U.success("Profile completed successfully!"),e()}catch(m){console.error("Error saving user data:",m),U.error("Failed to save profile. Please try again.")}finally{r(!1)}}},h=(p,m)=>{i(g=>({...g,[p]:m})),a[p]&&l(g=>({...g,[p]:""}))};return t?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs(Ie,{className:"w-full max-w-md bg-white",children:[o.jsxs(ut,{className:"text-center",children:[o.jsx(xt,{className:"text-2xl font-bold text-gray-800",children:"Complete Your Profile"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Please provide your details to complete your account setup"})]}),o.jsx(Te,{children:o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"displayName",className:"text-gray-700",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx($i,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx($e,{id:"displayName",type:"text",placeholder:"Enter your full name",value:s.displayName,onChange:p=>h("displayName",p.target.value),className:`pl-10 ${a.displayName?"border-red-500":""}`,disabled:n})]}),a.displayName&&o.jsx("p",{className:"text-red-500 text-xs",children:a.displayName})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(yr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx($e,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:s.phone,onChange:p=>h("phone",p.target.value),className:`pl-10 ${a.phone?"border-red-500":""}`,disabled:n})]}),a.phone&&o.jsx("p",{className:"text-red-500 text-xs",children:a.phone})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"age",className:"text-gray-700",children:"Age"}),o.jsxs("div",{className:"relative",children:[o.jsx(DP,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx($e,{id:"age",type:"number",placeholder:"Enter your age",value:s.age,onChange:p=>h("age",p.target.value),className:`pl-10 ${a.age?"border-red-500":""}`,min:"13",max:"120",disabled:n})]}),a.age&&o.jsx("p",{className:"text-red-500 text-xs",children:a.age}),o.jsx("p",{className:"text-gray-500 text-xs",children:"You must be at least 13 years old to use this service"})]}),o.jsx(z,{type:"submit",className:"w-full bg-pickngo-orange-500 hover:bg-pickngo-orange-600",disabled:n,children:n?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:["Complete Profile",o.jsx(sp,{className:"ml-2 h-4 w-4"})]})})]})})]})}):null},GH=({isOpen:t,onClose:e,onLoginSuccess:n})=>{const[r,s]=d.useState(!1),[i,a]=d.useState(""),[l,c]=d.useState(""),[u,h]=d.useState(!1),[p,m]=d.useState(!1),[g,v]=d.useState(""),[y,b]=d.useState(""),[w,x]=d.useState(""),[N,k]=d.useState(!1),[A,L]=d.useState(null),[C,_]=d.useState(!1),[S,T]=d.useState(!1),I=()=>{a(""),c(""),v(""),b(""),x(""),k(!1),m(!1),s(!1),_(!1),T(!1)},P=()=>{_(!1),I(),e(),n&&n()},R=async V=>{var F;try{const Q=await ya(Ct(Fe,"users",V));return!Q.exists()||!((F=Q.data())!=null&&F.isOnboarded)}catch(Q){return console.error("Error checking user status:",Q),!0}},K=async V=>{V.preventDefault(),s(!0);try{if(p){const F=await n$(Et,i,l);U.success("Account created successfully!"),T(!0),_(!0)}else{const F=await r$(Et,i,l);await R(F.user.uid)?(U.success("Account created successfully!"),T(!0),_(!0)):(U.success("Logged in successfully!"),I(),e(),n&&n())}}catch(F){console.error("Auth error:",F),F.code==="auth/email-already-in-use"?U.error("Email already in use. Please sign in instead."):F.code==="auth/user-not-found"?U.error("User not found. Please check your email or sign up."):F.code==="auth/wrong-password"?U.error("Incorrect password. Please try again."):F.code==="auth/weak-password"?U.error("Password is too weak. Please use a stronger password."):U.error("Authentication failed. Please try again.")}finally{s(!1)}},H=async()=>{s(!0);try{const V=new Js;V.setCustomParameters({prompt:"select_account"});const F=await O$(Et,V);await R(F.user.uid)?(U.success("Account created successfully!"),T(!0),_(!0)):(U.success("Successfully signed in with Google!"),I(),e(),n&&n())}catch(V){console.error("Google auth error:",V),V.code==="auth/popup-closed-by-user"?U.error("Sign-in cancelled. Please try again."):V.code==="auth/popup-blocked"?U.error("Pop-up blocked. Please allow pop-ups for this site."):U.error("Google sign-in failed. Please try again.")}finally{s(!1)}},$=()=>{if(!A){const V=new T$(Et,"recaptcha-container",{size:"invisible",callback:()=>{console.log("reCAPTCHA solved")}});L(V)}},Y=async V=>{V.preventDefault(),s(!0);try{if($(),!A){U.error("reCAPTCHA not ready. Please refresh and try again.");return}const F=g.startsWith("+")?g:`+91${g}`,Q=await xN(Et,F,A);x(Q.verificationId),k(!0),U.success("OTP sent successfully!")}catch(F){console.error("Phone auth error:",F),F.code==="auth/billing-not-enabled"?U.error("Phone authentication requires billing to be enabled. Please enable billing in Firebase Console."):F.code==="auth/invalid-phone-number"?U.error("Invalid phone number. Please check and try again."):F.code==="auth/too-many-requests"?U.error("Too many requests. Please try again later."):F.code==="auth/quota-exceeded"?U.error("SMS quota exceeded. Please try again later or contact support."):U.error("Failed to send OTP. Please try again.")}finally{s(!1)}},O=async V=>{V.preventDefault(),s(!0);try{const F=ta.credential(w,y),Q=await xN(Et,g,A);await R(Q.user.uid)?(U.success("Account created successfully!"),T(!0),_(!0)):(U.success("Phone number verified successfully!"),I(),e(),n&&n())}catch(F){console.error("OTP verification error:",F),F.code==="auth/invalid-verification-code"?U.error("Invalid OTP. Please check and try again."):F.code==="auth/code-expired"?(U.error("OTP has expired. Please request a new one."),k(!1)):U.error("OTP verification failed. Please try again.")}finally{s(!1)}},D=async()=>{s(!0);try{await Y(new Event("submit"))}catch(V){console.error("Resend OTP error:",V),U.error("Failed to resend OTP. Please try again.")}finally{s(!1)}},B=()=>{I(),e()};return t?o.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[o.jsxs(Ie,{className:"w-full max-w-md bg-white",children:[o.jsxs(ut,{className:"relative",children:[o.jsx(z,{variant:"ghost",size:"icon",className:"absolute right-2 top-2",onClick:B,children:o.jsx(hc,{className:"w-4 h-4"})}),o.jsx(xt,{className:"text-center text-2xl font-bold",children:p?"Create Account":"Welcome Back"})]}),o.jsxs(Te,{children:[o.jsxs(qH,{defaultValue:"email",className:"w-full",children:[o.jsxs(cA,{className:"grid w-full grid-cols-2",children:[o.jsxs(Xv,{value:"email",className:"flex items-center space-x-2",children:[o.jsx(Hs,{className:"w-4 h-4"}),o.jsx("span",{children:"Email"})]}),o.jsxs(Xv,{value:"phone",className:"flex items-center space-x-2",children:[o.jsx(yr,{className:"w-4 h-4"}),o.jsx("span",{children:"Phone"})]})]}),o.jsxs(Jv,{value:"email",className:"space-y-4",children:[o.jsxs("form",{onSubmit:K,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Hs,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx($e,{id:"email",type:"email",placeholder:"Enter your email",value:i,onChange:V=>a(V.target.value),className:"pl-10",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(zP,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx($e,{id:"password",type:u?"text":"password",placeholder:"Enter your password",value:l,onChange:V=>c(V.target.value),className:"pl-10 pr-10",required:!0}),o.jsx(z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>h(!u),children:u?o.jsx(af,{className:"h-4 w-4"}):o.jsx(bu,{className:"h-4 w-4"})})]})]}),o.jsx(z,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"mr-2 h-4 w-4 animate-spin"}),p?"Creating Account...":"Signing In..."]}):p?"Create Account":"Sign In"})]}),o.jsx("div",{className:"text-center",children:o.jsx(z,{variant:"link",onClick:()=>m(!p),className:"text-sm",children:p?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with"})})]}),o.jsx(z,{variant:"outline",onClick:H,className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in with Google..."]}):o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]}),o.jsx(Jv,{value:"phone",className:"space-y-4",children:N?o.jsxs("form",{onSubmit:O,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"otp",children:"Verification Code"}),o.jsx($e,{id:"otp",type:"text",placeholder:"Enter 6-digit code",value:y,onChange:V=>b(V.target.value),maxLength:6,className:"text-center text-lg tracking-widest",required:!0}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Enter the 6-digit code sent to ",g]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(z,{type:"submit",className:"flex-1",disabled:r||y.length!==6,children:r?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify OTP"}),o.jsx(z,{type:"button",variant:"outline",onClick:D,disabled:r,children:"Resend"})]}),o.jsx(z,{type:"button",variant:"ghost",onClick:()=>{k(!1),b(""),x("")},className:"w-full",children:"Change Phone Number"})]}):o.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(yr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx($e,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:g,onChange:V=>v(V.target.value),className:"pl-10",required:!0})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"We'll send you a verification code via SMS"})]}),o.jsx(z,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending OTP..."]}):"Send OTP"})]})})]}),o.jsx("div",{id:"recaptcha-container",className:"mt-4"})]})]}),o.jsx(uA,{isOpen:C,onComplete:P})]}):null};var ay="focusScope.autoFocusOnMount",ly="focusScope.autoFocusOnUnmount",MC={bubbles:!1,cancelable:!0},KH="FocusScope",km=d.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=d.useState(null),u=Us(s),h=Us(i),p=d.useRef(null),m=at(e,y=>c(y)),g=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let y=function(N){if(g.paused||!l)return;const k=N.target;l.contains(k)?p.current=k:Ti(p.current,{select:!0})},b=function(N){if(g.paused||!l)return;const k=N.relatedTarget;k!==null&&(l.contains(k)||Ti(p.current,{select:!0}))},w=function(N){if(document.activeElement===document.body)for(const A of N)A.removedNodes.length>0&&Ti(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const x=new MutationObserver(w);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),x.disconnect()}}},[r,l,g.paused]),d.useEffect(()=>{if(l){OC.add(g);const y=document.activeElement;if(!l.contains(y)){const w=new CustomEvent(ay,MC);l.addEventListener(ay,u),l.dispatchEvent(w),w.defaultPrevented||(QH(eW(dA(l)),{select:!0}),document.activeElement===y&&Ti(l))}return()=>{l.removeEventListener(ay,u),setTimeout(()=>{const w=new CustomEvent(ly,MC);l.addEventListener(ly,h),l.dispatchEvent(w),w.defaultPrevented||Ti(y??document.body,{select:!0}),l.removeEventListener(ly,h),OC.remove(g)},0)}}},[l,u,h,g]);const v=d.useCallback(y=>{if(!n&&!r||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(b&&w){const x=y.currentTarget,[N,k]=YH(x);N&&k?!y.shiftKey&&w===k?(y.preventDefault(),n&&Ti(N,{select:!0})):y.shiftKey&&w===N&&(y.preventDefault(),n&&Ti(k,{select:!0})):w===x&&y.preventDefault()}},[n,r,g.paused]);return o.jsx(Ve.div,{tabIndex:-1,...a,ref:m,onKeyDown:v})});km.displayName=KH;function QH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ti(r,{select:e}),document.activeElement!==n)return}function YH(t){const e=dA(t),n=DC(e,t),r=DC(e.reverse(),t);return[n,r]}function dA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function DC(t,e){for(const n of t)if(!ZH(n,{upTo:e}))return n}function ZH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function XH(t){return t instanceof HTMLInputElement&&"select"in t}function Ti(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&XH(t)&&e&&t.select()}}var OC=JH();function JH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=VC(t,e),t.unshift(e)},remove(e){var n;t=VC(t,e),(n=t[0])==null||n.resume()}}}function VC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function eW(t){return t.filter(e=>e.tagName!=="A")}var cy=0;function $w(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??FC()),document.body.insertAdjacentElement("beforeend",t[1]??FC()),cy++,()=>{cy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cy--}},[])}function FC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var lf="right-scroll-bar-position",cf="width-before-scroll-bar",tW="with-scroll-bars-hidden",nW="--removed-body-scroll-bar-size";function uy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function rW(t,e){var n=d.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var sW=typeof window<"u"?d.useLayoutEffect:d.useEffect,$C=new WeakMap;function iW(t,e){var n=rW(null,function(r){return t.forEach(function(s){return uy(s,r)})});return sW(function(){var r=$C.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||uy(l,null)}),i.forEach(function(l){s.has(l)||uy(l,a)})}$C.set(n,t)},[t]),n}function oW(t){return t}function aW(t,e){e===void 0&&(e=oW);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var h=a;a=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),n}}}};return s}function lW(t){t===void 0&&(t={});var e=aW(null);return e.options=Rs({async:!0,ssr:!1},t),e}var hA=function(t){var e=t.sideCar,n=Ed(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Rs({},n))};hA.isSideCarExport=!0;function cW(t,e){return t.useMedium(e),hA}var fA=lW(),dy=function(){},Im=d.forwardRef(function(t,e){var n=d.useRef(null),r=d.useState({onScrollCapture:dy,onWheelCapture:dy,onTouchMoveCapture:dy}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,p=t.shards,m=t.sideCar,g=t.noRelative,v=t.noIsolation,y=t.inert,b=t.allowPinchZoom,w=t.as,x=w===void 0?"div":w,N=t.gapMode,k=Ed(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,L=iW([n,e]),C=Rs(Rs({},k),s);return d.createElement(d.Fragment,null,h&&d.createElement(A,{sideCar:fA,removeScrollBar:u,shards:p,noRelative:g,noIsolation:v,inert:y,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:N}),a?d.cloneElement(d.Children.only(l),Rs(Rs({},C),{ref:L})):d.createElement(x,Rs({},C,{className:c,ref:L}),l))});Im.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Im.classNames={fullWidth:cf,zeroRight:lf};var uW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=uW();return e&&t.setAttribute("nonce",e),t}function hW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function fW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var pW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=dW())&&(hW(e,n),fW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},mW=function(){var t=pW();return function(e,n){d.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},pA=function(){var t=mW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},gW={left:0,top:0,right:0,gap:0},hy=function(t){return parseInt(t||"",10)||0},yW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[hy(n),hy(r),hy(s)]},vW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return gW;var e=yW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},xW=pA(),yl="data-scroll-locked",wW=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(tW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(yl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(cf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(lf," .").concat(lf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cf," .").concat(cf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(yl,`] {
    `).concat(nW,": ").concat(l,`px;
  }
`)},UC=function(){var t=parseInt(document.body.getAttribute(yl)||"0",10);return isFinite(t)?t:0},bW=function(){d.useEffect(function(){return document.body.setAttribute(yl,(UC()+1).toString()),function(){var t=UC()-1;t<=0?document.body.removeAttribute(yl):document.body.setAttribute(yl,t.toString())}},[])},EW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;bW();var i=d.useMemo(function(){return vW(s)},[s]);return d.createElement(xW,{styles:wW(i,!e,s,n?"":"!important")})},e0=!1;if(typeof window<"u")try{var Ph=Object.defineProperty({},"passive",{get:function(){return e0=!0,!0}});window.addEventListener("test",Ph,Ph),window.removeEventListener("test",Ph,Ph)}catch{e0=!1}var Da=e0?{passive:!1}:!1,NW=function(t){return t.tagName==="TEXTAREA"},mA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!NW(t)&&n[e]==="visible")},CW=function(t){return mA(t,"overflowY")},_W=function(t){return mA(t,"overflowX")},zC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=gA(t,r);if(s){var i=yA(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},SW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},jW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},gA=function(t,e){return t==="v"?CW(e):_W(e)},yA=function(t,e){return t==="v"?SW(e):jW(e)},kW=function(t,e){return t==="h"&&e==="rtl"?-1:1},IW=function(t,e,n,r,s){var i=kW(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,h=a>0,p=0,m=0;do{if(!l)break;var g=yA(t,l),v=g[0],y=g[1],b=g[2],w=y-b-i*v;(v||w)&&gA(t,l)&&(p+=w,m+=v);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(p)<1||!h&&Math.abs(m)<1)&&(u=!0),u},Ah=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},BC=function(t){return[t.deltaX,t.deltaY]},HC=function(t){return t&&"current"in t?t.current:t},TW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},PW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},AW=0,Oa=[];function RW(t){var e=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(AW++)[0],i=d.useState(pA)[0],a=d.useRef(t);d.useEffect(function(){a.current=t},[t]),d.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=Y9([t.lockRef.current],(t.shards||[]).map(HC),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=d.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var w=Ah(y),x=n.current,N="deltaX"in y?y.deltaX:x[0]-w[0],k="deltaY"in y?y.deltaY:x[1]-w[1],A,L=y.target,C=Math.abs(N)>Math.abs(k)?"h":"v";if("touches"in y&&C==="h"&&L.type==="range")return!1;var _=zC(C,L);if(!_)return!0;if(_?A=C:(A=C==="v"?"h":"v",_=zC(C,L)),!_)return!1;if(!r.current&&"changedTouches"in y&&(N||k)&&(r.current=A),!A)return!0;var S=r.current||A;return IW(S,b,y,S==="h"?N:k)},[]),c=d.useCallback(function(y){var b=y;if(!(!Oa.length||Oa[Oa.length-1]!==i)){var w="deltaY"in b?BC(b):Ah(b),x=e.current.filter(function(A){return A.name===b.type&&(A.target===b.target||b.target===A.shadowParent)&&TW(A.delta,w)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var N=(a.current.shards||[]).map(HC).filter(Boolean).filter(function(A){return A.contains(b.target)}),k=N.length>0?l(b,N[0]):!a.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),u=d.useCallback(function(y,b,w,x){var N={name:y,delta:b,target:w,should:x,shadowParent:LW(w)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(k){return k!==N})},1)},[]),h=d.useCallback(function(y){n.current=Ah(y),r.current=void 0},[]),p=d.useCallback(function(y){u(y.type,BC(y),y.target,l(y,t.lockRef.current))},[]),m=d.useCallback(function(y){u(y.type,Ah(y),y.target,l(y,t.lockRef.current))},[]);d.useEffect(function(){return Oa.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Da),document.addEventListener("touchmove",c,Da),document.addEventListener("touchstart",h,Da),function(){Oa=Oa.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Da),document.removeEventListener("touchmove",c,Da),document.removeEventListener("touchstart",h,Da)}},[]);var g=t.removeScrollBar,v=t.inert;return d.createElement(d.Fragment,null,v?d.createElement(i,{styles:PW(s)}):null,g?d.createElement(EW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function LW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const MW=cW(fA,RW);var Tm=d.forwardRef(function(t,e){return d.createElement(Im,Rs({},t,{ref:e,sideCar:MW}))});Tm.classNames=Im.classNames;var DW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Va=new WeakMap,Rh=new WeakMap,Lh={},fy=0,vA=function(t){return t&&(t.host||vA(t.parentNode))},OW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=vA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},VW=function(t,e,n,r){var s=OW(e,Array.isArray(t)?t:[t]);Lh[n]||(Lh[n]=new WeakMap);var i=Lh[n],a=[],l=new Set,c=new Set(s),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};s.forEach(u);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(m){if(l.has(m))h(m);else try{var g=m.getAttribute(r),v=g!==null&&g!=="false",y=(Va.get(m)||0)+1,b=(i.get(m)||0)+1;Va.set(m,y),i.set(m,b),a.push(m),y===1&&v&&Rh.set(m,!0),b===1&&m.setAttribute(n,"true"),v||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return h(e),l.clear(),fy++,function(){a.forEach(function(p){var m=Va.get(p)-1,g=i.get(p)-1;Va.set(p,m),i.set(p,g),m||(Rh.has(p)||p.removeAttribute(r),Rh.delete(p)),g||p.removeAttribute(n)}),fy--,fy||(Va=new WeakMap,Va=new WeakMap,Rh=new WeakMap,Lh={})}},Uw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=DW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),VW(r,s,n,"aria-hidden")):function(){return null}},Pm="Dialog",[xA,UZ]=ir(Pm),[FW,Ns]=xA(Pm),wA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=d.useRef(null),c=d.useRef(null),[u,h]=xs({prop:r,defaultProp:s??!1,onChange:i,caller:Pm});return o.jsx(FW,{scope:e,triggerRef:l,contentRef:c,contentId:Br(),titleId:Br(),descriptionId:Br(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(p=>!p),[h]),modal:a,children:n})};wA.displayName=Pm;var bA="DialogTrigger",EA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(bA,n),i=at(e,s.triggerRef);return o.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Hw(s.open),...r,ref:i,onClick:be(t.onClick,s.onOpenToggle)})});EA.displayName=bA;var zw="DialogPortal",[$W,NA]=xA(zw,{forceMount:void 0}),CA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Ns(zw,e);return o.jsx($W,{scope:e,forceMount:n,children:d.Children.map(r,a=>o.jsx(Zr,{present:n||i.open,children:o.jsx(Wp,{asChild:!0,container:s,children:a})}))})};CA.displayName=zw;var ap="DialogOverlay",_A=d.forwardRef((t,e)=>{const n=NA(ap,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ns(ap,t.__scopeDialog);return i.modal?o.jsx(Zr,{present:r||i.open,children:o.jsx(zW,{...s,ref:e})}):null});_A.displayName=ap;var UW=la("DialogOverlay.RemoveScroll"),zW=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(ap,n);return o.jsx(Tm,{as:UW,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Ve.div,{"data-state":Hw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),va="DialogContent",SA=d.forwardRef((t,e)=>{const n=NA(va,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ns(va,t.__scopeDialog);return o.jsx(Zr,{present:r||i.open,children:i.modal?o.jsx(BW,{...s,ref:e}):o.jsx(HW,{...s,ref:e})})});SA.displayName=va;var BW=d.forwardRef((t,e)=>{const n=Ns(va,t.__scopeDialog),r=d.useRef(null),s=at(e,n.contentRef,r);return d.useEffect(()=>{const i=r.current;if(i)return Uw(i)},[]),o.jsx(jA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:be(t.onFocusOutside,i=>i.preventDefault())})}),HW=d.forwardRef((t,e)=>{const n=Ns(va,t.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(jA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),jA=d.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=Ns(va,n),c=d.useRef(null),u=at(e,c);return $w(),o.jsxs(o.Fragment,{children:[o.jsx(km,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(xd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Hw(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(WW,{titleId:l.titleId}),o.jsx(GW,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Bw="DialogTitle",kA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(Bw,n);return o.jsx(Ve.h2,{id:s.titleId,...r,ref:e})});kA.displayName=Bw;var IA="DialogDescription",TA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(IA,n);return o.jsx(Ve.p,{id:s.descriptionId,...r,ref:e})});TA.displayName=IA;var PA="DialogClose",AA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(PA,n);return o.jsx(Ve.button,{type:"button",...r,ref:e,onClick:be(t.onClick,()=>s.onOpenChange(!1))})});AA.displayName=PA;function Hw(t){return t?"open":"closed"}var RA="DialogTitleWarning",[zZ,LA]=h5(RA,{contentName:va,titleName:Bw,docsSlug:"dialog"}),WW=({titleId:t})=>{const e=LA(RA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return d.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},qW="DialogDescriptionWarning",GW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LA(qW).contentName}}.`;return d.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},MA=wA,KW=EA,DA=CA,Am=_A,Rm=SA,Lm=kA,Mm=TA,OA=AA;const ds=MA,QW=KW,YW=DA,VA=d.forwardRef(({className:t,...e},n)=>o.jsx(Am,{ref:n,className:Me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));VA.displayName=Am.displayName;const Fr=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(YW,{children:[o.jsx(VA,{}),o.jsxs(Rm,{ref:r,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(OA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(hc,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fr.displayName=Rm.displayName;const $r=({className:t,...e})=>o.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});$r.displayName="DialogHeader";const er=d.forwardRef(({className:t,...e},n)=>o.jsx(Lm,{ref:n,className:Me("text-lg font-semibold leading-none tracking-tight",t),...e}));er.displayName=Lm.displayName;const Ur=d.forwardRef(({className:t,...e},n)=>o.jsx(Mm,{ref:n,className:Me("text-sm text-muted-foreground",t),...e}));Ur.displayName=Mm.displayName;const FA=({isOpen:t,onVerified:e,onClose:n})=>{const[r,s]=d.useState(""),i=()=>{if(!r){U.error("Please enter your date of birth");return}const a=new Date,l=new Date(r);Math.floor((a.getTime()-l.getTime())/(365.25*24*60*60*1e3))>=21?(U.success("Age verification successful"),e()):U.error("You must be 21 or older to access this section")};return o.jsx(ds,{open:t,onOpenChange:n,children:o.jsxs(Fr,{className:"sm:max-w-md",children:[o.jsxs($r,{children:[o.jsxs(er,{className:"flex items-center space-x-2",children:[o.jsx("span",{children:"🍷"}),o.jsx("span",{children:"Age Verification Required"})]}),o.jsx(Ur,{children:"You must be 21 or older to access alcoholic beverages. Please verify your age to continue."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"birthdate",children:"Date of Birth"}),o.jsx($e,{id:"birthdate",type:"date",value:r,onChange:a=>s(a.target.value),className:"mt-1"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(z,{variant:"outline",onClick:n,children:"Cancel"}),o.jsx(z,{onClick:i,children:"Verify Age"})]}),o.jsx("div",{className:"text-xs text-gray-500 text-center",children:o.jsx("p",{children:"By continuing, you confirm that you are of legal drinking age in your jurisdiction."})})]})]})})},Dm=({product:t,onClose:e,onAddToCart:n})=>t?o.jsx(ds,{open:!!t,onOpenChange:e,children:o.jsx(Fr,{className:"sm:max-w-2xl",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:t.image,alt:t.name,className:"w-full h-64 md:h-80 object-cover rounded-lg"}),t.originalPrice&&o.jsxs(Tt,{className:"absolute top-2 left-2 bg-red-500",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx($r,{children:o.jsx(er,{className:"text-xl",children:t.name})}),o.jsx("div",{className:"flex items-center space-x-2 mb-2",children:o.jsx(Tt,{variant:"secondary",children:t.category})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Qr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"font-medium",children:t.rating})]}),o.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[o.jsx(ka,{className:"w-3 h-3 mr-1"}),t.deliveryTime]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-2xl font-bold",children:["₹",t.price]}),t.originalPrice&&o.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["₹",t.originalPrice]})]}),t.inStock?o.jsx(Tt,{variant:"outline",className:"text-green-600 border-green-600",children:"In Stock"}):o.jsx(Tt,{variant:"destructive",children:"Out of Stock"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold",children:"Product Features:"}),o.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[o.jsx("li",{children:"• High quality ingredients"}),o.jsx("li",{children:"• Fast delivery guaranteed"}),o.jsx("li",{children:"• Freshness assured"}),o.jsx("li",{children:"• Easy returns if not satisfied"})]})]}),o.jsxs(z,{className:"w-full",onClick:()=>{n(t),e()},disabled:!t.inStock,children:[o.jsx(Jn,{className:"w-4 h-4 mr-2"}),t.inStock?"Add to Cart":"Out of Stock"]})]})]})})}):null,Om=MA,ZW=DA,$A=d.forwardRef(({className:t,...e},n)=>o.jsx(Am,{className:Me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));$A.displayName=Am.displayName;const XW=_m("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Md=d.forwardRef(({side:t="right",className:e,children:n,...r},s)=>o.jsxs(ZW,{children:[o.jsx($A,{}),o.jsxs(Rm,{ref:s,className:Me(XW({side:t}),e),...r,children:[n,o.jsxs(OA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(hc,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Md.displayName=Rm.displayName;const Dd=({className:t,...e})=>o.jsx("div",{className:Me("flex flex-col space-y-2 text-center sm:text-left",t),...e});Dd.displayName="SheetHeader";const Od=d.forwardRef(({className:t,...e},n)=>o.jsx(Lm,{ref:n,className:Me("text-lg font-semibold text-foreground",t),...e}));Od.displayName=Lm.displayName;const UA=d.forwardRef(({className:t,...e},n)=>o.jsx(Mm,{ref:n,className:Me("text-sm text-muted-foreground",t),...e}));UA.displayName=Mm.displayName;var JW="Separator",WC="horizontal",eq=["horizontal","vertical"],zA=d.forwardRef((t,e)=>{const{decorative:n,orientation:r=WC,...s}=t,i=tq(r)?r:WC,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(Ve.div,{"data-orientation":i,...l,...s,ref:e})});zA.displayName=JW;function tq(t){return eq.includes(t)}var BA=zA;const Ww=d.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>o.jsx(BA,{ref:s,decorative:n,orientation:e,className:Me("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Ww.displayName=BA.displayName;const nq=({isOpen:t,onClose:e,cart:n,updateQuantity:r,totalPrice:s,onProceedToCheckout:i})=>{const{isDarkMode:a,toggleDarkMode:l}=Yt(),[c,u]=d.useState(""),h=Object.values(n.reduce((m,g)=>(m[g.id]?m[g.id].quantity+=g.quantity:m[g.id]={...g},m),{})),p=s>299?0:29;return o.jsx(Om,{open:t,onOpenChange:e,children:o.jsxs(Md,{className:`w-full sm:max-w-lg flex flex-col ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-l`,children:[o.jsxs(Dd,{children:[o.jsx(Od,{className:a?"text-white":"text-gray-800",children:"Shopping Cart"}),o.jsx(UA,{className:a?"text-gray-400":"text-gray-600",children:h.length===0?"Your cart is empty":`${h.length} item${h.length===1?"":"s"} in your cart`})]}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:h.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Jn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:a?"text-gray-400":"text-gray-500",children:"Your cart is empty"}),o.jsx(z,{onClick:()=>e(!1),className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white",children:"Start Shopping"})]}):o.jsx("div",{className:"space-y-4",children:h.map(m=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 border rounded-lg ${a?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx("img",{src:m.image,alt:m.name,className:"w-16 h-16 object-cover rounded-lg"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:`font-medium text-sm ${a?"text-white":"text-gray-800"}`,children:m.name}),o.jsxs("p",{className:`text-sm ${a?"text-gray-400":"text-gray-600"}`,children:["₹",m.price]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(z,{variant:"outline",size:"sm",onClick:()=>r(m.id,m.quantity-1),className:"w-8 h-8 p-0 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"-"}),o.jsx("span",{className:`text-sm font-medium w-8 text-center ${a?"text-white":"text-gray-800"}`,children:m.quantity}),o.jsx(z,{variant:"outline",size:"sm",onClick:()=>r(m.id,m.quantity+1),className:"w-8 h-8 p-0 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"+"})]})]}),o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r(m.id,0),className:"text-red-500 hover:text-red-700",children:"×"})]},m.id))})}),h.length>0&&o.jsx("div",{className:`border-t pt-4 ${a?"border-gray-700":"border-gray-200"}`,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($e,{placeholder:"Enter promo code",className:"mb-2"}),o.jsx(z,{variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Apply"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal"}),o.jsxs("span",{className:"text-gray-800",children:["₹",s.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),o.jsx("span",{className:"text-gray-800",children:p===0?"FREE":`₹${p}`})]}),s<299&&o.jsxs("p",{className:"text-xs text-green-600",children:["Add ₹",299-s," more for free delivery!"]}),o.jsx(Ww,{}),o.jsxs("div",{className:"flex justify-between font-semibold",children:[o.jsx("span",{className:"text-gray-800",children:"Total"}),o.jsxs("span",{className:"text-orange-500",children:["₹",(s>299?s:s+p).toFixed(2)]})]})]}),o.jsx(z,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:i,children:"Proceed to Checkout"}),o.jsx(z,{variant:"outline",className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>{},children:"Clear Cart"})]})})]})})},rq=["Pizza","Milk","Bread","Eggs","Coke","Biscuits","Rice","Snacks","Juice","Soap"],qC=({isOpen:t,onClose:e,onProductSelect:n,onAddToCart:r,cart:s=[]})=>{const{isDarkMode:i,toggleDarkMode:a}=Yt(),[l,c]=d.useState(""),[u,h]=d.useState([]),[p,m]=d.useState([]),[g,v]=d.useState(!1),[y,b]=d.useState("all"),[w,x]=d.useState("all"),[N,k]=d.useState(!1),[A,L]=d.useState(""),[C,_]=d.useState(!1),S=d.useRef(null),T=d.useRef(null),I=d.useRef(null);d.useEffect(()=>{C&&P()},[C]),d.useEffect(()=>{R()},[l,y,w,u]),d.useEffect(()=>{C&&S.current&&S.current.focus({preventScroll:!0})},[C]);const P=async()=>{v(!0),L("");try{console.log("Loading products for UniversalSearch..."),await LP();const V=await Xc("");if(console.log("Loaded products:",V.length),V.length===0){console.log("No products found with empty query, trying category-specific queries...");const[F,Q,ie]=await Promise.all([Xc("",Be.FOOD),Xc("",Be.DAILY_ESSENTIAL),Xc("",Be.DRINKS)]);console.log("Food products:",F.length),console.log("Daily essential products:",Q.length),console.log("Drinks products:",ie.length);const W=[...F,...Q,...ie];console.log("Combined products:",W.length),W.length===0?(console.log("Still no products found, using sample products as fallback..."),h([{id:"1",name:"Domino's Pizza",price:250,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"food",subcategory:"pizzas",description:"Delicious pizza with fresh toppings",deliveryTime:"20-25 mins",inStock:!0,isVeg:!1,discount:"20% OFF",tags:["pizza","italian","cheese","tomato"]},{id:"2",name:"Spice N Ice Biryani",price:220,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"food",subcategory:"biryani",description:"Aromatic biryani with tender meat",deliveryTime:"25-30 mins",inStock:!0,isVeg:!1,offer:"BUY1 GET1",tags:["biryani","rice","spicy","indian"]},{id:"3",name:"China Nation Noodles",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"food",subcategory:"chinese",description:"Stir-fried noodles with vegetables",deliveryTime:"15-20 mins",inStock:!0,isVeg:!0,tags:["noodles","chinese","vegetarian","stir-fry"]},{id:"4",name:"Classic Burger",price:150,rating:4.2,image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400",category:"food",subcategory:"burgers",description:"Juicy beef burger with fresh vegetables",deliveryTime:"18-22 mins",inStock:!0,isVeg:!1,discount:"15% OFF",tags:["burger","beef","fast-food","american"]},{id:"5",name:"Butter Chicken",price:280,rating:4.6,image:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400",category:"food",subcategory:"indian",description:"Creamy butter chicken with naan",deliveryTime:"30-35 mins",inStock:!0,isVeg:!1,tags:["chicken","indian","curry","butter"]},{id:"6",name:"Chocolate Cake",price:120,rating:4.4,image:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400",category:"food",subcategory:"desserts",description:"Rich chocolate cake with cream",deliveryTime:"20-25 mins",inStock:!0,isVeg:!0,tags:["cake","chocolate","dessert","sweet"]}]),L("Using sample products. Database connection may be unavailable.")):h(W)}else console.log("Setting all products:",V.length),h(V)}catch(V){console.error("Error loading products:",V),L("Failed to load products. Please try again."),U.error("Failed to load products")}finally{v(!1)}},R=()=>{let V=u;if(typeof window<"u"&&window.innerWidth>=640&&!l.trim()){m([]);return}if(l.trim()){const F=l.toLowerCase();V=V.filter(Q=>Q.name.toLowerCase().includes(F))}y&&y!=="all"&&(V=V.filter(F=>F.category===y)),w&&w!=="all"&&(V=V.filter(F=>F.subcategory===w)),m(V)},K=V=>{n&&n(V),_(!1)},H=(V,F)=>{F.stopPropagation(),r&&(r(V),U.success(`${V.name} added to cart!`))},$=()=>{b("all"),x("all"),c("")},Y=V=>{c(V),b("all"),x("all")},O=V=>{switch(V){case Be.FOOD:return"Food";case Be.DAILY_ESSENTIAL:return"Daily Essential";case Be.DRINKS:return"Drinks";default:return V}},D=Object.values(bt).filter(V=>typeof V=="string"&&V.trim()!=="").filter((V,F,Q)=>Q.indexOf(V)===F);w==="all"||D.includes(w),l.trim();const B=V=>{setTimeout(()=>{document.activeElement&&I.current&&I.current.contains(document.activeElement)||_(!1)},100)};return o.jsxs("div",{className:"relative flex-1 max-w-2xl",ref:T,children:[o.jsx($e,{ref:S,placeholder:"Search for products by name...",value:l,onFocus:()=>_(!0),onBlur:B,onChange:V=>c(V.target.value),className:`pl-10 pr-10 h-12 text-lg transition-all duration-200 border border-black/10 dark:border-black/20 outline-none focus:outline-none focus:border-transparent focus:ring-0 ${i?"bg-gray-800 text-white placeholder-gray-400":"bg-gray-50 text-gray-900 placeholder-gray-400"}`}),C&&o.jsx("div",{ref:I,className:"z-50 max-h-[70vh] h-[60vh] overflow-y-auto overscroll-contain touch-action-none p-0 shadow-2xl border-0 w-screen max-w-sm left-1/2 -translate-x-1/2 mx-auto rounded-xl fixed top-[145px] sm:absolute sm:w-[400px] sm:max-w-md sm:left-1/2 sm:-translate-x-1/2 sm:overflow-visible sm:touch-auto sm:h-auto",style:window.innerWidth>=640?{top:"110%"}:{},children:o.jsxs("div",{className:`${i?"bg-gray-900":"bg-white"} rounded-xl overflow-hidden`,children:[o.jsx("div",{className:`p-4 border-b ${i?"border-gray-700 bg-gray-800":"border-gray-100 bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:`text-lg font-semibold ${i?"text-white":"text-gray-900"}`,children:l.trim()?`Search Results (${p.length})`:"Search Products"}),l.trim()&&o.jsx(z,{variant:"ghost",size:"sm",onClick:$,className:`text-xs ${i?"text-gray-400 hover:text-orange-400":"text-gray-600 hover:text-orange-500"}`,children:"Clear"})]})}),o.jsxs("div",{className:"p-4",children:[A&&o.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm",children:A}),l.trim()||typeof window<"u"&&window.innerWidth>=640?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 hidden sm:block",children:[o.jsx("h4",{className:`text-xs font-medium mb-1 ${i?"text-gray-300":"text-gray-600"}`,children:"Popular Searches"}),o.jsx("div",{className:"flex flex-nowrap gap-1",children:rq.slice(0,6).map(V=>o.jsx(z,{variant:"outline",size:"sm",onClick:()=>Y(V),className:`px-2 py-0.5 text-[11px] rounded-full min-w-0 ${i?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:V},V))})]}),o.jsx("div",{children:g?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):p.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(xi,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),o.jsx("p",{className:`text-base font-medium ${i?"text-gray-300":"text-gray-600"}`,children:"No products found"}),o.jsx("p",{className:`text-sm ${i?"text-gray-500":"text-gray-400"}`,children:"Try adjusting your search terms"})]}):o.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:[p.slice(0,10).map(V=>o.jsxs("div",{className:`flex items-center space-x-4 p-3 rounded-xl cursor-pointer transition-all duration-200 hover:shadow-md ${i?"hover:bg-gray-800":"hover:bg-gray-50"}`,onClick:()=>K(V),children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:V.image,alt:V.name,className:"w-16 h-16 object-cover rounded-lg",onError:F=>{F.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yNCAzMkMyNi4yMDkxIDMyIDI4IDMwLjIwOTEgMjggMjhDMjggMjUuNzkwOSAyNi4yMDkxIDI0IDI0IDI0QzIxLjc5MDkgMjQgMjAgMjUuNzkwOSAyMCAyOEMyMCAzMC4yMDkxIDIxLjc5MDkgMzIgMjQgMzJaIiBmaWxsPSIjOUI5QkEwIi8+Cjwvc3ZnPgo="}}),V.discount&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-orange-500 text-white px-1.5 py-0.5 rounded-full text-xs font-bold",children:V.discount})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-semibold text-base truncate ${i?"text-white":"text-gray-900"}`,children:V.name}),o.jsx("p",{className:`text-sm truncate mb-2 ${i?"text-gray-400":"text-gray-600"}`,children:V.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["₹",V.price]}),o.jsx(Tt,{variant:"secondary",className:`text-xs ${i?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:O(V.category)})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Qr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:`text-sm ${i?"text-gray-300":"text-gray-600"}`,children:V.rating})]})]})]}),o.jsxs(z,{size:"sm",onClick:F=>H(V,F),className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded-lg flex items-center space-x-1",children:[o.jsx(uc,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs",children:"Add"})]})]},V.id)),p.length>10&&o.jsx("div",{className:"text-center py-3",children:o.jsxs("p",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:["+",p.length-10," more results"]})})]})})]}):o.jsxs("div",{className:"hidden sm:block text-center py-8",children:[o.jsx(xi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:`text-lg font-medium ${i?"text-gray-300":"text-gray-600"}`,children:"Start typing to search"}),o.jsx("p",{className:`text-sm ${i?"text-gray-500":"text-gray-400"}`,children:"Search for products by name"})]})]})]})})]})},HA=d.createContext(void 0),Vm=()=>{const t=d.useContext(HA);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},sq=({children:t})=>{const[e,n]=d.useState([]),[r,s]=d.useState(!1);d.useEffect(()=>{const m=localStorage.getItem("pickngo-cart");if(m)try{n(JSON.parse(m))}catch(g){console.error("Error loading cart from localStorage:",g)}},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(e))},[e]);const p={cart:e,addToCart:m=>{n(g=>g.find(y=>y.id===m.id)?g.map(y=>y.id===m.id?{...y,quantity:y.quantity+1}:y):[...g,{...m,quantity:1}]),setTimeout(()=>{s(!0)},100)},updateCartQuantity:(m,g)=>{n(v=>g<=0?v.filter(y=>y.id!==m):v.map(y=>y.id===m?{...y,quantity:g}:y))},removeFromCart:m=>{n(g=>g.filter(v=>v.id!==m))},clearCart:()=>{n([])},getTotalItems:()=>e.reduce((m,g)=>m+g.quantity,0),getTotalPrice:()=>e.reduce((m,g)=>m+g.price*g.quantity,0),isCartPopupOpen:r,setIsCartPopupOpen:s};return o.jsx(HA.Provider,{value:p,children:t})};var t0=["Enter"," "],iq=["ArrowDown","PageUp","Home"],WA=["ArrowUp","PageDown","End"],oq=[...iq,...WA],aq={ltr:[...t0,"ArrowRight"],rtl:[...t0,"ArrowLeft"]},lq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vd="Menu",[id,cq,uq]=Sm(Vd),[Ia,qA]=ir(Vd,[uq,Zl,pc]),Fm=Zl(),GA=pc(),[dq,Ta]=Ia(Vd),[hq,Fd]=Ia(Vd),KA=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,l=Fm(e),[c,u]=d.useState(null),h=d.useRef(!1),p=Us(i),m=fc(s);return d.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(hI,{...l,children:o.jsx(dq,{scope:e,open:n,onOpenChange:p,content:c,onContentChange:u,children:o.jsx(hq,{scope:e,onClose:d.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:m,modal:a,children:r})})})};KA.displayName=Vd;var fq="MenuAnchor",qw=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Fm(n);return o.jsx(Ex,{...s,...r,ref:e})});qw.displayName=fq;var Gw="MenuPortal",[pq,QA]=Ia(Gw,{forceMount:void 0}),YA=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ta(Gw,e);return o.jsx(pq,{scope:e,forceMount:n,children:o.jsx(Zr,{present:n||i.open,children:o.jsx(Wp,{asChild:!0,container:s,children:r})})})};YA.displayName=Gw;var Wr="MenuContent",[mq,Kw]=Ia(Wr),ZA=d.forwardRef((t,e)=>{const n=QA(Wr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ta(Wr,t.__scopeMenu),a=Fd(Wr,t.__scopeMenu);return o.jsx(id.Provider,{scope:t.__scopeMenu,children:o.jsx(Zr,{present:r||i.open,children:o.jsx(id.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(gq,{...s,ref:e}):o.jsx(yq,{...s,ref:e})})})})}),gq=d.forwardRef((t,e)=>{const n=Ta(Wr,t.__scopeMenu),r=d.useRef(null),s=at(e,r);return d.useEffect(()=>{const i=r.current;if(i)return Uw(i)},[]),o.jsx(Qw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:be(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),yq=d.forwardRef((t,e)=>{const n=Ta(Wr,t.__scopeMenu);return o.jsx(Qw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),vq=la("MenuContent.ScrollLock"),Qw=d.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:m,onDismiss:g,disableOutsideScroll:v,...y}=t,b=Ta(Wr,n),w=Fd(Wr,n),x=Fm(n),N=GA(n),k=cq(n),[A,L]=d.useState(null),C=d.useRef(null),_=at(e,C,b.onContentChange),S=d.useRef(0),T=d.useRef(""),I=d.useRef(0),P=d.useRef(null),R=d.useRef("right"),K=d.useRef(0),H=v?Tm:d.Fragment,$=v?{as:vq,allowPinchZoom:!0}:void 0,Y=D=>{var te,ce;const B=T.current+D,V=k().filter(ve=>!ve.disabled),F=document.activeElement,Q=(te=V.find(ve=>ve.ref.current===F))==null?void 0:te.textValue,ie=V.map(ve=>ve.textValue),W=Tq(ie,B,Q),ge=(ce=V.find(ve=>ve.textValue===W))==null?void 0:ce.ref.current;(function ve(Z){T.current=Z,window.clearTimeout(S.current),Z!==""&&(S.current=window.setTimeout(()=>ve(""),1e3))})(B),ge&&setTimeout(()=>ge.focus())};d.useEffect(()=>()=>window.clearTimeout(S.current),[]),$w();const O=d.useCallback(D=>{var V,F;return R.current===((V=P.current)==null?void 0:V.side)&&Aq(D,(F=P.current)==null?void 0:F.area)},[]);return o.jsx(mq,{scope:n,searchRef:T,onItemEnter:d.useCallback(D=>{O(D)&&D.preventDefault()},[O]),onItemLeave:d.useCallback(D=>{var B;O(D)||((B=C.current)==null||B.focus(),L(null))},[O]),onTriggerLeave:d.useCallback(D=>{O(D)&&D.preventDefault()},[O]),pointerGraceTimerRef:I,onPointerGraceIntentChange:d.useCallback(D=>{P.current=D},[]),children:o.jsx(H,{...$,children:o.jsx(km,{asChild:!0,trapped:s,onMountAutoFocus:be(i,D=>{var B;D.preventDefault(),(B=C.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(xd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:m,onDismiss:g,children:o.jsx(Ow,{asChild:!0,...N,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:L,onEntryFocus:be(c,D=>{w.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Nx,{role:"menu","aria-orientation":"vertical","data-state":fR(b.open),"data-radix-menu-content":"",dir:w.dir,...x,...y,ref:_,style:{outline:"none",...y.style},onKeyDown:be(y.onKeyDown,D=>{const V=D.target.closest("[data-radix-menu-content]")===D.currentTarget,F=D.ctrlKey||D.altKey||D.metaKey,Q=D.key.length===1;V&&(D.key==="Tab"&&D.preventDefault(),!F&&Q&&Y(D.key));const ie=C.current;if(D.target!==ie||!oq.includes(D.key))return;D.preventDefault();const ge=k().filter(te=>!te.disabled).map(te=>te.ref.current);WA.includes(D.key)&&ge.reverse(),kq(ge)}),onBlur:be(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(S.current),T.current="")}),onPointerMove:be(t.onPointerMove,od(D=>{const B=D.target,V=K.current!==D.clientX;if(D.currentTarget.contains(B)&&V){const F=D.clientX>K.current?"right":"left";R.current=F,K.current=D.clientX}}))})})})})})})});ZA.displayName=Wr;var xq="MenuGroup",Yw=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Ve.div,{role:"group",...r,ref:e})});Yw.displayName=xq;var wq="MenuLabel",XA=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Ve.div,{...r,ref:e})});XA.displayName=wq;var lp="MenuItem",GC="menu.itemSelect",$m=d.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=d.useRef(null),a=Fd(lp,t.__scopeMenu),l=Kw(lp,t.__scopeMenu),c=at(e,i),u=d.useRef(!1),h=()=>{const p=i.current;if(!n&&p){const m=new CustomEvent(GC,{bubbles:!0,cancelable:!0});p.addEventListener(GC,g=>r==null?void 0:r(g),{once:!0}),Bk(p,m),m.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(JA,{...s,ref:c,disabled:n,onClick:be(t.onClick,h),onPointerDown:p=>{var m;(m=t.onPointerDown)==null||m.call(t,p),u.current=!0},onPointerUp:be(t.onPointerUp,p=>{var m;u.current||(m=p.currentTarget)==null||m.click()}),onKeyDown:be(t.onKeyDown,p=>{const m=l.searchRef.current!=="";n||m&&p.key===" "||t0.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});$m.displayName=lp;var JA=d.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=Kw(lp,n),l=GA(n),c=d.useRef(null),u=at(e,c),[h,p]=d.useState(!1),[m,g]=d.useState("");return d.useEffect(()=>{const v=c.current;v&&g((v.textContent??"").trim())},[i.children]),o.jsx(id.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:o.jsx(Vw,{asChild:!0,...l,focusable:!r,children:o.jsx(Ve.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:be(t.onPointerMove,od(v=>{r?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(t.onPointerLeave,od(v=>a.onItemLeave(v))),onFocus:be(t.onFocus,()=>p(!0)),onBlur:be(t.onBlur,()=>p(!1))})})})}),bq="MenuCheckboxItem",eR=d.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return o.jsx(iR,{scope:t.__scopeMenu,checked:n,children:o.jsx($m,{role:"menuitemcheckbox","aria-checked":cp(n)?"mixed":n,...s,ref:e,"data-state":Xw(n),onSelect:be(s.onSelect,()=>r==null?void 0:r(cp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});eR.displayName=bq;var tR="MenuRadioGroup",[Eq,Nq]=Ia(tR,{value:void 0,onValueChange:()=>{}}),nR=d.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Us(r);return o.jsx(Eq,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(Yw,{...s,ref:e})})});nR.displayName=tR;var rR="MenuRadioItem",sR=d.forwardRef((t,e)=>{const{value:n,...r}=t,s=Nq(rR,t.__scopeMenu),i=n===s.value;return o.jsx(iR,{scope:t.__scopeMenu,checked:i,children:o.jsx($m,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Xw(i),onSelect:be(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});sR.displayName=rR;var Zw="MenuItemIndicator",[iR,Cq]=Ia(Zw,{checked:!1}),oR=d.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=Cq(Zw,n);return o.jsx(Zr,{present:r||cp(i.checked)||i.checked===!0,children:o.jsx(Ve.span,{...s,ref:e,"data-state":Xw(i.checked)})})});oR.displayName=Zw;var _q="MenuSeparator",aR=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});aR.displayName=_q;var Sq="MenuArrow",lR=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Fm(n);return o.jsx(Cx,{...s,...r,ref:e})});lR.displayName=Sq;var jq="MenuSub",[BZ,cR]=Ia(jq),eu="MenuSubTrigger",uR=d.forwardRef((t,e)=>{const n=Ta(eu,t.__scopeMenu),r=Fd(eu,t.__scopeMenu),s=cR(eu,t.__scopeMenu),i=Kw(eu,t.__scopeMenu),a=d.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},h=d.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return d.useEffect(()=>h,[h]),d.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),c(null)}},[l,c]),o.jsx(qw,{asChild:!0,...u,children:o.jsx(JA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":fR(n.open),...t,ref:Up(e,s.onTriggerChange),onClick:p=>{var m;(m=t.onClick)==null||m.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:be(t.onPointerMove,od(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:be(t.onPointerLeave,od(p=>{var g,v;h();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const y=(v=n.content)==null?void 0:v.dataset.side,b=y==="right",w=b?-5:5,x=m[b?"left":"right"],N=m[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+w,y:p.clientY},{x,y:m.top},{x:N,y:m.top},{x:N,y:m.bottom},{x,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:be(t.onKeyDown,p=>{var g;const m=i.searchRef.current!=="";t.disabled||m&&p.key===" "||aq[r.dir].includes(p.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),p.preventDefault())})})})});uR.displayName=eu;var dR="MenuSubContent",hR=d.forwardRef((t,e)=>{const n=QA(Wr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ta(Wr,t.__scopeMenu),a=Fd(Wr,t.__scopeMenu),l=cR(dR,t.__scopeMenu),c=d.useRef(null),u=at(e,c);return o.jsx(id.Provider,{scope:t.__scopeMenu,children:o.jsx(Zr,{present:r||i.open,children:o.jsx(id.Slot,{scope:t.__scopeMenu,children:o.jsx(Qw,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;a.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:be(t.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:be(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:be(t.onKeyDown,h=>{var g;const p=h.currentTarget.contains(h.target),m=lq[a.dir].includes(h.key);p&&m&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),h.preventDefault())})})})})})});hR.displayName=dR;function fR(t){return t?"open":"closed"}function cp(t){return t==="indeterminate"}function Xw(t){return cp(t)?"indeterminate":t?"checked":"unchecked"}function kq(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Iq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Tq(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=Iq(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Pq(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,h=l.y,p=c.x,m=c.y;h>r!=m>r&&n<(p-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function Aq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Pq(n,e)}function od(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Rq=KA,Lq=qw,Mq=YA,Dq=ZA,Oq=Yw,Vq=XA,Fq=$m,$q=eR,Uq=nR,zq=sR,Bq=oR,Hq=aR,Wq=lR,qq=uR,Gq=hR,Um="DropdownMenu",[Kq,HZ]=ir(Um,[qA]),or=qA(),[Qq,pR]=Kq(Um),mR=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=or(e),u=d.useRef(null),[h,p]=xs({prop:s,defaultProp:i??!1,onChange:a,caller:Um});return o.jsx(Qq,{scope:e,triggerId:Br(),triggerRef:u,contentId:Br(),open:h,onOpenChange:p,onOpenToggle:d.useCallback(()=>p(m=>!m),[p]),modal:l,children:o.jsx(Rq,{...c,open:h,onOpenChange:p,dir:r,modal:l,children:n})})};mR.displayName=Um;var gR="DropdownMenuTrigger",yR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=pR(gR,n),a=or(n);return o.jsx(Lq,{asChild:!0,...a,children:o.jsx(Ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Up(e,i.triggerRef),onPointerDown:be(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:be(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});yR.displayName=gR;var Yq="DropdownMenuPortal",vR=t=>{const{__scopeDropdownMenu:e,...n}=t,r=or(e);return o.jsx(Mq,{...r,...n})};vR.displayName=Yq;var xR="DropdownMenuContent",wR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pR(xR,n),i=or(n),a=d.useRef(!1);return o.jsx(Dq,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:be(t.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:be(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!s.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wR.displayName=xR;var Zq="DropdownMenuGroup",Xq=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Oq,{...s,...r,ref:e})});Xq.displayName=Zq;var Jq="DropdownMenuLabel",bR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Vq,{...s,...r,ref:e})});bR.displayName=Jq;var eG="DropdownMenuItem",ER=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Fq,{...s,...r,ref:e})});ER.displayName=eG;var tG="DropdownMenuCheckboxItem",NR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx($q,{...s,...r,ref:e})});NR.displayName=tG;var nG="DropdownMenuRadioGroup",rG=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Uq,{...s,...r,ref:e})});rG.displayName=nG;var sG="DropdownMenuRadioItem",CR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(zq,{...s,...r,ref:e})});CR.displayName=sG;var iG="DropdownMenuItemIndicator",_R=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Bq,{...s,...r,ref:e})});_R.displayName=iG;var oG="DropdownMenuSeparator",SR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Hq,{...s,...r,ref:e})});SR.displayName=oG;var aG="DropdownMenuArrow",lG=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Wq,{...s,...r,ref:e})});lG.displayName=aG;var cG="DropdownMenuSubTrigger",jR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(qq,{...s,...r,ref:e})});jR.displayName=cG;var uG="DropdownMenuSubContent",kR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Gq,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kR.displayName=uG;var dG=mR,hG=yR,fG=vR,IR=wR,TR=bR,PR=ER,AR=NR,RR=CR,LR=_R,MR=SR,DR=jR,OR=kR;const Yi=dG,Zi=hG,pG=d.forwardRef(({className:t,inset:e,children:n,...r},s)=>o.jsxs(DR,{ref:s,className:Me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(VP,{className:"ml-auto h-4 w-4"})]}));pG.displayName=DR.displayName;const mG=d.forwardRef(({className:t,...e},n)=>o.jsx(OR,{ref:n,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));mG.displayName=OR.displayName;const si=d.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(fG,{children:o.jsx(IR,{ref:r,sideOffset:e,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));si.displayName=IR.displayName;const vt=d.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(PR,{ref:r,className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));vt.displayName=PR.displayName;const gG=d.forwardRef(({className:t,children:e,checked:n,...r},s)=>o.jsxs(AR,{ref:s,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(LR,{children:o.jsx(Rd,{className:"h-4 w-4"})})}),e]}));gG.displayName=AR.displayName;const yG=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(RR,{ref:r,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(LR,{children:o.jsx(FP,{className:"h-2 w-2 fill-current"})})}),e]}));yG.displayName=RR.displayName;const ii=d.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(TR,{ref:r,className:Me("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));ii.displayName=TR.displayName;const Er=d.forwardRef(({className:t,...e},n)=>o.jsx(MR,{ref:n,className:Me("-mx-1 my-1 h-px bg-muted",t),...e}));Er.displayName=MR.displayName;function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function vG(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xG(t){var e=vG(t,"string");return ad(e)=="symbol"?e:e+""}function re(t,e,n){return(e=xG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var py,KC;function wG(){if(KC)return py;KC=1;var t=function(n,r,s,i,a,l,c,u){if(!n){var h;if(r===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[s,i,a,l,c,u],m=0;h=new Error(r.replace(/%s/g,function(){return p[m++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return py=t,py}var bG=wG(),vn=VR(bG),Ze=d.createContext(null);function EG(){vn(!!d.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=d.useContext(Ze);return vn(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function NG(t,e,n){return Object.keys(t).reduce(function(s,i){return e(s,t[i],i)},n)}function CG(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function _G(t,e,n,r){var s={},i=(a,l)=>{var c=n[l];c!==e[l]&&(s[l]=c,a(r,c))};return CG(t,i),s}function SG(t,e,n){var r=NG(n,function(i,a,l){return typeof t[l]=="function"&&i.push(google.maps.event.addListener(e,a,t[l])),i},[]);return r}function jG(t){google.maps.event.removeListener(t)}function nt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(jG)}function et(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:s,instance:i}=t,a=SG(s,i,n);return _G(e,r,s,i),a}var QC={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},YC={extraMapTypes(t,e){e.forEach(function(r,s){t.mapTypes.set(String(s),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function kG(t){var{children:e,options:n,id:r,mapContainerStyle:s,mapContainerClassName:i,center:a,onClick:l,onDblClick:c,onDrag:u,onDragEnd:h,onDragStart:p,onMouseMove:m,onMouseOut:g,onMouseOver:v,onMouseDown:y,onMouseUp:b,onRightClick:w,onCenterChanged:x,onLoad:N,onUnmount:k}=t,[A,L]=d.useState(null),C=d.useRef(null),[_,S]=d.useState(null),[T,I]=d.useState(null),[P,R]=d.useState(null),[K,H]=d.useState(null),[$,Y]=d.useState(null),[O,D]=d.useState(null),[B,V]=d.useState(null),[F,Q]=d.useState(null),[ie,W]=d.useState(null),[ge,te]=d.useState(null),[ce,ve]=d.useState(null),[Z,X]=d.useState(null);return d.useEffect(()=>{n&&A!==null&&A.setOptions(n)},[A,n]),d.useEffect(()=>{A!==null&&typeof a<"u"&&A.setCenter(a)},[A,a]),d.useEffect(()=>{A&&c&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(A,"dblclick",c)))},[c]),d.useEffect(()=>{A&&h&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(A,"dragend",h)))},[h]),d.useEffect(()=>{A&&p&&(K!==null&&google.maps.event.removeListener(K),H(google.maps.event.addListener(A,"dragstart",p)))},[p]),d.useEffect(()=>{A&&y&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(A,"mousedown",y)))},[y]),d.useEffect(()=>{A&&m&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(A,"mousemove",m)))},[m]),d.useEffect(()=>{A&&g&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(A,"mouseout",g)))},[g]),d.useEffect(()=>{A&&v&&(F!==null&&google.maps.event.removeListener(F),Q(google.maps.event.addListener(A,"mouseover",v)))},[v]),d.useEffect(()=>{A&&b&&(ie!==null&&google.maps.event.removeListener(ie),W(google.maps.event.addListener(A,"mouseup",b)))},[b]),d.useEffect(()=>{A&&w&&(ge!==null&&google.maps.event.removeListener(ge),te(google.maps.event.addListener(A,"rightclick",w)))},[w]),d.useEffect(()=>{A&&l&&(ce!==null&&google.maps.event.removeListener(ce),ve(google.maps.event.addListener(A,"click",l)))},[l]),d.useEffect(()=>{A&&u&&(Z!==null&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(A,"drag",u)))},[u]),d.useEffect(()=>{A&&x&&(_!==null&&google.maps.event.removeListener(_),S(google.maps.event.addListener(A,"center_changed",x)))},[l]),d.useEffect(()=>{var ne=C.current===null?null:new google.maps.Map(C.current,n);return L(ne),ne!==null&&N&&N(ne),()=>{ne!==null&&k&&k(ne)}},[]),o.jsx("div",{id:r,ref:C,style:s,className:i,children:o.jsx(Ze.Provider,{value:A,children:A!==null?e:null})})}d.memo(kG);class FR extends d.PureComponent{constructor(){super(...arguments),re(this,"state",{map:null}),re(this,"registeredEvents",[]),re(this,"mapRef",null),re(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),re(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),re(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),re(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=et({updaterMap:YC,eventMap:QC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:YC,eventMap:QC,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),nt(this.registeredEvents))}render(){return o.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:o.jsx(Ze.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function ZC(t,e,n,r,s,i,a){try{var l=t[i](a),c=l.value}catch(u){return void n(u)}l.done?e(c):Promise.resolve(c).then(r,s)}function $R(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function a(c){ZC(i,r,s,a,l,"next",c)}function l(c){ZC(i,r,s,a,l,"throw",c)}a(void 0)})}}function UR(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:s,region:i,libraries:a,channel:l,mapIds:c,authReferrerPolicy:u,apiUrl:h="https://maps.googleapis.com"}=t,p=[];return vn(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?p.push("key=".concat(e)):n&&p.push("client=".concat(n)),r&&p.push("v=".concat(r)),s&&p.push("language=".concat(s)),i&&p.push("region=".concat(i)),a&&a.length&&p.push("libraries=".concat(a.sort().join(","))),l&&p.push("channel=".concat(l)),c&&c.length&&p.push("map_ids=".concat(c.join(","))),u&&p.push("auth_referrer_policy=".concat(u)),p.push("loading=async"),p.push("callback=initMap"),"".concat(h,"/maps/api/js?").concat(p.join("&"))}var Xi=typeof document<"u";function zR(t){var{url:e,id:n,nonce:r}=t;return Xi?new Promise(function(i,a){var l=document.getElementById(n),c=window;if(l){var u=l.getAttribute("data-state");if(l.src===e&&u!=="error"){if(u==="ready")return i(n);var h=c.initMap,p=l.onerror;c.initMap=function(){h&&h(),i(n)},l.onerror=function(g){p&&p(g),a(g)};return}else l.remove()}var m=document.createElement("script");m.type="text/javascript",m.src=e,m.id=n,m.async=!0,m.nonce=r||"",m.onerror=function(v){m.setAttribute("data-state","error"),a(v)},c.initMap=function(){m.setAttribute("data-state","ready"),i(n)},document.head.appendChild(m)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function XC(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function Jw(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(s,i){return XC(s)||Reflect.apply(e,t,[s,i]),s};var n=t.appendChild.bind(t);t.appendChild=function(s){return XC(s)||Reflect.apply(n,t,[s]),s}}}var Vc=!1;function BR(){return o.jsx("div",{children:"Loading..."})}var ld={id:"script-loader",version:"weekly"};class IG extends d.PureComponent{constructor(){super(...arguments),re(this,"check",null),re(this,"state",{loaded:!1}),re(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),re(this,"isCleaningUp",$R(function*(){function e(n){if(!Vc)n();else if(Xi)var r=window.setInterval(function(){Vc||(window.clearInterval(r),n())},1)}return new Promise(e)})),re(this,"cleanup",()=>{Vc=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),re(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Jw(),vn(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:UR(this.props)};zR(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),re(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Xi){if(window.google&&window.google.maps&&!Vc){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Xi&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Xi){this.cleanup();var e=()=>{this.check||(delete window.google,Vc=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||o.jsx(BR,{})]})}}re(IG,"defaultProps",ld);function TG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function eb(t,e){if(t==null)return{};var n,r,s=TG(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var JC;function PG(t){var{id:e=ld.id,version:n=ld.version,nonce:r,googleMapsApiKey:s,googleMapsClientId:i,language:a,region:l,libraries:c,preventGoogleFontsLoading:u,channel:h,mapIds:p,authReferrerPolicy:m,apiUrl:g="https://maps.googleapis.com"}=t,v=d.useRef(!1),[y,b]=d.useState(!1),[w,x]=d.useState(void 0);d.useEffect(function(){return v.current=!0,()=>{v.current=!1}},[]),d.useEffect(function(){Xi&&u&&Jw()},[u]),d.useEffect(function(){y&&vn(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[y]);var N=UR({version:n,googleMapsApiKey:s,googleMapsClientId:i,language:a,region:l,libraries:c,channel:h,mapIds:p,authReferrerPolicy:m,apiUrl:g});d.useEffect(function(){if(!Xi)return;function L(){v.current&&(b(!0),JC=N)}if(window.google&&window.google.maps&&JC===N){L();return}zR({id:e,url:N,nonce:r}).then(L).catch(function(_){v.current&&x(_),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(i||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(_)})},[e,N,r]);var k=d.useRef(void 0);return d.useEffect(function(){k.current&&c!==k.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),k.current=c},[c]),{isLoaded:y,loadError:w,url:N}}var AG=["loadingElement","onLoad","onError","onUnmount","children"],RG=o.jsx(BR,{});function LG(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:s,children:i}=t,a=eb(t,AG),{isLoaded:l,loadError:c}=PG(a);return d.useEffect(function(){l&&typeof n=="function"&&n()},[l,n]),d.useEffect(function(){c&&typeof r=="function"&&r(c)},[c,r]),d.useEffect(function(){return()=>{s&&s()}},[s]),l?i:e||RG}d.memo(LG);function MG(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(p){a(p)}}function c(h){try{u(r.throw(h))}catch(p){a(p)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,[])).next())})}function DG(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OG=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},VG=DG(OG),e_="__googleMapsScriptId",tl;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(tl||(tl={}));class Fo{constructor(e){var{apiKey:n,authReferrerPolicy:r,channel:s,client:i,id:a=e_,language:l,libraries:c=[],mapIds:u,nonce:h,region:p,retries:m=3,url:g="https://maps.googleapis.com/maps/api/js",version:v}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=s,this.client=i,this.id=a||e_,this.language=l,this.libraries=c,this.mapIds=u,this.nonce=h,this.region=p,this.retries=m,this.url=g,this.version=v,Fo.instance){if(!VG(this.options,Fo.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Fo.instance.options)));return Fo.instance}Fo.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?tl.FAILURE:this.done?tl.SUCCESS:this.loading?tl.LOADING:tl.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(i=>!r[i]&&delete r[i]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(i=>{var a,l,c,u="The Google Maps JavaScript API",h="google",p="importLibrary",m="__ib__",g=document,v=window;v=v[h]||(v[h]={});var y=v.maps||(v.maps={}),b=new Set,w=new URLSearchParams,x=()=>a||(a=new Promise((N,k)=>MG(this,void 0,void 0,function*(){var A;yield l=g.createElement("script"),l.id=this.id,w.set("libraries",[...b]+"");for(c in i)w.set(c.replace(/[A-Z]/g,L=>"_"+L[0].toLowerCase()),i[c]);w.set("callback",h+".maps."+m),l.src=this.url+"?"+w,y[m]=N,l.onerror=()=>a=k(Error(u+" could not load.")),l.nonce=this.nonce||((A=g.querySelector("script[nonce]"))===null||A===void 0?void 0:A.nonce)||"",g.head.append(l)})));y[p]?console.warn(u+" only loads once. Ignoring:",i):y[p]=function(N){for(var k=arguments.length,A=new Array(k>1?k-1:0),L=1;L<k;L++)A[L-1]=arguments[L];return b.add(N)&&x().then(()=>y[p](N,...A))}})(r);var s=this.libraries.map(i=>this.importLibrary(i));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),i=>{var a=new ErrorEvent("error",{error:i});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var FG=["maps"];function HR(t){var{id:e=ld.id,version:n=ld.version,nonce:r,googleMapsApiKey:s,language:i,region:a,libraries:l=FG,preventGoogleFontsLoading:c,mapIds:u,authReferrerPolicy:h}=t,p=d.useRef(!1),[m,g]=d.useState(!1),[v,y]=d.useState(void 0);d.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]);var b=d.useMemo(()=>new Fo({id:e,apiKey:s,version:n,libraries:l,language:i||"en",region:a||"US",mapIds:u||[],nonce:r||"",authReferrerPolicy:h||"origin"}),[e,s,n,l,i,a,u,r,h]);d.useEffect(function(){m||b.load().then(()=>{p.current&&g(!0)}).catch(N=>{y(N)})},[]),d.useEffect(()=>{Xi&&c&&Jw()},[c]);var w=d.useRef();return d.useEffect(()=>{w.current&&l!==w.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),w.current=l},[l]),{isLoaded:m,loadError:v}}function t_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var n_={},r_={options(t,e){t.setOptions(e)}};function $G(t){var{options:e,onLoad:n,onUnmount:r}=t,s=d.useContext(Ze),[i,a]=d.useState(null);return d.useEffect(()=>{i!==null&&i.setMap(s)},[s]),d.useEffect(()=>{e&&i!==null&&i.setOptions(e)},[i,e]),d.useEffect(()=>{var l=new google.maps.TrafficLayer(up(up({},e),{},{map:s}));return a(l),n&&n(l),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}d.memo($G);class UG extends d.PureComponent{constructor(){super(...arguments),re(this,"state",{trafficLayer:null}),re(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),re(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(up(up({},this.props.options),{},{map:this.context}));this.registeredEvents=et({updaterMap:r_,eventMap:n_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:r_,eventMap:n_,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),nt(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}re(UG,"contextType",Ze);function zG(t){var{onLoad:e,onUnmount:n}=t,r=d.useContext(Ze),[s,i]=d.useState(null);return d.useEffect(()=>{s!==null&&s.setMap(r)},[r]),d.useEffect(()=>{var a=new google.maps.BicyclingLayer;return i(a),a.setMap(r),e&&e(a),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}d.memo(zG);class BG extends d.PureComponent{constructor(){super(...arguments),re(this,"state",{bicyclingLayer:null}),re(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}re(BG,"contextType",Ze);function HG(t){var{onLoad:e,onUnmount:n}=t,r=d.useContext(Ze),[s,i]=d.useState(null);return d.useEffect(()=>{s!==null&&s.setMap(r)},[r]),d.useEffect(()=>{var a=new google.maps.TransitLayer;return i(a),a.setMap(r),e&&e(a),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}d.memo(HG);class WG extends d.PureComponent{constructor(){super(...arguments),re(this,"state",{transitLayer:null}),re(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}re(WG,"contextType",Ze);function s_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var i_={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},o_={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function qG(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:s,onOverlayComplete:i,onPolygonComplete:a,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:h}=t,p=d.useContext(Ze),[m,g]=d.useState(null),[v,y]=d.useState(null),[b,w]=d.useState(null),[x,N]=d.useState(null),[k,A]=d.useState(null),[L,C]=d.useState(null),[_,S]=d.useState(null);return d.useEffect(()=>{m!==null&&m.setMap(p)},[p]),d.useEffect(()=>{e&&m!==null&&m.setOptions(e)},[m,e]),d.useEffect(()=>{m!==null&&m.setDrawingMode(n??null)},[m,n]),d.useEffect(()=>{m&&r&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(m,"circlecomplete",r)))},[m,r]),d.useEffect(()=>{m&&s&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(m,"markercomplete",s)))},[m,s]),d.useEffect(()=>{m&&i&&(x!==null&&google.maps.event.removeListener(x),N(google.maps.event.addListener(m,"overlaycomplete",i)))},[m,i]),d.useEffect(()=>{m&&a&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(m,"polygoncomplete",a)))},[m,a]),d.useEffect(()=>{m&&l&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(m,"polylinecomplete",l)))},[m,l]),d.useEffect(()=>{m&&c&&(_!==null&&google.maps.event.removeListener(_),S(google.maps.event.addListener(m,"rectanglecomplete",c)))},[m,c]),d.useEffect(()=>{vn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var T=new google.maps.drawing.DrawingManager(dp(dp({},e),{},{map:p}));return n&&T.setDrawingMode(n),r&&y(google.maps.event.addListener(T,"circlecomplete",r)),s&&w(google.maps.event.addListener(T,"markercomplete",s)),i&&N(google.maps.event.addListener(T,"overlaycomplete",i)),a&&A(google.maps.event.addListener(T,"polygoncomplete",a)),l&&C(google.maps.event.addListener(T,"polylinecomplete",l)),c&&S(google.maps.event.addListener(T,"rectanglecomplete",c)),g(T),u&&u(T),()=>{m!==null&&(v&&google.maps.event.removeListener(v),b&&google.maps.event.removeListener(b),x&&google.maps.event.removeListener(x),k&&google.maps.event.removeListener(k),L&&google.maps.event.removeListener(L),_&&google.maps.event.removeListener(_),h&&h(m),m.setMap(null))}},[]),null}d.memo(qG);class GG extends d.PureComponent{constructor(e){super(e),re(this,"registeredEvents",[]),re(this,"state",{drawingManager:null}),re(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),vn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(dp(dp({},this.props.options),{},{map:this.context}));this.registeredEvents=et({updaterMap:o_,eventMap:i_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:o_,eventMap:i_,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),nt(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}re(GG,"contextType",Ze);function a_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var l_={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},c_={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},hp={};function KG(t){var{position:e,options:n,clusterer:r,noClustererRedraw:s,children:i,draggable:a,visible:l,animation:c,clickable:u,cursor:h,icon:p,label:m,opacity:g,shape:v,title:y,zIndex:b,onClick:w,onDblClick:x,onDrag:N,onDragEnd:k,onDragStart:A,onMouseOut:L,onMouseOver:C,onMouseUp:_,onMouseDown:S,onRightClick:T,onClickableChanged:I,onCursorChanged:P,onAnimationChanged:R,onDraggableChanged:K,onFlatChanged:H,onIconChanged:$,onPositionChanged:Y,onShapeChanged:O,onTitleChanged:D,onVisibleChanged:B,onZindexChanged:V,onLoad:F,onUnmount:Q}=t,ie=d.useContext(Ze),[W,ge]=d.useState(null),[te,ce]=d.useState(null),[ve,Z]=d.useState(null),[X,ne]=d.useState(null),[xe,Le]=d.useState(null),[ee,Pe]=d.useState(null),[qe,Nt]=d.useState(null),[Xe,st]=d.useState(null),[ze,q]=d.useState(null),[pe,he]=d.useState(null),[lt,oe]=d.useState(null),[we,ke]=d.useState(null),[wt,kt]=d.useState(null),[St,Rt]=d.useState(null),[Mt,Bt]=d.useState(null),[De,Pt]=d.useState(null),[hn,ue]=d.useState(null),[Se,He]=d.useState(null),[ft,Ht]=d.useState(null),[ct,It]=d.useState(null),[Ae,Qe]=d.useState(null),[tt,Zt]=d.useState(null);d.useEffect(()=>{W!==null&&W.setMap(ie)},[ie]),d.useEffect(()=>{typeof n<"u"&&W!==null&&W.setOptions(n)},[W,n]),d.useEffect(()=>{typeof a<"u"&&W!==null&&W.setDraggable(a)},[W,a]),d.useEffect(()=>{e&&W!==null&&W.setPosition(e)},[W,e]),d.useEffect(()=>{typeof l<"u"&&W!==null&&W.setVisible(l)},[W,l]),d.useEffect(()=>{W==null||W.setAnimation(c)},[W,c]),d.useEffect(()=>{W&&u!==void 0&&W.setClickable(u)},[W,u]),d.useEffect(()=>{W&&h!==void 0&&W.setCursor(h)},[W,h]),d.useEffect(()=>{W&&p!==void 0&&W.setIcon(p)},[W,p]),d.useEffect(()=>{W&&m!==void 0&&W.setLabel(m)},[W,m]),d.useEffect(()=>{W&&g!==void 0&&W.setOpacity(g)},[W,g]),d.useEffect(()=>{W&&v!==void 0&&W.setShape(v)},[W,v]),d.useEffect(()=>{W&&y!==void 0&&W.setTitle(y)},[W,y]),d.useEffect(()=>{W&&b!==void 0&&W.setZIndex(b)},[W,b]),d.useEffect(()=>{W&&x&&(te!==null&&google.maps.event.removeListener(te),ce(google.maps.event.addListener(W,"dblclick",x)))},[x]),d.useEffect(()=>{W&&k&&(ve!==null&&google.maps.event.removeListener(ve),Z(google.maps.event.addListener(W,"dragend",k)))},[k]),d.useEffect(()=>{W&&A&&(X!==null&&google.maps.event.removeListener(X),ne(google.maps.event.addListener(W,"dragstart",A)))},[A]),d.useEffect(()=>{W&&S&&(xe!==null&&google.maps.event.removeListener(xe),Le(google.maps.event.addListener(W,"mousedown",S)))},[S]),d.useEffect(()=>{W&&L&&(ee!==null&&google.maps.event.removeListener(ee),Pe(google.maps.event.addListener(W,"mouseout",L)))},[L]),d.useEffect(()=>{W&&C&&(qe!==null&&google.maps.event.removeListener(qe),Nt(google.maps.event.addListener(W,"mouseover",C)))},[C]),d.useEffect(()=>{W&&_&&(Xe!==null&&google.maps.event.removeListener(Xe),st(google.maps.event.addListener(W,"mouseup",_)))},[_]),d.useEffect(()=>{W&&T&&(ze!==null&&google.maps.event.removeListener(ze),q(google.maps.event.addListener(W,"rightclick",T)))},[T]),d.useEffect(()=>{W&&w&&(pe!==null&&google.maps.event.removeListener(pe),he(google.maps.event.addListener(W,"click",w)))},[w]),d.useEffect(()=>{W&&N&&(lt!==null&&google.maps.event.removeListener(lt),oe(google.maps.event.addListener(W,"drag",N)))},[N]),d.useEffect(()=>{W&&I&&(we!==null&&google.maps.event.removeListener(we),ke(google.maps.event.addListener(W,"clickable_changed",I)))},[I]),d.useEffect(()=>{W&&P&&(wt!==null&&google.maps.event.removeListener(wt),kt(google.maps.event.addListener(W,"cursor_changed",P)))},[P]),d.useEffect(()=>{W&&R&&(St!==null&&google.maps.event.removeListener(St),Rt(google.maps.event.addListener(W,"animation_changed",R)))},[R]),d.useEffect(()=>{W&&K&&(Mt!==null&&google.maps.event.removeListener(Mt),Bt(google.maps.event.addListener(W,"draggable_changed",K)))},[K]),d.useEffect(()=>{W&&H&&(De!==null&&google.maps.event.removeListener(De),Pt(google.maps.event.addListener(W,"flat_changed",H)))},[H]),d.useEffect(()=>{W&&$&&(hn!==null&&google.maps.event.removeListener(hn),ue(google.maps.event.addListener(W,"icon_changed",$)))},[$]),d.useEffect(()=>{W&&Y&&(Se!==null&&google.maps.event.removeListener(Se),He(google.maps.event.addListener(W,"position_changed",Y)))},[Y]),d.useEffect(()=>{W&&O&&(ft!==null&&google.maps.event.removeListener(ft),Ht(google.maps.event.addListener(W,"shape_changed",O)))},[O]),d.useEffect(()=>{W&&D&&(ct!==null&&google.maps.event.removeListener(ct),It(google.maps.event.addListener(W,"title_changed",D)))},[D]),d.useEffect(()=>{W&&B&&(Ae!==null&&google.maps.event.removeListener(Ae),Qe(google.maps.event.addListener(W,"visible_changed",B)))},[B]),d.useEffect(()=>{W&&V&&(tt!==null&&google.maps.event.removeListener(tt),Zt(google.maps.event.addListener(W,"zindex_changed",V)))},[V]),d.useEffect(()=>{var pt=vl(vl(vl({},n||hp),r?hp:{map:ie}),{},{position:e}),Ee=new google.maps.Marker(pt);return r?r.addMarker(Ee,!!s):Ee.setMap(ie),e&&Ee.setPosition(e),typeof l<"u"&&Ee.setVisible(l),typeof a<"u"&&Ee.setDraggable(a),typeof u<"u"&&Ee.setClickable(u),typeof h=="string"&&Ee.setCursor(h),p&&Ee.setIcon(p),typeof m<"u"&&Ee.setLabel(m),typeof g<"u"&&Ee.setOpacity(g),v&&Ee.setShape(v),typeof y=="string"&&Ee.setTitle(y),typeof b=="number"&&Ee.setZIndex(b),x&&ce(google.maps.event.addListener(Ee,"dblclick",x)),k&&Z(google.maps.event.addListener(Ee,"dragend",k)),A&&ne(google.maps.event.addListener(Ee,"dragstart",A)),S&&Le(google.maps.event.addListener(Ee,"mousedown",S)),L&&Pe(google.maps.event.addListener(Ee,"mouseout",L)),C&&Nt(google.maps.event.addListener(Ee,"mouseover",C)),_&&st(google.maps.event.addListener(Ee,"mouseup",_)),T&&q(google.maps.event.addListener(Ee,"rightclick",T)),w&&he(google.maps.event.addListener(Ee,"click",w)),N&&oe(google.maps.event.addListener(Ee,"drag",N)),I&&ke(google.maps.event.addListener(Ee,"clickable_changed",I)),P&&kt(google.maps.event.addListener(Ee,"cursor_changed",P)),R&&Rt(google.maps.event.addListener(Ee,"animation_changed",R)),K&&Bt(google.maps.event.addListener(Ee,"draggable_changed",K)),H&&Pt(google.maps.event.addListener(Ee,"flat_changed",H)),$&&ue(google.maps.event.addListener(Ee,"icon_changed",$)),Y&&He(google.maps.event.addListener(Ee,"position_changed",Y)),O&&Ht(google.maps.event.addListener(Ee,"shape_changed",O)),D&&It(google.maps.event.addListener(Ee,"title_changed",D)),B&&Qe(google.maps.event.addListener(Ee,"visible_changed",B)),V&&Zt(google.maps.event.addListener(Ee,"zindex_changed",V)),ge(Ee),F&&F(Ee),()=>{te!==null&&google.maps.event.removeListener(te),ve!==null&&google.maps.event.removeListener(ve),X!==null&&google.maps.event.removeListener(X),xe!==null&&google.maps.event.removeListener(xe),ee!==null&&google.maps.event.removeListener(ee),qe!==null&&google.maps.event.removeListener(qe),Xe!==null&&google.maps.event.removeListener(Xe),ze!==null&&google.maps.event.removeListener(ze),pe!==null&&google.maps.event.removeListener(pe),we!==null&&google.maps.event.removeListener(we),wt!==null&&google.maps.event.removeListener(wt),St!==null&&google.maps.event.removeListener(St),Mt!==null&&google.maps.event.removeListener(Mt),De!==null&&google.maps.event.removeListener(De),hn!==null&&google.maps.event.removeListener(hn),Se!==null&&google.maps.event.removeListener(Se),ct!==null&&google.maps.event.removeListener(ct),Ae!==null&&google.maps.event.removeListener(Ae),tt!==null&&google.maps.event.removeListener(tt),Q&&Q(Ee),r?r.removeMarker(Ee,!!s):Ee&&Ee.setMap(null)}},[]);var xn=d.useMemo(()=>i?d.Children.map(i,pt=>{if(!d.isValidElement(pt))return pt;var Ee=pt;return d.cloneElement(Ee,{anchor:W})}):null,[i,W]);return o.jsx(o.Fragment,{children:xn})||null}d.memo(KG);class fp extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[])}componentDidMount(){var e=this;return $R(function*(){var n=vl(vl(vl({},e.props.options||hp),e.props.clusterer?hp:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=et({updaterMap:c_,eventMap:l_,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:c_,eventMap:l_,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),nt(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?d.Children.map(this.props.children,n=>{if(!d.isValidElement(n))return n;var r=n;return d.cloneElement(r,{anchor:this.marker})}):null;return e||null}}re(fp,"contextType",Ze);var QG=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),s=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(s),this.timeOut=window.setTimeout(function(){var a=n.getMap();if(a!==null){"fitBounds"in a&&a.fitBounds(s);var l=a.getZoom()||0;r!==null&&l>r&&a.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,s,i,a;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),u=parseInt(((e=c[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((n=c[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),p=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(p!==null?"".concat(p.y,"px"):"0","; left: ").concat(p!==null?"".concat(p.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var m=document.createElement("img");m.alt=l,m.src=this.url,m.width=this.width,m.height=this.height,m.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(m.style.clip="rect(-".concat(h,"px, -").concat(u+this.width,"px, -").concat(h+this.height,", -").concat(u,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(g.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(g.innerHTML="".concat((a=this.sums)===null||a===void 0?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(m),this.div.appendChild(g),this.div.title=l,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),YG=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new QG(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,s=n;r<s.length;r++){var i=s[r],a=i.getPosition();a&&e.extend(a)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+r.lat())/s,(this.center.lng()*(s-1)+r.lng())/s),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var i=this.markers.length,a=this.markerClusterer.getMaxZoom(),l=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(a!==null&&typeof l<"u"&&l>a)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var c=0,u=this.markers;c<u.length;c++){var h=u[c];h.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof s<"u"&&s>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function ZG(t,e){var n=t.length,r=n.toString().length,s=Math.min(r,e);return{text:n.toString(),index:s,title:""}}var XG=2e3,JG=500,eK="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",tK="png",nK=[53,56,66,78,90],rK="cluster",WR=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||eK,this.imageExtension=r.imageExtension||tK,this.imageSizes=r.imageSizes||nK,this.calculator=r.calculator||ZG,this.batchSize=r.batchSize||XG,this.batchSizeIE=r.batchSizeIE||JG,this.clusterClass=r.clusterClass||rK,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var s=0,i=this.clusters;s<i.length;s++){var a=i[s];a.remove()}this.clusters=[];for(var l=0,c=this.listeners;l<c.length;l++){var u=c[l];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,s=e;r<s.length;r++){var i=s[r],a=i.getPosition();a&&n.extend(a)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];s&&this.pushMarkerTo(s)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,s=0,i=e;s<i.length;s++){var a=i[s];r=r||this.removeMarker_(a)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,s=e;r<s.length;r++){var i=s[r];i.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&e.extend(i)}if(s!==null){var a=n.fromDivPixelToLatLng(s);a!==null&&e.extend(a)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var s=r[n];s.remove()}this.clusters=[];for(var i=0,a=this.markers;i<a.length;i++){var l=a[i];l.isAdded=!1,e&&l.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,s=(n.lat()-e.lat())*Math.PI/180,i=(n.lng()-e.lng())*Math.PI/180,a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return r*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,s=null,i=0,a=this.clusters;i<a.length;i++){var l=a[i];n=l;var c=n.getCenter(),u=e.getPosition();if(c&&u){var h=this.distanceBetweenPoints(c,u);h<r&&(r=h,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new YG(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),s=r!==null&&("getBounds"in r)?r.getBounds():null,i=(r==null?void 0:r.getZoom())||0,a=i>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(a),c=Math.min(e+this.batchSize,this.markers.length),u=e;u<c;u++){var h=this.markers[u];h&&!h.isAdded&&this.isMarkerInBounds(h,l)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var p=0,m=this.clusters;p<m.length;p++){var g=m[p];g.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype){var a=i;this.prototype[a]=s.prototype[a]}return this}).apply(e,[n])},t}();function u_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function sK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Rr={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},yt={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},iK={};function oK(t){var{children:e,options:n,averageCenter:r,batchSizeIE:s,calculator:i,clusterClass:a,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:h,imagePath:p,imageSizes:m,maxZoom:g,minimumClusterSize:v,styles:y,title:b,zoomOnClick:w,onClick:x,onClusteringBegin:N,onClusteringEnd:k,onMouseOver:A,onMouseOut:L,onLoad:C,onUnmount:_}=t,[S,T]=d.useState(null),I=d.useContext(Ze),[P,R]=d.useState(null),[K,H]=d.useState(null),[$,Y]=d.useState(null),[O,D]=d.useState(null),[B,V]=d.useState(null);return d.useEffect(()=>{S&&L&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(S,Rr.onMouseOut,L)))},[L]),d.useEffect(()=>{S&&A&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(S,Rr.onMouseOver,A)))},[A]),d.useEffect(()=>{S&&x&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(S,Rr.onClick,x)))},[x]),d.useEffect(()=>{S&&N&&(K!==null&&google.maps.event.removeListener(K),H(google.maps.event.addListener(S,Rr.onClusteringBegin,N)))},[N]),d.useEffect(()=>{S&&k&&($!==null&&google.maps.event.removeListener($),H(google.maps.event.addListener(S,Rr.onClusteringEnd,k)))},[k]),d.useEffect(()=>{typeof r<"u"&&S!==null&&yt.averageCenter(S,r)},[S,r]),d.useEffect(()=>{typeof s<"u"&&S!==null&&yt.batchSizeIE(S,s)},[S,s]),d.useEffect(()=>{typeof i<"u"&&S!==null&&yt.calculator(S,i)},[S,i]),d.useEffect(()=>{typeof a<"u"&&S!==null&&yt.clusterClass(S,a)},[S,a]),d.useEffect(()=>{typeof l<"u"&&S!==null&&yt.enableRetinaIcons(S,l)},[S,l]),d.useEffect(()=>{typeof c<"u"&&S!==null&&yt.gridSize(S,c)},[S,c]),d.useEffect(()=>{typeof u<"u"&&S!==null&&yt.ignoreHidden(S,u)},[S,u]),d.useEffect(()=>{typeof h<"u"&&S!==null&&yt.imageExtension(S,h)},[S,h]),d.useEffect(()=>{typeof p<"u"&&S!==null&&yt.imagePath(S,p)},[S,p]),d.useEffect(()=>{typeof m<"u"&&S!==null&&yt.imageSizes(S,m)},[S,m]),d.useEffect(()=>{typeof g<"u"&&S!==null&&yt.maxZoom(S,g)},[S,g]),d.useEffect(()=>{typeof v<"u"&&S!==null&&yt.minimumClusterSize(S,v)},[S,v]),d.useEffect(()=>{typeof y<"u"&&S!==null&&yt.styles(S,y)},[S,y]),d.useEffect(()=>{typeof b<"u"&&S!==null&&yt.title(S,b)},[S,b]),d.useEffect(()=>{typeof w<"u"&&S!==null&&yt.zoomOnClick(S,w)},[S,w]),d.useEffect(()=>{if(I){var F=sK({},n||iK),Q=new WR(I,[],F);return r&&yt.averageCenter(Q,r),s&&yt.batchSizeIE(Q,s),i&&yt.calculator(Q,i),a&&yt.clusterClass(Q,a),l&&yt.enableRetinaIcons(Q,l),c&&yt.gridSize(Q,c),u&&yt.ignoreHidden(Q,u),h&&yt.imageExtension(Q,h),p&&yt.imagePath(Q,p),m&&yt.imageSizes(Q,m),g&&yt.maxZoom(Q,g),v&&yt.minimumClusterSize(Q,v),y&&yt.styles(Q,y),b&&yt.title(Q,b),w&&yt.zoomOnClick(Q,w),L&&D(google.maps.event.addListener(Q,Rr.onMouseOut,L)),A&&V(google.maps.event.addListener(Q,Rr.onMouseOver,A)),x&&R(google.maps.event.addListener(Q,Rr.onClick,x)),N&&H(google.maps.event.addListener(Q,Rr.onClusteringBegin,N)),k&&Y(google.maps.event.addListener(Q,Rr.onClusteringEnd,k)),T(Q),C&&C(Q),()=>{O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),P!==null&&google.maps.event.removeListener(P),K!==null&&google.maps.event.removeListener(K),$!==null&&google.maps.event.removeListener($),_&&_(Q)}}},[]),S!==null&&e(S)||null}d.memo(oK);class aK extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{markerClusterer:null}),re(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new WR(this.context,[],this.props.options);this.registeredEvents=et({updaterMap:yt,eventMap:Rr,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:yt,eventMap:Rr,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),nt(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}re(aK,"contextType",Ze);function d_(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var qR=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(h){h.returnValue=!1,h.preventDefault&&h.preventDefault(),e.enableEventPropagation||d_(h)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0,l=i;a<l.length;a++){var c=l[a];this.eventListeners.push(google.maps.event.addListener(this.div,c,d_))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,s=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var a=n.getDiv(),l=a.offsetWidth,c=a.offsetHeight,u=this.pixelOffset.width,h=this.pixelOffset.height,p=this.div.offsetWidth,m=this.div.offsetHeight,g=this.infoBoxClearance.width,v=this.infoBoxClearance.height,y=this.getProjection(),b=y.fromLatLngToContainerPixel(this.position);b!==null&&(b.x<-u+g?r=b.x+u-g:b.x+p+u+g>l&&(r=b.x+p+u+g-l),this.alignBottom?b.y<-h+v+m?s=b.y+h-v-m:b.y+h+v>c&&(s=b.y+h+v-c):b.y<-h+v?s=b.y+h-v:b.y+m+h+v>c&&(s=b.y+m+h+v-c)),r===0&&s===0||n.panBy(r,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();r.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=s.prototype[i]);return this}).apply(e,[n])},t}(),lK=["position"],cK=["position"];function h_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var f_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},p_={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},uK={};function dK(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:h,onLoad:p,onUnmount:m}=t,g=d.useContext(Ze),[v,y]=d.useState(null),[b,w]=d.useState(null),[x,N]=d.useState(null),[k,A]=d.useState(null),[L,C]=d.useState(null),[_,S]=d.useState(null),T=d.useRef(null);return d.useEffect(()=>{g&&v!==null&&(v.close(),n?v.open(g,n):v.getPosition()&&v.open(g))},[g,v,n]),d.useEffect(()=>{r&&v!==null&&v.setOptions(r)},[v,r]),d.useEffect(()=>{if(s&&v!==null){var I=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);v.setPosition(I)}},[s]),d.useEffect(()=>{typeof i=="number"&&v!==null&&v.setZIndex(i)},[i]),d.useEffect(()=>{v&&a&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(v,"closeclick",a)))},[a]),d.useEffect(()=>{v&&l&&(x!==null&&google.maps.event.removeListener(x),N(google.maps.event.addListener(v,"domready",l)))},[l]),d.useEffect(()=>{v&&c&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(v,"content_changed",c)))},[c]),d.useEffect(()=>{v&&u&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(v,"position_changed",u)))},[u]),d.useEffect(()=>{v&&h&&(_!==null&&google.maps.event.removeListener(_),S(google.maps.event.addListener(v,"zindex_changed",h)))},[h]),d.useEffect(()=>{if(g){var I=r||uK,{position:P}=I,R=eb(I,lK),K;P&&!(P instanceof google.maps.LatLng)&&(K=new google.maps.LatLng(P.lat,P.lng));var H=new qR(pp(pp({},R),K?{position:K}:{}));T.current=document.createElement("div"),y(H),a&&w(google.maps.event.addListener(H,"closeclick",a)),l&&N(google.maps.event.addListener(H,"domready",l)),c&&A(google.maps.event.addListener(H,"content_changed",c)),u&&C(google.maps.event.addListener(H,"position_changed",u)),h&&S(google.maps.event.addListener(H,"zindex_changed",h)),H.setContent(T.current),n?H.open(g,n):H.getPosition()?H.open(g):vn(!1,"You must provide either an anchor or a position prop for <InfoBox>."),p&&p(H)}return()=>{v!==null&&(b&&google.maps.event.removeListener(b),k&&google.maps.event.removeListener(k),x&&google.maps.event.removeListener(x),L&&google.maps.event.removeListener(L),_&&google.maps.event.removeListener(_),m&&m(v),v.close())}},[]),T.current?Yr.createPortal(d.Children.only(e),T.current):null}d.memo(dK);class hK extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",null),re(this,"state",{infoBox:null}),re(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):vn(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),re(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=eb(e,cK),s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));var i=new qR(pp(pp({},r),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=et({updaterMap:p_,eventMap:f_,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:p_,eventMap:f_,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),nt(this.registeredEvents),n.close())}render(){return this.containerElement?Yr.createPortal(d.Children.only(this.props.children),this.containerElement):null}}re(hK,"contextType",Ze);var my,m_;function fK(){return m_||(m_=1,my=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),my}var pK=fK(),g_=VR(pK),y_=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],gy=1,Fc=8;class tb{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=r>>4;if(s!==gy)throw new Error("Got v".concat(s," data when expected v").concat(gy,"."));var i=y_[r&15];if(!i)throw new Error("Unrecognized array type.");var[a]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new tb(l,a,i,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=y_.indexOf(this.ArrayType),a=e*2*this.ArrayType.BYTES_PER_ELEMENT,l=e*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-l%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(r,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,Fc,e),this.coords=new this.ArrayType(this.data,Fc+l+c,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Fc+a+l+c),this.ids=new this.IndexArrayType(this.data,Fc,e),this.coords=new this.ArrayType(this.data,Fc+l+c,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(gy<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return n0(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:a,nodeSize:l}=this,c=[0,i.length-1,0],u=[];c.length;){var h=c.pop()||0,p=c.pop()||0,m=c.pop()||0;if(p-m<=l){for(var g=m;g<=p;g++){var v=a[2*g],y=a[2*g+1];v>=e&&v<=r&&y>=n&&y<=s&&u.push(i[g])}continue}var b=m+p>>1,w=a[2*b],x=a[2*b+1];w>=e&&w<=r&&x>=n&&x<=s&&u.push(i[b]),(h===0?e<=w:n<=x)&&(c.push(m),c.push(b-1),c.push(1-h)),(h===0?r>=w:s>=x)&&(c.push(b+1),c.push(p),c.push(1-h))}return u}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:i,nodeSize:a}=this,l=[0,s.length-1,0],c=[],u=r*r;l.length;){var h=l.pop()||0,p=l.pop()||0,m=l.pop()||0;if(p-m<=a){for(var g=m;g<=p;g++)v_(i[2*g],i[2*g+1],e,n)<=u&&c.push(s[g]);continue}var v=m+p>>1,y=i[2*v],b=i[2*v+1];v_(y,b,e,n)<=u&&c.push(s[v]),(h===0?e-r<=y:n-r<=b)&&(l.push(m),l.push(v-1),l.push(1-h)),(h===0?e+r>=y:n+r>=b)&&(l.push(v+1),l.push(p),l.push(1-h))}return c}}function n0(t,e,n,r,s,i){if(!(s-r<=n)){var a=r+s>>1;GR(t,e,a,r,s,i),n0(t,e,n,r,a-1,1-i),n0(t,e,n,a+1,s,1-i)}}function GR(t,e,n,r,s,i){for(;s>r;){if(s-r>600){var a=s-r+1,l=n-r+1,c=Math.log(a),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1),p=Math.max(r,Math.floor(n-l*u/a+h)),m=Math.min(s,Math.floor(n+(a-l)*u/a+h));GR(t,e,n,p,m,i)}var g=e[2*n+i],v=r,y=s;for($c(t,e,r,n),e[2*s+i]>g&&$c(t,e,r,s);v<y;){for($c(t,e,v,y),v++,y--;e[2*v+i]<g;)v++;for(;e[2*y+i]>g;)y--}e[2*r+i]===g?$c(t,e,r,y):(y++,$c(t,e,y,s)),y<=n&&(r=y+1),n<=y&&(s=y-1)}}function $c(t,e,n,r){yy(t,n,r),yy(e,2*n,2*r),yy(e,2*n+1,2*r+1)}function yy(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v_(t,e,n,r){var s=t-n,i=e-r;return s*s+i*i}var mK={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},x_=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Mo=2,Li=3,vy=4,Pi=5,KR=6;class gK{constructor(e){this.options=Object.assign(Object.create(mK),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:s}=this.options;n&&console.time("total time");var i="prepare ".concat(e.length," points");n&&console.time(i),this.points=e;for(var a=[],l=0;l<e.length;l++){var c=e[l];if(c.geometry){var[u,h]=c.geometry.coordinates,p=x_(Mh(u)),m=x_(Dh(h));a.push(p,m,1/0,l,-1,1),this.options.reduce&&a.push(0)}}var g=this.trees[s+1]=this._createTree(a);n&&console.timeEnd(i);for(var v=s;v>=r;v--){var y=+Date.now();g=this.trees[v]=this._createTree(this._cluster(g,v)),n&&console.log("z%d: %d clusters in %dms",v,g.numItems,+Date.now()-y)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var l=this.getClusters([r,s,180,a],n),c=this.getClusters([-180,s,i,a],n);return l.concat(c)}var u=this.trees[this._limitZoom(n)],h=u.range(Mh(r),Dh(a),Mh(i),Dh(s)),p=u.data,m=[];for(var g of h){var v=this.stride*g;m.push(p[v+Pi]>1?w_(p,v,this.clusterProps):this.points[p[v+Li]])}return m}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(s);var a=i.data;if(n*this.stride>=a.length)throw new Error(s);var l=this.options.radius/(this.options.extent*Math.pow(2,r-1)),c=a[n*this.stride],u=a[n*this.stride+1],h=i.within(c,u,l),p=[];for(var m of h){var g=m*this.stride;a[g+vy]===e&&p.push(a[g+Pi]>1?w_(a,g,this.clusterProps):this.points[a[g+Li]])}if(p.length===0)throw new Error(s);return p}getLeaves(e,n,r){n=n||10,r=r||0;var s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){var s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:a,radius:l}=this.options,c=l/a,u=(r-c)/i,h=(r+1+c)/i,p={features:[]};return this._addTileFeatures(s.range((n-c)/i,u,(n+1+c)/i,h),s.data,n,r,i,p),n===0&&this._addTileFeatures(s.range(1-c/i,u,1,h),s.data,i,r,i,p),n===i-1&&this._addTileFeatures(s.range(0,u,c/i,h),s.data,-1,r,i,p),p.features.length?p:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,i){var a=this.getChildren(n);for(var l of a){var c=l.properties;if(c&&c.cluster?i+c.point_count<=s?i+=c.point_count:i=this._appendLeaves(e,c.cluster_id,r,s,i):i<s?i++:e.push(l),e.length===r)break}return i}_createTree(e){for(var n=new tb(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,s,i,a){for(var l of e){var c=l*this.stride,u=n[c+Pi]>1,h=void 0,p=void 0,m=void 0;if(u)h=QR(n,c,this.clusterProps),p=n[c],m=n[c+1];else{var g=this.points[n[c+Li]];h=g.properties;var[v,y]=g.geometry.coordinates;p=Mh(v),m=Dh(y)}var b={type:1,geometry:[[Math.round(this.options.extent*(p*i-r)),Math.round(this.options.extent*(m*i-s))]],tags:h},w=void 0;u||this.options.generateId?w=n[c+Li]:w=this.points[n[c+Li]].id,w!==void 0&&(b.id=w),a.features.push(b)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:s,reduce:i,minPoints:a}=this.options,l=r/(s*Math.pow(2,n)),c=e.data,u=[],h=this.stride,p=0;p<c.length;p+=h)if(!(c[p+Mo]<=n)){c[p+Mo]=n;var m=c[p],g=c[p+1],v=e.within(c[p],c[p+1],l),y=c[p+Pi],b=y;for(var w of v){var x=w*h;c[x+Mo]>n&&(b+=c[x+Pi])}if(b>y&&b>=a){var N=m*y,k=g*y,A=void 0,L=-1,C=((p/h|0)<<5)+(n+1)+this.points.length;for(var _ of v){var S=_*h;if(!(c[S+Mo]<=n)){c[S+Mo]=n;var T=c[S+Pi];N+=c[S]*T,k+=c[S+1]*T,c[S+vy]=C,i&&(A||(A=this._map(c,p,!0),L=this.clusterProps.length,this.clusterProps.push(A)),i(A,this._map(c,S)))}}c[p+vy]=C,u.push(N/b,k/b,1/0,C,-1,b),i&&u.push(L)}else{for(var I=0;I<h;I++)u.push(c[p+I]);if(b>1)for(var P of v){var R=P*h;if(!(c[R+Mo]<=n)){c[R+Mo]=n;for(var K=0;K<h;K++)u.push(c[R+K])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Pi]>1){var s=this.clusterProps[e[n+KR]];return r?Object.assign({},s):s}var i=this.points[e[n+Li]].properties,a=this.options.map(i);return r&&a===i?Object.assign({},a):a}}function w_(t,e,n){return{type:"Feature",id:t[e+Li],properties:QR(t,e,n),geometry:{type:"Point",coordinates:[yK(t[e]),vK(t[e+1])]}}}function QR(t,e,n){var r=t[e+Pi],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,i=t[e+KR],a=i===-1?{}:Object.assign({},n[i]);return Object.assign(a,{cluster:!0,cluster_id:t[e+Li],point_count:r,point_count_abbreviated:s})}function Mh(t){return t/360+.5}function Dh(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function yK(t){return(t-.5)*360}function vK(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function xK(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class Cr{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class r0{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Cr.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Cr.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Cr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class wK{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return bK(n)}}var bK=t=>{var e=t.map(n=>new r0({position:Cr.getPosition(n),markers:[n]}));return e};class EK extends wK{constructor(e){var{maxZoom:n,radius:r=60}=e,s=xK(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new gK(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!g_(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var s=this.markers.map(i=>{var a=Cr.getPosition(i),l=[a.lng(),a.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{marker:i}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!g_(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:s}=e;if(s.cluster)return new r0({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:r,lng:n}});var i=s.marker;return new r0({markers:[i],position:Cr.getPosition(i)})}}class NK{constructor(e,n){this.markers={sum:e.length};var r=n.map(i=>i.count),s=r.reduce((i,a)=>i+a,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class CK{render(e,n,r){var{count:s,position:i}=e,a=s>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(a,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),c="Cluster of ".concat(s," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+s;if(Cr.isAdvancedMarkerAvailable(r)){var h=new DOMParser,p=h.parseFromString(l,"image/svg+xml").documentElement;p.setAttribute("transform","translate(0 25)");var m={map:r,position:i,zIndex:u,title:c,content:p};return new google.maps.marker.AdvancedMarkerElement(m)}var g={position:i,zIndex:u,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(g)}}function _K(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class nb{constructor(){_K(nb,google.maps.OverlayView)}}var Eu;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Eu||(Eu={}));var SK=(t,e,n)=>{n.fitBounds(e.bounds)};class jK extends nb{constructor(e){var{map:n,markers:r=[],algorithmOptions:s={},algorithm:i=new EK(s),renderer:a=new CK,onClusterClick:l=SK}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=a,this.onClusterClick=l,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(Cr.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Eu.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var s=new Set;for(var i of n)i.markers.length==1&&s.add(i.markers[0]);var a=[];for(var l of this.clusters)l.marker!=null&&(l.markers.length==1?s.has(l.marker)||Cr.setMap(l.marker,null):a.push(l.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>a.forEach(c=>Cr.setMap(c,null)))}google.maps.event.trigger(this,Eu.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Cr.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new NK(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(s=>Cr.setMap(s,null)),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,Eu.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),Cr.setMap(r.marker,n)})}}function b_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function E_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kK(t){var e=EG(),[n,r]=d.useState(null);return d.useEffect(()=>{if(e&&n===null){var s=new jK(E_(E_({},t),{},{map:e}));r(s)}},[e]),n}function IK(t){var{children:e,options:n}=t,r=kK(n);return r!==null?e(r):null}d.memo(IK);var N_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},C_={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function TK(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:h,onLoad:p,onUnmount:m}=t,g=d.useContext(Ze),[v,y]=d.useState(null),[b,w]=d.useState(null),[x,N]=d.useState(null),[k,A]=d.useState(null),[L,C]=d.useState(null),[_,S]=d.useState(null),T=d.useRef(null);return d.useEffect(()=>{v!==null&&(v.close(),n?v.open(g,n):v.getPosition()&&v.open(g))},[g,v,n]),d.useEffect(()=>{r&&v!==null&&v.setOptions(r)},[v,r]),d.useEffect(()=>{s&&v!==null&&v.setPosition(s)},[s]),d.useEffect(()=>{typeof i=="number"&&v!==null&&v.setZIndex(i)},[i]),d.useEffect(()=>{v&&a&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(v,"closeclick",a)))},[a]),d.useEffect(()=>{v&&l&&(x!==null&&google.maps.event.removeListener(x),N(google.maps.event.addListener(v,"domready",l)))},[l]),d.useEffect(()=>{v&&c&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(v,"content_changed",c)))},[c]),d.useEffect(()=>{v&&u&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(v,"position_changed",u)))},[u]),d.useEffect(()=>{v&&h&&(_!==null&&google.maps.event.removeListener(_),S(google.maps.event.addListener(v,"zindex_changed",h)))},[h]),d.useEffect(()=>{var I=new google.maps.InfoWindow(r);return y(I),T.current=document.createElement("div"),a&&w(google.maps.event.addListener(I,"closeclick",a)),l&&N(google.maps.event.addListener(I,"domready",l)),c&&A(google.maps.event.addListener(I,"content_changed",c)),u&&C(google.maps.event.addListener(I,"position_changed",u)),h&&S(google.maps.event.addListener(I,"zindex_changed",h)),I.setContent(T.current),s&&I.setPosition(s),i&&I.setZIndex(i),n?I.open(g,n):I.getPosition()?I.open(g):vn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),p&&p(I),()=>{b&&google.maps.event.removeListener(b),k&&google.maps.event.removeListener(k),x&&google.maps.event.removeListener(x),L&&google.maps.event.removeListener(L),_&&google.maps.event.removeListener(_),m&&m(I),I.close()}},[]),T.current?Yr.createPortal(d.Children.only(e),T.current):null}d.memo(TK);class PK extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",null),re(this,"state",{infoWindow:null}),re(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):vn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),re(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=et({updaterMap:C_,eventMap:N_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:C_,eventMap:N_,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(nt(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Yr.createPortal(d.Children.only(this.props.children),this.containerElement):null}}re(PK,"contextType",Ze);function __(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?__(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var S_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},j_={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},AK={};function RK(t){var{options:e,draggable:n,editable:r,visible:s,path:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:g,onRightClick:v,onClick:y,onDrag:b,onLoad:w,onUnmount:x}=t,N=d.useContext(Ze),[k,A]=d.useState(null),[L,C]=d.useState(null),[_,S]=d.useState(null),[T,I]=d.useState(null),[P,R]=d.useState(null),[K,H]=d.useState(null),[$,Y]=d.useState(null),[O,D]=d.useState(null),[B,V]=d.useState(null),[F,Q]=d.useState(null),[ie,W]=d.useState(null),[ge,te]=d.useState(null);return d.useEffect(()=>{k!==null&&k.setMap(N)},[N]),d.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),d.useEffect(()=>{typeof n<"u"&&k!==null&&k.setDraggable(n)},[k,n]),d.useEffect(()=>{typeof r<"u"&&k!==null&&k.setEditable(r)},[k,r]),d.useEffect(()=>{typeof s<"u"&&k!==null&&k.setVisible(s)},[k,s]),d.useEffect(()=>{typeof i<"u"&&k!==null&&k.setPath(i)},[k,i]),d.useEffect(()=>{k&&a&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(k,"dblclick",a)))},[a]),d.useEffect(()=>{k&&l&&(_!==null&&google.maps.event.removeListener(_),S(google.maps.event.addListener(k,"dragend",l)))},[l]),d.useEffect(()=>{k&&c&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(k,"dragstart",c)))},[c]),d.useEffect(()=>{k&&u&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(k,"mousedown",u)))},[u]),d.useEffect(()=>{k&&h&&(K!==null&&google.maps.event.removeListener(K),H(google.maps.event.addListener(k,"mousemove",h)))},[h]),d.useEffect(()=>{k&&p&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(k,"mouseout",p)))},[p]),d.useEffect(()=>{k&&m&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(k,"mouseover",m)))},[m]),d.useEffect(()=>{k&&g&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(k,"mouseup",g)))},[g]),d.useEffect(()=>{k&&v&&(F!==null&&google.maps.event.removeListener(F),Q(google.maps.event.addListener(k,"rightclick",v)))},[v]),d.useEffect(()=>{k&&y&&(ie!==null&&google.maps.event.removeListener(ie),W(google.maps.event.addListener(k,"click",y)))},[y]),d.useEffect(()=>{k&&b&&(ge!==null&&google.maps.event.removeListener(ge),te(google.maps.event.addListener(k,"drag",b)))},[b]),d.useEffect(()=>{var ce=new google.maps.Polyline(mp(mp({},e||AK),{},{map:N}));return i&&ce.setPath(i),typeof s<"u"&&ce.setVisible(s),typeof r<"u"&&ce.setEditable(r),typeof n<"u"&&ce.setDraggable(n),a&&C(google.maps.event.addListener(ce,"dblclick",a)),l&&S(google.maps.event.addListener(ce,"dragend",l)),c&&I(google.maps.event.addListener(ce,"dragstart",c)),u&&R(google.maps.event.addListener(ce,"mousedown",u)),h&&H(google.maps.event.addListener(ce,"mousemove",h)),p&&Y(google.maps.event.addListener(ce,"mouseout",p)),m&&D(google.maps.event.addListener(ce,"mouseover",m)),g&&V(google.maps.event.addListener(ce,"mouseup",g)),v&&Q(google.maps.event.addListener(ce,"rightclick",v)),y&&W(google.maps.event.addListener(ce,"click",y)),b&&te(google.maps.event.addListener(ce,"drag",b)),A(ce),w&&w(ce),()=>{L!==null&&google.maps.event.removeListener(L),_!==null&&google.maps.event.removeListener(_),T!==null&&google.maps.event.removeListener(T),P!==null&&google.maps.event.removeListener(P),K!==null&&google.maps.event.removeListener(K),$!==null&&google.maps.event.removeListener($),O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),F!==null&&google.maps.event.removeListener(F),ie!==null&&google.maps.event.removeListener(ie),x&&x(ce),ce.setMap(null)}},[]),null}d.memo(RK);class YR extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{polyline:null}),re(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(mp(mp({},this.props.options),{},{map:this.context}));this.registeredEvents=et({updaterMap:j_,eventMap:S_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:j_,eventMap:S_,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),nt(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}re(YR,"contextType",Ze);function k_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function I_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var T_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},P_={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function LK(t){var{options:e,draggable:n,editable:r,visible:s,path:i,paths:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseUp:v,onRightClick:y,onClick:b,onDrag:w,onLoad:x,onUnmount:N,onEdit:k}=t,A=d.useContext(Ze),[L,C]=d.useState(null),[_,S]=d.useState(null),[T,I]=d.useState(null),[P,R]=d.useState(null),[K,H]=d.useState(null),[$,Y]=d.useState(null),[O,D]=d.useState(null),[B,V]=d.useState(null),[F,Q]=d.useState(null),[ie,W]=d.useState(null),[ge,te]=d.useState(null),[ce,ve]=d.useState(null);return d.useEffect(()=>{L!==null&&L.setMap(A)},[A]),d.useEffect(()=>{typeof e<"u"&&L!==null&&L.setOptions(e)},[L,e]),d.useEffect(()=>{typeof n<"u"&&L!==null&&L.setDraggable(n)},[L,n]),d.useEffect(()=>{typeof r<"u"&&L!==null&&L.setEditable(r)},[L,r]),d.useEffect(()=>{typeof s<"u"&&L!==null&&L.setVisible(s)},[L,s]),d.useEffect(()=>{typeof i<"u"&&L!==null&&L.setPath(i)},[L,i]),d.useEffect(()=>{typeof a<"u"&&L!==null&&L.setPaths(a)},[L,a]),d.useEffect(()=>{L&&typeof l=="function"&&(_!==null&&google.maps.event.removeListener(_),S(google.maps.event.addListener(L,"dblclick",l)))},[l]),d.useEffect(()=>{L&&(google.maps.event.addListener(L.getPath(),"insert_at",()=>{k==null||k(L)}),google.maps.event.addListener(L.getPath(),"set_at",()=>{k==null||k(L)}),google.maps.event.addListener(L.getPath(),"remove_at",()=>{k==null||k(L)}))},[L,k]),d.useEffect(()=>{L&&typeof c=="function"&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(L,"dragend",c)))},[c]),d.useEffect(()=>{L&&typeof u=="function"&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(L,"dragstart",u)))},[u]),d.useEffect(()=>{L&&typeof h=="function"&&(K!==null&&google.maps.event.removeListener(K),H(google.maps.event.addListener(L,"mousedown",h)))},[h]),d.useEffect(()=>{L&&typeof p=="function"&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(L,"mousemove",p)))},[p]),d.useEffect(()=>{L&&typeof m=="function"&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(L,"mouseout",m)))},[m]),d.useEffect(()=>{L&&typeof g=="function"&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(L,"mouseover",g)))},[g]),d.useEffect(()=>{L&&typeof v=="function"&&(F!==null&&google.maps.event.removeListener(F),Q(google.maps.event.addListener(L,"mouseup",v)))},[v]),d.useEffect(()=>{L&&typeof y=="function"&&(ie!==null&&google.maps.event.removeListener(ie),W(google.maps.event.addListener(L,"rightclick",y)))},[y]),d.useEffect(()=>{L&&typeof b=="function"&&(ge!==null&&google.maps.event.removeListener(ge),te(google.maps.event.addListener(L,"click",b)))},[b]),d.useEffect(()=>{L&&typeof w=="function"&&(ce!==null&&google.maps.event.removeListener(ce),ve(google.maps.event.addListener(L,"drag",w)))},[w]),d.useEffect(()=>{var Z=new google.maps.Polygon(I_(I_({},e),{},{map:A}));return i&&Z.setPath(i),a&&Z.setPaths(a),typeof s<"u"&&Z.setVisible(s),typeof r<"u"&&Z.setEditable(r),typeof n<"u"&&Z.setDraggable(n),l&&S(google.maps.event.addListener(Z,"dblclick",l)),c&&I(google.maps.event.addListener(Z,"dragend",c)),u&&R(google.maps.event.addListener(Z,"dragstart",u)),h&&H(google.maps.event.addListener(Z,"mousedown",h)),p&&Y(google.maps.event.addListener(Z,"mousemove",p)),m&&D(google.maps.event.addListener(Z,"mouseout",m)),g&&V(google.maps.event.addListener(Z,"mouseover",g)),v&&Q(google.maps.event.addListener(Z,"mouseup",v)),y&&W(google.maps.event.addListener(Z,"rightclick",y)),b&&te(google.maps.event.addListener(Z,"click",b)),w&&ve(google.maps.event.addListener(Z,"drag",w)),C(Z),x&&x(Z),()=>{_!==null&&google.maps.event.removeListener(_),T!==null&&google.maps.event.removeListener(T),P!==null&&google.maps.event.removeListener(P),K!==null&&google.maps.event.removeListener(K),$!==null&&google.maps.event.removeListener($),O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),F!==null&&google.maps.event.removeListener(F),ie!==null&&google.maps.event.removeListener(ie),ge!==null&&google.maps.event.removeListener(ge),N&&N(Z),Z.setMap(null)}},[]),null}d.memo(LK);class MK extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=et({updaterMap:P_,eventMap:T_,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:P_,eventMap:T_,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),nt(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}re(MK,"contextType",Ze);function A_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var R_={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},L_={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function DK(t){var{options:e,bounds:n,draggable:r,editable:s,visible:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:g,onRightClick:v,onClick:y,onDrag:b,onBoundsChanged:w,onLoad:x,onUnmount:N}=t,k=d.useContext(Ze),[A,L]=d.useState(null),[C,_]=d.useState(null),[S,T]=d.useState(null),[I,P]=d.useState(null),[R,K]=d.useState(null),[H,$]=d.useState(null),[Y,O]=d.useState(null),[D,B]=d.useState(null),[V,F]=d.useState(null),[Q,ie]=d.useState(null),[W,ge]=d.useState(null),[te,ce]=d.useState(null),[ve,Z]=d.useState(null);return d.useEffect(()=>{A!==null&&A.setMap(k)},[k]),d.useEffect(()=>{typeof e<"u"&&A!==null&&A.setOptions(e)},[A,e]),d.useEffect(()=>{typeof r<"u"&&A!==null&&A.setDraggable(r)},[A,r]),d.useEffect(()=>{typeof s<"u"&&A!==null&&A.setEditable(s)},[A,s]),d.useEffect(()=>{typeof i<"u"&&A!==null&&A.setVisible(i)},[A,i]),d.useEffect(()=>{typeof n<"u"&&A!==null&&A.setBounds(n)},[A,n]),d.useEffect(()=>{A&&a&&(C!==null&&google.maps.event.removeListener(C),_(google.maps.event.addListener(A,"dblclick",a)))},[a]),d.useEffect(()=>{A&&l&&(S!==null&&google.maps.event.removeListener(S),T(google.maps.event.addListener(A,"dragend",l)))},[l]),d.useEffect(()=>{A&&c&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(A,"dragstart",c)))},[c]),d.useEffect(()=>{A&&u&&(R!==null&&google.maps.event.removeListener(R),K(google.maps.event.addListener(A,"mousedown",u)))},[u]),d.useEffect(()=>{A&&h&&(H!==null&&google.maps.event.removeListener(H),$(google.maps.event.addListener(A,"mousemove",h)))},[h]),d.useEffect(()=>{A&&p&&(Y!==null&&google.maps.event.removeListener(Y),O(google.maps.event.addListener(A,"mouseout",p)))},[p]),d.useEffect(()=>{A&&m&&(D!==null&&google.maps.event.removeListener(D),B(google.maps.event.addListener(A,"mouseover",m)))},[m]),d.useEffect(()=>{A&&g&&(V!==null&&google.maps.event.removeListener(V),F(google.maps.event.addListener(A,"mouseup",g)))},[g]),d.useEffect(()=>{A&&v&&(Q!==null&&google.maps.event.removeListener(Q),ie(google.maps.event.addListener(A,"rightclick",v)))},[v]),d.useEffect(()=>{A&&y&&(W!==null&&google.maps.event.removeListener(W),ge(google.maps.event.addListener(A,"click",y)))},[y]),d.useEffect(()=>{A&&b&&(te!==null&&google.maps.event.removeListener(te),ce(google.maps.event.addListener(A,"drag",b)))},[b]),d.useEffect(()=>{A&&w&&(ve!==null&&google.maps.event.removeListener(ve),Z(google.maps.event.addListener(A,"bounds_changed",w)))},[w]),d.useEffect(()=>{var X=new google.maps.Rectangle(gp(gp({},e),{},{map:k}));return typeof i<"u"&&X.setVisible(i),typeof s<"u"&&X.setEditable(s),typeof r<"u"&&X.setDraggable(r),typeof n<"u"&&X.setBounds(n),a&&_(google.maps.event.addListener(X,"dblclick",a)),l&&T(google.maps.event.addListener(X,"dragend",l)),c&&P(google.maps.event.addListener(X,"dragstart",c)),u&&K(google.maps.event.addListener(X,"mousedown",u)),h&&$(google.maps.event.addListener(X,"mousemove",h)),p&&O(google.maps.event.addListener(X,"mouseout",p)),m&&B(google.maps.event.addListener(X,"mouseover",m)),g&&F(google.maps.event.addListener(X,"mouseup",g)),v&&ie(google.maps.event.addListener(X,"rightclick",v)),y&&ge(google.maps.event.addListener(X,"click",y)),b&&ce(google.maps.event.addListener(X,"drag",b)),w&&Z(google.maps.event.addListener(X,"bounds_changed",w)),L(X),x&&x(X),()=>{C!==null&&google.maps.event.removeListener(C),S!==null&&google.maps.event.removeListener(S),I!==null&&google.maps.event.removeListener(I),R!==null&&google.maps.event.removeListener(R),H!==null&&google.maps.event.removeListener(H),Y!==null&&google.maps.event.removeListener(Y),D!==null&&google.maps.event.removeListener(D),V!==null&&google.maps.event.removeListener(V),Q!==null&&google.maps.event.removeListener(Q),W!==null&&google.maps.event.removeListener(W),te!==null&&google.maps.event.removeListener(te),ve!==null&&google.maps.event.removeListener(ve),N&&N(X),X.setMap(null)}},[]),null}d.memo(DK);class OK extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{rectangle:null}),re(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(gp(gp({},this.props.options),{},{map:this.context}));this.registeredEvents=et({updaterMap:L_,eventMap:R_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:L_,eventMap:R_,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),nt(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}re(OK,"contextType",Ze);function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var D_={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},O_={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},VK={};function FK(t){var{options:e,center:n,radius:r,draggable:s,editable:i,visible:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseUp:v,onRightClick:y,onClick:b,onDrag:w,onCenterChanged:x,onRadiusChanged:N,onLoad:k,onUnmount:A}=t,L=d.useContext(Ze),[C,_]=d.useState(null),[S,T]=d.useState(null),[I,P]=d.useState(null),[R,K]=d.useState(null),[H,$]=d.useState(null),[Y,O]=d.useState(null),[D,B]=d.useState(null),[V,F]=d.useState(null),[Q,ie]=d.useState(null),[W,ge]=d.useState(null),[te,ce]=d.useState(null),[ve,Z]=d.useState(null),[X,ne]=d.useState(null),[xe,Le]=d.useState(null);return d.useEffect(()=>{C!==null&&C.setMap(L)},[L]),d.useEffect(()=>{typeof e<"u"&&C!==null&&C.setOptions(e)},[C,e]),d.useEffect(()=>{typeof s<"u"&&C!==null&&C.setDraggable(s)},[C,s]),d.useEffect(()=>{typeof i<"u"&&C!==null&&C.setEditable(i)},[C,i]),d.useEffect(()=>{typeof a<"u"&&C!==null&&C.setVisible(a)},[C,a]),d.useEffect(()=>{typeof r=="number"&&C!==null&&C.setRadius(r)},[C,r]),d.useEffect(()=>{typeof n<"u"&&C!==null&&C.setCenter(n)},[C,n]),d.useEffect(()=>{C&&l&&(S!==null&&google.maps.event.removeListener(S),T(google.maps.event.addListener(C,"dblclick",l)))},[l]),d.useEffect(()=>{C&&c&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(C,"dragend",c)))},[c]),d.useEffect(()=>{C&&u&&(R!==null&&google.maps.event.removeListener(R),K(google.maps.event.addListener(C,"dragstart",u)))},[u]),d.useEffect(()=>{C&&h&&(H!==null&&google.maps.event.removeListener(H),$(google.maps.event.addListener(C,"mousedown",h)))},[h]),d.useEffect(()=>{C&&p&&(Y!==null&&google.maps.event.removeListener(Y),O(google.maps.event.addListener(C,"mousemove",p)))},[p]),d.useEffect(()=>{C&&m&&(D!==null&&google.maps.event.removeListener(D),B(google.maps.event.addListener(C,"mouseout",m)))},[m]),d.useEffect(()=>{C&&g&&(V!==null&&google.maps.event.removeListener(V),F(google.maps.event.addListener(C,"mouseover",g)))},[g]),d.useEffect(()=>{C&&v&&(Q!==null&&google.maps.event.removeListener(Q),ie(google.maps.event.addListener(C,"mouseup",v)))},[v]),d.useEffect(()=>{C&&y&&(W!==null&&google.maps.event.removeListener(W),ge(google.maps.event.addListener(C,"rightclick",y)))},[y]),d.useEffect(()=>{C&&b&&(te!==null&&google.maps.event.removeListener(te),ce(google.maps.event.addListener(C,"click",b)))},[b]),d.useEffect(()=>{C&&w&&(ve!==null&&google.maps.event.removeListener(ve),Z(google.maps.event.addListener(C,"drag",w)))},[w]),d.useEffect(()=>{C&&x&&(X!==null&&google.maps.event.removeListener(X),ne(google.maps.event.addListener(C,"center_changed",x)))},[b]),d.useEffect(()=>{C&&N&&(xe!==null&&google.maps.event.removeListener(xe),Le(google.maps.event.addListener(C,"radius_changed",N)))},[N]),d.useEffect(()=>{var ee=new google.maps.Circle(yp(yp({},e||VK),{},{map:L}));return typeof r=="number"&&ee.setRadius(r),typeof n<"u"&&ee.setCenter(n),typeof r=="number"&&ee.setRadius(r),typeof a<"u"&&ee.setVisible(a),typeof i<"u"&&ee.setEditable(i),typeof s<"u"&&ee.setDraggable(s),l&&T(google.maps.event.addListener(ee,"dblclick",l)),c&&P(google.maps.event.addListener(ee,"dragend",c)),u&&K(google.maps.event.addListener(ee,"dragstart",u)),h&&$(google.maps.event.addListener(ee,"mousedown",h)),p&&O(google.maps.event.addListener(ee,"mousemove",p)),m&&B(google.maps.event.addListener(ee,"mouseout",m)),g&&F(google.maps.event.addListener(ee,"mouseover",g)),v&&ie(google.maps.event.addListener(ee,"mouseup",v)),y&&ge(google.maps.event.addListener(ee,"rightclick",y)),b&&ce(google.maps.event.addListener(ee,"click",b)),w&&Z(google.maps.event.addListener(ee,"drag",w)),x&&ne(google.maps.event.addListener(ee,"center_changed",x)),N&&Le(google.maps.event.addListener(ee,"radius_changed",N)),_(ee),k&&k(ee),()=>{S!==null&&google.maps.event.removeListener(S),I!==null&&google.maps.event.removeListener(I),R!==null&&google.maps.event.removeListener(R),H!==null&&google.maps.event.removeListener(H),Y!==null&&google.maps.event.removeListener(Y),D!==null&&google.maps.event.removeListener(D),V!==null&&google.maps.event.removeListener(V),Q!==null&&google.maps.event.removeListener(Q),W!==null&&google.maps.event.removeListener(W),te!==null&&google.maps.event.removeListener(te),X!==null&&google.maps.event.removeListener(X),xe!==null&&google.maps.event.removeListener(xe),A&&A(ee),ee.setMap(null)}},[]),null}d.memo(FK);class $K extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{circle:null}),re(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(yp(yp({},this.props.options),{},{map:this.context}));this.registeredEvents=et({updaterMap:O_,eventMap:D_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:O_,eventMap:D_,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),nt(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}re($K,"contextType",Ze);function V_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var F_={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},$_={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function UK(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:s,onMouseMove:i,onMouseOut:a,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:h,onRemoveFeature:p,onRemoveProperty:m,onSetGeometry:g,onSetProperty:v,onLoad:y,onUnmount:b}=t,w=d.useContext(Ze),[x,N]=d.useState(null),[k,A]=d.useState(null),[L,C]=d.useState(null),[_,S]=d.useState(null),[T,I]=d.useState(null),[P,R]=d.useState(null),[K,H]=d.useState(null),[$,Y]=d.useState(null),[O,D]=d.useState(null),[B,V]=d.useState(null),[F,Q]=d.useState(null),[ie,W]=d.useState(null),[ge,te]=d.useState(null),[ce,ve]=d.useState(null);return d.useEffect(()=>{x!==null&&x.setMap(w)},[w]),d.useEffect(()=>{x&&r&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(x,"dblclick",r)))},[r]),d.useEffect(()=>{x&&s&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(x,"mousedown",s)))},[s]),d.useEffect(()=>{x&&i&&(_!==null&&google.maps.event.removeListener(_),S(google.maps.event.addListener(x,"mousemove",i)))},[i]),d.useEffect(()=>{x&&a&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(x,"mouseout",a)))},[a]),d.useEffect(()=>{x&&l&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(x,"mouseover",l)))},[l]),d.useEffect(()=>{x&&c&&(K!==null&&google.maps.event.removeListener(K),H(google.maps.event.addListener(x,"mouseup",c)))},[c]),d.useEffect(()=>{x&&u&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(x,"rightclick",u)))},[u]),d.useEffect(()=>{x&&n&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(x,"click",n)))},[n]),d.useEffect(()=>{x&&h&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(x,"addfeature",h)))},[h]),d.useEffect(()=>{x&&p&&(F!==null&&google.maps.event.removeListener(F),Q(google.maps.event.addListener(x,"removefeature",p)))},[p]),d.useEffect(()=>{x&&m&&(ie!==null&&google.maps.event.removeListener(ie),W(google.maps.event.addListener(x,"removeproperty",m)))},[m]),d.useEffect(()=>{x&&g&&(ge!==null&&google.maps.event.removeListener(ge),te(google.maps.event.addListener(x,"setgeometry",g)))},[g]),d.useEffect(()=>{x&&v&&(ce!==null&&google.maps.event.removeListener(ce),ve(google.maps.event.addListener(x,"setproperty",v)))},[v]),d.useEffect(()=>{if(w!==null){var Z=new google.maps.Data(vp(vp({},e),{},{map:w}));r&&A(google.maps.event.addListener(Z,"dblclick",r)),s&&C(google.maps.event.addListener(Z,"mousedown",s)),i&&S(google.maps.event.addListener(Z,"mousemove",i)),a&&I(google.maps.event.addListener(Z,"mouseout",a)),l&&R(google.maps.event.addListener(Z,"mouseover",l)),c&&H(google.maps.event.addListener(Z,"mouseup",c)),u&&Y(google.maps.event.addListener(Z,"rightclick",u)),n&&D(google.maps.event.addListener(Z,"click",n)),h&&V(google.maps.event.addListener(Z,"addfeature",h)),p&&Q(google.maps.event.addListener(Z,"removefeature",p)),m&&W(google.maps.event.addListener(Z,"removeproperty",m)),g&&te(google.maps.event.addListener(Z,"setgeometry",g)),v&&ve(google.maps.event.addListener(Z,"setproperty",v)),N(Z),y&&y(Z)}return()=>{x&&(k!==null&&google.maps.event.removeListener(k),L!==null&&google.maps.event.removeListener(L),_!==null&&google.maps.event.removeListener(_),T!==null&&google.maps.event.removeListener(T),P!==null&&google.maps.event.removeListener(P),K!==null&&google.maps.event.removeListener(K),$!==null&&google.maps.event.removeListener($),O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),F!==null&&google.maps.event.removeListener(F),ie!==null&&google.maps.event.removeListener(ie),ge!==null&&google.maps.event.removeListener(ge),ce!==null&&google.maps.event.removeListener(ce),b&&b(x),x.setMap(null))}},[]),null}d.memo(UK);class zK extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{data:null}),re(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(vp(vp({},this.props.options),{},{map:this.context}));this.registeredEvents=et({updaterMap:$_,eventMap:F_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:$_,eventMap:F_,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),nt(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}re(zK,"contextType",Ze);function U_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function z_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var B_={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},H_={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class BK extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{kmlLayer:null}),re(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(z_(z_({},this.props.options),{},{map:this.context}));this.registeredEvents=et({updaterMap:H_,eventMap:B_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:H_,eventMap:B_,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),nt(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}re(BK,"contextType",Ze);function ZR(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function HK(t,e){return new e(t.lat,t.lng)}function WK(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function qK(t,e,n){return t instanceof e?t:n(t,e)}function GK(t,e,n){return t instanceof e?t:n(t,e)}function KK(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-s.x-e.x,"px"),height:"".concat(s.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function QK(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:s,y:i}=r;return{left:"".concat(s+e.x,"px"),top:"".concat(i+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function XR(t,e,n,r){return n!==void 0?KK(t,e,GK(n,google.maps.LatLngBounds,WK)):QK(t,e,qK(r,google.maps.LatLng,HK))}function YK(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function W_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ZK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XK(t,e,n,r,s){class i extends google.maps.OverlayView{constructor(l,c,u,h){super(),this.container=l,this.pane=c,this.position=u,this.bounds=h}onAdd(){var l,c=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];c==null||c.appendChild(this.container)}draw(){var l=this.getProjection(),c=ZK({},this.container?ZR(this.container,s):{x:0,y:0}),u=XR(l,c,this.bounds,this.position);for(var[h,p]of Object.entries(u))this.container.style[h]=p}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(t,e,n,r)}function q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function JK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G_(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function K_(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function eQ(t){var{position:e,bounds:n,mapPaneName:r,zIndex:s,onLoad:i,onUnmount:a,getPixelPositionOffset:l,children:c}=t,u=d.useContext(Ze),h=d.useMemo(()=>{var m=document.createElement("div");return m.style.position="absolute",m},[]),p=d.useMemo(()=>XK(h,r,e,n,l),[h,r,e,n]);return d.useEffect(()=>(i==null||i(p),p==null||p.setMap(u),()=>{a==null||a(p),p==null||p.setMap(null)}),[u,p]),d.useEffect(()=>{h.style.zIndex="".concat(s)},[s,h]),Yr.createPortal(c,h)}d.memo(eQ);class mc extends d.PureComponent{constructor(e){super(e),re(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),re(this,"updatePane",()=>{var r=this.props.mapPaneName,s=this.overlayView.getPanes();vn(!!r,"OverlayView requires props.mapPaneName but got %s",r),s?this.setState({paneEl:s[r]}):this.setState({paneEl:null})}),re(this,"onAdd",()=>{var r,s;this.updatePane(),(r=(s=this.props).onLoad)===null||r===void 0||r.call(s,this.overlayView)}),re(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),s=JK({x:0,y:0},this.containerRef.current?ZR(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=XR(r,s,this.props.bounds,this.props.position);if(!YK(i,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var a,l,c,u;this.setState({containerStyle:{top:(a=i.top)!==null&&a!==void 0?a:0,left:(l=i.left)!==null&&l!==void 0?l:0,width:(c=i.width)!==null&&c!==void 0?c:0,height:(u=i.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),re(this,"draw",()=>{this.onPositionElement()}),re(this,"onRemove",()=>{var r,s;this.setState(()=>({paneEl:null})),(r=(s=this.props).onUnmount)===null||r===void 0||r.call(s,this.overlayView)}),this.containerRef=d.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=G_(e.position),r=G_(this.props.position),s=K_(e.bounds),i=K_(this.props.bounds);(n!==r||s!==i)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Yr.createPortal(o.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:d.Children.only(this.props.children)}),e):null}}re(mc,"FLOAT_PANE","floatPane");re(mc,"MAP_PANE","mapPane");re(mc,"MARKER_LAYER","markerLayer");re(mc,"OVERLAY_LAYER","overlayLayer");re(mc,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");re(mc,"contextType",Ze);function tQ(){}function Q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Y_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Z_={onDblClick:"dblclick",onClick:"click"},X_={opacity(t,e){t.setOpacity(e)}};function nQ(t){var{url:e,bounds:n,options:r,visible:s}=t,i=d.useContext(Ze),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=d.useMemo(()=>new google.maps.GroundOverlay(e,a,r),[]);return d.useEffect(()=>{l!==null&&l.setMap(i)},[i]),d.useEffect(()=>{typeof e<"u"&&l!==null&&(l.set("url",e),l.setMap(i))},[l,e]),d.useEffect(()=>{typeof s<"u"&&l!==null&&l.setOpacity(s?1:0)},[l,s]),d.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&l!==null&&(l.set("bounds",c),l.setMap(i))},[l,n]),null}d.memo(nQ);class JR extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{groundOverlay:null}),re(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){vn(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Y_(Y_({},this.props.options),{},{map:this.context}));this.registeredEvents=et({updaterMap:X_,eventMap:Z_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:X_,eventMap:Z_,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}re(JR,"defaultProps",{onLoad:tQ});re(JR,"contextType",Ze);function J_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var eS={},tS={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function rQ(t){var{data:e,onLoad:n,onUnmount:r,options:s}=t,i=d.useContext(Ze),[a,l]=d.useState(null);return d.useEffect(()=>{google.maps.visualization||vn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),d.useEffect(()=>{vn(!!e,"data property is required in HeatmapLayer %s",e)},[e]),d.useEffect(()=>{a!==null&&a.setMap(i)},[i]),d.useEffect(()=>{s&&a!==null&&a.setOptions(s)},[a,s]),d.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(xp(xp({},s),{},{data:e,map:i}));return l(c),n&&n(c),()=>{a!==null&&(r&&r(a),a.setMap(null))}},[]),null}d.memo(rQ);class sQ extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{heatmapLayer:null}),re(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){vn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),vn(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(xp(xp({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=et({updaterMap:tS,eventMap:eS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){nt(this.registeredEvents),this.registeredEvents=et({updaterMap:tS,eventMap:eS,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),nt(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}re(sQ,"contextType",Ze);var nS={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},rS={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class iQ extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{streetViewPanorama:null}),re(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=et({updaterMap:rS,eventMap:nS,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:rS,eventMap:nS,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),nt(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}re(iQ,"contextType",Ze);class oQ extends d.PureComponent{constructor(){super(...arguments),re(this,"state",{streetViewService:null}),re(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}re(oQ,"contextType",Ze);var sS={onDirectionsChanged:"directions_changed"},iS={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class aQ extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{directionsRenderer:null}),re(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=et({updaterMap:iS,eventMap:sS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:iS,eventMap:sS,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),nt(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}re(aQ,"contextType",Ze);var oS={onPlacesChanged:"places_changed"},aS={bounds(t,e){t.setBounds(e)}};class eL extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",d.createRef()),re(this,"state",{searchBox:null}),re(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(vn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=et({updaterMap:aS,eventMap:oS,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(nt(this.registeredEvents),this.registeredEvents=et({updaterMap:aS,eventMap:oS,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),nt(this.registeredEvents))}render(){return o.jsx("div",{ref:this.containerElement,children:d.Children.only(this.props.children)})}}re(eL,"contextType",Ze);var lS={onPlaceChanged:"place_changed"},cS={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class tL extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",d.createRef()),re(this,"state",{autocomplete:null}),re(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;vn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=et({updaterMap:cS,eventMap:lS,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){nt(this.registeredEvents),this.registeredEvents=et({updaterMap:cS,eventMap:lS,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&nt(this.registeredEvents)}render(){return o.jsx("div",{ref:this.containerElement,className:this.props.className,children:d.Children.only(this.props.children)})}}re(tL,"defaultProps",{className:""});re(tL,"contextType",Ze);const gc=({isOpen:t,onClose:e,onLocationSelect:n,currentLocation:r})=>{const{isDarkMode:s}=Yt(),[i,a]=d.useState(null),[l,c]=d.useState(""),[u,h]=d.useState(!1),[p,m]=d.useState(null),[g,v]=d.useState(""),y=d.useRef(null);d.useEffect(()=>{t&&(r?a(r):b())},[t,r]);const b=async()=>{h(!0);try{if(navigator.geolocation){const C=await new Promise((S,T)=>{navigator.geolocation.getCurrentPosition(S,T,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),_={lat:C.coords.latitude,lng:C.coords.longitude};a(_),U.success("Current location detected!")}else throw new Error("Geolocation not supported")}catch(C){console.error("Error getting location:",C),C instanceof GeolocationPositionError?C.code===1?U.error("Location access denied. Please enable location permissions."):C.code===2?U.error("Location unavailable. Please check your GPS settings."):C.code===3&&U.error("Location request timed out. Please try again."):U.error("Could not get your location. Please click on the map to select your location."),a({lat:22.5726,lng:88.3639})}finally{h(!1)}},w=async(C,_)=>{try{const T=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${C}&lon=${_}&zoom=18&addressdetails=1`)).json();T.display_name&&c(T.display_name)}catch(S){console.error("Error reverse geocoding:",S),c(`Lat: ${C.toFixed(6)}, Lng: ${_.toFixed(6)}`)}},x=()=>{i&&l?(n({lat:i.lat,lng:i.lng,address:l}),e()):U.error("Please select a valid location")},N="AIzaSyC0aUsBjWppu-5sSvme3Zz66Ts9aFKOYRs",k={width:"100%",height:"300px"},A={lat:22.5726,lng:88.3639},{isLoaded:L}=HR({googleMapsApiKey:N,libraries:["places"]});return o.jsx(ds,{open:t,onOpenChange:e,children:o.jsxs(Fr,{className:`max-w-2xl w-full ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsxs($r,{children:[o.jsx(er,{className:`text-xl font-bold ${s?"text-white":"text-gray-900"}`,children:"Select Delivery Location"}),o.jsx(Ur,{className:s?"text-gray-400":"text-gray-600",children:"Click on the map or drag the marker to your exact delivery location"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"relative flex-1",children:L&&o.jsx(eL,{onLoad:C=>m(C),onPlacesChanged:()=>{if(p){const C=p.getPlaces();if(C&&C.length>0){const _=C[0];if(_.geometry&&_.geometry.location){const S=_.geometry.location.lat(),T=_.geometry.location.lng();a({lat:S,lng:T});const I=_.formatted_address||_.name||"";c(I),v(I),y.current&&(y.current.value=I)}}}},children:o.jsx($e,{ref:y,placeholder:"Search for an address...",className:`w-full ${s?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}`,autoComplete:"off",value:g,onChange:C=>{v(C.target.value),c(C.target.value)}})})}),o.jsx(z,{onClick:()=>{i&&w(i.lat,i.lng)},disabled:u,className:"bg-orange-500 hover:bg-orange-600 text-white",children:u?o.jsx(us,{className:"w-4 h-4 animate-spin"}):o.jsx(sn,{className:"w-4 h-4"})})]}),o.jsxs(z,{onClick:b,disabled:u,variant:"outline",className:`w-full ${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(Qv,{className:"w-4 h-4 mr-2"}),u?"Getting location...":"Use Current Location"]}),o.jsxs("div",{className:"relative border rounded-lg overflow-hidden",children:[L&&o.jsx(FR,{mapContainerStyle:k,center:i||A,zoom:15,onClick:C=>{var T,I;const _=(T=C.latLng)==null?void 0:T.lat(),S=(I=C.latLng)==null?void 0:I.lng();_&&S&&(a({lat:_,lng:S}),w(_,S))},options:{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1},children:i&&o.jsx(fp,{position:i,draggable:!0,onDragEnd:C=>{var T,I;const _=(T=C.latLng)==null?void 0:T.lat(),S=(I=C.latLng)==null?void 0:I.lng();_&&S&&(a({lat:_,lng:S}),w(_,S))}})}),o.jsxs("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 text-xs",children:[o.jsx("p",{className:"font-medium",children:"Map Instructions:"}),o.jsx("p",{children:"• Click anywhere to place marker"}),o.jsx("p",{children:"• Drag the marker to move it"})]}),i&&o.jsxs("div",{className:`absolute bottom-2 left-2 right-2 p-2 rounded ${s?"bg-gray-800 text-white":"bg-white text-gray-900"} shadow-lg`,children:[o.jsx("p",{className:"text-xs font-medium",children:"Selected Location:"}),o.jsx("p",{className:"text-xs opacity-75 mb-1",children:l||"Address not available"}),o.jsxs("p",{className:"text-xs opacity-75 font-mono",children:["📍 Lat: ",i.lat.toFixed(6),", Lng: ",i.lng.toFixed(6)]})]})]}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsxs(z,{variant:"outline",onClick:e,className:`${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(hc,{className:"w-4 h-4 mr-2"}),"Cancel"]}),o.jsxs(z,{onClick:x,disabled:!i,className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(Rd,{className:"w-4 h-4 mr-2"}),"Confirm Location"]})]})]})]})})},yc=()=>{const[t,e]=d.useState({isBanned:!1,isLoading:!0}),[n,r]=d.useState(null),s=async a=>{var l,c;try{const u=await ya(Ct(Fe,"users",a));if(u.exists()){const h=u.data(),p=h.isBanned||!1,m=h.banReason||"",g=(l=h.banDate)==null?void 0:l.toDate(),v=(c=h.banExpiry)==null?void 0:c.toDate();let y=p;v&&new Date>v&&(y=!1,await i(a,!1)),e({isBanned:y,banReason:m,banDate:g,banExpiry:v,isLoading:!1}),y&&U.error(`Your account has been suspended. Reason: ${m||"Violation of terms of service"}`)}else e({isBanned:!1,isLoading:!1})}catch(u){console.error("Error checking ban status:",u),e({isBanned:!1,isLoading:!1})}},i=async(a,l,c,u)=>{try{const h=Ct(Fe,"users",a);await In(h,{isBanned:l,banReason:c||"",banDate:l?new Date:null,banExpiry:u||null,updatedAt:new Date})}catch(h){console.error("Error updating ban status:",h)}};return d.useEffect(()=>{const a=Sd(Et,l=>{if(r(l),l){s(l.uid);const c=Ct(Fe,"users",l.uid),u=TP(c,h=>{var p,m;if(h.exists()){const g=h.data(),v=g.isBanned||!1,y=g.banReason||"",b=(p=g.banDate)==null?void 0:p.toDate(),w=(m=g.banExpiry)==null?void 0:m.toDate();let x=v;w&&new Date>w&&(x=!1,i(l.uid,!1)),e({isBanned:x,banReason:y,banDate:b,banExpiry:w,isLoading:!1}),x&&U.error(`Your account has been suspended. Reason: ${y||"Violation of terms of service"}`)}else e({isBanned:!1,isLoading:!1})});return()=>u()}else e({isBanned:!1,isLoading:!1})});return()=>a()},[]),d.useEffect(()=>{if(!n)return;const a=setInterval(()=>{s(n.uid)},6e4);return()=>clearInterval(a)},[n]),{banStatus:t,user:n,checkBanStatus:()=>n&&s(n.uid),updateBanStatus:(a,l,c)=>n&&i(n.uid,a,l,c)}};function rb(t){const e=d.useRef({value:t,previous:t});return d.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var sb="Radio",[lQ,nL]=ir(sb),[cQ,uQ]=lQ(sb),rL=d.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:a,value:l="on",onCheck:c,form:u,...h}=t,[p,m]=d.useState(null),g=at(e,b=>m(b)),v=d.useRef(!1),y=p?u||!!p.closest("form"):!0;return o.jsxs(cQ,{scope:n,checked:s,disabled:a,children:[o.jsx(Ve.button,{type:"button",role:"radio","aria-checked":s,"data-state":aL(s),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:g,onClick:be(t.onClick,b=>{s||c==null||c(),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&o.jsx(oL,{control:p,bubbles:!v.current,name:r,value:l,checked:s,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});rL.displayName=sb;var sL="RadioIndicator",iL=d.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=uQ(sL,n);return o.jsx(Zr,{present:r||i.checked,children:o.jsx(Ve.span,{"data-state":aL(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});iL.displayName=sL;var dQ="RadioBubbleInput",oL=d.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=d.useRef(null),l=at(a,i),c=rb(n),u=xx(e);return d.useEffect(()=>{const h=a.current;if(!h)return;const p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&g){const v=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(v)}},[c,n,r]),o.jsx(Ve.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});oL.displayName=dQ;function aL(t){return t?"checked":"unchecked"}var hQ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zm="RadioGroup",[fQ,WZ]=ir(zm,[pc,nL]),lL=pc(),cL=nL(),[pQ,mQ]=fQ(zm),uL=d.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:p,...m}=t,g=lL(n),v=fc(u),[y,b]=xs({prop:i,defaultProp:s??null,onChange:p,caller:zm});return o.jsx(pQ,{scope:n,name:r,required:a,disabled:l,value:y,onValueChange:b,children:o.jsx(Ow,{asChild:!0,...g,orientation:c,dir:v,loop:h,children:o.jsx(Ve.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...m,ref:e})})})});uL.displayName=zm;var dL="RadioGroupItem",hL=d.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=mQ(dL,n),a=i.disabled||r,l=lL(n),c=cL(n),u=d.useRef(null),h=at(e,u),p=i.value===s.value,m=d.useRef(!1);return d.useEffect(()=>{const g=y=>{hQ.includes(y.key)&&(m.current=!0)},v=()=>m.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),o.jsx(Vw,{asChild:!0,...l,focusable:!a,active:p,children:o.jsx(rL,{disabled:a,required:i.required,checked:p,...c,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:be(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:be(s.onFocus,()=>{var g;m.current&&((g=u.current)==null||g.click())})})})});hL.displayName=dL;var gQ="RadioGroupIndicator",fL=d.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=cL(n);return o.jsx(iL,{...s,...r,ref:e})});fL.displayName=gQ;var pL=uL,mL=hL,yQ=fL;const wp=d.forwardRef(({className:t,...e},n)=>o.jsx(pL,{className:Me("grid gap-2",t),...e,ref:n}));wp.displayName=pL.displayName;const nl=d.forwardRef(({className:t,...e},n)=>o.jsx(mL,{ref:n,className:Me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(yQ,{className:"flex items-center justify-center",children:o.jsx(FP,{className:"h-2.5 w-2.5 fill-current text-current"})})}));nl.displayName=mL.displayName;const gL=({subtotal:t,deliveryCharge:e,gstRate:n,isDarkMode:r})=>{const s=Math.round((t+e)*(n/100)),i=t+e+s;return o.jsxs("div",{className:`space-y-1 p-2 rounded-lg ${r?"bg-gray-800":"bg-gray-50"}`,children:[o.jsx("h3",{className:`font-semibold text-sm mb-1 ${r?"text-white":"text-gray-900"}`,children:"Price Breakdown"}),o.jsxs("div",{className:"grid grid-cols-2 gap-y-1 text-xs",children:[o.jsx("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:"Subtotal"}),o.jsxs("span",{className:`text-right ${r?"text-white":"text-gray-900"}`,children:["₹",t]}),o.jsx("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:"Delivery Charge"}),o.jsxs("span",{className:`text-right ${r?"text-white":"text-gray-900"}`,children:["₹",e]}),o.jsxs("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:["GST (",n,"%)"]}),o.jsxs("span",{className:`text-right ${r?"text-white":"text-gray-900"}`,children:["₹",s]}),o.jsx("span",{className:"col-span-2",children:o.jsx(Ww,{className:r?"bg-gray-700":"bg-gray-300"})}),o.jsx("span",{className:`font-semibold text-sm ${r?"text-white":"text-gray-900"}`,children:"Total"}),o.jsxs("span",{className:"font-bold text-base text-orange-500 text-right",children:["₹",i]})]}),o.jsx("div",{className:`text-[10px] mt-1 ${r?"text-gray-500":"text-gray-400"}`,children:"* Delivery charge may vary based on distance and time"})]})},Bm=({isOpen:t,onClose:e,onPlaceOrder:n,totalPrice:r,user:s})=>{const{isDarkMode:i,toggleDarkMode:a}=Yt(),{banStatus:l}=yc(),{selectedAddress:c,setSelectedAddress:u}=ng(),[h,p]=d.useState(1),[m,g]=d.useState([]),[v,y]=d.useState(null),[b,w]=d.useState("cod"),[x,N]=d.useState(0),[k,A]=d.useState(""),[L,C]=d.useState(!1),[_,S]=d.useState(""),[T,I]=d.useState(!1),[P,R]=d.useState(!1),[K,H]=d.useState(null),[$,Y]=d.useState({name:"",phone:"",landmark:""}),[O,D]=d.useState({name:"",phone:"",landmark:""}),B=r>299?0:40,V=5,F=Math.round((r+B)*(V/100)),Q=r+B+F+x;d.useEffect(()=>{t&&l.isBanned&&(U.error("Your account has been suspended. You cannot place orders."),e())},[t,l.isBanned,e]),d.useEffect(()=>{t&&s?(ie(s.uid),y(c||null)):(p(1),y(null),w("cod"),N(0),A(""),S(""),I(!1),R(!1),H(null))},[t,s,c]);const ie=async ee=>{C(!0);try{const Pe=on(Fe,"addresses"),qe=Vr(Pe,ps("userId","==",ee)),Xe=(await nr(qe)).docs.map(st=>{const ze=st.data();return{id:st.id,type:ze.type,name:ze.name,address:ze.address,city:ze.city,state:ze.state,pincode:ze.pincode,phone:ze.phone,email:ze.email,isDefault:ze.isDefault}});Xe.sort((st,ze)=>st.isDefault&&!ze.isDefault?-1:!st.isDefault&&ze.isDefault?1:0),g(Xe),y(st=>st||Xe.find(ze=>ze.isDefault)||Xe[0]||null)}catch(Pe){console.error("Error loading addresses: ",Pe),U.error("Failed to load addresses.")}finally{C(!1)}},W=ee=>{N(ee),A("")},ge=ee=>{const Pe=ee.target.value;A(Pe),N(Number(Pe)||0)},te=ee=>{const qe=ee.target.value.replace(/\D/g,"").slice(0,10);S(qe)},ce=async()=>{if(!v||!_||_.length!==10){U.error("Please enter a valid 10-digit phone number.");return}try{await In(Ct(Fe,"addresses",v.id),{phone:_});const ee={...v,phone:_};y(ee),u(ee),g(Pe=>Pe.map(qe=>qe.id===v.id?ee:qe)),I(!1),S(""),U.success("Phone number added successfully!"),p(2)}catch(ee){console.error("Error saving phone number:",ee),U.error("Failed to save phone number. Please try again.")}},ve=()=>{if(K&&!v){let ee={name:"",phone:"",landmark:""};if($.name.trim()||(ee.name="Name is required"),$.phone.match(/^\d{10}$/)||(ee.phone="Valid 10-digit phone required"),$.landmark.trim()||(ee.landmark="Landmark is required"),D(ee),ee.name||ee.phone||ee.landmark)return}if(!v&&!K){U.error("Please select a delivery address or location.");return}if(v&&(!v.phone||v.phone.trim()==="")){I(!0),S(v.phone||"");return}p(2)},Z=async()=>{if(K&&!v){let ee={name:"",phone:"",landmark:""};if($.name.trim()||(ee.name="Name is required"),$.phone.match(/^\d{10}$/)||(ee.phone="Valid 10-digit phone required"),$.landmark.trim()||(ee.landmark="Landmark is required"),D(ee),ee.name||ee.phone||ee.landmark)return;const Pe={type:"other",name:$.name,address:K.address,city:"",state:"",pincode:"",phone:$.phone,email:(s==null?void 0:s.email)||"",isDefault:!0,landmark:$.landmark,userId:s==null?void 0:s.uid,createdAt:new Date};try{const qe=on(Fe,"addresses"),Nt=Vr(qe,ps("userId","==",s.uid)),st=(await nr(Nt)).docs.map(pe=>In(Ct(Fe,"addresses",pe.id),{isDefault:!1}));await Promise.all(st);const ze=await Es(qe,Pe),q={...Pe,id:ze.id};await ie(s.uid),y(q),u(q),U.success("Location saved as your default address!"),n({address:q,paymentMethod:b,tip:x,finalTotal:Q,location:K})}catch{U.error("Failed to save address. Please try again.");return}return}if(!v){U.error("Please select a delivery address."),p(1);return}if(!v.phone||v.phone.trim()===""){I(!0),S(v.phone||"");return}n({address:v,paymentMethod:b,tip:x,finalTotal:Q,location:K})},X=ee=>{H(ee),y(null),R(!1),U.success("Location selected successfully!")},ne=ee=>{switch(ee){case"home":return o.jsx(Lw,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(Pw,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(sd,{className:"w-5 h-5 text-gray-500"})}},xe=ee=>{y(ee),u(ee)},Le=()=>{if(T)return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(er,{className:`text-xl font-bold mb-2 ${i?"text-white":"text-gray-800"}`,children:"Add Phone Number"}),o.jsx(Ur,{className:i?"text-gray-400":"text-gray-600",children:"Please add a phone number to your selected address to continue with the order"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:`p-4 border rounded-lg ${i?"border-gray-600 bg-gray-700":"border-gray-200 bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[ne((v==null?void 0:v.type)||""),o.jsx("h3",{className:`font-semibold capitalize ${i?"text-white":"text-gray-900"}`,children:v==null?void 0:v.type}),(v==null?void 0:v.isDefault)&&o.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),o.jsx("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:`${v==null?void 0:v.name}, ${v==null?void 0:v.address}, ${v==null?void 0:v.city}, ${v==null?void 0:v.state} - ${v==null?void 0:v.pincode}`})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Re,{htmlFor:"phone",className:`block text-sm font-medium ${i?"text-white":"text-gray-700"}`,children:"Phone Number *"}),o.jsxs("div",{className:"relative",children:[o.jsx(yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx($e,{id:"phone",type:"tel",placeholder:"Enter 10-digit phone number",value:_,onChange:te,className:`pl-10 h-12 text-base ${i?"bg-gray-700 text-white border-gray-600 placeholder-gray-400":"bg-white text-gray-900 border-gray-300"}`,maxLength:10})]}),o.jsx("p",{className:`text-xs ${i?"text-gray-400":"text-gray-500"}`,children:"This number will be used for delivery updates"})]})]})]});switch(h){case 1:return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(er,{className:`text-xl font-bold mb-2 ${i?"text-white":"text-gray-800"}`,children:"Select Delivery Address"}),o.jsx(Ur,{className:i?"text-gray-400":"text-gray-600",children:"Choose where you'd like your order delivered"})]}),o.jsxs(z,{onClick:()=>R(!0),variant:"outline",className:`w-full ${i?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(sn,{className:"w-4 h-4 mr-2"}),K?"Change Location":"Set Delivery Location"]}),K&&o.jsxs("div",{className:`p-3 border rounded-lg ${i?"border-gray-600 bg-gray-700":"border-gray-200 bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(sn,{className:"w-4 h-4 text-orange-500"}),o.jsx("span",{className:`text-sm font-medium ${i?"text-white":"text-gray-900"}`,children:"Selected Location"})]}),o.jsx("p",{className:`text-xs ${i?"text-gray-400":"text-gray-600"} mb-1`,children:K.address}),o.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["📍 Lat: ",K.lat.toFixed(6),", Lng: ",K.lng.toFixed(6)]})]}),K&&!v&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(Re,{htmlFor:"map-name",className:`block text-sm font-medium ${i?"text-white":"text-gray-700"}`,children:"Full Name *"}),o.jsx($e,{id:"map-name",value:$.name,onChange:ee=>Y(Pe=>({...Pe,name:ee.target.value})),placeholder:"Enter your full name",className:i?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}),O.name&&o.jsx("p",{className:"text-red-500 text-xs",children:O.name}),o.jsx(Re,{htmlFor:"map-phone",className:`block text-sm font-medium ${i?"text-white":"text-gray-700"}`,children:"Phone Number *"}),o.jsx($e,{id:"map-phone",value:$.phone,onChange:ee=>Y(Pe=>({...Pe,phone:ee.target.value.replace(/\D/g,"").slice(0,10)})),placeholder:"Enter 10-digit phone number",maxLength:10,className:i?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}),O.phone&&o.jsx("p",{className:"text-red-500 text-xs",children:O.phone}),o.jsx(Re,{htmlFor:"map-landmark",className:`block text-sm font-medium ${i?"text-white":"text-gray-700"}`,children:"Landmark *"}),o.jsx($e,{id:"map-landmark",value:$.landmark,onChange:ee=>Y(Pe=>({...Pe,landmark:ee.target.value})),placeholder:"Enter a nearby landmark",className:i?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}),O.landmark&&o.jsx("p",{className:"text-red-500 text-xs",children:O.landmark})]}),L?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):o.jsx(wp,{value:v==null?void 0:v.id,onValueChange:ee=>xe(m.find(Pe=>Pe.id===ee)||null),children:o.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:m.map(ee=>o.jsxs(Re,{htmlFor:ee.id,className:`flex items-start space-x-3 p-4 border rounded-xl cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(nl,{value:ee.id,id:ee.id,className:"mt-1"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[ne(ee.type),o.jsx("h3",{className:`font-semibold capitalize ${i?"text-white":"text-gray-900"}`,children:ee.type}),ee.isDefault&&o.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),o.jsx("p",{className:`text-sm leading-relaxed ${i?"text-gray-400":"text-gray-600"}`,children:`${ee.name}, ${ee.address}, ${ee.city}, ${ee.state} - ${ee.pincode}`}),ee.phone&&o.jsxs("p",{className:`text-xs mt-1 ${i?"text-gray-400":"text-gray-500"}`,children:["📞 ",ee.phone]}),!ee.phone&&o.jsx("p",{className:"text-xs mt-1 text-orange-500",children:"⚠️ Phone number required"})]})]},ee.id))})}),m.length===0&&!L&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:`mb-4 ${i?"text-gray-400":"text-gray-500"}`,children:"No addresses found"}),o.jsx(z,{variant:"outline",onClick:()=>window.location.href="/address",className:"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Add New Address"})]})]});case 2:return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(er,{className:`text-xl font-bold mb-0 ${i?"text-white":"text-gray-800"}`,children:"Payment & Tip"}),o.jsx(Ur,{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:"Choose your payment method and add a tip"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{children:[o.jsx("h4",{className:`font-semibold mb-1 text-base ${i?"text-white":"text-gray-900"}`,children:"Payment Method"}),o.jsx(wp,{value:b,onValueChange:w,children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Re,{htmlFor:"cod",className:`flex items-center gap-2 p-2 border rounded cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(nl,{value:"cod",id:"cod"}),o.jsx(EH,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`font-medium text-sm leading-tight ${i?"text-white":"text-gray-800"}`,children:"Cash on Delivery"}),o.jsx("span",{className:`text-xs leading-tight ${i?"text-gray-400":"text-gray-500"}`,children:"Pay when you receive your order"})]})]}),o.jsxs(Re,{htmlFor:"upi",className:`flex items-center gap-2 p-2 border rounded cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(nl,{value:"upi",id:"upi"}),o.jsx(cH,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`font-medium text-sm leading-tight ${i?"text-white":"text-gray-800"}`,children:"UPI"}),o.jsx("span",{className:`text-xs leading-tight ${i?"text-gray-400":"text-gray-500"}`,children:"Pay using UPI apps"})]})]}),o.jsxs(Re,{htmlFor:"card",className:`flex items-center gap-2 p-2 border rounded cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(nl,{value:"card",id:"card"}),o.jsx(sH,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`font-medium text-sm leading-tight ${i?"text-white":"text-gray-800"}`,children:"Credit/Debit Card"}),o.jsx("span",{className:`text-xs leading-tight ${i?"text-gray-400":"text-gray-500"}`,children:"Pay with your card"})]})]})]})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:`font-semibold text-xs ${i?"text-white":"text-gray-900"}`,children:"Add a Tip"}),o.jsx("span",{className:`text-[11px] ${i?"text-gray-400":"text-gray-600"}`,children:"Show appreciation to your delivery partner"}),o.jsx("div",{className:"grid grid-cols-3 gap-1 mb-1",children:[10,20,50].map(ee=>o.jsxs(z,{variant:x===ee?"default":"outline",onClick:()=>W(ee),className:`h-8 text-sm px-2 ${x===ee?"bg-orange-500 hover:bg-orange-600 text-white":"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white"}`,children:["₹",ee]},ee))}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($e,{type:"number",placeholder:"Custom amount",value:k,onChange:ge,className:`flex-1 h-8 text-sm px-2 ${i?"bg-gray-700 text-white border-gray-600 placeholder-gray-400":"bg-white text-gray-900 border-gray-300"}`}),o.jsx("span",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:"₹"})]})]})]})]});default:return null}};return o.jsxs(o.Fragment,{children:[o.jsx(ds,{open:t,onOpenChange:e,children:o.jsx(Fr,{className:`max-w-xl w-full sm:w-[90vw] h-screen max-h-screen p-0 overflow-hidden rounded-2xl shadow-2xl ${i?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:o.jsxs("div",{className:"flex flex-col h-full max-h-screen",children:[o.jsx($r,{className:"px-4 pt-4 pb-2 sm:px-8 sm:pt-6 sm:pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(er,{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:T?"Add Phone Number":"Checkout"}),o.jsx(Ur,{className:i?"text-gray-400":"text-gray-600",children:T?"Required for delivery":`Step ${h} of 2`})]}),o.jsx(z,{variant:"ghost",size:"icon",onClick:a,className:i?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:i?o.jsx(Dw,{className:"w-5 h-5"}):o.jsx(ip,{className:"w-5 h-5"})})]})}),o.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto scrollbar-none px-4 pb-20 pt-2 sm:px-8 sm:pb-16",style:{scrollbarWidth:"none"},children:Le()}),o.jsxs("div",{className:`sticky bottom-0 left-0 right-0 z-20 px-4 pt-3 pb-3 border-t shadow-lg rounded-b-2xl ${i?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} sm:px-8`,children:[!T&&o.jsx("div",{className:"mb-2",children:o.jsx(gL,{subtotal:r,deliveryCharge:B,gstRate:V,isDarkMode:i})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[!T&&o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:["Total: ",o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["₹",Q.toFixed(2)]})]})}),o.jsx("div",{className:"flex space-x-3",children:T?o.jsxs(o.Fragment,{children:[o.jsxs(z,{variant:"outline",onClick:()=>I(!1),className:`${i?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} min-h-[44px] min-w-[100px]`,children:[o.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsxs(z,{onClick:ce,disabled:_.length!==10,className:"bg-orange-500 hover:bg-orange-600 text-white min-h-[44px] min-w-[120px] text-base disabled:opacity-50",children:["Save & Continue",o.jsx(sp,{className:"w-4 h-4 ml-2"})]})]}):o.jsxs(o.Fragment,{children:[h>1&&o.jsxs(z,{variant:"outline",onClick:()=>p(h-1),className:`${i?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} min-h-[44px] min-w-[100px]`,children:[o.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Back"]}),h<2?o.jsxs(z,{onClick:ve,disabled:!(v||K),className:"bg-orange-500 hover:bg-orange-600 text-white min-h-[44px] min-w-[120px] text-base",children:["Continue",o.jsx(sp,{className:"w-4 h-4 ml-2"})]}):o.jsx(z,{onClick:Z,className:"bg-orange-500 hover:bg-orange-600 text-white min-h-[44px] min-w-[120px] text-base",children:"Place Order"})]})})]})]})]})})}),o.jsx(gc,{isOpen:P,onClose:()=>R(!1),onLocationSelect:X,currentLocation:K?{lat:K.lat,lng:K.lng}:void 0})]})};function vQ(t){return Object.prototype.toString.call(t)==="[object Object]"}function uS(t){return vQ(t)||Array.isArray(t)}function xQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function ib(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:n.every(a=>{const l=t[a],c=e[a];return typeof l=="function"?`${l}`==`${c}`:!uS(l)||!uS(c)?l===c:ib(l,c)})}function dS(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function wQ(t,e){if(t.length!==e.length)return!1;const n=dS(t),r=dS(e);return n.every((s,i)=>{const a=r[i];return ib(s,a)})}function ob(t){return typeof t=="number"}function s0(t){return typeof t=="string"}function Hm(t){return typeof t=="boolean"}function hS(t){return Object.prototype.toString.call(t)==="[object Object]"}function qt(t){return Math.abs(t)}function ab(t){return Math.sign(t)}function Nu(t,e){return qt(t-e)}function bQ(t,e){if(t===0||e===0||qt(t)<=qt(e))return 0;const n=Nu(qt(t),qt(e));return qt(n/t)}function EQ(t){return Math.round(t*100)/100}function cd(t){return ud(t).map(Number)}function ms(t){return t[$d(t)]}function $d(t){return Math.max(0,t.length-1)}function lb(t,e){return e===$d(t)}function fS(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function ud(t){return Object.keys(t)}function yL(t,e){return[t,e].reduce((n,r)=>(ud(r).forEach(s=>{const i=n[s],a=r[s],l=hS(i)&&hS(a);n[s]=l?yL(i,a):a}),n),{})}function i0(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function NQ(t,e){const n={start:r,center:s,end:i};function r(){return 0}function s(c){return i(c)/2}function i(c){return e-c}function a(c,u){return s0(t)?n[t](c):t(e,c,u)}return{measure:a}}function dd(){let t=[];function e(s,i,a,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,a,l),c=()=>s.removeEventListener(i,a,l);else{const u=s;u.addListener(a),c=()=>u.removeListener(a)}return t.push(c),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function CQ(t,e,n,r){const s=dd(),i=1e3/60;let a=null,l=0,c=0;function u(){s.add(t,"visibilitychange",()=>{t.hidden&&v()})}function h(){g(),s.clear()}function p(b){if(!c)return;a||(a=b,n(),n());const w=b-a;for(a=b,l+=w;l>=i;)n(),l-=i;const x=l/i;r(x),c&&(c=e.requestAnimationFrame(p))}function m(){c||(c=e.requestAnimationFrame(p))}function g(){e.cancelAnimationFrame(c),a=null,l=0,c=0}function v(){a=null,l=0}return{init:u,destroy:h,start:m,stop:g,update:n,render:r}}function _Q(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",i=r?"x":"y",a=!r&&n?-1:1,l=h(),c=p();function u(v){const{height:y,width:b}=v;return r?y:b}function h(){return r?"top":n?"right":"left"}function p(){return r?"bottom":n?"left":"right"}function m(v){return v*a}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:m}}function xa(t=0,e=0){const n=qt(t-e);function r(u){return u<t}function s(u){return u>e}function i(u){return r(u)||s(u)}function a(u){return i(u)?r(u)?t:e:u}function l(u){return n?u-n*Math.ceil((u-e)/n):u}return{length:n,max:e,min:t,constrain:a,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:l}}function vL(t,e,n){const{constrain:r}=xa(0,t),s=t+1;let i=a(e);function a(m){return n?qt((s+m)%s):r(m)}function l(){return i}function c(m){return i=a(m),p}function u(m){return h().set(l()+m)}function h(){return vL(t,l(),n)}const p={get:l,set:c,add:u,clone:h};return p}function SQ(t,e,n,r,s,i,a,l,c,u,h,p,m,g,v,y,b,w,x){const{cross:N,direction:k}=t,A=["INPUT","SELECT","TEXTAREA"],L={passive:!1},C=dd(),_=dd(),S=xa(50,225).constrain(g.measure(20)),T={mouse:300,touch:400},I={mouse:500,touch:600},P=v?43:25;let R=!1,K=0,H=0,$=!1,Y=!1,O=!1,D=!1;function B(ne){if(!x)return;function xe(ee){(Hm(x)||x(ne,ee))&&ge(ee)}const Le=e;C.add(Le,"dragstart",ee=>ee.preventDefault(),L).add(Le,"touchmove",()=>{},L).add(Le,"touchend",()=>{}).add(Le,"touchstart",xe).add(Le,"mousedown",xe).add(Le,"touchcancel",ce).add(Le,"contextmenu",ce).add(Le,"click",ve,!0)}function V(){C.clear(),_.clear()}function F(){const ne=D?n:e;_.add(ne,"touchmove",te,L).add(ne,"touchend",ce).add(ne,"mousemove",te,L).add(ne,"mouseup",ce)}function Q(ne){const xe=ne.nodeName||"";return A.includes(xe)}function ie(){return(v?I:T)[D?"mouse":"touch"]}function W(ne,xe){const Le=p.add(ab(ne)*-1),ee=h.byDistance(ne,!v).distance;return v||qt(ne)<S?ee:b&&xe?ee*.5:h.byIndex(Le.get(),0).distance}function ge(ne){const xe=i0(ne,r);D=xe,O=v&&xe&&!ne.buttons&&R,R=Nu(s.get(),a.get())>=2,!(xe&&ne.button!==0)&&(Q(ne.target)||($=!0,i.pointerDown(ne),u.useFriction(0).useDuration(0),s.set(a),F(),K=i.readPoint(ne),H=i.readPoint(ne,N),m.emit("pointerDown")))}function te(ne){if(!i0(ne,r)&&ne.touches.length>=2)return ce(ne);const Le=i.readPoint(ne),ee=i.readPoint(ne,N),Pe=Nu(Le,K),qe=Nu(ee,H);if(!Y&&!D&&(!ne.cancelable||(Y=Pe>qe,!Y)))return ce(ne);const Nt=i.pointerMove(ne);Pe>y&&(O=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(k(Nt)),ne.preventDefault()}function ce(ne){const Le=h.byDistance(0,!1).index!==p.get(),ee=i.pointerUp(ne)*ie(),Pe=W(k(ee),Le),qe=bQ(ee,Pe),Nt=P-10*qe,Xe=w+qe/50;Y=!1,$=!1,_.clear(),u.useDuration(Nt).useFriction(Xe),c.distance(Pe,!v),D=!1,m.emit("pointerUp")}function ve(ne){O&&(ne.stopPropagation(),ne.preventDefault(),O=!1)}function Z(){return $}return{init:B,destroy:V,pointerDown:Z}}function jQ(t,e){let r,s;function i(p){return p.timeStamp}function a(p,m){const v=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(i0(p,e)?p:p.touches[0])[v]}function l(p){return r=p,s=p,a(p)}function c(p){const m=a(p)-a(s),g=i(p)-i(r)>170;return s=p,g&&(r=p),m}function u(p){if(!r||!s)return 0;const m=a(s)-a(r),g=i(p)-i(r),v=i(p)-i(s)>170,y=m/g;return g&&!v&&qt(y)>.1?y:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:a}}function kQ(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:a}=n;return{top:r,right:s+i,bottom:r+a,left:s,width:i,height:a}}return{measure:t}}function IQ(t){function e(r){return t*(r/100)}return{measure:e}}function TQ(t,e,n,r,s,i,a){const l=[t].concat(r);let c,u,h=[],p=!1;function m(b){return s.measureSize(a.measure(b))}function g(b){if(!i)return;u=m(t),h=r.map(m);function w(x){for(const N of x){if(p)return;const k=N.target===t,A=r.indexOf(N.target),L=k?u:h[A],C=m(k?t:r[A]);if(qt(C-L)>=.5){b.reInit(),e.emit("resize");break}}}c=new ResizeObserver(x=>{(Hm(i)||i(b,x))&&w(x)}),n.requestAnimationFrame(()=>{l.forEach(x=>c.observe(x))})}function v(){p=!0,c&&c.disconnect()}return{init:g,destroy:v}}function PQ(t,e,n,r,s,i){let a=0,l=0,c=s,u=i,h=t.get(),p=0;function m(){const L=r.get()-t.get(),C=!c;let _=0;return C?(a=0,n.set(r),t.set(r),_=L):(n.set(t),a+=L/c,a*=u,h+=a,t.add(a),_=h-p),l=ab(_),p=h,A}function g(){const L=r.get()-e.get();return qt(L)<.001}function v(){return c}function y(){return l}function b(){return a}function w(){return N(s)}function x(){return k(i)}function N(L){return c=L,A}function k(L){return u=L,A}const A={direction:y,duration:v,velocity:b,seek:m,settled:g,useBaseFriction:x,useBaseDuration:w,useFriction:k,useDuration:N};return A}function AQ(t,e,n,r,s){const i=s.measure(10),a=s.measure(50),l=xa(.1,.99);let c=!1;function u(){return!(c||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function h(g){if(!u())return;const v=t.reachedMin(e.get())?"min":"max",y=qt(t[v]-e.get()),b=n.get()-e.get(),w=l.constrain(y/a);n.subtract(b*w),!g&&qt(b)<i&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function p(g){c=!g}return{shouldConstrain:u,constrain:h,toggleActive:p}}function RQ(t,e,n,r,s){const i=xa(-e+t,0),a=p(),l=h(),c=m();function u(v,y){return Nu(v,y)<=1}function h(){const v=a[0],y=ms(a),b=a.lastIndexOf(v),w=a.indexOf(y)+1;return xa(b,w)}function p(){return n.map((v,y)=>{const{min:b,max:w}=i,x=i.constrain(v),N=!y,k=lb(n,y);return N?w:k||u(b,x)?b:u(w,x)?w:x}).map(v=>parseFloat(v.toFixed(3)))}function m(){if(e<=t+s)return[i.max];if(r==="keepSnaps")return a;const{min:v,max:y}=l;return a.slice(v,y)}return{snapsContained:c,scrollContainLimit:l}}function LQ(t,e,n){const r=e[0],s=n?r-t:ms(e);return{limit:xa(s,r)}}function MQ(t,e,n,r){const i=e.min+.1,a=e.max+.1,{reachedMin:l,reachedMax:c}=xa(i,a);function u(m){return m===1?c(n.get()):m===-1?l(n.get()):!1}function h(m){if(!u(m))return;const g=t*(m*-1);r.forEach(v=>v.add(g))}return{loop:h}}function DQ(t){const{max:e,length:n}=t;function r(i){const a=i-e;return n?a/-n:0}return{get:r}}function OQ(t,e,n,r,s){const{startEdge:i,endEdge:a}=t,{groupSlides:l}=s,c=p().map(e.measure),u=m(),h=g();function p(){return l(r).map(y=>ms(y)[a]-y[0][i]).map(qt)}function m(){return r.map(y=>n[i]-y[i]).map(y=>-qt(y))}function g(){return l(u).map(y=>y[0]).map((y,b)=>y+c[b])}return{snaps:u,snapsAligned:h}}function VQ(t,e,n,r,s,i){const{groupSlides:a}=s,{min:l,max:c}=r,u=h();function h(){const m=a(i),g=!t||e==="keepSnaps";return n.length===1?[i]:g?m:m.slice(l,c).map((v,y,b)=>{const w=!y,x=lb(b,y);if(w){const N=ms(b[0])+1;return fS(N)}if(x){const N=$d(i)-ms(b)[0]+1;return fS(N,ms(b)[0])}return v})}return{slideRegistry:u}}function FQ(t,e,n,r,s){const{reachedAny:i,removeOffset:a,constrain:l}=r;function c(v){return v.concat().sort((y,b)=>qt(y)-qt(b))[0]}function u(v){const y=t?a(v):l(v),b=e.map((x,N)=>({diff:h(x-y,0),index:N})).sort((x,N)=>qt(x.diff)-qt(N.diff)),{index:w}=b[0];return{index:w,distance:y}}function h(v,y){const b=[v,v+n,v-n];if(!t)return v;if(!y)return c(b);const w=b.filter(x=>ab(x)===y);return w.length?c(w):ms(b)-n}function p(v,y){const b=e[v]-s.get(),w=h(b,y);return{index:v,distance:w}}function m(v,y){const b=s.get()+v,{index:w,distance:x}=u(b),N=!t&&i(b);if(!y||N)return{index:w,distance:v};const k=e[w]-x,A=v+h(k,0);return{index:w,distance:A}}return{byDistance:m,byIndex:p,shortcut:h}}function $Q(t,e,n,r,s,i,a){function l(p){const m=p.distance,g=p.index!==e.get();i.add(m),m&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),g&&(n.set(e.get()),e.set(p.index),a.emit("select"))}function c(p,m){const g=s.byDistance(p,m);l(g)}function u(p,m){const g=e.clone().set(p),v=s.byIndex(g.get(),m);l(v)}return{distance:c,index:u}}function UQ(t,e,n,r,s,i,a,l){const c={passive:!0,capture:!0};let u=0;function h(g){if(!l)return;function v(y){if(new Date().getTime()-u>10)return;a.emit("slideFocusStart"),t.scrollLeft=0;const x=n.findIndex(N=>N.includes(y));ob(x)&&(s.useDuration(0),r.index(x,0),a.emit("slideFocus"))}i.add(document,"keydown",p,!1),e.forEach((y,b)=>{i.add(y,"focus",w=>{(Hm(l)||l(g,w))&&v(b)},c)})}function p(g){g.code==="Tab"&&(u=new Date().getTime())}return{init:h}}function tu(t){let e=t;function n(){return e}function r(c){e=a(c)}function s(c){e+=a(c)}function i(c){e-=a(c)}function a(c){return ob(c)?c:c.get()}return{get:n,set:r,add:s,subtract:i}}function xL(t,e){const n=t.scroll==="x"?a:l,r=e.style;let s=null,i=!1;function a(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(i)return;const g=EQ(t.direction(m));g!==s&&(r.transform=n(g),s=g)}function u(m){i=!m}function h(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:h,to:c,toggleActive:u}}function zQ(t,e,n,r,s,i,a,l,c){const h=cd(s),p=cd(s).reverse(),m=w().concat(x());function g(C,_){return C.reduce((S,T)=>S-s[T],_)}function v(C,_){return C.reduce((S,T)=>g(S,_)>0?S.concat([T]):S,[])}function y(C){return i.map((_,S)=>({start:_-r[S]+.5+C,end:_+e-.5+C}))}function b(C,_,S){const T=y(_);return C.map(I=>{const P=S?0:-n,R=S?n:0,K=S?"end":"start",H=T[I][K];return{index:I,loopPoint:H,slideLocation:tu(-1),translate:xL(t,c[I]),target:()=>l.get()>H?P:R}})}function w(){const C=a[0],_=v(p,C);return b(_,n,!1)}function x(){const C=e-a[0]-1,_=v(h,C);return b(_,-n,!0)}function N(){return m.every(({index:C})=>{const _=h.filter(S=>S!==C);return g(_,e)<=.1})}function k(){m.forEach(C=>{const{target:_,translate:S,slideLocation:T}=C,I=_();I!==T.get()&&(S.to(I),T.set(I))})}function A(){m.forEach(C=>C.translate.clear())}return{canLoop:N,clear:A,loop:k,loopPoints:m}}function BQ(t,e,n){let r,s=!1;function i(c){if(!n)return;function u(h){for(const p of h)if(p.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(h=>{s||(Hm(n)||n(c,h))&&u(h)}),r.observe(t,{childList:!0})}function a(){r&&r.disconnect(),s=!0}return{init:i,destroy:a}}function HQ(t,e,n,r){const s={};let i=null,a=null,l,c=!1;function u(){l=new IntersectionObserver(v=>{c||(v.forEach(y=>{const b=e.indexOf(y.target);s[b]=y}),i=null,a=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>l.observe(v))}function h(){l&&l.disconnect(),c=!0}function p(v){return ud(s).reduce((y,b)=>{const w=parseInt(b),{isIntersecting:x}=s[w];return(v&&x||!v&&!x)&&y.push(w),y},[])}function m(v=!0){if(v&&i)return i;if(!v&&a)return a;const y=p(v);return v&&(i=y),v||(a=y),y}return{init:u,destroy:h,get:m}}function WQ(t,e,n,r,s,i){const{measureSize:a,startEdge:l,endEdge:c}=t,u=n[0]&&s,h=v(),p=y(),m=n.map(a),g=b();function v(){if(!u)return 0;const x=n[0];return qt(e[l]-x[l])}function y(){if(!u)return 0;const x=i.getComputedStyle(ms(r));return parseFloat(x.getPropertyValue(`margin-${c}`))}function b(){return n.map((x,N,k)=>{const A=!N,L=lb(k,N);return A?m[N]+h:L?m[N]+p:k[N+1][l]-x[l]}).map(qt)}return{slideSizes:m,slideSizesWithGaps:g,startGap:h,endGap:p}}function qQ(t,e,n,r,s,i,a,l,c){const{startEdge:u,endEdge:h,direction:p}=t,m=ob(n);function g(w,x){return cd(w).filter(N=>N%x===0).map(N=>w.slice(N,N+x))}function v(w){return w.length?cd(w).reduce((x,N,k)=>{const A=ms(x)||0,L=A===0,C=N===$d(w),_=s[u]-i[A][u],S=s[u]-i[N][h],T=!r&&L?p(a):0,I=!r&&C?p(l):0,P=qt(S-I-(_+T));return k&&P>e+c&&x.push(N),C&&x.push(w.length),x},[]).map((x,N,k)=>{const A=Math.max(k[N-1]||0);return w.slice(A,x)}):[]}function y(w){return m?g(w,n):v(w)}return{groupSlides:y}}function GQ(t,e,n,r,s,i,a){const{align:l,axis:c,direction:u,startIndex:h,loop:p,duration:m,dragFree:g,dragThreshold:v,inViewThreshold:y,slidesToScroll:b,skipSnaps:w,containScroll:x,watchResize:N,watchSlides:k,watchDrag:A,watchFocus:L}=i,C=2,_=kQ(),S=_.measure(e),T=n.map(_.measure),I=_Q(c,u),P=I.measureSize(S),R=IQ(P),K=NQ(l,P),H=!p&&!!x,$=p||!!x,{slideSizes:Y,slideSizesWithGaps:O,startGap:D,endGap:B}=WQ(I,S,T,n,$,s),V=qQ(I,P,b,p,S,T,D,B,C),{snaps:F,snapsAligned:Q}=OQ(I,K,S,T,V),ie=-ms(F)+ms(O),{snapsContained:W,scrollContainLimit:ge}=RQ(P,ie,Q,x,C),te=H?W:Q,{limit:ce}=LQ(ie,te,p),ve=vL($d(te),h,p),Z=ve.clone(),X=cd(n),ne=({dragHandler:kt,scrollBody:St,scrollBounds:Rt,options:{loop:Mt}})=>{Mt||Rt.constrain(kt.pointerDown()),St.seek()},xe=({scrollBody:kt,translate:St,location:Rt,offsetLocation:Mt,previousLocation:Bt,scrollLooper:De,slideLooper:Pt,dragHandler:hn,animation:ue,eventHandler:Se,scrollBounds:He,options:{loop:ft}},Ht)=>{const ct=kt.settled(),It=!He.shouldConstrain(),Ae=ft?ct:ct&&It,Qe=Ae&&!hn.pointerDown();Qe&&ue.stop();const tt=Rt.get()*Ht+Bt.get()*(1-Ht);Mt.set(tt),ft&&(De.loop(kt.direction()),Pt.loop()),St.to(Mt.get()),Qe&&Se.emit("settle"),Ae||Se.emit("scroll")},Le=CQ(r,s,()=>ne(wt),kt=>xe(wt,kt)),ee=.68,Pe=te[ve.get()],qe=tu(Pe),Nt=tu(Pe),Xe=tu(Pe),st=tu(Pe),ze=PQ(qe,Xe,Nt,st,m,ee),q=FQ(p,te,ie,ce,st),pe=$Q(Le,ve,Z,ze,q,st,a),he=DQ(ce),lt=dd(),oe=HQ(e,n,a,y),{slideRegistry:we}=VQ(H,x,te,ge,V,X),ke=UQ(t,n,we,pe,ze,lt,a,L),wt={ownerDocument:r,ownerWindow:s,eventHandler:a,containerRect:S,slideRects:T,animation:Le,axis:I,dragHandler:SQ(I,t,r,s,st,jQ(I,s),qe,Le,pe,ze,q,ve,a,R,g,v,w,ee,A),eventStore:lt,percentOfView:R,index:ve,indexPrevious:Z,limit:ce,location:qe,offsetLocation:Xe,previousLocation:Nt,options:i,resizeHandler:TQ(e,a,s,n,I,N,_),scrollBody:ze,scrollBounds:AQ(ce,Xe,st,ze,R),scrollLooper:MQ(ie,ce,Xe,[qe,Xe,Nt,st]),scrollProgress:he,scrollSnapList:te.map(he.get),scrollSnaps:te,scrollTarget:q,scrollTo:pe,slideLooper:zQ(I,P,ie,Y,O,F,te,Xe,n),slideFocus:ke,slidesHandler:BQ(e,a,k),slidesInView:oe,slideIndexes:X,slideRegistry:we,slidesToScroll:V,target:st,translate:xL(I,e)};return wt}function KQ(){let t={},e;function n(u){e=u}function r(u){return t[u]||[]}function s(u){return r(u).forEach(h=>h(e,u)),c}function i(u,h){return t[u]=r(u).concat([h]),c}function a(u,h){return t[u]=r(u).filter(p=>p!==h),c}function l(){t={}}const c={init:n,emit:s,off:a,on:i,clear:l};return c}const QQ={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function YQ(t){function e(i,a){return yL(i,a||{})}function n(i){const a=i.breakpoints||{},l=ud(a).filter(c=>t.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>e(c,u),{});return e(i,l)}function r(i){return i.map(a=>ud(a.breakpoints||{})).reduce((a,l)=>a.concat(l),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function ZQ(t){let e=[];function n(i,a){return e=a.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),e.forEach(l=>l.init(i,t)),a.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function r(){e=e.filter(i=>i.destroy())}return{init:n,destroy:r}}function bp(t,e,n){const r=t.ownerDocument,s=r.defaultView,i=YQ(s),a=ZQ(i),l=dd(),c=KQ(),{mergeOptions:u,optionsAtMedia:h,optionsMediaQueries:p}=i,{on:m,off:g,emit:v}=c,y=I;let b=!1,w,x=u(QQ,bp.globalOptions),N=u(x),k=[],A,L,C;function _(){const{container:X,slides:ne}=N;L=(s0(X)?t.querySelector(X):X)||t.children[0];const Le=s0(ne)?L.querySelectorAll(ne):ne;C=[].slice.call(Le||L.children)}function S(X){const ne=GQ(t,L,C,r,s,X,c);if(X.loop&&!ne.slideLooper.canLoop()){const xe=Object.assign({},X,{loop:!1});return S(xe)}return ne}function T(X,ne){b||(x=u(x,X),N=h(x),k=ne||k,_(),w=S(N),p([x,...k.map(({options:xe})=>xe)]).forEach(xe=>l.add(xe,"change",I)),N.active&&(w.translate.to(w.location.get()),w.animation.init(),w.slidesInView.init(),w.slideFocus.init(Z),w.eventHandler.init(Z),w.resizeHandler.init(Z),w.slidesHandler.init(Z),w.options.loop&&w.slideLooper.loop(),L.offsetParent&&C.length&&w.dragHandler.init(Z),A=a.init(Z,k)))}function I(X,ne){const xe=V();P(),T(u({startIndex:xe},X),ne),c.emit("reInit")}function P(){w.dragHandler.destroy(),w.eventStore.clear(),w.translate.clear(),w.slideLooper.clear(),w.resizeHandler.destroy(),w.slidesHandler.destroy(),w.slidesInView.destroy(),w.animation.destroy(),a.destroy(),l.clear()}function R(){b||(b=!0,l.clear(),P(),c.emit("destroy"),c.clear())}function K(X,ne,xe){!N.active||b||(w.scrollBody.useBaseFriction().useDuration(ne===!0?0:N.duration),w.scrollTo.index(X,xe||0))}function H(X){const ne=w.index.add(1).get();K(ne,X,-1)}function $(X){const ne=w.index.add(-1).get();K(ne,X,1)}function Y(){return w.index.add(1).get()!==V()}function O(){return w.index.add(-1).get()!==V()}function D(){return w.scrollSnapList}function B(){return w.scrollProgress.get(w.offsetLocation.get())}function V(){return w.index.get()}function F(){return w.indexPrevious.get()}function Q(){return w.slidesInView.get()}function ie(){return w.slidesInView.get(!1)}function W(){return A}function ge(){return w}function te(){return t}function ce(){return L}function ve(){return C}const Z={canScrollNext:Y,canScrollPrev:O,containerNode:ce,internalEngine:ge,destroy:R,off:g,on:m,emit:v,plugins:W,previousScrollSnap:F,reInit:y,rootNode:te,scrollNext:H,scrollPrev:$,scrollProgress:B,scrollSnapList:D,scrollTo:K,selectedScrollSnap:V,slideNodes:ve,slidesInView:Q,slidesNotInView:ie};return T(e,n),setTimeout(()=>c.emit("init"),0),Z}bp.globalOptions=void 0;function cb(t={},e=[]){const n=d.useRef(t),r=d.useRef(e),[s,i]=d.useState(),[a,l]=d.useState(),c=d.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return d.useEffect(()=>{ib(n.current,t)||(n.current=t,c())},[t,c]),d.useEffect(()=>{wQ(r.current,e)||(r.current=e,c())},[e,c]),d.useEffect(()=>{if(xQ()&&a){bp.globalOptions=cb.globalOptions;const u=bp(a,n.current,r.current);return i(u),()=>u.destroy()}else i(void 0)},[a,i]),[l,s]}cb.globalOptions=void 0;const wL=d.createContext(null);function Wm(){const t=d.useContext(wL);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const o0=d.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:s,children:i,...a},l)=>{const[c,u]=cb({...e,axis:t==="horizontal"?"x":"y"},r),[h,p]=d.useState(!1),[m,g]=d.useState(!1),v=d.useCallback(x=>{x&&(p(x.canScrollPrev()),g(x.canScrollNext()))},[]),y=d.useCallback(()=>{u==null||u.scrollPrev()},[u]),b=d.useCallback(()=>{u==null||u.scrollNext()},[u]),w=d.useCallback(x=>{x.key==="ArrowLeft"?(x.preventDefault(),y()):x.key==="ArrowRight"&&(x.preventDefault(),b())},[y,b]);return d.useEffect(()=>{!u||!n||n(u)},[u,n]),d.useEffect(()=>{if(u)return v(u),u.on("reInit",v),u.on("select",v),()=>{u==null||u.off("select",v)}},[u,v]),o.jsx(wL.Provider,{value:{carouselRef:c,api:u,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:b,canScrollPrev:h,canScrollNext:m},children:o.jsx("div",{ref:l,onKeyDownCapture:w,className:Me("relative",s),role:"region","aria-roledescription":"carousel",...a,children:i})})});o0.displayName="Carousel";const a0=d.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:s}=Wm();return o.jsx("div",{ref:r,className:"overflow-hidden",children:o.jsx("div",{ref:n,className:Me("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});a0.displayName="CarouselContent";const l0=d.forwardRef(({className:t,...e},n)=>{const{orientation:r}=Wm();return o.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:Me("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});l0.displayName="CarouselItem";const c0=d.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollPrev:a,canScrollPrev:l}=Wm();return o.jsxs(z,{ref:s,variant:e,size:n,className:Me("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:a,...r,children:[o.jsx(Rn,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Previous slide"})]})});c0.displayName="CarouselPrevious";const u0=d.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollNext:a,canScrollNext:l}=Wm();return o.jsxs(z,{ref:s,variant:e,size:n,className:Me("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:a,...r,children:[o.jsx(sp,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Next slide"})]})});u0.displayName="CarouselNext";const qm=({cart:t,totalPrice:e,onCheckout:n,onDelete:r,onViewMenu:s,isDarkMode:i,buttonLabel:a="Checkout",className:l=""})=>{if(!t||t.length===0)return null;const c=t[0],u=t.reduce((h,p)=>h+(p.quantity||1),0);return o.jsx("div",{className:`md:hidden fixed left-0 right-0 bottom-0 z-50 flex justify-center items-end pointer-events-none mb-1.5 ${l}`,children:o.jsxs("div",{className:`flex items-center w-[98vw] max-w-xl rounded-2xl shadow-xl px-2.5 py-2 border pointer-events-auto gap-2 sm:gap-3
          ${i?"bg-gray-800/90 border-gray-700 backdrop-blur-md":"bg-white/90 border-gray-200 backdrop-blur-md"}`,style:{minHeight:64},children:[o.jsx("img",{src:c.image,alt:c.name,className:`w-11 h-11 sm:w-12 sm:h-12 rounded-xl object-cover border ${i?"border-gray-700":"border-gray-300"}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:`font-bold text-sm sm:text-base truncate ${i?"text-white":"text-gray-900"}`,children:c.name}),o.jsx("button",{className:`text-xs sm:text-sm underline truncate ${i?"text-gray-300":"text-gray-500"} hover:text-pickngo-orange-500`,onClick:s,tabIndex:-1,type:"button",children:"View Full Menu"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center font-bold rounded-xl px-3 py-2 sm:px-5 focus:outline-none transition-colors text-xs sm:text-sm
            ${i?"bg-rose-600 hover:bg-rose-700 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,onClick:n,style:{minWidth:90},children:[o.jsxs("span",{className:"font-semibold whitespace-nowrap",children:[u," item",u>1?"s":""," | ₹",e]}),o.jsx("span",{className:"text-sm sm:text-base font-bold",children:a})]}),o.jsx("button",{className:`ml-1 sm:ml-2 w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center rounded-full focus:outline-none transition-colors
            ${i?"bg-rose-900/60 hover:bg-rose-900 text-white":"bg-rose-100 hover:bg-rose-200 text-rose-500"}`,onClick:r,"aria-label":"Clear Cart",children:o.jsx(dc,{className:"w-5 h-5"})})]})})},XQ=({isOpen:t,onClose:e,userId:n})=>{const{isDarkMode:r}=Yt(),{selectedAddress:s,setSelectedAddress:i}=ng(),[a,l]=d.useState([]),[c,u]=d.useState(null),[h,p]=d.useState(!1),[m,g]=d.useState(!1),[v,y]=d.useState(null),[b,w]=d.useState({}),[x,N]=d.useState(!1),[k,A]=d.useState(null);d.useEffect(()=>{t&&n&&L(n)},[t,n]),d.useEffect(()=>{t&&u((s==null?void 0:s.id)||null)},[t,s]);const L=async H=>{p(!0);try{const $=on(Fe,"addresses"),Y=Vr($,ps("userId","==",H)),D=(await nr(Y)).docs.map(V=>{const F=V.data();return{id:V.id,type:F.type,name:F.name,address:F.address,city:F.city,state:F.state,pincode:F.pincode,phone:F.phone,email:F.email,isDefault:F.isDefault}});D.sort((V,F)=>V.isDefault&&!F.isDefault?-1:!V.isDefault&&F.isDefault?1:0),l(D);let B=null;try{const V=localStorage.getItem("pickngo-selected-address");if(V){const F=JSON.parse(V);B=D.find(Q=>Q.id===F.id)}}catch{}if(!B&&s&&(B=D.find(V=>V.id===s.id)),B)u(B.id),i(B);else if(D.length>0){const V=D.find(F=>F.isDefault)||D[0];u(V.id),i(V),localStorage.setItem("pickngo-selected-address",JSON.stringify(V))}}catch{}finally{p(!1)}},C=H=>{switch(H){case"home":return o.jsx(Lw,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(Pw,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(sd,{className:"w-5 h-5 text-gray-500"})}},_=H=>{u(H);const $=a.find(Y=>Y.id===H);$&&(i($),localStorage.setItem("pickngo-selected-address",JSON.stringify($)))},S=async H=>{if(!n)return;let $="",Y="",O="";try{const V=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${H.lat}&lon=${H.lng}`)).json();$=V.address.city||V.address.town||V.address.village||"",Y=V.address.state||"",O=V.address.postcode||""}catch{}const D={type:"other",name:"",address:H.address,city:$,state:Y,pincode:O,isDefault:!0,userId:n,createdAt:new Date};try{const B=on(Fe,"addresses"),V=Vr(B,ps("userId","==",n)),Q=(await nr(V)).docs.map(ge=>In(Ct(Fe,"addresses",ge.id),{isDefault:!1}));await Promise.all(Q);const ie=await Es(B,D),W={...D,id:ie.id};i(W),u(W.id),localStorage.setItem("pickngo-selected-address",JSON.stringify(W)),g(!1),e()}catch{g(!1),e()}},T=async H=>{if(n)try{if(await Iw(Ct(Fe,"addresses",H)),(s==null?void 0:s.id)===H){const $=a.filter(Y=>Y.id!==H);$.length>0?(i($[0]),u($[0].id),localStorage.setItem("pickngo-selected-address",JSON.stringify($[0]))):(i(null),u(null),localStorage.removeItem("pickngo-selected-address"))}l($=>$.filter(Y=>Y.id!==H))}catch{}},I=H=>{y(H.id),w({...H})},P=(H,$)=>{w(Y=>({...Y,[H]:$}))},R=async()=>{var $;if(!n||!v)return;const H=["address","city","state","pincode","type"];for(const Y of H)if(!b[Y]||typeof b[Y]=="string"&&(($=b[Y])==null?void 0:$.trim())===""){A(`Please fill in the ${Y} field.`);return}N(!0),A(null);try{const Y=Ct(Fe,"addresses",v),O=Object.fromEntries(Object.entries(b).filter(([D,B])=>B!==void 0));if(await In(Y,O),l(D=>D.map(B=>B.id===v?{...B,...O}:B)),(s==null?void 0:s.id)===v){const D={...s,...O};i(D),localStorage.setItem("pickngo-selected-address",JSON.stringify(D))}y(null),w({})}catch(Y){A("Failed to save. Please try again."),console.error("Firestore update error:",Y)}finally{N(!1)}},K=()=>{y(null),w({})};return o.jsx(ds,{open:t,onOpenChange:e,children:o.jsxs(Fr,{className:`max-w-lg w-full ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} p-0`,children:[o.jsxs($r,{className:"pt-6 px-6",children:[o.jsx(er,{className:`text-xl font-bold mb-2 ${r?"text-white":"text-gray-900"}`,children:"Select Delivery Address"}),o.jsx(Ur,{className:r?"text-gray-400":"text-gray-600",children:"Choose where you'd like your order delivered"})]}),o.jsxs("div",{className:"px-6 pb-6",children:[o.jsxs(z,{onClick:()=>g(!0),variant:"outline",className:`w-full mb-4 ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(sn,{className:"w-4 h-4 mr-2"}),"Set Delivery Location"]}),h?o.jsx("div",{className:"flex justify-center items-center py-8",children:o.jsx(us,{className:"w-6 h-6 animate-spin text-orange-500"})}):a.length===0?o.jsx("div",{className:"text-center text-gray-400 py-8",children:"No saved addresses found."}):o.jsx(wp,{value:c||"",onValueChange:_,children:o.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:a.map(H=>o.jsxs(Re,{htmlFor:H.id,className:`relative flex items-start space-x-3 p-4 border rounded-xl cursor-pointer hover:border-orange-500 transition-colors ${r?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,style:{alignItems:"center"},children:[o.jsx(nl,{value:H.id,id:H.id,className:"mt-1"}),o.jsx("div",{className:"flex-1 min-w-0",children:v===H.id?o.jsxs("form",{className:"flex flex-col gap-2 w-full max-w-full",onSubmit:$=>{$.preventDefault(),R()},children:[o.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:o.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:b.phone||"",onChange:$=>P("phone",$.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"Phone",required:!0,maxLength:10})}),o.jsx("input",{className:"w-full border rounded px-2 py-1 text-sm",value:b.address||"",onChange:$=>P("address",$.target.value),placeholder:"Address",required:!0}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[o.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:b.city||"",onChange:$=>P("city",$.target.value),placeholder:"City",required:!0}),o.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:b.state||"",onChange:$=>P("state",$.target.value),placeholder:"State",required:!0}),o.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:b.pincode||"",onChange:$=>P("pincode",$.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"Pincode",required:!0,maxLength:10})]}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("select",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:b.type||"other",onChange:$=>P("type",$.target.value),children:[o.jsx("option",{value:"home",children:"Home"}),o.jsx("option",{value:"work",children:"Work"}),o.jsx("option",{value:"other",children:"Other"})]})}),k&&o.jsx("div",{className:"text-xs text-red-500",children:k}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{type:"button",onClick:K,className:"px-3 py-1 rounded bg-gray-200 text-gray-700 hover:bg-gray-300 text-xs",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-orange-500 text-white hover:bg-orange-600 text-xs",disabled:x,children:x?"Saving...":"Save"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[C(H.type),o.jsx("h3",{className:`font-semibold capitalize ${r?"text-white":"text-gray-900"}`,children:H.type}),H.isDefault&&o.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),o.jsx("p",{className:`text-sm leading-relaxed ${r?"text-gray-400":"text-gray-600"}`,children:`${H.name}, ${H.address}, ${H.city}, ${H.state} - ${H.pincode}`}),H.phone&&o.jsxs("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-500"}`,children:["📞 ",H.phone]}),!H.phone&&o.jsx("p",{className:"text-xs mt-1 text-orange-500",children:"⚠️ Phone number required"})]})}),v!==H.id&&o.jsx("button",{type:"button",onClick:$=>{$.stopPropagation(),I(H)},className:"absolute top-4 right-12 p-2 rounded-full hover:bg-blue-100 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit address",style:{zIndex:2},children:o.jsx(hH,{className:"w-5 h-5"})}),o.jsx("button",{type:"button",onClick:$=>{$.stopPropagation(),T(H.id)},className:"absolute top-4 right-4 p-2 rounded-full hover:bg-red-100 text-red-600 hover:text-red-800 transition-colors",title:"Delete address",style:{zIndex:2},children:o.jsx(dc,{className:"w-5 h-5"})}),c===H.id&&o.jsx(Rd,{className:"w-5 h-5 text-orange-500 ml-2 mt-1"})]},H.id))})}),o.jsx(gc,{isOpen:m,onClose:()=>g(!1),onLocationSelect:S})]})]})})},JQ=()=>{var hn;const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),{selectedAddress:r}=ng(),{cart:s,addToCart:i,updateCartQuantity:a,removeFromCart:l,clearCart:c,getTotalItems:u,getTotalPrice:h,isCartPopupOpen:p,setIsCartPopupOpen:m}=Vm(),{banStatus:g}=yc(),[v,y]=d.useState("food"),[b,w]=d.useState(""),[x,N]=d.useState("grid"),[k,A]=d.useState([0,1e3]),[L,C]=d.useState("Fetching location..."),[_,S]=d.useState(!1),[T,I]=d.useState(!1),[P,R]=d.useState(null),[K,H]=d.useState(!1),[$,Y]=d.useState(null),[O,D]=d.useState(!1),[B,V]=d.useState(!1),[F,Q]=d.useState(!1),[ie,W]=d.useState(!1),[ge,te]=d.useState(!0),[ce,ve]=d.useState([]),[Z,X]=d.useState([]),[ne,xe]=d.useState([]),[Le,ee]=d.useState([]),[Pe,qe]=d.useState([]),[Nt,Xe]=d.useState([]),[st,ze]=d.useState(!1),[q,pe]=d.useState({city:"",pincode:"",display:"Fetching location..."});d.useEffect(()=>{(async()=>{const Se=await rd(Be.FOOD);ee(Se)})()},[]),d.useEffect(()=>{(async()=>{const Se=await rd(Be.DAILY_ESSENTIAL);qe(Se)})()},[]),d.useEffect(()=>{(async()=>{Xe(await GB(4))})()},[]);const he={fast_delivery:(()=>{var ue;if(r){const Se=(ue=r.city)==null?void 0:ue.toLowerCase();if(Se!=null&&Se.includes("mumbai"))return[{id:5,name:"Pizza Hut",price:120,rating:4.6,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"25-30 mins",ad:!0},{id:6,name:"Bombay Spice",price:150,rating:4.4,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"20-25 mins",discount:"50% OFF"},{id:7,name:"Mumbai Chinese",price:200,rating:4.2,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"18-22 mins",offer:"BUY1 GET1"}];if(Se!=null&&Se.includes("delhi"))return[{id:5,name:"Domino's Delhi",price:110,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"22-28 mins",ad:!0},{id:6,name:"Delhi Darbar",price:140,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"18-23 mins",discount:"40% OFF"},{id:7,name:"Beijing Express",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"20-25 mins",offer:"BUY1 GET1"}];if(Se!=null&&Se.includes("bangalore"))return[{id:5,name:"Pizza Corner",price:130,rating:4.7,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"20-25 mins",ad:!0},{id:6,name:"Bangalore Spice",price:160,rating:4.4,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"15-20 mins",discount:"60% OFF"},{id:7,name:"Tech Chinese",price:190,rating:4.2,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"18-22 mins",offer:"BUY1 GET1"}]}return[{id:5,name:"Domino's Pizza",price:91,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"20-25 mins",ad:!0},{id:6,name:"Spice N Ice",price:130,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"20-25 mins",discount:"60% OFF"},{id:7,name:"China Nation",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"15-20 mins",offer:"BUY1 GET1"}]})()},lt=[{name:"FEAST MODE",subtitle:"65% OFF Every 30 Mins",icon:"🍽️",color:"bg-blue-900/50"},{name:"FLASH DEALS",subtitle:"Dishes From ₹49",icon:"⚡",color:"bg-blue-900/50"},{name:"DISCOUNTS",subtitle:"Up To 60% OFF",icon:"%",color:"bg-blue-900/50"},{name:"Bolt",subtitle:"Food In 10 Mins",icon:"⚡",color:"bg-blue-900/50"}],oe=he.fast_delivery.filter(ue=>ue.name.toLowerCase().includes(b.toLowerCase())),we=()=>{U.success("Redirecting to orders...")},ke=ue=>{Y(ue)},wt=()=>{y("wine"),K?t("/drinks"):Q(!0)},kt=ue=>{console.log("handleFoodClick called with category:",ue),y("food"),t("/food",{state:{category:ue}})},St=()=>{y("essentials"),t("/daily-essential")},Rt=async ue=>{const{address:Se,paymentMethod:He,tip:ft,finalTotal:Ht,location:ct}=ue;if(g.isBanned){U.error("Your account has been suspended. You cannot place orders."),W(!1);return}if(!P){U.error("Please log in to place an order."),S(!0);return}if(!Se.phone||Se.phone.trim()===""){U.error("Please add a phone number to your address before placing the order.");return}let It=null;if(ct)It={lat:ct.lat,lng:ct.lng},U.success("Using selected delivery location!");else{U.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const Ee=await new Promise((Xt,Mn)=>{navigator.geolocation.getCurrentPosition(Xt,Mn,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});It={lat:Ee.coords.latitude,lng:Ee.coords.longitude},U.dismiss(),U.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(Ee){console.error("Error getting location:",Ee),U.dismiss(),Ee.code===1?U.error("Location access denied. Please enable location permissions for accurate tracking."):Ee.code===2?U.error("Location unavailable. Please check your GPS settings."):Ee.code===3?U.error("Location request timed out. Please try again."):U.error("Could not get your location. Using approximate location."),It={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const Ae=25,Qe=Math.random()*10+5,tt=Math.round(Ae+Qe),Zt=new Date(Date.now()+tt*60*1e3),xn={name:Se.name||P.displayName||"User",email:Se.email||P.email||"",phone:Se.phone},pt={userId:P.uid,userInfo:xn,items:s,totalPrice:Ht,tip:ft,deliveryAddress:Object.fromEntries(Object.entries(Se).filter(([Ee,Xt])=>Xt!=null)),paymentMethod:He,status:"pending",createdAt:new Date,estimatedDeliveryTime:Zt,estimatedMinutes:tt,userLocation:It,selectedLocationAddress:(ct==null?void 0:ct.address)||null};try{await Hl(async()=>{const Ee=await Es(on(Fe,"orders"),pt);await In(Ct(Fe,"orders",Ee.id),{orderId:Ee.id}),U.success("Order placed successfully!"),c(),W(!1),t(`/current-order/${Ee.id}`)})}catch(Ee){console.error("Error placing order:",Ee),Ee.code==="permission-denied"?U.error("Access denied. Please check your permissions."):Ee.code==="unavailable"?U.error("Firebase service is temporarily unavailable. Please try again later."):U.error("Failed to place order. Please check your connection and try again.")}},Mt=ue=>{switch(ue.category){case"food":t("/food");break;case"drinks":t("/drinks");break;case"daily_essential":t("/daily-essential");break}U.success(`Selected ${ue.name}`)};d.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async He=>{const{latitude:ft,longitude:Ht}=He.coords;console.log("Detected coordinates:",{latitude:ft,longitude:Ht});try{const It=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${ft}&lon=${Ht}`)).json();It&&It.display_name?C(It.display_name):C("Location not found")}catch(ct){console.error("Error fetching location:",ct),C("Could not fetch location")}},He=>{C("Location access denied"),console.error("Geolocation error:",He)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):C("Geolocation not supported"),localStorage.getItem("pickngo-cart"),localStorage.getItem("pickngo-age-verified")&&H(!0);const Se=Sd(Et,He=>{R(He),I(!!He)});return()=>Se()},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(s))},[s]),d.useEffect(()=>{(async()=>{await LP(),ve(await gl("Food")),X(await gl("Drinks")),xe(await gl("Daily Essential"))})()},[]);const Bt=async()=>{try{await D2(Et),U.success("Signed out successfully")}catch{U.error("Failed to sign out")}},De=()=>{if(!P){U.error("You must be logged in to place an order."),S(!0);return}if(s.length===0){U.error("Your cart is empty.");return}D(!1),W(!0)},Pt=ue=>{C(ue.address),V(!1),U.success("Location selected successfully!")};return d.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async ue=>{const{latitude:Se,longitude:He}=ue.coords;try{const Ht=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Se}&lon=${He}`)).json(),ct=Ht.address.city||Ht.address.town||Ht.address.village||"",It=Ht.address.postcode||"";pe({city:ct,pincode:It,display:ct&&It?`${ct}, ${It}`:ct||It||"Location not found"})}catch{pe({city:"",pincode:"",display:"Location not found"})}},ue=>{pe({city:"",pincode:"",display:"Location not found"})}):pe({city:"",pincode:"",display:"Location not found"})},[]),o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`hidden md:block sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("img",{src:"/logo.jpg",alt:"PickNGo Logo",className:"h-12 w-auto object-contain"})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(sn,{className:"w-5 h-5 text-orange-500"}),o.jsx("div",{className:"min-w-0",children:o.jsx("h3",{className:`font-medium text-sm truncate ${e?"text-white":"text-gray-900"}`,children:q.display})})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 ml-auto pr-6",children:[o.jsx(z,{variant:"ghost",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",onClick:()=>U.info("Download our mobile app!"),children:"Download App"}),o.jsx(z,{variant:"ghost",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",onClick:()=>t("/help-center"),children:"Help Center"}),o.jsx(z,{variant:"ghost",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",onClick:()=>t("/about-us"),children:"About Us"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsxs(z,{variant:"outline",className:`flex items-center space-x-2 relative ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(Jn,{className:"w-5 h-5"}),u()>0&&o.jsx(Tt,{className:"absolute -top-2 -right-2 bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:u()})]})}),o.jsxs(si,{className:`w-80 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(ii,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Shopping Cart"}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:[u()," items"]})]})}),o.jsx(Er,{className:e?"bg-gray-700":"bg-gray-200"}),s.length===0?o.jsxs("div",{className:"p-4 text-center",children:[o.jsx(Jn,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"})]}):o.jsx("div",{className:"max-h-60 overflow-y-auto",children:s.map(ue=>o.jsxs("div",{className:"flex items-center space-x-3 p-3 border-b border-gray-100 dark:border-gray-700",children:[o.jsx("img",{src:ue.image,alt:ue.name,className:"w-12 h-12 object-cover rounded",onError:Se=>{Se.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yNCAzMkMyNi4yMDkxIDMyIDI4IDMwLjIwOTEgMjggMjhDMjggMjUuNzkwOSAyNi4yMDkxIDI0IDI0IDI0QzIxLjc5MDkgMjQgMjAgMjUuNzkwOSAyMCAyOEMyMCAzMC4yMDkxIDIxLjc5MDkgMzIgMjQgMzJaIiBmaWxsPSIjOUI5QkEwIi8+Cjwvc3ZnPgo="}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-medium text-sm truncate ${e?"text-white":"text-gray-900"}`,children:ue.name}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:["₹",ue.price," × ",ue.quantity]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>a(ue.id,Math.max(0,ue.quantity-1)),className:"w-6 h-6 p-0",children:"-"}),o.jsx("span",{className:`text-sm ${e?"text-white":"text-gray-900"}`,children:ue.quantity}),o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>a(ue.id,ue.quantity+1),className:"w-6 h-6 p-0",children:"+"})]})]},ue.id))}),s.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(Er,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-lg font-bold text-orange-500",children:["₹",h()]})]}),o.jsx(z,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold",onClick:De,children:"Place Order"})]})]})]})]}),T?o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsxs(z,{variant:"outline",className:`flex items-center space-x-2 ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx($i,{className:"w-5 h-5"}),o.jsx("span",{children:(P==null?void 0:P.displayName)||((hn=P==null?void 0:P.email)==null?void 0:hn.split("@")[0])||"My Account"})]})}),o.jsxs(si,{className:`w-56 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(ii,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:`text-sm font-medium leading-none ${e?"text-white":"text-gray-900"}`,children:(P==null?void 0:P.displayName)||(P==null?void 0:P.email)||"User"}),o.jsx("p",{className:`text-xs leading-none ${e?"text-gray-400":"text-gray-500"}`,children:P==null?void 0:P.email})]})}),o.jsx(Er,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs(vt,{onClick:()=>t("/profile"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx($i,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs(vt,{onClick:()=>t("/past-orders"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(Ps,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Past Orders"})]}),o.jsxs(vt,{onClick:()=>ze(!0),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(sn,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Saved Address"})]}),o.jsxs(vt,{onClick:()=>t("/settings"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(Yv,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]}),o.jsx(Er,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsx(vt,{onClick:()=>U.info("Download our mobile app!"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"Download App"})}),o.jsx(vt,{onClick:()=>t("/help-center"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"Help Center"})}),o.jsx(vt,{onClick:()=>t("/about-us"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"About Us"})}),o.jsxs(vt,{onClick:Bt,className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(PC,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]}):o.jsx(z,{className:"bg-orange-500 hover:bg-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:()=>S(!0),children:"Sign In"}),o.jsx(z,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:e?o.jsx(Dw,{className:"w-5 h-5"}):o.jsx(ip,{className:"w-5 h-5"})})]})]})})}),o.jsx("header",{className:`md:hidden sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("img",{src:"/food-tray-arrow.jpg",alt:"PickNGo Delivery Logo",className:"h-10 w-10 object-contain",style:{minWidth:36}})}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(sn,{className:"w-4 h-4 text-orange-500"}),o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx("h3",{className:`font-medium text-xs truncate ${e?"text-white":"text-gray-900"}`,children:q.display})})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsxs(z,{variant:"ghost",size:"icon",className:`relative ${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,children:[o.jsx(Jn,{className:"w-5 h-5"}),u()>0&&o.jsx(Tt,{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:u()})]})}),o.jsxs(si,{className:`w-72 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(ii,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Cart"}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:[u()," items"]})]})}),o.jsx(Er,{className:e?"bg-gray-700":"bg-gray-200"}),s.length===0?o.jsxs("div",{className:"p-4 text-center",children:[o.jsx(Jn,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"})]}):o.jsx("div",{className:"max-h-48 overflow-y-auto",children:s.map(ue=>o.jsxs("div",{className:"flex items-center space-x-3 p-3 border-b border-gray-100 dark:border-gray-700",children:[o.jsx("img",{src:ue.image,alt:ue.name,className:"w-10 h-10 object-cover rounded",onError:Se=>{Se.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yNCAzMkMyNi4yMDkxIDMyIDI4IDMwLjIwOTEgMjggMjhDMjggMjUuNzkwOSAyNi4yMDkxIDI0IDI0IDI0QzIxLjc5MDkgMjQgMjAgMjUuNzkwOSAyMCAyOEMyMCAzMC4yMDkxIDIxLjc5MDkgMzIgMjQgMzJaIiBmaWxsPSIjOUI5QkEwIi8+Cjwvc3ZnPgo="}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-medium text-sm truncate ${e?"text-white":"text-gray-900"}`,children:ue.name}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:["₹",ue.price," × ",ue.quantity]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>a(ue.id,Math.max(0,ue.quantity-1)),className:"w-5 h-5 p-0",children:"-"}),o.jsx("span",{className:`text-xs ${e?"text-white":"text-gray-900"}`,children:ue.quantity}),o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>a(ue.id,ue.quantity+1),className:"w-5 h-5 p-0",children:"+"})]})]},ue.id))}),s.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(Er,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-lg font-bold text-orange-500",children:["₹",h()]})]}),o.jsx(z,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold",onClick:De,children:"Place Order"})]})]})]})]}),T?o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsx(z,{variant:"ghost",size:"icon",className:`${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,children:o.jsx($i,{className:"w-5 h-5"})})}),o.jsxs(si,{className:`w-56 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(ii,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:`text-sm font-medium leading-none ${e?"text-white":"text-gray-900"}`,children:(P==null?void 0:P.displayName)||(P==null?void 0:P.email)||"User"}),o.jsx("p",{className:`text-xs leading-none ${e?"text-gray-400":"text-gray-500"}`,children:P==null?void 0:P.email})]})}),o.jsx(Er,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs(vt,{onClick:()=>t("/profile"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx($i,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs(vt,{onClick:()=>t("/past-orders"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(Ps,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Past Orders"})]}),o.jsxs(vt,{onClick:()=>ze(!0),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(sn,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Saved Address"})]}),o.jsxs(vt,{onClick:()=>t("/settings"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(Yv,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]}),o.jsx(Er,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsx(vt,{onClick:()=>U.info("Download our mobile app!"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"Download App"})}),o.jsx(vt,{onClick:()=>t("/help-center"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"Help Center"})}),o.jsx(vt,{onClick:()=>t("/about-us"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"About Us"})}),o.jsxs(vt,{onClick:Bt,className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(PC,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]}):o.jsx(z,{variant:"ghost",size:"icon",className:`${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,onClick:()=>S(!0),children:o.jsx($i,{className:"w-5 h-5"})})]})]})})}),o.jsxs("main",{className:"pb-20 md:pb-0",children:[o.jsx("div",{className:`hidden md:block py-16 ${e?"bg-gray-800":"bg-gray-100"}`,children:o.jsxs("div",{className:"container mx-auto text-center",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4 text-orange-500",children:"Your daily essentials, delivered in minutes."}),r?o.jsx("div",{className:"mb-4",children:o.jsxs(Tt,{className:"bg-orange-100 text-orange-700 px-4 py-2 text-sm",children:["🎯 Delivering to: ",r.city||"",r.city&&r.state?", ":"",r.state||"",(r.city||r.state)&&r.pincode?", ":"",r.pincode||""]})}):q.city||q.pincode?o.jsx("div",{className:"mb-4",children:o.jsxs(Tt,{className:"bg-orange-100 text-orange-700 px-4 py-2 text-sm",children:["🎯 Delivering to: ",q.city,q.city&&q.pincode?", ":"",q.pincode]})}):o.jsx("div",{className:"mb-4",children:o.jsx(Tt,{className:"bg-orange-100 text-orange-700 px-4 py-2 text-sm",children:"🎯 Delivering to: Not selected"})}),o.jsx("p",{className:`text-lg mb-8 ${e?"text-gray-300":"text-gray-600"}`,children:"Order food, groceries, and more from the best places near you."}),o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(qC,{isOpen:!0,onClose:()=>{},onProductSelect:Mt,onAddToCart:i,cart:s})})})]})}),o.jsxs("div",{className:"md:hidden",children:[o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(qC,{isOpen:!0,onClose:()=>{},onProductSelect:Mt,onAddToCart:i,cart:s}),o.jsx(z,{variant:"ghost",size:"sm",className:"text-pickngo-orange-500",onClick:()=>U.success("Voice search activated!"),children:o.jsx(dH,{className:"w-5 h-5"})})]})}),o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Foodie Weekend💰"}),o.jsx("p",{className:"text-lg mb-4",children:"Upto 60% OFF on delights!"}),o.jsx(z,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:we,children:"ORDER NOW"})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=150",alt:"Food",className:"w-20 h-20 rounded-full object-cover"}),o.jsx("img",{src:"https://images.unsplash.com/photo-1551024601-bec78aea704b?w=150",alt:"Dessert",className:"w-20 h-20 rounded-full object-cover"})]})]})})})]}),o.jsx("div",{className:"hidden md:block container mx-auto py-12",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs(Ie,{className:`overflow-hidden cursor-pointer group ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,onClick:()=>kt("all"),children:[o.jsx(ut,{className:"p-0",children:o.jsx("img",{src:"https://plus.unsplash.com/premium_photo-1673108852141-e8c3c22a4a22?w=400",alt:"Food Delivery",className:"w-full h-56 object-cover"})}),o.jsxs(Te,{className:"p-6",children:[o.jsx("h3",{className:`text-2xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Food Delivery"}),o.jsx("p",{className:`mb-4 ${e?"text-gray-300":"text-gray-600"}`,children:"From the best local restaurants"}),o.jsx(z,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Order Now"})]})]}),o.jsxs(Ie,{className:`overflow-hidden cursor-pointer group ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,onClick:St,children:[o.jsx(ut,{className:"p-0",children:o.jsx("img",{src:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=500",alt:"Groceries",className:"w-full h-56 object-cover"})}),o.jsxs(Te,{className:"p-6",children:[o.jsx("h3",{className:`text-2xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Instamart"}),o.jsx("p",{className:`mb-4 ${e?"text-gray-300":"text-gray-600"}`,children:"Instant Grocery Delivery"}),o.jsx(z,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Shop Now"})]})]}),o.jsxs(Ie,{className:`overflow-hidden cursor-pointer group ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,onClick:wt,children:[o.jsx(ut,{className:"p-0",children:o.jsx("img",{src:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=500",alt:"Dineout",className:"w-full h-56 object-cover"})}),o.jsxs(Te,{className:"p-6",children:[o.jsx("h3",{className:`text-2xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Dineout & Drinks"}),o.jsx("p",{className:`mb-4 ${e?"text-gray-300":"text-gray-600"}`,children:"Eat out or get drinks delivered"}),o.jsx(z,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Explore Now"})]})]})]})}),o.jsxs("div",{className:"hidden md:block container mx-auto py-12",children:[o.jsx("h2",{className:`text-3xl font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:"What's on your mind?"}),(()=>{const ue=new Set,Se=Le.filter(He=>{const ft=He.subcategory||He.id||He.name;return ue.has(ft)?!1:(ue.add(ft),!0)});return o.jsxs(o0,{opts:{align:"start",loop:!0},children:[o.jsx(a0,{children:Se.map((He,ft)=>o.jsx(l0,{className:"basis-auto",children:o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>kt(He.subcategory),children:[o.jsx("div",{className:"w-36 h-36 flex items-center justify-center rounded-full mx-auto text-6xl bg-gray-100 dark:bg-gray-800",children:He.icon}),o.jsx("p",{className:`mt-2 font-semibold ${e?"text-white":"text-gray-900"}`,children:He.displayName})]})},ft))}),o.jsx(c0,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"}),o.jsx(u0,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"})]})})()]}),o.jsxs("div",{className:"hidden md:block container mx-auto py-8",children:[o.jsx("h2",{className:`text-2xl font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:"Top Buys of All Time"}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:Nt.filter(ue=>ue.category==="food").map(ue=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${e?"border border-gray-700":"border border-gray-200"}`,children:[o.jsx("div",{className:"relative",children:o.jsx("img",{src:ue.image,alt:ue.name,className:"w-full h-48 object-cover"})}),o.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[o.jsx("h3",{className:"font-bold text-lg mb-1",children:ue.name}),o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsxs("span",{className:"font-medium text-sm text-gray-500 dark:text-gray-300",children:["₹",ue.price]}),o.jsxs("span",{className:"text-gray-400 text-sm",children:["• ",ue.rating,"★"]})]}),o.jsx("p",{className:"text-gray-400 text-sm flex-1",children:ue.category}),o.jsxs("span",{className:"text-xs text-orange-500 font-bold mt-2",children:["Total Bought: ",ue.totalBought]})]})]},ue.id))})]}),o.jsxs("div",{className:"hidden md:block container mx-auto py-12",children:[o.jsx("h2",{className:`text-3xl font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:"Shop groceries on Instamart"}),(()=>{const ue=new Set,Se=Pe.filter(He=>{const ft=He.subcategory||He.id||He.name;return ue.has(ft)?!1:(ue.add(ft),!0)});return o.jsxs(o0,{opts:{align:"start",loop:!0},children:[o.jsx(a0,{children:Se.map((He,ft)=>o.jsx(l0,{className:"basis-auto",children:o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>t("/daily-essential",{state:{category:He.subcategory}}),children:[o.jsx("div",{className:`w-36 h-36 flex items-center justify-center rounded-full mx-auto text-6xl ${e?"bg-gray-800":"bg-gray-100"}`,style:{boxShadow:"0 2px 8px 0 rgba(0,0,0,0.04)"},children:He.icon?o.jsx("span",{children:He.icon}):o.jsx("img",{src:He.image||"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=200&h=200&fit=crop",alt:He.name,className:"w-20 h-20 object-cover rounded-full"})}),o.jsx("p",{className:`mt-2 font-semibold ${e?"text-white":"text-gray-900"}`,children:He.displayName||He.name})]})},ft))}),o.jsx(c0,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"}),o.jsx(u0,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"})]})})()]}),o.jsxs("div",{className:"md:hidden",children:[o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:lt.map((ue,Se)=>o.jsxs("button",{className:`${ue.color} backdrop-blur-md rounded-2xl p-4 text-white relative overflow-hidden hover:opacity-90 transition-opacity`,onClick:()=>U.success(`${ue.name} activated!`),children:[o.jsx("div",{className:"text-2xl mb-2",children:ue.icon}),o.jsx("h3",{className:"font-bold text-sm mb-1",children:ue.name}),o.jsx("p",{className:"text-xs opacity-90",children:ue.subtitle})]},Se))})}),o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"bg-gradient-to-r from-red-600 to-purple-700 rounded-2xl p-6 text-white relative overflow-hidden",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("span",{className:"text-2xl",children:"⚡"}),o.jsx("h3",{className:"text-xl font-bold",children:"Bolt | Dinner in 10 mins"})]}),o.jsx("p",{className:"mb-4",children:"Fresh, hot & crisp delights for you."}),o.jsx(z,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:we,children:"ORDER NOW"})]}),o.jsx("img",{src:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=200",alt:"Food Bowl",className:"w-32 h-32 rounded-full object-cover"})]})})}),o.jsxs("div",{className:"container mx-auto px-4 mb-20",children:[o.jsx("h2",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Fast delivery"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:oe.map(ue=>o.jsxs(Ie,{className:`relative overflow-hidden rounded-2xl cursor-pointer hover:shadow-lg transition-shadow border ${e?"bg-gray-800 border-gray-700 text-white":"bg-white/5 backdrop-blur-md text-white border-gray-700"}`,onClick:()=>ke(ue),children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:ue.image,alt:ue.name,className:"w-full h-48 object-cover"}),o.jsx(z,{variant:"ghost",size:"icon",className:"absolute top-3 right-3 bg-black/50 hover:bg-black/70 rounded-full p-2",onClick:Se=>{Se.stopPropagation(),U.success("Added to wishlist!")},children:o.jsx(vi,{className:"w-4 h-4"})}),ue.discount&&o.jsx("div",{className:"absolute top-3 left-3 bg-pickngo-orange-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:ue.discount}),ue.offer&&o.jsx("div",{className:"absolute bottom-3 right-3 bg-green-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:ue.offer}),ue.ad&&o.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/80 text-white px-3 py-1 rounded text-sm",children:["ITEMS AT ₹",ue.price]})]}),o.jsxs(Te,{className:"p-4",children:[o.jsx("h3",{className:"font-bold text-lg mb-1",children:ue.name}),o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Qr,{className:"w-4 h-4 fill-green-500 text-green-500"}),o.jsx("span",{className:"font-medium text-sm text-gray-300",children:ue.rating})]}),o.jsxs("span",{className:"text-gray-400 text-sm",children:["• ",ue.deliveryTime]})]}),o.jsx("p",{className:"text-gray-300 text-sm",children:ue.category})]})]},ue.id))})]})]})]}),o.jsx("div",{className:`md:hidden fixed bottom-0 left-0 right-0 backdrop-blur-md border-t z-50 ${e?"bg-gray-900/80 border-gray-700":"bg-white/80 border-gray-200"}`,children:o.jsxs("div",{className:`grid ${T?"grid-cols-4":"grid-cols-3"} h-16`,children:[o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="food"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:()=>kt("all"),children:[o.jsx("span",{className:"text-2xl",children:"🥪"}),o.jsx("span",{className:"text-xs font-medium",children:"Food"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="essentials"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:St,children:[o.jsx("span",{className:"text-2xl",children:"🛒"}),o.jsx("span",{className:"text-xs font-medium",children:"Daily Essential"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="wine"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:wt,children:[o.jsx("span",{className:"text-2xl",children:"🍷"}),o.jsx("span",{className:"text-xs font-medium",children:"Wine Stores"})]}),T&&o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="reorder"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:()=>t("/past-orders"),children:[o.jsx(lH,{className:"w-6 h-6"}),o.jsx("span",{className:"text-xs font-medium",children:"Reorder"})]})]})}),o.jsx(qm,{cart:s,totalPrice:h(),onCheckout:()=>D(!0),onDelete:()=>c(),onViewMenu:()=>D(!0),isDarkMode:e,buttonLabel:"Checkout",className:"bottom-16"}),o.jsx(GH,{isOpen:_,onClose:()=>S(!1),onLoginSuccess:()=>I(!0)}),o.jsx(FA,{isOpen:F,onVerified:()=>{H(!0),localStorage.setItem("pickngo-age-verified","true"),Q(!1),t("/drinks"),U.success("Age verified! Welcome to wine stores.")},onClose:()=>Q(!1)}),o.jsx(Dm,{product:$,onClose:()=>Y(null),onAddToCart:i}),o.jsx(nq,{isOpen:O,onClose:()=>D(!1),cart:s,updateQuantity:a,totalPrice:h(),onProceedToCheckout:De}),o.jsx(Bm,{isOpen:ie,onClose:()=>W(!1),onPlaceOrder:Rt,totalPrice:h(),user:P}),o.jsxs("footer",{className:`${e?"bg-gray-900 text-white":"bg-gray-100 text-gray-900"} mt-20`,children:[o.jsx("div",{className:"container mx-auto px-4 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("h3",{className:"text-2xl font-bold text-pickngo-orange-500",children:"PickNGo"})}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Your trusted partner for quick food delivery, grocery shopping, and daily essentials."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-pickngo-orange-500",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(z,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>kt("all"),children:"Food Delivery"})}),o.jsx("li",{children:o.jsx(z,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:St,children:"Grocery Delivery"})}),o.jsx("li",{children:o.jsx(z,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:wt,children:"Wine & Drinks"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-pickngo-orange-500",children:"Support"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(z,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/help-center"),children:"Help Center"})}),o.jsx("li",{children:o.jsx(z,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/contact-us"),children:"Contact Us"})}),o.jsx("li",{children:o.jsx(z,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/track-order"),children:"Track Order"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-pickngo-orange-500",children:"Company"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(z,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/about-us"),children:"About Us"})}),o.jsx("li",{children:o.jsx(z,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/careers"),children:"Careers"})}),o.jsx("li",{children:o.jsx(z,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/privacy-policy"),children:"Privacy Policy"})})]})]})]})}),o.jsx("div",{className:`border-t ${e?"border-gray-800":"border-gray-300"}`,children:o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"© 2024 PickNGo. All rights reserved."}),o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"•"}),o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Made with ❤️ in India"})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsx(z,{variant:"ghost",size:"sm",className:`${e?"text-gray-400 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"}`,onClick:()=>U.info("Download our mobile app!"),children:"Download App"}),o.jsx(z,{variant:"ghost",size:"sm",className:`${e?"text-gray-400 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"}`,onClick:()=>U.info("Newsletter subscription coming soon!"),children:"Newsletter"})]})]})})})]}),o.jsx(gc,{isOpen:B,onClose:()=>V(!1),onLocationSelect:Pt}),o.jsx(XQ,{isOpen:st,onClose:()=>ze(!1),userId:(P==null?void 0:P.uid)||null})]})},ub=({isOpen:t,onClose:e,cart:n,onUpdateQuantity:r,onRemoveItem:s,onProceedToCheckout:i,isDarkMode:a})=>{const l=()=>n.reduce((p,m)=>p+m.quantity,0),c=()=>n.reduce((p,m)=>p+m.price*m.quantity,0),u=c()>0?40:0;return o.jsx(ds,{open:t,onOpenChange:e,children:o.jsxs(Fr,{className:`max-w-md ${a?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx($r,{children:o.jsxs(er,{className:`flex items-center space-x-2 ${a?"text-white":"text-gray-900"}`,children:[o.jsx(Jn,{className:"w-6 h-6 text-orange-500"}),o.jsx("span",{children:"Shopping Cart"}),l()>0&&o.jsx(Tt,{className:"bg-orange-500 text-white",children:l()})]})}),o.jsx("div",{className:"h-64 overflow-y-auto",children:n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Jn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:`text-lg font-medium ${a?"text-gray-300":"text-gray-600"}`,children:"Your cart is empty"}),o.jsx("p",{className:`text-sm ${a?"text-gray-500":"text-gray-400"}`,children:"Add some items to get started!"})]}):o.jsx("div",{className:"space-y-3 pr-2",children:n.map(p=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${a?"bg-gray-800":"bg-gray-50"}`,children:[o.jsx("img",{src:p.image,alt:p.name,className:"w-12 h-12 object-cover rounded flex-shrink-0",onError:m=>{m.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yNCAzMkMyNi4yMDkxIDMyIDI4IDMwLjIwOTEgMjggMjhDMjggMjUuNzkwOSAyNi4yMDkxIDI0IDI0IDI0QzIxLjc5MDkgMjQgMjAgMjUuNzkwOSAyMCAyOEMyMCAzMC4yMDkxIDIxLjc5MDkgMzIgMjQgMzJaIiBmaWxsPSIjOUI5QkEwIi8+Cjwvc3ZnPgo="}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-medium text-sm truncate ${a?"text-white":"text-gray-900"}`,children:p.name}),o.jsxs("p",{className:`text-xs ${a?"text-gray-400":"text-gray-500"}`,children:["₹",p.price," × ",p.quantity]})]}),o.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r(p.id,Math.max(0,p.quantity-1)),className:"w-6 h-6 p-0",children:o.jsx(Cm,{className:"w-3 h-3"})}),o.jsx("span",{className:`text-sm font-medium ${a?"text-white":"text-gray-900"}`,children:p.quantity}),o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r(p.id,p.quantity+1),className:"w-6 h-6 p-0",children:o.jsx(uc,{className:"w-3 h-3"})})]}),o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>s(p.id),className:"w-6 h-6 p-0 text-red-500 hover:text-red-600",children:o.jsx(dc,{className:"w-3 h-3"})})]})]},p.id))})}),n.length>0&&o.jsxs("div",{className:`border-t pt-4 ${a?"border-gray-700":"border-gray-200"}`,children:[o.jsx(gL,{subtotal:c(),deliveryCharge:u,gstRate:5,isDarkMode:a}),o.jsx(z,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 mt-4",onClick:i,children:"Proceed to Checkout"})]})]})})},eY=()=>{var lt;const t=Ln(),e=Jp(),{isDarkMode:n,toggleDarkMode:r}=Yt(),[s,i]=d.useState(""),[a,l]=d.useState("All"),[c,u]=d.useState(null),{cart:h,addToCart:p,updateCartQuantity:m,removeFromCart:g,clearCart:v,getTotalItems:y,getTotalPrice:b}=Vm(),[w,x]=d.useState([]),[N,k]=d.useState([]),[A,L]=d.useState(!0),[C,_]=d.useState(!0),[S,T]=d.useState(!1),[I,P]=d.useState(null),[R,K]=d.useState(!1),[H,$]=d.useState(!1),[Y,O]=d.useState(!1),[D,B]=d.useState("relevance"),[V,F]=d.useState(!1),[Q,ie]=d.useState("all"),[W,ge]=d.useState(!1),[te,ce]=d.useState(null),[ve,Z]=d.useState("grid"),[X,ne]=d.useState("All"),{banStatus:xe}=yc(),[Le,ee]=d.useState(!1),Pe=d.useMemo(()=>{let oe=[...w];switch(a!=="all"&&a!=="All"&&(oe=oe.filter(we=>we.subcategory===a)),s&&(oe=oe.filter(we=>we.name.toLowerCase().includes(s.toLowerCase()))),Q==="veg"?oe=oe.filter(we=>we.isVeg===!0):Q==="non-veg"&&(oe=oe.filter(we=>we.isVeg===!1)),D){case"price-asc":oe.sort((we,ke)=>we.price-ke.price);break;case"price-desc":oe.sort((we,ke)=>ke.price-we.price);break;case"rating":oe.sort((we,ke)=>(ke.rating||0)-(we.rating||0));break}return oe},[w,a,s,Q,D]),qe=Array.from(new Map(Pe.map(oe=>[`${oe.name}-${oe.price}`,oe])).values()),Nt=y(),Xe=b(),st=oe=>{p(oe),O(!0)},ze=async()=>{_(!0);try{const oe=await rd(Be.FOOD);k(oe)}catch(oe){console.error("Error loading food categories:",oe),U.error("Failed to load categories")}finally{_(!1)}},q=async()=>{L(!0);try{const oe=await gl(Be.FOOD);x(oe)}catch(oe){console.error("Error loading food products:",oe),U.error("Failed to load products")}finally{L(!1)}};d.useEffect(()=>{ze(),q()},[]),d.useEffect(()=>{var oe;(oe=e.state)!=null&&oe.category&&N.some(ke=>ke.name===e.state.category||ke.subcategory===e.state.category)&&l(e.state.category)},[(lt=e.state)==null?void 0:lt.category,N]),d.useEffect(()=>{const oe=Sd(Et,we=>{P(we),ee(!!we)});return()=>oe()},[]),d.useEffect(()=>{console.log("Categories:",N)},[N]);const pe=async oe=>{const{address:we,paymentMethod:ke,tip:wt,finalTotal:kt,location:St}=oe;if(xe.isBanned){U.error("Your account has been suspended. You cannot place orders."),K(!1);return}if(!I){U.error("Please log in to place an order.");return}if(!we.phone||we.phone.trim()===""){U.error("Please add a phone number to your address before placing the order.");return}let Rt=null;if(St)Rt={lat:St.lat,lng:St.lng},U.success("Using selected delivery location!");else{U.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const Se=await new Promise((He,ft)=>{navigator.geolocation.getCurrentPosition(He,ft,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});Rt={lat:Se.coords.latitude,lng:Se.coords.longitude},U.dismiss(),U.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(Se){console.error("Error getting location:",Se),U.dismiss(),Se.code===1?U.error("Location access denied. Please enable location permissions for accurate tracking."):Se.code===2?U.error("Location unavailable. Please check your GPS settings."):Se.code===3?U.error("Location request timed out. Please try again."):U.error("Could not get your location. Using approximate location."),Rt={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const Mt=25,Bt=Math.random()*10+5,De=Math.round(Mt+Bt),Pt=new Date(Date.now()+De*60*1e3),hn={name:we.name||I.displayName||"User",email:we.email||I.email||"",phone:we.phone},ue={userId:I.uid,userInfo:hn,items:h,totalPrice:kt,tip:wt,deliveryAddress:Object.fromEntries(Object.entries(we).filter(([Se,He])=>He!=null)),paymentMethod:ke,status:"pending",createdAt:new Date,estimatedDeliveryTime:Pt,estimatedMinutes:De,userLocation:Rt,selectedLocationAddress:(St==null?void 0:St.address)||null};try{await Hl(async()=>{const Se=await Es(on(Fe,"orders"),ue);await In(Ct(Fe,"orders",Se.id),{orderId:Se.id}),U.success("Order placed successfully!"),v(),K(!1),t(`/current-order/${Se.id}`)})}catch(Se){console.error("Error placing order:",Se),Se.code==="permission-denied"?U.error("Access denied. Please check your permissions."):Se.code==="unavailable"?U.error("Firebase service is temporarily unavailable. Please try again later."):U.error("Failed to place order. Please check your connection and try again.")}},he=oe=>{ce(oe),ge(!1)};return X==="All"||w.filter(oe=>oe.subcategory===X),o.jsxs("div",{className:`min-h-screen ${n?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-40 ${n?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:n?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${n?"text-white":"text-gray-900"}`,children:"Offers"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(z,{onClick:()=>F(!V),variant:"ghost",size:"icon",className:n?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(xi,{className:"w-5 h-5"})}),o.jsxs(z,{onClick:()=>O(!0),variant:"ghost",size:"icon",className:"relative",children:[o.jsx(Jn,{className:"w-5 h-5"}),Nt>0&&o.jsx(Tt,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:Nt})]})]})]})})}),V&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx($e,{placeholder:"Search for food...",value:s,onChange:oe=>i(oe.target.value),className:`w-full ${n?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-2 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsxs(z,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:[o.jsx(Rw,{className:"w-4 h-4 mr-2"})," Filter"]}),o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsx(z,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(si,{children:[o.jsx(ii,{children:"Sort Options"}),o.jsx(Er,{}),o.jsx(vt,{onClick:()=>B("relevance"),children:"Relevance"}),o.jsx(vt,{onClick:()=>B("price-asc"),children:"Price: Low to High"}),o.jsx(vt,{onClick:()=>B("price-desc"),children:"Price: High to Low"}),o.jsx(vt,{onClick:()=>B("rating"),children:"Rating"})]})]}),o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsx(z,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Veg/Non-Veg"})}),o.jsxs(si,{children:[o.jsx(ii,{children:"Dietary"}),o.jsx(Er,{}),o.jsx(vt,{onClick:()=>ie("all"),children:"All"}),o.jsx(vt,{onClick:()=>ie("veg"),children:"Veg"}),o.jsx(vt,{onClick:()=>ie("non-veg"),children:"Non-Veg"})]})]}),o.jsx(z,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Offers"})]})})}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"flex space-x-4 overflow-x-auto px-2 md:justify-center md:space-x-8 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:(()=>{const oe=new Set;return N.filter(ke=>{if(!ke.name||ke.name.trim()===""||ke.name==="🥐"||ke.name==="📦"||ke.name.includes("http")||ke.name.includes("unsplash"))return!1;const wt=ke.subcategory||ke.id||ke.name;return oe.has(wt)?!1:(oe.add(wt),!0)}).map(ke=>{let wt=null;if(ke.image)wt=o.jsx("img",{src:ke.image,alt:ke.name,className:"w-full h-full object-cover"});else if(ke.logo)wt=o.jsx("img",{src:ke.logo,alt:ke.name,className:"w-full h-full object-cover"});else if(ke.icon&&typeof ke.icon=="string"&&!ke.icon.startsWith("http"))wt=o.jsx("span",{className:"text-4xl flex items-center justify-center w-full h-full",children:ke.icon});else return null;return o.jsxs("button",{onClick:()=>l(ke.subcategory),className:"flex flex-col items-center focus:outline-none",children:[o.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 rounded-full overflow-hidden border-4 transition-all duration-200 ${a===ke.subcategory?"border-orange-500 shadow-lg":"border-transparent"}`,style:{boxShadow:a===ke.subcategory?"0 0 0 4px rgba(255, 115, 0, 0.2)":void 0},children:wt}),o.jsx("span",{className:"mt-2 text-sm md:text-base font-medium text-center whitespace-nowrap",children:ke.name})]},ke.id||ke.name)})})()})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:[o.jsx("div",{className:"block md:hidden space-y-4",children:qe.map(oe=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:oe.image,alt:oe.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(vi,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ₹",oe.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${n?"text-white":"text-gray-900"}`,children:oe.name}),o.jsx(z,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Wl,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(Qr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[oe.rating," (500+) • 20-25 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:oe.description}),o.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar • 2.2 km"}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:`font-bold text-lg mb-1 ${n?"text-orange-400":"text-orange-600"}`,children:["₹",oe.price]}),o.jsx(z,{onClick:()=>st(oe),size:"sm",className:n?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:n?"default":"outline",children:"Add to cart"})]})]})]},oe.id))}),o.jsx("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:qe.map(oe=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${n?"border border-gray-700":"border border-gray-200"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:oe.image,alt:oe.name,className:"w-full h-48 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(vi,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ₹",oe.price]})]}),o.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h3",{className:`font-bold text-lg truncate ${n?"text-white":"text-gray-900"}`,children:oe.name}),o.jsx(z,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Wl,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-1",children:[o.jsx(Qr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[oe.rating," (500+) • 20-25 mins"]})]}),o.jsx("p",{className:`text-sm mb-1 truncate ${n?"text-gray-400":"text-gray-600"}`,children:oe.description}),o.jsx("p",{className:`text-sm mb-2 truncate ${n?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar • 2.2 km"}),o.jsxs("div",{className:`font-bold text-lg mb-2 ${n?"text-orange-400":"text-orange-600"}`,children:["₹",oe.price]}),o.jsx(z,{onClick:()=>st(oe),size:"sm",className:n?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:n?"default":"outline",children:"Add to cart"})]})]},oe.id))})]}),o.jsx(qm,{cart:h,totalPrice:Xe,onCheckout:()=>$(!0),onDelete:()=>{v(),U.success("Cart cleared!")},onViewMenu:()=>$(!0),isDarkMode:n,buttonLabel:"Checkout",className:"!bottom-0"}),o.jsx(Om,{open:H,onOpenChange:$,children:o.jsxs(Md,{className:`w-96 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(Dd,{children:o.jsx(Od,{className:n?"text-white":"text-gray-900",children:"Your Cart"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:h.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Jn,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:`text-lg font-medium ${n?"text-gray-300":"text-gray-600"}`,children:"Your cart is empty"}),o.jsx("p",{className:`text-sm ${n?"text-gray-500":"text-gray-400"}`,children:"Add some delicious food to get started!"})]}):o.jsx("div",{className:"space-y-4",children:h.map(oe=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${n?"bg-gray-700":"bg-gray-50"}`,children:[o.jsx("img",{src:oe.image,alt:oe.name,className:"w-16 h-16 object-cover rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${n?"text-white":"text-gray-900"}`,children:oe.name}),o.jsxs("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:["₹",oe.price]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(z,{variant:"outline",size:"sm",onClick:()=>m(oe.id,Math.max(0,oe.quantity-1)),className:n?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(Cm,{className:"w-3 h-3"})}),o.jsx("span",{className:`w-8 text-center ${n?"text-white":"text-gray-900"}`,children:oe.quantity}),o.jsx(z,{variant:"outline",size:"sm",onClick:()=>m(oe.id,oe.quantity+1),className:n?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(uc,{className:"w-3 h-3"})})]})]},oe.id))})}),h.length>0&&o.jsxs("div",{className:`border-t ${n?"border-gray-700":"border-gray-200"} pt-4`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:`font-medium ${n?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["₹",Xe.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>{if(!I){U.error("You must be logged in to place an order.");return}K(!0)},children:"Proceed to Checkout"}),o.jsx(z,{variant:"outline",className:`w-full ${n?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,onClick:v,children:"Clear Cart"})]})]})]})}),c&&o.jsx(Dm,{product:c,onClose:()=>u(null),onAddToCart:p}),R&&o.jsx(Bm,{isOpen:R,onClose:()=>K(!1),onPlaceOrder:pe,totalPrice:Xe,user:I}),o.jsx(ub,{isOpen:Y,onClose:()=>O(!1),cart:h,onUpdateQuantity:m,onRemoveItem:g,onProceedToCheckout:()=>K(!0),isDarkMode:n}),o.jsx(gc,{isOpen:W,onClose:()=>ge(!1),onLocationSelect:he})]})},tY=()=>{var ze;const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState(""),[i,a]=d.useState("All"),[l,c]=d.useState(null),{cart:u,addToCart:h,updateCartQuantity:p,removeFromCart:m,clearCart:g,getTotalItems:v,getTotalPrice:y,isCartPopupOpen:b,setIsCartPopupOpen:w}=Vm(),[x,N]=d.useState([]),[k,A]=d.useState([]),[L,C]=d.useState(!0),[_,S]=d.useState(!0),[T,I]=d.useState(!1),[P,R]=d.useState(null),[K,H]=d.useState(!1),[$,Y]=d.useState("relevance"),[O,D]=d.useState(!1),[B,V]=d.useState(!1),F=Jp(),[Q,ie]=d.useState(!1),[W,ge]=d.useState(null),[te,ce]=d.useState("grid"),{banStatus:ve}=yc(),[Z,X]=d.useState(!1),ne=d.useMemo(()=>{let q=[...x];switch(i!=="all"&&i!=="All"&&(q=q.filter(pe=>pe.subcategory===i)),r&&(q=q.filter(pe=>pe.name.toLowerCase().includes(r.toLowerCase()))),$){case"price-asc":q.sort((pe,he)=>pe.price-he.price);break;case"price-desc":q.sort((pe,he)=>he.price-pe.price);break;case"rating":q.sort((pe,he)=>(he.rating||0)-(pe.rating||0));break}return q},[x,i,r,$]),xe=d.useMemo(()=>{const q=new Map;for(const pe of ne){const he=`${pe.name}-${pe.price}`;q.has(he)||q.set(he,pe)}return Array.from(q.values())},[ne]),Le=u.reduce((q,pe)=>q+pe.quantity,0),ee=u.reduce((q,pe)=>q+pe.price*pe.quantity,0),Pe=q=>{h(q)},qe=async()=>{S(!0);try{const q=await rd(Be.DAILY_ESSENTIAL);A(q)}catch(q){console.error("Error loading daily essential categories:",q),U.error("Failed to load categories")}finally{S(!1)}},Nt=async()=>{C(!0);try{const q=await gl(Be.DAILY_ESSENTIAL);N(q)}catch(q){console.error("Error loading daily essential products:",q),U.error("Failed to load products")}finally{C(!1)}};d.useEffect(()=>{qe(),Nt()},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(u))},[u]),d.useEffect(()=>{const q=Sd(Et,pe=>{R(pe),X(!!pe)});return()=>q()},[]),d.useEffect(()=>{var q;(q=F.state)!=null&&q.category&&k.some(he=>he.name===F.state.category||he.subcategory===F.state.category)&&a(F.state.category)},[(ze=F.state)==null?void 0:ze.category,k]),d.useEffect(()=>{console.log("Categories:",k)},[k]);const Xe=async q=>{const{address:pe,paymentMethod:he,tip:lt,finalTotal:oe,location:we}=q;if(ve.isBanned){U.error("Your account has been suspended. You cannot place orders."),H(!1);return}if(!P){U.error("Please log in to place an order.");return}if(!pe.phone||pe.phone.trim()===""){U.error("Please add a phone number to your address before placing the order.");return}let ke=null;if(we)ke={lat:we.lat,lng:we.lng},U.success("Using selected delivery location!");else{U.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const De=await new Promise((Pt,hn)=>{navigator.geolocation.getCurrentPosition(Pt,hn,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});ke={lat:De.coords.latitude,lng:De.coords.longitude},U.dismiss(),U.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(De){console.error("Error getting location:",De),U.dismiss(),De.code===1?U.error("Location access denied. Please enable location permissions for accurate tracking."):De.code===2?U.error("Location unavailable. Please check your GPS settings."):De.code===3?U.error("Location request timed out. Please try again."):U.error("Could not get your location. Using approximate location."),ke={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const wt=25,kt=Math.random()*10+5,St=Math.round(wt+kt),Rt=new Date(Date.now()+St*60*1e3),Mt={name:pe.name||P.displayName||"User",email:pe.email||P.email||"",phone:pe.phone},Bt={userId:P.uid,userInfo:Mt,items:u,totalPrice:oe,tip:lt,deliveryAddress:Object.fromEntries(Object.entries(pe).filter(([De,Pt])=>Pt!=null)),paymentMethod:he,status:"pending",createdAt:new Date,estimatedDeliveryTime:Rt,estimatedMinutes:St,userLocation:ke,selectedLocationAddress:(we==null?void 0:we.address)||null};try{await Hl(async()=>{const De=await Es(on(Fe,"orders"),Bt);await In(Ct(Fe,"orders",De.id),{orderId:De.id}),U.success("Order placed successfully!"),g(),H(!1),t(`/current-order/${De.id}`)})}catch(De){console.error("Error placing order:",De),De.code==="permission-denied"?U.error("Access denied. Please check your permissions."):De.code==="unavailable"?U.error("Firebase service is temporarily unavailable. Please try again later."):U.error("Failed to place order. Please check your connection and try again.")}},st=q=>{ge(q),ie(!1)};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-40 ${e?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Daily Essentials"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(z,{onClick:()=>D(!O),variant:"ghost",size:"icon",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(xi,{className:"w-5 h-5"})}),o.jsxs(z,{onClick:()=>w(!0),variant:"ghost",size:"icon",className:"relative",children:[o.jsx(Jn,{className:"w-5 h-5"}),Le>0&&o.jsx(Tt,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:Le})]})]})]})})}),O&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx($e,{placeholder:"Search for essentials...",value:r,onChange:q=>s(q.target.value),className:`w-full ${e?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-2 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsxs(z,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:[o.jsx(Rw,{className:"w-4 h-4 mr-2"})," Filter"]}),o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsx(z,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(si,{children:[o.jsx(ii,{children:"Sort Options"}),o.jsx(Er,{}),o.jsx(vt,{onClick:()=>Y("relevance"),children:"Relevance"}),o.jsx(vt,{onClick:()=>Y("price-asc"),children:"Price: Low to High"}),o.jsx(vt,{onClick:()=>Y("price-desc"),children:"Price: High to Low"}),o.jsx(vt,{onClick:()=>Y("rating"),children:"Rating"})]})]}),o.jsx(z,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Offers"})]})})}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"flex space-x-4 overflow-x-auto px-2 md:justify-center md:space-x-8 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:(()=>{const q=new Set;return k.filter(he=>{if(!he.name||he.name.trim()===""||he.name==="🥐"||he.name==="📦"||he.name.includes("http")||he.name.includes("unsplash"))return!1;const lt=he.subcategory||he.id||he.name;return q.has(lt)?!1:(q.add(lt),!0)}).map(he=>{let lt=null;if(he.image)lt=o.jsx("img",{src:he.image,alt:he.name,className:"w-full h-full object-cover"});else if(he.logo)lt=o.jsx("img",{src:he.logo,alt:he.name,className:"w-full h-full object-cover"});else if(he.icon&&typeof he.icon=="string"&&!he.icon.startsWith("http"))lt=o.jsx("span",{className:"text-4xl flex items-center justify-center w-full h-full",children:he.icon});else return null;return o.jsxs("button",{onClick:()=>a(he.subcategory),className:"flex flex-col items-center focus:outline-none",children:[o.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 rounded-full overflow-hidden border-4 transition-all duration-200 ${i===he.subcategory?"border-orange-500 shadow-lg":"border-transparent"}`,style:{boxShadow:i===he.subcategory?"0 0 0 4px rgba(255, 115, 0, 0.2)":void 0},children:lt}),o.jsx("span",{className:"mt-2 text-sm md:text-base font-medium text-center whitespace-nowrap",children:he.name})]},he.id||he.name)})})()})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:[o.jsx("div",{className:"block md:hidden space-y-4",children:xe.map(q=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:q.image,alt:q.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(vi,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ₹",q.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${e?"text-white":"text-gray-900"}`,children:q.name}),o.jsx(z,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Wl,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(Qr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[q.rating," (500+) • 20-25 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:q.description}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar • 2.2 km"}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:`font-bold text-lg mb-1 ${e?"text-orange-400":"text-orange-600"}`,children:["₹",q.price]}),o.jsx(z,{onClick:()=>Pe(q),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]})]},q.id))}),o.jsx("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:xe.map(q=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${e?"border border-gray-700":"border border-gray-200"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:q.image,alt:q.name,className:"w-full h-48 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(vi,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ₹",q.price]})]}),o.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h3",{className:`font-bold text-lg truncate ${e?"text-white":"text-gray-900"}`,children:q.name}),o.jsx(z,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Wl,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-1",children:[o.jsx(Qr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[q.rating," (500+) • 20-25 mins"]})]}),o.jsx("p",{className:`text-sm mb-1 truncate ${e?"text-gray-400":"text-gray-600"}`,children:q.description}),o.jsx("p",{className:`text-sm mb-2 truncate ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar • 2.2 km"}),o.jsxs("div",{className:`font-bold text-lg mb-2 ${e?"text-orange-400":"text-orange-600"}`,children:["₹",q.price]}),o.jsx(z,{onClick:()=>Pe(q),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]},q.id))})]}),o.jsx(qm,{cart:u,totalPrice:ee,onCheckout:()=>V(!0),onDelete:()=>{g(),U.success("Cart cleared!")},onViewMenu:()=>V(!0),isDarkMode:e,buttonLabel:"Checkout",className:"!bottom-0"}),o.jsx(Om,{open:T,onOpenChange:I,children:o.jsxs(Md,{className:`w-96 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(Dd,{children:o.jsx(Od,{className:e?"text-white":"text-gray-900",children:"Your Cart"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:u.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Jn,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:`text-lg font-medium ${e?"text-gray-300":"text-gray-600"}`,children:"Your cart is empty"}),o.jsx("p",{className:`text-sm ${e?"text-gray-500":"text-gray-400"}`,children:"Add some daily essentials to get started!"})]}):o.jsx("div",{className:"space-y-4",children:u.map(q=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${e?"bg-gray-700":"bg-gray-50"}`,children:[o.jsx("img",{src:q.image,alt:q.name,className:"w-16 h-16 object-cover rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:q.name}),o.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:["₹",q.price]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(z,{variant:"outline",size:"sm",onClick:()=>p(q.id,Math.max(0,q.quantity-1)),className:e?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(Cm,{className:"w-3 h-3"})}),o.jsx("span",{className:`w-8 text-center ${e?"text-white":"text-gray-900"}`,children:q.quantity}),o.jsx(z,{variant:"outline",size:"sm",onClick:()=>p(q.id,q.quantity+1),className:e?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(uc,{className:"w-3 h-3"})})]})]},q.id))})}),u.length>0&&o.jsxs("div",{className:`border-t ${e?"border-gray-700":"border-gray-200"} pt-4`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["₹",ee.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>{if(!P){U.error("You must be logged in to place an order.");return}H(!0)},children:"Proceed to Checkout"}),o.jsx(z,{variant:"outline",className:`w-full ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,onClick:g,children:"Clear Cart"})]})]})]})}),l&&o.jsx(Dm,{product:l,onClose:()=>c(null),onAddToCart:Pe}),K&&o.jsx(Bm,{isOpen:K,onClose:()=>H(!1),onPlaceOrder:Xe,totalPrice:ee,user:P}),o.jsx(ub,{isOpen:b,onClose:()=>w(!1),cart:u,onUpdateQuantity:p,onRemoveItem:m,onProceedToCheckout:()=>H(!0),isDarkMode:e}),o.jsx(gc,{isOpen:Q,onClose:()=>ie(!1),onLocationSelect:st})]})},nY=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState(""),[i,a]=d.useState("All"),[l,c]=d.useState(null),{cart:u,addToCart:h,updateCartQuantity:p,removeFromCart:m,clearCart:g,getTotalItems:v,getTotalPrice:y,isCartPopupOpen:b,setIsCartPopupOpen:w}=Vm(),{banStatus:x}=yc(),[N,k]=d.useState(!1),[A,L]=d.useState(!1),[C,_]=d.useState([]),[S,T]=d.useState([]),[I,P]=d.useState(!0),[R,K]=d.useState(!0),[H,$]=d.useState(!1),[Y,O]=d.useState(null),[D,B]=d.useState(!1),[V,F]=d.useState("relevance"),[Q,ie]=d.useState(!1),[W,ge]=d.useState(!1),[te,ce]=d.useState(null),[ve,Z]=d.useState("grid"),[X,ne]=d.useState("All"),xe=d.useMemo(()=>{let q=[...C];switch(i!=="all"&&i!=="All"&&(q=q.filter(pe=>pe.subcategory===i)),r&&(q=q.filter(pe=>pe.name.toLowerCase().includes(r.toLowerCase()))),V){case"price-asc":q.sort((pe,he)=>pe.price-he.price);break;case"price-desc":q.sort((pe,he)=>he.price-pe.price);break;case"rating":q.sort((pe,he)=>(he.rating||0)-(pe.rating||0));break}return q},[C,i,r,V]),Le=d.useMemo(()=>{const q=new Map;for(const pe of xe){const he=`${pe.name}-${pe.price}`;q.has(he)||q.set(he,pe)}return Array.from(q.values())},[xe]),ee=u.reduce((q,pe)=>q+pe.quantity,0),Pe=u.reduce((q,pe)=>q+pe.price*pe.quantity,0),qe=q=>{if(!N){L(!0);return}h(q)},Nt=async()=>{K(!0);try{const q=await rd(Be.DRINKS);T(q)}catch(q){console.error("Error loading drinks categories:",q),U.error("Failed to load categories")}finally{K(!1)}},Xe=async()=>{P(!0);try{const q=await gl(Be.DRINKS);_(q)}catch(q){console.error("Error loading drinks products:",q),U.error("Failed to load products")}finally{P(!1)}};d.useEffect(()=>{Nt(),Xe(),localStorage.getItem("pickngo-age-verified")?k(!0):L(!0);const pe=Sd(Et,he=>{O(he)});return()=>pe()},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(u))},[u]);const st=async q=>{const{address:pe,paymentMethod:he,tip:lt,finalTotal:oe,location:we}=q;if(x.isBanned){U.error("Your account has been suspended. You cannot place orders."),B(!1);return}if(!Y){U.error("Please log in to place an order.");return}if(!pe.phone||pe.phone.trim()===""){U.error("Please add a phone number to your address before placing the order.");return}let ke=null;if(we)ke={lat:we.lat,lng:we.lng},U.success("Using selected delivery location!");else{U.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const De=await new Promise((Pt,hn)=>{navigator.geolocation.getCurrentPosition(Pt,hn,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});ke={lat:De.coords.latitude,lng:De.coords.longitude},U.dismiss(),U.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(De){console.error("Error getting location:",De),U.dismiss(),De.code===1?U.error("Location access denied. Please enable location permissions for accurate tracking."):De.code===2?U.error("Location unavailable. Please check your GPS settings."):De.code===3?U.error("Location request timed out. Please try again."):U.error("Could not get your location. Using approximate location."),ke={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const wt=25,kt=Math.random()*10+5,St=Math.round(wt+kt),Rt=new Date(Date.now()+St*60*1e3),Mt={name:pe.name||Y.displayName||"User",email:pe.email||Y.email||"",phone:pe.phone},Bt={userId:Y.uid,userInfo:Mt,items:u,totalPrice:oe,tip:lt,deliveryAddress:Object.fromEntries(Object.entries(pe).filter(([De,Pt])=>Pt!=null)),paymentMethod:he,status:"pending",createdAt:new Date,estimatedDeliveryTime:Rt,estimatedMinutes:St,userLocation:ke,selectedLocationAddress:(we==null?void 0:we.address)||null};try{await Hl(async()=>{const De=await Es(on(Fe,"orders"),Bt);await In(Ct(Fe,"orders",De.id),{orderId:De.id}),U.success("Order placed successfully!"),g(),B(!1),t(`/current-order/${De.id}`)})}catch(De){console.error("Error placing order:",De),De.code==="permission-denied"?U.error("Access denied. Please check your permissions."):De.code==="unavailable"?U.error("Firebase service is temporarily unavailable. Please try again later."):U.error("Failed to place order. Please check your connection and try again.")}};d.useEffect(()=>{console.log("Categories:",S)},[S]);const ze=q=>{ce(q),ge(!1)};return X==="All"||C.filter(q=>q.subcategory===X),o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-40 ${e?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Drinks"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(z,{onClick:()=>ie(!Q),variant:"ghost",size:"icon",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(xi,{className:"w-5 h-5"})}),o.jsxs(z,{onClick:()=>w(!0),variant:"ghost",size:"icon",className:"relative",children:[o.jsx(Jn,{className:"w-5 h-5"}),ee>0&&o.jsx(Tt,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:ee})]})]})]})})}),Q&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx($e,{placeholder:"Search for drinks...",value:r,onChange:q=>s(q.target.value),className:`w-full ${e?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-2 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsxs(z,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:[o.jsx(Rw,{className:"w-4 h-4 mr-2"})," Filter"]}),o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsx(z,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(si,{children:[o.jsx(ii,{children:"Sort Options"}),o.jsx(Er,{}),o.jsx(vt,{onClick:()=>F("relevance"),children:"Relevance"}),o.jsx(vt,{onClick:()=>F("price-asc"),children:"Price: Low to High"}),o.jsx(vt,{onClick:()=>F("price-desc"),children:"Price: High to Low"}),o.jsx(vt,{onClick:()=>F("rating"),children:"Rating"})]})]}),o.jsx(z,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Offers"})]})})}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"flex space-x-4 overflow-x-auto px-2 md:justify-center md:space-x-8 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:(()=>{const q=new Set;return S.filter(he=>{if(!he.name||he.name.trim()===""||he.name==="🥐"||he.name==="📦"||he.name.includes("http")||he.name.includes("unsplash"))return!1;const lt=he.subcategory||he.id||he.name;return q.has(lt)?!1:(q.add(lt),!0)}).map(he=>{let lt=null;if(he.image)lt=o.jsx("img",{src:he.image,alt:he.name,className:"w-full h-full object-cover"});else if(he.logo)lt=o.jsx("img",{src:he.logo,alt:he.name,className:"w-full h-full object-cover"});else if(he.icon&&typeof he.icon=="string"&&!he.icon.startsWith("http"))lt=o.jsx("span",{className:"text-4xl flex items-center justify-center w-full h-full",children:he.icon});else return null;return o.jsxs("button",{onClick:()=>a(he.subcategory),className:"flex flex-col items-center focus:outline-none",children:[o.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 rounded-full overflow-hidden border-4 transition-all duration-200 ${i===he.subcategory?"border-orange-500 shadow-lg":"border-transparent"}`,style:{boxShadow:i===he.subcategory?"0 0 0 4px rgba(255, 115, 0, 0.2)":void 0},children:lt}),o.jsx("span",{className:"mt-2 text-sm md:text-base font-medium text-center whitespace-nowrap",children:he.name})]},he.id||he.name)})})()})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:[o.jsx("div",{className:"block md:hidden space-y-4",children:Le.map(q=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:q.image,alt:q.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(vi,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ₹",q.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${e?"text-white":"text-gray-900"}`,children:q.name}),o.jsx(z,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Wl,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(Qr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[q.rating," (500+) • 20-25 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:q.description}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar • 2.2 km"}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:`font-bold text-lg mb-1 ${e?"text-orange-400":"text-orange-600"}`,children:["₹",q.price]}),o.jsx(z,{onClick:()=>qe(q),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]})]},q.id))}),o.jsx("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Le.map(q=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${e?"border border-gray-700":"border border-gray-200"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:q.image,alt:q.name,className:"w-full h-48 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(vi,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ₹",q.price]})]}),o.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h3",{className:`font-bold text-lg truncate ${e?"text-white":"text-gray-900"}`,children:q.name}),o.jsx(z,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Wl,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-1",children:[o.jsx(Qr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[q.rating," (500+) • 20-25 mins"]})]}),o.jsx("p",{className:`text-sm mb-1 truncate ${e?"text-gray-400":"text-gray-600"}`,children:q.description}),o.jsx("p",{className:`text-sm mb-2 truncate ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar • 2.2 km"}),o.jsxs("div",{className:`font-bold text-lg mb-2 ${e?"text-orange-400":"text-orange-600"}`,children:["₹",q.price]}),o.jsx(z,{onClick:()=>qe(q),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]},q.id))})]}),o.jsx(qm,{cart:u,totalPrice:Pe,onCheckout:()=>$(!0),onDelete:()=>{g(),U.success("Cart cleared!")},onViewMenu:()=>$(!0),isDarkMode:e,buttonLabel:"Checkout",className:"!bottom-0"}),o.jsx(Om,{open:H,onOpenChange:$,children:o.jsxs(Md,{className:`w-96 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(Dd,{children:o.jsx(Od,{className:e?"text-white":"text-gray-900",children:"Your Cart"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:u.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Jn,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:`text-lg font-medium ${e?"text-gray-300":"text-gray-600"}`,children:"Your cart is empty"}),o.jsx("p",{className:`text-sm ${e?"text-gray-500":"text-gray-400"}`,children:"Add some drinks to get started!"})]}):o.jsx("div",{className:"space-y-4",children:u.map(q=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${e?"bg-gray-700":"bg-gray-50"}`,children:[o.jsx("img",{src:q.image,alt:q.name,className:"w-16 h-16 object-cover rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:q.name}),o.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:["₹",q.price]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(z,{variant:"outline",size:"sm",onClick:()=>p(q.id,Math.max(0,q.quantity-1)),className:e?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(Cm,{className:"w-3 h-3"})}),o.jsx("span",{className:`w-8 text-center ${e?"text-white":"text-gray-900"}`,children:q.quantity}),o.jsx(z,{variant:"outline",size:"sm",onClick:()=>p(q.id,q.quantity+1),className:e?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(uc,{className:"w-3 h-3"})})]})]},q.id))})}),u.length>0&&o.jsxs("div",{className:`border-t ${e?"border-gray-700":"border-gray-200"} pt-4`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["₹",Pe.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>{if(!Y){U.error("You must be logged in to place an order.");return}B(!0)},children:"Proceed to Checkout"}),o.jsx(z,{variant:"outline",className:`w-full ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,onClick:g,children:"Clear Cart"})]})]})]})}),l&&o.jsx(Dm,{product:l,onClose:()=>c(null),onAddToCart:h}),D&&o.jsx(Bm,{isOpen:D,onClose:()=>B(!1),onPlaceOrder:st,totalPrice:Pe,user:Y}),o.jsx(ub,{isOpen:b,onClose:()=>w(!1),cart:u,onUpdateQuantity:p,onRemoveItem:m,onProceedToCheckout:()=>B(!0),isDarkMode:e}),o.jsx(FA,{isOpen:A,onClose:()=>L(!1),onVerified:()=>{k(!0),L(!1),localStorage.setItem("pickngo-age-verified","true")}}),o.jsx(gc,{isOpen:W,onClose:()=>ge(!1),onLocationSelect:ze})]})},rY=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState(null),[i,a]=d.useState(!1),[l,c]=d.useState(!1),[u,h]=d.useState({displayName:"",email:"",phone:"",address:"",city:"",state:"",pincode:""});d.useEffect(()=>{const g=Et.onAuthStateChanged(async v=>{if(v){s(v);try{const y=await ya(Ct(Fe,"users",v.uid));if(y.exists()){const b=y.data();h({displayName:b.displayName||v.displayName||"",email:v.email||"",phone:b.phone||v.phoneNumber||"",address:b.address||"",city:b.city||"",state:b.state||"",pincode:b.pincode||""})}else h({displayName:v.displayName||"",email:v.email||"",phone:v.phoneNumber||"",address:"",city:"",state:"",pincode:""})}catch(y){console.error("Error fetching user data:",y),U.error("Failed to load profile data")}}else t("/")});return()=>g()},[t]);const p=async()=>{if(r){c(!0);try{await M2(r,{displayName:u.displayName});const g=Ct(Fe,"users",r.uid);await IP(g,{displayName:u.displayName,email:u.email,phone:u.phone,address:u.address,city:u.city,state:u.state,pincode:u.pincode,updatedAt:new Date},{merge:!0}),U.success("Profile updated successfully!"),a(!1)}catch(g){console.error("Error updating profile:",g),U.error("Failed to update profile")}finally{c(!1)}}},m=()=>{h({displayName:(r==null?void 0:r.displayName)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phoneNumber)||"",address:"",city:"",state:"",pincode:""}),a(!1)};return r?o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Profile"})]}),i?o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(z,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-orange-500",onClick:m,disabled:l,children:[o.jsx(hc,{className:"w-4 h-4 mr-1"}),"Cancel"]}),o.jsxs(z,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:p,disabled:l,children:[o.jsx(fH,{className:"w-4 h-4 mr-1"}),l?"Saving...":"Save"]})]}):o.jsx("div",{className:"flex space-x-2",children:o.jsxs(z,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-orange-500",onClick:()=>a(!0),children:[o.jsx(Mw,{className:"w-4 h-4 mr-1"}),"Edit"]})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx(Ie,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:o.jsx(Te,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center",children:o.jsx($i,{className:"w-10 h-10 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:u.displayName||"User"}),o.jsx("p",{className:"text-gray-600",children:u.email}),i&&o.jsxs(z,{variant:"ghost",size:"sm",className:"mt-2 text-orange-500 hover:text-orange-600",children:[o.jsx(OP,{className:"w-4 h-4 mr-1"}),"Change Photo"]})]})]})})}),o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsx(xt,{className:"text-gray-800",children:"Personal Information"})}),o.jsxs(Te,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"displayName",className:"text-gray-700",children:"Full Name"}),o.jsx($e,{id:"displayName",value:u.displayName,onChange:g=>h({...u,displayName:g.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"email",className:"text-gray-700",children:"Email"}),o.jsx($e,{id:"email",value:u.email,disabled:!0,className:"mt-1 bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsx($e,{id:"phone",value:u.phone,onChange:g=>h({...u,phone:g.target.value}),disabled:!i,className:"mt-1"})]})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"address",className:"text-gray-700",children:"Address"}),o.jsx($e,{id:"address",value:u.address,onChange:g=>h({...u,address:g.target.value}),disabled:!i,className:"mt-1",placeholder:"Street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"city",className:"text-gray-700",children:"City"}),o.jsx($e,{id:"city",value:u.city,onChange:g=>h({...u,city:g.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"state",className:"text-gray-700",children:"State"}),o.jsx($e,{id:"state",value:u.state,onChange:g=>h({...u,state:g.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"pincode",className:"text-gray-700",children:"Pincode"}),o.jsx($e,{id:"pincode",value:u.pincode,onChange:g=>h({...u,pincode:g.target.value}),disabled:!i,className:"mt-1"})]})]})]})]})]})]}):o.jsx("div",{children:"Loading..."})},sY=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState(null),[i,a]=d.useState([]),[l,c]=d.useState(!0),[u,h]=d.useState(kC());d.useEffect(()=>{const y=Et.onAuthStateChanged(async w=>{w?(s(w),await p(w.uid)):t("/")}),b=()=>{const w=kC();h(w),w&&r&&p(r.uid)};return window.addEventListener("online",b),window.addEventListener("offline",b),()=>{y(),window.removeEventListener("online",b),window.removeEventListener("offline",b)}},[t,r]);const p=async y=>{c(!0);try{if(!u){U.error("You are offline. Please check your internet connection."),c(!1);return}await Hl(async()=>{const b=on(Fe,"orders"),w=Vr(b,ps("userId","==",y)),x=await nr(w),N=[];x.forEach(k=>{N.push({id:k.id,...k.data()})}),N.sort((k,A)=>{var _,S;const L=(_=k.createdAt)!=null&&_.toDate?k.createdAt.toDate():0;return((S=A.createdAt)!=null&&S.toDate?A.createdAt.toDate():0)-L}),a(N)})}catch(b){console.error("Error loading orders:",b),b.code==="permission-denied"?U.error("Access denied. Please check your permissions."):b.code==="unavailable"?U.error("Firebase service is temporarily unavailable. Please try again later."):U.error("Failed to load orders. Please check your connection and try again.")}finally{c(!1)}},m=async()=>{if(r)try{if(!u){U.error("You are offline. Please check your internet connection.");return}await Hl(async()=>{const y={userId:r.uid,date:new Date().toISOString().split("T")[0],status:"delivered",total:450,items:[{name:"Domino's Pizza",quantity:1,price:250},{name:"Coca Cola",quantity:2,price:100}],deliveryAddress:"White Building, Midnapore, West Bengal",deliveryTime:"20-25 mins",createdAt:UB()};await Es(on(Fe,"orders"),y),U.success("Sample order created!"),await p(r.uid)})}catch(y){console.error("Error creating sample order:",y),y.code==="permission-denied"?U.error("Access denied. Please check your permissions."):y.code==="unavailable"?U.error("Firebase service is temporarily unavailable. Please try again later."):U.error("Failed to create sample order. Please check your connection and try again.")}},g=y=>{switch(y){case"delivered":return"bg-green-500";case"cancelled":return"bg-red-500";case"processing":return"bg-yellow-500";default:return"bg-gray-500"}},v=y=>{switch(y){case"delivered":return o.jsx(Jc,{className:"w-4 h-4"});case"cancelled":return o.jsx(nH,{className:"w-4 h-4"});case"processing":return o.jsx(ka,{className:"w-4 h-4"});default:return o.jsx(Ps,{className:"w-4 h-4"})}};return r?o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Past Orders"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[u?o.jsx(_H,{className:"w-4 h-4 text-orange-500"}):o.jsx(CH,{className:"w-4 h-4 text-red-500"}),o.jsx("span",{className:`text-xs ${u?"text-orange-500":"text-red-500"}`,children:u?"Online":"Offline"})]}),i.length===0&&o.jsx(z,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:m,children:"Create Sample Order"})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:l?o.jsx(Ie,{className:"bg-white border border-gray-200",children:o.jsxs(Te,{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):i.length===0?o.jsx(Ie,{className:"bg-white border border-gray-200",children:o.jsxs(Te,{className:"p-8 text-center",children:[o.jsx(Ps,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800",children:"No Orders Yet"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Start shopping to see your order history here"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{onClick:()=>t("/"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:"Start Shopping"}),o.jsx(z,{variant:"outline",onClick:m,className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Create Sample Order"})]})]})}):o.jsxs("div",{className:"space-y-4",children:[i.filter(y=>y.status!=="delivered"&&y.status!=="cancelled").length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 text-orange-500 flex items-center",children:[o.jsx(ls,{className:"w-5 h-5 mr-2"}),"Current Orders"]}),o.jsx("div",{className:"space-y-4",children:i.filter(y=>y.status!=="delivered"&&y.status!=="cancelled").map(y=>{var b,w;return o.jsxs(Ie,{className:"bg-white border border-orange-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(xt,{className:"text-gray-800",children:["Order #",y.id.slice(-6)]}),o.jsx("p",{className:"text-gray-600 text-sm",children:(b=y.createdAt)!=null&&b.toDate?y.createdAt.toDate().toLocaleDateString():y.date})]}),o.jsx(Tt,{className:"bg-orange-500 text-white",children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ls,{className:"w-4 h-4"}),o.jsx("span",{className:"capitalize",children:y.status})]})})]})}),o.jsxs(Te,{children:[o.jsx("div",{className:"space-y-2",children:y.items.map((x,N)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(Ps,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:x.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",x.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["₹",x.price]})]},N))}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg mt-3",children:[o.jsx(sn,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:typeof y.deliveryAddress=="string"?y.deliveryAddress:(w=y.deliveryAddress)!=null&&w.address?`${y.deliveryAddress.address}, ${y.deliveryAddress.city}, ${y.deliveryAddress.state} - ${y.deliveryAddress.pincode}`:"Address not available"})]}),o.jsxs("div",{className:"space-y-3 p-3 bg-orange-50 rounded-lg mt-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ls,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Delivery Time: ",y.deliveryTime||"20-25 mins"]})]}),y.paymentMethod&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 text-orange-500",children:"💳"}),o.jsxs("span",{className:"text-sm text-gray-600 capitalize",children:["Payment: ",y.paymentMethod==="cod"?"Cash on Delivery":y.paymentMethod.toUpperCase()]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-orange-200",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["₹",y.totalPrice||y.total||0]})]})]}),o.jsxs("div",{className:"flex space-x-2 mt-4",children:[o.jsxs(z,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>t(`/current-order/${y.id}`),children:[o.jsx(ls,{className:"w-4 h-4 mr-2"}),"Track Order"]}),o.jsxs(z,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Call Support"]})]})]})]},`current-${y.id}`)})})]}),i.filter(y=>y.status==="delivered"||y.status==="cancelled").length>0&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:[o.jsx(Ps,{className:"w-5 h-5 mr-2"}),"Past Orders"]}),o.jsx("div",{className:"space-y-4",children:i.filter(y=>y.status==="delivered"||y.status==="cancelled").map(y=>{var b,w;return o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(xt,{className:"text-gray-800",children:["Order #",y.id.slice(-6)]}),o.jsx("p",{className:"text-gray-600 text-sm",children:(b=y.createdAt)!=null&&b.toDate?y.createdAt.toDate().toLocaleDateString():y.date})]}),o.jsx(Tt,{className:`${g(y.status)} text-white`,children:o.jsxs("div",{className:"flex items-center space-x-1",children:[v(y.status),o.jsx("span",{className:"capitalize",children:y.status})]})})]})}),o.jsxs(Te,{children:[o.jsx("div",{className:"space-y-2",children:y.items.map((x,N)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(Ps,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:x.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",x.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["₹",x.price]})]},N))}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg mt-3",children:[o.jsx(sn,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:typeof y.deliveryAddress=="string"?y.deliveryAddress:(w=y.deliveryAddress)!=null&&w.address?`${y.deliveryAddress.address}, ${y.deliveryAddress.city}, ${y.deliveryAddress.state} - ${y.deliveryAddress.pincode}`:"Address not available"})]}),o.jsxs("div",{className:"space-y-3 p-3 bg-orange-50 rounded-lg mt-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ls,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Delivery Time: ",y.deliveryTime||"20-25 mins"]})]}),y.paymentMethod&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 text-orange-500",children:"💳"}),o.jsxs("span",{className:"text-sm text-gray-600 capitalize",children:["Payment: ",y.paymentMethod==="cod"?"Cash on Delivery":y.paymentMethod.toUpperCase()]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),o.jsxs("span",{className:"text-gray-800",children:["₹",y.totalPrice||y.total||0]})]}),y.tip&&y.tip>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Tip:"}),o.jsxs("span",{className:"text-gray-800",children:["₹",y.tip]})]}),y.totalPrice&&y.totalPrice>299?o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee:"}),o.jsx("span",{className:"text-orange-500",children:"FREE"})]}):y.totalPrice&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee:"}),o.jsx("span",{className:"text-gray-800",children:"₹29"})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-orange-200",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["₹",y.totalPrice||y.total||0]})]})]})]}),o.jsxs("div",{className:"flex space-x-2 mt-4",children:[y.status!=="delivered"&&y.status!=="cancelled"&&o.jsxs(z,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>t(`/current-order/${y.id}`),children:[o.jsx(ls,{className:"w-4 h-4 mr-2"}),"Track Order"]}),o.jsxs(z,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Rate Order"]}),o.jsxs(z,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Reorder"]})]})]})]},y.id)})})]})]})})]}):o.jsx("div",{children:"Loading..."})};var db="Progress",hb=100,[iY,qZ]=ir(db),[oY,aY]=iY(db),bL=d.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=lY,...a}=t;(s||s===0)&&!pS(s)&&console.error(cY(`${s}`,"Progress"));const l=pS(s)?s:hb;r!==null&&!mS(r,l)&&console.error(uY(`${r}`,"Progress"));const c=mS(r,l)?r:null,u=Ep(c)?i(c,l):void 0;return o.jsx(oY,{scope:n,value:c,max:l,children:o.jsx(Ve.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ep(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":CL(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});bL.displayName=db;var EL="ProgressIndicator",NL=d.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=aY(EL,n);return o.jsx(Ve.div,{"data-state":CL(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});NL.displayName=EL;function lY(t,e){return`${Math.round(t/e*100)}%`}function CL(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ep(t){return typeof t=="number"}function pS(t){return Ep(t)&&!isNaN(t)&&t>0}function mS(t,e){return Ep(t)&&!isNaN(t)&&t<=e&&t>=0}function cY(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hb}\`.`}function uY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _L=bL,dY=NL;const SL=d.forwardRef(({className:t,value:e,...n},r)=>o.jsx(_L,{ref:r,className:Me("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(dY,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));SL.displayName=_L.displayName;const hY=()=>{var Y;const t=Ln(),{orderId:e}=WV(),{isDarkMode:n,toggleDarkMode:r}=Yt(),[s,i]=d.useState(null),[a,l]=d.useState(null),[c,u]=d.useState(!0),[h,p]=d.useState(1),[m,g]=d.useState({minutes:0,seconds:0}),[v,y]=d.useState(0),b="AIzaSyC0aUsBjWppu-5sSvme3Zz66Ts9aFKOYRs",w={width:"100%",height:"300px"},x={lat:22.5726,lng:88.3639},{isLoaded:N}=HR({googleMapsApiKey:b,libraries:["places"]}),k={dominos:{lat:22.5726,lng:88.3639,name:"Domino's Pizza",address:"Park Street, Kolkata",icon:"🍕"},spice_n_ice:{lat:22.5726+.005,lng:88.3639+.005,name:"Spice N Ice",address:"Esplanade, Kolkata",icon:"🍽️"},china_nation:{lat:22.5726-.003,lng:88.3639-.003,name:"China Nation",address:"Chowringhee, Kolkata",icon:"🥢"},default:{lat:22.5726,lng:88.3639,name:"Restaurant",address:"Kolkata",icon:"🏪"}};d.useEffect(()=>{const O=Et.onAuthStateChanged(async D=>{D?(i(D),e&&await A(e)):t("/")});return()=>O()},[t,e]);const A=async O=>{u(!0);try{const D=Ct(Fe,"orders",O);return TP(D,V=>{if(V.exists()){const F={id:V.id,...V.data()};l(F),F.status&&P(F.status),setTimeout(async()=>{await L(F)},100)}else U.error("Order not found"),t("/past-orders");u(!1)})}catch(D){console.error("Error loading order:",D),U.error("Failed to load order"),u(!1)}},L=async O=>{if(!N)return;const D=T(O),B=O.userLocation||{lat:22.5726,lng:88.3639},[V,F]=await Promise.all([I(D.lat,D.lng),I(B.lat,B.lng)]);D.address=V,(D.lat+B.lat)/2,(D.lng+B.lng)/2;const Q=C(D.lat,D.lng,B.lat,B.lng);y(Q)},C=(O,D,B,V)=>{const Q=(B-O)*Math.PI/180,ie=(V-D)*Math.PI/180,W=Math.sin(Q/2)*Math.sin(Q/2)+Math.cos(O*Math.PI/180)*Math.cos(B*Math.PI/180)*Math.sin(ie/2)*Math.sin(ie/2);return 6371*(2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W)))};d.useEffect(()=>{if(!(a!=null&&a.estimatedDeliveryTime))return;const O=setInterval(()=>{const D=new Date().getTime(),V=(a.estimatedDeliveryTime.toDate?a.estimatedDeliveryTime.toDate().getTime():new Date(a.estimatedDeliveryTime).getTime())-D;if(V>0){const F=Math.floor(V/6e4),Q=Math.floor(V%(1e3*60)/1e3);g({minutes:F,seconds:Q})}else g({minutes:0,seconds:0}),a.status!=="delivered"&&_("delivered")},1e3);return()=>clearInterval(O)},[a]);const _=async O=>{if(e)try{const D=Ct(Fe,"orders",e);await In(D,{status:O})}catch(D){console.error("Error updating order status:",D)}},S=O=>{if(!O||O.length===0)return"default";const D=O[0].name.toLowerCase();return D.includes("domino")||D.includes("pizza")?"dominos":D.includes("spice")||D.includes("ice")?"spice_n_ice":D.includes("china")||D.includes("nation")?"china_nation":"default"},T=O=>{if(!O||!O.items)return k.default;const D=O.userLocation||{lat:22.5726,lng:88.3639},B=S(O.items),V={dominos:{name:"Domino's Pizza",address:"Nearby Location",icon:"🍕",offset:{lat:.002,lng:.003}},spice_n_ice:{name:"Spice N Ice",address:"Local Restaurant",icon:"🍽️",offset:{lat:-.001,lng:.002}},china_nation:{name:"China Nation",address:"Chinese Restaurant",icon:"🥢",offset:{lat:.003,lng:-.001}},default:{name:"Local Restaurant",address:"Nearby Location",icon:"🏪",offset:{lat:.001,lng:.001}}},F=V[B]||V.default;return{lat:D.lat+F.offset.lat,lng:D.lng+F.offset.lng,name:F.name,address:F.address,icon:F.icon}},I=async(O,D)=>{try{const V=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${O}&lon=${D}&zoom=18&addressdetails=1`)).json();if(V&&V.display_name){const F=V.display_name.split(", "),Q=F[0]||"Nearby Location",ie=F[F.length-3]||"Your Area";return`${Q}, ${ie}`}}catch(B){console.error("Error getting address:",B)}return"Nearby Location"},P=O=>{switch(O){case"pending":p(1);break;case"confirmed":p(2);break;case"preparing":p(3);break;case"out_for_delivery":p(4);break;case"delivered":p(5);break;default:p(1)}},R=O=>{const D=[{title:"Order Placed",description:"Your order has been received",icon:"📋",color:"text-blue-400"},{title:"Order Confirmed",description:"Restaurant has confirmed your order",icon:"✅",color:"text-green-400"},{title:"Preparing",description:"Your food is being prepared",icon:"👨‍🍳",color:"text-yellow-400"},{title:"Out for Delivery",description:"Your order is on the way",icon:"🚚",color:"text-pickngo-orange-400"},{title:"Delivered",description:"Enjoy your meal!",icon:"🎉",color:"text-green-500"}];return D[O-1]||D[0]},K=()=>{var O;return a?typeof a.deliveryAddress=="string"?a.deliveryAddress:(O=a.deliveryAddress)!=null&&O.address?`${a.deliveryAddress.address}, ${a.deliveryAddress.city}, ${a.deliveryAddress.state} - ${a.deliveryAddress.pincode}`:"Address not available":""};if(d.useEffect(()=>()=>{},[]),!s)return o.jsx("div",{children:"Loading..."});if(c)return o.jsx("div",{className:"min-h-screen bg-white text-gray-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{children:"Loading order details..."})]})});if(!a)return o.jsx("div",{className:"min-h-screen bg-white text-gray-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{children:"Order not found"}),o.jsx(z,{onClick:()=>t("/past-orders"),className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white",children:"Go to Past Orders"})]})});const H=T(a),$=R(h);return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/past-orders"),children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-gray-800 font-bold text-lg",children:["Order #",a.id.slice(-6)]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(yH,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-orange-500 font-semibold",children:[m.minutes,"m ",m.seconds,"s left"]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs(Tt,{className:"bg-orange-500 text-white",children:[o.jsx(ka,{className:"w-4 h-4 mr-1"}),v.toFixed(1)," km away"]})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-4",children:[o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(ut,{children:o.jsxs(xt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(sn,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Live Tracking"})]})}),o.jsxs(Te,{children:[N&&a&&o.jsxs(FR,{mapContainerStyle:w,center:a.userLocation||x,zoom:14,options:{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1},children:[o.jsx(fp,{position:k[S(a.items||[])]||k.default,label:"R"}),a.userLocation&&o.jsx(fp,{position:a.userLocation,label:"U"}),a.userLocation&&o.jsx(YR,{path:[k[S(a.items||[])]||k.default,a.userLocation],options:{strokeColor:"#3b82f6",strokeWeight:4,strokeOpacity:.7}})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Distance"}),o.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[v.toFixed(1)," km"]})]}),o.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Est. Time"}),o.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[m.minutes,"m ",m.seconds,"s"]})]})]})]})]}),o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsxs(ut,{children:[o.jsxs(xt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:$.icon}),o.jsx("span",{className:"text-orange-500",children:$.title})]}),o.jsx("p",{className:"text-gray-600",children:$.description})]}),o.jsx(Te,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Progress"}),o.jsxs("span",{className:"text-gray-800",children:[Math.round(h/5*100),"%"]})]}),o.jsx(SL,{value:h/5*100,className:"h-2"})]}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(O=>o.jsxs("div",{className:`flex flex-col items-center p-2 rounded-lg transition-all duration-300 ${O<=h?"bg-orange-100 scale-105":"bg-gray-100"}`,children:[o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs transition-all duration-300 ${O<=h?"bg-orange-500 shadow-lg text-white":"bg-gray-300 text-gray-600"}`,children:O<h?"✓":O}),o.jsx("span",{className:"text-xs mt-1 text-center text-gray-600",children:R(O).title.split(" ")[0]})]},O))})]})})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs(xt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:H.icon}),o.jsx("span",{children:"Restaurant"})]})}),o.jsxs(Te,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:H.name}),o.jsx("p",{className:"text-gray-600",children:H.address})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(z,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Call Restaurant"]}),o.jsxs(z,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Qv,{className:"w-4 h-4 mr-2"}),"Directions"]})]})]})]}),o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs(xt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(ls,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Delivery Address"})]})}),o.jsxs(Te,{className:"space-y-4",children:[o.jsx("div",{children:o.jsx("p",{className:"text-gray-600",children:K()})}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(z,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Call Delivery"]}),o.jsxs(z,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Qv,{className:"w-4 h-4 mr-2"}),"Track Order"]})]})]})]})]}),o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(ut,{children:o.jsx(xt,{className:"text-gray-800",children:"Order Items"})}),o.jsxs(Te,{children:[o.jsx("div",{className:"space-y-3",children:(Y=a.items)==null?void 0:Y.map((O,D)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-orange-600 text-sm",children:"🍽️"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:O.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",O.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["₹",O.price]})]},D))}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["₹",a.totalPrice||a.total||0]})]})})]})]}),o.jsxs("div",{className:"flex space-x-3 mb-6",children:[o.jsx(z,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>t("/past-orders"),children:"View All Orders"}),o.jsx(z,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>t("/"),children:"Order Again"})]})]})]})};var Gm="Switch",[fY,GZ]=ir(Gm),[pY,mY]=fY(Gm),jL=d.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:h,...p}=t,[m,g]=d.useState(null),v=at(e,N=>g(N)),y=d.useRef(!1),b=m?h||!!m.closest("form"):!0,[w,x]=xs({prop:s,defaultProp:i??!1,onChange:u,caller:Gm});return o.jsxs(pY,{scope:n,checked:w,disabled:l,children:[o.jsx(Ve.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":PL(w),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:v,onClick:be(t.onClick,N=>{x(k=>!k),b&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})}),b&&o.jsx(TL,{control:m,bubbles:!y.current,name:r,value:c,checked:w,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});jL.displayName=Gm;var kL="SwitchThumb",IL=d.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=mY(kL,n);return o.jsx(Ve.span,{"data-state":PL(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});IL.displayName=kL;var gY="SwitchBubbleInput",TL=d.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=d.useRef(null),l=at(a,i),c=rb(n),u=xx(e);return d.useEffect(()=>{const h=a.current;if(!h)return;const p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&g){const v=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(v)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});TL.displayName=gY;function PL(t){return t?"checked":"unchecked"}var AL=jL,yY=IL;const nu=d.forwardRef(({className:t,...e},n)=>o.jsx(AL,{className:Me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(yY,{className:Me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));nu.displayName=AL.displayName;function gS(t,[e,n]){return Math.min(n,Math.max(e,t))}var vY=[" ","Enter","ArrowUp","ArrowDown"],xY=[" ","Enter"],wa="Select",[Km,Qm,wY]=Sm(wa),[vc,KZ]=ir(wa,[wY,Zl]),Ym=Zl(),[bY,To]=vc(wa),[EY,NY]=vc(wa),RL=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:p,disabled:m,required:g,form:v}=t,y=Ym(e),[b,w]=d.useState(null),[x,N]=d.useState(null),[k,A]=d.useState(!1),L=fc(u),[C,_]=xs({prop:r,defaultProp:s??!1,onChange:i,caller:wa}),[S,T]=xs({prop:a,defaultProp:l,onChange:c,caller:wa}),I=d.useRef(null),P=b?v||!!b.closest("form"):!0,[R,K]=d.useState(new Set),H=Array.from(R).map($=>$.props.value).join(";");return o.jsx(hI,{...y,children:o.jsxs(bY,{required:g,scope:e,trigger:b,onTriggerChange:w,valueNode:x,onValueNodeChange:N,valueNodeHasChildren:k,onValueNodeHasChildrenChange:A,contentId:Br(),value:S,onValueChange:T,open:C,onOpenChange:_,dir:L,triggerPointerDownPosRef:I,disabled:m,children:[o.jsx(Km.Provider,{scope:e,children:o.jsx(EY,{scope:t.__scopeSelect,onNativeOptionAdd:d.useCallback($=>{K(Y=>new Set(Y).add($))},[]),onNativeOptionRemove:d.useCallback($=>{K(Y=>{const O=new Set(Y);return O.delete($),O})},[]),children:n})}),P?o.jsxs(rM,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:p,value:S,onChange:$=>T($.target.value),disabled:m,form:v,children:[S===void 0?o.jsx("option",{value:""}):null,Array.from(R)]},H):null]})})};RL.displayName=wa;var LL="SelectTrigger",ML=d.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Ym(n),a=To(LL,n),l=a.disabled||r,c=at(e,a.onTriggerChange),u=Qm(n),h=d.useRef("touch"),[p,m,g]=iM(y=>{const b=u().filter(N=>!N.disabled),w=b.find(N=>N.value===a.value),x=oM(b,y,w);x!==void 0&&a.onValueChange(x.value)}),v=y=>{l||(a.onOpenChange(!0),g()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return o.jsx(Ex,{asChild:!0,...i,children:o.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":sM(a.value)?"":void 0,...s,ref:c,onClick:be(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&v(y)}),onPointerDown:be(s.onPointerDown,y=>{h.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:be(s.onKeyDown,y=>{const b=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(b&&y.key===" ")&&vY.includes(y.key)&&(v(),y.preventDefault())})})})});ML.displayName=LL;var DL="SelectValue",OL=d.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=To(DL,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,p=at(e,c.onValueNodeChange);return Pn(()=>{u(h)},[u,h]),o.jsx(Ve.span,{...l,ref:p,style:{pointerEvents:"none"},children:sM(c.value)?o.jsx(o.Fragment,{children:a}):i})});OL.displayName=DL;var CY="SelectIcon",VL=d.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Ve.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});VL.displayName=CY;var _Y="SelectPortal",FL=t=>o.jsx(Wp,{asChild:!0,...t});FL.displayName=_Y;var ba="SelectContent",$L=d.forwardRef((t,e)=>{const n=To(ba,t.__scopeSelect),[r,s]=d.useState();if(Pn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Yr.createPortal(o.jsx(UL,{scope:t.__scopeSelect,children:o.jsx(Km.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(zL,{...t,ref:e})});$L.displayName=ba;var ts=10,[UL,Po]=vc(ba),SY="SelectContentImpl",jY=la("SelectContent.RemoveScroll"),zL=d.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b,...w}=t,x=To(ba,n),[N,k]=d.useState(null),[A,L]=d.useState(null),C=at(e,te=>k(te)),[_,S]=d.useState(null),[T,I]=d.useState(null),P=Qm(n),[R,K]=d.useState(!1),H=d.useRef(!1);d.useEffect(()=>{if(N)return Uw(N)},[N]),$w();const $=d.useCallback(te=>{const[ce,...ve]=P().map(ne=>ne.ref.current),[Z]=ve.slice(-1),X=document.activeElement;for(const ne of te)if(ne===X||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===ce&&A&&(A.scrollTop=0),ne===Z&&A&&(A.scrollTop=A.scrollHeight),ne==null||ne.focus(),document.activeElement!==X))return},[P,A]),Y=d.useCallback(()=>$([_,N]),[$,_,N]);d.useEffect(()=>{R&&Y()},[R,Y]);const{onOpenChange:O,triggerPointerDownPosRef:D}=x;d.useEffect(()=>{if(N){let te={x:0,y:0};const ce=Z=>{var X,ne;te={x:Math.abs(Math.round(Z.pageX)-(((X=D.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((ne=D.current)==null?void 0:ne.y)??0))}},ve=Z=>{te.x<=10&&te.y<=10?Z.preventDefault():N.contains(Z.target)||O(!1),document.removeEventListener("pointermove",ce),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",ve,{capture:!0})}}},[N,O,D]),d.useEffect(()=>{const te=()=>O(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[O]);const[B,V]=iM(te=>{const ce=P().filter(X=>!X.disabled),ve=ce.find(X=>X.ref.current===document.activeElement),Z=oM(ce,te,ve);Z&&setTimeout(()=>Z.ref.current.focus())}),F=d.useCallback((te,ce,ve)=>{const Z=!H.current&&!ve;(x.value!==void 0&&x.value===ce||Z)&&(S(te),Z&&(H.current=!0))},[x.value]),Q=d.useCallback(()=>N==null?void 0:N.focus(),[N]),ie=d.useCallback((te,ce,ve)=>{const Z=!H.current&&!ve;(x.value!==void 0&&x.value===ce||Z)&&I(te)},[x.value]),W=r==="popper"?d0:BL,ge=W===d0?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b}:{};return o.jsx(UL,{scope:n,content:N,viewport:A,onViewportChange:L,itemRefCallback:F,selectedItem:_,onItemLeave:Q,itemTextRefCallback:ie,focusSelectedItem:Y,selectedItemText:T,position:r,isPositioned:R,searchRef:B,children:o.jsx(Tm,{as:jY,allowPinchZoom:!0,children:o.jsx(km,{asChild:!0,trapped:x.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:be(s,te=>{var ce;(ce=x.trigger)==null||ce.focus({preventScroll:!0}),te.preventDefault()}),children:o.jsx(xd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(W,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:te=>te.preventDefault(),...w,...ge,onPlaced:()=>K(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:be(w.onKeyDown,te=>{const ce=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ce&&te.key.length===1&&V(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let Z=P().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(te.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const X=te.target,ne=Z.indexOf(X);Z=Z.slice(ne+1)}setTimeout(()=>$(Z)),te.preventDefault()}})})})})})})});zL.displayName=SY;var kY="SelectItemAlignedPosition",BL=d.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=To(ba,n),a=Po(ba,n),[l,c]=d.useState(null),[u,h]=d.useState(null),p=at(e,C=>h(C)),m=Qm(n),g=d.useRef(!1),v=d.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:w,focusSelectedItem:x}=a,N=d.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&y&&b&&w){const C=i.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),S=i.valueNode.getBoundingClientRect(),T=w.getBoundingClientRect();if(i.dir!=="rtl"){const X=T.left-_.left,ne=S.left-X,xe=C.left-ne,Le=C.width+xe,ee=Math.max(Le,_.width),Pe=window.innerWidth-ts,qe=gS(ne,[ts,Math.max(ts,Pe-ee)]);l.style.minWidth=Le+"px",l.style.left=qe+"px"}else{const X=_.right-T.right,ne=window.innerWidth-S.right-X,xe=window.innerWidth-C.right-ne,Le=C.width+xe,ee=Math.max(Le,_.width),Pe=window.innerWidth-ts,qe=gS(ne,[ts,Math.max(ts,Pe-ee)]);l.style.minWidth=Le+"px",l.style.right=qe+"px"}const I=m(),P=window.innerHeight-ts*2,R=y.scrollHeight,K=window.getComputedStyle(u),H=parseInt(K.borderTopWidth,10),$=parseInt(K.paddingTop,10),Y=parseInt(K.borderBottomWidth,10),O=parseInt(K.paddingBottom,10),D=H+$+R+O+Y,B=Math.min(b.offsetHeight*5,D),V=window.getComputedStyle(y),F=parseInt(V.paddingTop,10),Q=parseInt(V.paddingBottom,10),ie=C.top+C.height/2-ts,W=P-ie,ge=b.offsetHeight/2,te=b.offsetTop+ge,ce=H+$+te,ve=D-ce;if(ce<=ie){const X=I.length>0&&b===I[I.length-1].ref.current;l.style.bottom="0px";const ne=u.clientHeight-y.offsetTop-y.offsetHeight,xe=Math.max(W,ge+(X?Q:0)+ne+Y),Le=ce+xe;l.style.height=Le+"px"}else{const X=I.length>0&&b===I[0].ref.current;l.style.top="0px";const xe=Math.max(ie,H+y.offsetTop+(X?F:0)+ge)+ve;l.style.height=xe+"px",y.scrollTop=ce-ie+y.offsetTop}l.style.margin=`${ts}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,l,u,y,b,w,i.dir,r]);Pn(()=>N(),[N]);const[k,A]=d.useState();Pn(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const L=d.useCallback(C=>{C&&v.current===!0&&(N(),x==null||x(),v.current=!1)},[N,x]);return o.jsx(TY,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:L,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:o.jsx(Ve.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});BL.displayName=kY;var IY="SelectPopperPosition",d0=d.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ts,...i}=t,a=Ym(n);return o.jsx(Nx,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});d0.displayName=IY;var[TY,fb]=vc(ba,{}),h0="SelectViewport",HL=d.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Po(h0,n),a=fb(h0,n),l=at(e,i.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Km.Slot,{scope:n,children:o.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:be(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&p){const g=Math.abs(c.current-h.scrollTop);if(g>0){const v=window.innerHeight-ts*2,y=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),w=Math.max(y,b);if(w<v){const x=w+g,N=Math.min(v,x),k=x-N;p.style.height=N+"px",p.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});HL.displayName=h0;var WL="SelectGroup",[PY,AY]=vc(WL),RY=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Br();return o.jsx(PY,{scope:n,id:s,children:o.jsx(Ve.div,{role:"group","aria-labelledby":s,...r,ref:e})})});RY.displayName=WL;var qL="SelectLabel",GL=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=AY(qL,n);return o.jsx(Ve.div,{id:s.id,...r,ref:e})});GL.displayName=qL;var Np="SelectItem",[LY,KL]=vc(Np),QL=d.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=To(Np,n),c=Po(Np,n),u=l.value===r,[h,p]=d.useState(i??""),[m,g]=d.useState(!1),v=at(e,x=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,x,r,s)}),y=Br(),b=d.useRef("touch"),w=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(LY,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:d.useCallback(x=>{p(N=>N||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(Km.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(Ve.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:be(a.onFocus,()=>g(!0)),onBlur:be(a.onBlur,()=>g(!1)),onClick:be(a.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:be(a.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:be(a.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:be(a.onPointerMove,x=>{var N;b.current=x.pointerType,s?(N=c.onItemLeave)==null||N.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(a.onPointerLeave,x=>{var N;x.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:be(a.onKeyDown,x=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&x.key===" "||(xY.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});QL.displayName=Np;var ru="SelectItemText",YL=d.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=To(ru,n),l=Po(ru,n),c=KL(ru,n),u=NY(ru,n),[h,p]=d.useState(null),m=at(e,w=>p(w),c.onItemTextChange,w=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,w,c.value,c.disabled)}),g=h==null?void 0:h.textContent,v=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return Pn(()=>(y(v),()=>b(v)),[y,b,v]),o.jsxs(o.Fragment,{children:[o.jsx(Ve.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Yr.createPortal(i.children,a.valueNode):null]})});YL.displayName=ru;var ZL="SelectItemIndicator",XL=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return KL(ZL,n).isSelected?o.jsx(Ve.span,{"aria-hidden":!0,...r,ref:e}):null});XL.displayName=ZL;var f0="SelectScrollUpButton",JL=d.forwardRef((t,e)=>{const n=Po(f0,t.__scopeSelect),r=fb(f0,t.__scopeSelect),[s,i]=d.useState(!1),a=at(e,r.onScrollButtonChange);return Pn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(tM,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});JL.displayName=f0;var p0="SelectScrollDownButton",eM=d.forwardRef((t,e)=>{const n=Po(p0,t.__scopeSelect),r=fb(p0,t.__scopeSelect),[s,i]=d.useState(!1),a=at(e,r.onScrollButtonChange);return Pn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(tM,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});eM.displayName=p0;var tM=d.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Po("SelectScrollButton",n),a=d.useRef(null),l=Qm(n),c=d.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Pn(()=>{var h;const u=l().find(p=>p.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(Ve.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:be(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:be(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:be(s.onPointerLeave,()=>{c()})})}),MY="SelectSeparator",nM=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Ve.div,{"aria-hidden":!0,...r,ref:e})});nM.displayName=MY;var m0="SelectArrow",DY=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ym(n),i=To(m0,n),a=Po(m0,n);return i.open&&a.position==="popper"?o.jsx(Cx,{...s,...r,ref:e}):null});DY.displayName=m0;var OY="SelectBubbleInput",rM=d.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=d.useRef(null),i=at(r,s),a=rb(e);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&h){const p=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(p)}},[a,e]),o.jsx(Ve.select,{...n,style:{...fI,...n.style},ref:i,defaultValue:e})});rM.displayName=OY;function sM(t){return t===""||t===void 0}function iM(t){const e=Us(t),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function oM(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=VY(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function VY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var FY=RL,aM=ML,$Y=OL,UY=VL,zY=FL,lM=$L,BY=HL,cM=GL,uM=QL,HY=YL,WY=XL,dM=JL,hM=eM,fM=nM;const Zm=FY,Xm=$Y,Ud=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(aM,{ref:r,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(UY,{asChild:!0,children:o.jsx(Aw,{className:"h-4 w-4 opacity-50"})})]}));Ud.displayName=aM.displayName;const pM=d.forwardRef(({className:t,...e},n)=>o.jsx(dM,{ref:n,className:Me("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(tH,{className:"h-4 w-4"})}));pM.displayName=dM.displayName;const mM=d.forwardRef(({className:t,...e},n)=>o.jsx(hM,{ref:n,className:Me("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(Aw,{className:"h-4 w-4"})}));mM.displayName=hM.displayName;const zd=d.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(zY,{children:o.jsxs(lM,{ref:s,className:Me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(pM,{}),o.jsx(BY,{className:Me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(mM,{})]})}));zd.displayName=lM.displayName;const qY=d.forwardRef(({className:t,...e},n)=>o.jsx(cM,{ref:n,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));qY.displayName=cM.displayName;const cn=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(uM,{ref:r,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(WY,{children:o.jsx(Rd,{className:"h-4 w-4"})})}),o.jsx(HY,{children:e})]}));cn.displayName=uM.displayName;const GY=d.forwardRef(({className:t,...e},n)=>o.jsx(fM,{ref:n,className:Me("-mx-1 my-1 h-px bg-muted",t),...e}));GY.displayName=fM.displayName;const KY=()=>{const t=Ln(),{isDarkMode:e,setDarkMode:n}=Yt(),[r,s]=d.useState(null),[i,a]=d.useState(!0),[l,c]=d.useState({notifications:!0,language:"en",sound:!0,emailNotifications:!0,pushNotifications:!0}),[u,h]=d.useState(!1),[p,m]=d.useState(!1),[g,v]=d.useState(!1),[y,b]=d.useState(!1),[w,x]=d.useState(""),[N,k]=d.useState(""),[A,L]=d.useState(""),[C,_]=d.useState(!1),[S,T]=d.useState(!1),[I,P]=d.useState(!1),[R,K]=d.useState(!1),[H,$]=d.useState(""),[Y,O]=d.useState(!1),[D,B]=d.useState(!1),[V,F]=d.useState(!1);d.useEffect(()=>{const Z=Et.onAuthStateChanged(async X=>{if(X){s(X),await Q(X.uid);const ne=await ya(Ct(Fe,"users",X.uid));if(ne.exists()){const xe=ne.data();B(xe.twoFactorEnabled||!1)}}else t("/")});return()=>Z()},[t]);const Q=async Z=>{a(!0);try{const X=await ya(Ct(Fe,"users",Z));if(X.exists()){const ne=X.data();ne.settings&&(c(ne.settings),ne.settings.darkMode!==void 0&&n(ne.settings.darkMode))}}catch(X){console.error("Error loading settings:",X),U.error("Failed to load settings")}finally{a(!1)}},ie=async(Z,X)=>{if(r)try{const ne={...l,[Z]:X};c(ne);const xe=Ct(Fe,"users",r.uid);await In(xe,{settings:ne,updatedAt:new Date}),Z==="pushNotifications"&&X&&await ge(),Z==="sound"&&X&&new Audio("/notification.mp3").play().catch(()=>{}),U.success(`${Z.replace(/([A-Z])/g," $1").toLowerCase()} updated`)}catch(ne){console.error("Error updating settings:",ne),U.error("Failed to update settings"),c(xe=>({...xe,[Z]:!X}))}},W=async Z=>{if(n(Z),!!r)try{const X={...l,darkMode:Z};c(X);const ne=Ct(Fe,"users",r.uid);await In(ne,{settings:X,updatedAt:new Date}),U.success(`Dark mode ${Z?"enabled":"disabled"}`)}catch(X){console.error("Error updating dark mode:",X),U.error("Failed to update dark mode")}},ge=async()=>{"Notification"in window&&await Notification.requestPermission()!=="granted"&&(U.error("Notification permission denied"),c(X=>({...X,pushNotifications:!1})))},te=async Z=>{if(Z.preventDefault(),N!==A){U.error("New passwords do not match");return}if(N.length<6){U.error("Password must be at least 6 characters long");return}K(!0);try{const X=_a.credential(r.email,w);await t$(r,X),await i$(r,N),U.success("Password updated successfully"),h(!1),x(""),k(""),L("")}catch(X){console.error("Error changing password:",X),X.code==="auth/wrong-password"?U.error("Current password is incorrect"):X.code==="auth/weak-password"?U.error("New password is too weak"):U.error("Failed to update password")}finally{K(!1)}},ce=async()=>{F(!0);try{const Z=Ct(Fe,"users",r.uid);await In(Z,{twoFactorEnabled:!0,updatedAt:new Date}),B(!0),U.success("Two-factor authentication enabled"),b(!1)}catch(Z){console.error("Error setting up 2FA:",Z),U.error("Failed to setup two-factor authentication")}finally{F(!1)}},ve=async()=>{if(H!=="DELETE"){U.error("Please type DELETE to confirm");return}O(!0);try{const Z=Ct(Fe,"users",r.uid);await Iw(Z),await c$(r),U.success("Account deleted successfully"),t("/")}catch(Z){console.error("Error deleting account:",Z),U.error("Failed to delete account. Please try again.")}finally{O(!1)}};return r?o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Settings"})]})})})}),o.jsx("div",{className:"container mx-auto px-4 py-6 space-y-6",children:i?o.jsx(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:o.jsxs(Te,{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading settings..."})]})}):o.jsxs(o.Fragment,{children:[o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs(xt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(IC,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Notifications"})]})}),o.jsxs(Te,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(IC,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Re,{className:"text-gray-800",children:"Push Notifications"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Receive notifications on your device"})]})]}),o.jsx(nu,{checked:l.pushNotifications,onCheckedChange:Z=>ie("pushNotifications",Z)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Hs,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Re,{className:"text-gray-800",children:"Email Notifications"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Receive updates via email"})]})]}),o.jsx(nu,{checked:l.emailNotifications,onCheckedChange:Z=>ie("emailNotifications",Z)})]})]})]}),o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs(xt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(ip,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Appearance"})]})}),o.jsxs(Te,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[e?o.jsx(ip,{className:"w-5 h-5 text-gray-500"}):o.jsx(Dw,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Re,{className:"text-gray-800",children:"Dark Mode"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Use dark theme"})]})]}),o.jsx(nu,{checked:e,onCheckedChange:W})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(UP,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Re,{className:"text-gray-800",children:"Language"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Choose your preferred language"})]})]}),o.jsxs(Zm,{value:l.language,onValueChange:Z=>ie("language",Z),children:[o.jsx(Ud,{className:"w-32 bg-white border-gray-300",children:o.jsx(Xm,{})}),o.jsxs(zd,{children:[o.jsx(cn,{value:"en",children:"English"}),o.jsx(cn,{value:"hi",children:"Hindi"}),o.jsx(cn,{value:"bn",children:"Bengali"})]})]})]})]})]}),o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs(xt,{className:"text-gray-800 flex items-center space-x-2",children:[l.sound?o.jsx(AC,{className:"w-5 h-5 text-orange-500"}):o.jsx(bH,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Sound & Vibration"})]})}),o.jsx(Te,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(AC,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Re,{className:"text-gray-800",children:"Sound Effects"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Play sounds for notifications"})]})]}),o.jsx(nu,{checked:l.sound,onCheckedChange:Z=>ie("sound",Z)})]})})]}),o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs(xt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(na,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Privacy & Security"})]})}),o.jsxs(Te,{className:"space-y-4",children:[o.jsxs(z,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>h(!0),children:[o.jsx(zP,{className:"w-4 h-4 mr-2"}),"Change Password"]}),o.jsxs(z,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>b(!0),children:[o.jsx(op,{className:"w-4 h-4 mr-2"}),"Two-Factor Authentication",D&&o.jsx("span",{className:"ml-2 text-orange-500",children:"✓ Enabled"})]}),o.jsxs(z,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>m(!0),children:[o.jsx(na,{className:"w-4 h-4 mr-2"}),"Privacy Policy"]})]})]}),o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsx(xt,{className:"text-gray-800",children:"Account"})}),o.jsx(Te,{className:"space-y-4",children:o.jsxs(z,{variant:"outline",className:"w-full justify-start text-red-500 border-red-500 hover:bg-red-500 hover:text-white",onClick:()=>v(!0),children:[o.jsx(dc,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})}),o.jsx(ds,{open:u,onOpenChange:h,children:o.jsxs(Fr,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs($r,{children:[o.jsx(er,{className:"text-gray-900",children:"Change Password"}),o.jsx(Ur,{className:"text-gray-600",children:"Enter your current password and choose a new one."})]}),o.jsxs("form",{onSubmit:te,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"currentPassword",className:"text-gray-900",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx($e,{id:"currentPassword",type:C?"text":"password",value:w,onChange:Z=>x(Z.target.value),className:"pr-10",required:!0}),o.jsx(z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>_(!C),children:C?o.jsx(af,{className:"h-4 w-4"}):o.jsx(bu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"newPassword",className:"text-gray-900",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx($e,{id:"newPassword",type:S?"text":"password",value:N,onChange:Z=>k(Z.target.value),className:"pr-10",required:!0}),o.jsx(z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>T(!S),children:S?o.jsx(af,{className:"h-4 w-4"}):o.jsx(bu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"confirmPassword",className:"text-gray-900",children:"Confirm New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx($e,{id:"confirmPassword",type:I?"text":"password",value:A,onChange:Z=>L(Z.target.value),className:"pr-10",required:!0}),o.jsx(z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>P(!I),children:I?o.jsx(af,{className:"h-4 w-4"}):o.jsx(bu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(z,{type:"button",variant:"outline",onClick:()=>h(!1),className:"flex-1",children:"Cancel"}),o.jsx(z,{type:"submit",disabled:R,className:"flex-1",children:R?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Password"})]})]})]})}),o.jsx(ds,{open:p,onOpenChange:m,children:o.jsxs(Fr,{className:"bg-white/95 backdrop-blur-md border-gray-700 max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsx($r,{children:o.jsx(er,{className:"text-gray-900",children:"Privacy Policy"})}),o.jsxs("div",{className:"space-y-4 text-gray-700",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"PickNGo Privacy Policy"}),o.jsx("p",{className:"text-sm",children:"This Privacy Policy describes how PickNGo collects, uses, and protects your personal information."}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Information We Collect"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Account information (name, email, phone number)"}),o.jsx("li",{children:"Order history and preferences"}),o.jsx("li",{children:"Location data for delivery services"}),o.jsx("li",{children:"Device information and usage analytics"})]}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"How We Use Your Information"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Process and deliver your orders"}),o.jsx("li",{children:"Send order updates and notifications"}),o.jsx("li",{children:"Improve our services and user experience"}),o.jsx("li",{children:"Provide customer support"})]}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Data Security"}),o.jsx("p",{className:"text-sm",children:"We implement industry-standard security measures to protect your personal information. Your data is encrypted and stored securely."}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Your Rights"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Access and update your personal information"}),o.jsx("li",{children:"Delete your account and associated data"}),o.jsx("li",{children:"Opt-out of marketing communications"}),o.jsx("li",{children:"Request data portability"})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Last updated: ",new Date().toLocaleDateString()]})]}),o.jsx(z,{onClick:()=>m(!1),className:"w-full",children:"Close"})]})}),o.jsx(ds,{open:y,onOpenChange:b,children:o.jsxs(Fr,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs($r,{children:[o.jsx(er,{className:"text-gray-900",children:"Two-Factor Authentication"}),o.jsx(Ur,{className:"text-gray-600",children:D?"Two-factor authentication is currently enabled for your account.":"Add an extra layer of security to your account with two-factor authentication."})]}),o.jsxs("div",{className:"space-y-4",children:[D?o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(na,{className:"w-8 h-8 text-green-600"})}),o.jsx("p",{className:"text-gray-700",children:"Your account is protected with 2FA"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(op,{className:"w-8 h-8 text-blue-600"})}),o.jsx("p",{className:"text-gray-700",children:"Enable two-factor authentication for enhanced security"})]}),o.jsx(z,{onClick:ce,disabled:V,className:"w-full",children:V?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"mr-2 h-4 w-4 animate-spin"}),"Setting up 2FA..."]}):"Enable 2FA"})]}),o.jsx(z,{variant:"outline",onClick:()=>b(!1),className:"w-full",children:"Close"})]})]})}),o.jsx(ds,{open:g,onOpenChange:v,children:o.jsxs(Fr,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs($r,{children:[o.jsx(er,{className:"text-red-600",children:"Delete Account"}),o.jsx(Ur,{className:"text-gray-600",children:"This action cannot be undone. All your data will be permanently deleted."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[o.jsxs("p",{className:"text-red-800 text-sm",children:[o.jsx("strong",{children:"Warning:"})," Deleting your account will:"]}),o.jsxs("ul",{className:"text-red-700 text-sm mt-2 space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Permanently delete all your personal data"}),o.jsx("li",{children:"Cancel any active orders"}),o.jsx("li",{children:"Remove your order history"}),o.jsx("li",{children:"Delete your saved addresses and preferences"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"deleteConfirmation",className:"text-gray-900",children:'Type "DELETE" to confirm'}),o.jsx($e,{id:"deleteConfirmation",value:H,onChange:Z=>$(Z.target.value),placeholder:"DELETE",className:"text-center font-mono"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(z,{variant:"outline",onClick:()=>v(!1),className:"flex-1",children:"Cancel"}),o.jsx(z,{variant:"destructive",onClick:ve,disabled:H!=="DELETE"||Y,className:"flex-1",children:Y?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Account"})]})]})]})})]}):o.jsx("div",{children:"Loading..."})},QY=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),{selectedAddress:r,setSelectedAddress:s}=ng(),[i,a]=d.useState(null),[l,c]=d.useState([]),[u,h]=d.useState(!1),[p,m]=d.useState(null),[g,v]=d.useState(!0),[y,b]=d.useState(null),[w,x]=d.useState({type:"home",name:"",phone:"",address:"",landmark:"",city:"",state:"",pincode:"",isDefault:!1});d.useEffect(()=>{const I=Et.onAuthStateChanged(async P=>{P?(a(P),await N(P.uid)):t("/")});return()=>I()},[t]),d.useEffect(()=>{const I=l.find(P=>P.isDefault);I&&b(I.id)},[l]);const N=async I=>{v(!0);try{const P=on(Fe,"addresses"),R=Vr(P,ps("userId","==",I)),K=await nr(R),H=[];K.forEach($=>{H.push({id:$.id,...$.data()})}),H.sort(($,Y)=>{var B,V;if($.isDefault&&!Y.isDefault)return-1;if(!$.isDefault&&Y.isDefault)return 1;const O=(B=$.createdAt)!=null&&B.toDate?$.createdAt.toDate():0;return((V=Y.createdAt)!=null&&V.toDate?Y.createdAt.toDate():0)-O}),c(H)}catch(P){console.error("Error loading addresses:",P),U.error("Failed to load addresses")}finally{v(!1)}},k=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async I=>{const{latitude:P,longitude:R}=I.coords;try{const H=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${P}&lon=${R}`)).json();if(H&&H.address){const $=H.address;x({type:"other",name:$.road||"Current Location",phone:"",address:`${$.road||""}, ${$.suburb||""}`,landmark:"",city:$.city||$.town||$.village,state:$.state,pincode:$.postcode,isDefault:!1}),m(null),h(!0)}else U.error("Could not determine address from location.")}catch(K){console.error("Error fetching address:",K),U.error("Could not fetch address from location.")}},I=>{console.error("Geolocation error:",I),U.error("Could not access your location.")}):U.error("Geolocation is not supported by your browser.")},A=()=>{x({type:"home",name:"",phone:"",address:"",landmark:"",city:"",state:"",pincode:"",isDefault:!1}),m(null)},L=async()=>{if(i){if(!w.name||!w.phone||!w.address||!w.city||!w.state||!w.pincode){U.error("Please fill in all required fields");return}try{if(p){const I=Ct(Fe,"addresses",p.id);await In(I,{...w,updatedAt:new Date}),U.success("Address updated successfully!")}else{const I={...w,userId:i.uid,createdAt:new Date};await Es(on(Fe,"addresses"),I),U.success("Address added successfully!")}h(!1),A(),await N(i.uid)}catch(I){console.error("Error saving address:",I),U.error("Failed to save address")}}},C=I=>{m(I),x(I),h(!0)},_=async I=>{if(i&&confirm("Are you sure you want to delete this address?"))try{await Iw(Ct(Fe,"addresses",I)),U.success("Address deleted successfully!"),await N(i.uid)}catch(P){console.error("Error deleting address:",P),U.error("Failed to delete address")}},S=async I=>{if(i)try{const P=on(Fe,"addresses"),R=Vr(P,ps("userId","==",i.uid)),H=(await nr(R)).docs.map(Y=>In(Y.ref,{isDefault:!1}));await Promise.all(H),await In(Ct(Fe,"addresses",I),{isDefault:!0});const $=l.find(Y=>Y.id===I);$&&s($),U.success("Default address updated!"),await N(i.uid),b(I)}catch(P){console.error("Error setting default address:",P),U.error("Failed to update default address")}},T=I=>{switch(I){case"home":return o.jsx(Lw,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(Pw,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(sd,{className:"w-5 h-5 text-gray-500"})}};return i?o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"My Addresses"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Manage your delivery addresses"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[o.jsxs(ds,{open:u,onOpenChange:h,children:[o.jsx(QW,{asChild:!0,children:o.jsxs(z,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(uc,{className:"w-4 h-4 mr-2"}),"Add New Address"]})}),o.jsxs(Fr,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsxs($r,{children:[o.jsx(er,{className:e?"text-white":"text-gray-900",children:p?"Edit Address":"Add New Address"}),o.jsx(Ur,{className:e?"text-gray-300":"text-gray-600",children:p?"Update your address details":"Add a new delivery address"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"type",className:e?"text-white":"text-gray-900",children:"Address Type"}),o.jsxs(Zm,{value:w.type,onValueChange:I=>x(P=>({...P,type:I})),children:[o.jsx(Ud,{className:`${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:o.jsx(Xm,{})}),o.jsxs(zd,{className:e?"bg-gray-700 border-gray-600":"bg-white border-gray-300",children:[o.jsx(cn,{value:"home",children:"Home"}),o.jsx(cn,{value:"work",children:"Work"}),o.jsx(cn,{value:"other",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"name",className:e?"text-white":"text-gray-900",children:"Full Name *"}),o.jsx($e,{id:"name",value:w.name,onChange:I=>x(P=>({...P,name:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"phone",className:e?"text-white":"text-gray-900",children:"Phone Number *"}),o.jsx($e,{id:"phone",value:w.phone,onChange:I=>x(P=>({...P,phone:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your phone number"})]})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"address",className:e?"text-white":"text-gray-900",children:"Address *"}),o.jsx($e,{id:"address",value:w.address,onChange:I=>x(P=>({...P,address:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your address"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"landmark",className:e?"text-white":"text-gray-900",children:"Landmark"}),o.jsx($e,{id:"landmark",value:w.landmark,onChange:I=>x(P=>({...P,landmark:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter a nearby landmark (optional)"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"city",className:e?"text-white":"text-gray-900",children:"City *"}),o.jsx($e,{id:"city",value:w.city,onChange:I=>x(P=>({...P,city:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter city"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"state",className:e?"text-white":"text-gray-900",children:"State *"}),o.jsx($e,{id:"state",value:w.state,onChange:I=>x(P=>({...P,state:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter state"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"pincode",className:e?"text-white":"text-gray-900",children:"Pincode *"}),o.jsx($e,{id:"pincode",value:w.pincode,onChange:I=>x(P=>({...P,pincode:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter pincode"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"isDefault",checked:w.isDefault,onChange:I=>x(P=>({...P,isDefault:I.target.checked})),className:"rounded"}),o.jsx(Re,{htmlFor:"isDefault",className:e?"text-white":"text-gray-900",children:"Set as default address"})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx(z,{variant:"outline",onClick:()=>h(!1),className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx(z,{onClick:L,className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:p?"Update Address":"Add Address"})]})]})]})]}),o.jsxs(z,{variant:"outline",onClick:k,className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:[o.jsx(sn,{className:"w-4 h-4 mr-2"}),"Use Current Location"]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx($e,{placeholder:"Try JP Nagar, Siri Gardenia, etc.",className:`pl-10 h-12 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h2",{className:"text-xs font-semibold mb-2 text-gray-400",children:"SAVED ADDRESSES"}),g?o.jsx("p",{className:e?"text-gray-300":"text-gray-600",children:"Loading addresses..."}):l.length===0?o.jsx("p",{className:e?"text-gray-300":"text-gray-600",children:"No saved addresses."}):o.jsx("div",{className:"space-y-4",children:l.map(I=>o.jsxs("div",{className:`border rounded-lg p-4 transition-colors ${e?"border-gray-700 hover:bg-gray-800":"border-gray-200 hover:bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[o.jsx("div",{className:"mt-1",children:T(I.type)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h3",{className:`font-bold capitalize ${e?"text-white":"text-gray-900"}`,children:I.type}),(r==null?void 0:r.id)===I.id&&o.jsxs(Tt,{className:"bg-pickngo-orange-100 text-pickngo-orange-700 text-xs",children:[o.jsx(Rd,{className:"w-3 h-3 mr-1"}),"CURRENTLY SELECTED"]}),I.isDefault&&o.jsxs(Tt,{className:"bg-green-100 text-green-700 text-xs",children:[o.jsx(Qr,{className:"w-3 h-3 mr-1"}),"DEFAULT"]})]}),o.jsx("p",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:I.name}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:I.phone}),o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:[I.address,", ",I.city,", ",I.state," - ",I.pincode]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>C(I),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Mw,{className:"w-4 h-4"})}),o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>_(I.id),className:e?"text-gray-300 hover:text-red-400":"text-gray-600 hover:text-red-500",children:o.jsx(dc,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[!I.isDefault&&o.jsx(z,{variant:"outline",size:"sm",onClick:()=>S(I.id),className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Set as Default"}),o.jsx(z,{size:"sm",onClick:()=>{s(I),U.success("Address selected successfully!")},className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:"Use This Address"})]})]},I.id))})]})]})]}):o.jsx("div",{className:"text-center p-8",children:"Loading..."})},YY=()=>{const t=Ln(),{isDarkMode:e}=Yt();return o.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-6xl font-bold text-gray-800 dark:text-white mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8",children:"Page not found"}),o.jsx(z,{onClick:()=>t("/"),className:"bg-blue-600 hover:bg-blue-700",children:"Go Home"})]})})},ZY=[{name:"For You",icon:o.jsx($P,{className:"w-6 h-6"})},{name:"Grocery",icon:o.jsx("img",{src:"https://img.icons8.com/color/48/grocery-bag.png",alt:"grocery",className:"w-8 h-8"})},{name:"Fashion",icon:o.jsx(pH,{className:"w-6 h-6"})},{name:"Appliances",icon:o.jsx(xH,{className:"w-6 h-6"})},{name:"Mobiles",icon:o.jsx(op,{className:"w-6 h-6"})},{name:"Electronics",icon:o.jsx(rH,{className:"w-6 h-6"})},{name:"Smart Gadgets",icon:o.jsx(NH,{className:"w-6 h-6"})},{name:"Home",icon:o.jsx(mH,{className:"w-6 h-6"})},{name:"Beauty & Personal Care",icon:o.jsx(oH,{className:"w-6 h-6"})}],yS={title:"Grocery",sections:[{title:"Staples",items:[{name:"Ghee & Oils",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-g_R9DkL_ij9a8V3n-QyW2-sH2W-qJq_LgQ&s",subcategory:"Staples"},{name:"Sugar, Jaggery & Salt",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRkYxJ1A4Z-Y3l1Xw2O-p5B9g_Yn3X0z3q9wA&s",subcategory:"Staples"},{name:"Rice & Rice Products",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTc1j8gq-u_tYwQ-Y9E9Z-2Xw3a-nJ4d0l3Xw&s",subcategory:"Staples"},{name:"Dry Fruits, Nuts & Seeds",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ4x9J0N-n8v6Z-Z9C9Xw_Q8X_X2n-H_y3o3A&s",subcategory:"Staples"},{name:"Masalas & Spices",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRYSoZ6TqO6Y-K2rL0z7gJpG8e-A9z2wF_sLw&s",subcategory:"Staples"},{name:"Dals & Pulses",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ4p7gY-p-L2N-O_R-d0a_R1p2m-G5a9yJ_pQ&s",subcategory:"Staples"},{name:"Atta & Flours",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS-p6-gT7mQ5H2xX-O_Kq_wG-g5K-Y4Kz_yXg&s",subcategory:"Staples"}]},{title:"Snacks & Beverages",items:[{name:"Juices",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRz-o-w7O3l7g-v-l2K-j-j_H-v8V-hJ_p-Jw&s",subcategory:"Beverages"},{name:"Water",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7b-C8xXcz-n-J-k-f-oD_v1n_Y-f9hY6w&s",subcategory:"Beverages"},{name:"Chips, Namkeen & Snacks",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-G7oF5x-2y-x_k-Z8c-Z-fJ_o-I_p_X_w&s",subcategory:"Snacks"},{name:"Chocolates",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_x_P3-mB_y-Y7R-n-H-O-hI_p_S8V-kL_A&s",subcategory:"Snacks"},{name:"Health Drinks",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_x_P3-mB_y-Y7R-n-H-O-hI_p_S8V-kL_A&s",subcategory:"Beverages"},{name:"Instant Beverages",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhXgG_pD-K-v-k_k-O-c-Z-Y-k_k-S-j-I_A&s",subcategory:"Beverages"}]}]},XY=({onSubcategoryClick:t})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-blue-600 dark:text-blue-400 flex items-center",children:[yS.title," ",o.jsx(VP,{className:"w-6 h-6"})]}),o.jsx("img",{src:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=200",alt:"Grocery Banner",className:"rounded-lg h-12 object-cover"})]}),yS.sections.map((e,n)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:e.title}),o.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-6",children:e.items.map((r,s)=>o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>t(r.subcategory),children:[o.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full w-20 h-20 mx-auto flex items-center justify-center overflow-hidden mb-2",children:o.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-contain p-2"})}),o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:r.name})]},s))})]},n))]}),JY=({categoryName:t})=>o.jsxs("div",{className:"text-center p-8 flex flex-col items-center justify-center h-full",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 dark:text-white",children:t}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Products coming soon!"})]}),eZ=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState("Grocery"),i=l=>{t("/daily-essential",{state:{subcategory:l}})},a=()=>{switch(r){case"Grocery":return o.jsx(XY,{onSubcategoryClick:i});default:return o.jsx(JY,{categoryName:r})}};return o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"All Categories"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(xi,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(OP,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(Jn,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})]})]})}),o.jsxs("div",{className:"flex",children:[o.jsx("aside",{className:"w-28 bg-gray-50 dark:bg-gray-800 h-screen-minus-header fixed top-16 left-0 overflow-y-auto pb-16",children:o.jsx("nav",{children:o.jsx("ul",{children:ZY.map((l,c)=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>s(l.name),className:`w-full text-center p-3 text-sm font-medium border-l-4 ${r===l.name?"border-blue-500 bg-white dark:bg-gray-700 text-blue-500 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx("div",{className:"text-2xl mb-1 mx-auto flex justify-center items-center h-8",children:l.icon}),o.jsx("span",{className:"text-xs",children:l.name})]})},c))})})}),o.jsx("main",{className:"ml-28 p-4 flex-1 mb-16",children:a()})]})]})};var Jm="Collapsible",[tZ,gM]=ir(Jm),[nZ,pb]=tZ(Jm),yM=d.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:a,...l}=t,[c,u]=xs({prop:r,defaultProp:s??!1,onChange:a,caller:Jm});return o.jsx(nZ,{scope:n,disabled:i,contentId:Br(),open:c,onOpenToggle:d.useCallback(()=>u(h=>!h),[u]),children:o.jsx(Ve.div,{"data-state":gb(c),"data-disabled":i?"":void 0,...l,ref:e})})});yM.displayName=Jm;var vM="CollapsibleTrigger",xM=d.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=pb(vM,n);return o.jsx(Ve.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":gb(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:be(t.onClick,s.onOpenToggle)})});xM.displayName=vM;var mb="CollapsibleContent",wM=d.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=pb(mb,t.__scopeCollapsible);return o.jsx(Zr,{present:n||s.open,children:({present:i})=>o.jsx(rZ,{...r,ref:e,present:i})})});wM.displayName=mb;var rZ=d.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,a=pb(mb,n),[l,c]=d.useState(r),u=d.useRef(null),h=at(e,u),p=d.useRef(0),m=p.current,g=d.useRef(0),v=g.current,y=a.open||l,b=d.useRef(y),w=d.useRef(void 0);return d.useEffect(()=>{const x=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(x)},[]),Pn(()=>{const x=u.current;if(x){w.current=w.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const N=x.getBoundingClientRect();p.current=N.height,g.current=N.width,b.current||(x.style.transitionDuration=w.current.transitionDuration,x.style.animationName=w.current.animationName),c(r)}},[a.open,r]),o.jsx(Ve.div,{"data-state":gb(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...i,ref:h,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:y&&s})});function gb(t){return t?"open":"closed"}var sZ=yM,iZ=xM,oZ=wM,Cs="Accordion",aZ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[yb,lZ,cZ]=Sm(Cs),[eg,QZ]=ir(Cs,[cZ,gM]),vb=gM(),bM=de.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return o.jsx(yb.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?o.jsx(fZ,{...i,ref:e}):o.jsx(hZ,{...s,ref:e})})});bM.displayName=Cs;var[EM,uZ]=eg(Cs),[NM,dZ]=eg(Cs,{collapsible:!1}),hZ=de.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...a}=t,[l,c]=xs({prop:n,defaultProp:r??"",onChange:s,caller:Cs});return o.jsx(EM,{scope:t.__scopeAccordion,value:de.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:de.useCallback(()=>i&&c(""),[i,c]),children:o.jsx(NM,{scope:t.__scopeAccordion,collapsible:i,children:o.jsx(CM,{...a,ref:e})})})}),fZ=de.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[a,l]=xs({prop:n,defaultProp:r??[],onChange:s,caller:Cs}),c=de.useCallback(h=>l((p=[])=>[...p,h]),[l]),u=de.useCallback(h=>l((p=[])=>p.filter(m=>m!==h)),[l]);return o.jsx(EM,{scope:t.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:o.jsx(NM,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(CM,{...i,ref:e})})})}),[pZ,tg]=eg(Cs),CM=de.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...a}=t,l=de.useRef(null),c=at(l,e),u=lZ(n),p=fc(s)==="ltr",m=be(t.onKeyDown,g=>{var _;if(!aZ.includes(g.key))return;const v=g.target,y=u().filter(S=>{var T;return!((T=S.ref.current)!=null&&T.disabled)}),b=y.findIndex(S=>S.ref.current===v),w=y.length;if(b===-1)return;g.preventDefault();let x=b;const N=0,k=w-1,A=()=>{x=b+1,x>k&&(x=N)},L=()=>{x=b-1,x<N&&(x=k)};switch(g.key){case"Home":x=N;break;case"End":x=k;break;case"ArrowRight":i==="horizontal"&&(p?A():L());break;case"ArrowDown":i==="vertical"&&A();break;case"ArrowLeft":i==="horizontal"&&(p?L():A());break;case"ArrowUp":i==="vertical"&&L();break}const C=x%w;(_=y[C].ref.current)==null||_.focus()});return o.jsx(pZ,{scope:n,disabled:r,direction:s,orientation:i,children:o.jsx(yb.Slot,{scope:n,children:o.jsx(Ve.div,{...a,"data-orientation":i,ref:c,onKeyDown:r?void 0:m})})})}),Cp="AccordionItem",[mZ,xb]=eg(Cp),_M=de.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=tg(Cp,n),a=uZ(Cp,n),l=vb(n),c=Br(),u=r&&a.value.includes(r)||!1,h=i.disabled||t.disabled;return o.jsx(mZ,{scope:n,open:u,disabled:h,triggerId:c,children:o.jsx(sZ,{"data-orientation":i.orientation,"data-state":PM(u),...l,...s,ref:e,disabled:h,open:u,onOpenChange:p=>{p?a.onItemOpen(r):a.onItemClose(r)}})})});_M.displayName=Cp;var SM="AccordionHeader",jM=de.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=tg(Cs,n),i=xb(SM,n);return o.jsx(Ve.h3,{"data-orientation":s.orientation,"data-state":PM(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});jM.displayName=SM;var g0="AccordionTrigger",kM=de.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=tg(Cs,n),i=xb(g0,n),a=dZ(g0,n),l=vb(n);return o.jsx(yb.ItemSlot,{scope:n,children:o.jsx(iZ,{"aria-disabled":i.open&&!a.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...r,ref:e})})});kM.displayName=g0;var IM="AccordionContent",TM=de.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=tg(Cs,n),i=xb(IM,n),a=vb(n);return o.jsx(oZ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});TM.displayName=IM;function PM(t){return t?"open":"closed"}var gZ=bM,yZ=_M,vZ=jM,AM=kM,RM=TM;const vS=gZ,LM=d.forwardRef(({className:t,...e},n)=>o.jsx(yZ,{ref:n,className:Me("border-b",t),...e}));LM.displayName="AccordionItem";const MM=d.forwardRef(({className:t,children:e,...n},r)=>o.jsx(vZ,{className:"flex",children:o.jsxs(AM,{ref:r,className:Me("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,o.jsx(Aw,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));MM.displayName=AM.displayName;const DM=d.forwardRef(({className:t,children:e,...n},r)=>o.jsx(RM,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:Me("pb-4 pt-0",t),children:e})}));DM.displayName=RM.displayName;const xZ=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState(""),i=[{category:"Ordering",questions:[{question:"How do I place an order?",answer:"To place an order, simply browse our menu, add items to your cart, and proceed to checkout. You can choose your delivery address, payment method, and add a tip before confirming your order."},{question:"What payment methods do you accept?",answer:"We accept Cash on Delivery (COD), UPI, and Credit/Debit Cards. All online payments are secure and encrypted."},{question:"Can I modify or cancel my order?",answer:"You can modify or cancel your order within 5 minutes of placing it. After that, please contact our customer support team."},{question:"What is the minimum order amount?",answer:"There is no minimum order amount, but orders above ₹299 qualify for free delivery. Orders below ₹299 have a delivery fee of ₹29."}]},{category:"Delivery",questions:[{question:"How long does delivery take?",answer:"Delivery typically takes 25-35 minutes depending on your location and current order volume. You can track your order in real-time through our app."},{question:"Do you deliver to my area?",answer:"We deliver to most areas within our service radius. Enter your address during checkout to check if we deliver to your location."},{question:"Can I schedule delivery for later?",answer:"Currently, we offer immediate delivery only. We are working on scheduled delivery options for future updates."},{question:"What if my order is delayed?",answer:"If your order is delayed, you will receive real-time updates. For significant delays, we may offer compensation or a refund."}]},{category:"Account & App",questions:[{question:"How do I create an account?",answer:"You can create an account using your email address or sign up with Google. This allows you to save addresses, track orders, and view order history."},{question:"I forgot my password. How do I reset it?",answer:'Click on "Forgot Password" on the login screen and enter your email address. You will receive a password reset link.'},{question:"How do I update my delivery address?",answer:"Go to your Profile > Address section to add, edit, or remove delivery addresses. You can also set a default address."},{question:"Is my personal information secure?",answer:"Yes, we use industry-standard encryption to protect your personal information. We never share your data with third parties without your consent."}]},{category:"Refunds & Issues",questions:[{question:"What is your refund policy?",answer:"We offer full refunds for incorrect orders, missing items, or quality issues. Contact our support team within 24 hours of delivery."},{question:"What if my food arrives cold or damaged?",answer:"If your food arrives in poor condition, please contact us immediately. We will arrange a replacement or provide a full refund."},{question:"How do I report a missing item?",answer:"Contact our customer support team with your order number and details of the missing item. We will arrange a refund or replacement."},{question:"Can I get a refund for late delivery?",answer:"For deliveries significantly delayed beyond our estimated time, we may offer partial refunds or credits as compensation."}]}],a=[{title:"Track Your Order",icon:"🚚",description:"Real-time order tracking"},{title:"Payment Issues",icon:"💳",description:"Payment problems and solutions"},{title:"Delivery Problems",icon:"📦",description:"Delivery delays and issues"},{title:"Account Access",icon:"🔐",description:"Login and account issues"},{title:"Menu & Pricing",icon:"🍽️",description:"Menu items and pricing"},{title:"App Problems",icon:"📱",description:"Technical app issues"}],l=[{title:"Customer Support",description:"24/7 customer service",icon:o.jsx(yr,{className:"w-6 h-6"}),action:"Call Now",value:"+91 98765 43210"},{title:"Email Support",description:"Get help via email",icon:o.jsx(Hs,{className:"w-6 h-6"}),action:"Send Email",value:"support@pickngo.com"},{title:"Live Chat",description:"Chat with our team",icon:o.jsx(Kv,{className:"w-6 h-6"}),action:"Start Chat",value:"Available 24/7"}],c=i.map(u=>({...u,questions:u.questions.filter(h=>h.question.toLowerCase().includes(r.toLowerCase())||h.answer.toLowerCase().includes(r.toLowerCase()))})).filter(u=>u.questions.length>0);return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Help Center"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Get help and support"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx($e,{placeholder:"Search for help topics...",value:r,onChange:u=>s(u.target.value),className:`pl-10 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`})]})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:`text-xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Popular Topics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map((u,h)=>o.jsx(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:border-pickngo-orange-500 transition-colors cursor-pointer`,children:o.jsxs(Te,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-3xl mb-2",children:u.icon}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:u.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:u.description})]})},h))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Contact Us"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.map((u,h)=>o.jsx(Ie,{className:"bg-white border border-gray-200",children:o.jsxs(Te,{className:"p-6 text-center",children:[o.jsx("div",{className:"flex justify-center mb-3",children:o.jsx("div",{className:"p-3 bg-pickngo-orange-100 rounded-full",children:u.icon})}),o.jsx("h3",{className:"font-semibold mb-2 text-gray-800",children:u.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.description}),o.jsx("p",{className:"text-sm font-medium mb-3 text-gray-800",children:u.value}),o.jsx(z,{variant:"outline",className:"w-full border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:u.action})]})},h))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Frequently Asked Questions"}),c.length>0?o.jsx(vS,{type:"single",collapsible:!0,className:"space-y-4",children:c.map((u,h)=>o.jsxs(Ie,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsxs(xt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(TC,{className:"w-5 h-5"}),o.jsx("span",{children:u.category}),o.jsx(Tt,{variant:"secondary",className:"bg-pickngo-orange-100 text-pickngo-orange-800",children:u.questions.length})]})}),o.jsx(Te,{children:o.jsx(vS,{type:"single",collapsible:!0,className:"space-y-2",children:u.questions.map((p,m)=>o.jsxs(LM,{value:`${h}-${m}`,className:"border-gray-200",children:[o.jsx(MM,{className:"text-left hover:no-underline text-gray-800",children:o.jsx("span",{className:"font-medium",children:p.question})}),o.jsx(DM,{className:"text-gray-600 pt-2",children:p.answer})]},m))})})]},h))}):o.jsx(Ie,{className:"bg-white border border-gray-200",children:o.jsxs(Te,{className:"p-8 text-center",children:[o.jsx(TC,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"No results found"}),o.jsx("p",{className:"text-gray-600",children:"Try searching with different keywords"})]})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(z,{onClick:()=>t("/current-order"),className:"h-16 text-lg bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(ka,{className:"w-5 h-5 mr-2"}),"Track My Order"]}),o.jsxs(z,{onClick:()=>t("/past-orders"),variant:"outline",className:"h-16 text-lg border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(sn,{className:"w-5 h-5 mr-2"}),"View Order History"]})]})]}),o.jsx(Ie,{className:"bg-white border border-gray-200",children:o.jsxs(Te,{className:"p-6 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Still need help?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Our customer support team is available 24/7 to assist you with any questions or concerns."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(z,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Call Support"]}),o.jsxs(z,{variant:"outline",className:"border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Send Email"]})]})]})})]})]})},wb=d.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:Me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));wb.displayName="Textarea";const wZ=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,a]=d.useState(!1),l=[{title:"Customer Support",description:"24/7 customer service",icon:o.jsx(yr,{className:"w-6 h-6"}),value:"+91 98765 43210",action:"Call Now",color:"bg-green-600"},{title:"Email Support",description:"Get help via email",icon:o.jsx(Hs,{className:"w-6 h-6"}),value:"support@pickngo.com",action:"Send Email",color:"bg-blue-600"},{title:"Live Chat",description:"Chat with our team",icon:o.jsx(Kv,{className:"w-6 h-6"}),value:"Available 24/7",action:"Start Chat",color:"bg-purple-600"},{title:"Office Address",description:"Visit our office",icon:o.jsx(sn,{className:"w-6 h-6"}),value:"123 Food Street, Kolkata, WB 700001",action:"Get Directions",color:"bg-orange-600"}],c=[{day:"Monday - Friday",hours:"9:00 AM - 10:00 PM"},{day:"Saturday",hours:"10:00 AM - 11:00 PM"},{day:"Sunday",hours:"10:00 AM - 9:00 PM"}],u=(p,m)=>{s(g=>({...g,[p]:m}))},h=async p=>{p.preventDefault(),a(!0),await new Promise(m=>setTimeout(m,2e3)),U.success("Message sent successfully! We will get back to you soon."),s({name:"",email:"",phone:"",subject:"",message:""}),a(!1)};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Contact Us"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Get in touch with our team"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:`text-2xl font-bold mb-6 text-center ${e?"text-white":"text-gray-800"}`,children:"Get in Touch"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map((p,m)=>o.jsx(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:border-pickngo-orange-500 transition-colors`,children:o.jsxs(Te,{className:"p-6 text-center",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${p.color}`,children:p.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:p.title}),o.jsx("p",{className:`text-sm mb-3 ${e?"text-gray-300":"text-gray-600"}`,children:p.description}),o.jsx("p",{className:`text-sm font-medium mb-4 ${e?"text-white":"text-gray-800"}`,children:p.value}),o.jsx(z,{variant:"outline",className:"w-full border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:p.action})]})},m))})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ut,{children:o.jsxs(xt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(sd,{className:"w-5 h-5"}),o.jsx("span",{children:"Send us a Message"})]})}),o.jsx(Te,{children:o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"name",className:e?"text-white":"text-gray-800",children:"Full Name *"}),o.jsx($e,{id:"name",value:r.name,onChange:p=>u("name",p.target.value),required:!0,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"email",className:e?"text-white":"text-gray-800",children:"Email Address *"}),o.jsx($e,{id:"email",type:"email",value:r.email,onChange:p=>u("email",p.target.value),required:!0,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your email"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"phone",className:e?"text-white":"text-gray-800",children:"Phone Number"}),o.jsx($e,{id:"phone",type:"tel",value:r.phone,onChange:p=>u("phone",p.target.value),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your phone number"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"subject",className:e?"text-white":"text-gray-800",children:"Subject *"}),o.jsxs(Zm,{value:r.subject,onValueChange:p=>u("subject",p),children:[o.jsx(Ud,{className:`${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:o.jsx(Xm,{placeholder:"Select a subject"})}),o.jsxs(zd,{children:[o.jsx(cn,{value:"general",children:"General Inquiry"}),o.jsx(cn,{value:"order",children:"Order Issue"}),o.jsx(cn,{value:"delivery",children:"Delivery Problem"}),o.jsx(cn,{value:"payment",children:"Payment Issue"}),o.jsx(cn,{value:"technical",children:"Technical Support"}),o.jsx(cn,{value:"feedback",children:"Feedback"}),o.jsx(cn,{value:"complaint",children:"Complaint"}),o.jsx(cn,{value:"other",children:"Other"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"message",className:e?"text-white":"text-gray-800",children:"Message *"}),o.jsx(wb,{id:"message",value:r.message,onChange:p=>u("message",p.target.value),required:!0,rows:5,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Tell us how we can help you..."})]}),o.jsx(z,{type:"submit",className:"w-full bg-pickngo-orange-500 hover:bg-pickngo-orange-600",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(sd,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ut,{children:o.jsxs(xt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(ka,{className:"w-5 h-5"}),o.jsx("span",{children:"Business Hours"})]})}),o.jsxs(Te,{children:[o.jsx("div",{className:"space-y-3",children:c.map((p,m)=>o.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[o.jsx("span",{className:`font-medium ${e?"text-white":"text-gray-800"}`,children:p.day}),o.jsx("span",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:p.hours})]},m))}),o.jsx("div",{className:"mt-4 p-3 bg-pickngo-orange-100 rounded-lg",children:o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:[o.jsx("strong",{children:"Note:"})," Customer support is available 24/7 for urgent issues."]})})]})]}),o.jsxs(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ut,{children:o.jsxs(xt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(sn,{className:"w-5 h-5"}),o.jsx("span",{children:"Office Location"})]})}),o.jsx(Te,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"space-y-2",children:o.jsxs("p",{className:`text-gray-600 ${e?"text-gray-300":"text-gray-800"}`,children:[o.jsx("strong",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"PickNGo Headquarters"}),o.jsx("br",{}),"123 Food Street",o.jsx("br",{}),"Park Street Area",o.jsx("br",{}),"Kolkata, West Bengal 700001",o.jsx("br",{}),"India"]})}),o.jsxs(z,{variant:"outline",className:"w-full border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(sn,{className:"w-4 h-4 mr-2"}),"Get Directions"]})]})})]}),o.jsxs(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ut,{children:o.jsx(xt,{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Response Time"})}),o.jsx(Te,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Phone Support"}),o.jsx(Tt,{className:"bg-green-600",children:"Immediate"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Live Chat"}),o.jsx(Tt,{className:"bg-green-600",children:"Within 2 min"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Email Support"}),o.jsx(Tt,{className:"bg-yellow-600",children:"Within 24 hours"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Contact Form"}),o.jsx(Tt,{className:"bg-yellow-600",children:"Within 24 hours"})]})]})})]})]})]}),o.jsx("div",{className:"mt-8",children:o.jsx(Ie,{className:`${e?"bg-red-900 border-red-800":"bg-red-50 border-red-200"}`,children:o.jsxs(Te,{className:"p-6 text-center",children:[o.jsx("h3",{className:`text-lg font-semibold mb-2 ${e?"text-white":"text-red-800"}`,children:"Emergency Support"}),o.jsx("p",{className:`text-red-700 ${e?"text-gray-300":"text-gray-600"} mb-4`,children:"For urgent issues like food safety concerns or delivery emergencies"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(z,{className:`${e?"bg-red-800 hover:bg-red-900":"bg-red-600 hover:bg-red-700"}`,children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Emergency Hotline: +91 98765 43211"]}),o.jsxs(z,{variant:"outline",className:`${e?"border-red-800 text-red-800 hover:bg-red-800 hover:text-white":"border-red-500 text-red-600 hover:bg-red-600 hover:text-white"}`,children:[o.jsx(Kv,{className:"w-4 h-4 mr-2"}),"Emergency Chat"]})]})]})})})]})]})},bZ=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState("orderId"),[i,a]=d.useState(""),[l,c]=d.useState(!1),[u,h]=d.useState(null),p={id:"ORD123456789",status:"out_for_delivery",items:[{name:"Domino's Pizza Margherita",quantity:1,price:299},{name:"Coca Cola",quantity:2,price:60},{name:"Garlic Bread",quantity:1,price:120}],totalPrice:539,deliveryAddress:{name:"John Doe",address:"123 Main Street",city:"Kolkata",state:"West Bengal",pincode:"700001"},estimatedDeliveryTime:new Date(Date.now()+15*60*1e3),currentStep:4,deliveryPerson:{name:"Rahul Kumar",phone:"+91 98765 43210",vehicle:"Bike - KA-01-AB-1234"},timeline:[{step:1,title:"Order Placed",description:"Your order has been received",time:new Date(Date.now()-45*60*1e3),completed:!0,icon:"📋"},{step:2,title:"Order Confirmed",description:"Restaurant has confirmed your order",time:new Date(Date.now()-40*60*1e3),completed:!0,icon:"✅"},{step:3,title:"Preparing",description:"Your food is being prepared",time:new Date(Date.now()-30*60*1e3),completed:!0,icon:"👨‍🍳"},{step:4,title:"Out for Delivery",description:"Your order is on the way",time:new Date(Date.now()-5*60*1e3),completed:!0,icon:"🚚"},{step:5,title:"Delivered",description:"Enjoy your meal!",time:null,completed:!1,icon:"🎉"}]},m=async()=>{if(!i.trim()){U.error("Please enter your tracking information");return}c(!0),await new Promise(y=>setTimeout(y,2e3)),i.toLowerCase().includes("123")||i.toLowerCase().includes("98765")?(h(p),U.success("Order found!")):(h(null),U.error("Order not found. Please check your tracking information.")),c(!1)},g=y=>{switch(y){case"pending":return"bg-yellow-600";case"confirmed":return"bg-blue-600";case"preparing":return"bg-orange-600";case"out_for_delivery":return"bg-purple-600";case"delivered":return"bg-green-600";case"cancelled":return"bg-red-600";default:return"bg-gray-600"}},v=y=>{switch(y){case"pending":return"Pending";case"confirmed":return"Confirmed";case"preparing":return"Preparing";case"out_for_delivery":return"Out for Delivery";case"delivered":return"Delivered";case"cancelled":return"Cancelled";default:return"Unknown"}};return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Track Order"})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(ut,{children:o.jsx(xt,{className:"text-gray-800",children:"Track Your Order"})}),o.jsx(Te,{children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"orderId",className:"text-gray-700",children:"Order ID"}),o.jsx($e,{id:"orderId",type:"text",placeholder:"Enter order ID",value:i,onChange:y=>a(y.target.value),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsx($e,{id:"phone",type:"tel",placeholder:"Enter phone number",value:i,onChange:y=>a(y.target.value),className:"mt-1"})]})]}),o.jsx(z,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white",disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"w-4 h-4 mr-2 animate-spin"}),"Searching..."]}):o.jsxs(o.Fragment,{children:[o.jsx(xi,{className:"w-4 h-4 mr-2"}),"Track Order"]})})]})})]}),u&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs(xt,{className:"flex items-center justify-between text-gray-800",children:[o.jsxs("span",{children:["Order #",u.id]}),o.jsx(Tt,{className:g(u.status),children:v(u.status)})]})}),o.jsx(Te,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:"📦"}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Order Items"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[u.items.length," items"]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:"💰"}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Total Amount"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["₹",u.totalPrice]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:"⏰"}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Estimated Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:u.estimatedDeliveryTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})]}),o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsx(xt,{className:"text-gray-800",children:"Delivery Timeline"})}),o.jsx(Te,{children:o.jsx("div",{className:"space-y-4",children:u.timeline.map((y,b)=>o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm ${y.completed?"bg-orange-500":"bg-gray-300"}`,children:y.completed?"✓":b+1}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${y.completed?"text-gray-800":"text-gray-500"}`,children:y.title}),o.jsx("p",{className:`text-sm ${y.completed?"text-gray-600":"text-gray-400"}`,children:y.description}),y.time&&o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:y.time})]})]},b))})})]}),o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsx(xt,{className:"text-gray-800",children:"Order Items"})}),o.jsx(Te,{children:o.jsx("div",{className:"space-y-3",children:u.items.map((y,b)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(Ps,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:y.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",y.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["₹",y.price]})]},b))})})]}),o.jsxs(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsx(xt,{className:"text-gray-800",children:"Delivery Address"})}),o.jsx(Te,{children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(sn,{className:"w-5 h-5 text-orange-500 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-800",children:u.deliveryAddress.name}),o.jsxs("p",{className:"text-gray-600",children:[u.deliveryAddress.address,", ",u.deliveryAddress.city,", ",u.deliveryAddress.state," - ",u.deliveryAddress.pincode]})]})]})})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(z,{onClick:()=>t(`/current-order/${u.id}`),className:"flex-1 bg-orange-500 hover:bg-orange-600",children:[o.jsx(ls,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),o.jsxs(z,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Contact Support"]})]})]}),!u&&!l&&o.jsx(Ie,{className:"bg-white border border-gray-200 shadow-sm",children:o.jsxs(Te,{className:"p-8 text-center",children:[o.jsx(Ps,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Track Your Order"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Enter your order ID or phone number to track your order status"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(z,{onClick:()=>t("/past-orders"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:"View Order History"}),o.jsx(z,{variant:"outline",onClick:()=>t("/contact-us"),className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Need Help?"})]})]})})]})]})},EZ=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),r=[{label:"Happy Customers",value:"50,000+",icon:"😊"},{label:"Cities Served",value:"25+",icon:"🏙️"},{label:"Restaurant Partners",value:"500+",icon:"🍽️"},{label:"Orders Delivered",value:"1M+",icon:"📦"}],s=[{title:"Quality First",description:"We never compromise on food quality and safety standards.",icon:o.jsx(ZB,{className:"w-8 h-8"}),color:"bg-yellow-600"},{title:"Customer Satisfaction",description:"Your satisfaction is our top priority. We go above and beyond to exceed expectations.",icon:o.jsx(vi,{className:"w-8 h-8"}),color:"bg-red-600"},{title:"Fast Delivery",description:"We promise to deliver your food fresh and hot within 30 minutes.",icon:o.jsx(ls,{className:"w-8 h-8"}),color:"bg-green-600"},{title:"Trust & Safety",description:"Your safety and trust are paramount. We maintain the highest hygiene standards.",icon:o.jsx(na,{className:"w-8 h-8"}),color:"bg-blue-600"}],i=[{name:"Rahul Sharma",position:"CEO & Founder",image:"👨‍💼",description:"Former food industry executive with 15+ years of experience"},{name:"Priya Patel",position:"CTO",image:"👩‍💻",description:"Tech enthusiast leading our digital transformation"},{name:"Amit Kumar",position:"Head of Operations",image:"👨‍🔧",description:"Operations expert ensuring smooth delivery logistics"},{name:"Neha Singh",position:"Head of Customer Experience",image:"👩‍💼",description:"Customer advocate focused on exceptional service"}],a=[{year:"2023",title:"Best Food Delivery App",description:"Awarded by FoodTech India",icon:"🏆"},{year:"2023",title:"Fastest Growing Startup",description:"Recognized by Startup India",icon:"📈"},{year:"2022",title:"Customer Choice Award",description:"Highest rated delivery app",icon:"⭐"},{year:"2022",title:"Innovation in Logistics",description:"Awarded by Logistics India",icon:"🚀"}],l=[{year:"2020",title:"Company Founded",description:"Started with a vision to revolutionize food delivery"},{year:"2021",title:"First 1000 Orders",description:"Reached our first major milestone"},{year:"2022",title:"Expanded to 10 Cities",description:"Grew our presence across major cities"},{year:"2023",title:"1 Million Orders",description:"Celebrated delivering 1 million orders"}];return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"About Us"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Learn more about PickNGo"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Revolutionizing Food Delivery"}),o.jsx("p",{className:`text-xl max-w-3xl mx-auto ${e?"text-gray-300":"text-gray-600"}`,children:"At PickNGo, we believe that great food should be accessible to everyone, delivered fresh and fast. We're on a mission to connect people with their favorite restaurants through technology and exceptional service."})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:r.map((c,u)=>o.jsx(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Te,{className:"p-6",children:[o.jsx("div",{className:"text-3xl mb-2",children:c.icon}),o.jsx("div",{className:`text-2xl font-bold mb-1 ${e?"text-white":"text-gray-800"}`,children:c.value}),o.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:c.label})]})},u))}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[o.jsxs(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ut,{children:o.jsxs(xt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(gH,{className:"w-5 h-5"}),o.jsx("span",{children:"Our Mission"})]})}),o.jsx(Te,{children:o.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:"To provide the fastest, most reliable food delivery service while maintaining the highest standards of food quality, customer service, and safety. We strive to make ordering food as simple as possible while ensuring every meal arrives fresh and delicious."})})]}),o.jsxs(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ut,{children:o.jsxs(xt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(Qr,{className:"w-5 h-5"}),o.jsx("span",{children:"Our Vision"})]})}),o.jsx(Te,{children:o.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:"To become the most trusted and preferred food delivery platform in India, known for our commitment to quality, speed, and customer satisfaction. We envision a future where everyone can enjoy their favorite food delivered to their doorstep within minutes."})})]})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Values"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((c,u)=>o.jsx(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Te,{className:"p-6",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${c.color}`,children:c.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:c.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})},u))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Leadership Team"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((c,u)=>o.jsx(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Te,{className:"p-6",children:[o.jsx("div",{className:"text-4xl mb-3",children:c.image}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:c.name}),o.jsx("p",{className:"text-pickngo-orange-500 mb-2",children:c.position}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})},u))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Awards & Recognition"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map((c,u)=>o.jsx(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:o.jsx(Te,{className:"p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"text-3xl",children:c.icon}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Tt,{variant:"secondary",className:"bg-pickngo-orange-100 text-pickngo-orange-800",children:c.year}),o.jsx("h3",{className:`font-semibold ${e?"text-white":"text-gray-800"}`,children:c.title})]}),o.jsx("p",{className:`${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})]})})},u))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Journey"}),o.jsx("div",{className:"space-y-6",children:l.map((c,u)=>o.jsx(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:o.jsx(Te,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Tt,{className:"bg-pickngo-orange-500",children:c.year})}),o.jsxs("div",{children:[o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:c.title}),o.jsx("p",{className:`${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})]})})},u))})]}),o.jsxs(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ut,{children:o.jsx(xt,{className:`text-center ${e?"text-white":"text-gray-800"}`,children:"Get in Touch"})}),o.jsx(Te,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[o.jsxs("div",{children:[o.jsx(sn,{className:"w-6 h-6 mx-auto mb-2 text-pickngo-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Address"}),o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:["123 Food Street",o.jsx("br",{}),"Park Street Area",o.jsx("br",{}),"Kolkata, WB 700001"]})]}),o.jsxs("div",{children:[o.jsx(yr,{className:"w-6 h-6 mx-auto mb-2 text-pickngo-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Phone"}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"+91 98765 43210"})]}),o.jsxs("div",{children:[o.jsx(Hs,{className:"w-6 h-6 mx-auto mb-2 text-pickngo-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Email"}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"hello@pickngo.com"})]})]})})]}),o.jsx("div",{className:"text-center mt-8",children:o.jsx(z,{onClick:()=>t("/"),className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-lg px-8 py-3",children:"Start Ordering Now"})})]})]})},NZ=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState(null),[i,a]=d.useState(!1),[l,c]=d.useState({name:"",email:"",phone:"",position:"",experience:"",coverLetter:"",resume:null}),u=[{id:1,title:"Senior React Developer",department:"Engineering",location:"Kolkata, WB",type:"Full-time",experience:"3-5 years",salary:"₹8-15 LPA",description:"We are looking for a passionate React developer to join our team and help build amazing user experiences.",requirements:["Strong proficiency in React, TypeScript, and modern JavaScript","Experience with state management (Redux, Zustand)","Knowledge of responsive design and CSS frameworks","Experience with testing frameworks (Jest, React Testing Library)","Good understanding of REST APIs and GraphQL"],responsibilities:["Develop and maintain high-quality React applications","Collaborate with design and product teams","Write clean, maintainable, and well-documented code","Participate in code reviews and technical discussions","Mentor junior developers"]},{id:2,title:"Product Manager",department:"Product",location:"Remote",type:"Full-time",experience:"2-4 years",salary:"₹10-18 LPA",description:"Join our product team to help shape the future of food delivery and create amazing user experiences.",requirements:["Experience in product management or related field","Strong analytical and problem-solving skills","Excellent communication and collaboration abilities","Experience with agile methodologies","Knowledge of user research and data analysis"],responsibilities:["Define product strategy and roadmap","Gather and analyze user feedback","Work with engineering and design teams","Monitor product metrics and KPIs","Drive product launches and iterations"]},{id:3,title:"UI/UX Designer",department:"Design",location:"Mumbai, MH",type:"Full-time",experience:"2-4 years",salary:"₹6-12 LPA",description:"Create beautiful and intuitive user interfaces that delight our customers and drive business growth.",requirements:["Strong portfolio showcasing UI/UX work","Proficiency in design tools (Figma, Sketch, Adobe Creative Suite)","Understanding of user-centered design principles","Experience with mobile app design","Knowledge of design systems and component libraries"],responsibilities:["Design user interfaces and user experiences","Create wireframes, prototypes, and high-fidelity designs","Conduct user research and usability testing","Collaborate with product and engineering teams","Maintain and evolve our design system"]},{id:4,title:"Operations Manager",department:"Operations",location:"Delhi, NCR",type:"Full-time",experience:"3-6 years",salary:"₹8-15 LPA",description:"Lead our operations team to ensure smooth delivery operations and excellent customer service.",requirements:["Experience in operations management or logistics","Strong leadership and team management skills","Excellent problem-solving and decision-making abilities","Experience with process optimization","Knowledge of supply chain management"],responsibilities:["Manage day-to-day operations","Optimize delivery processes and efficiency","Lead and mentor operations team","Monitor and improve service quality","Develop and implement operational strategies"]},{id:5,title:"Marketing Specialist",department:"Marketing",location:"Bangalore, KA",type:"Full-time",experience:"1-3 years",salary:"₹5-10 LPA",description:"Help us grow our brand and reach more customers through creative marketing campaigns.",requirements:["Experience in digital marketing or related field","Knowledge of social media marketing and content creation","Experience with marketing analytics and tools","Creative thinking and strong communication skills","Understanding of customer acquisition and retention"],responsibilities:["Develop and execute marketing campaigns","Create engaging content for social media","Analyze marketing performance and optimize campaigns","Collaborate with creative and product teams","Manage brand presence across channels"]}],h=[{title:"Health & Wellness",description:"Comprehensive health insurance and wellness programs",icon:o.jsx(vi,{className:"w-6 h-6"}),color:"bg-red-600"},{title:"Learning & Growth",description:"Continuous learning opportunities and career development",icon:o.jsx(aH,{className:"w-6 h-6"}),color:"bg-blue-600"},{title:"Flexible Work",description:"Remote work options and flexible working hours",icon:o.jsx(UP,{className:"w-6 h-6"}),color:"bg-green-600"},{title:"Team Events",description:"Regular team building activities and social events",icon:o.jsx(wH,{className:"w-6 h-6"}),color:"bg-purple-600"}],p=v=>{s(v),c(y=>({...y,position:v.title})),a(!0)},m=async v=>{v.preventDefault(),await new Promise(y=>setTimeout(y,2e3)),U.success("Application submitted successfully! We will get back to you soon."),a(!1),c({name:"",email:"",phone:"",position:"",experience:"",coverLetter:"",resume:null})},g=(v,y)=>{c(b=>({...b,[v]:y}))};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Careers"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Join our amazing team"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Join Our Team"}),o.jsx("p",{className:`text-xl max-w-3xl mx-auto ${e?"text-gray-300":"text-gray-600"}`,children:"Be part of a team that's revolutionizing food delivery. We're looking for passionate individuals who want to make a difference and grow with us."})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Why Work With Us"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((v,y)=>o.jsx(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Te,{className:"p-6",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${v.color}`,children:v.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:v.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:v.description})]})},y))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Open Positions"}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.map(v=>o.jsxs(Ie,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:shadow-lg transition-shadow`,children:[o.jsx(ut,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(xt,{className:`text-xl ${e?"text-white":"text-gray-800"}`,children:v.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:v.department})]}),o.jsx(Tt,{className:"bg-pickngo-orange-500",children:v.type})]})}),o.jsxs(Te,{children:[o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(sn,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:v.location})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ka,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:v.experience})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(iH,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:v.salary})]})]}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:v.description})]}),o.jsx(z,{onClick:()=>p(v),className:"w-full bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:"Apply Now"})]})]},v.id))})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs(Ie,{className:"bg-white border border-gray-200 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(ut,{children:o.jsxs(xt,{className:"flex items-center justify-between text-gray-800",children:[o.jsxs("span",{children:["Apply for ",r==null?void 0:r.title]}),o.jsx(z,{variant:"ghost",size:"icon",onClick:()=>a(!1),className:"text-gray-600 hover:text-pickngo-orange-500",children:"✕"})]})}),o.jsx(Te,{children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"name",className:"text-gray-800",children:"Full Name *"}),o.jsx($e,{id:"name",value:l.name,onChange:v=>g("name",v.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"email",className:"text-gray-800",children:"Email Address *"}),o.jsx($e,{id:"email",type:"email",value:l.email,onChange:v=>g("email",v.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your email"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"phone",className:"text-gray-800",children:"Phone Number *"}),o.jsx($e,{id:"phone",type:"tel",value:l.phone,onChange:v=>g("phone",v.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your phone number"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"experience",className:"text-gray-800",children:"Years of Experience *"}),o.jsxs(Zm,{value:l.experience,onValueChange:v=>g("experience",v),children:[o.jsx(Ud,{className:"bg-white border-gray-300 text-gray-800",children:o.jsx(Xm,{placeholder:"Select experience level"})}),o.jsxs(zd,{children:[o.jsx(cn,{value:"0-1",children:"0-1 years"}),o.jsx(cn,{value:"1-3",children:"1-3 years"}),o.jsx(cn,{value:"3-5",children:"3-5 years"}),o.jsx(cn,{value:"5-8",children:"5-8 years"}),o.jsx(cn,{value:"8+",children:"8+ years"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"coverLetter",className:"text-gray-800",children:"Cover Letter *"}),o.jsx(wb,{id:"coverLetter",value:l.coverLetter,onChange:v=>g("coverLetter",v.target.value),required:!0,rows:5,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Tell us why you're interested in this position and what makes you a great fit..."})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"resume",className:"text-gray-800",children:"Resume/CV *"}),o.jsx($e,{id:"resume",type:"file",accept:".pdf,.doc,.docx",onChange:v=>g("resume",v.target.files[0]),required:!0,className:"bg-white border-gray-300 text-gray-800 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-pickngo-orange-500 file:text-white hover:file:bg-pickngo-orange-600"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted formats: PDF, DOC, DOCX (Max 5MB)"})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(z,{type:"submit",className:"flex-1 bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:"Submit Application"}),o.jsx(z,{type:"button",variant:"outline",onClick:()=>a(!1),className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"})]})]})})]})}),o.jsx(Ie,{className:"bg-white border border-gray-200",children:o.jsxs(Te,{className:"p-8 text-center",children:[o.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Don't see a perfect fit?"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"We're always looking for talented individuals to join our team. Send us your resume and we'll keep you in mind for future opportunities."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(z,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Send Resume"]}),o.jsxs(z,{variant:"outline",className:"border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Contact HR"]})]})]})})]})]})},CZ=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState("overview");return o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Privacy Policy"}),o.jsx("p",{className:"text-sm text-gray-600",children:"How we protect your data"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[o.jsx("div",{className:"mb-6 p-4 bg-pickngo-orange-50 border border-pickngo-orange-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(DP,{className:"w-5 h-5 text-pickngo-orange-600"}),o.jsx("span",{className:"text-sm font-medium text-pickngo-orange-800",children:"Last updated: December 15, 2024"})]})}),o.jsx(Ie,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Te,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Introduction"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"At PickNGo Instant Grub, we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our food delivery service."}),o.jsx("p",{className:"text-gray-600",children:"By using our service, you agree to the collection and use of information in accordance with this policy."})]})}),o.jsx(Ie,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Te,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Information We Collect"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx($i,{className:"w-5 h-5 mr-2 text-pickngo-orange-500"}),"Personal Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"Name and contact information (email, phone number)"}),o.jsx("li",{children:"Delivery address and location data"}),o.jsx("li",{children:"Payment information (processed securely through our payment partners)"}),o.jsx("li",{children:"Account credentials and profile information"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(op,{className:"w-5 h-5 mr-2 text-pickngo-orange-500"}),"Device and Usage Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"Device type, operating system, and browser information"}),o.jsx("li",{children:"IP address and general location data"}),o.jsx("li",{children:"App usage patterns and preferences"}),o.jsx("li",{children:"Order history and delivery preferences"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(sn,{className:"w-5 h-5 mr-2 text-pickngo-orange-500"}),"Location Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"GPS location for delivery services"}),o.jsx("li",{children:"Address book contacts (with permission)"}),o.jsx("li",{children:"Real-time location tracking during delivery"})]})]})]})]})}),o.jsx(Ie,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Te,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"How We Use Your Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(ls,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Service Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Process orders and coordinate deliveries"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(na,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Security"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Prevent fraud and ensure account security"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(uH,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Communication"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Send order updates and support messages"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(eH,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Analytics"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Improve our service and user experience"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx($P,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Personalization"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Provide relevant recommendations"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(Yv,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Account Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage your account and preferences"})]})]})]})]})]})}),o.jsx(Ie,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Te,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Information Sharing"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We do not sell, trade, or rent your personal information to third parties. We may share your information only in the following circumstances:"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full mt-1",children:o.jsx(JB,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Restaurant Partners"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Share order details with restaurants to fulfill your orders"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full mt-1",children:o.jsx(ls,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Delivery Partners"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Provide necessary information to delivery drivers"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full mt-1",children:o.jsx(na,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Legal Requirements"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Comply with applicable laws and regulations"})]})]})]})]})}),o.jsx(Ie,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Te,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Data Security"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We implement industry-standard security measures to protect your personal information:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Jc,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"SSL encryption for data transmission"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Jc,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Secure payment processing"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Jc,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Regular security audits"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Jc,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Access controls and authentication"})]})]})]})}),o.jsx(Ie,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Te,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Your Rights"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"You have the following rights regarding your personal information:"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(bu,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Access"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request access to your personal data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(Mw,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Correction"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request correction of inaccurate data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(dc,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Deletion"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request deletion of your personal data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(XB,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Objection"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Object to processing of your data"})]})]})]})]})}),o.jsx(Ie,{className:"bg-white border border-gray-200",children:o.jsxs(Te,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Contact Us"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Hs,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"privacy@pickngo.com"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(yr,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"+1 (555) 123-4567"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(sn,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"123 Food Street, Delivery City, DC 12345"})]})]})]})})]})]})},_Z=({children:t})=>{const{banStatus:e,user:n}=yc(),{isDarkMode:r}=Yt();if(n&&e.isBanned){const s=async()=>{try{await D2(Et),U.success("Signed out successfully")}catch(c){console.error("Error signing out:",c),U.error("Failed to sign out")}},i=c=>c?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(c):"Unknown",a=!e.banExpiry,l=e.banExpiry&&new Date>e.banExpiry;return o.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 ${r?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:o.jsxs(Ie,{className:`max-w-md w-full ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsxs(ut,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx(na,{className:"w-8 h-8 text-red-600"})}),o.jsx(xt,{className:`text-xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Account Suspended"})]}),o.jsxs(Te,{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:`text-sm ${r?"text-gray-300":"text-gray-600"} mb-4`,children:"Your account has been suspended due to a violation of our terms of service."}),e.banReason&&o.jsx("div",{className:`p-3 rounded-lg mb-4 ${r?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"} border`,children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(vH,{className:"w-4 h-4 text-orange-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-gray-900"}`,children:"Reason:"}),o.jsx("p",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:e.banReason})]})]})}),o.jsx("div",{className:`p-3 rounded-lg mb-4 ${r?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"} border`,children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(ka,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-gray-900"}`,children:a?"Permanent Ban":"Temporary Ban"}),o.jsxs("p",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:["Banned on: ",i(e.banDate)]}),e.banExpiry&&o.jsxs("p",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:["Expires: ",i(e.banExpiry)]})]})]})}),l&&o.jsx("div",{className:`p-3 rounded-lg mb-4 ${r?"bg-green-900 border-green-700":"bg-green-50 border-green-200"} border`,children:o.jsx("p",{className:`text-sm font-medium text-green-600 ${r?"text-green-400":"text-green-700"}`,children:"✅ Your ban has expired! You can now use the app normally."})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(z,{onClick:s,variant:"outline",className:`w-full ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(hc,{className:"w-4 h-4 mr-2"}),"Sign Out"]}),!a&&!l&&o.jsx("p",{className:`text-xs text-center ${r?"text-gray-400":"text-gray-500"}`,children:"Your account will be automatically restored when the ban expires."})]})]})]})})}return e.isLoading?o.jsx("div",{className:`min-h-screen flex items-center justify-center ${r?"bg-gray-900":"bg-gray-50"}`,children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Checking account status..."})]})}):o.jsx(o.Fragment,{children:t})},SZ=new hV,OM=d.createContext(void 0),Yt=()=>{const t=d.useContext(OM);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},VM=d.createContext(void 0),ng=()=>{const t=d.useContext(VM);if(!t)throw new Error("useSelectedAddress must be used within a SelectedAddressProvider");return t},jZ=({children:t})=>{const[e,n]=d.useState(!1);d.useEffect(()=>{const c=localStorage.getItem("darkMode")==="true";n(c),r(c)},[]);const r=l=>{l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},s=()=>{const l=!e;n(l),localStorage.setItem("darkMode",l.toString()),r(l),Et.currentUser&&a(Et.currentUser.uid,l)},i=l=>{n(l),localStorage.setItem("darkMode",l.toString()),r(l),Et.currentUser&&a(Et.currentUser.uid,l)},a=async(l,c)=>{try{const u=Ct(Fe,"users",l);await In(u,{"settings.darkMode":c,updatedAt:new Date})}catch(u){console.error("Error updating theme in Firestore:",u)}};return o.jsx(OM.Provider,{value:{isDarkMode:e,toggleDarkMode:s,setDarkMode:i},children:t})},kZ=()=>{const[t,e]=d.useState(()=>{const a=localStorage.getItem("pickngo-selected-address");return a?JSON.parse(a):null}),[n,r]=d.useState(!1);d.useEffect(()=>{(async()=>{try{await HB(),await qB(),console.log("Firebase data initialized successfully")}catch(l){console.error("Error initializing Firebase data:",l)}})()},[]),d.useEffect(()=>{t?localStorage.setItem("pickngo-selected-address",JSON.stringify(t)):localStorage.removeItem("pickngo-selected-address")},[t]),d.useEffect(()=>{(async()=>{try{const l=await H$(Et);l&&(U.success("Google sign-in successful!"),await s(l.user))}catch(l){console.error("Google sign-in redirect error:",l),U.error("Google sign-in failed. Please try again.")}})()},[]),d.useEffect(()=>{const a=Et.onAuthStateChanged(async l=>{l?await s(l):r(!1)});return()=>a()},[]);const s=async a=>{var l;try{const c=await ya(Ct(Fe,"users",a.uid));(!c.exists()||!((l=c.data())!=null&&l.isOnboarded))&&r(!0)}catch(c){console.error("Error checking user onboarding status:",c)}},i=()=>{r(!1)};return o.jsx(pV,{client:SZ,children:o.jsx(jZ,{children:o.jsx(VM.Provider,{value:{selectedAddress:t,setSelectedAddress:e},children:o.jsxs(sq,{children:[o.jsxs(z3,{children:[o.jsx(d5,{position:"bottom-right"}),o.jsx(uF,{children:o.jsx(_Z,{children:o.jsxs(aF,{children:[o.jsx(wn,{path:"/",element:o.jsx(JQ,{})}),o.jsx(wn,{path:"/food",element:o.jsx(eY,{})}),o.jsx(wn,{path:"/daily-essential",element:o.jsx(tY,{})}),o.jsx(wn,{path:"/drinks",element:o.jsx(nY,{})}),o.jsx(wn,{path:"/all-categories",element:o.jsx(eZ,{})}),o.jsx(wn,{path:"/profile",element:o.jsx(rY,{})}),o.jsx(wn,{path:"/past-orders",element:o.jsx(sY,{})}),o.jsx(wn,{path:"/current-order/:orderId",element:o.jsx(hY,{})}),o.jsx(wn,{path:"/settings",element:o.jsx(KY,{})}),o.jsx(wn,{path:"/address",element:o.jsx(QY,{})}),o.jsx(wn,{path:"/help-center",element:o.jsx(xZ,{})}),o.jsx(wn,{path:"/contact-us",element:o.jsx(wZ,{})}),o.jsx(wn,{path:"/track-order",element:o.jsx(bZ,{})}),o.jsx(wn,{path:"/about-us",element:o.jsx(EZ,{})}),o.jsx(wn,{path:"/careers",element:o.jsx(NZ,{})}),o.jsx(wn,{path:"/privacy-policy",element:o.jsx(CZ,{})}),o.jsx(wn,{path:"*",element:o.jsx(YY,{})})]})})})]}),o.jsx(uA,{isOpen:n,onComplete:i})]})})})})};Uk(document.getElementById("root")).render(o.jsx(kZ,{}));
