var Jb=t=>{throw TypeError(t)};var ug=(t,e,n)=>e.has(t)||Jb("Cannot "+n);var se=(t,e,n)=>(ug(t,e,"read from private field"),n?n.call(t):e.get(t)),vt=(t,e,n)=>e.has(t)?Jb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ke=(t,e,n,r)=>(ug(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Vn=(t,e,n)=>(ug(t,e,"access private method"),n);var Jd=(t,e,n,r)=>({set _(s){Ke(t,e,s,n)},get _(){return se(t,e,r)}});function rD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function wS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bS={exports:{}},bp={},ES={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=Symbol.for("react.element"),sD=Symbol.for("react.portal"),iD=Symbol.for("react.fragment"),oD=Symbol.for("react.strict_mode"),aD=Symbol.for("react.profiler"),lD=Symbol.for("react.provider"),cD=Symbol.for("react.context"),uD=Symbol.for("react.forward_ref"),dD=Symbol.for("react.suspense"),hD=Symbol.for("react.memo"),fD=Symbol.for("react.lazy"),e1=Symbol.iterator;function pD(t){return t===null||typeof t!="object"?null:(t=e1&&t[e1]||t["@@iterator"],typeof t=="function"?t:null)}var NS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CS=Object.assign,_S={};function ql(t,e,n){this.props=t,this.context=e,this.refs=_S,this.updater=n||NS}ql.prototype.isReactComponent={};ql.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ql.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SS(){}SS.prototype=ql.prototype;function h0(t,e,n){this.props=t,this.context=e,this.refs=_S,this.updater=n||NS}var f0=h0.prototype=new SS;f0.constructor=h0;CS(f0,ql.prototype);f0.isPureReactComponent=!0;var t1=Array.isArray,jS=Object.prototype.hasOwnProperty,p0={current:null},kS={key:!0,ref:!0,__self:!0,__source:!0};function IS(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)jS.call(e,r)&&!kS.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:hd,type:t,key:i,ref:a,props:s,_owner:p0.current}}function mD(t,e){return{$$typeof:hd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function m0(t){return typeof t=="object"&&t!==null&&t.$$typeof===hd}function gD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n1=/\/+/g;function dg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gD(""+t.key):e.toString(36)}function Rh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case hd:case sD:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+dg(a,0):r,t1(s)?(n="",t!=null&&(n=t.replace(n1,"$&/")+"/"),Rh(s,e,n,"",function(u){return u})):s!=null&&(m0(s)&&(s=mD(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(n1,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",t1(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+dg(i,l);a+=Rh(i,e,n,c,s)}else if(c=pD(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+dg(i,l++),a+=Rh(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function eh(t,e,n){if(t==null)return t;var r=[],s=0;return Rh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function yD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tr={current:null},Lh={transition:null},vD={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:Lh,ReactCurrentOwner:p0};function TS(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:eh,forEach:function(t,e,n){eh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return eh(t,function(){e++}),e},toArray:function(t){return eh(t,function(e){return e})||[]},only:function(t){if(!m0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};it.Component=ql;it.Fragment=iD;it.Profiler=aD;it.PureComponent=h0;it.StrictMode=oD;it.Suspense=dD;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vD;it.act=TS;it.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CS({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=p0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)jS.call(e,c)&&!kS.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:hd,type:t.type,key:s,ref:i,props:r,_owner:a}};it.createContext=function(t){return t={$$typeof:cD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lD,_context:t},t.Consumer=t};it.createElement=IS;it.createFactory=function(t){var e=IS.bind(null,t);return e.type=t,e};it.createRef=function(){return{current:null}};it.forwardRef=function(t){return{$$typeof:uD,render:t}};it.isValidElement=m0;it.lazy=function(t){return{$$typeof:fD,_payload:{_status:-1,_result:t},_init:yD}};it.memo=function(t,e){return{$$typeof:hD,type:t,compare:e===void 0?null:e}};it.startTransition=function(t){var e=Lh.transition;Lh.transition={};try{t()}finally{Lh.transition=e}};it.unstable_act=TS;it.useCallback=function(t,e){return tr.current.useCallback(t,e)};it.useContext=function(t){return tr.current.useContext(t)};it.useDebugValue=function(){};it.useDeferredValue=function(t){return tr.current.useDeferredValue(t)};it.useEffect=function(t,e){return tr.current.useEffect(t,e)};it.useId=function(){return tr.current.useId()};it.useImperativeHandle=function(t,e,n){return tr.current.useImperativeHandle(t,e,n)};it.useInsertionEffect=function(t,e){return tr.current.useInsertionEffect(t,e)};it.useLayoutEffect=function(t,e){return tr.current.useLayoutEffect(t,e)};it.useMemo=function(t,e){return tr.current.useMemo(t,e)};it.useReducer=function(t,e,n){return tr.current.useReducer(t,e,n)};it.useRef=function(t){return tr.current.useRef(t)};it.useState=function(t){return tr.current.useState(t)};it.useSyncExternalStore=function(t,e,n){return tr.current.useSyncExternalStore(t,e,n)};it.useTransition=function(){return tr.current.useTransition()};it.version="18.3.1";ES.exports=it;var d=ES.exports;const de=wS(d),g0=rD({__proto__:null,default:de},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xD=d,wD=Symbol.for("react.element"),bD=Symbol.for("react.fragment"),ED=Object.prototype.hasOwnProperty,ND=xD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CD={key:!0,ref:!0,__self:!0,__source:!0};function PS(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)ED.call(e,r)&&!CD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:wD,type:t,key:i,ref:a,props:s,_owner:ND.current}}bp.Fragment=bD;bp.jsx=PS;bp.jsxs=PS;bS.exports=bp;var o=bS.exports,AS={exports:{}},Pr={},RS={exports:{}},LS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,D){var B=O.length;O.push(D);e:for(;0<B;){var V=B-1>>>1,U=O[V];if(0<s(U,D))O[V]=D,O[B]=U,B=V;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var D=O[0],B=O.pop();if(B!==D){O[0]=B;e:for(var V=0,U=O.length,Q=U>>>1;V<Q;){var ie=2*(V+1)-1,q=O[ie],ge=ie+1,J=O[ge];if(0>s(q,B))ge<U&&0>s(J,q)?(O[V]=J,O[ge]=B,V=ge):(O[V]=q,O[ie]=B,V=ie);else if(ge<U&&0>s(J,B))O[V]=J,O[ge]=B,V=ge;else break e}}return D}function s(O,D){var B=O.sortIndex-D.sortIndex;return B!==0?B:O.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,p=null,m=3,g=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(O){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=O)r(u),D.sortIndex=D.expirationTime,e(c,D);else break;D=n(u)}}function k(O){if(y=!1,N(O),!v)if(n(c)!==null)v=!0,F(A);else{var D=n(u);D!==null&&W(k,D.startTime-O)}}function A(O,D){v=!1,y&&(y=!1,w(_),_=-1),g=!0;var B=m;try{for(N(D),p=n(c);p!==null&&(!(p.expirationTime>D)||O&&!I());){var V=p.callback;if(typeof V=="function"){p.callback=null,m=p.priorityLevel;var U=V(p.expirationTime<=D);D=t.unstable_now(),typeof U=="function"?p.callback=U:p===n(c)&&r(c),N(D)}else r(c);p=n(c)}if(p!==null)var Q=!0;else{var ie=n(u);ie!==null&&W(k,ie.startTime-D),Q=!1}return Q}finally{p=null,m=B,g=!1}}var R=!1,C=null,_=-1,S=5,T=-1;function I(){return!(t.unstable_now()-T<S)}function P(){if(C!==null){var O=t.unstable_now();T=O;var D=!0;try{D=C(!0,O)}finally{D?L():(R=!1,C=null)}}else R=!1}var L;if(typeof x=="function")L=function(){x(P)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,$=G.port2;G.port1.onmessage=P,L=function(){$.postMessage(null)}}else L=function(){b(P,0)};function F(O){C=O,R||(R=!0,L())}function W(O,D){_=b(function(){O(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,F(A))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var B=m;m=D;try{return O()}finally{m=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,D){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=m;m=O;try{return D()}finally{m=B}},t.unstable_scheduleCallback=function(O,D,B){var V=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?V+B:V):B=V,O){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=B+U,O={id:h++,callback:D,priorityLevel:O,startTime:B,expirationTime:U,sortIndex:-1},B>V?(O.sortIndex=B,e(u,O),n(c)===null&&O===n(u)&&(y?(w(_),_=-1):y=!0,W(k,B-V))):(O.sortIndex=U,e(c,O),v||g||(v=!0,F(A))),O},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(O){var D=m;return function(){var B=m;m=D;try{return O.apply(this,arguments)}finally{m=B}}}})(LS);RS.exports=LS;var _D=RS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SD=d,Tr=_D;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MS=new Set,Eu={};function Ea(t,e){jl(t,e),jl(t+"Capture",e)}function jl(t,e){for(Eu[t]=e,t=0;t<e.length;t++)MS.add(e[t])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),py=Object.prototype.hasOwnProperty,jD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r1={},s1={};function kD(t){return py.call(s1,t)?!0:py.call(r1,t)?!1:jD.test(t)?s1[t]=!0:(r1[t]=!0,!1)}function ID(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TD(t,e,n,r){if(e===null||typeof e>"u"||ID(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nr(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tn[t]=new nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tn[e]=new nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tn[t]=new nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tn[t]=new nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tn[t]=new nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tn[t]=new nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tn[t]=new nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tn[t]=new nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tn[t]=new nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var y0=/[\-:]([a-z])/g;function v0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(y0,v0);Tn[e]=new nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(y0,v0);Tn[e]=new nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(y0,v0);Tn[e]=new nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tn[t]=new nr(t,1,!1,t.toLowerCase(),null,!1,!1)});Tn.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tn[t]=new nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function x0(t,e,n,r){var s=Tn.hasOwnProperty(e)?Tn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TD(e,n,s,r)&&(n=null),r||s===null?kD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wi=SD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,th=Symbol.for("react.element"),Ba=Symbol.for("react.portal"),Ha=Symbol.for("react.fragment"),w0=Symbol.for("react.strict_mode"),my=Symbol.for("react.profiler"),DS=Symbol.for("react.provider"),OS=Symbol.for("react.context"),b0=Symbol.for("react.forward_ref"),gy=Symbol.for("react.suspense"),yy=Symbol.for("react.suspense_list"),E0=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),VS=Symbol.for("react.offscreen"),i1=Symbol.iterator;function _c(t){return t===null||typeof t!="object"?null:(t=i1&&t[i1]||t["@@iterator"],typeof t=="function"?t:null)}var Kt=Object.assign,hg;function Fc(t){if(hg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hg=e&&e[1]||""}return`
`+hg+t}var fg=!1;function pg(t,e){if(!t||fg)return"";fg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{fg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fc(t):""}function PD(t){switch(t.tag){case 5:return Fc(t.type);case 16:return Fc("Lazy");case 13:return Fc("Suspense");case 19:return Fc("SuspenseList");case 0:case 2:case 15:return t=pg(t.type,!1),t;case 11:return t=pg(t.type.render,!1),t;case 1:return t=pg(t.type,!0),t;default:return""}}function vy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ha:return"Fragment";case Ba:return"Portal";case my:return"Profiler";case w0:return"StrictMode";case gy:return"Suspense";case yy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OS:return(t.displayName||"Context")+".Consumer";case DS:return(t._context.displayName||"Context")+".Provider";case b0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case E0:return e=t.displayName||null,e!==null?e:vy(t.type)||"Memo";case Ai:e=t._payload,t=t._init;try{return vy(t(e))}catch{}}return null}function AD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vy(e);case 8:return e===w0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RD(t){var e=FS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nh(t){t._valueTracker||(t._valueTracker=RD(t))}function $S(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function of(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xy(t,e){var n=e.checked;return Kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function o1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function US(t,e){e=e.checked,e!=null&&x0(t,"checked",e,!1)}function wy(t,e){US(t,e);var n=fo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?by(t,e.type,n):e.hasOwnProperty("defaultValue")&&by(t,e.type,fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function by(t,e,n){(e!=="number"||of(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $c=Array.isArray;function rl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ey(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return Kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if($c(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fo(n)}}function zS(t,e){var n=fo(e.value),r=fo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function c1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function BS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ny(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rh,HS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rh=rh||document.createElement("div"),rh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LD=["Webkit","ms","Moz","O"];Object.keys(nu).forEach(function(t){LD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nu[e]=nu[t]})});function WS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nu.hasOwnProperty(t)&&nu[t]?(""+e).trim():e+"px"}function qS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=WS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var MD=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cy(t,e){if(e){if(MD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function _y(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sy=null;function N0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jy=null,sl=null,il=null;function u1(t){if(t=md(t)){if(typeof jy!="function")throw Error(he(280));var e=t.stateNode;e&&(e=Sp(e),jy(t.stateNode,t.type,e))}}function GS(t){sl?il?il.push(t):il=[t]:sl=t}function KS(){if(sl){var t=sl,e=il;if(il=sl=null,u1(t),e)for(t=0;t<e.length;t++)u1(e[t])}}function QS(t,e){return t(e)}function YS(){}var mg=!1;function ZS(t,e,n){if(mg)return t(e,n);mg=!0;try{return QS(t,e,n)}finally{mg=!1,(sl!==null||il!==null)&&(YS(),KS())}}function Cu(t,e){var n=t.stateNode;if(n===null)return null;var r=Sp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var ky=!1;if(li)try{var Sc={};Object.defineProperty(Sc,"passive",{get:function(){ky=!0}}),window.addEventListener("test",Sc,Sc),window.removeEventListener("test",Sc,Sc)}catch{ky=!1}function DD(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var ru=!1,af=null,lf=!1,Iy=null,OD={onError:function(t){ru=!0,af=t}};function VD(t,e,n,r,s,i,a,l,c){ru=!1,af=null,DD.apply(OD,arguments)}function FD(t,e,n,r,s,i,a,l,c){if(VD.apply(this,arguments),ru){if(ru){var u=af;ru=!1,af=null}else throw Error(he(198));lf||(lf=!0,Iy=u)}}function Na(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d1(t){if(Na(t)!==t)throw Error(he(188))}function $D(t){var e=t.alternate;if(!e){if(e=Na(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return d1(s),t;if(i===r)return d1(s),e;i=i.sibling}throw Error(he(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function JS(t){return t=$D(t),t!==null?ej(t):null}function ej(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ej(t);if(e!==null)return e;t=t.sibling}return null}var tj=Tr.unstable_scheduleCallback,h1=Tr.unstable_cancelCallback,UD=Tr.unstable_shouldYield,zD=Tr.unstable_requestPaint,on=Tr.unstable_now,BD=Tr.unstable_getCurrentPriorityLevel,C0=Tr.unstable_ImmediatePriority,nj=Tr.unstable_UserBlockingPriority,cf=Tr.unstable_NormalPriority,HD=Tr.unstable_LowPriority,rj=Tr.unstable_IdlePriority,Ep=null,Ms=null;function WD(t){if(Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(Ep,t,void 0,(t.current.flags&128)===128)}catch{}}var ds=Math.clz32?Math.clz32:KD,qD=Math.log,GD=Math.LN2;function KD(t){return t>>>=0,t===0?32:31-(qD(t)/GD|0)|0}var sh=64,ih=4194304;function Uc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Uc(l):(i&=a,i!==0&&(r=Uc(i)))}else a=n&~s,a!==0?r=Uc(a):i!==0&&(r=Uc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ds(e),s=1<<n,r|=t[n],e&=~s;return r}function QD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-ds(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=QD(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Ty(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sj(){var t=sh;return sh<<=1,!(sh&4194240)&&(sh=64),t}function gg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ds(e),t[e]=n}function ZD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ds(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function _0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ds(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var jt=0;function ij(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oj,S0,aj,lj,cj,Py=!1,oh=[],Ji=null,eo=null,to=null,_u=new Map,Su=new Map,Mi=[],XD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f1(t,e){switch(t){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":_u.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(e.pointerId)}}function jc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=md(e),e!==null&&S0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function JD(t,e,n,r,s){switch(e){case"focusin":return Ji=jc(Ji,t,e,n,r,s),!0;case"dragenter":return eo=jc(eo,t,e,n,r,s),!0;case"mouseover":return to=jc(to,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return _u.set(i,jc(_u.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Su.set(i,jc(Su.get(i)||null,t,e,n,r,s)),!0}return!1}function uj(t){var e=$o(t.target);if(e!==null){var n=Na(e);if(n!==null){if(e=n.tag,e===13){if(e=XS(n),e!==null){t.blockedOn=e,cj(t.priority,function(){aj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ay(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sy=r,n.target.dispatchEvent(r),Sy=null}else return e=md(n),e!==null&&S0(e),t.blockedOn=n,!1;e.shift()}return!0}function p1(t,e,n){Mh(t)&&n.delete(e)}function eO(){Py=!1,Ji!==null&&Mh(Ji)&&(Ji=null),eo!==null&&Mh(eo)&&(eo=null),to!==null&&Mh(to)&&(to=null),_u.forEach(p1),Su.forEach(p1)}function kc(t,e){t.blockedOn===e&&(t.blockedOn=null,Py||(Py=!0,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,eO)))}function ju(t){function e(s){return kc(s,t)}if(0<oh.length){kc(oh[0],t);for(var n=1;n<oh.length;n++){var r=oh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ji!==null&&kc(Ji,t),eo!==null&&kc(eo,t),to!==null&&kc(to,t),_u.forEach(e),Su.forEach(e),n=0;n<Mi.length;n++)r=Mi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mi.length&&(n=Mi[0],n.blockedOn===null);)uj(n),n.blockedOn===null&&Mi.shift()}var ol=wi.ReactCurrentBatchConfig,df=!0;function tO(t,e,n,r){var s=jt,i=ol.transition;ol.transition=null;try{jt=1,j0(t,e,n,r)}finally{jt=s,ol.transition=i}}function nO(t,e,n,r){var s=jt,i=ol.transition;ol.transition=null;try{jt=4,j0(t,e,n,r)}finally{jt=s,ol.transition=i}}function j0(t,e,n,r){if(df){var s=Ay(t,e,n,r);if(s===null)Sg(t,e,r,hf,n),f1(t,r);else if(JD(s,t,e,n,r))r.stopPropagation();else if(f1(t,r),e&4&&-1<XD.indexOf(t)){for(;s!==null;){var i=md(s);if(i!==null&&oj(i),i=Ay(t,e,n,r),i===null&&Sg(t,e,r,hf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Sg(t,e,r,null,n)}}var hf=null;function Ay(t,e,n,r){if(hf=null,t=N0(r),t=$o(t),t!==null)if(e=Na(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hf=t,null}function dj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BD()){case C0:return 1;case nj:return 4;case cf:case HD:return 16;case rj:return 536870912;default:return 16}default:return 16}}var qi=null,k0=null,Dh=null;function hj(){if(Dh)return Dh;var t,e=k0,n=e.length,r,s="value"in qi?qi.value:qi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Dh=s.slice(t,1<r?1-r:void 0)}function Oh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ah(){return!0}function m1(){return!1}function Ar(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ah:m1,this.isPropagationStopped=m1,this}return Kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ah)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ah)},persist:function(){},isPersistent:ah}),e}var Gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I0=Ar(Gl),pd=Kt({},Gl,{view:0,detail:0}),rO=Ar(pd),yg,vg,Ic,Np=Kt({},pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ic&&(Ic&&t.type==="mousemove"?(yg=t.screenX-Ic.screenX,vg=t.screenY-Ic.screenY):vg=yg=0,Ic=t),yg)},movementY:function(t){return"movementY"in t?t.movementY:vg}}),g1=Ar(Np),sO=Kt({},Np,{dataTransfer:0}),iO=Ar(sO),oO=Kt({},pd,{relatedTarget:0}),xg=Ar(oO),aO=Kt({},Gl,{animationName:0,elapsedTime:0,pseudoElement:0}),lO=Ar(aO),cO=Kt({},Gl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uO=Ar(cO),dO=Kt({},Gl,{data:0}),y1=Ar(dO),hO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pO[t])?!!e[t]:!1}function T0(){return mO}var gO=Kt({},pd,{key:function(t){if(t.key){var e=hO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T0,charCode:function(t){return t.type==="keypress"?Oh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yO=Ar(gO),vO=Kt({},Np,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v1=Ar(vO),xO=Kt({},pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T0}),wO=Ar(xO),bO=Kt({},Gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),EO=Ar(bO),NO=Kt({},Np,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CO=Ar(NO),_O=[9,13,27,32],P0=li&&"CompositionEvent"in window,su=null;li&&"documentMode"in document&&(su=document.documentMode);var SO=li&&"TextEvent"in window&&!su,fj=li&&(!P0||su&&8<su&&11>=su),x1=" ",w1=!1;function pj(t,e){switch(t){case"keyup":return _O.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wa=!1;function jO(t,e){switch(t){case"compositionend":return mj(e);case"keypress":return e.which!==32?null:(w1=!0,x1);case"textInput":return t=e.data,t===x1&&w1?null:t;default:return null}}function kO(t,e){if(Wa)return t==="compositionend"||!P0&&pj(t,e)?(t=hj(),Dh=k0=qi=null,Wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fj&&e.locale!=="ko"?null:e.data;default:return null}}var IO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IO[t.type]:e==="textarea"}function gj(t,e,n,r){GS(r),e=ff(e,"onChange"),0<e.length&&(n=new I0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var iu=null,ku=null;function TO(t){jj(t,0)}function Cp(t){var e=Ka(t);if($S(e))return t}function PO(t,e){if(t==="change")return e}var yj=!1;if(li){var wg;if(li){var bg="oninput"in document;if(!bg){var E1=document.createElement("div");E1.setAttribute("oninput","return;"),bg=typeof E1.oninput=="function"}wg=bg}else wg=!1;yj=wg&&(!document.documentMode||9<document.documentMode)}function N1(){iu&&(iu.detachEvent("onpropertychange",vj),ku=iu=null)}function vj(t){if(t.propertyName==="value"&&Cp(ku)){var e=[];gj(e,ku,t,N0(t)),ZS(TO,e)}}function AO(t,e,n){t==="focusin"?(N1(),iu=e,ku=n,iu.attachEvent("onpropertychange",vj)):t==="focusout"&&N1()}function RO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cp(ku)}function LO(t,e){if(t==="click")return Cp(e)}function MO(t,e){if(t==="input"||t==="change")return Cp(e)}function DO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ps=typeof Object.is=="function"?Object.is:DO;function Iu(t,e){if(ps(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!py.call(e,s)||!ps(t[s],e[s]))return!1}return!0}function C1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _1(t,e){var n=C1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=C1(n)}}function xj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wj(){for(var t=window,e=of();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=of(t.document)}return e}function A0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OO(t){var e=wj(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xj(n.ownerDocument.documentElement,n)){if(r!==null&&A0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=_1(n,i);var a=_1(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VO=li&&"documentMode"in document&&11>=document.documentMode,qa=null,Ry=null,ou=null,Ly=!1;function S1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ly||qa==null||qa!==of(r)||(r=qa,"selectionStart"in r&&A0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ou&&Iu(ou,r)||(ou=r,r=ff(Ry,"onSelect"),0<r.length&&(e=new I0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qa)))}function lh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ga={animationend:lh("Animation","AnimationEnd"),animationiteration:lh("Animation","AnimationIteration"),animationstart:lh("Animation","AnimationStart"),transitionend:lh("Transition","TransitionEnd")},Eg={},bj={};li&&(bj=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function _p(t){if(Eg[t])return Eg[t];if(!Ga[t])return t;var e=Ga[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bj)return Eg[t]=e[n];return t}var Ej=_p("animationend"),Nj=_p("animationiteration"),Cj=_p("animationstart"),_j=_p("transitionend"),Sj=new Map,j1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function No(t,e){Sj.set(t,e),Ea(e,[t])}for(var Ng=0;Ng<j1.length;Ng++){var Cg=j1[Ng],FO=Cg.toLowerCase(),$O=Cg[0].toUpperCase()+Cg.slice(1);No(FO,"on"+$O)}No(Ej,"onAnimationEnd");No(Nj,"onAnimationIteration");No(Cj,"onAnimationStart");No("dblclick","onDoubleClick");No("focusin","onFocus");No("focusout","onBlur");No(_j,"onTransitionEnd");jl("onMouseEnter",["mouseout","mouseover"]);jl("onMouseLeave",["mouseout","mouseover"]);jl("onPointerEnter",["pointerout","pointerover"]);jl("onPointerLeave",["pointerout","pointerover"]);Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UO=new Set("cancel close invalid load scroll toggle".split(" ").concat(zc));function k1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,FD(r,e,void 0,t),t.currentTarget=null}function jj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;k1(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;k1(s,l,u),i=c}}}if(lf)throw t=Iy,lf=!1,Iy=null,t}function Vt(t,e){var n=e[Fy];n===void 0&&(n=e[Fy]=new Set);var r=t+"__bubble";n.has(r)||(kj(e,t,2,!1),n.add(r))}function _g(t,e,n){var r=0;e&&(r|=4),kj(n,t,r,e)}var ch="_reactListening"+Math.random().toString(36).slice(2);function Tu(t){if(!t[ch]){t[ch]=!0,MS.forEach(function(n){n!=="selectionchange"&&(UO.has(n)||_g(n,!1,t),_g(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ch]||(e[ch]=!0,_g("selectionchange",!1,e))}}function kj(t,e,n,r){switch(dj(e)){case 1:var s=tO;break;case 4:s=nO;break;default:s=j0}n=s.bind(null,e,n,t),s=void 0,!ky||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Sg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=$o(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}ZS(function(){var u=i,h=N0(n),p=[];e:{var m=Sj.get(t);if(m!==void 0){var g=I0,v=t;switch(t){case"keypress":if(Oh(n)===0)break e;case"keydown":case"keyup":g=yO;break;case"focusin":v="focus",g=xg;break;case"focusout":v="blur",g=xg;break;case"beforeblur":case"afterblur":g=xg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=g1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=iO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=wO;break;case Ej:case Nj:case Cj:g=lO;break;case _j:g=EO;break;case"scroll":g=rO;break;case"wheel":g=CO;break;case"copy":case"cut":case"paste":g=uO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=v1}var y=(e&4)!==0,b=!y&&t==="scroll",w=y?m!==null?m+"Capture":null:m;y=[];for(var x=u,N;x!==null;){N=x;var k=N.stateNode;if(N.tag===5&&k!==null&&(N=k,w!==null&&(k=Cu(x,w),k!=null&&y.push(Pu(x,k,N)))),b)break;x=x.return}0<y.length&&(m=new g(m,v,null,n,h),p.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Sy&&(v=n.relatedTarget||n.fromElement)&&($o(v)||v[ci]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?$o(v):null,v!==null&&(b=Na(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=g1,k="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=v1,k="onPointerLeave",w="onPointerEnter",x="pointer"),b=g==null?m:Ka(g),N=v==null?m:Ka(v),m=new y(k,x+"leave",g,n,h),m.target=b,m.relatedTarget=N,k=null,$o(h)===u&&(y=new y(w,x+"enter",v,n,h),y.target=N,y.relatedTarget=b,k=y),b=k,g&&v)t:{for(y=g,w=v,x=0,N=y;N;N=Ma(N))x++;for(N=0,k=w;k;k=Ma(k))N++;for(;0<x-N;)y=Ma(y),x--;for(;0<N-x;)w=Ma(w),N--;for(;x--;){if(y===w||w!==null&&y===w.alternate)break t;y=Ma(y),w=Ma(w)}y=null}else y=null;g!==null&&I1(p,m,g,y,!1),v!==null&&b!==null&&I1(p,b,v,y,!0)}}e:{if(m=u?Ka(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var A=PO;else if(b1(m))if(yj)A=MO;else{A=RO;var R=AO}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=LO);if(A&&(A=A(t,u))){gj(p,A,n,h);break e}R&&R(t,m,u),t==="focusout"&&(R=m._wrapperState)&&R.controlled&&m.type==="number"&&by(m,"number",m.value)}switch(R=u?Ka(u):window,t){case"focusin":(b1(R)||R.contentEditable==="true")&&(qa=R,Ry=u,ou=null);break;case"focusout":ou=Ry=qa=null;break;case"mousedown":Ly=!0;break;case"contextmenu":case"mouseup":case"dragend":Ly=!1,S1(p,n,h);break;case"selectionchange":if(VO)break;case"keydown":case"keyup":S1(p,n,h)}var C;if(P0)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Wa?pj(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(fj&&n.locale!=="ko"&&(Wa||_!=="onCompositionStart"?_==="onCompositionEnd"&&Wa&&(C=hj()):(qi=h,k0="value"in qi?qi.value:qi.textContent,Wa=!0)),R=ff(u,_),0<R.length&&(_=new y1(_,t,null,n,h),p.push({event:_,listeners:R}),C?_.data=C:(C=mj(n),C!==null&&(_.data=C)))),(C=SO?jO(t,n):kO(t,n))&&(u=ff(u,"onBeforeInput"),0<u.length&&(h=new y1("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=C))}jj(p,e)})}function Pu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ff(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cu(t,n),i!=null&&r.unshift(Pu(t,i,s)),i=Cu(t,e),i!=null&&r.push(Pu(t,i,s))),t=t.return}return r}function Ma(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function I1(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Cu(n,i),c!=null&&a.unshift(Pu(n,c,l))):s||(c=Cu(n,i),c!=null&&a.push(Pu(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var zO=/\r\n?/g,BO=/\u0000|\uFFFD/g;function T1(t){return(typeof t=="string"?t:""+t).replace(zO,`
`).replace(BO,"")}function uh(t,e,n){if(e=T1(e),T1(t)!==e&&n)throw Error(he(425))}function pf(){}var My=null,Dy=null;function Oy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vy=typeof setTimeout=="function"?setTimeout:void 0,HO=typeof clearTimeout=="function"?clearTimeout:void 0,P1=typeof Promise=="function"?Promise:void 0,WO=typeof queueMicrotask=="function"?queueMicrotask:typeof P1<"u"?function(t){return P1.resolve(null).then(t).catch(qO)}:Vy;function qO(t){setTimeout(function(){throw t})}function jg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ju(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ju(e)}function no(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function A1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kl=Math.random().toString(36).slice(2),Ts="__reactFiber$"+Kl,Au="__reactProps$"+Kl,ci="__reactContainer$"+Kl,Fy="__reactEvents$"+Kl,GO="__reactListeners$"+Kl,KO="__reactHandles$"+Kl;function $o(t){var e=t[Ts];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ci]||n[Ts]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=A1(t);t!==null;){if(n=t[Ts])return n;t=A1(t)}return e}t=n,n=t.parentNode}return null}function md(t){return t=t[Ts]||t[ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ka(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function Sp(t){return t[Au]||null}var $y=[],Qa=-1;function Co(t){return{current:t}}function $t(t){0>Qa||(t.current=$y[Qa],$y[Qa]=null,Qa--)}function Lt(t,e){Qa++,$y[Qa]=t.current,t.current=e}var po={},Kn=Co(po),hr=Co(!1),ra=po;function kl(t,e){var n=t.type.contextTypes;if(!n)return po;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function fr(t){return t=t.childContextTypes,t!=null}function mf(){$t(hr),$t(Kn)}function R1(t,e,n){if(Kn.current!==po)throw Error(he(168));Lt(Kn,e),Lt(hr,n)}function Ij(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(he(108,AD(t)||"Unknown",s));return Kt({},n,r)}function gf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||po,ra=Kn.current,Lt(Kn,t),Lt(hr,hr.current),!0}function L1(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=Ij(t,e,ra),r.__reactInternalMemoizedMergedChildContext=t,$t(hr),$t(Kn),Lt(Kn,t)):$t(hr),Lt(hr,n)}var Zs=null,jp=!1,kg=!1;function Tj(t){Zs===null?Zs=[t]:Zs.push(t)}function QO(t){jp=!0,Tj(t)}function _o(){if(!kg&&Zs!==null){kg=!0;var t=0,e=jt;try{var n=Zs;for(jt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zs=null,jp=!1}catch(s){throw Zs!==null&&(Zs=Zs.slice(t+1)),tj(C0,_o),s}finally{jt=e,kg=!1}}return null}var Ya=[],Za=0,yf=null,vf=0,Dr=[],Or=0,sa=null,ei=1,ti="";function Do(t,e){Ya[Za++]=vf,Ya[Za++]=yf,yf=t,vf=e}function Pj(t,e,n){Dr[Or++]=ei,Dr[Or++]=ti,Dr[Or++]=sa,sa=t;var r=ei;t=ti;var s=32-ds(r)-1;r&=~(1<<s),n+=1;var i=32-ds(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ei=1<<32-ds(e)+s|n<<s|r,ti=i+t}else ei=1<<i|n<<s|r,ti=t}function R0(t){t.return!==null&&(Do(t,1),Pj(t,1,0))}function L0(t){for(;t===yf;)yf=Ya[--Za],Ya[Za]=null,vf=Ya[--Za],Ya[Za]=null;for(;t===sa;)sa=Dr[--Or],Dr[Or]=null,ti=Dr[--Or],Dr[Or]=null,ei=Dr[--Or],Dr[Or]=null}var jr=null,Cr=null,zt=!1,is=null;function Aj(t,e){var n=Vr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function M1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jr=t,Cr=no(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jr=t,Cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sa!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jr=t,Cr=null,!0):!1;default:return!1}}function Uy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zy(t){if(zt){var e=Cr;if(e){var n=e;if(!M1(t,e)){if(Uy(t))throw Error(he(418));e=no(n.nextSibling);var r=jr;e&&M1(t,e)?Aj(r,n):(t.flags=t.flags&-4097|2,zt=!1,jr=t)}}else{if(Uy(t))throw Error(he(418));t.flags=t.flags&-4097|2,zt=!1,jr=t}}}function D1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jr=t}function dh(t){if(t!==jr)return!1;if(!zt)return D1(t),zt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Oy(t.type,t.memoizedProps)),e&&(e=Cr)){if(Uy(t))throw Rj(),Error(he(418));for(;e;)Aj(t,e),e=no(e.nextSibling)}if(D1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cr=no(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cr=null}}else Cr=jr?no(t.stateNode.nextSibling):null;return!0}function Rj(){for(var t=Cr;t;)t=no(t.nextSibling)}function Il(){Cr=jr=null,zt=!1}function M0(t){is===null?is=[t]:is.push(t)}var YO=wi.ReactCurrentBatchConfig;function Tc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function hh(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function O1(t){var e=t._init;return e(t._payload)}function Lj(t){function e(w,x){if(t){var N=w.deletions;N===null?(w.deletions=[x],w.flags|=16):N.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=oo(w,x),w.index=0,w.sibling=null,w}function i(w,x,N){return w.index=N,t?(N=w.alternate,N!==null?(N=N.index,N<x?(w.flags|=2,x):N):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,x,N,k){return x===null||x.tag!==6?(x=Mg(N,w.mode,k),x.return=w,x):(x=s(x,N),x.return=w,x)}function c(w,x,N,k){var A=N.type;return A===Ha?h(w,x,N.props.children,k,N.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ai&&O1(A)===x.type)?(k=s(x,N.props),k.ref=Tc(w,x,N),k.return=w,k):(k=Hh(N.type,N.key,N.props,null,w.mode,k),k.ref=Tc(w,x,N),k.return=w,k)}function u(w,x,N,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=Dg(N,w.mode,k),x.return=w,x):(x=s(x,N.children||[]),x.return=w,x)}function h(w,x,N,k,A){return x===null||x.tag!==7?(x=Xo(N,w.mode,k,A),x.return=w,x):(x=s(x,N),x.return=w,x)}function p(w,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Mg(""+x,w.mode,N),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case th:return N=Hh(x.type,x.key,x.props,null,w.mode,N),N.ref=Tc(w,null,x),N.return=w,N;case Ba:return x=Dg(x,w.mode,N),x.return=w,x;case Ai:var k=x._init;return p(w,k(x._payload),N)}if($c(x)||_c(x))return x=Xo(x,w.mode,N,null),x.return=w,x;hh(w,x)}return null}function m(w,x,N,k){var A=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return A!==null?null:l(w,x,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case th:return N.key===A?c(w,x,N,k):null;case Ba:return N.key===A?u(w,x,N,k):null;case Ai:return A=N._init,m(w,x,A(N._payload),k)}if($c(N)||_c(N))return A!==null?null:h(w,x,N,k,null);hh(w,N)}return null}function g(w,x,N,k,A){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(N)||null,l(x,w,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case th:return w=w.get(k.key===null?N:k.key)||null,c(x,w,k,A);case Ba:return w=w.get(k.key===null?N:k.key)||null,u(x,w,k,A);case Ai:var R=k._init;return g(w,x,N,R(k._payload),A)}if($c(k)||_c(k))return w=w.get(N)||null,h(x,w,k,A,null);hh(x,k)}return null}function v(w,x,N,k){for(var A=null,R=null,C=x,_=x=0,S=null;C!==null&&_<N.length;_++){C.index>_?(S=C,C=null):S=C.sibling;var T=m(w,C,N[_],k);if(T===null){C===null&&(C=S);break}t&&C&&T.alternate===null&&e(w,C),x=i(T,x,_),R===null?A=T:R.sibling=T,R=T,C=S}if(_===N.length)return n(w,C),zt&&Do(w,_),A;if(C===null){for(;_<N.length;_++)C=p(w,N[_],k),C!==null&&(x=i(C,x,_),R===null?A=C:R.sibling=C,R=C);return zt&&Do(w,_),A}for(C=r(w,C);_<N.length;_++)S=g(C,w,_,N[_],k),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?_:S.key),x=i(S,x,_),R===null?A=S:R.sibling=S,R=S);return t&&C.forEach(function(I){return e(w,I)}),zt&&Do(w,_),A}function y(w,x,N,k){var A=_c(N);if(typeof A!="function")throw Error(he(150));if(N=A.call(N),N==null)throw Error(he(151));for(var R=A=null,C=x,_=x=0,S=null,T=N.next();C!==null&&!T.done;_++,T=N.next()){C.index>_?(S=C,C=null):S=C.sibling;var I=m(w,C,T.value,k);if(I===null){C===null&&(C=S);break}t&&C&&I.alternate===null&&e(w,C),x=i(I,x,_),R===null?A=I:R.sibling=I,R=I,C=S}if(T.done)return n(w,C),zt&&Do(w,_),A;if(C===null){for(;!T.done;_++,T=N.next())T=p(w,T.value,k),T!==null&&(x=i(T,x,_),R===null?A=T:R.sibling=T,R=T);return zt&&Do(w,_),A}for(C=r(w,C);!T.done;_++,T=N.next())T=g(C,w,_,T.value,k),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?_:T.key),x=i(T,x,_),R===null?A=T:R.sibling=T,R=T);return t&&C.forEach(function(P){return e(w,P)}),zt&&Do(w,_),A}function b(w,x,N,k){if(typeof N=="object"&&N!==null&&N.type===Ha&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case th:e:{for(var A=N.key,R=x;R!==null;){if(R.key===A){if(A=N.type,A===Ha){if(R.tag===7){n(w,R.sibling),x=s(R,N.props.children),x.return=w,w=x;break e}}else if(R.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ai&&O1(A)===R.type){n(w,R.sibling),x=s(R,N.props),x.ref=Tc(w,R,N),x.return=w,w=x;break e}n(w,R);break}else e(w,R);R=R.sibling}N.type===Ha?(x=Xo(N.props.children,w.mode,k,N.key),x.return=w,w=x):(k=Hh(N.type,N.key,N.props,null,w.mode,k),k.ref=Tc(w,x,N),k.return=w,w=k)}return a(w);case Ba:e:{for(R=N.key;x!==null;){if(x.key===R)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){n(w,x.sibling),x=s(x,N.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=Dg(N,w.mode,k),x.return=w,w=x}return a(w);case Ai:return R=N._init,b(w,x,R(N._payload),k)}if($c(N))return v(w,x,N,k);if(_c(N))return y(w,x,N,k);hh(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(n(w,x.sibling),x=s(x,N),x.return=w,w=x):(n(w,x),x=Mg(N,w.mode,k),x.return=w,w=x),a(w)):n(w,x)}return b}var Tl=Lj(!0),Mj=Lj(!1),xf=Co(null),wf=null,Xa=null,D0=null;function O0(){D0=Xa=wf=null}function V0(t){var e=xf.current;$t(xf),t._currentValue=e}function By(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function al(t,e){wf=t,D0=Xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ur=!0),t.firstContext=null)}function Hr(t){var e=t._currentValue;if(D0!==t)if(t={context:t,memoizedValue:e,next:null},Xa===null){if(wf===null)throw Error(he(308));Xa=t,wf.dependencies={lanes:0,firstContext:t}}else Xa=Xa.next=t;return e}var Uo=null;function F0(t){Uo===null?Uo=[t]:Uo.push(t)}function Dj(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,F0(e)):(n.next=s.next,s.next=n),e.interleaved=n,ui(t,r)}function ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ri=!1;function $0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ro(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ui(t,n)}return s=r.interleaved,s===null?(e.next=e,F0(r)):(e.next=s.next,s.next=e),r.interleaved=e,ui(t,n)}function Vh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_0(t,n)}}function V1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bf(t,e,n,r){var s=t.updateQueue;Ri=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(m=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){p=v.call(g,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,m=typeof v=="function"?v.call(g,p,m):v,m==null)break e;p=Kt({},p,m);break e;case 2:Ri=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=p):h=h.next=g,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);oa|=a,t.lanes=a,t.memoizedState=p}}function F1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(he(191,s));s.call(r)}}}var gd={},Ds=Co(gd),Ru=Co(gd),Lu=Co(gd);function zo(t){if(t===gd)throw Error(he(174));return t}function U0(t,e){switch(Lt(Lu,e),Lt(Ru,t),Lt(Ds,gd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ny(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ny(e,t)}$t(Ds),Lt(Ds,e)}function Pl(){$t(Ds),$t(Ru),$t(Lu)}function Vj(t){zo(Lu.current);var e=zo(Ds.current),n=Ny(e,t.type);e!==n&&(Lt(Ru,t),Lt(Ds,n))}function z0(t){Ru.current===t&&($t(Ds),$t(Ru))}var Wt=Co(0);function Ef(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ig=[];function B0(){for(var t=0;t<Ig.length;t++)Ig[t]._workInProgressVersionPrimary=null;Ig.length=0}var Fh=wi.ReactCurrentDispatcher,Tg=wi.ReactCurrentBatchConfig,ia=0,Gt=null,fn=null,En=null,Nf=!1,au=!1,Mu=0,ZO=0;function Fn(){throw Error(he(321))}function H0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ps(t[n],e[n]))return!1;return!0}function W0(t,e,n,r,s,i){if(ia=i,Gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=t===null||t.memoizedState===null?t4:n4,t=n(r,s),au){i=0;do{if(au=!1,Mu=0,25<=i)throw Error(he(301));i+=1,En=fn=null,e.updateQueue=null,Fh.current=r4,t=n(r,s)}while(au)}if(Fh.current=Cf,e=fn!==null&&fn.next!==null,ia=0,En=fn=Gt=null,Nf=!1,e)throw Error(he(300));return t}function q0(){var t=Mu!==0;return Mu=0,t}function Cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Gt.memoizedState=En=t:En=En.next=t,En}function Wr(){if(fn===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=fn.next;var e=En===null?Gt.memoizedState:En.next;if(e!==null)En=e,fn=t;else{if(t===null)throw Error(he(310));fn=t,t={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},En===null?Gt.memoizedState=En=t:En=En.next=t}return En}function Du(t,e){return typeof e=="function"?e(t):e}function Pg(t){var e=Wr(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=fn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((ia&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,a=r):c=c.next=p,Gt.lanes|=h,oa|=h}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,ps(r,e.memoizedState)||(ur=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Gt.lanes|=i,oa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ag(t){var e=Wr(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ps(i,e.memoizedState)||(ur=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Fj(){}function $j(t,e){var n=Gt,r=Wr(),s=e(),i=!ps(r.memoizedState,s);if(i&&(r.memoizedState=s,ur=!0),r=r.queue,G0(Bj.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||En!==null&&En.memoizedState.tag&1){if(n.flags|=2048,Ou(9,zj.bind(null,n,r,s,e),void 0,null),Nn===null)throw Error(he(349));ia&30||Uj(n,e,s)}return s}function Uj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zj(t,e,n,r){e.value=n,e.getSnapshot=r,Hj(e)&&Wj(t)}function Bj(t,e,n){return n(function(){Hj(e)&&Wj(t)})}function Hj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ps(t,n)}catch{return!0}}function Wj(t){var e=ui(t,1);e!==null&&hs(e,t,1,-1)}function $1(t){var e=Cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:t},e.queue=t,t=t.dispatch=e4.bind(null,Gt,t),[e.memoizedState,t]}function Ou(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qj(){return Wr().memoizedState}function $h(t,e,n,r){var s=Cs();Gt.flags|=t,s.memoizedState=Ou(1|e,n,void 0,r===void 0?null:r)}function kp(t,e,n,r){var s=Wr();r=r===void 0?null:r;var i=void 0;if(fn!==null){var a=fn.memoizedState;if(i=a.destroy,r!==null&&H0(r,a.deps)){s.memoizedState=Ou(e,n,i,r);return}}Gt.flags|=t,s.memoizedState=Ou(1|e,n,i,r)}function U1(t,e){return $h(8390656,8,t,e)}function G0(t,e){return kp(2048,8,t,e)}function Gj(t,e){return kp(4,2,t,e)}function Kj(t,e){return kp(4,4,t,e)}function Qj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yj(t,e,n){return n=n!=null?n.concat([t]):null,kp(4,4,Qj.bind(null,e,t),n)}function K0(){}function Zj(t,e){var n=Wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&H0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xj(t,e){var n=Wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&H0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Jj(t,e,n){return ia&21?(ps(n,e)||(n=sj(),Gt.lanes|=n,oa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ur=!0),t.memoizedState=n)}function XO(t,e){var n=jt;jt=n!==0&&4>n?n:4,t(!0);var r=Tg.transition;Tg.transition={};try{t(!1),e()}finally{jt=n,Tg.transition=r}}function ek(){return Wr().memoizedState}function JO(t,e,n){var r=io(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tk(t))nk(e,n);else if(n=Dj(t,e,n,r),n!==null){var s=er();hs(n,t,r,s),rk(n,e,r)}}function e4(t,e,n){var r=io(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tk(t))nk(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,ps(l,a)){var c=e.interleaved;c===null?(s.next=s,F0(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Dj(t,e,s,r),n!==null&&(s=er(),hs(n,t,r,s),rk(n,e,r))}}function tk(t){var e=t.alternate;return t===Gt||e!==null&&e===Gt}function nk(t,e){au=Nf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_0(t,n)}}var Cf={readContext:Hr,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},t4={readContext:Hr,useCallback:function(t,e){return Cs().memoizedState=[t,e===void 0?null:e],t},useContext:Hr,useEffect:U1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$h(4194308,4,Qj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $h(4194308,4,t,e)},useInsertionEffect:function(t,e){return $h(4,2,t,e)},useMemo:function(t,e){var n=Cs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JO.bind(null,Gt,t),[r.memoizedState,t]},useRef:function(t){var e=Cs();return t={current:t},e.memoizedState=t},useState:$1,useDebugValue:K0,useDeferredValue:function(t){return Cs().memoizedState=t},useTransition:function(){var t=$1(!1),e=t[0];return t=XO.bind(null,t[1]),Cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gt,s=Cs();if(zt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),Nn===null)throw Error(he(349));ia&30||Uj(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,U1(Bj.bind(null,r,i,t),[t]),r.flags|=2048,Ou(9,zj.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Cs(),e=Nn.identifierPrefix;if(zt){var n=ti,r=ei;n=(r&~(1<<32-ds(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},n4={readContext:Hr,useCallback:Zj,useContext:Hr,useEffect:G0,useImperativeHandle:Yj,useInsertionEffect:Gj,useLayoutEffect:Kj,useMemo:Xj,useReducer:Pg,useRef:qj,useState:function(){return Pg(Du)},useDebugValue:K0,useDeferredValue:function(t){var e=Wr();return Jj(e,fn.memoizedState,t)},useTransition:function(){var t=Pg(Du)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:Fj,useSyncExternalStore:$j,useId:ek,unstable_isNewReconciler:!1},r4={readContext:Hr,useCallback:Zj,useContext:Hr,useEffect:G0,useImperativeHandle:Yj,useInsertionEffect:Gj,useLayoutEffect:Kj,useMemo:Xj,useReducer:Ag,useRef:qj,useState:function(){return Ag(Du)},useDebugValue:K0,useDeferredValue:function(t){var e=Wr();return fn===null?e.memoizedState=t:Jj(e,fn.memoizedState,t)},useTransition:function(){var t=Ag(Du)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:Fj,useSyncExternalStore:$j,useId:ek,unstable_isNewReconciler:!1};function es(t,e){if(t&&t.defaultProps){e=Kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ip={isMounted:function(t){return(t=t._reactInternals)?Na(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=er(),s=io(t),i=oi(r,s);i.payload=e,n!=null&&(i.callback=n),e=ro(t,i,s),e!==null&&(hs(e,t,s,r),Vh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=er(),s=io(t),i=oi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ro(t,i,s),e!==null&&(hs(e,t,s,r),Vh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=er(),r=io(t),s=oi(n,r);s.tag=2,e!=null&&(s.callback=e),e=ro(t,s,r),e!==null&&(hs(e,t,r,n),Vh(e,t,r))}};function z1(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Iu(n,r)||!Iu(s,i):!0}function sk(t,e,n){var r=!1,s=po,i=e.contextType;return typeof i=="object"&&i!==null?i=Hr(i):(s=fr(e)?ra:Kn.current,r=e.contextTypes,i=(r=r!=null)?kl(t,s):po),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ip,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function B1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ip.enqueueReplaceState(e,e.state,null)}function Wy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},$0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Hr(i):(i=fr(e)?ra:Kn.current,s.context=kl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Hy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ip.enqueueReplaceState(s,s.state,null),bf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Al(t,e){try{var n="",r=e;do n+=PD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Rg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var s4=typeof WeakMap=="function"?WeakMap:Map;function ik(t,e,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sf||(Sf=!0,nv=r),qy(t,e)},n}function ok(t,e,n){n=oi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qy(t,e),typeof r!="function"&&(so===null?so=new Set([this]):so.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function H1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new s4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=v4.bind(null,t,e,n),e.then(t,t))}function W1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function q1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oi(-1,1),e.tag=2,ro(n,e,1))),n.lanes|=1),t)}var i4=wi.ReactCurrentOwner,ur=!1;function Xn(t,e,n,r){e.child=t===null?Mj(e,null,n,r):Tl(e,t.child,n,r)}function G1(t,e,n,r,s){n=n.render;var i=e.ref;return al(e,s),r=W0(t,e,n,r,i,s),n=q0(),t!==null&&!ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,di(t,e,s)):(zt&&n&&R0(e),e.flags|=1,Xn(t,e,r,s),e.child)}function K1(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!nx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ak(t,e,i,r,s)):(t=Hh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Iu,n(a,r)&&t.ref===e.ref)return di(t,e,s)}return e.flags|=1,t=oo(i,r),t.ref=e.ref,t.return=e,e.child=t}function ak(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Iu(i,r)&&t.ref===e.ref)if(ur=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ur=!0);else return e.lanes=t.lanes,di(t,e,s)}return Gy(t,e,n,r,s)}function lk(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(el,wr),wr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Lt(el,wr),wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Lt(el,wr),wr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Lt(el,wr),wr|=r;return Xn(t,e,s,n),e.child}function ck(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gy(t,e,n,r,s){var i=fr(n)?ra:Kn.current;return i=kl(e,i),al(e,s),n=W0(t,e,n,r,i,s),r=q0(),t!==null&&!ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,di(t,e,s)):(zt&&r&&R0(e),e.flags|=1,Xn(t,e,n,s),e.child)}function Q1(t,e,n,r,s){if(fr(n)){var i=!0;gf(e)}else i=!1;if(al(e,s),e.stateNode===null)Uh(t,e),sk(e,n,r),Wy(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Hr(u):(u=fr(n)?ra:Kn.current,u=kl(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&B1(e,a,r,u),Ri=!1;var m=e.memoizedState;a.state=m,bf(e,r,a,s),c=e.memoizedState,l!==r||m!==c||hr.current||Ri?(typeof h=="function"&&(Hy(e,n,h,r),c=e.memoizedState),(l=Ri||z1(e,n,l,r,m,c,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Oj(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:es(e.type,l),a.props=u,p=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Hr(c):(c=fr(n)?ra:Kn.current,c=kl(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||m!==c)&&B1(e,a,r,c),Ri=!1,m=e.memoizedState,a.state=m,bf(e,r,a,s);var v=e.memoizedState;l!==p||m!==v||hr.current||Ri?(typeof g=="function"&&(Hy(e,n,g,r),v=e.memoizedState),(u=Ri||z1(e,n,u,r,m,v,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ky(t,e,n,r,i,s)}function Ky(t,e,n,r,s,i){ck(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&L1(e,n,!1),di(t,e,i);r=e.stateNode,i4.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Tl(e,t.child,null,i),e.child=Tl(e,null,l,i)):Xn(t,e,l,i),e.memoizedState=r.state,s&&L1(e,n,!0),e.child}function uk(t){var e=t.stateNode;e.pendingContext?R1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R1(t,e.context,!1),U0(t,e.containerInfo)}function Y1(t,e,n,r,s){return Il(),M0(s),e.flags|=256,Xn(t,e,n,r),e.child}var Qy={dehydrated:null,treeContext:null,retryLane:0};function Yy(t){return{baseLanes:t,cachePool:null,transitions:null}}function dk(t,e,n){var r=e.pendingProps,s=Wt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Lt(Wt,s&1),t===null)return zy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ap(a,r,0,null),t=Xo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Yy(n),e.memoizedState=Qy,t):Q0(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return o4(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=oo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=oo(l,i):(i=Xo(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Yy(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Qy,r}return i=t.child,t=i.sibling,r=oo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Q0(t,e){return e=Ap({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fh(t,e,n,r){return r!==null&&M0(r),Tl(e,t.child,null,n),t=Q0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function o4(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Rg(Error(he(422))),fh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ap({mode:"visible",children:r.children},s,0,null),i=Xo(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Tl(e,t.child,null,a),e.child.memoizedState=Yy(a),e.memoizedState=Qy,i);if(!(e.mode&1))return fh(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(he(419)),r=Rg(i,r,void 0),fh(t,e,a,r)}if(l=(a&t.childLanes)!==0,ur||l){if(r=Nn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ui(t,s),hs(r,t,s,-1))}return tx(),r=Rg(Error(he(421))),fh(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=x4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Cr=no(s.nextSibling),jr=e,zt=!0,is=null,t!==null&&(Dr[Or++]=ei,Dr[Or++]=ti,Dr[Or++]=sa,ei=t.id,ti=t.overflow,sa=e),e=Q0(e,r.children),e.flags|=4096,e)}function Z1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),By(t.return,e,n)}function Lg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function hk(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Xn(t,e,r.children,n),r=Wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z1(t,n,e);else if(t.tag===19)Z1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Lt(Wt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ef(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Lg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ef(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Lg(e,!0,n,null,i);break;case"together":Lg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function di(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=oo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function a4(t,e,n){switch(e.tag){case 3:uk(e),Il();break;case 5:Vj(e);break;case 1:fr(e.type)&&gf(e);break;case 4:U0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Lt(xf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Lt(Wt,Wt.current&1),e.flags|=128,null):n&e.child.childLanes?dk(t,e,n):(Lt(Wt,Wt.current&1),t=di(t,e,n),t!==null?t.sibling:null);Lt(Wt,Wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Lt(Wt,Wt.current),r)break;return null;case 22:case 23:return e.lanes=0,lk(t,e,n)}return di(t,e,n)}var fk,Zy,pk,mk;fk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zy=function(){};pk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,zo(Ds.current);var i=null;switch(n){case"input":s=xy(t,s),r=xy(t,r),i=[];break;case"select":s=Kt({},s,{value:void 0}),r=Kt({},r,{value:void 0}),i=[];break;case"textarea":s=Ey(t,s),r=Ey(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pf)}Cy(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Vt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};mk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Pc(t,e){if(!zt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function l4(t,e,n){var r=e.pendingProps;switch(L0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(e),null;case 1:return fr(e.type)&&mf(),$n(e),null;case 3:return r=e.stateNode,Pl(),$t(hr),$t(Kn),B0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,is!==null&&(iv(is),is=null))),Zy(t,e),$n(e),null;case 5:z0(e);var s=zo(Lu.current);if(n=e.type,t!==null&&e.stateNode!=null)pk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return $n(e),null}if(t=zo(Ds.current),dh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ts]=e,r[Au]=i,t=(e.mode&1)!==0,n){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(s=0;s<zc.length;s++)Vt(zc[s],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":o1(r,i),Vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Vt("invalid",r);break;case"textarea":l1(r,i),Vt("invalid",r)}Cy(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&uh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&uh(r.textContent,l,t),s=["children",""+l]):Eu.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Vt("scroll",r)}switch(n){case"input":nh(r),a1(r,i,!0);break;case"textarea":nh(r),c1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=pf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=BS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ts]=e,t[Au]=r,fk(t,e,!1,!1),e.stateNode=t;e:{switch(a=_y(n,r),n){case"dialog":Vt("cancel",t),Vt("close",t),s=r;break;case"iframe":case"object":case"embed":Vt("load",t),s=r;break;case"video":case"audio":for(s=0;s<zc.length;s++)Vt(zc[s],t);s=r;break;case"source":Vt("error",t),s=r;break;case"img":case"image":case"link":Vt("error",t),Vt("load",t),s=r;break;case"details":Vt("toggle",t),s=r;break;case"input":o1(t,r),s=xy(t,r),Vt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Kt({},r,{value:void 0}),Vt("invalid",t);break;case"textarea":l1(t,r),s=Ey(t,r),Vt("invalid",t);break;default:s=r}Cy(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?qS(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&HS(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Nu(t,c):typeof c=="number"&&Nu(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Eu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Vt("scroll",t):c!=null&&x0(t,i,c,a))}switch(n){case"input":nh(t),a1(t,r,!1);break;case"textarea":nh(t),c1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?rl(t,!!r.multiple,i,!1):r.defaultValue!=null&&rl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=pf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $n(e),null;case 6:if(t&&e.stateNode!=null)mk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=zo(Lu.current),zo(Ds.current),dh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ts]=e,(i=r.nodeValue!==n)&&(t=jr,t!==null))switch(t.tag){case 3:uh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ts]=e,e.stateNode=r}return $n(e),null;case 13:if($t(Wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zt&&Cr!==null&&e.mode&1&&!(e.flags&128))Rj(),Il(),e.flags|=98560,i=!1;else if(i=dh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(he(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));i[Ts]=e}else Il(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$n(e),i=!1}else is!==null&&(iv(is),is=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Wt.current&1?pn===0&&(pn=3):tx())),e.updateQueue!==null&&(e.flags|=4),$n(e),null);case 4:return Pl(),Zy(t,e),t===null&&Tu(e.stateNode.containerInfo),$n(e),null;case 10:return V0(e.type._context),$n(e),null;case 17:return fr(e.type)&&mf(),$n(e),null;case 19:if($t(Wt),i=e.memoizedState,i===null)return $n(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Pc(i,!1);else{if(pn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ef(t),a!==null){for(e.flags|=128,Pc(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Lt(Wt,Wt.current&1|2),e.child}t=t.sibling}i.tail!==null&&on()>Rl&&(e.flags|=128,r=!0,Pc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ef(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Pc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!zt)return $n(e),null}else 2*on()-i.renderingStartTime>Rl&&n!==1073741824&&(e.flags|=128,r=!0,Pc(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=on(),e.sibling=null,n=Wt.current,Lt(Wt,r?n&1|2:n&1),e):($n(e),null);case 22:case 23:return ex(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wr&1073741824&&($n(e),e.subtreeFlags&6&&(e.flags|=8192)):$n(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function c4(t,e){switch(L0(e),e.tag){case 1:return fr(e.type)&&mf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pl(),$t(hr),$t(Kn),B0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return z0(e),null;case 13:if($t(Wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));Il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $t(Wt),null;case 4:return Pl(),null;case 10:return V0(e.type._context),null;case 22:case 23:return ex(),null;case 24:return null;default:return null}}var ph=!1,Hn=!1,u4=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Ja(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nn(t,e,r)}else n.current=null}function Xy(t,e,n){try{n()}catch(r){nn(t,e,r)}}var X1=!1;function d4(t,e){if(My=df,t=wj(),A0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,p=t,m=null;t:for(;;){for(var g;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==i||r!==0&&p.nodeType!==3||(c=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===t)break t;if(m===n&&++u===s&&(l=a),m===i&&++h===r&&(c=a),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dy={focusedElem:t,selectionRange:n},df=!1,ke=e;ke!==null;)if(e=ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ke=t;else for(;ke!==null;){e=ke;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:es(e.type,y),b);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(k){nn(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ke=t;break}ke=e.return}return v=X1,X1=!1,v}function lu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xy(e,n,i)}s=s.next}while(s!==r)}}function Tp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gk(t){var e=t.alternate;e!==null&&(t.alternate=null,gk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ts],delete e[Au],delete e[Fy],delete e[GO],delete e[KO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yk(t){return t.tag===5||t.tag===3||t.tag===4}function J1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ev(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pf));else if(r!==4&&(t=t.child,t!==null))for(ev(t,e,n),t=t.sibling;t!==null;)ev(t,e,n),t=t.sibling}function tv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tv(t,e,n),t=t.sibling;t!==null;)tv(t,e,n),t=t.sibling}var _n=null,ss=!1;function _i(t,e,n){for(n=n.child;n!==null;)vk(t,e,n),n=n.sibling}function vk(t,e,n){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(Ep,n)}catch{}switch(n.tag){case 5:Hn||Ja(n,e);case 6:var r=_n,s=ss;_n=null,_i(t,e,n),_n=r,ss=s,_n!==null&&(ss?(t=_n,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_n.removeChild(n.stateNode));break;case 18:_n!==null&&(ss?(t=_n,n=n.stateNode,t.nodeType===8?jg(t.parentNode,n):t.nodeType===1&&jg(t,n),ju(t)):jg(_n,n.stateNode));break;case 4:r=_n,s=ss,_n=n.stateNode.containerInfo,ss=!0,_i(t,e,n),_n=r,ss=s;break;case 0:case 11:case 14:case 15:if(!Hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Xy(n,e,a),s=s.next}while(s!==r)}_i(t,e,n);break;case 1:if(!Hn&&(Ja(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){nn(n,e,l)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(Hn=(r=Hn)||n.memoizedState!==null,_i(t,e,n),Hn=r):_i(t,e,n);break;default:_i(t,e,n)}}function eE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new u4),e.forEach(function(r){var s=w4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Zr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:_n=l.stateNode,ss=!1;break e;case 3:_n=l.stateNode.containerInfo,ss=!0;break e;case 4:_n=l.stateNode.containerInfo,ss=!0;break e}l=l.return}if(_n===null)throw Error(he(160));vk(i,a,s),_n=null,ss=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){nn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xk(e,t),e=e.sibling}function xk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zr(e,t),Ns(t),r&4){try{lu(3,t,t.return),Tp(3,t)}catch(y){nn(t,t.return,y)}try{lu(5,t,t.return)}catch(y){nn(t,t.return,y)}}break;case 1:Zr(e,t),Ns(t),r&512&&n!==null&&Ja(n,n.return);break;case 5:if(Zr(e,t),Ns(t),r&512&&n!==null&&Ja(n,n.return),t.flags&32){var s=t.stateNode;try{Nu(s,"")}catch(y){nn(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&US(s,i),_y(l,a);var u=_y(l,i);for(a=0;a<c.length;a+=2){var h=c[a],p=c[a+1];h==="style"?qS(s,p):h==="dangerouslySetInnerHTML"?HS(s,p):h==="children"?Nu(s,p):x0(s,h,p,u)}switch(l){case"input":wy(s,i);break;case"textarea":zS(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?rl(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?rl(s,!!i.multiple,i.defaultValue,!0):rl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Au]=i}catch(y){nn(t,t.return,y)}}break;case 6:if(Zr(e,t),Ns(t),r&4){if(t.stateNode===null)throw Error(he(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){nn(t,t.return,y)}}break;case 3:if(Zr(e,t),Ns(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ju(e.containerInfo)}catch(y){nn(t,t.return,y)}break;case 4:Zr(e,t),Ns(t);break;case 13:Zr(e,t),Ns(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(X0=on())),r&4&&eE(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Hn=(u=Hn)||h,Zr(e,t),Hn=u):Zr(e,t),Ns(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ke=t,h=t.child;h!==null;){for(p=ke=h;ke!==null;){switch(m=ke,g=m.child,m.tag){case 0:case 11:case 14:case 15:lu(4,m,m.return);break;case 1:Ja(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){nn(r,n,y)}}break;case 5:Ja(m,m.return);break;case 22:if(m.memoizedState!==null){nE(p);continue}}g!==null?(g.return=m,ke=g):nE(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=WS("display",a))}catch(y){nn(t,t.return,y)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){nn(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Zr(e,t),Ns(t),r&4&&eE(t);break;case 21:break;default:Zr(e,t),Ns(t)}}function Ns(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yk(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Nu(s,""),r.flags&=-33);var i=J1(t);tv(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=J1(t);ev(t,l,a);break;default:throw Error(he(161))}}catch(c){nn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h4(t,e,n){ke=t,wk(t)}function wk(t,e,n){for(var r=(t.mode&1)!==0;ke!==null;){var s=ke,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ph;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Hn;l=ph;var u=Hn;if(ph=a,(Hn=c)&&!u)for(ke=s;ke!==null;)a=ke,c=a.child,a.tag===22&&a.memoizedState!==null?rE(s):c!==null?(c.return=a,ke=c):rE(s);for(;i!==null;)ke=i,wk(i),i=i.sibling;ke=s,ph=l,Hn=u}tE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ke=i):tE(t)}}function tE(t){for(;ke!==null;){var e=ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hn||Tp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Hn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:es(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&F1(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}F1(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&ju(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Hn||e.flags&512&&Jy(e)}catch(m){nn(e,e.return,m)}}if(e===t){ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,ke=n;break}ke=e.return}}function nE(t){for(;ke!==null;){var e=ke;if(e===t){ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ke=n;break}ke=e.return}}function rE(t){for(;ke!==null;){var e=ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tp(4,e)}catch(c){nn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){nn(e,s,c)}}var i=e.return;try{Jy(e)}catch(c){nn(e,i,c)}break;case 5:var a=e.return;try{Jy(e)}catch(c){nn(e,a,c)}}}catch(c){nn(e,e.return,c)}if(e===t){ke=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ke=l;break}ke=e.return}}var f4=Math.ceil,_f=wi.ReactCurrentDispatcher,Y0=wi.ReactCurrentOwner,$r=wi.ReactCurrentBatchConfig,pt=0,Nn=null,dn=null,kn=0,wr=0,el=Co(0),pn=0,Vu=null,oa=0,Pp=0,Z0=0,cu=null,ar=null,X0=0,Rl=1/0,Ys=null,Sf=!1,nv=null,so=null,mh=!1,Gi=null,jf=0,uu=0,rv=null,zh=-1,Bh=0;function er(){return pt&6?on():zh!==-1?zh:zh=on()}function io(t){return t.mode&1?pt&2&&kn!==0?kn&-kn:YO.transition!==null?(Bh===0&&(Bh=sj()),Bh):(t=jt,t!==0||(t=window.event,t=t===void 0?16:dj(t.type)),t):1}function hs(t,e,n,r){if(50<uu)throw uu=0,rv=null,Error(he(185));fd(t,n,r),(!(pt&2)||t!==Nn)&&(t===Nn&&(!(pt&2)&&(Pp|=n),pn===4&&Di(t,kn)),pr(t,r),n===1&&pt===0&&!(e.mode&1)&&(Rl=on()+500,jp&&_o()))}function pr(t,e){var n=t.callbackNode;YD(t,e);var r=uf(t,t===Nn?kn:0);if(r===0)n!==null&&h1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&h1(n),e===1)t.tag===0?QO(sE.bind(null,t)):Tj(sE.bind(null,t)),WO(function(){!(pt&6)&&_o()}),n=null;else{switch(ij(r)){case 1:n=C0;break;case 4:n=nj;break;case 16:n=cf;break;case 536870912:n=rj;break;default:n=cf}n=kk(n,bk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bk(t,e){if(zh=-1,Bh=0,pt&6)throw Error(he(327));var n=t.callbackNode;if(ll()&&t.callbackNode!==n)return null;var r=uf(t,t===Nn?kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kf(t,r);else{e=r;var s=pt;pt|=2;var i=Nk();(Nn!==t||kn!==e)&&(Ys=null,Rl=on()+500,Zo(t,e));do try{g4();break}catch(l){Ek(t,l)}while(!0);O0(),_f.current=i,pt=s,dn!==null?e=0:(Nn=null,kn=0,e=pn)}if(e!==0){if(e===2&&(s=Ty(t),s!==0&&(r=s,e=sv(t,s))),e===1)throw n=Vu,Zo(t,0),Di(t,r),pr(t,on()),n;if(e===6)Di(t,r);else{if(s=t.current.alternate,!(r&30)&&!p4(s)&&(e=kf(t,r),e===2&&(i=Ty(t),i!==0&&(r=i,e=sv(t,i))),e===1))throw n=Vu,Zo(t,0),Di(t,r),pr(t,on()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:Oo(t,ar,Ys);break;case 3:if(Di(t,r),(r&130023424)===r&&(e=X0+500-on(),10<e)){if(uf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){er(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Vy(Oo.bind(null,t,ar,Ys),e);break}Oo(t,ar,Ys);break;case 4:if(Di(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-ds(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=on()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f4(r/1960))-r,10<r){t.timeoutHandle=Vy(Oo.bind(null,t,ar,Ys),r);break}Oo(t,ar,Ys);break;case 5:Oo(t,ar,Ys);break;default:throw Error(he(329))}}}return pr(t,on()),t.callbackNode===n?bk.bind(null,t):null}function sv(t,e){var n=cu;return t.current.memoizedState.isDehydrated&&(Zo(t,e).flags|=256),t=kf(t,e),t!==2&&(e=ar,ar=n,e!==null&&iv(e)),t}function iv(t){ar===null?ar=t:ar.push.apply(ar,t)}function p4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ps(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Di(t,e){for(e&=~Z0,e&=~Pp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ds(e),r=1<<n;t[n]=-1,e&=~r}}function sE(t){if(pt&6)throw Error(he(327));ll();var e=uf(t,0);if(!(e&1))return pr(t,on()),null;var n=kf(t,e);if(t.tag!==0&&n===2){var r=Ty(t);r!==0&&(e=r,n=sv(t,r))}if(n===1)throw n=Vu,Zo(t,0),Di(t,e),pr(t,on()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oo(t,ar,Ys),pr(t,on()),null}function J0(t,e){var n=pt;pt|=1;try{return t(e)}finally{pt=n,pt===0&&(Rl=on()+500,jp&&_o())}}function aa(t){Gi!==null&&Gi.tag===0&&!(pt&6)&&ll();var e=pt;pt|=1;var n=$r.transition,r=jt;try{if($r.transition=null,jt=1,t)return t()}finally{jt=r,$r.transition=n,pt=e,!(pt&6)&&_o()}}function ex(){wr=el.current,$t(el)}function Zo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HO(n)),dn!==null)for(n=dn.return;n!==null;){var r=n;switch(L0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mf();break;case 3:Pl(),$t(hr),$t(Kn),B0();break;case 5:z0(r);break;case 4:Pl();break;case 13:$t(Wt);break;case 19:$t(Wt);break;case 10:V0(r.type._context);break;case 22:case 23:ex()}n=n.return}if(Nn=t,dn=t=oo(t.current,null),kn=wr=e,pn=0,Vu=null,Z0=Pp=oa=0,ar=cu=null,Uo!==null){for(e=0;e<Uo.length;e++)if(n=Uo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Uo=null}return t}function Ek(t,e){do{var n=dn;try{if(O0(),Fh.current=Cf,Nf){for(var r=Gt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nf=!1}if(ia=0,En=fn=Gt=null,au=!1,Mu=0,Y0.current=null,n===null||n.return===null){pn=1,Vu=e,dn=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=kn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=W1(a);if(g!==null){g.flags&=-257,q1(g,a,l,i,e),g.mode&1&&H1(i,u,e),e=g,c=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break e}else{if(!(e&1)){H1(i,u,e),tx();break e}c=Error(he(426))}}else if(zt&&l.mode&1){var b=W1(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),q1(b,a,l,i,e),M0(Al(c,l));break e}}i=c=Al(c,l),pn!==4&&(pn=2),cu===null?cu=[i]:cu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=ik(i,c,e);V1(i,w);break e;case 1:l=c;var x=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(so===null||!so.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=ok(i,l,e);V1(i,k);break e}}i=i.return}while(i!==null)}_k(n)}catch(A){e=A,dn===n&&n!==null&&(dn=n=n.return);continue}break}while(!0)}function Nk(){var t=_f.current;return _f.current=Cf,t===null?Cf:t}function tx(){(pn===0||pn===3||pn===2)&&(pn=4),Nn===null||!(oa&268435455)&&!(Pp&268435455)||Di(Nn,kn)}function kf(t,e){var n=pt;pt|=2;var r=Nk();(Nn!==t||kn!==e)&&(Ys=null,Zo(t,e));do try{m4();break}catch(s){Ek(t,s)}while(!0);if(O0(),pt=n,_f.current=r,dn!==null)throw Error(he(261));return Nn=null,kn=0,pn}function m4(){for(;dn!==null;)Ck(dn)}function g4(){for(;dn!==null&&!UD();)Ck(dn)}function Ck(t){var e=jk(t.alternate,t,wr);t.memoizedProps=t.pendingProps,e===null?_k(t):dn=e,Y0.current=null}function _k(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=c4(n,e),n!==null){n.flags&=32767,dn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pn=6,dn=null;return}}else if(n=l4(n,e,wr),n!==null){dn=n;return}if(e=e.sibling,e!==null){dn=e;return}dn=e=t}while(e!==null);pn===0&&(pn=5)}function Oo(t,e,n){var r=jt,s=$r.transition;try{$r.transition=null,jt=1,y4(t,e,n,r)}finally{$r.transition=s,jt=r}return null}function y4(t,e,n,r){do ll();while(Gi!==null);if(pt&6)throw Error(he(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ZD(t,i),t===Nn&&(dn=Nn=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mh||(mh=!0,kk(cf,function(){return ll(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$r.transition,$r.transition=null;var a=jt;jt=1;var l=pt;pt|=4,Y0.current=null,d4(t,n),xk(n,t),OO(Dy),df=!!My,Dy=My=null,t.current=n,h4(n),zD(),pt=l,jt=a,$r.transition=i}else t.current=n;if(mh&&(mh=!1,Gi=t,jf=s),i=t.pendingLanes,i===0&&(so=null),WD(n.stateNode),pr(t,on()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Sf)throw Sf=!1,t=nv,nv=null,t;return jf&1&&t.tag!==0&&ll(),i=t.pendingLanes,i&1?t===rv?uu++:(uu=0,rv=t):uu=0,_o(),null}function ll(){if(Gi!==null){var t=ij(jf),e=$r.transition,n=jt;try{if($r.transition=null,jt=16>t?16:t,Gi===null)var r=!1;else{if(t=Gi,Gi=null,jf=0,pt&6)throw Error(he(331));var s=pt;for(pt|=4,ke=t.current;ke!==null;){var i=ke,a=i.child;if(ke.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ke=u;ke!==null;){var h=ke;switch(h.tag){case 0:case 11:case 15:lu(8,h,i)}var p=h.child;if(p!==null)p.return=h,ke=p;else for(;ke!==null;){h=ke;var m=h.sibling,g=h.return;if(gk(h),h===u){ke=null;break}if(m!==null){m.return=g,ke=m;break}ke=g}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ke=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ke=a;else e:for(;ke!==null;){if(i=ke,i.flags&2048)switch(i.tag){case 0:case 11:case 15:lu(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ke=w;break e}ke=i.return}}var x=t.current;for(ke=x;ke!==null;){a=ke;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,ke=N;else e:for(a=x;ke!==null;){if(l=ke,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Tp(9,l)}}catch(A){nn(l,l.return,A)}if(l===a){ke=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ke=k;break e}ke=l.return}}if(pt=s,_o(),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(Ep,t)}catch{}r=!0}return r}finally{jt=n,$r.transition=e}}return!1}function iE(t,e,n){e=Al(n,e),e=ik(t,e,1),t=ro(t,e,1),e=er(),t!==null&&(fd(t,1,e),pr(t,e))}function nn(t,e,n){if(t.tag===3)iE(t,t,n);else for(;e!==null;){if(e.tag===3){iE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(so===null||!so.has(r))){t=Al(n,t),t=ok(e,t,1),e=ro(e,t,1),t=er(),e!==null&&(fd(e,1,t),pr(e,t));break}}e=e.return}}function v4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=er(),t.pingedLanes|=t.suspendedLanes&n,Nn===t&&(kn&n)===n&&(pn===4||pn===3&&(kn&130023424)===kn&&500>on()-X0?Zo(t,0):Z0|=n),pr(t,e)}function Sk(t,e){e===0&&(t.mode&1?(e=ih,ih<<=1,!(ih&130023424)&&(ih=4194304)):e=1);var n=er();t=ui(t,e),t!==null&&(fd(t,e,n),pr(t,n))}function x4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sk(t,n)}function w4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),Sk(t,n)}var jk;jk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hr.current)ur=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ur=!1,a4(t,e,n);ur=!!(t.flags&131072)}else ur=!1,zt&&e.flags&1048576&&Pj(e,vf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uh(t,e),t=e.pendingProps;var s=kl(e,Kn.current);al(e,n),s=W0(null,e,r,t,s,n);var i=q0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fr(r)?(i=!0,gf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$0(e),s.updater=Ip,e.stateNode=s,s._reactInternals=e,Wy(e,r,t,n),e=Ky(null,e,r,!0,i,n)):(e.tag=0,zt&&i&&R0(e),Xn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=E4(r),t=es(r,t),s){case 0:e=Gy(null,e,r,t,n);break e;case 1:e=Q1(null,e,r,t,n);break e;case 11:e=G1(null,e,r,t,n);break e;case 14:e=K1(null,e,r,es(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:es(r,s),Gy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:es(r,s),Q1(t,e,r,s,n);case 3:e:{if(uk(e),t===null)throw Error(he(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Oj(t,e),bf(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Al(Error(he(423)),e),e=Y1(t,e,r,n,s);break e}else if(r!==s){s=Al(Error(he(424)),e),e=Y1(t,e,r,n,s);break e}else for(Cr=no(e.stateNode.containerInfo.firstChild),jr=e,zt=!0,is=null,n=Mj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Il(),r===s){e=di(t,e,n);break e}Xn(t,e,r,n)}e=e.child}return e;case 5:return Vj(e),t===null&&zy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Oy(r,s)?a=null:i!==null&&Oy(r,i)&&(e.flags|=32),ck(t,e),Xn(t,e,a,n),e.child;case 6:return t===null&&zy(e),null;case 13:return dk(t,e,n);case 4:return U0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Tl(e,null,r,n):Xn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:es(r,s),G1(t,e,r,s,n);case 7:return Xn(t,e,e.pendingProps,n),e.child;case 8:return Xn(t,e,e.pendingProps.children,n),e.child;case 12:return Xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Lt(xf,r._currentValue),r._currentValue=a,i!==null)if(ps(i.value,a)){if(i.children===s.children&&!hr.current){e=di(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=oi(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),By(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(he(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),By(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Xn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,al(e,n),s=Hr(s),r=r(s),e.flags|=1,Xn(t,e,r,n),e.child;case 14:return r=e.type,s=es(r,e.pendingProps),s=es(r.type,s),K1(t,e,r,s,n);case 15:return ak(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:es(r,s),Uh(t,e),e.tag=1,fr(r)?(t=!0,gf(e)):t=!1,al(e,n),sk(e,r,s),Wy(e,r,s,n),Ky(null,e,r,!0,t,n);case 19:return hk(t,e,n);case 22:return lk(t,e,n)}throw Error(he(156,e.tag))};function kk(t,e){return tj(t,e)}function b4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(t,e,n,r){return new b4(t,e,n,r)}function nx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E4(t){if(typeof t=="function")return nx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===b0)return 11;if(t===E0)return 14}return 2}function oo(t,e){var n=t.alternate;return n===null?(n=Vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hh(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")nx(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ha:return Xo(n.children,s,i,e);case w0:a=8,s|=8;break;case my:return t=Vr(12,n,e,s|2),t.elementType=my,t.lanes=i,t;case gy:return t=Vr(13,n,e,s),t.elementType=gy,t.lanes=i,t;case yy:return t=Vr(19,n,e,s),t.elementType=yy,t.lanes=i,t;case VS:return Ap(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DS:a=10;break e;case OS:a=9;break e;case b0:a=11;break e;case E0:a=14;break e;case Ai:a=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=Vr(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Xo(t,e,n,r){return t=Vr(7,t,r,e),t.lanes=n,t}function Ap(t,e,n,r){return t=Vr(22,t,r,e),t.elementType=VS,t.lanes=n,t.stateNode={isHidden:!1},t}function Mg(t,e,n){return t=Vr(6,t,null,e),t.lanes=n,t}function Dg(t,e,n){return e=Vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function N4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gg(0),this.expirationTimes=gg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rx(t,e,n,r,s,i,a,l,c){return t=new N4(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Vr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$0(i),t}function C4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ba,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ik(t){if(!t)return po;t=t._reactInternals;e:{if(Na(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(fr(n))return Ij(t,n,e)}return e}function Tk(t,e,n,r,s,i,a,l,c){return t=rx(n,r,!0,t,s,i,a,l,c),t.context=Ik(null),n=t.current,r=er(),s=io(n),i=oi(r,s),i.callback=e??null,ro(n,i,s),t.current.lanes=s,fd(t,s,r),pr(t,r),t}function Rp(t,e,n,r){var s=e.current,i=er(),a=io(s);return n=Ik(n),e.context===null?e.context=n:e.pendingContext=n,e=oi(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ro(s,e,a),t!==null&&(hs(t,s,a,i),Vh(t,s,a)),a}function If(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sx(t,e){oE(t,e),(t=t.alternate)&&oE(t,e)}function _4(){return null}var Pk=typeof reportError=="function"?reportError:function(t){console.error(t)};function ix(t){this._internalRoot=t}Lp.prototype.render=ix.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));Rp(t,e,null,null)};Lp.prototype.unmount=ix.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;aa(function(){Rp(null,t,null,null)}),e[ci]=null}};function Lp(t){this._internalRoot=t}Lp.prototype.unstable_scheduleHydration=function(t){if(t){var e=lj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mi.length&&e!==0&&e<Mi[n].priority;n++);Mi.splice(n,0,t),n===0&&uj(t)}};function ox(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aE(){}function S4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=If(a);i.call(u)}}var a=Tk(e,r,t,0,null,!1,!1,"",aE);return t._reactRootContainer=a,t[ci]=a.current,Tu(t.nodeType===8?t.parentNode:t),aa(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=If(c);l.call(u)}}var c=rx(t,0,!1,null,null,!1,!1,"",aE);return t._reactRootContainer=c,t[ci]=c.current,Tu(t.nodeType===8?t.parentNode:t),aa(function(){Rp(e,c,n,r)}),c}function Dp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=If(a);l.call(c)}}Rp(e,a,t,s)}else a=S4(n,e,t,s,r);return If(a)}oj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uc(e.pendingLanes);n!==0&&(_0(e,n|1),pr(e,on()),!(pt&6)&&(Rl=on()+500,_o()))}break;case 13:aa(function(){var r=ui(t,1);if(r!==null){var s=er();hs(r,t,1,s)}}),sx(t,1)}};S0=function(t){if(t.tag===13){var e=ui(t,134217728);if(e!==null){var n=er();hs(e,t,134217728,n)}sx(t,134217728)}};aj=function(t){if(t.tag===13){var e=io(t),n=ui(t,e);if(n!==null){var r=er();hs(n,t,e,r)}sx(t,e)}};lj=function(){return jt};cj=function(t,e){var n=jt;try{return jt=t,e()}finally{jt=n}};jy=function(t,e,n){switch(e){case"input":if(wy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Sp(r);if(!s)throw Error(he(90));$S(r),wy(r,s)}}}break;case"textarea":zS(t,n);break;case"select":e=n.value,e!=null&&rl(t,!!n.multiple,e,!1)}};QS=J0;YS=aa;var j4={usingClientEntryPoint:!1,Events:[md,Ka,Sp,GS,KS,J0]},Ac={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k4={bundleType:Ac.bundleType,version:Ac.version,rendererPackageName:Ac.rendererPackageName,rendererConfig:Ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JS(t),t===null?null:t.stateNode},findFiberByHostInstance:Ac.findFiberByHostInstance||_4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{Ep=gh.inject(k4),Ms=gh}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j4;Pr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ox(e))throw Error(he(200));return C4(t,e,null,n)};Pr.createRoot=function(t,e){if(!ox(t))throw Error(he(299));var n=!1,r="",s=Pk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rx(t,1,!1,null,null,n,!1,r,s),t[ci]=e.current,Tu(t.nodeType===8?t.parentNode:t),new ix(e)};Pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=JS(e),t=t===null?null:t.stateNode,t};Pr.flushSync=function(t){return aa(t)};Pr.hydrate=function(t,e,n){if(!Mp(e))throw Error(he(200));return Dp(null,t,e,!0,n)};Pr.hydrateRoot=function(t,e,n){if(!ox(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Pk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Tk(e,null,t,1,n??null,s,!1,i,a),t[ci]=e.current,Tu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Lp(e)};Pr.render=function(t,e,n){if(!Mp(e))throw Error(he(200));return Dp(null,t,e,!1,n)};Pr.unmountComponentAtNode=function(t){if(!Mp(t))throw Error(he(40));return t._reactRootContainer?(aa(function(){Dp(null,null,t,!1,function(){t._reactRootContainer=null,t[ci]=null})}),!0):!1};Pr.unstable_batchedUpdates=J0;Pr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mp(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return Dp(t,e,n,!1,r)};Pr.version="18.3.1-next-f1338f8080-20240426";function Ak(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ak)}catch(t){console.error(t)}}Ak(),AS.exports=Pr;var Kr=AS.exports;const Rk=wS(Kr);var Lk,lE=Kr;Lk=lE.createRoot,lE.hydrateRoot;var cE=["light","dark"],I4="(prefers-color-scheme: dark)",T4=d.createContext(void 0),P4={setTheme:t=>{},themes:[]},A4=()=>{var t;return(t=d.useContext(T4))!=null?t:P4};d.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?cE.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,y=!1,b=!0)=>{let w=a?a[v]:v,x=y?v+"|| ''":`'${w}'`,N="";return s&&b&&!y&&cE.includes(v)&&(N+=`d.style.colorScheme = '${v}';`),n==="class"?y||w?N+=`c.add(${x})`:N+="null":w&&(N+=`d[s](n,${x})`),N},g=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${I4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${p}}catch(t){}}();`;return d.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var R4=t=>{switch(t){case"success":return D4;case"info":return V4;case"warning":return O4;case"error":return F4;default:return null}},L4=Array(12).fill(0),M4=({visible:t,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},de.createElement("div",{className:"sonner-spinner"},L4.map((n,r)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),D4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),O4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),V4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),F4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),U4=()=>{let[t,e]=de.useState(document.hidden);return de.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},ov=1,z4=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:ov++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,a,l=s.then(async u=>{if(a=["resolve",u],de.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(H4(u)&&!u.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:h,description:p})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:h,description:p})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:h,description:p})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,h)=>l.then(()=>a[0]==="reject"?h(a[1]):u(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||ov++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ir=new z4,B4=(t,e)=>{let n=(e==null?void 0:e.id)||ov++;return ir.addToast({title:t,...e,id:n}),n},H4=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",W4=B4,q4=()=>ir.toasts,G4=()=>ir.getActiveToasts(),z=Object.assign(W4,{success:ir.success,info:ir.info,warning:ir.warning,error:ir.error,custom:ir.custom,message:ir.message,promise:ir.promise,dismiss:ir.dismiss,loading:ir.loading},{getHistory:q4,getToasts:G4});function K4(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}K4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function yh(t){return t.label!==void 0}var Q4=3,Y4="32px",Z4="16px",uE=4e3,X4=356,J4=14,e5=20,t5=200;function Xr(...t){return t.filter(Boolean).join(" ")}function n5(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var r5=t=>{var e,n,r,s,i,a,l,c,u,h,p;let{invert:m,toast:g,unstyled:v,interacting:y,setHeights:b,visibleToasts:w,heights:x,index:N,toasts:k,expanded:A,removeToast:R,defaultRichColors:C,closeButton:_,style:S,cancelButtonStyle:T,actionButtonStyle:I,className:P="",descriptionClassName:L="",duration:G,position:$,gap:F,loadingIcon:W,expandByDefault:O,classNames:D,icons:B,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:U}=t,[Q,ie]=de.useState(null),[q,ge]=de.useState(null),[J,ue]=de.useState(!1),[ye,Y]=de.useState(!1),[Z,te]=de.useState(!1),[ve,Me]=de.useState(!1),[ee,Ae]=de.useState(!1),[qe,Ct]=de.useState(0),[tt,ot]=de.useState(0),Be=de.useRef(g.duration||G||uE),fe=de.useRef(null),re=de.useRef(null),pe=N===0,je=N+1<=w,ae=g.type,Ee=g.dismissible!==!1,Ie=g.className||"",ht=g.descriptionClassName||"",kt=de.useMemo(()=>x.findIndex(Re=>Re.toastId===g.id)||0,[x,g.id]),It=de.useMemo(()=>{var Re;return(Re=g.closeButton)!=null?Re:_},[g.closeButton,_]),At=de.useMemo(()=>g.duration||G||uE,[g.duration,G]),Mt=de.useRef(0),Bt=de.useRef(0),Xe=de.useRef(0),Je=de.useRef(null),[Zt,ce]=$.split("-"),Se=de.useMemo(()=>x.reduce((Re,Qe,rt)=>rt>=kt?Re:Re+Qe.height,0),[x,kt]),He=U4(),mt=g.invert||m,Ht=ae==="loading";Bt.current=de.useMemo(()=>kt*F+Se,[kt,Se]),de.useEffect(()=>{Be.current=At},[At]),de.useEffect(()=>{ue(!0)},[]),de.useEffect(()=>{let Re=re.current;if(Re){let Qe=Re.getBoundingClientRect().height;return ot(Qe),b(rt=>[{toastId:g.id,height:Qe,position:g.position},...rt]),()=>b(rt=>rt.filter(Xt=>Xt.toastId!==g.id))}},[b,g.id]),de.useLayoutEffect(()=>{if(!J)return;let Re=re.current,Qe=Re.style.height;Re.style.height="auto";let rt=Re.getBoundingClientRect().height;Re.style.height=Qe,ot(rt),b(Xt=>Xt.find(xn=>xn.toastId===g.id)?Xt.map(xn=>xn.toastId===g.id?{...xn,height:rt}:xn):[{toastId:g.id,height:rt,position:g.position},...Xt])},[J,g.title,g.description,b,g.id]);let ut=de.useCallback(()=>{Y(!0),Ct(Bt.current),b(Re=>Re.filter(Qe=>Qe.toastId!==g.id)),setTimeout(()=>{R(g)},t5)},[g,R,b,Bt]);de.useEffect(()=>{if(g.promise&&ae==="loading"||g.duration===1/0||g.type==="loading")return;let Re;return A||y||U&&He?(()=>{if(Xe.current<Mt.current){let Qe=new Date().getTime()-Mt.current;Be.current=Be.current-Qe}Xe.current=new Date().getTime()})():Be.current!==1/0&&(Mt.current=new Date().getTime(),Re=setTimeout(()=>{var Qe;(Qe=g.onAutoClose)==null||Qe.call(g,g),ut()},Be.current)),()=>clearTimeout(Re)},[A,y,g,ae,U,He,ut]),de.useEffect(()=>{g.delete&&ut()},[ut,g.delete]);function Tt(){var Re,Qe,rt;return B!=null&&B.loading?de.createElement("div",{className:Xr(D==null?void 0:D.loader,(Re=g==null?void 0:g.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":ae==="loading"},B.loading):W?de.createElement("div",{className:Xr(D==null?void 0:D.loader,(Qe=g==null?void 0:g.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":ae==="loading"},W):de.createElement(M4,{className:Xr(D==null?void 0:D.loader,(rt=g==null?void 0:g.classNames)==null?void 0:rt.loader),visible:ae==="loading"})}return de.createElement("li",{tabIndex:0,ref:re,className:Xr(P,Ie,D==null?void 0:D.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[ae],(n=g==null?void 0:g.classNames)==null?void 0:n[ae]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:C,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":J,"data-promise":!!g.promise,"data-swiped":ee,"data-removed":ye,"data-visible":je,"data-y-position":Zt,"data-x-position":ce,"data-index":N,"data-front":pe,"data-swiping":Z,"data-dismissible":Ee,"data-type":ae,"data-invert":mt,"data-swipe-out":ve,"data-swipe-direction":q,"data-expanded":!!(A||O&&J),style:{"--index":N,"--toasts-before":N,"--z-index":k.length-N,"--offset":`${ye?qe:Bt.current}px`,"--initial-height":O?"auto":`${tt}px`,...S,...g.style},onDragEnd:()=>{te(!1),ie(null),Je.current=null},onPointerDown:Re=>{Ht||!Ee||(fe.current=new Date,Ct(Bt.current),Re.target.setPointerCapture(Re.pointerId),Re.target.tagName!=="BUTTON"&&(te(!0),Je.current={x:Re.clientX,y:Re.clientY}))},onPointerUp:()=>{var Re,Qe,rt,Xt;if(ve||!Ee)return;Je.current=null;let xn=Number(((Re=re.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gt=Number(((Qe=re.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),be=new Date().getTime()-((rt=fe.current)==null?void 0:rt.getTime()),Jt=Q==="x"?xn:gt,Mn=Math.abs(Jt)/be;if(Math.abs(Jt)>=e5||Mn>.11){Ct(Bt.current),(Xt=g.onDismiss)==null||Xt.call(g,g),ge(Q==="x"?xn>0?"right":"left":gt>0?"down":"up"),ut(),Me(!0),Ae(!1);return}te(!1),ie(null)},onPointerMove:Re=>{var Qe,rt,Xt,xn;if(!Je.current||!Ee||((Qe=window.getSelection())==null?void 0:Qe.toString().length)>0)return;let gt=Re.clientY-Je.current.y,be=Re.clientX-Je.current.x,Jt=(rt=t.swipeDirections)!=null?rt:n5($);!Q&&(Math.abs(be)>1||Math.abs(gt)>1)&&ie(Math.abs(be)>Math.abs(gt)?"x":"y");let Mn={x:0,y:0};Q==="y"?(Jt.includes("top")||Jt.includes("bottom"))&&(Jt.includes("top")&&gt<0||Jt.includes("bottom")&&gt>0)&&(Mn.y=gt):Q==="x"&&(Jt.includes("left")||Jt.includes("right"))&&(Jt.includes("left")&&be<0||Jt.includes("right")&&be>0)&&(Mn.x=be),(Math.abs(Mn.x)>0||Math.abs(Mn.y)>0)&&Ae(!0),(Xt=re.current)==null||Xt.style.setProperty("--swipe-amount-x",`${Mn.x}px`),(xn=re.current)==null||xn.style.setProperty("--swipe-amount-y",`${Mn.y}px`)}},It&&!g.jsx?de.createElement("button",{"aria-label":V,"data-disabled":Ht,"data-close-button":!0,onClick:Ht||!Ee?()=>{}:()=>{var Re;ut(),(Re=g.onDismiss)==null||Re.call(g,g)},className:Xr(D==null?void 0:D.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=B==null?void 0:B.close)!=null?i:$4):null,g.jsx||d.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:de.createElement(de.Fragment,null,ae||g.icon||g.promise?de.createElement("div",{"data-icon":"",className:Xr(D==null?void 0:D.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Tt():null,g.type!=="loading"?g.icon||(B==null?void 0:B[ae])||R4(ae):null):null,de.createElement("div",{"data-content":"",className:Xr(D==null?void 0:D.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},de.createElement("div",{"data-title":"",className:Xr(D==null?void 0:D.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?de.createElement("div",{"data-description":"",className:Xr(L,ht,D==null?void 0:D.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),d.isValidElement(g.cancel)?g.cancel:g.cancel&&yh(g.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||T,onClick:Re=>{var Qe,rt;yh(g.cancel)&&Ee&&((rt=(Qe=g.cancel).onClick)==null||rt.call(Qe,Re),ut())},className:Xr(D==null?void 0:D.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,d.isValidElement(g.action)?g.action:g.action&&yh(g.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||I,onClick:Re=>{var Qe,rt;yh(g.action)&&((rt=(Qe=g.action).onClick)==null||rt.call(Qe,Re),!Re.defaultPrevented&&ut())},className:Xr(D==null?void 0:D.actionButton,(p=g==null?void 0:g.classNames)==null?void 0:p.actionButton)},g.action.label):null))};function dE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function s5(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?Z4:Y4;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var i5=d.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:p,duration:m,style:g,visibleToasts:v=Q4,toastOptions:y,dir:b=dE(),gap:w=J4,loadingIcon:x,icons:N,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:A}=t,[R,C]=de.useState([]),_=de.useMemo(()=>Array.from(new Set([r].concat(R.filter(U=>U.position).map(U=>U.position)))),[R,r]),[S,T]=de.useState([]),[I,P]=de.useState(!1),[L,G]=de.useState(!1),[$,F]=de.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=de.useRef(null),O=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=de.useRef(null),B=de.useRef(!1),V=de.useCallback(U=>{C(Q=>{var ie;return(ie=Q.find(q=>q.id===U.id))!=null&&ie.delete||ir.dismiss(U.id),Q.filter(({id:q})=>q!==U.id)})},[]);return de.useEffect(()=>ir.subscribe(U=>{if(U.dismiss){C(Q=>Q.map(ie=>ie.id===U.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{Rk.flushSync(()=>{C(Q=>{let ie=Q.findIndex(q=>q.id===U.id);return ie!==-1?[...Q.slice(0,ie),{...Q[ie],...U},...Q.slice(ie+1)]:[U,...Q]})})})}),[]),de.useEffect(()=>{if(h!=="system"){F(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:Q})=>{F(Q?"dark":"light")})}catch{U.addListener(({matches:ie})=>{try{F(ie?"dark":"light")}catch(q){console.error(q)}})}},[h]),de.useEffect(()=>{R.length<=1&&P(!1)},[R]),de.useEffect(()=>{let U=Q=>{var ie,q;s.every(ge=>Q[ge]||Q.code===ge)&&(P(!0),(ie=W.current)==null||ie.focus()),Q.code==="Escape"&&(document.activeElement===W.current||(q=W.current)!=null&&q.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[s]),de.useEffect(()=>{if(W.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,B.current=!1)}},[W.current]),de.createElement("section",{ref:e,"aria-label":`${k} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((U,Q)=>{var ie;let[q,ge]=U.split("-");return R.length?de.createElement("ol",{key:U,dir:b==="auto"?dE():b,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":q,"data-lifted":I&&R.length>1&&!i,"data-x-position":ge,style:{"--front-toast-height":`${((ie=S[0])==null?void 0:ie.height)||0}px`,"--width":`${X4}px`,"--gap":`${w}px`,...g,...s5(c,u)},onBlur:J=>{B.current&&!J.currentTarget.contains(J.relatedTarget)&&(B.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||B.current||(B.current=!0,D.current=J.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{L||P(!1)},onDragEnd:()=>P(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},R.filter(J=>!J.position&&Q===0||J.position===U).map((J,ue)=>{var ye,Y;return de.createElement(r5,{key:J.id,icons:N,index:ue,toast:J,defaultRichColors:p,duration:(ye=y==null?void 0:y.duration)!=null?ye:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:v,closeButton:(Y=y==null?void 0:y.closeButton)!=null?Y:a,interacting:L,position:U,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:V,toasts:R.filter(Z=>Z.position==J.position),heights:S.filter(Z=>Z.position==J.position),setHeights:T,expandByDefault:i,gap:w,loadingIcon:x,expanded:I,pauseWhenPageIsHidden:A,swipeDirections:t.swipeDirections})})):null}))});const o5=({...t})=>{const{theme:e="system"}=A4();return o.jsx(i5,{theme:e,className:"toaster group",position:"bottom-right",duration:3e3,toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function we(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function hE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Op(...t){return e=>{let n=!1;const r=t.map(s=>{const i=hE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():hE(t[s],null)}}}}function ct(...t){return d.useCallback(Op(...t),t)}function a5(t,e){const n=d.createContext(e),r=i=>{const{children:a,...l}=i,c=d.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=d.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function rr(t,e=[]){let n=[];function r(i,a){const l=d.createContext(a),c=n.length;n=[...n,a];const u=p=>{var w;const{scope:m,children:g,...v}=p,y=((w=m==null?void 0:m[t])==null?void 0:w[c])||l,b=d.useMemo(()=>v,Object.values(v));return o.jsx(y.Provider,{value:b,children:g})};u.displayName=i+"Provider";function h(p,m){var y;const g=((y=m==null?void 0:m[t])==null?void 0:y[c])||l,v=d.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return d.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,l5(s,...e)]}function l5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...l,...p}},{});return d.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function la(t){const e=u5(t),n=d.forwardRef((r,s)=>{const{children:i,...a}=r,l=d.Children.toArray(i),c=l.find(h5);if(c){const u=c.props.children,h=l.map(p=>p===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:p);return o.jsx(e,{...a,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var c5=la("Slot");function u5(t){const e=d.forwardRef((n,r)=>{const{children:s,...i}=n;if(d.isValidElement(s)){const a=p5(s),l=f5(i,s.props);return s.type!==d.Fragment&&(l.ref=r?Op(r,a):a),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Mk=Symbol("radix.slottable");function d5(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Mk,e}function h5(t){return d.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Mk}function f5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function p5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var m5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=m5.reduce((t,e)=>{const n=la(`Primitive.${e}`),r=d.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Dk(t,e){t&&Kr.flushSync(()=>t.dispatchEvent(e))}function Us(t){const e=d.useRef(t);return d.useEffect(()=>{e.current=t}),d.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function g5(t,e=globalThis==null?void 0:globalThis.document){const n=Us(t);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var y5="DismissableLayer",av="dismissableLayer.update",v5="dismissableLayer.pointerDownOutside",x5="dismissableLayer.focusOutside",fE,Ok=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yd=d.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=d.useContext(Ok),[h,p]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=d.useState({}),v=ct(e,C=>p(C)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(b),x=h?y.indexOf(h):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,k=x>=w,A=E5(C=>{const _=C.target,S=[...u.branches].some(T=>T.contains(_));!k||S||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),R=N5(C=>{const _=C.target;[...u.branches].some(T=>T.contains(_))||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return g5(C=>{x===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(fE=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),pE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=fE)}},[h,m,n,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),pE())},[h,u]),d.useEffect(()=>{const C=()=>g({});return document.addEventListener(av,C),()=>document.removeEventListener(av,C)},[]),o.jsx(Ve.div,{...c,ref:v,style:{pointerEvents:N?k?"auto":"none":void 0,...t.style},onFocusCapture:we(t.onFocusCapture,R.onFocusCapture),onBlurCapture:we(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:we(t.onPointerDownCapture,A.onPointerDownCapture)})});yd.displayName=y5;var w5="DismissableLayerBranch",b5=d.forwardRef((t,e)=>{const n=d.useContext(Ok),r=d.useRef(null),s=ct(e,r);return d.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Ve.div,{...t,ref:s})});b5.displayName=w5;function E5(t,e=globalThis==null?void 0:globalThis.document){const n=Us(t),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){Vk(v5,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function N5(t,e=globalThis==null?void 0:globalThis.document){const n=Us(t),r=d.useRef(!1);return d.useEffect(()=>{const s=i=>{i.target&&!r.current&&Vk(x5,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pE(){const t=new CustomEvent(av);document.dispatchEvent(t)}function Vk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Dk(s,i):s.dispatchEvent(i)}var Pn=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},C5=g0[" useId ".trim().toString()]||(()=>{}),_5=0;function Ur(t){const[e,n]=d.useState(C5());return Pn(()=>{n(r=>r??String(_5++))},[t]),e?`radix-${e}`:""}const S5=["top","right","bottom","left"],mo=Math.min,Er=Math.max,Tf=Math.round,vh=Math.floor,Os=t=>({x:t,y:t}),j5={left:"right",right:"left",bottom:"top",top:"bottom"},k5={start:"end",end:"start"};function lv(t,e,n){return Er(t,mo(e,n))}function hi(t,e){return typeof t=="function"?t(e):t}function fi(t){return t.split("-")[0]}function Ql(t){return t.split("-")[1]}function ax(t){return t==="x"?"y":"x"}function lx(t){return t==="y"?"height":"width"}function As(t){return["top","bottom"].includes(fi(t))?"y":"x"}function cx(t){return ax(As(t))}function I5(t,e,n){n===void 0&&(n=!1);const r=Ql(t),s=cx(t),i=lx(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Pf(a)),[a,Pf(a)]}function T5(t){const e=Pf(t);return[cv(t),e,cv(e)]}function cv(t){return t.replace(/start|end/g,e=>k5[e])}function P5(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function A5(t,e,n,r){const s=Ql(t);let i=P5(fi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(cv)))),i}function Pf(t){return t.replace(/left|right|bottom|top/g,e=>j5[e])}function R5(t){return{top:0,right:0,bottom:0,left:0,...t}}function Fk(t){return typeof t!="number"?R5(t):{top:t,right:t,bottom:t,left:t}}function Af(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function mE(t,e,n){let{reference:r,floating:s}=t;const i=As(e),a=cx(e),l=lx(a),c=fi(e),u=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:p};break;case"left":g={x:r.x-s.width,y:p};break;default:g={x:r.x,y:r.y}}switch(Ql(e)){case"start":g[a]-=m*(n&&u?-1:1);break;case"end":g[a]+=m*(n&&u?-1:1);break}return g}const L5=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=mE(u,r,c),m=r,g={},v=0;for(let y=0;y<l.length;y++){const{name:b,fn:w}=l[y],{x,y:N,data:k,reset:A}=await w({x:h,y:p,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:t,floating:e}});h=x??h,p=N??p,g={...g,[b]:{...g[b],...k}},A&&v<=50&&(v++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(u=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:h,y:p}=mE(u,m,c)),y=-1)}return{x:h,y:p,placement:m,strategy:s,middlewareData:g}};async function Fu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:g=0}=hi(e,t),v=Fk(g),b=l[m?p==="floating"?"reference":"floating":p],w=Af(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),x=p==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},A=Af(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:N,strategy:c}):x);return{top:(w.top-A.top+v.top)/k.y,bottom:(A.bottom-w.bottom+v.bottom)/k.y,left:(w.left-A.left+v.left)/k.x,right:(A.right-w.right+v.right)/k.x}}const M5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=hi(t,e)||{};if(u==null)return{};const p=Fk(h),m={x:n,y:r},g=cx(s),v=lx(g),y=await a.getDimensions(u),b=g==="y",w=b?"top":"left",x=b?"bottom":"right",N=b?"clientHeight":"clientWidth",k=i.reference[v]+i.reference[g]-m[g]-i.floating[v],A=m[g]-i.reference[g],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=R?R[N]:0;(!C||!await(a.isElement==null?void 0:a.isElement(R)))&&(C=l.floating[N]||i.floating[v]);const _=k/2-A/2,S=C/2-y[v]/2-1,T=mo(p[w],S),I=mo(p[x],S),P=T,L=C-y[v]-I,G=C/2-y[v]/2+_,$=lv(P,G,L),F=!c.arrow&&Ql(s)!=null&&G!==$&&i.reference[v]/2-(G<P?T:I)-y[v]/2<0,W=F?G<P?G-P:G-L:0;return{[g]:m[g]+W,data:{[g]:$,centerOffset:G-$-W,...F&&{alignmentOffset:W}},reset:F}}}),D5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...b}=hi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=fi(s),x=As(l),N=fi(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),A=m||(N||!y?[Pf(l)]:T5(l)),R=v!=="none";!m&&R&&A.push(...A5(l,y,v,k));const C=[l,...A],_=await Fu(e,b),S=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&S.push(_[w]),p){const G=I5(s,a,k);S.push(_[G[0]],_[G[1]])}if(T=[...T,{placement:s,overflows:S}],!S.every(G=>G<=0)){var I,P;const G=(((I=i.flip)==null?void 0:I.index)||0)+1,$=C[G];if($&&(!(p==="alignment"?x!==As($):!1)||T.every(O=>O.overflows[0]>0&&As(O.placement)===x)))return{data:{index:G,overflows:T},reset:{placement:$}};let F=(P=T.filter(W=>W.overflows[0]<=0).sort((W,O)=>W.overflows[1]-O.overflows[1])[0])==null?void 0:P.placement;if(!F)switch(g){case"bestFit":{var L;const W=(L=T.filter(O=>{if(R){const D=As(O.placement);return D===x||D==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(D=>D>0).reduce((D,B)=>D+B,0)]).sort((O,D)=>O[1]-D[1])[0])==null?void 0:L[0];W&&(F=W);break}case"initialPlacement":F=l;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function gE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function yE(t){return S5.some(e=>t[e]>=0)}const O5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=hi(t,e);switch(r){case"referenceHidden":{const i=await Fu(e,{...s,elementContext:"reference"}),a=gE(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:yE(a)}}}case"escaped":{const i=await Fu(e,{...s,altBoundary:!0}),a=gE(i,n.floating);return{data:{escapedOffsets:a,escaped:yE(a)}}}default:return{}}}}};async function V5(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=fi(n),l=Ql(n),c=As(n)==="y",u=["left","top"].includes(a)?-1:1,h=i&&c?-1:1,p=hi(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*h,y:m*u}:{x:m*u,y:g*h}}const F5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await V5(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},$5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:w,y:x}=b;return{x:w,y:x}}},...c}=hi(t,e),u={x:n,y:r},h=await Fu(e,c),p=As(fi(s)),m=ax(p);let g=u[m],v=u[p];if(i){const b=m==="y"?"top":"left",w=m==="y"?"bottom":"right",x=g+h[b],N=g-h[w];g=lv(x,g,N)}if(a){const b=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=v+h[b],N=v-h[w];v=lv(x,v,N)}const y=l.fn({...e,[m]:g,[p]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:i,[p]:a}}}}}},U5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=hi(t,e),h={x:n,y:r},p=As(s),m=ax(p);let g=h[m],v=h[p];const y=hi(l,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const N=m==="y"?"height":"width",k=i.reference[m]-i.floating[N]+b.mainAxis,A=i.reference[m]+i.reference[N]-b.mainAxis;g<k?g=k:g>A&&(g=A)}if(u){var w,x;const N=m==="y"?"width":"height",k=["top","left"].includes(fi(s)),A=i.reference[p]-i.floating[N]+(k&&((w=a.offset)==null?void 0:w[p])||0)+(k?0:b.crossAxis),R=i.reference[p]+i.reference[N]+(k?0:((x=a.offset)==null?void 0:x[p])||0)-(k?b.crossAxis:0);v<A?v=A:v>R&&(v=R)}return{[m]:g,[p]:v}}}},z5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=hi(t,e),h=await Fu(e,u),p=fi(s),m=Ql(s),g=As(s)==="y",{width:v,height:y}=i.floating;let b,w;p==="top"||p==="bottom"?(b=p,w=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(w=p,b=m==="end"?"top":"bottom");const x=y-h.top-h.bottom,N=v-h.left-h.right,k=mo(y-h[b],x),A=mo(v-h[w],N),R=!e.middlewareData.shift;let C=k,_=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=x),R&&!m){const T=Er(h.left,0),I=Er(h.right,0),P=Er(h.top,0),L=Er(h.bottom,0);g?_=v-2*(T!==0||I!==0?T+I:Er(h.left,h.right)):C=y-2*(P!==0||L!==0?P+L:Er(h.top,h.bottom))}await c({...e,availableWidth:_,availableHeight:C});const S=await a.getDimensions(l.floating);return v!==S.width||y!==S.height?{reset:{rects:!0}}:{}}}};function Vp(){return typeof window<"u"}function Yl(t){return $k(t)?(t.nodeName||"").toLowerCase():"#document"}function kr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ws(t){var e;return(e=($k(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $k(t){return Vp()?t instanceof Node||t instanceof kr(t).Node:!1}function ms(t){return Vp()?t instanceof Element||t instanceof kr(t).Element:!1}function zs(t){return Vp()?t instanceof HTMLElement||t instanceof kr(t).HTMLElement:!1}function vE(t){return!Vp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof kr(t).ShadowRoot}function vd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=gs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function B5(t){return["table","td","th"].includes(Yl(t))}function Fp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ux(t){const e=dx(),n=ms(t)?gs(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function H5(t){let e=go(t);for(;zs(e)&&!Ll(e);){if(ux(e))return e;if(Fp(e))return null;e=go(e)}return null}function dx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ll(t){return["html","body","#document"].includes(Yl(t))}function gs(t){return kr(t).getComputedStyle(t)}function $p(t){return ms(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function go(t){if(Yl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vE(t)&&t.host||Ws(t);return vE(e)?e.host:e}function Uk(t){const e=go(t);return Ll(e)?t.ownerDocument?t.ownerDocument.body:t.body:zs(e)&&vd(e)?e:Uk(e)}function $u(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Uk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=kr(s);if(i){const l=uv(a);return e.concat(a,a.visualViewport||[],vd(s)?s:[],l&&n?$u(l):[])}return e.concat(s,$u(s,[],n))}function uv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zk(t){const e=gs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=zs(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Tf(n)!==i||Tf(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function hx(t){return ms(t)?t:t.contextElement}function cl(t){const e=hx(t);if(!zs(e))return Os(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=zk(e);let a=(i?Tf(n.width):n.width)/r,l=(i?Tf(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const W5=Os(0);function Bk(t){const e=kr(t);return!dx()||!e.visualViewport?W5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function q5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==kr(t)?!1:e}function ca(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=hx(t);let a=Os(1);e&&(r?ms(r)&&(a=cl(r)):a=cl(t));const l=q5(i,n,r)?Bk(i):Os(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,h=s.width/a.x,p=s.height/a.y;if(i){const m=kr(i),g=r&&ms(r)?kr(r):r;let v=m,y=uv(v);for(;y&&r&&g!==v;){const b=cl(y),w=y.getBoundingClientRect(),x=gs(y),N=w.left+(y.clientLeft+parseFloat(x.paddingLeft))*b.x,k=w.top+(y.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,h*=b.x,p*=b.y,c+=N,u+=k,v=kr(y),y=uv(v)}}return Af({width:h,height:p,x:c,y:u})}function fx(t,e){const n=$p(t).scrollLeft;return e?e.left+n:ca(Ws(t)).left+n}function Hk(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:fx(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function G5(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Ws(r),l=e?Fp(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Os(1);const h=Os(0),p=zs(r);if((p||!p&&!i)&&((Yl(r)!=="body"||vd(a))&&(c=$p(r)),zs(r))){const g=ca(r);u=cl(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=a&&!p&&!i?Hk(a,c,!0):Os(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function K5(t){return Array.from(t.getClientRects())}function Q5(t){const e=Ws(t),n=$p(t),r=t.ownerDocument.body,s=Er(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Er(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+fx(t);const l=-n.scrollTop;return gs(r).direction==="rtl"&&(a+=Er(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function Y5(t,e){const n=kr(t),r=Ws(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=dx();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function Z5(t,e){const n=ca(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=zs(t)?cl(t):Os(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function xE(t,e,n){let r;if(e==="viewport")r=Y5(t,n);else if(e==="document")r=Q5(Ws(t));else if(ms(e))r=Z5(e,n);else{const s=Bk(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Af(r)}function Wk(t,e){const n=go(t);return n===e||!ms(n)||Ll(n)?!1:gs(n).position==="fixed"||Wk(n,e)}function X5(t,e){const n=e.get(t);if(n)return n;let r=$u(t,[],!1).filter(l=>ms(l)&&Yl(l)!=="body"),s=null;const i=gs(t).position==="fixed";let a=i?go(t):t;for(;ms(a)&&!Ll(a);){const l=gs(a),c=ux(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||vd(a)&&!c&&Wk(t,a))?r=r.filter(h=>h!==a):s=l,a=go(a)}return e.set(t,r),r}function J5(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Fp(e)?[]:X5(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,h)=>{const p=xE(e,h,s);return u.top=Er(p.top,u.top),u.right=mo(p.right,u.right),u.bottom=mo(p.bottom,u.bottom),u.left=Er(p.left,u.left),u},xE(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function e6(t){const{width:e,height:n}=zk(t);return{width:e,height:n}}function t6(t,e,n){const r=zs(e),s=Ws(e),i=n==="fixed",a=ca(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Os(0);function u(){c.x=fx(s)}if(r||!r&&!i)if((Yl(e)!=="body"||vd(s))&&(l=$p(e)),r){const g=ca(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?Hk(s,l):Os(0),p=a.left+l.scrollLeft-c.x-h.x,m=a.top+l.scrollTop-c.y-h.y;return{x:p,y:m,width:a.width,height:a.height}}function Og(t){return gs(t).position==="static"}function wE(t,e){if(!zs(t)||gs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ws(t)===n&&(n=n.ownerDocument.body),n}function qk(t,e){const n=kr(t);if(Fp(t))return n;if(!zs(t)){let s=go(t);for(;s&&!Ll(s);){if(ms(s)&&!Og(s))return s;s=go(s)}return n}let r=wE(t,e);for(;r&&B5(r)&&Og(r);)r=wE(r,e);return r&&Ll(r)&&Og(r)&&!ux(r)?n:r||H5(t)||n}const n6=async function(t){const e=this.getOffsetParent||qk,n=this.getDimensions,r=await n(t.floating);return{reference:t6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function r6(t){return gs(t).direction==="rtl"}const s6={convertOffsetParentRelativeRectToViewportRelativeRect:G5,getDocumentElement:Ws,getClippingRect:J5,getOffsetParent:qk,getElementRects:n6,getClientRects:K5,getDimensions:e6,getScale:cl,isElement:ms,isRTL:r6};function Gk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function i6(t,e){let n=null,r;const s=Ws(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:p,width:m,height:g}=u;if(l||e(),!m||!g)return;const v=vh(p),y=vh(s.clientWidth-(h+m)),b=vh(s.clientHeight-(p+g)),w=vh(h),N={rootMargin:-v+"px "+-y+"px "+-b+"px "+-w+"px",threshold:Er(0,mo(1,c))||1};let k=!0;function A(R){const C=R[0].intersectionRatio;if(C!==c){if(!k)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!Gk(u,t.getBoundingClientRect())&&a(),k=!1}try{n=new IntersectionObserver(A,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,N)}n.observe(t)}return a(!0),i}function o6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=hx(t),h=s||i?[...u?$u(u):[],...$u(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const p=u&&l?i6(u,n):null;let m=-1,g=null;a&&(g=new ResizeObserver(w=>{let[x]=w;x&&x.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let v,y=c?ca(t):null;c&&b();function b(){const w=ca(t);y&&!Gk(y,w)&&n(),y=w,v=requestAnimationFrame(b)}return n(),()=>{var w;h.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),p==null||p(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const a6=F5,l6=$5,c6=D5,u6=z5,d6=O5,bE=M5,h6=U5,f6=(t,e,n)=>{const r=new Map,s={platform:s6,...n},i={...s.platform,_c:r};return L5(t,e,{...s,platform:i})};var p6=typeof document<"u",m6=function(){},Wh=p6?d.useLayoutEffect:m6;function Rf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Rf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Rf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Kk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function EE(t,e){const n=Kk(t);return Math.round(e*n)/n}function Vg(t){const e=d.useRef(t);return Wh(()=>{e.current=t}),e}function g6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,p]=d.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=d.useState(r);Rf(m,r)||g(r);const[v,y]=d.useState(null),[b,w]=d.useState(null),x=d.useCallback(O=>{O!==R.current&&(R.current=O,y(O))},[]),N=d.useCallback(O=>{O!==C.current&&(C.current=O,w(O))},[]),k=i||v,A=a||b,R=d.useRef(null),C=d.useRef(null),_=d.useRef(h),S=c!=null,T=Vg(c),I=Vg(s),P=Vg(u),L=d.useCallback(()=>{if(!R.current||!C.current)return;const O={placement:e,strategy:n,middleware:m};I.current&&(O.platform=I.current),f6(R.current,C.current,O).then(D=>{const B={...D,isPositioned:P.current!==!1};G.current&&!Rf(_.current,B)&&(_.current=B,Kr.flushSync(()=>{p(B)}))})},[m,e,n,I,P]);Wh(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,p(O=>({...O,isPositioned:!1})))},[u]);const G=d.useRef(!1);Wh(()=>(G.current=!0,()=>{G.current=!1}),[]),Wh(()=>{if(k&&(R.current=k),A&&(C.current=A),k&&A){if(T.current)return T.current(k,A,L);L()}},[k,A,L,T,S]);const $=d.useMemo(()=>({reference:R,floating:C,setReference:x,setFloating:N}),[x,N]),F=d.useMemo(()=>({reference:k,floating:A}),[k,A]),W=d.useMemo(()=>{const O={position:n,left:0,top:0};if(!F.floating)return O;const D=EE(F.floating,h.x),B=EE(F.floating,h.y);return l?{...O,transform:"translate("+D+"px, "+B+"px)",...Kk(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:B}},[n,l,F.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:L,refs:$,elements:F,floatingStyles:W}),[h,L,$,F,W])}const y6=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?bE({element:r.current,padding:s}).fn(n):{}:r?bE({element:r,padding:s}).fn(n):{}}}},v6=(t,e)=>({...a6(t),options:[t,e]}),x6=(t,e)=>({...l6(t),options:[t,e]}),w6=(t,e)=>({...h6(t),options:[t,e]}),b6=(t,e)=>({...c6(t),options:[t,e]}),E6=(t,e)=>({...u6(t),options:[t,e]}),N6=(t,e)=>({...d6(t),options:[t,e]}),C6=(t,e)=>({...y6(t),options:[t,e]});var _6="Arrow",Qk=d.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(Ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Qk.displayName=_6;var S6=Qk;function px(t){const[e,n]=d.useState(void 0);return Pn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var mx="Popper",[Yk,Zl]=rr(mx),[j6,Zk]=Yk(mx),Xk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=d.useState(null);return o.jsx(j6,{scope:e,anchor:r,onAnchorChange:s,children:n})};Xk.displayName=mx;var Jk="PopperAnchor",eI=d.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Zk(Jk,n),a=d.useRef(null),l=ct(e,a);return d.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(Ve.div,{...s,ref:l})});eI.displayName=Jk;var gx="PopperContent",[k6,I6]=Yk(gx),tI=d.forwardRef((t,e)=>{var J,ue,ye,Y,Z,te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=t,b=Zk(gx,n),[w,x]=d.useState(null),N=ct(e,ve=>x(ve)),[k,A]=d.useState(null),R=px(k),C=(R==null?void 0:R.width)??0,_=(R==null?void 0:R.height)??0,S=r+(i!=="center"?"-"+i:""),T=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},I=Array.isArray(u)?u:[u],P=I.length>0,L={padding:T,boundary:I.filter(P6),altBoundary:P},{refs:G,floatingStyles:$,placement:F,isPositioned:W,middlewareData:O}=g6({strategy:"fixed",placement:S,whileElementsMounted:(...ve)=>o6(...ve,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[v6({mainAxis:s+_,alignmentAxis:a}),c&&x6({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?w6():void 0,...L}),c&&b6({...L}),E6({...L,apply:({elements:ve,rects:Me,availableWidth:ee,availableHeight:Ae})=>{const{width:qe,height:Ct}=Me.reference,tt=ve.floating.style;tt.setProperty("--radix-popper-available-width",`${ee}px`),tt.setProperty("--radix-popper-available-height",`${Ae}px`),tt.setProperty("--radix-popper-anchor-width",`${qe}px`),tt.setProperty("--radix-popper-anchor-height",`${Ct}px`)}}),k&&C6({element:k,padding:l}),A6({arrowWidth:C,arrowHeight:_}),m&&N6({strategy:"referenceHidden",...L})]}),[D,B]=sI(F),V=Us(v);Pn(()=>{W&&(V==null||V())},[W,V]);const U=(J=O.arrow)==null?void 0:J.x,Q=(ue=O.arrow)==null?void 0:ue.y,ie=((ye=O.arrow)==null?void 0:ye.centerOffset)!==0,[q,ge]=d.useState();return Pn(()=>{w&&ge(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:W?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(Y=O.transformOrigin)==null?void 0:Y.x,(Z=O.transformOrigin)==null?void 0:Z.y].join(" "),...((te=O.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(k6,{scope:n,placedSide:D,onArrowChange:A,arrowX:U,arrowY:Q,shouldHideArrow:ie,children:o.jsx(Ve.div,{"data-side":D,"data-align":B,...y,ref:N,style:{...y.style,animation:W?void 0:"none"}})})})});tI.displayName=gx;var nI="PopperArrow",T6={top:"bottom",right:"left",bottom:"top",left:"right"},rI=d.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=I6(nI,r),a=T6[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(S6,{...s,ref:n,style:{...s.style,display:"block"}})})});rI.displayName=nI;function P6(t){return t!==null}var A6=t=>({name:"transformOrigin",options:t,fn(e){var b,w,x;const{placement:n,rects:r,middlewareData:s}=e,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,h]=sI(n),p={start:"0%",center:"50%",end:"100%"}[h],m=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,g=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let v="",y="";return u==="bottom"?(v=a?p:`${m}px`,y=`${-c}px`):u==="top"?(v=a?p:`${m}px`,y=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,y=a?p:`${g}px`):u==="left"&&(v=`${r.floating.width+c}px`,y=a?p:`${g}px`),{data:{x:v,y}}}});function sI(t){const[e,n="center"]=t.split("-");return[e,n]}var iI=Xk,yx=eI,vx=tI,xx=rI,R6="Portal",Up=d.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=d.useState(!1);Pn(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Rk.createPortal(o.jsx(Ve.div,{...r,ref:e}),a):null});Up.displayName=R6;function L6(t,e){return d.useReducer((n,r)=>e[n][r]??n,t)}var Qr=t=>{const{present:e,children:n}=t,r=M6(e),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),i=ct(r.ref,D6(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:i}):null};Qr.displayName="Presence";function M6(t){const[e,n]=d.useState(),r=d.useRef(null),s=d.useRef(t),i=d.useRef("none"),a=t?"mounted":"unmounted",[l,c]=L6(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=xh(r.current);i.current=l==="mounted"?u:"none"},[l]),Pn(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,g=xh(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Pn(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,p=g=>{const y=xh(r.current).includes(g.animationName);if(g.target===e&&y&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=g=>{g.target===e&&(i.current=xh(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function xh(t){return(t==null?void 0:t.animationName)||"none"}function D6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var O6=g0[" useInsertionEffect ".trim().toString()]||Pn;function ys({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=V6({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=d.useRef(t!==void 0);d.useEffect(()=>{const p=h.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=d.useCallback(h=>{var p;if(l){const m=F6(h)?h(t):h;m!==t&&((p=a.current)==null||p.call(a,m))}else i(h)},[l,t,i,a]);return[c,u]}function V6({defaultProp:t,onChange:e}){const[n,r]=d.useState(t),s=d.useRef(n),i=d.useRef(e);return O6(()=>{i.current=e},[e]),d.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function F6(t){return typeof t=="function"}var oI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$6="VisuallyHidden",aI=d.forwardRef((t,e)=>o.jsx(Ve.span,{...t,ref:e,style:{...oI,...t.style}}));aI.displayName=$6;var U6=aI,[zp,kZ]=rr("Tooltip",[Zl]),wx=Zl(),lI="TooltipProvider",z6=700,NE="tooltip.open",[B6,cI]=zp(lI),uI=t=>{const{__scopeTooltip:e,delayDuration:n=z6,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=d.useRef(!0),l=d.useRef(!1),c=d.useRef(0);return d.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(B6,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:d.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};uI.displayName=lI;var dI="Tooltip",[IZ,Bp]=zp(dI),dv="TooltipTrigger",H6=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Bp(dv,n),i=cI(dv,n),a=wx(n),l=d.useRef(null),c=ct(e,l,s.onTriggerChange),u=d.useRef(!1),h=d.useRef(!1),p=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),o.jsx(yx,{asChild:!0,...a,children:o.jsx(Ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:we(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:we(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:we(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:we(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:we(t.onBlur,s.onClose),onClick:we(t.onClick,s.onClose)})})});H6.displayName=dv;var W6="TooltipPortal",[TZ,q6]=zp(W6,{forceMount:void 0}),Ml="TooltipContent",hI=d.forwardRef((t,e)=>{const n=q6(Ml,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=Bp(Ml,t.__scopeTooltip);return o.jsx(Qr,{present:r||a.open,children:a.disableHoverableContent?o.jsx(fI,{side:s,...i,ref:e}):o.jsx(G6,{side:s,...i,ref:e})})}),G6=d.forwardRef((t,e)=>{const n=Bp(Ml,t.__scopeTooltip),r=cI(Ml,t.__scopeTooltip),s=d.useRef(null),i=ct(e,s),[a,l]=d.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:p}=r,m=d.useCallback(()=>{l(null),p(!1)},[p]),g=d.useCallback((v,y)=>{const b=v.currentTarget,w={x:v.clientX,y:v.clientY},x=X6(w,b.getBoundingClientRect()),N=J6(w,x),k=e3(y.getBoundingClientRect()),A=n3([...N,...k]);l(A),p(!0)},[p]);return d.useEffect(()=>()=>m(),[m]),d.useEffect(()=>{if(c&&h){const v=b=>g(b,h),y=b=>g(b,c);return c.addEventListener("pointerleave",v),h.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",y)}}},[c,h,g,m]),d.useEffect(()=>{if(a){const v=y=>{const b=y.target,w={x:y.clientX,y:y.clientY},x=(c==null?void 0:c.contains(b))||(h==null?void 0:h.contains(b)),N=!t3(w,a);x?m():N&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,h,a,u,m]),o.jsx(fI,{...t,ref:i})}),[K6,Q6]=zp(dI,{isInside:!1}),Y6=d5("TooltipContent"),fI=d.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=Bp(Ml,n),u=wx(n),{onClose:h}=c;return d.useEffect(()=>(document.addEventListener(NE,h),()=>document.removeEventListener(NE,h)),[h]),d.useEffect(()=>{if(c.trigger){const p=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,h]),o.jsx(yd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:o.jsxs(vx,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Y6,{children:r}),o.jsx(K6,{scope:n,isInside:!0,children:o.jsx(U6,{id:c.contentId,role:"tooltip",children:s||r})})]})})});hI.displayName=Ml;var pI="TooltipArrow",Z6=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=wx(n);return Q6(pI,n).isInside?null:o.jsx(xx,{...s,...r,ref:e})});Z6.displayName=pI;function X6(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function J6(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function e3(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function t3(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,h=l.y,p=c.x,m=c.y;h>r!=m>r&&n<(p-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function n3(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),r3(e)}function r3(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var s3=uI,mI=hI;function gI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=gI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=gI(t))&&(r&&(r+=" "),r+=e);return r}const bx="-",i3=t=>{const e=a3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(bx);return l[0]===""&&l.length!==1&&l.shift(),vI(l,e)||o3(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},vI=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?vI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(bx);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},CE=/^\[(.+)\]$/,o3=t=>{if(CE.test(t)){const e=CE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},a3=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return c3(Object.entries(t.classGroups),n).forEach(([i,a])=>{hv(a,r,i,e)}),r},hv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:_E(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(l3(s)){hv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{hv(a,_E(e,i),n,r)})})},_E=(t,e)=>{let n=t;return e.split(bx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},l3=t=>t.isThemeGetter,c3=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,u3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},xI="!",d3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,h=0,p;for(let b=0;b<l.length;b++){let w=l[b];if(u===0){if(w===s&&(r||l.slice(b,b+i)===e)){c.push(l.slice(h,b)),h=b+i;continue}if(w==="/"){p=b;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?l:l.substring(h),g=m.startsWith(xI),v=g?m.substring(1):m,y=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:a}):a},h3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},f3=t=>({cache:u3(t.cacheSize),parseClassName:d3(t),...i3(t)}),p3=/\s+/,m3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(p3);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let v=!!g,y=r(v?m.substring(0,g):m);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=r(m),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=h3(h).join(":"),w=p?b+xI:b,x=w+y;if(i.includes(x))continue;i.push(x);const N=s(y,v);for(let k=0;k<N.length;++k){const A=N[k];i.push(w+A)}l=u+(l.length>0?" "+l:l)}return l};function g3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=wI(e))&&(r&&(r+=" "),r+=n);return r}const wI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wI(t[r]))&&(n&&(n+=" "),n+=e);return n};function y3(t,...e){let n,r,s,i=a;function a(c){const u=e.reduce((h,p)=>p(h),t());return n=f3(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=m3(c,n);return s(c,h),h}return function(){return i(g3.apply(null,arguments))}}const Ot=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},bI=/^\[(?:([a-z-]+):)?(.+)\]$/i,v3=/^\d+\/\d+$/,x3=new Set(["px","full","screen"]),w3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,b3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,N3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,C3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ks=t=>ul(t)||x3.has(t)||v3.test(t),Si=t=>Xl(t,"length",A3),ul=t=>!!t&&!Number.isNaN(Number(t)),Fg=t=>Xl(t,"number",ul),Rc=t=>!!t&&Number.isInteger(Number(t)),_3=t=>t.endsWith("%")&&ul(t.slice(0,-1)),Ye=t=>bI.test(t),ji=t=>w3.test(t),S3=new Set(["length","size","percentage"]),j3=t=>Xl(t,S3,EI),k3=t=>Xl(t,"position",EI),I3=new Set(["image","url"]),T3=t=>Xl(t,I3,L3),P3=t=>Xl(t,"",R3),Lc=()=>!0,Xl=(t,e,n)=>{const r=bI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},A3=t=>b3.test(t)&&!E3.test(t),EI=()=>!1,R3=t=>N3.test(t),L3=t=>C3.test(t),M3=()=>{const t=Ot("colors"),e=Ot("spacing"),n=Ot("blur"),r=Ot("brightness"),s=Ot("borderColor"),i=Ot("borderRadius"),a=Ot("borderSpacing"),l=Ot("borderWidth"),c=Ot("contrast"),u=Ot("grayscale"),h=Ot("hueRotate"),p=Ot("invert"),m=Ot("gap"),g=Ot("gradientColorStops"),v=Ot("gradientColorStopPositions"),y=Ot("inset"),b=Ot("margin"),w=Ot("opacity"),x=Ot("padding"),N=Ot("saturate"),k=Ot("scale"),A=Ot("sepia"),R=Ot("skew"),C=Ot("space"),_=Ot("translate"),S=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Ye,e],P=()=>[Ye,e],L=()=>["",Ks,Si],G=()=>["auto",ul,Ye],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Ye],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[ul,Ye];return{cacheSize:500,separator:":",theme:{colors:[Lc],spacing:[Ks,Si],blur:["none","",ji,Ye],brightness:V(),borderColor:[t],borderRadius:["none","","full",ji,Ye],borderSpacing:P(),borderWidth:L(),contrast:V(),grayscale:D(),hueRotate:V(),invert:D(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[_3,Si],inset:I(),margin:I(),opacity:V(),padding:P(),saturate:V(),scale:V(),sepia:D(),skew:V(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[ji]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Ye]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rc,Ye]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Rc,Ye]}],"grid-cols":[{"grid-cols":[Lc]}],"col-start-end":[{col:["auto",{span:["full",Rc,Ye]},Ye]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Lc]}],"row-start-end":[{row:["auto",{span:[Rc,Ye]},Ye]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,e]}],"min-w":[{"min-w":[Ye,e,"min","max","fit"]}],"max-w":[{"max-w":[Ye,e,"none","full","min","max","fit","prose",{screen:[ji]},ji]}],h:[{h:[Ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ji,Si]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fg]}],"font-family":[{font:[Lc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",ul,Fg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ks,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ks,Si]}],"underline-offset":[{"underline-offset":["auto",Ks,Ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),k3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",j3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},T3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Ks,Ye]}],"outline-w":[{outline:[Ks,Si]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ks,Si]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ji,P3]}],"shadow-color":[{shadow:[Lc]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ji,Ye]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[N]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Rc,Ye]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ks,Si,Fg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},D3=y3(M3);function De(...t){return D3(yI(t))}const O3=s3,V3=d.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(mI,{ref:r,sideOffset:e,className:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));V3.displayName=mI.displayName;var Hp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wp=typeof window>"u"||"Deno"in globalThis;function ts(){}function F3(t,e){return typeof t=="function"?t(e):t}function $3(t){return typeof t=="number"&&t>=0&&t!==1/0}function U3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function fv(t,e){return typeof t=="function"?t(e):t}function z3(t,e){return typeof t=="function"?t(e):t}function SE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==Ex(a,e.options))return!1}else if(!zu(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function jE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Uu(e.options.mutationKey)!==Uu(i))return!1}else if(!zu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ex(t,e){return((e==null?void 0:e.queryKeyHashFn)||Uu)(t)}function Uu(t){return JSON.stringify(t,(e,n)=>pv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function zu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>zu(t[n],e[n])):!1}function NI(t,e){if(t===e)return t;const n=kE(t)&&kE(e);if(n||pv(t)&&pv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<a;h++){const p=n?h:i[h];(!n&&c.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(l[p]=void 0,u++):(l[p]=NI(t[p],e[p]),l[p]===t[p]&&t[p]!==void 0&&u++)}return s===a&&u===s?t:l}return e}function kE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pv(t){if(!IE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!IE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function IE(t){return Object.prototype.toString.call(t)==="[object Object]"}function B3(t){return new Promise(e=>{setTimeout(e,t)})}function H3(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?NI(t,e):e}function W3(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function q3(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Nx=Symbol();function CI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Nx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Wo,Ui,xl,hS,G3=(hS=class extends Hp{constructor(){super();vt(this,Wo);vt(this,Ui);vt(this,xl);Ke(this,xl,e=>{if(!Wp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){se(this,Ui)||this.setEventListener(se(this,xl))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,Ui))==null||e.call(this),Ke(this,Ui,void 0))}setEventListener(e){var n;Ke(this,xl,e),(n=se(this,Ui))==null||n.call(this),Ke(this,Ui,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){se(this,Wo)!==e&&(Ke(this,Wo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof se(this,Wo)=="boolean"?se(this,Wo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Wo=new WeakMap,Ui=new WeakMap,xl=new WeakMap,hS),_I=new G3,wl,zi,bl,fS,K3=(fS=class extends Hp{constructor(){super();vt(this,wl,!0);vt(this,zi);vt(this,bl);Ke(this,bl,e=>{if(!Wp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){se(this,zi)||this.setEventListener(se(this,bl))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,zi))==null||e.call(this),Ke(this,zi,void 0))}setEventListener(e){var n;Ke(this,bl,e),(n=se(this,zi))==null||n.call(this),Ke(this,zi,e(this.setOnline.bind(this)))}setOnline(e){se(this,wl)!==e&&(Ke(this,wl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return se(this,wl)}},wl=new WeakMap,zi=new WeakMap,bl=new WeakMap,fS),Lf=new K3;function Q3(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function Y3(t){return Math.min(1e3*2**t,3e4)}function SI(t){return(t??"online")==="online"?Lf.isOnline():!0}var jI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function $g(t){return t instanceof jI}function kI(t){let e=!1,n=0,r=!1,s;const i=Q3(),a=y=>{var b;r||(m(new jI(y)),(b=t.abort)==null||b.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>_I.isFocused()&&(t.networkMode==="always"||Lf.isOnline())&&t.canRun(),h=()=>SI(t.networkMode)&&t.canRun(),p=y=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,y),s==null||s(),i.resolve(y))},m=y=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var b;s=w=>{(r||u())&&y(w)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(r)return;let y;const b=n===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(p).catch(w=>{var R;if(r)return;const x=t.retry??(Wp?0:3),N=t.retryDelay??Y3,k=typeof N=="function"?N(n,w):N,A=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,w);if(e||!A){m(w);return}n++,(R=t.onFail)==null||R.call(t,n,w),B3(k).then(()=>u()?void 0:g()).then(()=>{e?m(w):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?v():g().then(v),i)}}var Z3=t=>setTimeout(t,0);function X3(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=Z3;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Jn=X3(),qo,pS,II=(pS=class{constructor(){vt(this,qo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$3(this.gcTime)&&Ke(this,qo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wp?1/0:5*60*1e3))}clearGcTimeout(){se(this,qo)&&(clearTimeout(se(this,qo)),Ke(this,qo,void 0))}},qo=new WeakMap,pS),El,Go,Mr,Ko,zn,ud,Qo,ns,Qs,mS,J3=(mS=class extends II{constructor(n){super();vt(this,ns);vt(this,El);vt(this,Go);vt(this,Mr);vt(this,Ko);vt(this,zn);vt(this,ud);vt(this,Qo);Ke(this,Qo,!1),Ke(this,ud,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ke(this,Ko,n.client),Ke(this,Mr,se(this,Ko).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ke(this,El,tV(this.options)),this.state=n.state??se(this,El),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=se(this,zn))==null?void 0:n.promise}setOptions(n){this.options={...se(this,ud),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,Mr).remove(this)}setData(n,r){const s=H3(this.state.data,n,this.options);return Vn(this,ns,Qs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Vn(this,ns,Qs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=se(this,zn))==null?void 0:s.promise;return(i=se(this,zn))==null||i.cancel(n),r?r.then(ts).catch(ts):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,El))}isActive(){return this.observers.some(n=>z3(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>fv(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!U3(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=se(this,zn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=se(this,zn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),se(this,Mr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(se(this,zn)&&(se(this,Qo)?se(this,zn).cancel({revert:!0}):se(this,zn).cancelRetry()),this.scheduleGc()),se(this,Mr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vn(this,ns,Qs).call(this,{type:"invalidate"})}fetch(n,r){var h,p,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(se(this,zn))return se(this,zn).continueRetry(),se(this,zn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(v=>v.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ke(this,Qo,!0),s.signal)})},a=()=>{const g=CI(this.options,r),y=(()=>{const b={client:se(this,Ko),queryKey:this.queryKey,meta:this.meta};return i(b),b})();return Ke(this,Qo,!1),this.options.persister?this.options.persister(g,y,this):g(y)},c=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:se(this,Ko),state:this.state,fetchFn:a};return i(g),g})();(h=this.options.behavior)==null||h.onFetch(c,this),Ke(this,Go,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&Vn(this,ns,Qs).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=g=>{var v,y,b,w;$g(g)&&g.silent||Vn(this,ns,Qs).call(this,{type:"error",error:g}),$g(g)||((y=(v=se(this,Mr).config).onError)==null||y.call(v,g,this),(w=(b=se(this,Mr).config).onSettled)==null||w.call(b,this.state.data,g,this)),this.scheduleGc()};return Ke(this,zn,kI({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var v,y,b,w;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(x){u(x);return}(y=(v=se(this,Mr).config).onSuccess)==null||y.call(v,g,this),(w=(b=se(this,Mr).config).onSettled)==null||w.call(b,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,v)=>{Vn(this,ns,Qs).call(this,{type:"failed",failureCount:g,error:v})},onPause:()=>{Vn(this,ns,Qs).call(this,{type:"pause"})},onContinue:()=>{Vn(this,ns,Qs).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),se(this,zn).start()}},El=new WeakMap,Go=new WeakMap,Mr=new WeakMap,Ko=new WeakMap,zn=new WeakMap,ud=new WeakMap,Qo=new WeakMap,ns=new WeakSet,Qs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...eV(s.data,this.options),fetchMeta:n.meta??null};case"success":return Ke(this,Go,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return $g(i)&&i.revert&&se(this,Go)?{...se(this,Go),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Jn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),se(this,Mr).notify({query:this,type:"updated",action:n})})},mS);function eV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ss,gS,nV=(gS=class extends Hp{constructor(e={}){super();vt(this,Ss);this.config=e,Ke(this,Ss,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ex(s,n);let a=this.get(i);return a||(a=new J3({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){se(this,Ss).has(e.queryHash)||(se(this,Ss).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=se(this,Ss).get(e.queryHash);n&&(e.destroy(),n===e&&se(this,Ss).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return se(this,Ss).get(e)}getAll(){return[...se(this,Ss).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>SE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>SE(e,r)):n}notify(e){Jn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Jn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ss=new WeakMap,gS),js,Zn,Yo,ks,Ii,yS,rV=(yS=class extends II{constructor(n){super();vt(this,ks);vt(this,js);vt(this,Zn);vt(this,Yo);this.mutationId=n.mutationId,Ke(this,Zn,n.mutationCache),Ke(this,js,[]),this.state=n.state||sV(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){se(this,js).includes(n)||(se(this,js).push(n),this.clearGcTimeout(),se(this,Zn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ke(this,js,se(this,js).filter(r=>r!==n)),this.scheduleGc(),se(this,Zn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){se(this,js).length||(this.state.status==="pending"?this.scheduleGc():se(this,Zn).remove(this))}continue(){var n;return((n=se(this,Yo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,u,h,p,m,g,v,y,b,w,x,N,k,A,R,C,_,S;const r=()=>{Vn(this,ks,Ii).call(this,{type:"continue"})};Ke(this,Yo,kI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(T,I)=>{Vn(this,ks,Ii).call(this,{type:"failed",failureCount:T,error:I})},onPause:()=>{Vn(this,ks,Ii).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Zn).canRun(this)}));const s=this.state.status==="pending",i=!se(this,Yo).canStart();try{if(s)r();else{Vn(this,ks,Ii).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(a=se(this,Zn).config).onMutate)==null?void 0:l.call(a,n,this));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));I!==this.state.context&&Vn(this,ks,Ii).call(this,{type:"pending",context:I,variables:n,isPaused:i})}const T=await se(this,Yo).start();return await((p=(h=se(this,Zn).config).onSuccess)==null?void 0:p.call(h,T,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,T,n,this.state.context)),await((y=(v=se(this,Zn).config).onSettled)==null?void 0:y.call(v,T,null,this.state.variables,this.state.context,this)),await((w=(b=this.options).onSettled)==null?void 0:w.call(b,T,null,n,this.state.context)),Vn(this,ks,Ii).call(this,{type:"success",data:T}),T}catch(T){try{throw await((N=(x=se(this,Zn).config).onError)==null?void 0:N.call(x,T,n,this.state.context,this)),await((A=(k=this.options).onError)==null?void 0:A.call(k,T,n,this.state.context)),await((C=(R=se(this,Zn).config).onSettled)==null?void 0:C.call(R,void 0,T,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,void 0,T,n,this.state.context)),T}finally{Vn(this,ks,Ii).call(this,{type:"error",error:T})}}finally{se(this,Zn).runNext(this)}}},js=new WeakMap,Zn=new WeakMap,Yo=new WeakMap,ks=new WeakSet,Ii=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Jn.batch(()=>{se(this,js).forEach(s=>{s.onMutationUpdate(n)}),se(this,Zn).notify({mutation:this,type:"updated",action:n})})},yS);function sV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xs,rs,dd,vS,iV=(vS=class extends Hp{constructor(e={}){super();vt(this,Xs);vt(this,rs);vt(this,dd);this.config=e,Ke(this,Xs,new Set),Ke(this,rs,new Map),Ke(this,dd,0)}build(e,n,r){const s=new rV({mutationCache:this,mutationId:++Jd(this,dd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){se(this,Xs).add(e);const n=wh(e);if(typeof n=="string"){const r=se(this,rs).get(n);r?r.push(e):se(this,rs).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(se(this,Xs).delete(e)){const n=wh(e);if(typeof n=="string"){const r=se(this,rs).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&se(this,rs).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=wh(e);if(typeof n=="string"){const r=se(this,rs).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=wh(e);if(typeof n=="string"){const s=(r=se(this,rs).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Jn.batch(()=>{se(this,Xs).forEach(e=>{this.notify({type:"removed",mutation:e})}),se(this,Xs).clear(),se(this,rs).clear()})}getAll(){return Array.from(se(this,Xs))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>jE(n,r))}findAll(e={}){return this.getAll().filter(n=>jE(e,n))}notify(e){Jn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Jn.batch(()=>Promise.all(e.map(n=>n.continue().catch(ts))))}},Xs=new WeakMap,rs=new WeakMap,dd=new WeakMap,vS);function wh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function TE(t){return{onFetch:(e,n)=>{var h,p,m,g,v;const r=e.options,s=(m=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const b=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},w=CI(e.options,e.fetchOptions),x=async(N,k,A)=>{if(y)return Promise.reject();if(k==null&&N.pages.length)return Promise.resolve(N);const C=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:k,direction:A?"backward":"forward",meta:e.options.meta};return b(I),I})(),_=await w(C),{maxPages:S}=e.options,T=A?q3:W3;return{pages:T(N.pages,_,S),pageParams:T(N.pageParams,k,S)}};if(s&&i.length){const N=s==="backward",k=N?oV:PE,A={pages:i,pageParams:a},R=k(r,A);l=await x(A,R,N)}else{const N=t??i.length;do{const k=c===0?a[0]??r.initialPageParam:PE(r,l);if(c>0&&k==null)break;l=await x(l,k),c++}while(c<N)}return l};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function PE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function oV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var tn,Bi,Hi,Nl,Cl,Wi,_l,Sl,xS,aV=(xS=class{constructor(t={}){vt(this,tn);vt(this,Bi);vt(this,Hi);vt(this,Nl);vt(this,Cl);vt(this,Wi);vt(this,_l);vt(this,Sl);Ke(this,tn,t.queryCache||new nV),Ke(this,Bi,t.mutationCache||new iV),Ke(this,Hi,t.defaultOptions||{}),Ke(this,Nl,new Map),Ke(this,Cl,new Map),Ke(this,Wi,0)}mount(){Jd(this,Wi)._++,se(this,Wi)===1&&(Ke(this,_l,_I.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,tn).onFocus())})),Ke(this,Sl,Lf.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,tn).onOnline())})))}unmount(){var t,e;Jd(this,Wi)._--,se(this,Wi)===0&&((t=se(this,_l))==null||t.call(this),Ke(this,_l,void 0),(e=se(this,Sl))==null||e.call(this),Ke(this,Sl,void 0))}isFetching(t){return se(this,tn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return se(this,Bi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=se(this,tn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=se(this,tn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(fv(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return se(this,tn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=se(this,tn).get(r.queryHash),i=s==null?void 0:s.state.data,a=F3(e,i);if(a!==void 0)return se(this,tn).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Jn.batch(()=>se(this,tn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=se(this,tn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=se(this,tn);Jn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=se(this,tn);return Jn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Jn.batch(()=>se(this,tn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ts).catch(ts)}invalidateQueries(t,e={}){return Jn.batch(()=>(se(this,tn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Jn.batch(()=>se(this,tn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ts)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ts)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=se(this,tn).build(this,e);return n.isStaleByTime(fv(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ts).catch(ts)}fetchInfiniteQuery(t){return t.behavior=TE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ts).catch(ts)}ensureInfiniteQueryData(t){return t.behavior=TE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Lf.isOnline()?se(this,Bi).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,tn)}getMutationCache(){return se(this,Bi)}getDefaultOptions(){return se(this,Hi)}setDefaultOptions(t){Ke(this,Hi,t)}setQueryDefaults(t,e){se(this,Nl).set(Uu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...se(this,Nl).values()],n={};return e.forEach(r=>{zu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){se(this,Cl).set(Uu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...se(this,Cl).values()],n={};return e.forEach(r=>{zu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...se(this,Hi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ex(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Nx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...se(this,Hi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){se(this,tn).clear(),se(this,Bi).clear()}},tn=new WeakMap,Bi=new WeakMap,Hi=new WeakMap,Nl=new WeakMap,Cl=new WeakMap,Wi=new WeakMap,_l=new WeakMap,Sl=new WeakMap,xS),lV=d.createContext(void 0),cV=({client:t,children:e})=>(d.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(lV.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bu.apply(this,arguments)}var Ki;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ki||(Ki={}));const AE="popstate";function uV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return mv("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:PI(s)}return hV(e,n,null,t)}function mn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function TI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dV(){return Math.random().toString(36).substr(2,8)}function RE(t,e){return{usr:t.state,key:t.key,idx:e}}function mv(t,e,n,r){return n===void 0&&(n=null),Bu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jl(e):e,{state:n,key:e&&e.key||r||dV()})}function PI(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function hV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Ki.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(Bu({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function p(){l=Ki.Pop;let b=h(),w=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:w})}function m(b,w){l=Ki.Push;let x=mv(y.location,b,w);u=h()+1;let N=RE(x,u),k=y.createHref(x);try{a.pushState(N,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(k)}i&&c&&c({action:l,location:y.location,delta:1})}function g(b,w){l=Ki.Replace;let x=mv(y.location,b,w);u=h();let N=RE(x,u),k=y.createHref(x);a.replaceState(N,"",k),i&&c&&c({action:l,location:y.location,delta:0})}function v(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:PI(b);return x=x.replace(/ $/,"%20"),mn(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let y={get action(){return l},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(AE,p),c=b,()=>{s.removeEventListener(AE,p),c=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let w=v(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:g,go(b){return a.go(b)}};return y}var LE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(LE||(LE={}));function fV(t,e,n){return n===void 0&&(n="/"),pV(t,e,n)}function pV(t,e,n,r){let s=typeof e=="string"?Jl(e):e,i=LI(s.pathname||"/",n);if(i==null)return null;let a=AI(t);mV(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=jV(i);l=CV(a[c],u)}return l}function AI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(mn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Jo([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(mn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),AI(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:EV(u,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of RI(i.path))s(i,a,c)}),e}function RI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=RI(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function mV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gV=/^:[\w-]+$/,yV=3,vV=2,xV=1,wV=10,bV=-2,ME=t=>t==="*";function EV(t,e){let n=t.split("/"),r=n.length;return n.some(ME)&&(r+=bV),e&&(r+=vV),n.filter(s=>!ME(s)).reduce((s,i)=>s+(gV.test(i)?yV:i===""?xV:wV),r)}function NV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function CV(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=_V({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Jo([i,p.pathname]),pathnameBase:RV(Jo([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=Jo([i,p.pathnameBase]))}return a}function _V(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let y=l[p]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[p];return g&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function SV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),TI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function jV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return TI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function LI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Jl(t):t;return{pathname:n?n.startsWith("/")?n:IV(n,e):e,search:LV(r),hash:MV(s)}}function IV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ug(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function PV(t,e){let n=TV(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function AV(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Jl(t):(s=Bu({},t),mn(!s.pathname||!s.pathname.includes("?"),Ug("?","pathname","search",s)),mn(!s.pathname||!s.pathname.includes("#"),Ug("#","pathname","hash",s)),mn(!s.search||!s.search.includes("#"),Ug("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}l=p>=0?e[p]:"/"}let c=kV(s,l),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Jo=t=>t.join("/").replace(/\/\/+/g,"/"),RV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const MI=["post","put","patch","delete"];new Set(MI);const OV=["get",...MI];new Set(OV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(this,arguments)}const Cx=d.createContext(null),VV=d.createContext(null),qp=d.createContext(null),Gp=d.createContext(null),Ca=d.createContext({outlet:null,matches:[],isDataRoute:!1}),DI=d.createContext(null);function Kp(){return d.useContext(Gp)!=null}function Qp(){return Kp()||mn(!1),d.useContext(Gp).location}function OI(t){d.useContext(qp).static||d.useLayoutEffect(t)}function Ln(){let{isDataRoute:t}=d.useContext(Ca);return t?XV():FV()}function FV(){Kp()||mn(!1);let t=d.useContext(Cx),{basename:e,future:n,navigator:r}=d.useContext(qp),{matches:s}=d.useContext(Ca),{pathname:i}=Qp(),a=JSON.stringify(PV(s,n.v7_relativeSplatPath)),l=d.useRef(!1);return OI(()=>{l.current=!0}),d.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=AV(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Jo([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,a,i,t])}function $V(){let{matches:t}=d.useContext(Ca),e=t[t.length-1];return e?e.params:{}}function UV(t,e){return zV(t,e)}function zV(t,e,n,r){Kp()||mn(!1);let{navigator:s}=d.useContext(qp),{matches:i}=d.useContext(Ca),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Qp(),h;if(e){var p;let b=typeof e=="string"?Jl(e):e;c==="/"||(p=b.pathname)!=null&&p.startsWith(c)||mn(!1),h=b}else h=u;let m=h.pathname||"/",g=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=fV(t,{pathname:g}),y=GV(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Jo([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Jo([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&y?d.createElement(Gp.Provider,{value:{location:Hu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ki.Pop}},y):y}function BV(){let t=ZV(),e=DV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},e),n?d.createElement("pre",{style:s},n):null,null)}const HV=d.createElement(BV,null);class WV extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?d.createElement(Ca.Provider,{value:this.props.routeContext},d.createElement(DI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qV(t){let{routeContext:e,match:n,children:r}=t,s=d.useContext(Cx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(Ca.Provider,{value:e},r)}function GV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);h>=0||mn(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:m,errors:g}=n,v=p.route.loader&&m[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,m)=>{let g,v=!1,y=null,b=null;n&&(g=l&&p.route.id?l[p.route.id]:void 0,y=p.route.errorElement||HV,c&&(u<0&&m===0?(JV("route-fallback"),v=!0,b=null):u===m&&(v=!0,b=p.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,m+1)),x=()=>{let N;return g?N=y:v?N=b:p.route.Component?N=d.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=h,d.createElement(qV,{match:p,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?d.createElement(WV,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var VI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(VI||{}),FI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(FI||{});function KV(t){let e=d.useContext(Cx);return e||mn(!1),e}function QV(t){let e=d.useContext(VV);return e||mn(!1),e}function YV(t){let e=d.useContext(Ca);return e||mn(!1),e}function $I(t){let e=YV(),n=e.matches[e.matches.length-1];return n.route.id||mn(!1),n.route.id}function ZV(){var t;let e=d.useContext(DI),n=QV(),r=$I();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function XV(){let{router:t}=KV(VI.UseNavigateStable),e=$I(FI.UseNavigateStable),n=d.useRef(!1);return OI(()=>{n.current=!0}),d.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Hu({fromRouteId:e},i)))},[t,e])}const DE={};function JV(t,e,n){DE[t]||(DE[t]=!0)}function eF(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wn(t){mn(!1)}function tF(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ki.Pop,navigator:i,static:a=!1,future:l}=t;Kp()&&mn(!1);let c=e.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:i,static:a,future:Hu({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Jl(r));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:v="default"}=r,y=d.useMemo(()=>{let b=LI(h,c);return b==null?null:{location:{pathname:b,search:p,hash:m,state:g,key:v},navigationType:s}},[c,h,p,m,g,v,s]);return y==null?null:d.createElement(qp.Provider,{value:u},d.createElement(Gp.Provider,{children:n,value:y}))}function nF(t){let{children:e,location:n}=t;return UV(gv(e),n)}new Promise(()=>{});function gv(t,e){e===void 0&&(e=[]);let n=[];return d.Children.forEach(t,(r,s)=>{if(!d.isValidElement(r))return;let i=[...e,s];if(r.type===d.Fragment){n.push.apply(n,gv(r.props.children,i));return}r.type!==wn&&mn(!1),!r.props.index||!r.props.children||mn(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=gv(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const rF="6";try{window.__reactRouterVersion=rF}catch{}const sF="startTransition",OE=g0[sF];function iF(t){let{basename:e,children:n,future:r,window:s}=t,i=d.useRef();i.current==null&&(i.current=uV({window:s,v5Compat:!0}));let a=i.current,[l,c]=d.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=d.useCallback(p=>{u&&OE?OE(()=>c(p)):c(p)},[c,u]);return d.useLayoutEffect(()=>a.listen(h),[a,h]),d.useEffect(()=>eF(r),[r]),d.createElement(tF,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}var VE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(VE||(VE={}));var FE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(FE||(FE={}));const oF=()=>{};var $E={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},aF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},zI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,p=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(m=64)),r.push(n[h],n[p],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||p==null)throw new lF;const m=i<<2|l>>4;if(r.push(m),u!==64){const g=l<<4&240|u>>2;if(r.push(g),p!==64){const v=u<<6&192|p;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cF=function(t){const e=UI(t);return zI.encodeByteArray(e,!0)},Mf=function(t){return cF(t).replace(/\./g,"")},BI=function(t){try{return zI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=()=>uF().__FIREBASE_DEFAULTS__,hF=()=>{if(typeof process>"u"||typeof $E>"u")return;const t=$E.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BI(t[1]);return e&&JSON.parse(e)},Yp=()=>{try{return oF()||dF()||hF()||fF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HI=t=>{var e,n;return(n=(e=Yp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pF=t=>{const e=HI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WI=()=>{var t;return(t=Yp())===null||t===void 0?void 0:t.config},qI=t=>{var e;return(e=Yp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){return t.endsWith(".cloudworkstations.dev")}async function GI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mf(JSON.stringify(n)),Mf(JSON.stringify(a)),""].join(".")}const du={};function yF(){const t={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?t.emulator.push(e):t.prod.push(e);return t}function vF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let UE=!1;function KI(t,e){if(typeof window>"u"||typeof document>"u"||!ec(window.location.host)||du[t]===e||du[t]||UE)return;du[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=yF().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{UE=!0,a()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=vF(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),w=n("preprendIcon"),x=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const N=m.element;l(N),h(b,y);const k=u();c(x,w),N.append(x,v,b,k),document.body.appendChild(N)}i?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function wF(){var t;const e=(t=Yp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CF(){const t=Qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _F(){return!wF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SF(){try{return typeof indexedDB=="object"}catch{return!1}}function jF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="FirebaseError";class bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kF,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xd.prototype.create)}}class xd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?IF(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new bi(s,l,r)}}function IF(t,e){return t.replace(TF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const TF=/\{\$([^}]+)}/g;function PF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ua(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(zE(i)&&zE(a)){if(!ua(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function zE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Hc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AF(t,e){const n=new RF(t,e);return n.subscribe.bind(n)}class RF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=zg),s.error===void 0&&(s.error=zg),s.complete===void 0&&(s.complete=zg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class da{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OF(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DF(t){return t===Vo?void 0:t}function OF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const FF={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},$F=at.INFO,UF={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},zF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=UF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _x{constructor(e){this.name=e,this._logLevel=$F,this._logHandler=zF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const BF=(t,e)=>e.some(n=>t instanceof n);let BE,HE;function HF(){return BE||(BE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WF(){return HE||(HE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QI=new WeakMap,yv=new WeakMap,YI=new WeakMap,Bg=new WeakMap,Sx=new WeakMap;function qF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(ao(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&QI.set(n,t)}).catch(()=>{}),Sx.set(e,t),e}function GF(t){if(yv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});yv.set(t,e)}let vv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ao(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KF(t){vv=t(vv)}function QF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hg(this),e,...n);return YI.set(r,e.sort?e.sort():[e]),ao(r)}:WF().includes(t)?function(...e){return t.apply(Hg(this),e),ao(QI.get(this))}:function(...e){return ao(t.apply(Hg(this),e))}}function YF(t){return typeof t=="function"?QF(t):(t instanceof IDBTransaction&&GF(t),BF(t,HF())?new Proxy(t,vv):t)}function ao(t){if(t instanceof IDBRequest)return qF(t);if(Bg.has(t))return Bg.get(t);const e=YF(t);return e!==t&&(Bg.set(t,e),Sx.set(e,t)),e}const Hg=t=>Sx.get(t);function ZF(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=ao(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ao(a.result),c.oldVersion,c.newVersion,ao(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const XF=["get","getKey","getAll","getAllKeys","count"],JF=["put","add","delete","clear"],Wg=new Map;function WE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wg.get(e))return Wg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=JF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||XF.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Wg.set(e,i),i}KF(t=>({...t,get:(e,n,r)=>WE(e,n)||t.get(e,n,r),has:(e,n)=>!!WE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function t9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xv="@firebase/app",qE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new _x("@firebase/app"),n9="@firebase/app-compat",r9="@firebase/analytics-compat",s9="@firebase/analytics",i9="@firebase/app-check-compat",o9="@firebase/app-check",a9="@firebase/auth",l9="@firebase/auth-compat",c9="@firebase/database",u9="@firebase/data-connect",d9="@firebase/database-compat",h9="@firebase/functions",f9="@firebase/functions-compat",p9="@firebase/installations",m9="@firebase/installations-compat",g9="@firebase/messaging",y9="@firebase/messaging-compat",v9="@firebase/performance",x9="@firebase/performance-compat",w9="@firebase/remote-config",b9="@firebase/remote-config-compat",E9="@firebase/storage",N9="@firebase/storage-compat",C9="@firebase/firestore",_9="@firebase/ai",S9="@firebase/firestore-compat",j9="firebase",k9="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="[DEFAULT]",I9={[xv]:"fire-core",[n9]:"fire-core-compat",[s9]:"fire-analytics",[r9]:"fire-analytics-compat",[o9]:"fire-app-check",[i9]:"fire-app-check-compat",[a9]:"fire-auth",[l9]:"fire-auth-compat",[c9]:"fire-rtdb",[u9]:"fire-data-connect",[d9]:"fire-rtdb-compat",[h9]:"fire-fn",[f9]:"fire-fn-compat",[p9]:"fire-iid",[m9]:"fire-iid-compat",[g9]:"fire-fcm",[y9]:"fire-fcm-compat",[v9]:"fire-perf",[x9]:"fire-perf-compat",[w9]:"fire-rc",[b9]:"fire-rc-compat",[E9]:"fire-gcs",[N9]:"fire-gcs-compat",[C9]:"fire-fst",[S9]:"fire-fst-compat",[_9]:"fire-vertex","fire-js":"fire-js",[j9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Map,T9=new Map,bv=new Map;function GE(t,e){try{t.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dl(t){const e=t.name;if(bv.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;bv.set(e,t);for(const n of Df.values())GE(n,t);for(const n of T9.values())GE(n,t);return!0}function jx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function lr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new xd("app","Firebase",P9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=k9;function ZI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw lo.create("bad-app-name",{appName:String(s)});if(n||(n=WI()),!n)throw lo.create("no-options");const i=Df.get(s);if(i){if(ua(n,i.options)&&ua(r,i.config))return i;throw lo.create("duplicate-app",{appName:s})}const a=new VF(s);for(const c of bv.values())a.addComponent(c);const l=new A9(n,r,a);return Df.set(s,l),l}function XI(t=wv){const e=Df.get(t);if(!e&&t===wv&&WI())return ZI();if(!e)throw lo.create("no-app",{appName:t});return e}function co(t,e,n){var r;let s=(r=I9[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(l.join(" "));return}Dl(new da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9="firebase-heartbeat-database",L9=1,Wu="firebase-heartbeat-store";let qg=null;function JI(){return qg||(qg=ZF(R9,L9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw lo.create("idb-open",{originalErrorMessage:t.message})})),qg}async function M9(t){try{const n=(await JI()).transaction(Wu),r=await n.objectStore(Wu).get(eT(t));return await n.done,r}catch(e){if(e instanceof bi)pi.warn(e.message);else{const n=lo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(n.message)}}}async function KE(t,e){try{const r=(await JI()).transaction(Wu,"readwrite");await r.objectStore(Wu).put(e,eT(t)),await r.done}catch(n){if(n instanceof bi)pi.warn(n.message);else{const r=lo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(r.message)}}}function eT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=1024,O9=30;class V9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=QE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>O9){const a=U9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=QE(),{heartbeatsToSend:r,unsentEntries:s}=F9(this._heartbeatsCache.heartbeats),i=Mf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return pi.warn(n),""}}}function QE(){return new Date().toISOString().substring(0,10)}function F9(t,e=D9){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),YE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),YE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SF()?jF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return KE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return KE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function YE(t){return Mf(JSON.stringify({version:2,heartbeats:t})).length}function U9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t){Dl(new da("platform-logger",e=>new e9(e),"PRIVATE")),Dl(new da("heartbeat",e=>new V9(e),"PRIVATE")),co(xv,qE,t),co(xv,qE,"esm2017"),co("fire-js","")}z9("");var B9="firebase",H9="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(B9,H9,"app");var Ps=function(){return Ps=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ps.apply(this,arguments)};function wd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function W9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function tT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q9=tT,nT=new xd("auth","Firebase",tT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new _x("@firebase/auth");function G9(t,...e){Of.logLevel<=at.WARN&&Of.warn(`Auth (${nc}): ${t}`,...e)}function qh(t,...e){Of.logLevel<=at.ERROR&&Of.error(`Auth (${nc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,...e){throw Ix(t,...e)}function mr(t,...e){return Ix(t,...e)}function kx(t,e,n){const r=Object.assign(Object.assign({},q9()),{[e]:n});return new xd("auth","Firebase",r).create(e,{appName:t.name})}function Vs(t){return kx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qr(t,"argument-error"),kx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ix(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nT.create(t,...e)}function Ce(t,e,...n){if(!t)throw Ix(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qh(e),new Error(e)}function mi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rT(){return ZE()==="http:"||ZE()==="https:"}function ZE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rT()||EF()||"connection"in navigator)?navigator.onLine:!0}function Y9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=xF()||NF()}get(){return Q9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e){mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J9=new bd(3e4,6e4);function yr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vr(t,e,n,r,s={}){return iT(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=tc(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return bF()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ec(t.emulatorConfig.host)&&(u.credentials="include"),sT.fetch()(await oT(t,t.config.apiHost,n,l),u)})}async function iT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Z9),e);try{const s=new t8(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Wc(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Wc(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Wc(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw kx(t,h,u);qr(t,h)}}catch(s){if(s instanceof bi)throw s;qr(t,"network-request-failed",{message:String(s)})}}async function So(t,e,n,r,s={}){const i=await vr(t,e,n,r,s);return"mfaPendingCredential"in i&&qr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function oT(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?Tx(t.config,s):`${t.config.apiScheme}://${s}`;return X9.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function e8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class t8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),J9.get())})}}function Wc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=mr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t){return t!==void 0&&t.getResponse!==void 0}function JE(t){return t!==void 0&&t.enterprise!==void 0}class aT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return e8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(t){return(await vr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function lT(t,e){return vr(t,"GET","/v2/recaptchaConfig",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(t,e){return vr(t,"POST","/v1/accounts:delete",e)}async function Vf(t,e){return vr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s8(t,e=!1){const n=Ut(t),r=await n.getIdToken(e),s=Px(r);Ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:hu(Gg(s.auth_time)),issuedAtTime:hu(Gg(s.iat)),expirationTime:hu(Gg(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Gg(t){return Number(t)*1e3}function Px(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const s=BI(n);return s?JSON.parse(s):(qh("Failed to decode base64 JWT payload"),null)}catch(s){return qh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function eN(t){const e=Px(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bi&&i8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function i8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ff(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ha(t,Vf(n,{idToken:r}));Ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?cT(i.providerUserInfo):[],l=l8(t.providerData,a),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Nv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function a8(t){const e=Ut(t);await Ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l8(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function cT(t){return t.map(e=>{var{providerId:n}=e,r=wd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c8(t,e){const n=await iT(t,{},async()=>{const r=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await oT(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&ec(t.emulatorConfig.host)&&(c.credentials="include"),sT.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u8(t,e){return vr(t,"POST","/v2/accounts:revokeToken",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=eN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await c8(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new dl;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ce(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class as{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=wd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Nv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ha(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s8(this,e)}reload(){return a8(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new as(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ff(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await ha(this,r8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,u,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:N,emailVerified:k,isAnonymous:A,providerData:R,stsTokenManager:C}=n;Ce(N&&C,e,"internal-error");const _=dl.fromJSON(this.name,C);Ce(typeof N=="string",e,"internal-error"),ki(p,e.name),ki(m,e.name),Ce(typeof k=="boolean",e,"internal-error"),Ce(typeof A=="boolean",e,"internal-error"),ki(g,e.name),ki(v,e.name),ki(y,e.name),ki(b,e.name),ki(w,e.name),ki(x,e.name);const S=new as({uid:N,auth:e,email:m,emailVerified:k,displayName:p,isAnonymous:A,photoURL:v,phoneNumber:g,tenantId:y,stsTokenManager:_,createdAt:w,lastLoginAt:x});return R&&Array.isArray(R)&&(S.providerData=R.map(T=>Object.assign({},T))),b&&(S._redirectEventId=b),S}static async _fromIdTokenResponse(e,n,r=!1){const s=new dl;s.updateFromServerResponse(n);const i=new as({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ff(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?cT(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new dl;l.updateFromIdToken(r);const c=new as({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Nv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Map;function ri(t){mi(t instanceof Function,"Expected a class definition");let e=tN.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uT.type="NONE";const nN=uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t,e,n){return`firebase:${t}:${e}:${n}`}class hl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Gh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Gh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vf(this.auth,{idToken:e}).catch(()=>{});return n?as._fromGetAccountInfoResponse(this.auth,n,e):null}return as._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hl(ri(nN),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ri(nN);const a=Gh(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(a);if(h){let p;if(typeof h=="string"){const m=await Vf(e,{idToken:h}).catch(()=>{});if(!m)break;p=await as._fromGetAccountInfoResponse(e,m,h)}else p=as._fromJSON(e,h);u!==i&&(l=p),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new hl(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new hl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gT(e))return"Blackberry";if(yT(e))return"Webos";if(hT(e))return"Safari";if((e.includes("chrome/")||fT(e))&&!e.includes("edge/"))return"Chrome";if(mT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dT(t=Qn()){return/firefox\//i.test(t)}function hT(t=Qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fT(t=Qn()){return/crios\//i.test(t)}function pT(t=Qn()){return/iemobile/i.test(t)}function mT(t=Qn()){return/android/i.test(t)}function gT(t=Qn()){return/blackberry/i.test(t)}function yT(t=Qn()){return/webos/i.test(t)}function Ax(t=Qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d8(t=Qn()){var e;return Ax(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h8(){return CF()&&document.documentMode===10}function vT(t=Qn()){return Ax(t)||mT(t)||yT(t)||gT(t)||/windows phone/i.test(t)||pT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t,e=[]){let n;switch(t){case"Browser":n=rN(Qn());break;case"Worker":n=`${rN(Qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p8(t,e={}){return vr(t,"GET","/v2/passwordPolicy",yr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=6;class g8{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:m8,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sN(this),this.idTokenSubscription=new sN(this),this.beforeStateQueue=new f8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vf(this,{idToken:e}),r=await as._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(lr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ff(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(Vs(this));const n=e?Ut(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p8(this),n=new g8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await u8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&G9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rr(t){return Ut(t)}class sN{constructor(e){this.auth=e,this.observer=null,this.addObserver=AF(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v8(t){Ed=t}function Rx(t){return Ed.loadJS(t)}function x8(){return Ed.recaptchaV2Script}function w8(){return Ed.recaptchaEnterpriseScript}function b8(){return Ed.gapiScript}function wT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=500,N8=6e4,bh=1e12;class C8{constructor(e){this.auth=e,this.counter=bh,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new j8(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||bh;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||bh;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||bh;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class _8{constructor(){this.enterprise=new S8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class S8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class j8{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;Ce(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=k8(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},N8)},E8))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function k8(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const I8="recaptcha-enterprise",fu="NO_RECAPTCHA";class bT{constructor(e){this.type=I8,this.auth=Rr(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{lT(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new aT(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;JE(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(fu)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _8().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&JE(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=w8();c.length!==0&&(c+=l),Rx(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function Mc(t,e,n,r=!1,s=!1){const i=new bT(t);let a;if(s)a=fu;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function fl(t,e,n,r,s){var i,a;if(s==="EMAIL_PASSWORD_PROVIDER")if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Mc(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Mc(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)});else if(s==="PHONE_PROVIDER")if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("PHONE_PROVIDER")){const l=await Mc(t,e,n);return r(t,l).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await Mc(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)})}else{const l=await Mc(t,e,n,!1,!0);return r(t,l)}else return Promise.reject(s+" provider is not supported.")}async function T8(t){const e=Rr(t),n=await lT(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new aT(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new bT(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t,e){const n=jx(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ua(i,e??{}))return s;qr(s,"already-initialized")}return n.initialize({options:e})}function A8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function R8(t,e,n){const r=Rr(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=ET(e),{host:a,port:l}=L8(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(ua(u,r.config.emulator)&&ua(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ec(a)?(GI(`${i}//${a}${c}`),KI("Auth",!0)):M8()}function ET(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L8(t){const e=ET(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:iN(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:iN(a)}}}function iN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function M8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function D8(t,e){return vr(t,"POST","/v1/accounts:update",e)}async function O8(t,e){return vr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V8(t,e){return So(t,"POST","/v1/accounts:signInWithPassword",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F8(t,e){return So(t,"POST","/v1/accounts:signInWithEmailLink",yr(t,e))}async function $8(t,e){return So(t,"POST","/v1/accounts:signInWithEmailLink",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Zp{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new qu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fl(e,n,"signInWithPassword",V8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return F8(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fl(e,r,"signUpPassword",O8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return $8(e,{idToken:n,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e){return So(t,"POST","/v1/accounts:signInWithIdp",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="http://localhost";class fa extends Zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=wd(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new fa(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return pl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pl(e,n)}buildRequest(){const e={requestUri:U8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(t,e){return vr(t,"POST","/v1/accounts:sendVerificationCode",yr(t,e))}async function z8(t,e){return So(t,"POST","/v1/accounts:signInWithPhoneNumber",yr(t,e))}async function B8(t,e){const n=await So(t,"POST","/v1/accounts:signInWithPhoneNumber",yr(t,e));if(n.temporaryProof)throw Wc(t,"account-exists-with-different-credential",n);return n}const H8={USER_NOT_FOUND:"user-not-found"};async function W8(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return So(t,"POST","/v1/accounts:signInWithPhoneNumber",yr(t,n),H8)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Zp{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new ea({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new ea({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return z8(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return B8(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return W8(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i}=e;return!r&&!n&&!s&&!i?null:new ea({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function G8(t){const e=Bc(Hc(t)).link,n=e?Bc(Hc(e)).deep_link_id:null,r=Bc(Hc(t)).deep_link_id;return(r?Bc(Hc(r)).link:null)||r||n||e||t}class Lx{constructor(e){var n,r,s,i,a,l;const c=Bc(Hc(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=q8((s=c.mode)!==null&&s!==void 0?s:null);Ce(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=G8(e);try{return new Lx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,n){return qu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lx.parseLink(n);return Ce(r,"argument-error"),qu._fromEmailAndCode(e,r.code,r.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends Mx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Nd{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Nd{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Nd{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fi.credential(n,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K8(t,e){return So(t,"POST","/v1/accounts:signUp",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await as._fromIdTokenResponse(e,r,s),a=aN(r);return new pa({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=aN(r);return new pa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function aN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends bi{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$f.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new $f(e,n,r,s)}}function NT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?$f._fromErrorAndOperation(t,i,e,r):i})}async function Q8(t,e,n=!1){const r=await ha(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CT(t,e,n=!1){const{auth:r}=t;if(lr(r.app))return Promise.reject(Vs(r));const s="reauthenticate";try{const i=await ha(t,NT(r,s,e,t),n);Ce(i.idToken,r,"internal-error");const a=Px(i.idToken);Ce(a,r,"internal-error");const{sub:l}=a;return Ce(t.uid===l,r,"user-mismatch"),pa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&qr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(t,e,n=!1){if(lr(t.app))return Promise.reject(Vs(t));const r="signIn",s=await NT(t,r,e),i=await pa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function ST(t,e){return _T(Rr(t),e)}async function Y8(t,e){return CT(Ut(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(t){const e=Rr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Z8(t,e,n){if(lr(t.app))return Promise.reject(Vs(t));const r=Rr(t),a=await fl(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K8,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&jT(t),c}),l=await pa._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function X8(t,e,n){return lr(t.app)?Promise.reject(Vs(t)):ST(Ut(t),_a.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(t,e){return vr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kT(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ut(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await ha(r,J8(r.auth,i));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function e$(t,e){return t$(Ut(t),null,e)}async function t$(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const a=await ha(t,D8(r,i));await t._updateTokensIfNecessary(a,!0)}function n$(t,e,n,r){return Ut(t).onIdTokenChanged(e,n,r)}function r$(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function Cd(t,e,n,r){return Ut(t).onAuthStateChanged(e,n,r)}function IT(t){return Ut(t).signOut()}async function s$(t){return Ut(t).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e){return vr(t,"POST","/v2/accounts/mfaEnrollment:start",yr(t,e))}const Uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=1e3,o$=10;class PT extends TT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);h8()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,o$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},i$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PT.type="LOCAL";const a$=PT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends TT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AT.type="SESSION";const RT=AT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Xp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await l$(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=Dx("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return window}function u$(t){cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(){return typeof cn().WorkerGlobalScope<"u"&&typeof cn().importScripts=="function"}async function d$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function f$(){return Ox()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firebaseLocalStorageDb",p$=1,zf="firebaseLocalStorage",MT="fbase_key";class _d{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jp(t,e){return t.transaction([zf],e?"readwrite":"readonly").objectStore(zf)}function m$(){const t=indexedDB.deleteDatabase(LT);return new _d(t).toPromise()}function Cv(){const t=indexedDB.open(LT,p$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zf,{keyPath:MT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zf)?e(r):(r.close(),await m$(),e(await Cv()))})})}async function cN(t,e,n){const r=Jp(t,!0).put({[MT]:e,value:n});return new _d(r).toPromise()}async function g$(t,e){const n=Jp(t,!1).get(e),r=await new _d(n).toPromise();return r===void 0?null:r.value}function uN(t,e){const n=Jp(t,!0).delete(e);return new _d(n).toPromise()}const y$=800,v$=3;class DT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>v$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ox()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xp._getInstance(f$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await d$(),!this.activeServiceWorker)return;this.sender=new c$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cv();return await cN(e,Uf,"1"),await uN(e,Uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>g$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Jp(s,!1).getAll();return new _d(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DT.type="LOCAL";const x$=DT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t,e){return vr(t,"POST","/v2/accounts/mfaSignIn:start",yr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=wT("rcb"),w$=new bd(3e4,6e4);class b${constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=cn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Ce(E$(n),e,"argument-error"),this.shouldResolveImmediately(n)&&XE(cn().grecaptcha)?Promise.resolve(cn().grecaptcha):new Promise((r,s)=>{const i=cn().setTimeout(()=>{s(mr(e,"network-request-failed"))},w$.get());cn()[Kg]=()=>{cn().clearTimeout(i),delete cn()[Kg];const l=cn().grecaptcha;if(!l||!XE(l)){s(mr(e,"internal-error"));return}const c=l.render;l.render=(u,h)=>{const p=c(u,h);return this.counter++,p},this.hostLanguage=n,r(l)};const a=`${x8()}?${tc({onload:Kg,render:"explicit",hl:n})}`;Rx(a).catch(()=>{clearTimeout(i),s(mr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=cn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function E$(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class N${async load(e){return new C8(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu="recaptcha",C$={theme:"light",type:"image"};class _${constructor(e,n,r=Object.assign({},C$)){this.parameters=r,this.type=pu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rr(e),this.isInvisible=this.parameters.size==="invisible",Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;Ce(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new N$:new b$,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(s=>{const i=a=>{a&&(this.tokenChangeListeners.delete(i),s(a))};this.tokenChangeListeners.add(i),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=cn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ce(rT()&&!Ox(),this.auth,"internal-error"),await S$(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await n8(this.auth);Ce(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function S$(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=ea._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function hN(t,e,n){if(lr(t.app))return Promise.reject(Vs(t));const r=Rr(t),s=await OT(r,e,Ut(n));return new j$(s,i=>ST(r,i))}async function OT(t,e,n){var r;if(!t._getRecaptchaConfig())try{await T8(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const i=s.session;if("phoneNumber"in s){Ce(i.type==="enroll",t,"internal-error");const a={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await fl(t,a,"mfaSmsEnrollment",async(h,p)=>{if(p.phoneEnrollmentInfo.captchaResponse===fu){Ce((n==null?void 0:n.type)===pu,h,"argument-error");const m=await Qg(h,p,n);return lN(h,m)}return lN(h,p)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{Ce(i.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;Ce(a,t,"missing-multi-factor-info");const l={mfaPendingCredential:i.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await fl(t,l,"mfaSmsSignIn",async(p,m)=>{if(m.phoneSignInInfo.captchaResponse===fu){Ce((n==null?void 0:n.type)===pu,p,"argument-error");const g=await Qg(p,m,n);return dN(p,g)}return dN(p,m)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await fl(t,i,"sendVerificationCode",async(u,h)=>{if(h.captchaResponse===fu){Ce((n==null?void 0:n.type)===pu,u,"argument-error");const p=await Qg(u,h,n);return oN(u,p)}return oN(u,h)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function Qg(t,e,n){Ce(n.type===pu,t,"argument-error");const r=await n.verify();Ce(typeof r=="string",t,"argument-error");const s=Object.assign({},e);if("phoneEnrollmentInfo"in s){const i=s.phoneEnrollmentInfo.phoneNumber,a=s.phoneEnrollmentInfo.captchaResponse,l=s.phoneEnrollmentInfo.clientType,c=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:r,captchaResponse:a,clientType:l,recaptchaVersion:c}}),s}else if("phoneSignInInfo"in s){const i=s.phoneSignInInfo.captchaResponse,a=s.phoneSignInInfo.clientType,l=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:i,clientType:a,recaptchaVersion:l}}),s}else return Object.assign(s,{recaptchaToken:r}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.providerId=ta.PROVIDER_ID,this.auth=Rr(e)}verifyPhoneNumber(e,n){return OT(this.auth,e,Ut(n))}static credential(e,n){return ea._fromVerification(e,n)}static credentialFromResult(e){const n=e;return ta.credentialFromTaggedObject(n)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?ea._fromTokenResponse(n,r):null}}ta.PROVIDER_ID="phone";ta.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e){return e?ri(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx extends Zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function k$(t){return _T(t.auth,new Vx(t),t.bypassAuthState)}function I$(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),CT(n,new Vx(t),t.bypassAuthState)}async function T$(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),Q8(n,new Vx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k$;case"linkViaPopup":case"linkViaRedirect":return T$;case"reauthViaPopup":case"reauthViaRedirect":return I$;default:qr(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=new bd(2e3,1e4);async function A$(t,e,n){if(lr(t.app))return Promise.reject(mr(t,"operation-not-supported-in-this-environment"));const r=Rr(t);K9(t,e,Mx);const s=VT(r,n);return new Bo(r,"signInViaPopup",e,s).executeNotNull()}class Bo extends FT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=Dx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P$.get())};e()}}Bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$="pendingRedirect",Kh=new Map;class L$ extends FT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kh.get(this.auth._key());if(!e){try{const r=await M$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kh.set(this.auth._key(),e)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M$(t,e){const n=V$(e),r=O$(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function D$(t,e){Kh.set(t._key(),e)}function O$(t){return ri(t._redirectPersistence)}function V$(t){return Gh(R$,t.config.apiKey,t.name)}async function F$(t,e){return await Rr(t)._initializationPromise,$T(t,e,!1)}async function $T(t,e,n=!1){if(lr(t.app))return Promise.reject(Vs(t));const r=Rr(t),s=VT(r,e),a=await new L$(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=10*60*1e3;class U${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!UT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$$&&this.cachedEventUids.clear(),this.cachedEventUids.has(fN(e))}saveEventToCache(e){this.cachedEventUids.add(fN(e)),this.lastProcessedEventTime=Date.now()}}function fN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function z$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B$(t,e={}){return vr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W$=/^https?/;async function q$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await B$(t);for(const n of e)try{if(G$(n))return}catch{}qr(t,"unauthorized-domain")}function G$(t){const e=Ev(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!W$.test(n))return!1;if(H$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=new bd(3e4,6e4);function pN(){const t=cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Q$(t){return new Promise((e,n)=>{var r,s,i;function a(){pN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pN(),n(mr(t,"network-request-failed"))},timeout:K$.get()})}if(!((s=(r=cn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=cn().gapi)===null||i===void 0)&&i.load)a();else{const l=wT("iframefcb");return cn()[l]=()=>{gapi.load?a():n(mr(t,"network-request-failed"))},Rx(`${b8()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Qh=null,e})}let Qh=null;function Y$(t){return Qh=Qh||Q$(t),Qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=new bd(5e3,15e3),X$="__/auth/iframe",J$="emulator/auth/iframe",eU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nU(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Tx(e,J$):`https://${t.config.authDomain}/${X$}`,r={apiKey:e.apiKey,appName:t.name,v:nc},s=tU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${tc(r).slice(1)}`}async function rU(t){const e=await Y$(t),n=cn().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:nU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=mr(t,"network-request-failed"),l=cn().setTimeout(()=>{i(a)},Z$.get());function c(){cn().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iU=500,oU=600,aU="_blank",lU="http://localhost";class mN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cU(t,e,n,r=iU,s=oU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},sU),{width:r.toString(),height:s.toString(),top:i,left:a}),u=Qn().toLowerCase();n&&(l=fT(u)?aU:n),dT(u)&&(e=e||lU,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[g,v])=>`${m}${g}=${v},`,"");if(d8(u)&&l!=="_self")return uU(e||"",l),new mN(null);const p=window.open(e||"",l,h);Ce(p,t,"popup-blocked");try{p.focus()}catch{}return new mN(p)}function uU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="__/auth/handler",hU="emulator/auth/handler",fU=encodeURIComponent("fac");async function gN(t,e,n,r,s,i){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nc,eventId:s};if(e instanceof Mx){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",PF(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof Nd){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${fU}=${encodeURIComponent(c)}`:"";return`${pU(t)}?${tc(l).slice(1)}${u}`}function pU({config:t}){return t.emulator?Tx(t,hU):`https://${t.authDomain}/${dU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="webStorageSupport";class mU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RT,this._completeRedirectFn=$T,this._overrideRedirectResult=D$}async _openPopup(e,n,r,s){var i;mi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await gN(e,n,r,Ev(),s);return cU(e,a,Dx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await gN(e,n,r,Ev(),s);return u$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(mi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rU(e),r=new U$(e);return n.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yg,{type:Yg},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Yg];a!==void 0&&n(!!a),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=q$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vT()||hT()||Ax()}}const gU=mU;var yN="@firebase/auth",vN="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xU(t){Dl(new da("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ce(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xT(t)},u=new y8(r,s,i,c);return A8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dl(new da("auth-internal",e=>{const n=Rr(e.getProvider("auth").getImmediate());return(r=>new yU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(yN,vN,vU(t)),co(yN,vN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=5*60,bU=qI("authIdTokenMaxAge")||wU;let xN=null;const EU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bU)return;const s=n==null?void 0:n.token;xN!==s&&(xN=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function NU(t=XI()){const e=jx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=P8(t,{popupRedirectResolver:gU,persistence:[x$,a$,RT]}),r=qI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=EU(i.toString());r$(n,a,()=>a(n.currentUser)),n$(n,l=>a(l))}}const s=HI("auth");return s&&R8(n,`http://${s}`),n}function CU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}v8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=mr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",CU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xU("Browser");var wN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uo,zT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function S(){}S.prototype=_.prototype,C.D=_.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(T,I,P){for(var L=Array(arguments.length-2),G=2;G<arguments.length;G++)L[G-2]=arguments[G];return _.prototype[I].apply(T,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,_,S){S||(S=0);var T=Array(16);if(typeof _=="string")for(var I=0;16>I;++I)T[I]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(I=0;16>I;++I)T[I]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=C.g[0],S=C.g[1],I=C.g[2];var P=C.g[3],L=_+(P^S&(I^P))+T[0]+3614090360&4294967295;_=S+(L<<7&4294967295|L>>>25),L=P+(I^_&(S^I))+T[1]+3905402710&4294967295,P=_+(L<<12&4294967295|L>>>20),L=I+(S^P&(_^S))+T[2]+606105819&4294967295,I=P+(L<<17&4294967295|L>>>15),L=S+(_^I&(P^_))+T[3]+3250441966&4294967295,S=I+(L<<22&4294967295|L>>>10),L=_+(P^S&(I^P))+T[4]+4118548399&4294967295,_=S+(L<<7&4294967295|L>>>25),L=P+(I^_&(S^I))+T[5]+1200080426&4294967295,P=_+(L<<12&4294967295|L>>>20),L=I+(S^P&(_^S))+T[6]+2821735955&4294967295,I=P+(L<<17&4294967295|L>>>15),L=S+(_^I&(P^_))+T[7]+4249261313&4294967295,S=I+(L<<22&4294967295|L>>>10),L=_+(P^S&(I^P))+T[8]+1770035416&4294967295,_=S+(L<<7&4294967295|L>>>25),L=P+(I^_&(S^I))+T[9]+2336552879&4294967295,P=_+(L<<12&4294967295|L>>>20),L=I+(S^P&(_^S))+T[10]+4294925233&4294967295,I=P+(L<<17&4294967295|L>>>15),L=S+(_^I&(P^_))+T[11]+2304563134&4294967295,S=I+(L<<22&4294967295|L>>>10),L=_+(P^S&(I^P))+T[12]+1804603682&4294967295,_=S+(L<<7&4294967295|L>>>25),L=P+(I^_&(S^I))+T[13]+4254626195&4294967295,P=_+(L<<12&4294967295|L>>>20),L=I+(S^P&(_^S))+T[14]+2792965006&4294967295,I=P+(L<<17&4294967295|L>>>15),L=S+(_^I&(P^_))+T[15]+1236535329&4294967295,S=I+(L<<22&4294967295|L>>>10),L=_+(I^P&(S^I))+T[1]+4129170786&4294967295,_=S+(L<<5&4294967295|L>>>27),L=P+(S^I&(_^S))+T[6]+3225465664&4294967295,P=_+(L<<9&4294967295|L>>>23),L=I+(_^S&(P^_))+T[11]+643717713&4294967295,I=P+(L<<14&4294967295|L>>>18),L=S+(P^_&(I^P))+T[0]+3921069994&4294967295,S=I+(L<<20&4294967295|L>>>12),L=_+(I^P&(S^I))+T[5]+3593408605&4294967295,_=S+(L<<5&4294967295|L>>>27),L=P+(S^I&(_^S))+T[10]+38016083&4294967295,P=_+(L<<9&4294967295|L>>>23),L=I+(_^S&(P^_))+T[15]+3634488961&4294967295,I=P+(L<<14&4294967295|L>>>18),L=S+(P^_&(I^P))+T[4]+3889429448&4294967295,S=I+(L<<20&4294967295|L>>>12),L=_+(I^P&(S^I))+T[9]+568446438&4294967295,_=S+(L<<5&4294967295|L>>>27),L=P+(S^I&(_^S))+T[14]+3275163606&4294967295,P=_+(L<<9&4294967295|L>>>23),L=I+(_^S&(P^_))+T[3]+4107603335&4294967295,I=P+(L<<14&4294967295|L>>>18),L=S+(P^_&(I^P))+T[8]+1163531501&4294967295,S=I+(L<<20&4294967295|L>>>12),L=_+(I^P&(S^I))+T[13]+2850285829&4294967295,_=S+(L<<5&4294967295|L>>>27),L=P+(S^I&(_^S))+T[2]+4243563512&4294967295,P=_+(L<<9&4294967295|L>>>23),L=I+(_^S&(P^_))+T[7]+1735328473&4294967295,I=P+(L<<14&4294967295|L>>>18),L=S+(P^_&(I^P))+T[12]+2368359562&4294967295,S=I+(L<<20&4294967295|L>>>12),L=_+(S^I^P)+T[5]+4294588738&4294967295,_=S+(L<<4&4294967295|L>>>28),L=P+(_^S^I)+T[8]+2272392833&4294967295,P=_+(L<<11&4294967295|L>>>21),L=I+(P^_^S)+T[11]+1839030562&4294967295,I=P+(L<<16&4294967295|L>>>16),L=S+(I^P^_)+T[14]+4259657740&4294967295,S=I+(L<<23&4294967295|L>>>9),L=_+(S^I^P)+T[1]+2763975236&4294967295,_=S+(L<<4&4294967295|L>>>28),L=P+(_^S^I)+T[4]+1272893353&4294967295,P=_+(L<<11&4294967295|L>>>21),L=I+(P^_^S)+T[7]+4139469664&4294967295,I=P+(L<<16&4294967295|L>>>16),L=S+(I^P^_)+T[10]+3200236656&4294967295,S=I+(L<<23&4294967295|L>>>9),L=_+(S^I^P)+T[13]+681279174&4294967295,_=S+(L<<4&4294967295|L>>>28),L=P+(_^S^I)+T[0]+3936430074&4294967295,P=_+(L<<11&4294967295|L>>>21),L=I+(P^_^S)+T[3]+3572445317&4294967295,I=P+(L<<16&4294967295|L>>>16),L=S+(I^P^_)+T[6]+76029189&4294967295,S=I+(L<<23&4294967295|L>>>9),L=_+(S^I^P)+T[9]+3654602809&4294967295,_=S+(L<<4&4294967295|L>>>28),L=P+(_^S^I)+T[12]+3873151461&4294967295,P=_+(L<<11&4294967295|L>>>21),L=I+(P^_^S)+T[15]+530742520&4294967295,I=P+(L<<16&4294967295|L>>>16),L=S+(I^P^_)+T[2]+3299628645&4294967295,S=I+(L<<23&4294967295|L>>>9),L=_+(I^(S|~P))+T[0]+4096336452&4294967295,_=S+(L<<6&4294967295|L>>>26),L=P+(S^(_|~I))+T[7]+1126891415&4294967295,P=_+(L<<10&4294967295|L>>>22),L=I+(_^(P|~S))+T[14]+2878612391&4294967295,I=P+(L<<15&4294967295|L>>>17),L=S+(P^(I|~_))+T[5]+4237533241&4294967295,S=I+(L<<21&4294967295|L>>>11),L=_+(I^(S|~P))+T[12]+1700485571&4294967295,_=S+(L<<6&4294967295|L>>>26),L=P+(S^(_|~I))+T[3]+2399980690&4294967295,P=_+(L<<10&4294967295|L>>>22),L=I+(_^(P|~S))+T[10]+4293915773&4294967295,I=P+(L<<15&4294967295|L>>>17),L=S+(P^(I|~_))+T[1]+2240044497&4294967295,S=I+(L<<21&4294967295|L>>>11),L=_+(I^(S|~P))+T[8]+1873313359&4294967295,_=S+(L<<6&4294967295|L>>>26),L=P+(S^(_|~I))+T[15]+4264355552&4294967295,P=_+(L<<10&4294967295|L>>>22),L=I+(_^(P|~S))+T[6]+2734768916&4294967295,I=P+(L<<15&4294967295|L>>>17),L=S+(P^(I|~_))+T[13]+1309151649&4294967295,S=I+(L<<21&4294967295|L>>>11),L=_+(I^(S|~P))+T[4]+4149444226&4294967295,_=S+(L<<6&4294967295|L>>>26),L=P+(S^(_|~I))+T[11]+3174756917&4294967295,P=_+(L<<10&4294967295|L>>>22),L=I+(_^(P|~S))+T[2]+718787259&4294967295,I=P+(L<<15&4294967295|L>>>17),L=S+(P^(I|~_))+T[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(I+(L<<21&4294967295|L>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+P&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var S=_-this.blockSize,T=this.B,I=this.h,P=0;P<_;){if(I==0)for(;P<=S;)s(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<_;)if(T[I++]=C.charCodeAt(P++),I==this.blockSize){s(this,T),I=0;break}}else for(;P<_;)if(T[I++]=C[P++],I==this.blockSize){s(this,T),I=0;break}}this.h=I,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var S=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=S&255,S/=256;for(this.u(C),C=Array(16),_=S=0;4>_;++_)for(var T=0;32>T;T+=8)C[S++]=this.g[_]>>>T&255;return C};function i(C,_){var S=l;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=_(C)}function a(C,_){this.h=_;for(var S=[],T=!0,I=C.length-1;0<=I;I--){var P=C[I]|0;T&&P==_||(S[I]=P,T=!1)}this.g=S}var l={};function c(C){return-128<=C&&128>C?i(C,function(_){return new a([_|0],0>_?-1:0)}):new a([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return b(u(-C));for(var _=[],S=1,T=0;C>=S;T++)_[T]=C/S|0,S*=4294967296;return new a(_,0)}function h(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return b(h(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(_,8)),T=p,I=0;I<C.length;I+=8){var P=Math.min(8,C.length-I),L=parseInt(C.substring(I,I+P),_);8>P?(P=u(Math.pow(_,P)),T=T.j(P).add(u(L))):(T=T.j(S),T=T.add(u(L)))}return T}var p=c(0),m=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(y(this))return-b(this).m();for(var C=0,_=1,S=0;S<this.g.length;S++){var T=this.i(S);C+=(0<=T?T:4294967296+T)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(y(this))return"-"+b(this).toString(C);for(var _=u(Math.pow(C,6)),S=this,T="";;){var I=k(S,_).g;S=w(S,I.j(_));var P=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=I,v(S))return P+T;for(;6>P.length;)P="0"+P;T=P+T}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=w(this,C),y(C)?-1:v(C)?0:1};function b(C){for(var _=C.g.length,S=[],T=0;T<_;T++)S[T]=~C.g[T];return new a(S,~C.h).add(m)}t.abs=function(){return y(this)?b(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],T=0,I=0;I<=_;I++){var P=T+(this.i(I)&65535)+(C.i(I)&65535),L=(P>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);T=L>>>16,P&=65535,L&=65535,S[I]=L<<16|P}return new a(S,S[S.length-1]&-2147483648?-1:0)};function w(C,_){return C.add(b(_))}t.j=function(C){if(v(this)||v(C))return p;if(y(this))return y(C)?b(this).j(b(C)):b(b(this).j(C));if(y(C))return b(this.j(b(C)));if(0>this.l(g)&&0>C.l(g))return u(this.m()*C.m());for(var _=this.g.length+C.g.length,S=[],T=0;T<2*_;T++)S[T]=0;for(T=0;T<this.g.length;T++)for(var I=0;I<C.g.length;I++){var P=this.i(T)>>>16,L=this.i(T)&65535,G=C.i(I)>>>16,$=C.i(I)&65535;S[2*T+2*I]+=L*$,x(S,2*T+2*I),S[2*T+2*I+1]+=P*$,x(S,2*T+2*I+1),S[2*T+2*I+1]+=L*G,x(S,2*T+2*I+1),S[2*T+2*I+2]+=P*G,x(S,2*T+2*I+2)}for(T=0;T<_;T++)S[T]=S[2*T+1]<<16|S[2*T];for(T=_;T<2*_;T++)S[T]=0;return new a(S,0)};function x(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function N(C,_){this.g=C,this.h=_}function k(C,_){if(v(_))throw Error("division by zero");if(v(C))return new N(p,p);if(y(C))return _=k(b(C),_),new N(b(_.g),b(_.h));if(y(_))return _=k(C,b(_)),new N(b(_.g),_.h);if(30<C.g.length){if(y(C)||y(_))throw Error("slowDivide_ only works with positive integers.");for(var S=m,T=_;0>=T.l(C);)S=A(S),T=A(T);var I=R(S,1),P=R(T,1);for(T=R(T,2),S=R(S,2);!v(T);){var L=P.add(T);0>=L.l(C)&&(I=I.add(S),P=L),T=R(T,1),S=R(S,1)}return _=w(C,I.j(_)),new N(I,_)}for(I=p;0<=C.l(_);){for(S=Math.max(1,Math.floor(C.m()/_.m())),T=Math.ceil(Math.log(S)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),P=u(S),L=P.j(_);y(L)||0<L.l(C);)S-=T,P=u(S),L=P.j(_);v(P)&&(P=m),I=I.add(P),C=w(C,L)}return new N(I,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],T=0;T<_;T++)S[T]=this.i(T)&C.i(T);return new a(S,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],T=0;T<_;T++)S[T]=this.i(T)|C.i(T);return new a(S,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],T=0;T<_;T++)S[T]=this.i(T)^C.i(T);return new a(S,this.h^C.h)};function A(C){for(var _=C.g.length+1,S=[],T=0;T<_;T++)S[T]=C.i(T)<<1|C.i(T-1)>>>31;return new a(S,C.h)}function R(C,_){var S=_>>5;_%=32;for(var T=C.g.length-S,I=[],P=0;P<T;P++)I[P]=0<_?C.i(P+S)>>>_|C.i(P+S+1)<<32-_:C.i(P+S);return new a(I,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zT=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,uo=a}).apply(typeof wN<"u"?wN:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BT,qc,HT,Yh,_v,WT,qT,GT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,j){return f==Array.prototype||f==Object.prototype||(f[E]=j.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var E=0;E<f.length;++E){var j=f[E];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function s(f,E){if(E)e:{var j=r;f=f.split(".");for(var M=0;M<f.length-1;M++){var K=f[M];if(!(K in j))break e;j=j[K]}f=f[f.length-1],M=j[f],E=E(M),E!=M&&E!=null&&e(j,f,{configurable:!0,writable:!0,value:E})}}function i(f,E){f instanceof String&&(f+="");var j=0,M=!1,K={next:function(){if(!M&&j<f.length){var X=j++;return{value:E(X,f[X]),done:!1}}return M=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(f){return f||function(){return i(this,function(E,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function u(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function h(f,E,j){return f.call.apply(f.bind,arguments)}function p(f,E,j){if(!f)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,M),f.apply(E,K)}}return function(){return f.apply(E,arguments)}}function m(f,E,j){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function g(f,E){var j=Array.prototype.slice.call(arguments,1);return function(){var M=j.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function v(f,E){function j(){}j.prototype=E.prototype,f.aa=E.prototype,f.prototype=new j,f.prototype.constructor=f,f.Qb=function(M,K,X){for(var me=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)me[Rt-2]=arguments[Rt];return E.prototype[K].apply(M,me)}}function y(f){const E=f.length;if(0<E){const j=Array(E);for(let M=0;M<E;M++)j[M]=f[M];return j}return[]}function b(f,E){for(let j=1;j<arguments.length;j++){const M=arguments[j];if(c(M)){const K=f.length||0,X=M.length||0;f.length=K+X;for(let me=0;me<X;me++)f[K+me]=M[me]}else f.push(M)}}class w{constructor(E,j){this.i=E,this.j=j,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function x(f){return/^[\s\xa0]*$/.test(f)}function N(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function k(f){return k[" "](f),f}k[" "]=function(){};var A=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function R(f,E,j){for(const M in f)E.call(j,f[M],M,f)}function C(f,E){for(const j in f)E.call(void 0,f[j],j,f)}function _(f){const E={};for(const j in f)E[j]=f[j];return E}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(f,E){let j,M;for(let K=1;K<arguments.length;K++){M=arguments[K];for(j in M)f[j]=M[j];for(let X=0;X<S.length;X++)j=S[X],Object.prototype.hasOwnProperty.call(M,j)&&(f[j]=M[j])}}function I(f){var E=1;f=f.split(":");const j=[];for(;0<E&&f.length;)j.push(f.shift()),E--;return f.length&&j.push(f.join(":")),j}function P(f){l.setTimeout(()=>{throw f},0)}function L(){var f=D;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class G{constructor(){this.h=this.g=null}add(E,j){const M=$.get();M.set(E,j),this.h?this.h.next=M:this.g=M,this.h=M}}var $=new w(()=>new F,f=>f.reset());class F{constructor(){this.next=this.g=this.h=null}set(E,j){this.h=E,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let W,O=!1,D=new G,B=()=>{const f=l.Promise.resolve(void 0);W=()=>{f.then(V)}};var V=()=>{for(var f;f=L();){try{f.h.call(f.g)}catch(j){P(j)}var E=$;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}O=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const j=()=>{};l.addEventListener("test",j,E),l.removeEventListener("test",j,E)}catch{}return f}();function q(f,E){if(Q.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var j=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(A){e:{try{k(E.nodeName);var K=!0;break e}catch{}K=!1}K||(E=null)}}else j=="mouseover"?E=f.fromElement:j=="mouseout"&&(E=f.toElement);this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ge[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&q.aa.h.call(this)}}v(q,Q);var ge={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),ue=0;function ye(f,E,j,M,K){this.listener=f,this.proxy=null,this.src=E,this.type=j,this.capture=!!M,this.ha=K,this.key=++ue,this.da=this.fa=!1}function Y(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Z(f){this.src=f,this.g={},this.h=0}Z.prototype.add=function(f,E,j,M,K){var X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);var me=ve(f,E,M,K);return-1<me?(E=f[me],j||(E.fa=!1)):(E=new ye(E,this.src,X,!!M,K),E.fa=j,f.push(E)),E};function te(f,E){var j=E.type;if(j in f.g){var M=f.g[j],K=Array.prototype.indexOf.call(M,E,void 0),X;(X=0<=K)&&Array.prototype.splice.call(M,K,1),X&&(Y(E),f.g[j].length==0&&(delete f.g[j],f.h--))}}function ve(f,E,j,M){for(var K=0;K<f.length;++K){var X=f[K];if(!X.da&&X.listener==E&&X.capture==!!j&&X.ha==M)return K}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),ee={};function Ae(f,E,j,M,K){if(Array.isArray(E)){for(var X=0;X<E.length;X++)Ae(f,E[X],j,M,K);return null}return j=je(j),f&&f[J]?f.K(E,j,u(M)?!!M.capture:!1,K):qe(f,E,j,!1,M,K)}function qe(f,E,j,M,K,X){if(!E)throw Error("Invalid event type");var me=u(K)?!!K.capture:!!K,Rt=re(f);if(Rt||(f[Me]=Rt=new Z(f)),j=Rt.add(E,j,M,me,X),j.proxy)return j;if(M=Ct(),j.proxy=M,M.src=f,M.listener=j,f.addEventListener)ie||(K=me),K===void 0&&(K=!1),f.addEventListener(E.toString(),M,K);else if(f.attachEvent)f.attachEvent(Be(E.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Ct(){function f(j){return E.call(f.src,f.listener,j)}const E=fe;return f}function tt(f,E,j,M,K){if(Array.isArray(E))for(var X=0;X<E.length;X++)tt(f,E[X],j,M,K);else M=u(M)?!!M.capture:!!M,j=je(j),f&&f[J]?(f=f.i,E=String(E).toString(),E in f.g&&(X=f.g[E],j=ve(X,j,M,K),-1<j&&(Y(X[j]),Array.prototype.splice.call(X,j,1),X.length==0&&(delete f.g[E],f.h--)))):f&&(f=re(f))&&(E=f.g[E.toString()],f=-1,E&&(f=ve(E,j,M,K)),(j=-1<f?E[f]:null)&&ot(j))}function ot(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[J])te(E.i,f);else{var j=f.type,M=f.proxy;E.removeEventListener?E.removeEventListener(j,M,f.capture):E.detachEvent?E.detachEvent(Be(j),M):E.addListener&&E.removeListener&&E.removeListener(M),(j=re(E))?(te(j,f),j.h==0&&(j.src=null,E[Me]=null)):Y(f)}}}function Be(f){return f in ee?ee[f]:ee[f]="on"+f}function fe(f,E){if(f.da)f=!0;else{E=new q(E,this);var j=f.listener,M=f.ha||f.src;f.fa&&ot(f),f=j.call(M,E)}return f}function re(f){return f=f[Me],f instanceof Z?f:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(f){return typeof f=="function"?f:(f[pe]||(f[pe]=function(E){return f.handleEvent(E)}),f[pe])}function ae(){U.call(this),this.i=new Z(this),this.M=this,this.F=null}v(ae,U),ae.prototype[J]=!0,ae.prototype.removeEventListener=function(f,E,j,M){tt(this,f,E,j,M)};function Ee(f,E){var j,M=f.F;if(M)for(j=[];M;M=M.F)j.push(M);if(f=f.M,M=E.type||E,typeof E=="string")E=new Q(E,f);else if(E instanceof Q)E.target=E.target||f;else{var K=E;E=new Q(M,f),T(E,K)}if(K=!0,j)for(var X=j.length-1;0<=X;X--){var me=E.g=j[X];K=Ie(me,M,!0,E)&&K}if(me=E.g=f,K=Ie(me,M,!0,E)&&K,K=Ie(me,M,!1,E)&&K,j)for(X=0;X<j.length;X++)me=E.g=j[X],K=Ie(me,M,!1,E)&&K}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var j=f.g[E],M=0;M<j.length;M++)Y(j[M]);delete f.g[E],f.h--}}this.F=null},ae.prototype.K=function(f,E,j,M){return this.i.add(String(f),E,!1,j,M)},ae.prototype.L=function(f,E,j,M){return this.i.add(String(f),E,!0,j,M)};function Ie(f,E,j,M){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var K=!0,X=0;X<E.length;++X){var me=E[X];if(me&&!me.da&&me.capture==j){var Rt=me.listener,Cn=me.ha||me.src;me.fa&&te(f.i,me),K=Rt.call(Cn,M)!==!1&&K}}return K&&!M.defaultPrevented}function ht(f,E,j){if(typeof f=="function")j&&(f=m(f,j));else if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:l.setTimeout(f,E||0)}function kt(f){f.g=ht(()=>{f.g=null,f.i&&(f.i=!1,kt(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class It extends U{constructor(E,j){super(),this.m=E,this.l=j,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function At(f){U.call(this),this.h=f,this.g={}}v(At,U);var Mt=[];function Bt(f){R(f.g,function(E,j){this.g.hasOwnProperty(j)&&ot(E)},f),f.g={}}At.prototype.N=function(){At.aa.N.call(this),Bt(this)},At.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=l.JSON.stringify,Je=l.JSON.parse,Zt=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function ce(){}ce.prototype.h=null;function Se(f){return f.h||(f.h=f.i())}function He(){}var mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ht(){Q.call(this,"d")}v(Ht,Q);function ut(){Q.call(this,"c")}v(ut,Q);var Tt={},Re=null;function Qe(){return Re=Re||new ae}Tt.La="serverreachability";function rt(f){Q.call(this,Tt.La,f)}v(rt,Q);function Xt(f){const E=Qe();Ee(E,new rt(E))}Tt.STAT_EVENT="statevent";function xn(f,E){Q.call(this,Tt.STAT_EVENT,f),this.stat=E}v(xn,Q);function gt(f){const E=Qe();Ee(E,new xn(E,f))}Tt.Ma="timingevent";function be(f,E){Q.call(this,Tt.Ma,f),this.size=E}v(be,Q);function Jt(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},E)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function LM(f,E,j,M,K,X){f.info(function(){if(f.g)if(X)for(var me="",Rt=X.split("&"),Cn=0;Cn<Rt.length;Cn++){var yt=Rt[Cn].split("=");if(1<yt.length){var Dn=yt[0];yt=yt[1];var On=Dn.split("_");me=2<=On.length&&On[1]=="type"?me+(Dn+"="+yt+"&"):me+(Dn+"=redacted&")}}else me=null;else me=X;return"XMLHTTP REQ ("+M+") [attempt "+K+"]: "+E+`
`+j+`
`+me})}function MM(f,E,j,M,K,X,me){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+K+"]: "+E+`
`+j+`
`+X+" "+me})}function Pa(f,E,j,M){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+OM(f,j)+(M?" "+M:"")})}function DM(f,E){f.info(function(){return"TIMEOUT: "+E})}Mn.prototype.info=function(){};function OM(f,E){if(!f.g)return E;if(!E)return null;try{var j=JSON.parse(E);if(j){for(f=0;f<j.length;f++)if(Array.isArray(j[f])){var M=j[f];if(!(2>M.length)){var K=M[1];if(Array.isArray(K)&&!(1>K.length)){var X=K[0];if(X!="noop"&&X!="stop"&&X!="close")for(var me=1;me<K.length;me++)K[me]=""}}}}return Xe(j)}catch{return E}}var Fd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xm;function $d(){}v($d,ce),$d.prototype.g=function(){return new XMLHttpRequest},$d.prototype.i=function(){return{}},Xm=new $d;function Ei(f,E,j,M){this.j=f,this.i=E,this.l=j,this.R=M||1,this.U=new At(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mb}function mb(){this.i=null,this.g="",this.h=!1}var gb={},Jm={};function eg(f,E,j){f.L=1,f.v=Hd(qs(E)),f.m=j,f.P=!0,yb(f,null)}function yb(f,E){f.F=Date.now(),Ud(f),f.A=qs(f.v);var j=f.A,M=f.R;Array.isArray(M)||(M=[String(M)]),Pb(j.i,"t",M),f.C=0,j=f.j.J,f.h=new mb,f.g=Qb(f.j,j?E:null,!f.m),0<f.O&&(f.M=new It(m(f.Y,f,f.g),f.O)),E=f.U,j=f.g,M=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(Mt[0]=K.toString()),K=Mt);for(var X=0;X<K.length;X++){var me=Ae(j,K[X],M||E.handleEvent,!1,E.h||E);if(!me)break;E.g[me.key]=me}E=f.H?_(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Xt(),LM(f.i,f.u,f.A,f.l,f.R,f.m)}Ei.prototype.ca=function(f){f=f.target;const E=this.M;E&&Gs(f)==3?E.j():this.Y(f)},Ei.prototype.Y=function(f){try{if(f==this.g)e:{const On=Gs(this.g);var E=this.g.Ba();const La=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||Vb(this.g)))){this.J||On!=4||E==7||(E==8||0>=La?Xt(3):Xt(2)),tg(this);var j=this.g.Z();this.X=j;t:if(vb(this)){var M=Vb(this.g);f="";var K=M.length,X=Gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ao(this),yc(this);var me="";break t}this.h.i=new l.TextDecoder}for(E=0;E<K;E++)this.h.h=!0,f+=this.h.i.decode(M[E],{stream:!(X&&E==K-1)});M.length=0,this.h.g+=f,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=j==200,MM(this.i,this.u,this.A,this.l,this.R,On,j),this.o){if(this.T&&!this.K){t:{if(this.g){var Rt,Cn=this.g;if((Rt=Cn.g?Cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Rt)){var yt=Rt;break t}}yt=null}if(j=yt)Pa(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ng(this,j);else{this.o=!1,this.s=3,gt(12),Ao(this),yc(this);break e}}if(this.P){j=!0;let Yr;for(;!this.J&&this.C<me.length;)if(Yr=VM(this,me),Yr==Jm){On==4&&(this.s=4,gt(14),j=!1),Pa(this.i,this.l,null,"[Incomplete Response]");break}else if(Yr==gb){this.s=4,gt(15),Pa(this.i,this.l,me,"[Invalid Chunk]"),j=!1;break}else Pa(this.i,this.l,Yr,null),ng(this,Yr);if(vb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||me.length!=0||this.h.h||(this.s=1,gt(16),j=!1),this.o=this.o&&j,!j)Pa(this.i,this.l,me,"[Invalid Chunked Response]"),Ao(this),yc(this);else if(0<me.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),lg(Dn),Dn.M=!0,gt(11))}}else Pa(this.i,this.l,me,null),ng(this,me);On==4&&Ao(this),this.o&&!this.J&&(On==4?Wb(this.j,this):(this.o=!1,Ud(this)))}else tD(this.g),j==400&&0<me.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),Ao(this),yc(this)}}}catch{}finally{}};function vb(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function VM(f,E){var j=f.C,M=E.indexOf(`
`,j);return M==-1?Jm:(j=Number(E.substring(j,M)),isNaN(j)?gb:(M+=1,M+j>E.length?Jm:(E=E.slice(M,M+j),f.C=M+j,E)))}Ei.prototype.cancel=function(){this.J=!0,Ao(this)};function Ud(f){f.S=Date.now()+f.I,xb(f,f.I)}function xb(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Jt(m(f.ba,f),E)}function tg(f){f.B&&(l.clearTimeout(f.B),f.B=null)}Ei.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(DM(this.i,this.A),this.L!=2&&(Xt(),gt(17)),Ao(this),this.s=2,yc(this)):xb(this,this.S-f)};function yc(f){f.j.G==0||f.J||Wb(f.j,f)}function Ao(f){tg(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,Bt(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function ng(f,E){try{var j=f.j;if(j.G!=0&&(j.g==f||rg(j.h,f))){if(!f.K&&rg(j.h,f)&&j.G==3){try{var M=j.Da.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var K=M;if(K[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<f.F)Yd(j),Kd(j);else break e;ag(j),gt(18)}}else j.za=K[1],0<j.za-j.T&&37500>K[2]&&j.F&&j.v==0&&!j.C&&(j.C=Jt(m(j.Za,j),6e3));if(1>=Eb(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else Lo(j,11)}else if((f.K||j.g==f)&&Yd(j),!x(E))for(K=j.Da.g.parse(E),E=0;E<K.length;E++){let yt=K[E];if(j.T=yt[0],yt=yt[1],j.G==2)if(yt[0]=="c"){j.K=yt[1],j.ia=yt[2];const Dn=yt[3];Dn!=null&&(j.la=Dn,j.j.info("VER="+j.la));const On=yt[4];On!=null&&(j.Aa=On,j.j.info("SVER="+j.Aa));const La=yt[5];La!=null&&typeof La=="number"&&0<La&&(M=1.5*La,j.L=M,j.j.info("backChannelRequestTimeoutMs_="+M)),M=j;const Yr=f.g;if(Yr){const Xd=Yr.g?Yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xd){var X=M.h;X.g||Xd.indexOf("spdy")==-1&&Xd.indexOf("quic")==-1&&Xd.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(sg(X,X.h),X.h=null))}if(M.D){const cg=Yr.g?Yr.g.getResponseHeader("X-HTTP-Session-Id"):null;cg&&(M.ya=cg,Dt(M.I,M.D,cg))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-f.F,j.j.info("Handshake RTT: "+j.R+"ms")),M=j;var me=f;if(M.qa=Kb(M,M.J?M.ia:null,M.W),me.K){Nb(M.h,me);var Rt=me,Cn=M.L;Cn&&(Rt.I=Cn),Rt.B&&(tg(Rt),Ud(Rt)),M.g=me}else Bb(M);0<j.i.length&&Qd(j)}else yt[0]!="stop"&&yt[0]!="close"||Lo(j,7);else j.G==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?Lo(j,7):og(j):yt[0]!="noop"&&j.l&&j.l.ta(yt),j.v=0)}}Xt(4)}catch{}}var FM=class{constructor(f,E){this.g=f,this.map=E}};function wb(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bb(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Eb(f){return f.h?1:f.g?f.g.size:0}function rg(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function sg(f,E){f.g?f.g.add(E):f.h=E}function Nb(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}wb.prototype.cancel=function(){if(this.i=Cb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Cb(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const j of f.g.values())E=E.concat(j.D);return E}return y(f.i)}function $M(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(c(f)){for(var E=[],j=f.length,M=0;M<j;M++)E.push(f[M]);return E}E=[],j=0;for(M in f)E[j++]=f[M];return E}function UM(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||typeof f=="string"){var E=[];f=f.length;for(var j=0;j<f;j++)E.push(j);return E}E=[],j=0;for(const M in f)E[j++]=M;return E}}}function _b(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(c(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var j=UM(f),M=$M(f),K=M.length,X=0;X<K;X++)E.call(void 0,M[X],j&&j[X],f)}var Sb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zM(f,E){if(f){f=f.split("&");for(var j=0;j<f.length;j++){var M=f[j].indexOf("="),K=null;if(0<=M){var X=f[j].substring(0,M);K=f[j].substring(M+1)}else X=f[j];E(X,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Ro(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ro){this.h=f.h,zd(this,f.j),this.o=f.o,this.g=f.g,Bd(this,f.s),this.l=f.l;var E=f.i,j=new wc;j.i=E.i,E.g&&(j.g=new Map(E.g),j.h=E.h),jb(this,j),this.m=f.m}else f&&(E=String(f).match(Sb))?(this.h=!1,zd(this,E[1]||"",!0),this.o=vc(E[2]||""),this.g=vc(E[3]||"",!0),Bd(this,E[4]),this.l=vc(E[5]||"",!0),jb(this,E[6]||"",!0),this.m=vc(E[7]||"")):(this.h=!1,this.i=new wc(null,this.h))}Ro.prototype.toString=function(){var f=[],E=this.j;E&&f.push(xc(E,kb,!0),":");var j=this.g;return(j||E=="file")&&(f.push("//"),(E=this.o)&&f.push(xc(E,kb,!0),"@"),f.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&f.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&f.push("/"),f.push(xc(j,j.charAt(0)=="/"?WM:HM,!0))),(j=this.i.toString())&&f.push("?",j),(j=this.m)&&f.push("#",xc(j,GM)),f.join("")};function qs(f){return new Ro(f)}function zd(f,E,j){f.j=j?vc(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Bd(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function jb(f,E,j){E instanceof wc?(f.i=E,KM(f.i,f.h)):(j||(E=xc(E,qM)),f.i=new wc(E,f.h))}function Dt(f,E,j){f.i.set(E,j)}function Hd(f){return Dt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function vc(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xc(f,E,j){return typeof f=="string"?(f=encodeURI(f).replace(E,BM),j&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function BM(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var kb=/[#\/\?@]/g,HM=/[#\?:]/g,WM=/[#\?]/g,qM=/[#\?@]/g,GM=/#/g;function wc(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function Ni(f){f.g||(f.g=new Map,f.h=0,f.i&&zM(f.i,function(E,j){f.add(decodeURIComponent(E.replace(/\+/g," ")),j)}))}t=wc.prototype,t.add=function(f,E){Ni(this),this.i=null,f=Aa(this,f);var j=this.g.get(f);return j||this.g.set(f,j=[]),j.push(E),this.h+=1,this};function Ib(f,E){Ni(f),E=Aa(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function Tb(f,E){return Ni(f),E=Aa(f,E),f.g.has(E)}t.forEach=function(f,E){Ni(this),this.g.forEach(function(j,M){j.forEach(function(K){f.call(E,K,M,this)},this)},this)},t.na=function(){Ni(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),j=[];for(let M=0;M<E.length;M++){const K=f[M];for(let X=0;X<K.length;X++)j.push(E[M])}return j},t.V=function(f){Ni(this);let E=[];if(typeof f=="string")Tb(this,f)&&(E=E.concat(this.g.get(Aa(this,f))));else{f=Array.from(this.g.values());for(let j=0;j<f.length;j++)E=E.concat(f[j])}return E},t.set=function(f,E){return Ni(this),this.i=null,f=Aa(this,f),Tb(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function Pb(f,E,j){Ib(f,E),0<j.length&&(f.i=null,f.g.set(Aa(f,E),y(j)),f.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var j=0;j<E.length;j++){var M=E[j];const X=encodeURIComponent(String(M)),me=this.V(M);for(M=0;M<me.length;M++){var K=X;me[M]!==""&&(K+="="+encodeURIComponent(String(me[M]))),f.push(K)}}return this.i=f.join("&")};function Aa(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function KM(f,E){E&&!f.j&&(Ni(f),f.i=null,f.g.forEach(function(j,M){var K=M.toLowerCase();M!=K&&(Ib(this,M),Pb(this,K,j))},f)),f.j=E}function QM(f,E){const j=new Mn;if(l.Image){const M=new Image;M.onload=g(Ci,j,"TestLoadImage: loaded",!0,E,M),M.onerror=g(Ci,j,"TestLoadImage: error",!1,E,M),M.onabort=g(Ci,j,"TestLoadImage: abort",!1,E,M),M.ontimeout=g(Ci,j,"TestLoadImage: timeout",!1,E,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else E(!1)}function YM(f,E){const j=new Mn,M=new AbortController,K=setTimeout(()=>{M.abort(),Ci(j,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:M.signal}).then(X=>{clearTimeout(K),X.ok?Ci(j,"TestPingServer: ok",!0,E):Ci(j,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(K),Ci(j,"TestPingServer: error",!1,E)})}function Ci(f,E,j,M,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),M(j)}catch{}}function ZM(){this.g=new Zt}function XM(f,E,j){const M=j||"";try{_b(f,function(K,X){let me=K;u(K)&&(me=Xe(K)),E.push(M+X+"="+encodeURIComponent(me))})}catch(K){throw E.push(M+"type="+encodeURIComponent("_badmap")),K}}function Wd(f){this.l=f.Ub||null,this.j=f.eb||!1}v(Wd,ce),Wd.prototype.g=function(){return new qd(this.l,this.j)},Wd.prototype.i=function(f){return function(){return f}}({});function qd(f,E){ae.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(qd,ae),t=qd.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,Ec(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||l).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bc(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ec(this)),this.g&&(this.readyState=3,Ec(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ab(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ab(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?bc(this):Ec(this),this.readyState==3&&Ab(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,bc(this))},t.Qa=function(f){this.g&&(this.response=f,bc(this))},t.ga=function(){this.g&&bc(this)};function bc(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ec(f)}t.setRequestHeader=function(f,E){this.u.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var j=E.next();!j.done;)j=j.value,f.push(j[0]+": "+j[1]),j=E.next();return f.join(`\r
`)};function Ec(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(qd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Rb(f){let E="";return R(f,function(j,M){E+=M,E+=":",E+=j,E+=`\r
`}),E}function ig(f,E,j){e:{for(M in j){var M=!1;break e}M=!0}M||(j=Rb(j),typeof f=="string"?j!=null&&encodeURIComponent(String(j)):Dt(f,E,j))}function en(f){ae.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(en,ae);var JM=/^https?$/i,eD=["POST","PUT"];t=en.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,E,j,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xm.g(),this.v=this.o?Se(this.o):Se(Xm),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(X){Lb(this,X);return}if(f=j||"",j=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var K in M)j.set(K,M[K]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const X of M.keys())j.set(X,M.get(X));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(j.keys()).find(X=>X.toLowerCase()=="content-type"),K=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(eD,E,void 0))||M||K||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,me]of j)this.g.setRequestHeader(X,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ob(this),this.u=!0,this.g.send(f),this.u=!1}catch(X){Lb(this,X)}};function Lb(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,Mb(f),Gd(f)}function Mb(f){f.A||(f.A=!0,Ee(f,"complete"),Ee(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ee(this,"complete"),Ee(this,"abort"),Gd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gd(this,!0)),en.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Db(this):this.bb())},t.bb=function(){Db(this)};function Db(f){if(f.h&&typeof a<"u"&&(!f.v[1]||Gs(f)!=4||f.Z()!=2)){if(f.u&&Gs(f)==4)ht(f.Ea,0,f);else if(Ee(f,"readystatechange"),Gs(f)==4){f.h=!1;try{const me=f.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var j;if(!(j=E)){var M;if(M=me===0){var K=String(f.D).match(Sb)[1]||null;!K&&l.self&&l.self.location&&(K=l.self.location.protocol.slice(0,-1)),M=!JM.test(K?K.toLowerCase():"")}j=M}if(j)Ee(f,"complete"),Ee(f,"success");else{f.m=6;try{var X=2<Gs(f)?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.Z()+"]",Mb(f)}}finally{Gd(f)}}}}function Gd(f,E){if(f.g){Ob(f);const j=f.g,M=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||Ee(f,"ready");try{j.onreadystatechange=M}catch{}}}function Ob(f){f.I&&(l.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Gs(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Gs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Je(E)}};function Vb(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function tD(f){const E={};f=(f.g&&2<=Gs(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(x(f[M]))continue;var j=I(f[M]);const K=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const X=E[K]||[];E[K]=X,X.push(j)}C(E,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nc(f,E,j){return j&&j.internalChannelParams&&j.internalChannelParams[f]||E}function Fb(f){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nc("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nc("baseRetryDelayMs",5e3,f),this.cb=Nc("retryDelaySeedMs",1e4,f),this.Wa=Nc("forwardChannelMaxRetries",2,f),this.wa=Nc("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new wb(f&&f.concurrentRequestLimit),this.Da=new ZM,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fb.prototype,t.la=8,t.G=1,t.connect=function(f,E,j,M){gt(0),this.W=f,this.H=E||{},j&&M!==void 0&&(this.H.OSID=j,this.H.OAID=M),this.F=this.X,this.I=Kb(this,null,this.W),Qd(this)};function og(f){if($b(f),f.G==3){var E=f.U++,j=qs(f.I);if(Dt(j,"SID",f.K),Dt(j,"RID",E),Dt(j,"TYPE","terminate"),Cc(f,j),E=new Ei(f,f.j,E),E.L=2,E.v=Hd(qs(j)),j=!1,l.navigator&&l.navigator.sendBeacon)try{j=l.navigator.sendBeacon(E.v.toString(),"")}catch{}!j&&l.Image&&(new Image().src=E.v,j=!0),j||(E.g=Qb(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Ud(E)}Gb(f)}function Kd(f){f.g&&(lg(f),f.g.cancel(),f.g=null)}function $b(f){Kd(f),f.u&&(l.clearTimeout(f.u),f.u=null),Yd(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function Qd(f){if(!bb(f.h)&&!f.s){f.s=!0;var E=f.Ga;W||B(),O||(W(),O=!0),D.add(E,f),f.B=0}}function nD(f,E){return Eb(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Jt(m(f.Ga,f,E),qb(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new Ei(this,this.j,f);let X=this.o;if(this.S&&(X?(X=_(X),T(X,this.S)):X=this.S),this.m!==null||this.O||(K.H=X,X=null),this.P)e:{for(var E=0,j=0;j<this.i.length;j++){t:{var M=this.i[j];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,4096<E){E=j;break e}if(E===4096||j===this.i.length-1){E=j+1;break e}}E=1e3}else E=1e3;E=zb(this,K,E),j=qs(this.I),Dt(j,"RID",f),Dt(j,"CVER",22),this.D&&Dt(j,"X-HTTP-Session-Id",this.D),Cc(this,j),X&&(this.O?E="headers="+encodeURIComponent(String(Rb(X)))+"&"+E:this.m&&ig(j,this.m,X)),sg(this.h,K),this.Ua&&Dt(j,"TYPE","init"),this.P?(Dt(j,"$req",E),Dt(j,"SID","null"),K.T=!0,eg(K,j,null)):eg(K,j,E),this.G=2}}else this.G==3&&(f?Ub(this,f):this.i.length==0||bb(this.h)||Ub(this))};function Ub(f,E){var j;E?j=E.l:j=f.U++;const M=qs(f.I);Dt(M,"SID",f.K),Dt(M,"RID",j),Dt(M,"AID",f.T),Cc(f,M),f.m&&f.o&&ig(M,f.m,f.o),j=new Ei(f,f.j,j,f.B+1),f.m===null&&(j.H=f.o),E&&(f.i=E.D.concat(f.i)),E=zb(f,j,1e3),j.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),sg(f.h,j),eg(j,M,E)}function Cc(f,E){f.H&&R(f.H,function(j,M){Dt(E,M,j)}),f.l&&_b({},function(j,M){Dt(E,M,j)})}function zb(f,E,j){j=Math.min(f.i.length,j);var M=f.l?m(f.l.Na,f.l,f):null;e:{var K=f.i;let X=-1;for(;;){const me=["count="+j];X==-1?0<j?(X=K[0].g,me.push("ofs="+X)):X=0:me.push("ofs="+X);let Rt=!0;for(let Cn=0;Cn<j;Cn++){let yt=K[Cn].g;const Dn=K[Cn].map;if(yt-=X,0>yt)X=Math.max(0,K[Cn].g-100),Rt=!1;else try{XM(Dn,me,"req"+yt+"_")}catch{M&&M(Dn)}}if(Rt){M=me.join("&");break e}}}return f=f.i.splice(0,j),E.D=f,M}function Bb(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;W||B(),O||(W(),O=!0),D.add(E,f),f.v=0}}function ag(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Jt(m(f.Fa,f),qb(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Hb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Jt(m(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Kd(this),Hb(this))};function lg(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function Hb(f){f.g=new Ei(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=qs(f.qa);Dt(E,"RID","rpc"),Dt(E,"SID",f.K),Dt(E,"AID",f.T),Dt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&Dt(E,"TO",f.ja),Dt(E,"TYPE","xmlhttp"),Cc(f,E),f.m&&f.o&&ig(E,f.m,f.o),f.L&&(f.g.I=f.L);var j=f.g;f=f.ia,j.L=1,j.v=Hd(qs(E)),j.m=null,j.P=!0,yb(j,f)}t.Za=function(){this.C!=null&&(this.C=null,Kd(this),ag(this),gt(19))};function Yd(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function Wb(f,E){var j=null;if(f.g==E){Yd(f),lg(f),f.g=null;var M=2}else if(rg(f.h,E))j=E.D,Nb(f.h,E),M=1;else return;if(f.G!=0){if(E.o)if(M==1){j=E.m?E.m.length:0,E=Date.now()-E.F;var K=f.B;M=Qe(),Ee(M,new be(M,j)),Qd(f)}else Bb(f);else if(K=E.s,K==3||K==0&&0<E.X||!(M==1&&nD(f,E)||M==2&&ag(f)))switch(j&&0<j.length&&(E=f.h,E.i=E.i.concat(j)),K){case 1:Lo(f,5);break;case 4:Lo(f,10);break;case 3:Lo(f,6);break;default:Lo(f,2)}}}function qb(f,E){let j=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(j*=2),j*E}function Lo(f,E){if(f.j.info("Error code "+E),E==2){var j=m(f.fb,f),M=f.Xa;const K=!M;M=new Ro(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||zd(M,"https"),Hd(M),K?QM(M.toString(),j):YM(M.toString(),j)}else gt(2);f.G=0,f.l&&f.l.sa(E),Gb(f),$b(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Gb(f){if(f.G=0,f.ka=[],f.l){const E=Cb(f.h);(E.length!=0||f.i.length!=0)&&(b(f.ka,E),b(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function Kb(f,E,j){var M=j instanceof Ro?qs(j):new Ro(j);if(M.g!="")E&&(M.g=E+"."+M.g),Bd(M,M.s);else{var K=l.location;M=K.protocol,E=E?E+"."+K.hostname:K.hostname,K=+K.port;var X=new Ro(null);M&&zd(X,M),E&&(X.g=E),K&&Bd(X,K),j&&(X.l=j),M=X}return j=f.D,E=f.ya,j&&E&&Dt(M,j,E),Dt(M,"VER",f.la),Cc(f,M),M}function Qb(f,E,j){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new en(new Wd({eb:j})):new en(f.pa),E.Ha(f.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yb(){}t=Yb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zd(){}Zd.prototype.g=function(f,E){return new xr(f,E)};function xr(f,E){ae.call(this),this.g=new Fb(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!x(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!x(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Ra(this)}v(xr,ae),xr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xr.prototype.close=function(){og(this.g)},xr.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var j={};j.__data__=f,f=j}else this.u&&(j={},j.__data__=Xe(f),f=j);E.i.push(new FM(E.Ya++,f)),E.G==3&&Qd(E)},xr.prototype.N=function(){this.g.l=null,delete this.j,og(this.g),delete this.g,xr.aa.N.call(this)};function Zb(f){Ht.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const j in E){f=j;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}v(Zb,Ht);function Xb(){ut.call(this),this.status=1}v(Xb,ut);function Ra(f){this.g=f}v(Ra,Yb),Ra.prototype.ua=function(){Ee(this.g,"a")},Ra.prototype.ta=function(f){Ee(this.g,new Zb(f))},Ra.prototype.sa=function(f){Ee(this.g,new Xb)},Ra.prototype.ra=function(){Ee(this.g,"b")},Zd.prototype.createWebChannel=Zd.prototype.g,xr.prototype.send=xr.prototype.o,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,GT=function(){return new Zd},qT=function(){return Qe()},WT=Tt,_v={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fd.NO_ERROR=0,Fd.TIMEOUT=8,Fd.HTTP_ERROR=6,Yh=Fd,pb.COMPLETE="complete",HT=pb,He.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",ae.prototype.listen=ae.prototype.K,qc=He,en.prototype.listenOnce=en.prototype.L,en.prototype.getLastError=en.prototype.Ka,en.prototype.getLastErrorCode=en.prototype.Ba,en.prototype.getStatus=en.prototype.Z,en.prototype.getResponseJson=en.prototype.Oa,en.prototype.getResponseText=en.prototype.oa,en.prototype.send=en.prototype.ea,en.prototype.setWithCredentials=en.prototype.Ha,BT=en}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});const bN="@firebase/firestore",EN="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new _x("@firebase/firestore");function Fa(){return ma.logLevel}function Ne(t,...e){if(ma.logLevel<=at.DEBUG){const n=e.map(Fx);ma.debug(`Firestore (${rc}): ${t}`,...n)}}function gi(t,...e){if(ma.logLevel<=at.ERROR){const n=e.map(Fx);ma.error(`Firestore (${rc}): ${t}`,...n)}}function Ol(t,...e){if(ma.logLevel<=at.WARN){const n=e.map(Fx);ma.warn(`Firestore (${rc}): ${t}`,...n)}}function Fx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KT(t,r,n)}function KT(t,e,n){let r=`FIRESTORE (${rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gi(r),new Error(r)}function St(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||KT(e,s,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _U{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bn.UNAUTHENTICATED))}shutdown(){}}class SU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jU{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){St(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ai,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ai)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string",31837,{l:r}),new QT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string",2055,{h:e}),new Bn(e)}}class kU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){St(this.o===void 0,3512);const r=i=>{i.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Ne("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new NN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=PU(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function Sv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return et(r,s);{const i=YT(),a=AU(i.encode(CN(t,n)),i.encode(CN(e,n)));return a!==0?a:et(r,s)}}n+=r>65535?2:1}return et(t.length,e.length)}function CN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function AU(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return et(t[n],e[n]);return et(t.length,e.length)}function Vl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=-62135596800,SN=1e6;class gn{static now(){return gn.fromMillis(Date.now())}static fromDate(e){return gn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*SN);return new gn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_N)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SN}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-_N;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new gn(0,0))}static max(){return new Ge(new gn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="__name__";class _s{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _s.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _s?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=_s.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return et(e.length,n.length)}static compareSegments(e,n){const r=_s.isNumericId(e),s=_s.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?_s.extractNumericId(e).compare(_s.extractNumericId(n)):Sv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return uo.fromString(e.substring(4,e.length-2))}}class Ft extends _s{construct(e,n,r){return new Ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ft(n)}static emptyPath(){return new Ft([])}}const RU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends _s{construct(e,n,r){return new jn(e,n,r)}static isValidIdentifier(e){return RU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jN}static keyField(){return new jn([jN])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new _e(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new _e(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new _e(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new _e(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(n)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Ft.fromString(e))}static fromName(e){return new Oe(Ft.fromString(e).popFirst(5))}static empty(){return new Oe(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=-1;function LU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ge.fromTimestamp(r===1e9?new gn(n+1,0):new gn(n,r));return new yo(s,Oe.empty(),e)}function MU(t){return new yo(t.readTime,t.key,Gu)}class yo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yo(Ge.min(),Oe.empty(),Gu)}static max(){return new yo(Ge.max(),Oe.empty(),Gu)}}function DU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==OU)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(s=>s?le.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new le((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{a[u]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new le((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function FU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ic(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}em.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=-1;function tm(t){return t==null}function Bf(t){return t===0&&1/t==-1/0}function $U(t){return typeof t=="number"&&Number.isInteger(t)&&!Bf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="";function UU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kN(e)),e=zU(t.get(n),e);return kN(e)}function zU(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case XT:n+="";break;default:n+=i}}return n}function kN(t){return t+XT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Sn.RED,this.left=s??Sn.EMPTY,this.right=i??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Sn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Sn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TN(this.data.getIterator())}getIteratorFrom(e){return new TN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yn(this.comparator);return n.data=e,n}}class TN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new _r([])}unionWith(e){let n=new yn(jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new eP("Invalid base64 string: "+i):i}}(e);return new An(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const BU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(St(!!t,39018),typeof t=="string"){let e=0;const n=BU.exec(t);if(St(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xo(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="server_timestamp",nP="__type__",rP="__previous_value__",sP="__local_write_time__";function Ux(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[nP])===null||n===void 0?void 0:n.stringValue)===tP}function nm(t){const e=t.mapValue.fields[rP];return Ux(e)?nm(e):e}function Ku(t){const e=vo(t.mapValue.fields[sP].timestampValue);return new gn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,n,r,s,i,a,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const Hf="(default)";class Qu{constructor(e,n){this.projectId=e,this.database=n||Hf}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===Hf}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="__type__",WU="__max__",Ch={mapValue:{}},oP="__vector__",Wf="value";function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ux(t)?4:GU(t)?9007199254740991:qU(t)?10:11:Ue(28295,{value:t})}function Bs(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ku(t).isEqual(Ku(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=vo(s.timestampValue),l=vo(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return xo(s.bytesValue).isEqual(xo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return sn(s.geoPointValue.latitude)===sn(i.geoPointValue.latitude)&&sn(s.geoPointValue.longitude)===sn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return sn(s.integerValue)===sn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=sn(s.doubleValue),l=sn(i.doubleValue);return a===l?Bf(a)===Bf(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Vl(t.arrayValue.values||[],e.arrayValue.values||[],Bs);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(IN(a)!==IN(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Bs(a[c],l[c])))return!1;return!0}(t,e);default:return Ue(52216,{left:t})}}function Yu(t,e){return(t.values||[]).find(n=>Bs(n,e))!==void 0}function Fl(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=sn(i.integerValue||i.doubleValue),c=sn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return PN(t.timestampValue,e.timestampValue);case 4:return PN(Ku(t),Ku(e));case 5:return Sv(t.stringValue,e.stringValue);case 6:return function(i,a){const l=xo(i),c=xo(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=et(l[u],c[u]);if(h!==0)return h}return et(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=et(sn(i.latitude),sn(a.latitude));return l!==0?l:et(sn(i.longitude),sn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return AN(t.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,u,h;const p=i.fields||{},m=a.fields||{},g=(l=p[Wf])===null||l===void 0?void 0:l.arrayValue,v=(c=m[Wf])===null||c===void 0?void 0:c.arrayValue,y=et(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:AN(g,v)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Ch.mapValue&&a===Ch.mapValue)return 0;if(i===Ch.mapValue)return 1;if(a===Ch.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const m=Sv(c[p],h[p]);if(m!==0)return m;const g=Fl(l[c[p]],u[h[p]]);if(g!==0)return g}return et(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Ue(23264,{Pe:n})}}function PN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=vo(t),r=vo(e),s=et(n.seconds,r.seconds);return s!==0?s:et(n.nanos,r.nanos)}function AN(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Fl(n[s],r[s]);if(i)return i}return et(n.length,r.length)}function $l(t){return jv(t)}function jv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=jv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${jv(n.fields[a])}`;return s+"}"}(t.mapValue):Ue(61005,{value:t})}function Zh(t){switch(wo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nm(t);return e?16+Zh(e):16;case 5:return 2*t.stringValue.length;case 6:return xo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Zh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return jo(r.fields,(i,a)=>{s+=i.length+Zh(a)}),s}(t.mapValue);default:throw Ue(13486,{value:t})}}function RN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kv(t){return!!t&&"integerValue"in t}function zx(t){return!!t&&"arrayValue"in t}function LN(t){return!!t&&"nullValue"in t}function MN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xh(t){return!!t&&"mapValue"in t}function qU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[iP])===null||n===void 0?void 0:n.stringValue)===oP}function mu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===WU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(n)}setAll(e){let n=jn.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=mu(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Xh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){jo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new cr(mu(this.value))}}function aP(t){const e=[];return jo(t.fields,(n,r)=>{const s=new jn([n]);if(Xh(r)){const i=aP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new _r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Wn(e,0,Ge.min(),Ge.min(),Ge.min(),cr.empty(),0)}static newFoundDocument(e,n,r,s){return new Wn(e,1,n,Ge.min(),r,s,0)}static newNoDocument(e,n){return new Wn(e,2,n,Ge.min(),Ge.min(),cr.empty(),0)}static newUnknownDocument(e,n){return new Wn(e,3,n,Ge.min(),Ge.min(),cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this.position=e,this.inclusive=n}}function DN(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=Oe.comparator(Oe.fromName(a.referenceValue),n.key):r=Fl(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ON(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n="asc"){this.field=e,this.dir=n}}function KU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{}class hn extends lP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YU(e,n,r):n==="array-contains"?new JU(e,r):n==="in"?new e7(e,r):n==="not-in"?new t7(e,r):n==="array-contains-any"?new n7(e,r):new hn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZU(e,r):new XU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fl(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(Fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vs extends lP{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new vs(e,n)}matches(e){return cP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cP(t){return t.op==="and"}function uP(t){return QU(t)&&cP(t)}function QU(t){for(const e of t.filters)if(e instanceof vs)return!1;return!0}function Iv(t){if(t instanceof hn)return t.field.canonicalString()+t.op.toString()+$l(t.value);if(uP(t))return t.filters.map(e=>Iv(e)).join(",");{const e=t.filters.map(n=>Iv(n)).join(",");return`${t.op}(${e})`}}function dP(t,e){return t instanceof hn?function(r,s){return s instanceof hn&&r.op===s.op&&r.field.isEqual(s.field)&&Bs(r.value,s.value)}(t,e):t instanceof vs?function(r,s){return s instanceof vs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&dP(a,s.filters[l]),!0):!1}(t,e):void Ue(19439)}function hP(t){return t instanceof hn?function(n){return`${n.field.canonicalString()} ${n.op} ${$l(n.value)}`}(t):t instanceof vs?function(n){return n.op.toString()+" {"+n.getFilters().map(hP).join(" ,")+"}"}(t):"Filter"}class YU extends hn{constructor(e,n,r){super(e,n,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZU extends hn{constructor(e,n){super(e,"in",n),this.keys=fP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XU extends hn{constructor(e,n){super(e,"not-in",n),this.keys=fP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class JU extends hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zx(n)&&Yu(n.arrayValue,this.value)}}class e7 extends hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yu(this.value.arrayValue,n)}}class t7 extends hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yu(this.value.arrayValue,n)}}class n7 extends hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Ie=null}}function VN(t,e=null,n=[],r=[],s=null,i=null,a=null){return new r7(t,e,n,r,s,i,a)}function Bx(t){const e=We(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Iv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$l(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$l(r)).join(",")),e.Ie=n}return e.Ie}function Hx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ON(t.startAt,e.startAt)&&ON(t.endAt,e.endAt)}function Tv(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function s7(t,e,n,r,s,i,a,l){return new oc(t,e,n,r,s,i,a,l)}function rm(t){return new oc(t)}function FN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pP(t){return t.collectionGroup!==null}function gu(t){const e=We(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new yn(jn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Zu(i,r))}),n.has(jn.keyField().canonicalString())||e.Ee.push(new Zu(jn.keyField(),r))}return e.Ee}function Fs(t){const e=We(t);return e.de||(e.de=i7(e,gu(t))),e.de}function i7(t,e){if(t.limitType==="F")return VN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Zu(s.field,i)});const n=t.endAt?new qf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qf(t.startAt.position,t.startAt.inclusive):null;return VN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pv(t,e){const n=t.filters.concat([e]);return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Av(t,e,n){return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sm(t,e){return Hx(Fs(t),Fs(e))&&t.limitType===e.limitType}function mP(t){return`${Bx(Fs(t))}|lt:${t.limitType}`}function $a(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>hP(s)).join(", ")}]`),tm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>$l(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>$l(s)).join(",")),`Target(${r})`}(Fs(t))}; limitType=${t.limitType})`}function im(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of gu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=DN(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,gu(r),s)||r.endAt&&!function(a,l,c){const u=DN(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,gu(r),s))}(t,e)}function o7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gP(t){return(e,n)=>{let r=!1;for(const s of gu(t)){const i=a7(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function a7(t,e,n){const r=t.field.isKeyField()?Oe.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Fl(c,u):Ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return JT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7=new Qt(Oe.comparator);function yi(){return l7}const yP=new Qt(Oe.comparator);function Gc(...t){let e=yP;for(const n of t)e=e.insert(n.key,n);return e}function vP(t){let e=yP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ho(){return yu()}function xP(){return yu()}function yu(){return new Sa(t=>t.toString(),(t,e)=>t.isEqual(e))}const c7=new Qt(Oe.comparator),u7=new yn(Oe.comparator);function lt(...t){let e=u7;for(const n of t)e=e.add(n);return e}const d7=new yn(et);function h7(){return d7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(e)?"-0":e}}function wP(t){return{integerValue:""+t}}function f7(t,e){return $U(e)?wP(e):Wx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this._=void 0}}function p7(t,e,n){return t instanceof Xu?function(s,i){const a={fields:{[nP]:{stringValue:tP},[sP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ux(i)&&(i=nm(i)),i&&(a.fields[rP]=i),{mapValue:a}}(n,e):t instanceof Ju?EP(t,e):t instanceof ed?NP(t,e):function(s,i){const a=bP(s,i),l=$N(a)+$N(s.Re);return kv(a)&&kv(s.Re)?wP(l):Wx(s.serializer,l)}(t,e)}function m7(t,e,n){return t instanceof Ju?EP(t,e):t instanceof ed?NP(t,e):n}function bP(t,e){return t instanceof Gf?function(r){return kv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Xu extends om{}class Ju extends om{constructor(e){super(),this.elements=e}}function EP(t,e){const n=CP(e);for(const r of t.elements)n.some(s=>Bs(s,r))||n.push(r);return{arrayValue:{values:n}}}class ed extends om{constructor(e){super(),this.elements=e}}function NP(t,e){let n=CP(e);for(const r of t.elements)n=n.filter(s=>!Bs(s,r));return{arrayValue:{values:n}}}class Gf extends om{constructor(e,n){super(),this.serializer=e,this.Re=n}}function $N(t){return sn(t.integerValue||t.doubleValue)}function CP(t){return zx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,n){this.field=e,this.transform=n}}function y7(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ju&&s instanceof Ju||r instanceof ed&&s instanceof ed?Vl(r.elements,s.elements,Bs):r instanceof Gf&&s instanceof Gf?Bs(r.Re,s.Re):r instanceof Xu&&s instanceof Xu}(t.transform,e.transform)}class v7{constructor(e,n){this.version=e,this.transformResults=n}}class zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class am{}function _P(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qx(t.key,zr.none()):new Sd(t.key,t.data,zr.none());{const n=t.data,r=cr.empty();let s=new yn(jn.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new ko(t.key,r,new _r(s.toArray()),zr.none())}}function x7(t,e,n){t instanceof Sd?function(s,i,a){const l=s.value.clone(),c=zN(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ko?function(s,i,a){if(!Jh(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=zN(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(SP(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function vu(t,e,n,r){return t instanceof Sd?function(i,a,l,c){if(!Jh(i.precondition,a))return l;const u=i.value.clone(),h=BN(i.fieldTransforms,c,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ko?function(i,a,l,c){if(!Jh(i.precondition,a))return l;const u=BN(i.fieldTransforms,c,a),h=a.data;return h.setAll(SP(i)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,a,l){return Jh(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function w7(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=bP(r.transform,s||null);i!=null&&(n===null&&(n=cr.empty()),n.set(r.field,i))}return n||null}function UN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Vl(r,s,(i,a)=>y7(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sd extends am{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ko extends am{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function SP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zN(t,e,n){const r=new Map;St(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,m7(a,l,n[s]))}return r}function BN(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,p7(i,a,e))}return r}class qx extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b7 extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&x7(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xP();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=_P(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lt())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(n,r)=>UN(n,r))&&Vl(this.baseMutations,e.baseMutations,(n,r)=>UN(n,r))}}class Gx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){St(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return c7}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Gx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N7=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,ft;function _7(t){switch(t){case oe.OK:return Ue(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function jP(t){if(t===void 0)return gi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case ln.OK:return oe.OK;case ln.CANCELLED:return oe.CANCELLED;case ln.UNKNOWN:return oe.UNKNOWN;case ln.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case ln.INTERNAL:return oe.INTERNAL;case ln.UNAVAILABLE:return oe.UNAVAILABLE;case ln.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case ln.NOT_FOUND:return oe.NOT_FOUND;case ln.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case ln.ABORTED:return oe.ABORTED;case ln.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case ln.DATA_LOSS:return oe.DATA_LOSS;default:return Ue(39323,{code:t})}}(ft=ln||(ln={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=new uo([4294967295,4294967295],0);function HN(t){const e=YT().encode(t),n=new zT;return n.update(e),new Uint8Array(n.digest())}function WN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new uo([n,r],0),new uo([s,i],0)]}class Kx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kc(`Invalid padding: ${n}`);if(r<0)throw new Kc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=uo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(uo.fromNumber(r)));return s.compare(S7)===1&&(s=new uo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=HN(e),[r,s]=WN(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);if(!this.be(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Kx(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=HN(e),[r,s]=WN(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,jd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lm(Ge.min(),s,new Qt(et),yi(),lt())}}class jd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jd(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class kP{constructor(e,n){this.targetId=e,this.Ce=n}}class IP{constructor(e,n,r=An.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class qN{constructor(){this.Fe=0,this.Me=GN(),this.xe=An.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=lt(),n=lt(),r=lt();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ue(38017,{changeType:i})}}),new jd(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=GN()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,St(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class j7{constructor(e){this.ze=e,this.je=new Map,this.He=yi(),this.Je=_h(),this.Ye=_h(),this.Ze=new Qt(et)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Tv(i))if(r===0){const a=new Oe(i.path);this.tt(n,a,Wn.newNoDocument(a,Ge.min()))}else St(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const l=this.ct(e),c=l?this.lt(l,e,a):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=xo(r).toUint8Array()}catch(c){if(c instanceof eP)return Ol("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Kx(a,s,i)}catch(c){return Ol(c instanceof Kc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,a)=>{const l=this._t(a);if(l){if(i.current&&Tv(l.target)){const c=new Oe(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,Wn.newNoDocument(c,e))}i.Le&&(n.set(a,i.qe()),i.Qe())}});let r=lt();this.Ye.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,a)=>a.setReadTime(e));const s=new lm(e,n,this.Ze,this.He,r);return this.He=yi(),this.Je=_h(),this.Ye=_h(),this.Ze=new Qt(et),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new qN,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new yn(et),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new yn(et),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new qN),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function _h(){return new Qt(Oe.comparator)}function GN(){return new Qt(Oe.comparator)}const k7={asc:"ASCENDING",desc:"DESCENDING"},I7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T7={and:"AND",or:"OR"};class P7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rv(t,e){return t.useProto3Json||tm(e)?e:{value:e}}function Kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function A7(t,e){return Kf(t,e.toTimestamp())}function $s(t){return St(!!t,49232),Ge.fromTimestamp(function(n){const r=vo(n);return new gn(r.seconds,r.nanos)}(t))}function Qx(t,e){return Lv(t,e).canonicalString()}function Lv(t,e){const n=function(s){return new Ft(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PP(t){const e=Ft.fromString(t);return St(DP(e),10190,{key:e.toString()}),e}function Mv(t,e){return Qx(t.databaseId,e.path)}function Zg(t,e){const n=PP(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Oe(RP(n))}function AP(t,e){return Qx(t.databaseId,e)}function R7(t){const e=PP(t);return e.length===4?Ft.emptyPath():RP(e)}function Dv(t){return new Ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RP(t){return St(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function KN(t,e,n){return{name:Mv(t,e),fields:n.value.mapValue.fields}}function L7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ue(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(St(h===void 0||typeof h=="string",58123),An.fromBase64String(h||"")):(St(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),An.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const h=u.code===void 0?oe.UNKNOWN:jP(u.code);return new _e(h,u.message||"")}(a);n=new IP(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Zg(t,r.document.name),i=$s(r.document.updateTime),a=r.document.createTime?$s(r.document.createTime):Ge.min(),l=new cr({mapValue:{fields:r.document.fields}}),c=Wn.newFoundDocument(s,i,a,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new ef(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Zg(t,r.document),i=r.readTime?$s(r.readTime):Ge.min(),a=Wn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new ef([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Zg(t,r.document),i=r.removedTargetIds||[];n=new ef([],i,s,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new C7(s,i),l=r.targetId;n=new kP(l,a)}}return n}function M7(t,e){let n;if(e instanceof Sd)n={update:KN(t,e.key,e.value)};else if(e instanceof qx)n={delete:Mv(t,e.key)};else if(e instanceof ko)n={update:KN(t,e.key,e.data),updateMask:H7(e.fieldMask)};else{if(!(e instanceof b7))return Ue(16599,{ft:e.type});n={verify:Mv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Xu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ju)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ed)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Gf)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw Ue(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:A7(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ue(27497)}(t,e.precondition)),n}function D7(t,e){return t&&t.length>0?(St(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?$s(s.updateTime):$s(i);return a.isEqual(Ge.min())&&(a=$s(i)),new v7(a,s.transformResults||[])}(n,e))):[]}function O7(t,e){return{documents:[AP(t,e.path)]}}function V7(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AP(t,s);const i=function(u){if(u.length!==0)return MP(vs.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:Ua(m.field),direction:U7(m.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Rv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function F7(t){let e=R7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){St(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const m=LP(p);return m instanceof vs&&uP(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(m=>function(v){return new Zu(za(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,tm(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,g=p.values||[];return new qf(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const m=!p.before,g=p.values||[];return new qf(g,m)}(n.endAt)),s7(e,s,a,i,l,"F",c,u)}function $7(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=za(n.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=za(n.unaryFilter.field);return hn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=za(n.unaryFilter.field);return hn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=za(n.unaryFilter.field);return hn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return hn.create(za(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vs.create(n.compositeFilter.filters.map(r=>LP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(n.compositeFilter.op))}(t):Ue(30097,{filter:t})}function U7(t){return k7[t]}function z7(t){return I7[t]}function B7(t){return T7[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function za(t){return jn.fromServerFormat(t.fieldPath)}function MP(t){return t instanceof hn?function(n){if(n.op==="=="){if(MN(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(LN(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MN(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(LN(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:z7(n.op),value:n.value}}}(t):t instanceof vs?function(n){const r=n.getFilters().map(s=>MP(s));return r.length===1?r[0]:{compositeFilter:{op:B7(n.op),filters:r}}}(t):Ue(54877,{filter:t})}function H7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r,s,i=Ge.min(),a=Ge.min(),l=An.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e){this.wt=e}}function q7(t){const e=F7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Av(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(){this.Cn=new K7}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(yo.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class K7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new yn(Ft.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new yn(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OP=41943040;class or{static withCacheSize(e){return new or(e,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(OP,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ul(0)}static lr(){return new Ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="LruGarbageCollector",Q7=1048576;function ZN([t,e],[n,r]){const s=et(t,n);return s===0?et(e,r):s}class Y7{constructor(e){this.Er=e,this.buffer=new yn(ZN),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ZN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Z7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ne(YN,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ic(n)?Ne(YN,"Ignoring IndexedDB error during garbage collection: ",n):await sc(n)}await this.mr(3e5)})}}class X7{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(em.le);const r=new Y7(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(QN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QN):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,a,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Fa()<=at.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function J7(t,e){return new X7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(){this.changes=new Sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&vu(r.mutation,s,_r.empty(),gn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=lt()){const s=Ho();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=Gc();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ho();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,lt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=yi();const a=yu(),l=function(){return yu()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof ko)?i=i.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),vu(h.mutation,u,h.mutation.getFieldMask(),gn.now())):a.set(u.key,_r.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>{var p;return l.set(u,new tz(h,(p=a.get(u))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=yu();let s=new Qt((a,l)=>a-l),i=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||_r.empty();h=l.applyToLocalView(u,h),r.set(c,h);const p=(s.get(l.batchId)||lt()).add(c);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,p=xP();h.forEach(m=>{if(!i.has(m)){const g=_P(n.get(m),r.get(m));g!==null&&p.set(m,g),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,p))}return le.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return Oe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):le.resolve(Ho());let l=Gu,c=i;return a.next(u=>le.forEach(u,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(h)?le.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,lt())).next(h=>({batchId:l,changes:vP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next(r=>{let s=Gc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Gc();return this.indexManager.getCollectionParents(e,i).next(l=>le.forEach(l,c=>{const u=function(p,m){return new oc(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Wn.newInvalidDocument(h)))});let l=Gc();return a.forEach((c,u)=>{const h=i.get(c);h!==void 0&&vu(h.mutation,u,_r.empty(),gn.now()),im(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return le.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:$s(s.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:q7(s.bundledQuery),readTime:$s(s.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(){this.overlays=new Qt(Oe.comparator),this.Qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ho();return le.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const s=Ho(),i=n.length+1,a=new Oe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return le.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qt((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Ho(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=Ho(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=s)););return le.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new N7(n,r));let i=this.Qr.get(n);i===void 0&&(i=lt(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.$r=new yn(bn.Ur),this.Kr=new yn(bn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new bn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new bn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Oe(new Ft([])),r=new bn(n,e),s=new bn(n,e+1),i=[];return this.Kr.forEachInRange([r,s],a=>{this.zr(a),i.push(a.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Oe(new Ft([])),r=new bn(n,e),s=new bn(n,e+1);let i=lt();return this.Kr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new bn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Oe.comparator(e.key,n.key)||et(e.Zr,n.Zr)}static Wr(e,n){return et(e.Zr,n.Zr)||Oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new yn(bn.Ur)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new E7(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Xr=this.Xr.add(new bn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return le.resolve(a)}lookupMutationBatch(e,n){return le.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return le.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?$x:this.nr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),s=new bn(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],a=>{const l=this.ei(a.Zr);i.push(l)}),le.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yn(et);return n.forEach(s=>{const i=new bn(s,0),a=new bn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,a],l=>{r=r.add(l.Zr)})}),le.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Oe.isDocumentKey(i)||(i=i.child(""));const a=new bn(new Oe(i),0);let l=new yn(et);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Zr)),!0)},a),le.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){St(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return le.forEach(n.mutations,s=>{const i=new bn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new bn(n,0),s=this.Xr.firstAfterOrEqual(r);return le.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.ii=e,this.docs=function(){return new Qt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Wn.newInvalidDocument(s))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=yi();const a=n.path,l=new Oe(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||DU(MU(h),r)<=0||(s.has(h.key)||im(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ue(9500)}si(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lz(this)}getSize(e){return le.resolve(this.size)}}class lz extends ez{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e){this.persistence=e,this.oi=new Sa(n=>Bx(n),Hx),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this._i=0,this.ai=new Yx,this.targetCount=0,this.ui=Ul.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),le.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ul(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Tr(n),le.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),le.waitFor(i).next(()=>s)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),le.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n){this.ci={},this.overlays={},this.li=new em(0),this.hi=!1,this.hi=!0,this.Pi=new iz,this.referenceDelegate=e(this),this.Ti=new cz(this),this.indexManager=new G7,this.remoteDocumentCache=function(s){return new az(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new W7(n),this.Ei=new rz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new oz(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const s=new uz(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return le.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class uz extends VU{constructor(e){super(),this.currentSequenceNumber=e}}class Zx{constructor(e){this.persistence=e,this.Vi=new Yx,this.mi=null}static fi(e){return new Zx(e)}get gi(){if(this.mi)return this.mi;throw Ue(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.gi,r=>{const s=Oe.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,Ge.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return le.or([()=>le.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Qf{constructor(e,n){this.persistence=e,this.yi=new Sa(r=>UU(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=J7(this,n)}static fi(e,n){return new Qf(e,n)}di(){}Ai(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return le.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?le.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,a=>this.Dr(e,a,n).next(l=>{l||(r++,i.removeEntry(a,Ge.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),le.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zh(e.data.value)),n}Dr(e,n,r){return le.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return le.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=lt(),s=lt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Xx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return _F()?8:FU(Qn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new dz;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Fa()<=at.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),le.resolve()):(Fa()<=at.DEBUG&&Ne("QueryEngine","Query:",$a(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Fa()<=at.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fs(n))):le.resolve())}ws(e,n){if(FN(n))return le.resolve(null);let r=Fs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Av(n,null,"F"),r=Fs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=lt(...i);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,l);return this.Cs(n,u,a,c.readTime)?this.ws(e,Av(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,s){return FN(n)||s.isEqual(Ge.min())?le.resolve(null):this.ys.getDocuments(e,r).next(i=>{const a=this.vs(n,i);return this.Cs(n,a,r,s)?le.resolve(null):(Fa()<=at.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$a(n)),this.Fs(e,a,n,LU(s,Gu)).next(l=>l))})}vs(e,n){let r=new yn(gP(e));return n.forEach((s,i)=>{im(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Fa()<=at.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",$a(n)),this.ys.getDocumentsMatchingQuery(e,n,yo.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="LocalStore",fz=3e8;class pz{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Qt(et),this.Os=new Sa(i=>Bx(i),Hx),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nz(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function mz(t,e,n,r){return new pz(t,e,n,r)}async function FP(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=lt();for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:a,addedBatchIds:l}))})})}function gz(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const p=u.batch,m=p.keys();let g=le.resolve();return m.forEach(v=>{g=g.next(()=>h.getEntry(c,v)).next(y=>{const b=u.docVersions.get(v);St(b!==null,48541),y.version.compareTo(b)<0&&(p.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=lt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function $P(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function yz(t,e){const n=We(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((h,p)=>{const m=s.get(p);if(!m)return;l.push(n.Ti.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(i,h.addedDocuments,p)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(An.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(p,g),function(y,b,w){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=fz?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,g,h)&&l.push(n.Ti.updateTargetData(i,g))});let c=yi(),u=lt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(vz(i,a,e.documentUpdates).next(h=>{c=h.qs,u=h.Qs})),!r.isEqual(Ge.min())){const h=n.Ti.getLastRemoteSnapshotVersion(i).next(p=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return le.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.xs=s,i))}function vz(t,e,n){let r=lt(),s=lt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=yi();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ge.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Ne(Jx,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{qs:a,Qs:s}})}function xz(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$x),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wz(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,le.resolve(s)):n.Ti.allocateTargetId(r).next(a=>(s=new Qi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Ov(t,e,n){const r=We(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!ic(a))throw a;Ne(Jx,`Failed to update sequence numbers for target ${e}: ${a}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function XN(t,e,n){const r=We(t);let s=Ge.min(),i=lt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,h){const p=We(c),m=p.Os.get(h);return m!==void 0?le.resolve(p.xs.get(m)):p.Ti.getTargetData(u,h)}(r,a,Fs(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(a,e,n?s:Ge.min(),n?i:lt())).next(l=>(bz(r,o7(e),l),{documents:l,$s:i})))}function bz(t,e,n){let r=t.Ns.get(e)||Ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class JN{constructor(){this.activeTargetIds=h7()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ez{constructor(){this.xo=new JN,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new JN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="ConnectivityMonitor";class tC{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ne(eC,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ne(eC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh=null;function Vv(){return Sh===null?Sh=function(){return 268435456+Math.round(2147483648*Math.random())}():Sh++,"0x"+Sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="RestConnection",Cz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _z{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Hf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const a=Vv(),l=this.jo(e,n.toUriEncodedString());Ne(Xg,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:u}=new URL(l),h=ec(u);return this.Jo(e,l,c,r,h).then(p=>(Ne(Xg,`Received RPC '${e}' ${a}: `,p),p),p=>{throw Ol(Xg,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",r),p})}Yo(e,n,r,s,i,a){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=Cz[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class jz extends _z{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=Vv();return new Promise((l,c)=>{const u=new BT;u.setWithCredentials(!0),u.listenOnce(HT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Yh.NO_ERROR:const p=u.getResponseJson();Ne(Un,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Yh.TIMEOUT:Ne(Un,`RPC '${e}' ${a} timed out`),c(new _e(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Yh.HTTP_ERROR:const m=u.getStatus();if(Ne(Un,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const y=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(x)>=0?x:oe.UNKNOWN}(v.status);c(new _e(y,v.message))}else c(new _e(oe.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new _e(oe.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{h_:e,streamId:a,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{Ne(Un,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);Ne(Un,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",h,r,15)})}I_(e,n,r){const s=Vv(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=GT(),l=qT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");Ne(Un,`Creating RPC '${e}' stream ${s}: ${h}`,c);const p=a.createWebChannel(h,c);this.E_(p);let m=!1,g=!1;const v=new Sz({Zo:b=>{g?Ne(Un,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(m||(Ne(Un,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),Ne(Un,`RPC '${e}' stream ${s} sending:`,b),p.send(b))},Xo:()=>p.close()}),y=(b,w,x)=>{b.listen(w,N=>{try{x(N)}catch(k){setTimeout(()=>{throw k},0)}})};return y(p,qc.EventType.OPEN,()=>{g||(Ne(Un,`RPC '${e}' stream ${s} transport opened.`),v.__())}),y(p,qc.EventType.CLOSE,()=>{g||(g=!0,Ne(Un,`RPC '${e}' stream ${s} transport closed`),v.u_(),this.d_(p))}),y(p,qc.EventType.ERROR,b=>{g||(g=!0,Ol(Un,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),v.u_(new _e(oe.UNAVAILABLE,"The operation could not be completed")))}),y(p,qc.EventType.MESSAGE,b=>{var w;if(!g){const x=b.data[0];St(!!x,16349);const N=x,k=(N==null?void 0:N.error)||((w=N[0])===null||w===void 0?void 0:w.error);if(k){Ne(Un,`RPC '${e}' stream ${s} received error:`,k);const A=k.status;let R=function(S){const T=ln[S];if(T!==void 0)return jP(T)}(A),C=k.message;R===void 0&&(R=oe.INTERNAL,C="Unknown error status: "+A+" with message "+k.message),g=!0,v.u_(new _e(R,C)),p.close()}else Ne(Un,`RPC '${e}' stream ${s} received:`,x),v.c_(x)}}),y(l,WT.STAT_EVENT,b=>{b.stat===_v.PROXY?Ne(Un,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===_v.NOPROXY&&Ne(Un,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){return new P7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="PersistentStream";class zP{constructor(e,n,r,s,i,a,l,c){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new UP(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new _e(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ne(nC,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Ne(nC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kz extends zP{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=L7(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ge.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ge.min():a.readTime?$s(a.readTime):Ge.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Dv(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Tv(c)?{documents:O7(i,c)}:{query:V7(i,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=TP(i,a.resumeToken);const u=Rv(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Ge.min())>0){l.readTime=Kf(i,a.snapshotVersion.toTimestamp());const u=Rv(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=$7(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Dv(this.serializer),n.removeTarget=e,this.Q_(n)}}class Iz extends zP{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return St(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){St(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=D7(e.writeResults,e.commitTime),r=$s(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Dv(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>M7(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{}class Pz extends Tz{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.zo(e,Lv(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new _e(oe.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,Lv(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(oe.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Az{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(gi(n),this.ua=!1):Ne("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class Rz{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(a=>{r.enqueueAndForget(async()=>{ja(this)&&(Ne(ga,"Restarting streams for network reachability change."),await async function(c){const u=We(c);u.da.add(4),await ac(u),u.Va.set("Unknown"),u.da.delete(4),await kd(u)}(this))})}),this.Va=new Az(r,s)}}async function kd(t){if(ja(t))for(const e of t.Aa)await e(!0)}async function ac(t){for(const e of t.Aa)await e(!1)}function BP(t,e){const n=We(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),rw(n)?nw(n):lc(n).N_()&&tw(n,e))}function ew(t,e){const n=We(t),r=lc(n);n.Ea.delete(e),r.N_()&&HP(n,e),n.Ea.size===0&&(r.N_()?r.k_():ja(n)&&n.Va.set("Unknown"))}function tw(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lc(t).Z_(e)}function HP(t,e){t.ma.Ke(e),lc(t).X_(e)}function nw(t){t.ma=new j7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),lc(t).start(),t.Va.ca()}function rw(t){return ja(t)&&!lc(t).O_()&&t.Ea.size>0}function ja(t){return We(t).da.size===0}function WP(t){t.ma=void 0}async function Lz(t){t.Va.set("Online")}async function Mz(t){t.Ea.forEach((e,n)=>{tw(t,e)})}async function Dz(t,e){WP(t),rw(t)?(t.Va.Pa(e),nw(t)):t.Va.set("Unknown")}async function Oz(t,e,n){if(t.Va.set("Online"),e instanceof IP&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(r){Ne(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yf(t,r)}else if(e instanceof ef?t.ma.Xe(e):e instanceof kP?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ge.min()))try{const r=await $P(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.ma.It(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ea.get(u);h&&i.Ea.set(u,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const h=i.Ea.get(c);if(!h)return;i.Ea.set(c,h.withResumeToken(An.EMPTY_BYTE_STRING,h.snapshotVersion)),HP(i,c);const p=new Qi(h.target,c,u,h.sequenceNumber);tw(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ne(ga,"Failed to raise snapshot:",r),await Yf(t,r)}}async function Yf(t,e,n){if(!ic(e))throw e;t.da.add(1),await ac(t),t.Va.set("Offline"),n||(n=()=>$P(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne(ga,"Retrying IndexedDB access"),await n(),t.da.delete(1),await kd(t)})}function qP(t,e){return e().catch(n=>Yf(t,n,e))}async function um(t){const e=We(t),n=bo(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:$x;for(;Vz(e);)try{const s=await xz(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,Fz(e,s)}catch(s){await Yf(e,s)}GP(e)&&KP(e)}function Vz(t){return ja(t)&&t.Ia.length<10}function Fz(t,e){t.Ia.push(e);const n=bo(t);n.N_()&&n.ea&&n.ta(e.mutations)}function GP(t){return ja(t)&&!bo(t).O_()&&t.Ia.length>0}function KP(t){bo(t).start()}async function $z(t){bo(t).ia()}async function Uz(t){const e=bo(t);for(const n of t.Ia)e.ta(n.mutations)}async function zz(t,e,n){const r=t.Ia.shift(),s=Gx.from(r,e,n);await qP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await um(t)}async function Bz(t,e){e&&bo(t).ea&&await async function(r,s){if(function(a){return _7(a)&&a!==oe.ABORTED}(s.code)){const i=r.Ia.shift();bo(r).L_(),await qP(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await um(r)}}(t,e),GP(t)&&KP(t)}async function rC(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),Ne(ga,"RemoteStore received new credentials");const r=ja(n);n.da.add(3),await ac(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await kd(n)}async function Hz(t,e){const n=We(t);e?(n.da.delete(2),await kd(n)):e||(n.da.add(2),await ac(n),n.Va.set("Unknown"))}function lc(t){return t.fa||(t.fa=function(n,r,s){const i=We(n);return i.oa(),new kz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:Lz.bind(null,t),n_:Mz.bind(null,t),i_:Dz.bind(null,t),Y_:Oz.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),rw(t)?nw(t):t.Va.set("Unknown")):(await t.fa.stop(),WP(t))})),t.fa}function bo(t){return t.ga||(t.ga=function(n,r,s){const i=We(n);return i.oa(),new Iz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:$z.bind(null,t),i_:Bz.bind(null,t),na:Uz.bind(null,t),ra:zz.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await um(t)):(await t.ga.stop(),t.Ia.length>0&&(Ne(ga,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new sw(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iw(t,e){if(gi("AsyncQueue",`${e}: ${t}`),ic(t))return new _e(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Oe.comparator(n.key,r.key):(n,r)=>Oe.comparator(n.key,r.key),this.keyedMap=Gc(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ml;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.pa=new Qt(Oe.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ue(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class zl{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new zl(e,n,ml.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class qz{constructor(){this.queries=iC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=We(n),i=s.queries;s.queries=iC(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new _e(oe.ABORTED,"Firestore shutting down"))}}function iC(){return new Sa(t=>mP(t),sm)}async function ow(t,e){const n=We(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new Wz,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=iw(a,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&lw(n)}async function aw(t,e){const n=We(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Gz(t,e){const n=We(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Ma(s)&&(r=!0);a.ba=s}}r&&lw(n)}function Kz(t,e,n){const r=We(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function lw(t){t.Ca.forEach(e=>{e.next()})}var Fv,oC;(oC=Fv||(Fv={})).xa="default",oC.Cache="cache";class cw{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Fv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.key=e}}class YP{constructor(e){this.key=e}}class Qz{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=lt(),this.mutatedKeys=lt(),this.Za=gP(e),this.Xa=new ml(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new sC,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const m=s.get(h),g=im(this.query,p)?p:null,v=!!m&&this.mutatedKeys.has(m.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;m&&g?m.data.isEqual(g.data)?v!==y&&(r.track({type:3,doc:g}),b=!0):this.ru(m,g)||(r.track({type:2,doc:g}),b=!0,(c&&this.Za(g,c)>0||u&&this.Za(g,u)<0)&&(l=!0)):!m&&g?(r.track({type:0,doc:g}),b=!0):m&&!g&&(r.track({type:1,doc:m}),b=!0,(c||u)&&(l=!0)),b&&(g?(a=a.add(g),i=y?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Xa:a,nu:r,Cs:l,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((h,p)=>function(g,v){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:b})}};return y(g)-y(v)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),s=s!=null&&s;const l=n&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,u=c!==this.Ja;return this.Ja=c,a.length!==0||u?{snapshot:new zl(this.query,e.Xa,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new sC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=lt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new YP(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new QP(r))}),n}au(e){this.Ha=e.$s,this.Ya=lt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return zl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const uw="SyncEngine";class Yz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Zz{constructor(e){this.key=e,this.cu=!1}}class Xz{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Sa(l=>mP(l),sm),this.Pu=new Map,this.Tu=new Set,this.Iu=new Qt(Oe.comparator),this.Eu=new Map,this.du=new Yx,this.Au={},this.Ru=new Map,this.Vu=Ul.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Jz(t,e,n=!0){const r=n2(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await ZP(r,e,n,!0),s}async function eB(t,e){const n=n2(t);await ZP(n,e,!0,!1)}async function ZP(t,e,n,r){const s=await wz(t.localStore,Fs(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await tB(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&BP(t.remoteStore,s),l}async function tB(t,e,n,r,s){t.fu=(p,m,g)=>async function(y,b,w,x){let N=b.view.tu(w);N.Cs&&(N=await XN(y.localStore,b.query,!1).then(({documents:C})=>b.view.tu(C,N)));const k=x&&x.targetChanges.get(b.targetId),A=x&&x.targetMismatches.get(b.targetId)!=null,R=b.view.applyChanges(N,y.isPrimaryClient,k,A);return lC(y,b.targetId,R.ou),R.snapshot}(t,p,m,g);const i=await XN(t.localStore,e,!0),a=new Qz(e,i.$s),l=a.tu(i.documents),c=jd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);lC(t,n,u.ou);const h=new Yz(e,n,a);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function nB(t,e,n){const r=We(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(a=>!sm(a,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ov(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ew(r.remoteStore,s.targetId),$v(r,s.targetId)}).catch(sc)):($v(r,s.targetId),await Ov(r.localStore,s.targetId,!0))}async function rB(t,e){const n=We(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ew(n.remoteStore,r.targetId))}async function sB(t,e,n){const r=dB(t);try{const s=await function(a,l){const c=We(a),u=gn.now(),h=l.reduce((g,v)=>g.add(v.key),lt());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=yi(),y=lt();return c.Bs.getEntries(g,h).next(b=>{v=b,v.forEach((w,x)=>{x.isValidDocument()||(y=y.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,v)).next(b=>{p=b;const w=[];for(const x of l){const N=w7(x,p.get(x.key).overlayedDocument);N!=null&&w.push(new ko(x.key,N,aP(N.value.mapValue),zr.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,w,l)}).next(b=>{m=b;const w=b.applyToLocalDocumentSet(p,y);return c.documentOverlayCache.saveOverlays(g,b.batchId,w)})}).then(()=>({batchId:m.batchId,changes:vP(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Au[a.currentUser.toKey()];u||(u=new Qt(et)),u=u.insert(l,c),a.Au[a.currentUser.toKey()]=u}(r,s.batchId,n),await Id(r,s.changes),await um(r.remoteStore)}catch(s){const i=iw(s,"Failed to persist write");n.reject(i)}}async function XP(t,e){const n=We(t);try{const r=await yz(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Eu.get(i);a&&(St(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?St(a.cu,14607):s.removedDocuments.size>0&&(St(a.cu,42227),a.cu=!1))}),await Id(n,r,e)}catch(r){await sc(r)}}function aC(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,a)=>{const l=a.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=We(a);c.onlineState=l;let u=!1;c.queries.forEach((h,p)=>{for(const m of p.Sa)m.Fa(l)&&(u=!0)}),u&&lw(c)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iB(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let a=new Qt(Oe.comparator);a=a.insert(i,Wn.newNoDocument(i,Ge.min()));const l=lt().add(i),c=new lm(Ge.min(),new Map,new Qt(et),a,l);await XP(r,c),r.Iu=r.Iu.remove(i),r.Eu.delete(e),dw(r)}else await Ov(r.localStore,e,!1).then(()=>$v(r,e,n)).catch(sc)}async function oB(t,e){const n=We(t),r=e.batch.batchId;try{const s=await gz(n.localStore,e);e2(n,r,null),JP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Id(n,s)}catch(s){await sc(s)}}async function aB(t,e,n){const r=We(t);try{const s=await function(a,l){const c=We(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(p=>(St(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);e2(r,e,n),JP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Id(r,s)}catch(s){await sc(s)}}function JP(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function e2(t,e,n){const r=We(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function $v(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||t2(t,r)})}function t2(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(ew(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),dw(t))}function lC(t,e,n){for(const r of n)r instanceof QP?(t.du.addReference(r.key,e),lB(t,r)):r instanceof YP?(Ne(uw,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||t2(t,r.key)):Ue(19791,{pu:r})}function lB(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Ne(uw,"New document in limbo: "+n),t.Tu.add(r),dw(t))}function dw(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Oe(Ft.fromString(e)),r=t.Vu.next();t.Eu.set(r,new Zz(n)),t.Iu=t.Iu.insert(n,r),BP(t.remoteStore,new Qi(Fs(rm(n.path)),r,"TargetPurposeLimboResolution",em.le))}}async function Id(t,e,n){const r=We(t),s=[],i=[],a=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{a.push(r.fu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){s.push(u);const p=Xx.Rs(c.targetId,u);i.push(p)}}))}),await Promise.all(a),r.lu.Y_(s),await async function(c,u){const h=We(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>le.forEach(u,m=>le.forEach(m.ds,g=>h.persistence.referenceDelegate.addReference(p,m.targetId,g)).next(()=>le.forEach(m.As,g=>h.persistence.referenceDelegate.removeReference(p,m.targetId,g)))))}catch(p){if(!ic(p))throw p;Ne(Jx,"Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const g=h.xs.get(m),v=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(v);h.xs=h.xs.insert(m,y)}}}(r.localStore,i))}async function cB(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){Ne(uw,"User change. New user:",e.toKey());const r=await FP(n.localStore,e);n.currentUser=e,function(i,a){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new _e(oe.CANCELLED,a))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Id(n,r.ks)}}function uB(t,e){const n=We(t),r=n.Eu.get(e);if(r&&r.cu)return lt().add(r.key);{let s=lt();const i=n.Pu.get(e);if(!i)return s;for(const a of i){const l=n.hu.get(a);s=s.unionWith(l.view.eu)}return s}}function n2(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iB.bind(null,e),e.lu.Y_=Gz.bind(null,e.eventManager),e.lu.gu=Kz.bind(null,e.eventManager),e}function dB(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aB.bind(null,e),e}class Zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return mz(this.persistence,new hz,e.initialUser,this.serializer)}Su(e){return new VP(Zx.fi,this.serializer)}bu(e){return new Ez}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zf.provider={build:()=>new Zf};class hB extends Zf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){St(this.persistence.referenceDelegate instanceof Qf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Z7(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?or.withCacheSize(this.cacheSizeBytes):or.DEFAULT;return new VP(r=>Qf.fi(r,n),this.serializer)}}class Uv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cB.bind(null,this.syncEngine),await Hz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qz}()}createDatastore(e){const n=cm(e.databaseInfo.databaseId),r=function(i){return new jz(i)}(e.databaseInfo);return function(i,a,l,c){return new Pz(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new Rz(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>aC(this.syncEngine,n,0),function(){return tC.C()?new tC:new Nz}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,h){const p=new Xz(s,i,a,l,c,u);return h&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=We(s);Ne(ga,"RemoteStore shutting down."),i.da.add(5),await ac(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Uv.provider={build:()=>new Uv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="FirestoreClient";class fB{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Bn.UNAUTHENTICATED,this.clientId=ZT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{Ne(Eo,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Ne(Eo,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ey(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(Eo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await FP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await r2(t);Ne(Eo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>rC(e.remoteStore,s)),t._onlineComponents=e}async function r2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(Eo,"Using user provided OfflineComponentProvider");try{await ey(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ol("Error using user provided cache. Falling back to memory cache: "+n),await ey(t,new Zf)}}else Ne(Eo,"Using default OfflineComponentProvider"),await ey(t,new hB(void 0));return t._offlineComponents}async function fw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(Eo,"Using user provided OnlineComponentProvider"),await cC(t,t._uninitializedComponentsProvider._online)):(Ne(Eo,"Using default OnlineComponentProvider"),await cC(t,new Uv))),t._onlineComponents}function s2(t){return r2(t).then(e=>e.persistence)}function i2(t){return fw(t).then(e=>e.remoteStore)}function pB(t){return fw(t).then(e=>e.syncEngine)}async function Xf(t){const e=await fw(t),n=e.eventManager;return n.onListen=Jz.bind(null,e.syncEngine),n.onUnlisten=nB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rB.bind(null,e.syncEngine),n}function mB(t){return t.asyncQueue.enqueue(async()=>{const e=await s2(t),n=await i2(t);return e.setNetworkEnabled(!0),function(s){const i=We(s);return i.da.delete(0),kd(i)}(n)})}function gB(t){return t.asyncQueue.enqueue(async()=>{const e=await s2(t),n=await i2(t);return e.setNetworkEnabled(!1),async function(s){const i=We(s);i.da.add(0),await ac(i),i.Va.set("Offline")}(n)})}function yB(t,e,n={}){const r=new ai;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new hw({next:m=>{h.xu(),a.enqueueAndForget(()=>aw(i,p));const g=m.docs.has(l);!g&&m.fromCache?u.reject(new _e(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new _e(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new cw(rm(l.path),h,{includeMetadataChanges:!0,Qa:!0});return ow(i,p)}(await Xf(t),t.asyncQueue,e,n,r)),r.promise}function vB(t,e,n={}){const r=new ai;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new hw({next:m=>{h.xu(),a.enqueueAndForget(()=>aw(i,p)),m.fromCache&&c.source==="server"?u.reject(new _e(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new cw(l,h,{includeMetadataChanges:!0,Qa:!0});return ow(i,p)}(await Xf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e,n){if(!n)throw new _e(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xB(t,e,n,r){if(e===!0&&r===!0)throw new _e(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dC(t){if(!Oe.isDocumentKey(t))throw new _e(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hC(t){if(Oe.isDocumentKey(t))throw new _e(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dm(t);throw new _e(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="firestore.googleapis.com",fC=!0;class pC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l2,this.ssl=fC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:fC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Q7)throw new _e(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _U;switch(r.type){case"firstParty":return new IU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uC.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),uC.delete(n),r.terminate())}(this),Promise.resolve()}}function wB(t,e,n,r={}){var s;t=qn(t,hm);const i=ec(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(GI(`https://${c}`),KI("Firestore",!0)),a.host!==l2&&a.host!==c&&Ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:i,emulatorOptions:r});if(!ua(u,l)&&(t._setSettings(u),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Bn.MOCK_USER;else{h=gF(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new _e(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Bn(m)}t._authCredentials=new SU(new QT(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class Gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}}class ho extends Io{constructor(e,n,r){super(e,n,rm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new Oe(e))}withConverter(e){return new ho(this.firestore,e,this._path)}}function rn(t,e,...n){if(t=Ut(t),a2("collection","path",e),t instanceof hm){const r=Ft.fromString(e,...n);return hC(r),new ho(t,null,r)}{if(!(t instanceof Gn||t instanceof ho))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ft.fromString(e,...n));return hC(r),new ho(t.firestore,null,r)}}function _t(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=ZT.newId()),a2("doc","path",e),t instanceof hm){const r=Ft.fromString(e,...n);return dC(r),new Gn(t,null,new Oe(r))}{if(!(t instanceof Gn||t instanceof ho))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ft.fromString(e,...n));return dC(r),new Gn(t.firestore,t instanceof ho?t.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="AsyncQueue";class gC{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new UP(this,"async_queue_retry"),this.rc=()=>{const r=Jg();r&&Ne(mC,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Jg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Jg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ai;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ic(e))throw e;Ne(mC,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,gi("INTERNAL UNHANDLED ERROR: ",yC(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=sw.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&Ue(47125,{cc:yC(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function yC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class xs extends hm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new gC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gC(e),this._firestoreClient=void 0,await e}}}function bB(t,e){const n=typeof t=="object"?t:XI(),r=typeof t=="string"?t:Hf,s=jx(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=pF("firestore");i&&wB(s,...i)}return s}function cc(t){if(t._terminated)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EB(t),t._firestoreClient}function EB(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,h){return new HU(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,o2(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new fB(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function NB(t){return mB(cc(t=qn(t,xs)))}function CB(t){return gB(cc(t=qn(t,xs)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(An.fromBase64String(e))}catch(n){throw new _e(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bl(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=/^__.*__$/;class SB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sd(e,this.data,n,this.fieldTransforms)}}class c2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function u2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ic:t})}}class gw{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new gw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Jf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(u2(this.Ic)&&_B.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class jB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cm(e)}bc(e,n,r,s=!1){return new gw({Ic:e,methodName:n,wc:r,path:jn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mm(t){const e=t._freezeSettings(),n=cm(t._databaseId);return new jB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function d2(t,e,n,r,s,i={}){const a=t.bc(i.merge||i.mergeFields?2:0,e,n,s);vw("Data must be an object, but it was:",a,r);const l=h2(r,a);let c,u;if(i.merge)c=new _r(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const m=zv(e,p,n);if(!a.contains(m))throw new _e(oe.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);p2(h,m)||h.push(m)}c=new _r(h),u=a.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=a.fieldTransforms;return new SB(new cr(l),c,u)}class gm extends pm{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gm}}class yw extends pm{_toFieldTransform(e){return new g7(e.path,new Xu)}isEqual(e){return e instanceof yw}}function kB(t,e,n,r){const s=t.bc(1,e,n);vw("Data must be an object, but it was:",s,r);const i=[],a=cr.empty();jo(r,(c,u)=>{const h=xw(e,c,n);u=Ut(u);const p=s.mc(h);if(u instanceof gm)i.push(h);else{const m=Td(u,p);m!=null&&(i.push(h),a.set(h,m))}});const l=new _r(i);return new c2(a,l,s.fieldTransforms)}function IB(t,e,n,r,s,i){const a=t.bc(1,e,n),l=[zv(e,r,n)],c=[s];if(i.length%2!=0)throw new _e(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(zv(e,i[m])),c.push(i[m+1]);const u=[],h=cr.empty();for(let m=l.length-1;m>=0;--m)if(!p2(u,l[m])){const g=l[m];let v=c[m];v=Ut(v);const y=a.mc(g);if(v instanceof gm)u.push(g);else{const b=Td(v,y);b!=null&&(u.push(g),h.set(g,b))}}const p=new _r(u);return new c2(h,p,a.fieldTransforms)}function TB(t,e,n,r=!1){return Td(n,t.bc(r?4:3,e))}function Td(t,e){if(f2(t=Ut(t)))return vw("Unsupported field value:",e,t),h2(t,e);if(t instanceof pm)return function(r,s){if(!u2(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Td(l,s.fc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f7(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=gn.fromDate(r);return{timestampValue:Kf(s.serializer,i)}}if(r instanceof gn){const i=new gn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kf(s.serializer,i)}}if(r instanceof pw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bl)return{bytesValue:TP(s.serializer,r._byteString)};if(r instanceof Gn){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Qx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof mw)return function(a,l){return{mapValue:{fields:{[iP]:{stringValue:oP},[Wf]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.gc("VectorValues must only contain numeric values.");return Wx(l.serializer,u)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${dm(r)}`)}(t,e)}function h2(t,e){const n={};return JT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(t,(r,s)=>{const i=Td(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function f2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gn||t instanceof pw||t instanceof Bl||t instanceof Gn||t instanceof pm||t instanceof mw)}function vw(t,e,n){if(!f2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=dm(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function zv(t,e,n){if((e=Ut(e))instanceof fm)return e._internalPath;if(typeof e=="string")return xw(t,e);throw Jf("Field path arguments must be of type string or ",t,!1,void 0,n)}const PB=new RegExp("[~\\*/\\[\\]]");function xw(t,e,n){if(e.search(PB)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fm(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jf(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new _e(oe.INVALID_ARGUMENT,l+t+c)}function p2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ym("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AB extends m2{data(){return super.data()}}function ym(t,e){return typeof e=="string"?xw(t,e):e instanceof fm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ww{}class y2 extends ww{}function Sr(t,e,...n){let r=[];e instanceof ww&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof bw).length,l=i.filter(c=>c instanceof vm).length;if(a>1||a>0&&l>0)throw new _e(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class vm extends y2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vm(e,n,r)}_apply(e){const n=this._parse(e);return v2(e._query,n),new Io(e.firestore,e.converter,Pv(e._query,n))}_parse(e){const n=mm(e.firestore);return function(i,a,l,c,u,h,p){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new _e(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){wC(p,h);const v=[];for(const y of p)v.push(xC(c,i,y));m={arrayValue:{values:v}}}else m=xC(c,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||wC(p,h),m=TB(l,a,p,h==="in"||h==="not-in");return hn.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ir(t,e,n){const r=e,s=ym("where",t);return vm._create(s,r,n)}class bw extends ww{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)v2(a,c),a=Pv(a,c)}(e._query,n),new Io(e.firestore,e.converter,Pv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ew extends y2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ew(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new _e(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new _e(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zu(i,a)}(e._query,this._field,this._direction);return new Io(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new oc(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function RB(t,e="asc"){const n=e,r=ym("orderBy",t);return Ew._create(r,n)}function xC(t,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new _e(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pP(e)&&n.indexOf("/")!==-1)throw new _e(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ft.fromString(n));if(!Oe.isDocumentKey(r))throw new _e(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return RN(t,new Oe(r))}if(n instanceof Gn)return RN(t,n._key);throw new _e(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dm(n)}.`)}function wC(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function v2(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _e(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LB{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Wf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>sn(a.doubleValue));return new mw(i)}convertGeoPoint(e){return new pw(sn(e.latitude),sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){const n=vo(e);return new gn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ft.fromString(e);St(DP(r),9688,{name:e});const s=new Qu(r.get(1),r.get(3)),i=new Oe(r.popFirst(5));return s.isEqual(n)||gi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class w2 extends m2{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ym("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tf extends w2{data(e={}){return super.data(e)}}class b2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Qc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tf(this._firestore,this._userDataWriter,r.key,r,new Qc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new tf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Qc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new tf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Qc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:MB(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){t=qn(t,Gn);const e=qn(t.firestore,xs);return yB(cc(e),t._key).then(n=>C2(e,t,n))}class Nw extends LB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,n)}}function Yn(t){t=qn(t,Io);const e=qn(t.firestore,xs),n=cc(e),r=new Nw(e);return g2(t._query),vB(n,t._query).then(s=>new b2(e,r,t,s))}function E2(t,e,n){t=qn(t,Gn);const r=qn(t.firestore,xs),s=x2(t.converter,e,n);return xm(r,[d2(mm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,zr.none())])}function In(t,e,n,...r){t=qn(t,Gn);const s=qn(t.firestore,xs),i=mm(s);let a;return a=typeof(e=Ut(e))=="string"||e instanceof fm?IB(i,"updateDoc",t._key,e,n,r):kB(i,"updateDoc",t._key,e),xm(s,[a.toMutation(t._key,zr.exists(!0))])}function Cw(t){return xm(qn(t.firestore,xs),[new qx(t._key,zr.none())])}function ws(t,e){const n=qn(t.firestore,xs),r=_t(t),s=x2(t.converter,e);return xm(n,[d2(mm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then(()=>r)}function N2(t,...e){var n,r,s;t=Ut(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||vC(e[a])||(i=e[a],a++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(vC(e[a])){const p=e[a];e[a]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[a+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[a+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let c,u,h;if(t instanceof Gn)u=qn(t.firestore,xs),h=rm(t._key.path),c={next:p=>{e[a]&&e[a](C2(u,t,p))},error:e[a+1],complete:e[a+2]};else{const p=qn(t,Io);u=qn(p.firestore,xs),h=p._query;const m=new Nw(u);c={next:g=>{e[a]&&e[a](new b2(u,m,p,g))},error:e[a+1],complete:e[a+2]},g2(t._query)}return function(m,g,v,y){const b=new hw(y),w=new cw(g,b,v);return m.asyncQueue.enqueueAndForget(async()=>ow(await Xf(m),w)),()=>{b.xu(),m.asyncQueue.enqueueAndForget(async()=>aw(await Xf(m),w))}}(cc(u),h,l,c)}function xm(t,e){return function(r,s){const i=new ai;return r.asyncQueue.enqueueAndForget(async()=>sB(await pB(r),s,i)),i.promise}(cc(t),e)}function C2(t,e,n){const r=n.docs.get(e._key),s=new Nw(t);return new w2(t,s,e._key,r,new Qc(n.hasPendingWrites,n.fromCache),e.converter)}function DB(){return new yw("serverTimestamp")}(function(e,n=!0){(function(s){rc=s})(nc),Dl(new da("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new xs(new jU(r.getProvider("auth-internal")),new TU(a,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new _e(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(u.options.projectId,h)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),co(bN,EN,e),co(bN,EN,"esm2017")})();const OB={apiKey:"AIzaSyBhiSxNUrQ4b_iwpYr4F_J1UW3XOwzsMmE",authDomain:"dsa-squad.firebaseapp.com",databaseURL:"https://dsa-squad-default-rtdb.firebaseio.com",projectId:"dsa-squad",storageBucket:"dsa-squad.firebasestorage.app",messagingSenderId:"762339454857",appId:"1:762339454857:web:bfc50ed181e2daefe2fb58",measurementId:"G-WCPR6FCESS"},_2=ZI(OB),Nt=NU(_2),Fe=bB(_2);let _w=navigator.onLine;window.addEventListener("online",()=>{_w=!0,console.log("App is online"),NB(Fe).catch(console.error)});window.addEventListener("offline",()=>{_w=!1,console.log("App is offline"),CB(Fe).catch(console.error)});const bC=()=>_w,Hl=async(t,e=3)=>{for(let n=0;n<e;n++)try{return await t()}catch(r){if(console.error(`Firebase operation failed (attempt ${n+1}/${e}):`,r),n===e-1)throw r;await new Promise(s=>setTimeout(s,Math.pow(2,n)*1e3))}},ze={FOOD:"food",DRINKS:"drinks",DAILY_ESSENTIAL:"daily_essential"},Et={PIZZAS:"pizzas",BURGERS:"burgers",BIRYANI:"biryani",CHINESE:"chinese",INDIAN:"indian",DESSERTS:"desserts",BEER:"beer",WINE:"wine",SPIRITS:"spirits",COCKTAILS:"cocktails",STAPLES:"staples",SNACKS:"snacks",BEVERAGES:"beverages",PERSONAL_CARE:"personal_care",HOUSEHOLD:"household"},S2=[{name:"All",icon:"",category:ze.FOOD,subcategory:"all",displayName:"All"},{name:"Pizzas",icon:"",category:ze.FOOD,subcategory:Et.PIZZAS,displayName:"Pizzas"},{name:"Biryani",icon:"",category:ze.FOOD,subcategory:Et.BIRYANI,displayName:"Biryani"},{name:"Chinese",icon:"",category:ze.FOOD,subcategory:Et.CHINESE,displayName:"Chinese"},{name:"Burgers",icon:"",category:ze.FOOD,subcategory:Et.BURGERS,displayName:"Burgers"},{name:"Indian",icon:"",category:ze.FOOD,subcategory:Et.INDIAN,displayName:"Indian"},{name:"Desserts",icon:"",category:ze.FOOD,subcategory:Et.DESSERTS,displayName:"Desserts"},{name:"All",icon:"",category:ze.DRINKS,subcategory:"all",displayName:"All"},{name:"Beer",icon:"",category:ze.DRINKS,subcategory:Et.BEER,displayName:"Beer"},{name:"Wine",icon:"",category:ze.DRINKS,subcategory:Et.WINE,displayName:"Wine"},{name:"Spirits",icon:"",category:ze.DRINKS,subcategory:Et.SPIRITS,displayName:"Spirits"},{name:"Cocktails",icon:"",category:ze.DRINKS,subcategory:Et.COCKTAILS,displayName:"Cocktails"},{name:"All",icon:"",category:ze.DAILY_ESSENTIAL,subcategory:"all",displayName:"All"},{name:"Staples",icon:"",category:ze.DAILY_ESSENTIAL,subcategory:Et.STAPLES,displayName:"Staples"},{name:"Snacks",icon:"",category:ze.DAILY_ESSENTIAL,subcategory:Et.SNACKS,displayName:"Snacks"},{name:"Beverages",icon:"",category:ze.DAILY_ESSENTIAL,subcategory:Et.BEVERAGES,displayName:"Beverages"},{name:"Personal Care",icon:"",category:ze.DAILY_ESSENTIAL,subcategory:Et.PERSONAL_CARE,displayName:"Personal Care"},{name:"Household",icon:"",category:ze.DAILY_ESSENTIAL,subcategory:Et.HOUSEHOLD,displayName:"Household"}],VB=[{name:"Domino's Pizza",price:250,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:ze.FOOD,subcategory:Et.PIZZAS,description:"Delicious pizza with fresh toppings",deliveryTime:"20-25 mins",inStock:!0,isVeg:!1,discount:"20% OFF",tags:["pizza","italian","cheese","tomato"]},{name:"Spice N Ice Biryani",price:220,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:ze.FOOD,subcategory:Et.BIRYANI,description:"Aromatic biryani with tender meat",deliveryTime:"25-30 mins",inStock:!0,isVeg:!1,offer:"BUY1 GET1",tags:["biryani","rice","spicy","indian"]},{name:"China Nation Noodles",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:ze.FOOD,subcategory:Et.CHINESE,description:"Stir-fried noodles with vegetables",deliveryTime:"15-20 mins",inStock:!0,isVeg:!0,tags:["noodles","chinese","vegetarian","stir-fry"]},{name:"Classic Burger",price:150,rating:4.2,image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400",category:ze.FOOD,subcategory:Et.BURGERS,description:"Juicy beef burger with fresh vegetables",deliveryTime:"18-22 mins",inStock:!0,isVeg:!1,discount:"15% OFF",tags:["burger","beef","fast-food","american"]},{name:"Butter Chicken",price:280,rating:4.6,image:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400",category:ze.FOOD,subcategory:Et.INDIAN,description:"Creamy butter chicken with naan",deliveryTime:"30-35 mins",inStock:!0,isVeg:!1,tags:["chicken","indian","curry","butter"]},{name:"Chocolate Cake",price:120,rating:4.4,image:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400",category:ze.FOOD,subcategory:Et.DESSERTS,description:"Rich chocolate cake with cream",deliveryTime:"20-25 mins",inStock:!0,isVeg:!0,tags:["cake","chocolate","dessert","sweet"]},{name:"Heineken Beer",price:120,rating:4.3,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:ze.DRINKS,subcategory:Et.BEER,description:"Premium lager beer",deliveryTime:"30-45 mins",inStock:!0,tags:["beer","lager","alcohol","premium"]},{name:"Red Wine",price:450,rating:4.5,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:ze.DRINKS,subcategory:Et.WINE,description:"Smooth red wine",deliveryTime:"30-45 mins",inStock:!0,discount:"10% OFF",tags:["wine","red","alcohol","premium"]},{name:"Whiskey",price:800,rating:4.7,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:ze.DRINKS,subcategory:Et.SPIRITS,description:"Premium whiskey",deliveryTime:"30-45 mins",inStock:!0,tags:["whiskey","spirits","alcohol","premium"]},{name:"Mojito Cocktail",price:180,rating:4.2,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:ze.DRINKS,subcategory:Et.COCKTAILS,description:"Refreshing mojito cocktail",deliveryTime:"25-35 mins",inStock:!0,tags:["cocktail","mojito","alcohol","refreshing"]},{name:"Basmati Rice",price:80,rating:4.4,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400",category:ze.DAILY_ESSENTIAL,subcategory:Et.STAPLES,description:"Premium basmati rice",deliveryTime:"60-90 mins",inStock:!0,discount:"5% OFF",tags:["rice","basmati","staples","grocery"]},{name:"Potato Chips",price:30,rating:4.1,image:"https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=400",category:ze.DAILY_ESSENTIAL,subcategory:Et.SNACKS,description:"Crispy potato chips",deliveryTime:"60-90 mins",inStock:!0,tags:["chips","snacks","potato","crispy"]},{name:"Coca Cola",price:40,rating:4,image:"https://images.unsplash.com/photo-1554866585-aa94861d3f78?w=400",category:ze.DAILY_ESSENTIAL,subcategory:Et.BEVERAGES,description:"Refreshing cola drink",deliveryTime:"60-90 mins",inStock:!0,tags:["cola","beverage","soft-drink","refreshing"]},{name:"Toothpaste",price:60,rating:4.3,image:"https://images.unsplash.com/photo-1559591935-c6c92c6c2b6e?w=400",category:ze.DAILY_ESSENTIAL,subcategory:Et.PERSONAL_CARE,description:"Fresh mint toothpaste",deliveryTime:"60-90 mins",inStock:!0,tags:["toothpaste","personal-care","hygiene","mint"]},{name:"Dish Soap",price:45,rating:4.2,image:"https://images.unsplash.com/photo-1559591935-c6c92c6c2b6e?w=400",category:ze.DAILY_ESSENTIAL,subcategory:Et.HOUSEHOLD,description:"Effective dish cleaning soap",deliveryTime:"60-90 mins",inStock:!0,tags:["soap","household","cleaning","dishes"]}],FB=async()=>{try{const t=rn(Fe,"categories");if((await Yn(t)).empty){const n=S2.map(r=>ws(t,{...r,createdAt:new Date,updatedAt:new Date}));await Promise.all(n),console.log("Categories initialized successfully")}}catch(t){console.error("Error initializing categories:",t)}},td=async t=>{try{const e=rn(Fe,"categories"),n=Sr(e,Ir("category","==",t)),r=await Yn(n),s=[];return r.forEach(i=>{const a=i.data(),l={id:i.id,...a};s.push(l)}),s.sort((i,a)=>i.name.localeCompare(a.name)),s}catch(e){return console.error("Error fetching categories:",e),S2.filter(n=>n.category===t)}},$B=async()=>{try{const t=rn(Fe,"products");if((await Yn(t)).empty){const n=VB.map(r=>ws(t,{...r,createdAt:new Date,updatedAt:new Date}));await Promise.all(n),console.log("Products initialized successfully")}}catch(t){console.error("Error initializing products:",t)}},Yc=async(t,e=null,n=null)=>{try{const r=rn(Fe,"products");let s;e?s=Sr(r,Ir("category","==",e)):s=Sr(r,RB("name")),n&&(e?s=Sr(s,Ir("subcategory","==",n)):s=Sr(r,Ir("subcategory","==",n)));const i=await Yn(s),a=[];return i.forEach(l=>{const c=l.data(),u={id:l.id,...c};(!t||u.name.toLowerCase().includes(t.toLowerCase())||u.description.toLowerCase().includes(t.toLowerCase())||u.tags&&u.tags.some(h=>h.toLowerCase().includes(t.toLowerCase())))&&a.push(u)}),(e||n)&&a.sort((l,c)=>l.name.localeCompare(c.name)),a}catch(r){return console.error("Error searching products:",r),[]}},gl=async t=>await Yc("",t),UB=async()=>{try{const t=rn(Fe,"products"),e=await Yn(t),n=rn(Fe,"categories"),r=await Yn(n),s=new Map;r.forEach(l=>{var h,p;const c=l.data(),u=`${(h=c.category)==null?void 0:h.toLowerCase()}-${(p=c.subcategory)==null?void 0:p.toLowerCase()}`;s.set(u,c)});const i=[],a={pizzas:"",burgers:"",biryani:"",chinese:"",indian:"",desserts:"",momo:"",vindi:"",sandwiches:"",noodles:"",rice:"",curry:"",breads:"",soups:"",salads:"",wraps:"",tacos:"",sushi:"",pasta:"",beer:"",wine:"",spirits:"",cocktails:"",juice:"",soda:"",coffee:"",tea:"",smoothies:"",milkshakes:"",energy_drinks:"",staples:"",snacks:"",beverages:"",personal_care:"","personal care":"",household:"",fruits:"",vegetables:"",dairy:"",meat:"",frozen:"",canned:"",bakery:"",condiments:"",spices:"",oils:"",grains:"",pulses:"",nuts:"",chocolates:"",candies:""};if(e.forEach(l=>{var h,p;const c=l.data();if(!c.subcategory||c.subcategory==="all")return;const u=`${(h=c.category)==null?void 0:h.toLowerCase()}-${(p=c.subcategory)==null?void 0:p.toLowerCase()}`;if(!s.has(u)){const m=a[c.subcategory.toLowerCase()]||"",g=c.subcategory.charAt(0).toUpperCase()+c.subcategory.slice(1);i.push({name:g,icon:m,category:c.category,subcategory:c.subcategory.toLowerCase(),displayName:g,createdAt:new Date,updatedAt:new Date})}}),i.length>0){console.log("Adding missing subcategories:",i);const l=i.map(c=>ws(n,c));await Promise.all(l),console.log(`Added ${i.length} missing subcategories to Firestore`)}else console.log("No missing subcategories found");return i}catch(t){return console.error("Error syncing missing subcategories:",t),[]}},zB=async(t=4)=>{try{const e=rn(Fe,"orders"),n=await Yn(e),r={};return n.forEach(i=>{const a=i.data();Array.isArray(a.items)&&a.items.forEach(l=>{l.id&&(r[l.id]||(r[l.id]={count:0,product:l}),r[l.id].count+=l.quantity||1)})}),Object.values(r).sort((i,a)=>a.count-i.count).slice(0,t).map(i=>({...i.product,totalBought:i.count}))}catch(e){return console.error("Error fetching top bought products:",e),[]}},j2=async()=>{try{console.log("Checking if products exist in database...");const t=rn(Fe,"products"),e=await Yn(t);e.empty?(console.log("No products found in database, initializing..."),await $B()):console.log("Found",e.size,"products in database")}catch(t){console.error("Error checking products:",t)}};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=d.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>d.createElement("svg",{ref:c,...HB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:k2("lucide",s),...l},[...a.map(([u,h])=>d.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e)=>{const n=d.forwardRef(({className:r,...s},i)=>d.createElement(WB,{ref:i,iconNode:e,className:k2(`lucide-${BB(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=xe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=xe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=xe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=xe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=xe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=xe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=xe("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=xe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=xe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=xe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=xe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=xe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=xe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=xe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=xe("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=xe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=xe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=xe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=xe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=xe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=xe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=xe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=xe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=xe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=xe("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=xe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=xe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=xe("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=xe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=xe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=xe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=xe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=xe("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=xe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=xe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=xe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=xe("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=xe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=xe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),SC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jC=yI,wm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return jC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],p=i==null?void 0:i[u];if(h===null)return null;const m=SC(h)||SC(p);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[p,m]=h;return m===void 0||(u[p]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:p,className:m,...g}=h;return Object.entries(g).every(v=>{let[y,b]=v;return Array.isArray(b)?b.includes({...i,...l}[y]):{...i,...l}[y]===b})?[...u,p,m]:u},[]);return jC(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},bH=wm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=d.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?c5:"button";return o.jsx(a,{className:De(bH({variant:e,size:n,className:t})),ref:i,...s})});H.displayName="Button";const EH=wm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pt({className:t,variant:e,...n}){return o.jsx("div",{className:De(EH({variant:e}),t),...n})}const Te=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:De("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Te.displayName="Card";const dt=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:De("flex flex-col space-y-1.5 p-6",t),...e}));dt.displayName="CardHeader";const bt=d.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:De("text-2xl font-semibold leading-none tracking-tight",t),...e}));bt.displayName="CardTitle";const NH=d.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:De("text-sm text-muted-foreground",t),...e}));NH.displayName="CardDescription";const Pe=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:De("p-6 pt-0",t),...e}));Pe.displayName="CardContent";const CH=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:De("flex items-center p-6 pt-0",t),...e}));CH.displayName="CardFooter";const $e=d.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));$e.displayName="Input";var _H="Label",O2=d.forwardRef((t,e)=>o.jsx(Ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));O2.displayName=_H;var V2=O2;const SH=wm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Le=d.forwardRef(({className:t,...e},n)=>o.jsx(V2,{ref:n,className:De(SH(),t),...e}));Le.displayName=V2.displayName;function bm(t){const e=t+"CollectionProvider",[n,r]=rr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:b,children:w}=y,x=de.useRef(null),N=de.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:N,collectionRef:x,children:w})};a.displayName=e;const l=t+"CollectionSlot",c=la(l),u=de.forwardRef((y,b)=>{const{scope:w,children:x}=y,N=i(l,w),k=ct(b,N.collectionRef);return o.jsx(c,{ref:k,children:x})});u.displayName=l;const h=t+"CollectionItemSlot",p="data-radix-collection-item",m=la(h),g=de.forwardRef((y,b)=>{const{scope:w,children:x,...N}=y,k=de.useRef(null),A=ct(b,k),R=i(h,w);return de.useEffect(()=>(R.itemMap.set(k,{ref:k,...N}),()=>void R.itemMap.delete(k))),o.jsx(m,{[p]:"",ref:A,children:x})});g.displayName=h;function v(y){const b=i(t+"CollectionConsumer",y);return de.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const N=Array.from(x.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((R,C)=>N.indexOf(R.ref.current)-N.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},v,r]}var jH=d.createContext(void 0);function dc(t){const e=d.useContext(jH);return t||e||"ltr"}var ty="rovingFocusGroup.onEntryFocus",kH={bubbles:!1,cancelable:!0},Rd="RovingFocusGroup",[qv,F2,IH]=bm(Rd),[TH,hc]=rr(Rd,[IH]),[PH,AH]=TH(Rd),$2=d.forwardRef((t,e)=>o.jsx(qv.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(qv.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(RH,{...t,ref:e})})}));$2.displayName=Rd;var RH=d.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=t,m=d.useRef(null),g=ct(e,m),v=dc(i),[y,b]=ys({prop:a,defaultProp:l??null,onChange:c,caller:Rd}),[w,x]=d.useState(!1),N=Us(u),k=F2(n),A=d.useRef(!1),[R,C]=d.useState(0);return d.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(ty,N),()=>_.removeEventListener(ty,N)},[N]),o.jsx(PH,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:y,onItemFocus:d.useCallback(_=>b(_),[b]),onItemShiftTab:d.useCallback(()=>x(!0),[]),onFocusableItemAdd:d.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:d.useCallback(()=>C(_=>_-1),[]),children:o.jsx(Ve.div,{tabIndex:w||R===0?-1:0,"data-orientation":r,...p,ref:g,style:{outline:"none",...t.style},onMouseDown:we(t.onMouseDown,()=>{A.current=!0}),onFocus:we(t.onFocus,_=>{const S=!A.current;if(_.target===_.currentTarget&&S&&!w){const T=new CustomEvent(ty,kH);if(_.currentTarget.dispatchEvent(T),!T.defaultPrevented){const I=k().filter(F=>F.focusable),P=I.find(F=>F.active),L=I.find(F=>F.id===y),$=[P,L,...I].filter(Boolean).map(F=>F.ref.current);B2($,h)}}A.current=!1}),onBlur:we(t.onBlur,()=>x(!1))})})}),U2="RovingFocusGroupItem",z2=d.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=t,c=Ur(),u=i||c,h=AH(U2,n),p=h.currentTabStopId===u,m=F2(n),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:y}=h;return d.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),o.jsx(qv.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Ve.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:we(t.onMouseDown,b=>{r?h.onItemFocus(u):b.preventDefault()}),onFocus:we(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:we(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=DH(b,h.orientation,h.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let N=m().filter(k=>k.focusable).map(k=>k.ref.current);if(w==="last")N.reverse();else if(w==="prev"||w==="next"){w==="prev"&&N.reverse();const k=N.indexOf(b.currentTarget);N=h.loop?OH(N,k+1):N.slice(k+1)}setTimeout(()=>B2(N))}}),children:typeof a=="function"?a({isCurrentTabStop:p,hasTabStop:y!=null}):a})})});z2.displayName=U2;var LH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function MH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function DH(t,e,n){const r=MH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return LH[r]}function B2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function OH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Pw=$2,Aw=z2,Em="Tabs",[VH,DZ]=rr(Em,[hc]),H2=hc(),[FH,Rw]=VH(Em),W2=d.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=dc(l),[p,m]=ys({prop:r,onChange:s,defaultProp:i??"",caller:Em});return o.jsx(FH,{scope:n,baseId:Ur(),value:p,onValueChange:m,orientation:a,dir:h,activationMode:c,children:o.jsx(Ve.div,{dir:h,"data-orientation":a,...u,ref:e})})});W2.displayName=Em;var q2="TabsList",G2=d.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Rw(q2,n),a=H2(n);return o.jsx(Pw,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(Ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});G2.displayName=q2;var K2="TabsTrigger",Q2=d.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=Rw(K2,n),l=H2(n),c=X2(a.baseId,r),u=J2(a.baseId,r),h=r===a.value;return o.jsx(Aw,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(Ve.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:we(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?a.onValueChange(r):p.preventDefault()}),onKeyDown:we(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&a.onValueChange(r)}),onFocus:we(t.onFocus,()=>{const p=a.activationMode!=="manual";!h&&!s&&p&&a.onValueChange(r)})})})});Q2.displayName=K2;var Y2="TabsContent",Z2=d.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=Rw(Y2,n),c=X2(l.baseId,r),u=J2(l.baseId,r),h=r===l.value,p=d.useRef(h);return d.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(Qr,{present:s||h,children:({present:m})=>o.jsx(Ve.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:m&&i})})});Z2.displayName=Y2;function X2(t,e){return`${t}-trigger-${e}`}function J2(t,e){return`${t}-content-${e}`}var $H=W2,eA=G2,tA=Q2,nA=Z2;const UH=$H,rA=d.forwardRef(({className:t,...e},n)=>o.jsx(eA,{ref:n,className:De("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));rA.displayName=eA.displayName;const Gv=d.forwardRef(({className:t,...e},n)=>o.jsx(tA,{ref:n,className:De("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Gv.displayName=tA.displayName;const Kv=d.forwardRef(({className:t,...e},n)=>o.jsx(nA,{ref:n,className:De("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Kv.displayName=nA.displayName;const sA=({isOpen:t,onComplete:e})=>{const[n,r]=d.useState(!1),[s,i]=d.useState({displayName:"",phone:"",age:""}),[a,l]=d.useState({displayName:"",phone:"",age:""});d.useEffect(()=>{t&&Nt.currentUser&&i(p=>({...p,displayName:Nt.currentUser.displayName||"",phone:Nt.currentUser.phoneNumber||""}))},[t]);const c=()=>{const p={displayName:"",phone:"",age:""};if(s.displayName.trim()?s.displayName.trim().length<2&&(p.displayName="Name must be at least 2 characters long"):p.displayName="Name is required",s.phone.trim()?/^[\+]?[1-9][\d]{0,15}$/.test(s.phone.replace(/\s/g,""))||(p.phone="Please enter a valid phone number"):p.phone="Phone number is required",!s.age.trim())p.age="Age is required";else{const m=parseInt(s.age);(isNaN(m)||m<13||m>120)&&(p.age="Age must be between 13 and 120")}return l(p),!Object.values(p).some(m=>m!=="")},u=async p=>{if(p.preventDefault(),!!c()){if(!Nt.currentUser){z.error("User not authenticated");return}r(!0);try{await kT(Nt.currentUser,{displayName:s.displayName.trim()});const m=_t(Fe,"users",Nt.currentUser.uid),g=await ya(m),v={displayName:s.displayName.trim(),email:Nt.currentUser.email,phone:s.phone.trim(),age:parseInt(s.age),isOnboarded:!0,createdAt:g.exists()?g.data().createdAt:new Date,updatedAt:new Date,settings:g.exists()?g.data().settings:{notifications:!0,language:"en",sound:!0,emailNotifications:!0,pushNotifications:!0,darkMode:!1}};await E2(m,v,{merge:!0}),z.success("Profile completed successfully!"),e()}catch(m){console.error("Error saving user data:",m),z.error("Failed to save profile. Please try again.")}finally{r(!1)}}},h=(p,m)=>{i(g=>({...g,[p]:m})),a[p]&&l(g=>({...g,[p]:""}))};return t?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs(Te,{className:"w-full max-w-md bg-white",children:[o.jsxs(dt,{className:"text-center",children:[o.jsx(bt,{className:"text-2xl font-bold text-gray-800",children:"Complete Your Profile"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Please provide your details to complete your account setup"})]}),o.jsx(Pe,{children:o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"displayName",className:"text-gray-700",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx($i,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx($e,{id:"displayName",type:"text",placeholder:"Enter your full name",value:s.displayName,onChange:p=>h("displayName",p.target.value),className:`pl-10 ${a.displayName?"border-red-500":""}`,disabled:n})]}),a.displayName&&o.jsx("p",{className:"text-red-500 text-xs",children:a.displayName})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx($e,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:s.phone,onChange:p=>h("phone",p.target.value),className:`pl-10 ${a.phone?"border-red-500":""}`,disabled:n})]}),a.phone&&o.jsx("p",{className:"text-red-500 text-xs",children:a.phone})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"age",className:"text-gray-700",children:"Age"}),o.jsxs("div",{className:"relative",children:[o.jsx(I2,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx($e,{id:"age",type:"number",placeholder:"Enter your age",value:s.age,onChange:p=>h("age",p.target.value),className:`pl-10 ${a.age?"border-red-500":""}`,min:"13",max:"120",disabled:n})]}),a.age&&o.jsx("p",{className:"text-red-500 text-xs",children:a.age}),o.jsx("p",{className:"text-gray-500 text-xs",children:"You must be at least 13 years old to use this service"})]}),o.jsx(H,{type:"submit",className:"w-full bg-pickngo-orange-500 hover:bg-pickngo-orange-600",disabled:n,children:n?o.jsxs(o.Fragment,{children:[o.jsx(ls,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:["Complete Profile",o.jsx(ep,{className:"ml-2 h-4 w-4"})]})})]})})]})}):null},zH=({isOpen:t,onClose:e,onLoginSuccess:n})=>{const[r,s]=d.useState(!1),[i,a]=d.useState(""),[l,c]=d.useState(""),[u,h]=d.useState(!1),[p,m]=d.useState(!1),[g,v]=d.useState(""),[y,b]=d.useState(""),[w,x]=d.useState(""),[N,k]=d.useState(!1),[A,R]=d.useState(null),[C,_]=d.useState(!1),[S,T]=d.useState(!1),I=()=>{a(""),c(""),v(""),b(""),x(""),k(!1),m(!1),s(!1),_(!1),T(!1)},P=()=>{_(!1),I(),e(),n&&n()},L=async V=>{var U;try{const Q=await ya(_t(Fe,"users",V));return!Q.exists()||!((U=Q.data())!=null&&U.isOnboarded)}catch(Q){return console.error("Error checking user status:",Q),!0}},G=async V=>{V.preventDefault(),s(!0);try{if(p){const U=await Z8(Nt,i,l);z.success("Account created successfully!"),T(!0),_(!0)}else{const U=await X8(Nt,i,l);await L(U.user.uid)?(z.success("Account created successfully!"),T(!0),_(!0)):(z.success("Logged in successfully!"),I(),e(),n&&n())}}catch(U){console.error("Auth error:",U),U.code==="auth/email-already-in-use"?z.error("Email already in use. Please sign in instead."):U.code==="auth/user-not-found"?z.error("User not found. Please check your email or sign up."):U.code==="auth/wrong-password"?z.error("Incorrect password. Please try again."):U.code==="auth/weak-password"?z.error("Password is too weak. Please use a stronger password."):z.error("Authentication failed. Please try again.")}finally{s(!1)}},$=async()=>{s(!0);try{const V=new Js;V.setCustomParameters({prompt:"select_account"});const U=await A$(Nt,V);await L(U.user.uid)?(z.success("Account created successfully!"),T(!0),_(!0)):(z.success("Successfully signed in with Google!"),I(),e(),n&&n())}catch(V){console.error("Google auth error:",V),V.code==="auth/popup-closed-by-user"?z.error("Sign-in cancelled. Please try again."):V.code==="auth/popup-blocked"?z.error("Pop-up blocked. Please allow pop-ups for this site."):z.error("Google sign-in failed. Please try again.")}finally{s(!1)}},F=()=>{if(!A){const V=new _$(Nt,"recaptcha-container",{size:"invisible",callback:()=>{console.log("reCAPTCHA solved")}});R(V)}},W=async V=>{V.preventDefault(),s(!0);try{if(F(),!A){z.error("reCAPTCHA not ready. Please refresh and try again.");return}const U=g.startsWith("+")?g:`+91${g}`,Q=await hN(Nt,U,A);x(Q.verificationId),k(!0),z.success("OTP sent successfully!")}catch(U){console.error("Phone auth error:",U),U.code==="auth/billing-not-enabled"?z.error("Phone authentication requires billing to be enabled. Please enable billing in Firebase Console."):U.code==="auth/invalid-phone-number"?z.error("Invalid phone number. Please check and try again."):U.code==="auth/too-many-requests"?z.error("Too many requests. Please try again later."):U.code==="auth/quota-exceeded"?z.error("SMS quota exceeded. Please try again later or contact support."):z.error("Failed to send OTP. Please try again.")}finally{s(!1)}},O=async V=>{V.preventDefault(),s(!0);try{const U=ta.credential(w,y),Q=await hN(Nt,g,A);await L(Q.user.uid)?(z.success("Account created successfully!"),T(!0),_(!0)):(z.success("Phone number verified successfully!"),I(),e(),n&&n())}catch(U){console.error("OTP verification error:",U),U.code==="auth/invalid-verification-code"?z.error("Invalid OTP. Please check and try again."):U.code==="auth/code-expired"?(z.error("OTP has expired. Please request a new one."),k(!1)):z.error("OTP verification failed. Please try again.")}finally{s(!1)}},D=async()=>{s(!0);try{await W(new Event("submit"))}catch(V){console.error("Resend OTP error:",V),z.error("Failed to resend OTP. Please try again.")}finally{s(!1)}},B=()=>{I(),e()};return t?o.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[o.jsxs(Te,{className:"w-full max-w-md bg-white",children:[o.jsxs(dt,{className:"relative",children:[o.jsx(H,{variant:"ghost",size:"icon",className:"absolute right-2 top-2",onClick:B,children:o.jsx(uc,{className:"w-4 h-4"})}),o.jsx(bt,{className:"text-center text-2xl font-bold",children:p?"Create Account":"Welcome Back"})]}),o.jsxs(Pe,{children:[o.jsxs(UH,{defaultValue:"email",className:"w-full",children:[o.jsxs(rA,{className:"grid w-full grid-cols-2",children:[o.jsxs(Gv,{value:"email",className:"flex items-center space-x-2",children:[o.jsx(Hs,{className:"w-4 h-4"}),o.jsx("span",{children:"Email"})]}),o.jsxs(Gv,{value:"phone",className:"flex items-center space-x-2",children:[o.jsx(gr,{className:"w-4 h-4"}),o.jsx("span",{children:"Phone"})]})]}),o.jsxs(Kv,{value:"email",className:"space-y-4",children:[o.jsxs("form",{onSubmit:G,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Hs,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx($e,{id:"email",type:"email",placeholder:"Enter your email",value:i,onChange:V=>a(V.target.value),className:"pl-10",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(M2,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx($e,{id:"password",type:u?"text":"password",placeholder:"Enter your password",value:l,onChange:V=>c(V.target.value),className:"pl-10 pr-10",required:!0}),o.jsx(H,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>h(!u),children:u?o.jsx(nf,{className:"h-4 w-4"}):o.jsx(xu,{className:"h-4 w-4"})})]})]}),o.jsx(H,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(ls,{className:"mr-2 h-4 w-4 animate-spin"}),p?"Creating Account...":"Signing In..."]}):p?"Create Account":"Sign In"})]}),o.jsx("div",{className:"text-center",children:o.jsx(H,{variant:"link",onClick:()=>m(!p),className:"text-sm",children:p?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with"})})]}),o.jsx(H,{variant:"outline",onClick:$,className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(ls,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in with Google..."]}):o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]}),o.jsx(Kv,{value:"phone",className:"space-y-4",children:N?o.jsxs("form",{onSubmit:O,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"otp",children:"Verification Code"}),o.jsx($e,{id:"otp",type:"text",placeholder:"Enter 6-digit code",value:y,onChange:V=>b(V.target.value),maxLength:6,className:"text-center text-lg tracking-widest",required:!0}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Enter the 6-digit code sent to ",g]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(H,{type:"submit",className:"flex-1",disabled:r||y.length!==6,children:r?o.jsxs(o.Fragment,{children:[o.jsx(ls,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify OTP"}),o.jsx(H,{type:"button",variant:"outline",onClick:D,disabled:r,children:"Resend"})]}),o.jsx(H,{type:"button",variant:"ghost",onClick:()=>{k(!1),b(""),x("")},className:"w-full",children:"Change Phone Number"})]}):o.jsxs("form",{onSubmit:W,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx($e,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:g,onChange:V=>v(V.target.value),className:"pl-10",required:!0})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"We'll send you a verification code via SMS"})]}),o.jsx(H,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(ls,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending OTP..."]}):"Send OTP"})]})})]}),o.jsx("div",{id:"recaptcha-container",className:"mt-4"})]})]}),o.jsx(sA,{isOpen:C,onComplete:P})]}):null};var ny="focusScope.autoFocusOnMount",ry="focusScope.autoFocusOnUnmount",kC={bubbles:!1,cancelable:!0},BH="FocusScope",Nm=d.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=d.useState(null),u=Us(s),h=Us(i),p=d.useRef(null),m=ct(e,y=>c(y)),g=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let y=function(N){if(g.paused||!l)return;const k=N.target;l.contains(k)?p.current=k:Ti(p.current,{select:!0})},b=function(N){if(g.paused||!l)return;const k=N.relatedTarget;k!==null&&(l.contains(k)||Ti(p.current,{select:!0}))},w=function(N){if(document.activeElement===document.body)for(const A of N)A.removedNodes.length>0&&Ti(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const x=new MutationObserver(w);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),x.disconnect()}}},[r,l,g.paused]),d.useEffect(()=>{if(l){TC.add(g);const y=document.activeElement;if(!l.contains(y)){const w=new CustomEvent(ny,kC);l.addEventListener(ny,u),l.dispatchEvent(w),w.defaultPrevented||(HH(QH(iA(l)),{select:!0}),document.activeElement===y&&Ti(l))}return()=>{l.removeEventListener(ny,u),setTimeout(()=>{const w=new CustomEvent(ry,kC);l.addEventListener(ry,h),l.dispatchEvent(w),w.defaultPrevented||Ti(y??document.body,{select:!0}),l.removeEventListener(ry,h),TC.remove(g)},0)}}},[l,u,h,g]);const v=d.useCallback(y=>{if(!n&&!r||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(b&&w){const x=y.currentTarget,[N,k]=WH(x);N&&k?!y.shiftKey&&w===k?(y.preventDefault(),n&&Ti(N,{select:!0})):y.shiftKey&&w===N&&(y.preventDefault(),n&&Ti(k,{select:!0})):w===x&&y.preventDefault()}},[n,r,g.paused]);return o.jsx(Ve.div,{tabIndex:-1,...a,ref:m,onKeyDown:v})});Nm.displayName=BH;function HH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ti(r,{select:e}),document.activeElement!==n)return}function WH(t){const e=iA(t),n=IC(e,t),r=IC(e.reverse(),t);return[n,r]}function iA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function IC(t,e){for(const n of t)if(!qH(n,{upTo:e}))return n}function qH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function GH(t){return t instanceof HTMLInputElement&&"select"in t}function Ti(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&GH(t)&&e&&t.select()}}var TC=KH();function KH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=PC(t,e),t.unshift(e)},remove(e){var n;t=PC(t,e),(n=t[0])==null||n.resume()}}}function PC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function QH(t){return t.filter(e=>e.tagName!=="A")}var sy=0;function Lw(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??AC()),document.body.insertAdjacentElement("beforeend",t[1]??AC()),sy++,()=>{sy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sy--}},[])}function AC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var rf="right-scroll-bar-position",sf="width-before-scroll-bar",YH="with-scroll-bars-hidden",ZH="--removed-body-scroll-bar-size";function iy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function XH(t,e){var n=d.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var JH=typeof window<"u"?d.useLayoutEffect:d.useEffect,RC=new WeakMap;function eW(t,e){var n=XH(null,function(r){return t.forEach(function(s){return iy(s,r)})});return JH(function(){var r=RC.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||iy(l,null)}),i.forEach(function(l){s.has(l)||iy(l,a)})}RC.set(n,t)},[t]),n}function tW(t){return t}function nW(t,e){e===void 0&&(e=tW);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var h=a;a=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),n}}}};return s}function rW(t){t===void 0&&(t={});var e=nW(null);return e.options=Ps({async:!0,ssr:!1},t),e}var oA=function(t){var e=t.sideCar,n=wd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Ps({},n))};oA.isSideCarExport=!0;function sW(t,e){return t.useMedium(e),oA}var aA=rW(),oy=function(){},Cm=d.forwardRef(function(t,e){var n=d.useRef(null),r=d.useState({onScrollCapture:oy,onWheelCapture:oy,onTouchMoveCapture:oy}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,p=t.shards,m=t.sideCar,g=t.noRelative,v=t.noIsolation,y=t.inert,b=t.allowPinchZoom,w=t.as,x=w===void 0?"div":w,N=t.gapMode,k=wd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,R=eW([n,e]),C=Ps(Ps({},k),s);return d.createElement(d.Fragment,null,h&&d.createElement(A,{sideCar:aA,removeScrollBar:u,shards:p,noRelative:g,noIsolation:v,inert:y,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:N}),a?d.cloneElement(d.Children.only(l),Ps(Ps({},C),{ref:R})):d.createElement(x,Ps({},C,{className:c,ref:R}),l))});Cm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cm.classNames={fullWidth:sf,zeroRight:rf};var iW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function oW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=iW();return e&&t.setAttribute("nonce",e),t}function aW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function lW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var cW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=oW())&&(aW(e,n),lW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},uW=function(){var t=cW();return function(e,n){d.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lA=function(){var t=uW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},dW={left:0,top:0,right:0,gap:0},ay=function(t){return parseInt(t||"",10)||0},hW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ay(n),ay(r),ay(s)]},fW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return dW;var e=hW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},pW=lA(),yl="data-scroll-locked",mW=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(YH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(yl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(sf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(rf," .").concat(rf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(sf," .").concat(sf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(yl,`] {
    `).concat(ZH,": ").concat(l,`px;
  }
`)},LC=function(){var t=parseInt(document.body.getAttribute(yl)||"0",10);return isFinite(t)?t:0},gW=function(){d.useEffect(function(){return document.body.setAttribute(yl,(LC()+1).toString()),function(){var t=LC()-1;t<=0?document.body.removeAttribute(yl):document.body.setAttribute(yl,t.toString())}},[])},yW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;gW();var i=d.useMemo(function(){return fW(s)},[s]);return d.createElement(pW,{styles:mW(i,!e,s,n?"":"!important")})},Qv=!1;if(typeof window<"u")try{var jh=Object.defineProperty({},"passive",{get:function(){return Qv=!0,!0}});window.addEventListener("test",jh,jh),window.removeEventListener("test",jh,jh)}catch{Qv=!1}var Da=Qv?{passive:!1}:!1,vW=function(t){return t.tagName==="TEXTAREA"},cA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!vW(t)&&n[e]==="visible")},xW=function(t){return cA(t,"overflowY")},wW=function(t){return cA(t,"overflowX")},MC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=uA(t,r);if(s){var i=dA(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},bW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},EW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},uA=function(t,e){return t==="v"?xW(e):wW(e)},dA=function(t,e){return t==="v"?bW(e):EW(e)},NW=function(t,e){return t==="h"&&e==="rtl"?-1:1},CW=function(t,e,n,r,s){var i=NW(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,h=a>0,p=0,m=0;do{if(!l)break;var g=dA(t,l),v=g[0],y=g[1],b=g[2],w=y-b-i*v;(v||w)&&uA(t,l)&&(p+=w,m+=v);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(p)<1||!h&&Math.abs(m)<1)&&(u=!0),u},kh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},DC=function(t){return[t.deltaX,t.deltaY]},OC=function(t){return t&&"current"in t?t.current:t},_W=function(t,e){return t[0]===e[0]&&t[1]===e[1]},SW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},jW=0,Oa=[];function kW(t){var e=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(jW++)[0],i=d.useState(lA)[0],a=d.useRef(t);d.useEffect(function(){a.current=t},[t]),d.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=W9([t.lockRef.current],(t.shards||[]).map(OC),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=d.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var w=kh(y),x=n.current,N="deltaX"in y?y.deltaX:x[0]-w[0],k="deltaY"in y?y.deltaY:x[1]-w[1],A,R=y.target,C=Math.abs(N)>Math.abs(k)?"h":"v";if("touches"in y&&C==="h"&&R.type==="range")return!1;var _=MC(C,R);if(!_)return!0;if(_?A=C:(A=C==="v"?"h":"v",_=MC(C,R)),!_)return!1;if(!r.current&&"changedTouches"in y&&(N||k)&&(r.current=A),!A)return!0;var S=r.current||A;return CW(S,b,y,S==="h"?N:k)},[]),c=d.useCallback(function(y){var b=y;if(!(!Oa.length||Oa[Oa.length-1]!==i)){var w="deltaY"in b?DC(b):kh(b),x=e.current.filter(function(A){return A.name===b.type&&(A.target===b.target||b.target===A.shadowParent)&&_W(A.delta,w)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var N=(a.current.shards||[]).map(OC).filter(Boolean).filter(function(A){return A.contains(b.target)}),k=N.length>0?l(b,N[0]):!a.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),u=d.useCallback(function(y,b,w,x){var N={name:y,delta:b,target:w,should:x,shadowParent:IW(w)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(k){return k!==N})},1)},[]),h=d.useCallback(function(y){n.current=kh(y),r.current=void 0},[]),p=d.useCallback(function(y){u(y.type,DC(y),y.target,l(y,t.lockRef.current))},[]),m=d.useCallback(function(y){u(y.type,kh(y),y.target,l(y,t.lockRef.current))},[]);d.useEffect(function(){return Oa.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Da),document.addEventListener("touchmove",c,Da),document.addEventListener("touchstart",h,Da),function(){Oa=Oa.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Da),document.removeEventListener("touchmove",c,Da),document.removeEventListener("touchstart",h,Da)}},[]);var g=t.removeScrollBar,v=t.inert;return d.createElement(d.Fragment,null,v?d.createElement(i,{styles:SW(s)}):null,g?d.createElement(yW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function IW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const TW=sW(aA,kW);var _m=d.forwardRef(function(t,e){return d.createElement(Cm,Ps({},t,{ref:e,sideCar:TW}))});_m.classNames=Cm.classNames;var PW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Va=new WeakMap,Ih=new WeakMap,Th={},ly=0,hA=function(t){return t&&(t.host||hA(t.parentNode))},AW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=hA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},RW=function(t,e,n,r){var s=AW(e,Array.isArray(t)?t:[t]);Th[n]||(Th[n]=new WeakMap);var i=Th[n],a=[],l=new Set,c=new Set(s),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};s.forEach(u);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(m){if(l.has(m))h(m);else try{var g=m.getAttribute(r),v=g!==null&&g!=="false",y=(Va.get(m)||0)+1,b=(i.get(m)||0)+1;Va.set(m,y),i.set(m,b),a.push(m),y===1&&v&&Ih.set(m,!0),b===1&&m.setAttribute(n,"true"),v||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return h(e),l.clear(),ly++,function(){a.forEach(function(p){var m=Va.get(p)-1,g=i.get(p)-1;Va.set(p,m),i.set(p,g),m||(Ih.has(p)||p.removeAttribute(r),Ih.delete(p)),g||p.removeAttribute(n)}),ly--,ly||(Va=new WeakMap,Va=new WeakMap,Ih=new WeakMap,Th={})}},Mw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=PW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),RW(r,s,n,"aria-hidden")):function(){return null}},Sm="Dialog",[fA,OZ]=rr(Sm),[LW,bs]=fA(Sm),pA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=d.useRef(null),c=d.useRef(null),[u,h]=ys({prop:r,defaultProp:s??!1,onChange:i,caller:Sm});return o.jsx(LW,{scope:e,triggerRef:l,contentRef:c,contentId:Ur(),titleId:Ur(),descriptionId:Ur(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(p=>!p),[h]),modal:a,children:n})};pA.displayName=Sm;var mA="DialogTrigger",gA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(mA,n),i=ct(e,s.triggerRef);return o.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Vw(s.open),...r,ref:i,onClick:we(t.onClick,s.onOpenToggle)})});gA.displayName=mA;var Dw="DialogPortal",[MW,yA]=fA(Dw,{forceMount:void 0}),vA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=bs(Dw,e);return o.jsx(MW,{scope:e,forceMount:n,children:d.Children.map(r,a=>o.jsx(Qr,{present:n||i.open,children:o.jsx(Up,{asChild:!0,container:s,children:a})}))})};vA.displayName=Dw;var rp="DialogOverlay",xA=d.forwardRef((t,e)=>{const n=yA(rp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=bs(rp,t.__scopeDialog);return i.modal?o.jsx(Qr,{present:r||i.open,children:o.jsx(OW,{...s,ref:e})}):null});xA.displayName=rp;var DW=la("DialogOverlay.RemoveScroll"),OW=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(rp,n);return o.jsx(_m,{as:DW,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Ve.div,{"data-state":Vw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),va="DialogContent",wA=d.forwardRef((t,e)=>{const n=yA(va,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=bs(va,t.__scopeDialog);return o.jsx(Qr,{present:r||i.open,children:i.modal?o.jsx(VW,{...s,ref:e}):o.jsx(FW,{...s,ref:e})})});wA.displayName=va;var VW=d.forwardRef((t,e)=>{const n=bs(va,t.__scopeDialog),r=d.useRef(null),s=ct(e,n.contentRef,r);return d.useEffect(()=>{const i=r.current;if(i)return Mw(i)},[]),o.jsx(bA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:we(t.onFocusOutside,i=>i.preventDefault())})}),FW=d.forwardRef((t,e)=>{const n=bs(va,t.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(bA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),bA=d.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=bs(va,n),c=d.useRef(null),u=ct(e,c);return Lw(),o.jsxs(o.Fragment,{children:[o.jsx(Nm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(yd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Vw(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx($W,{titleId:l.titleId}),o.jsx(zW,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ow="DialogTitle",EA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(Ow,n);return o.jsx(Ve.h2,{id:s.titleId,...r,ref:e})});EA.displayName=Ow;var NA="DialogDescription",CA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(NA,n);return o.jsx(Ve.p,{id:s.descriptionId,...r,ref:e})});CA.displayName=NA;var _A="DialogClose",SA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(_A,n);return o.jsx(Ve.button,{type:"button",...r,ref:e,onClick:we(t.onClick,()=>s.onOpenChange(!1))})});SA.displayName=_A;function Vw(t){return t?"open":"closed"}var jA="DialogTitleWarning",[VZ,kA]=a5(jA,{contentName:va,titleName:Ow,docsSlug:"dialog"}),$W=({titleId:t})=>{const e=kA(jA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return d.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},UW="DialogDescriptionWarning",zW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kA(UW).contentName}}.`;return d.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},IA=pA,BW=gA,TA=vA,jm=xA,km=wA,Im=EA,Tm=CA,PA=SA;const Ls=IA,HW=BW,WW=TA,AA=d.forwardRef(({className:t,...e},n)=>o.jsx(jm,{ref:n,className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));AA.displayName=jm.displayName;const cs=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(WW,{children:[o.jsx(AA,{}),o.jsxs(km,{ref:r,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(PA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(uc,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cs.displayName=km.displayName;const us=({className:t,...e})=>o.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});us.displayName="DialogHeader";const dr=d.forwardRef(({className:t,...e},n)=>o.jsx(Im,{ref:n,className:De("text-lg font-semibold leading-none tracking-tight",t),...e}));dr.displayName=Im.displayName;const Fr=d.forwardRef(({className:t,...e},n)=>o.jsx(Tm,{ref:n,className:De("text-sm text-muted-foreground",t),...e}));Fr.displayName=Tm.displayName;const RA=({isOpen:t,onVerified:e,onClose:n})=>{const[r,s]=d.useState(""),i=()=>{if(!r){z.error("Please enter your date of birth");return}const a=new Date,l=new Date(r);Math.floor((a.getTime()-l.getTime())/(365.25*24*60*60*1e3))>=21?(z.success("Age verification successful"),e()):z.error("You must be 21 or older to access this section")};return o.jsx(Ls,{open:t,onOpenChange:n,children:o.jsxs(cs,{className:"sm:max-w-md",children:[o.jsxs(us,{children:[o.jsxs(dr,{className:"flex items-center space-x-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Age Verification Required"})]}),o.jsx(Fr,{children:"You must be 21 or older to access alcoholic beverages. Please verify your age to continue."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"birthdate",children:"Date of Birth"}),o.jsx($e,{id:"birthdate",type:"date",value:r,onChange:a=>s(a.target.value),className:"mt-1"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(H,{variant:"outline",onClick:n,children:"Cancel"}),o.jsx(H,{onClick:i,children:"Verify Age"})]}),o.jsx("div",{className:"text-xs text-gray-500 text-center",children:o.jsx("p",{children:"By continuing, you confirm that you are of legal drinking age in your jurisdiction."})})]})]})})},Pm=({product:t,onClose:e,onAddToCart:n})=>t?o.jsx(Ls,{open:!!t,onOpenChange:e,children:o.jsx(cs,{className:"sm:max-w-2xl",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:t.image,alt:t.name,className:"w-full h-64 md:h-80 object-cover rounded-lg"}),t.originalPrice&&o.jsxs(Pt,{className:"absolute top-2 left-2 bg-red-500",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(us,{children:o.jsx(dr,{className:"text-xl",children:t.name})}),o.jsx("div",{className:"flex items-center space-x-2 mb-2",children:o.jsx(Pt,{variant:"secondary",children:t.category})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Gr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"font-medium",children:t.rating})]}),o.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[o.jsx(ka,{className:"w-3 h-3 mr-1"}),t.deliveryTime]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-2xl font-bold",children:["",t.price]}),t.originalPrice&&o.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["",t.originalPrice]})]}),t.inStock?o.jsx(Pt,{variant:"outline",className:"text-green-600 border-green-600",children:"In Stock"}):o.jsx(Pt,{variant:"destructive",children:"Out of Stock"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold",children:"Product Features:"}),o.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[o.jsx("li",{children:" High quality ingredients"}),o.jsx("li",{children:" Fast delivery guaranteed"}),o.jsx("li",{children:" Freshness assured"}),o.jsx("li",{children:" Easy returns if not satisfied"})]})]}),o.jsxs(H,{className:"w-full",onClick:()=>{n(t),e()},disabled:!t.inStock,children:[o.jsx(Rs,{className:"w-4 h-4 mr-2"}),t.inStock?"Add to Cart":"Out of Stock"]})]})]})})}):null,qW=IA,GW=TA,LA=d.forwardRef(({className:t,...e},n)=>o.jsx(jm,{className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));LA.displayName=jm.displayName;const KW=wm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),MA=d.forwardRef(({side:t="right",className:e,children:n,...r},s)=>o.jsxs(GW,{children:[o.jsx(LA,{}),o.jsxs(km,{ref:s,className:De(KW({side:t}),e),...r,children:[n,o.jsxs(PA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(uc,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));MA.displayName=km.displayName;const DA=({className:t,...e})=>o.jsx("div",{className:De("flex flex-col space-y-2 text-center sm:text-left",t),...e});DA.displayName="SheetHeader";const OA=d.forwardRef(({className:t,...e},n)=>o.jsx(Im,{ref:n,className:De("text-lg font-semibold text-foreground",t),...e}));OA.displayName=Im.displayName;const VA=d.forwardRef(({className:t,...e},n)=>o.jsx(Tm,{ref:n,className:De("text-sm text-muted-foreground",t),...e}));VA.displayName=Tm.displayName;var QW="Separator",VC="horizontal",YW=["horizontal","vertical"],FA=d.forwardRef((t,e)=>{const{decorative:n,orientation:r=VC,...s}=t,i=ZW(r)?r:VC,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(Ve.div,{"data-orientation":i,...l,...s,ref:e})});FA.displayName=QW;function ZW(t){return YW.includes(t)}var $A=FA;const Fw=d.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>o.jsx($A,{ref:s,decorative:n,orientation:e,className:De("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Fw.displayName=$A.displayName;const Am=({isOpen:t,onClose:e,cart:n,updateQuantity:r,totalPrice:s,onProceedToCheckout:i})=>{const{isDarkMode:a,toggleDarkMode:l}=Yt(),[c,u]=d.useState(""),[h,p]=d.useState(null),[m,g]=d.useState(0),[v,y]=d.useState(""),[b,w]=d.useState(!1),x=Object.values(n.reduce((R,C)=>(R[C.id]?R[C.id].quantity+=C.quantity:R[C.id]={...C},R),{})),N=Math.max(0,s-m+(s>299?0:29)),k=async()=>{y(""),w(!0),g(0),p(null);try{const R=Sr(rn(Fe,"promocodes"),Ir("code","==",c.trim()),Ir("status","==","active")),C=await Yn(R);if(C.empty){y("Invalid or expired promo code."),w(!1);return}const _=C.docs[0].data();let S=0;_.discountType==="percentage"?S=Math.round(s*_.discountValue/100):_.discountType==="fixed"&&(S=_.discountValue),g(S),p(_),y("")}catch{y("Error checking promo code.")}finally{w(!1)}},A=()=>{p(null),g(0),u(""),y("")};return o.jsx(qW,{open:t,onOpenChange:e,children:o.jsxs(MA,{className:`w-full sm:max-w-lg flex flex-col ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-l`,children:[o.jsxs(DA,{children:[o.jsx(OA,{className:a?"text-white":"text-gray-800",children:"Shopping Cart"}),o.jsx(VA,{className:a?"text-gray-400":"text-gray-600",children:x.length===0?"Your cart is empty":`${x.length} item${x.length===1?"":"s"} in your cart`})]}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:x.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Rs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:a?"text-gray-400":"text-gray-500",children:"Your cart is empty"}),o.jsx(H,{onClick:()=>e(!1),className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white",children:"Start Shopping"})]}):o.jsx("div",{className:"space-y-4",children:x.map(R=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 border rounded-lg ${a?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx("img",{src:R.image,alt:R.name,className:"w-16 h-16 object-cover rounded-lg"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:`font-medium text-sm ${a?"text-white":"text-gray-800"}`,children:R.name}),o.jsxs("p",{className:`text-sm ${a?"text-gray-400":"text-gray-600"}`,children:["",R.price]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(H,{variant:"outline",size:"sm",onClick:()=>r(R.id,R.quantity-1),className:"w-8 h-8 p-0 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"-"}),o.jsx("span",{className:`text-sm font-medium w-8 text-center ${a?"text-white":"text-gray-800"}`,children:R.quantity}),o.jsx(H,{variant:"outline",size:"sm",onClick:()=>r(R.id,R.quantity+1),className:"w-8 h-8 p-0 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"+"})]})]}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>r(R.id,0),className:"text-red-500 hover:text-red-700",children:""})]},R.id))})}),x.length>0&&o.jsx("div",{className:`border-t pt-4 ${a?"border-gray-700":"border-gray-200"}`,children:o.jsxs("div",{className:"space-y-4",children:[h?o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsxs(Pt,{className:"bg-green-100 text-green-700 px-3 py-1 text-sm",children:[h.code," - ",h.discountType==="percentage"?`${h.discountValue}% off`:`${h.discountValue} off`]}),o.jsx(H,{size:"sm",variant:"outline",onClick:A,className:"text-red-500 border-red-300 hover:bg-red-50",children:"Remove"})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($e,{placeholder:"Enter promo code",className:"mb-2",value:c,onChange:R=>u(R.target.value),disabled:b}),o.jsx(H,{variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:k,disabled:b||!c.trim(),children:b?"Checking...":"Apply"})]}),v&&o.jsx("div",{className:"text-red-500 text-xs mb-2",children:v}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal"}),o.jsxs("span",{className:"text-gray-800",children:["",s.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),o.jsx("span",{className:"text-gray-800",children:s>299?"FREE":"29"})]}),s<299&&o.jsxs("p",{className:"text-xs text-green-600",children:["Add ",299-s," more for free delivery!"]}),o.jsx(Fw,{}),m>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-green-600",children:"Discount"}),o.jsxs("span",{className:"text-green-700",children:["-",m]})]}),o.jsxs("div",{className:"flex justify-between font-semibold",children:[o.jsx("span",{className:"text-gray-800",children:"Total"}),o.jsxs("span",{className:"text-orange-500",children:["",N.toFixed(2)]})]})]}),o.jsx(H,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:i,children:"Proceed to Checkout"}),o.jsx(H,{variant:"outline",className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>{},children:"Clear Cart"})]})})]})})},XW=["Pizza","Milk","Bread","Eggs","Coke","Biscuits","Rice","Snacks","Juice","Soap"],FC=({isOpen:t,onClose:e,onProductSelect:n,onAddToCart:r,cart:s=[]})=>{const{isDarkMode:i,toggleDarkMode:a}=Yt(),[l,c]=d.useState(""),[u,h]=d.useState([]),[p,m]=d.useState([]),[g,v]=d.useState(!1),[y,b]=d.useState("all"),[w,x]=d.useState("all"),[N,k]=d.useState(!1),[A,R]=d.useState(""),[C,_]=d.useState(!1),S=d.useRef(null),T=d.useRef(null),I=d.useRef(null);d.useEffect(()=>{C&&P()},[C]),d.useEffect(()=>{L()},[l,y,w,u]),d.useEffect(()=>{C&&S.current&&S.current.focus({preventScroll:!0})},[C]);const P=async()=>{v(!0),R("");try{console.log("Loading products for UniversalSearch..."),await j2();const V=await Yc("");if(console.log("Loaded products:",V.length),V.length===0){console.log("No products found with empty query, trying category-specific queries...");const[U,Q,ie]=await Promise.all([Yc("",ze.FOOD),Yc("",ze.DAILY_ESSENTIAL),Yc("",ze.DRINKS)]);console.log("Food products:",U.length),console.log("Daily essential products:",Q.length),console.log("Drinks products:",ie.length);const q=[...U,...Q,...ie];console.log("Combined products:",q.length),q.length===0?(console.log("Still no products found, using sample products as fallback..."),h([{id:"1",name:"Domino's Pizza",price:250,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"food",subcategory:"pizzas",description:"Delicious pizza with fresh toppings",deliveryTime:"20-25 mins",inStock:!0,isVeg:!1,discount:"20% OFF",tags:["pizza","italian","cheese","tomato"]},{id:"2",name:"Spice N Ice Biryani",price:220,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"food",subcategory:"biryani",description:"Aromatic biryani with tender meat",deliveryTime:"25-30 mins",inStock:!0,isVeg:!1,offer:"BUY1 GET1",tags:["biryani","rice","spicy","indian"]},{id:"3",name:"China Nation Noodles",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"food",subcategory:"chinese",description:"Stir-fried noodles with vegetables",deliveryTime:"15-20 mins",inStock:!0,isVeg:!0,tags:["noodles","chinese","vegetarian","stir-fry"]},{id:"4",name:"Classic Burger",price:150,rating:4.2,image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400",category:"food",subcategory:"burgers",description:"Juicy beef burger with fresh vegetables",deliveryTime:"18-22 mins",inStock:!0,isVeg:!1,discount:"15% OFF",tags:["burger","beef","fast-food","american"]},{id:"5",name:"Butter Chicken",price:280,rating:4.6,image:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400",category:"food",subcategory:"indian",description:"Creamy butter chicken with naan",deliveryTime:"30-35 mins",inStock:!0,isVeg:!1,tags:["chicken","indian","curry","butter"]},{id:"6",name:"Chocolate Cake",price:120,rating:4.4,image:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400",category:"food",subcategory:"desserts",description:"Rich chocolate cake with cream",deliveryTime:"20-25 mins",inStock:!0,isVeg:!0,tags:["cake","chocolate","dessert","sweet"]}]),R("Using sample products. Database connection may be unavailable.")):h(q)}else console.log("Setting all products:",V.length),h(V)}catch(V){console.error("Error loading products:",V),R("Failed to load products. Please try again."),z.error("Failed to load products")}finally{v(!1)}},L=()=>{let V=u;if(typeof window<"u"&&window.innerWidth>=640&&!l.trim()){m([]);return}if(l.trim()){const U=l.toLowerCase();V=V.filter(Q=>Q.name.toLowerCase().includes(U))}y&&y!=="all"&&(V=V.filter(U=>U.category===y)),w&&w!=="all"&&(V=V.filter(U=>U.subcategory===w)),m(V)},G=V=>{n&&n(V),_(!1)},$=(V,U)=>{U.stopPropagation(),r&&(r(V),z.success(`${V.name} added to cart!`))},F=()=>{b("all"),x("all"),c("")},W=V=>{c(V),b("all"),x("all")},O=V=>{switch(V){case ze.FOOD:return"Food";case ze.DAILY_ESSENTIAL:return"Daily Essential";case ze.DRINKS:return"Drinks";default:return V}},D=Object.values(Et).filter(V=>typeof V=="string"&&V.trim()!=="").filter((V,U,Q)=>Q.indexOf(V)===U);w==="all"||D.includes(w),l.trim();const B=V=>{setTimeout(()=>{document.activeElement&&I.current&&I.current.contains(document.activeElement)||_(!1)},100)};return o.jsxs("div",{className:"relative flex-1 max-w-2xl",ref:T,children:[o.jsx($e,{ref:S,placeholder:"Search for products by name...",value:l,onFocus:()=>_(!0),onBlur:B,onChange:V=>c(V.target.value),className:`pl-10 pr-10 h-12 text-lg transition-all duration-200 border border-black/10 dark:border-black/20 outline-none focus:outline-none focus:border-transparent focus:ring-0 ${i?"bg-gray-800 text-white placeholder-gray-400":"bg-gray-50 text-gray-900 placeholder-gray-400"}`}),C&&o.jsx("div",{ref:I,className:"z-50 max-h-[70vh] h-[60vh] overflow-y-auto overscroll-contain touch-action-none p-0 shadow-2xl border-0 w-screen max-w-sm left-1/2 -translate-x-1/2 mx-auto rounded-xl fixed top-[145px] sm:absolute sm:w-[400px] sm:max-w-md sm:left-1/2 sm:-translate-x-1/2 sm:overflow-visible sm:touch-auto sm:h-auto",style:window.innerWidth>=640?{top:"110%"}:{},children:o.jsxs("div",{className:`${i?"bg-gray-900":"bg-white"} rounded-xl overflow-hidden`,children:[o.jsx("div",{className:`p-4 border-b ${i?"border-gray-700 bg-gray-800":"border-gray-100 bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:`text-lg font-semibold ${i?"text-white":"text-gray-900"}`,children:l.trim()?`Search Results (${p.length})`:"Search Products"}),l.trim()&&o.jsx(H,{variant:"ghost",size:"sm",onClick:F,className:`text-xs ${i?"text-gray-400 hover:text-orange-400":"text-gray-600 hover:text-orange-500"}`,children:"Clear"})]})}),o.jsxs("div",{className:"p-4",children:[A&&o.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm",children:A}),l.trim()||typeof window<"u"&&window.innerWidth>=640?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 hidden sm:block",children:[o.jsx("h4",{className:`text-xs font-medium mb-1 ${i?"text-gray-300":"text-gray-600"}`,children:"Popular Searches"}),o.jsx("div",{className:"flex flex-nowrap gap-1",children:XW.slice(0,6).map(V=>o.jsx(H,{variant:"outline",size:"sm",onClick:()=>W(V),className:`px-2 py-0.5 text-[11px] rounded-full min-w-0 ${i?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:V},V))})]}),o.jsx("div",{children:g?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):p.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(xi,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),o.jsx("p",{className:`text-base font-medium ${i?"text-gray-300":"text-gray-600"}`,children:"No products found"}),o.jsx("p",{className:`text-sm ${i?"text-gray-500":"text-gray-400"}`,children:"Try adjusting your search terms"})]}):o.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:[p.slice(0,10).map(V=>o.jsxs("div",{className:`flex items-center space-x-4 p-3 rounded-xl cursor-pointer transition-all duration-200 hover:shadow-md ${i?"hover:bg-gray-800":"hover:bg-gray-50"}`,onClick:()=>G(V),children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:V.image,alt:V.name,className:"w-16 h-16 object-cover rounded-lg",onError:U=>{U.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yNCAzMkMyNi4yMDkxIDMyIDI4IDMwLjIwOTEgMjggMjhDMjggMjUuNzkwOSAyNi4yMDkxIDI0IDI0IDI0QzIxLjc5MDkgMjQgMjAgMjUuNzkwOSAyMCAyOEMyMCAzMC4yMDkxIDIxLjc5MDkgMzIgMjQgMzJaIiBmaWxsPSIjOUI5QkEwIi8+Cjwvc3ZnPgo="}}),V.discount&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-orange-500 text-white px-1.5 py-0.5 rounded-full text-xs font-bold",children:V.discount})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-semibold text-base truncate ${i?"text-white":"text-gray-900"}`,children:V.name}),o.jsx("p",{className:`text-sm truncate mb-2 ${i?"text-gray-400":"text-gray-600"}`,children:V.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["",V.price]}),o.jsx(Pt,{variant:"secondary",className:`text-xs ${i?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:O(V.category)})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Gr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:`text-sm ${i?"text-gray-300":"text-gray-600"}`,children:V.rating})]})]})]}),o.jsxs(H,{size:"sm",onClick:U=>$(V,U),className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded-lg flex items-center space-x-1",children:[o.jsx(D2,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs",children:"Add"})]})]},V.id)),p.length>10&&o.jsx("div",{className:"text-center py-3",children:o.jsxs("p",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:["+",p.length-10," more results"]})})]})})]}):o.jsxs("div",{className:"hidden sm:block text-center py-8",children:[o.jsx(xi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:`text-lg font-medium ${i?"text-gray-300":"text-gray-600"}`,children:"Start typing to search"}),o.jsx("p",{className:`text-sm ${i?"text-gray-500":"text-gray-400"}`,children:"Search for products by name"})]})]})]})})]})},UA=d.createContext(void 0),Rm=()=>{const t=d.useContext(UA);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},JW=({children:t})=>{const[e,n]=d.useState([]),[r,s]=d.useState(!1);d.useEffect(()=>{const m=localStorage.getItem("pickngo-cart");if(m)try{n(JSON.parse(m))}catch(g){console.error("Error loading cart from localStorage:",g)}},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(e))},[e]);const p={cart:e,addToCart:m=>{n(g=>g.find(y=>y.id===m.id)?g.map(y=>y.id===m.id?{...y,quantity:y.quantity+1}:y):[...g,{...m,quantity:1}]),setTimeout(()=>{s(!0)},100)},updateCartQuantity:(m,g)=>{n(v=>g<=0?v.filter(y=>y.id!==m):v.map(y=>y.id===m?{...y,quantity:g}:y))},removeFromCart:m=>{n(g=>g.filter(v=>v.id!==m))},clearCart:()=>{n([])},getTotalItems:()=>e.reduce((m,g)=>m+g.quantity,0),getTotalPrice:()=>e.reduce((m,g)=>m+g.price*g.quantity,0),isCartPopupOpen:r,setIsCartPopupOpen:s};return o.jsx(UA.Provider,{value:p,children:t})};var Yv=["Enter"," "],eq=["ArrowDown","PageUp","Home"],zA=["ArrowUp","PageDown","End"],tq=[...eq,...zA],nq={ltr:[...Yv,"ArrowRight"],rtl:[...Yv,"ArrowLeft"]},rq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ld="Menu",[rd,sq,iq]=bm(Ld),[Ia,BA]=rr(Ld,[iq,Zl,hc]),Lm=Zl(),HA=hc(),[oq,Ta]=Ia(Ld),[aq,Md]=Ia(Ld),WA=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,l=Lm(e),[c,u]=d.useState(null),h=d.useRef(!1),p=Us(i),m=dc(s);return d.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(iI,{...l,children:o.jsx(oq,{scope:e,open:n,onOpenChange:p,content:c,onContentChange:u,children:o.jsx(aq,{scope:e,onClose:d.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:m,modal:a,children:r})})})};WA.displayName=Ld;var lq="MenuAnchor",$w=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Lm(n);return o.jsx(yx,{...s,...r,ref:e})});$w.displayName=lq;var Uw="MenuPortal",[cq,qA]=Ia(Uw,{forceMount:void 0}),GA=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ta(Uw,e);return o.jsx(cq,{scope:e,forceMount:n,children:o.jsx(Qr,{present:n||i.open,children:o.jsx(Up,{asChild:!0,container:s,children:r})})})};GA.displayName=Uw;var Br="MenuContent",[uq,zw]=Ia(Br),KA=d.forwardRef((t,e)=>{const n=qA(Br,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ta(Br,t.__scopeMenu),a=Md(Br,t.__scopeMenu);return o.jsx(rd.Provider,{scope:t.__scopeMenu,children:o.jsx(Qr,{present:r||i.open,children:o.jsx(rd.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(dq,{...s,ref:e}):o.jsx(hq,{...s,ref:e})})})})}),dq=d.forwardRef((t,e)=>{const n=Ta(Br,t.__scopeMenu),r=d.useRef(null),s=ct(e,r);return d.useEffect(()=>{const i=r.current;if(i)return Mw(i)},[]),o.jsx(Bw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:we(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),hq=d.forwardRef((t,e)=>{const n=Ta(Br,t.__scopeMenu);return o.jsx(Bw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),fq=la("MenuContent.ScrollLock"),Bw=d.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:m,onDismiss:g,disableOutsideScroll:v,...y}=t,b=Ta(Br,n),w=Md(Br,n),x=Lm(n),N=HA(n),k=sq(n),[A,R]=d.useState(null),C=d.useRef(null),_=ct(e,C,b.onContentChange),S=d.useRef(0),T=d.useRef(""),I=d.useRef(0),P=d.useRef(null),L=d.useRef("right"),G=d.useRef(0),$=v?_m:d.Fragment,F=v?{as:fq,allowPinchZoom:!0}:void 0,W=D=>{var J,ue;const B=T.current+D,V=k().filter(ye=>!ye.disabled),U=document.activeElement,Q=(J=V.find(ye=>ye.ref.current===U))==null?void 0:J.textValue,ie=V.map(ye=>ye.textValue),q=_q(ie,B,Q),ge=(ue=V.find(ye=>ye.textValue===q))==null?void 0:ue.ref.current;(function ye(Y){T.current=Y,window.clearTimeout(S.current),Y!==""&&(S.current=window.setTimeout(()=>ye(""),1e3))})(B),ge&&setTimeout(()=>ge.focus())};d.useEffect(()=>()=>window.clearTimeout(S.current),[]),Lw();const O=d.useCallback(D=>{var V,U;return L.current===((V=P.current)==null?void 0:V.side)&&jq(D,(U=P.current)==null?void 0:U.area)},[]);return o.jsx(uq,{scope:n,searchRef:T,onItemEnter:d.useCallback(D=>{O(D)&&D.preventDefault()},[O]),onItemLeave:d.useCallback(D=>{var B;O(D)||((B=C.current)==null||B.focus(),R(null))},[O]),onTriggerLeave:d.useCallback(D=>{O(D)&&D.preventDefault()},[O]),pointerGraceTimerRef:I,onPointerGraceIntentChange:d.useCallback(D=>{P.current=D},[]),children:o.jsx($,{...F,children:o.jsx(Nm,{asChild:!0,trapped:s,onMountAutoFocus:we(i,D=>{var B;D.preventDefault(),(B=C.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(yd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:m,onDismiss:g,children:o.jsx(Pw,{asChild:!0,...N,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:R,onEntryFocus:we(c,D=>{w.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(vx,{role:"menu","aria-orientation":"vertical","data-state":uR(b.open),"data-radix-menu-content":"",dir:w.dir,...x,...y,ref:_,style:{outline:"none",...y.style},onKeyDown:we(y.onKeyDown,D=>{const V=D.target.closest("[data-radix-menu-content]")===D.currentTarget,U=D.ctrlKey||D.altKey||D.metaKey,Q=D.key.length===1;V&&(D.key==="Tab"&&D.preventDefault(),!U&&Q&&W(D.key));const ie=C.current;if(D.target!==ie||!tq.includes(D.key))return;D.preventDefault();const ge=k().filter(J=>!J.disabled).map(J=>J.ref.current);zA.includes(D.key)&&ge.reverse(),Nq(ge)}),onBlur:we(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(S.current),T.current="")}),onPointerMove:we(t.onPointerMove,sd(D=>{const B=D.target,V=G.current!==D.clientX;if(D.currentTarget.contains(B)&&V){const U=D.clientX>G.current?"right":"left";L.current=U,G.current=D.clientX}}))})})})})})})});KA.displayName=Br;var pq="MenuGroup",Hw=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Ve.div,{role:"group",...r,ref:e})});Hw.displayName=pq;var mq="MenuLabel",QA=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Ve.div,{...r,ref:e})});QA.displayName=mq;var sp="MenuItem",$C="menu.itemSelect",Mm=d.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=d.useRef(null),a=Md(sp,t.__scopeMenu),l=zw(sp,t.__scopeMenu),c=ct(e,i),u=d.useRef(!1),h=()=>{const p=i.current;if(!n&&p){const m=new CustomEvent($C,{bubbles:!0,cancelable:!0});p.addEventListener($C,g=>r==null?void 0:r(g),{once:!0}),Dk(p,m),m.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(YA,{...s,ref:c,disabled:n,onClick:we(t.onClick,h),onPointerDown:p=>{var m;(m=t.onPointerDown)==null||m.call(t,p),u.current=!0},onPointerUp:we(t.onPointerUp,p=>{var m;u.current||(m=p.currentTarget)==null||m.click()}),onKeyDown:we(t.onKeyDown,p=>{const m=l.searchRef.current!=="";n||m&&p.key===" "||Yv.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Mm.displayName=sp;var YA=d.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=zw(sp,n),l=HA(n),c=d.useRef(null),u=ct(e,c),[h,p]=d.useState(!1),[m,g]=d.useState("");return d.useEffect(()=>{const v=c.current;v&&g((v.textContent??"").trim())},[i.children]),o.jsx(rd.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:o.jsx(Aw,{asChild:!0,...l,focusable:!r,children:o.jsx(Ve.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:we(t.onPointerMove,sd(v=>{r?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:we(t.onPointerLeave,sd(v=>a.onItemLeave(v))),onFocus:we(t.onFocus,()=>p(!0)),onBlur:we(t.onBlur,()=>p(!1))})})})}),gq="MenuCheckboxItem",ZA=d.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return o.jsx(nR,{scope:t.__scopeMenu,checked:n,children:o.jsx(Mm,{role:"menuitemcheckbox","aria-checked":ip(n)?"mixed":n,...s,ref:e,"data-state":qw(n),onSelect:we(s.onSelect,()=>r==null?void 0:r(ip(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ZA.displayName=gq;var XA="MenuRadioGroup",[yq,vq]=Ia(XA,{value:void 0,onValueChange:()=>{}}),JA=d.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Us(r);return o.jsx(yq,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(Hw,{...s,ref:e})})});JA.displayName=XA;var eR="MenuRadioItem",tR=d.forwardRef((t,e)=>{const{value:n,...r}=t,s=vq(eR,t.__scopeMenu),i=n===s.value;return o.jsx(nR,{scope:t.__scopeMenu,checked:i,children:o.jsx(Mm,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":qw(i),onSelect:we(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});tR.displayName=eR;var Ww="MenuItemIndicator",[nR,xq]=Ia(Ww,{checked:!1}),rR=d.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=xq(Ww,n);return o.jsx(Qr,{present:r||ip(i.checked)||i.checked===!0,children:o.jsx(Ve.span,{...s,ref:e,"data-state":qw(i.checked)})})});rR.displayName=Ww;var wq="MenuSeparator",sR=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});sR.displayName=wq;var bq="MenuArrow",iR=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Lm(n);return o.jsx(xx,{...s,...r,ref:e})});iR.displayName=bq;var Eq="MenuSub",[FZ,oR]=Ia(Eq),Xc="MenuSubTrigger",aR=d.forwardRef((t,e)=>{const n=Ta(Xc,t.__scopeMenu),r=Md(Xc,t.__scopeMenu),s=oR(Xc,t.__scopeMenu),i=zw(Xc,t.__scopeMenu),a=d.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},h=d.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return d.useEffect(()=>h,[h]),d.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),c(null)}},[l,c]),o.jsx($w,{asChild:!0,...u,children:o.jsx(YA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":uR(n.open),...t,ref:Op(e,s.onTriggerChange),onClick:p=>{var m;(m=t.onClick)==null||m.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:we(t.onPointerMove,sd(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:we(t.onPointerLeave,sd(p=>{var g,v;h();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const y=(v=n.content)==null?void 0:v.dataset.side,b=y==="right",w=b?-5:5,x=m[b?"left":"right"],N=m[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+w,y:p.clientY},{x,y:m.top},{x:N,y:m.top},{x:N,y:m.bottom},{x,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:we(t.onKeyDown,p=>{var g;const m=i.searchRef.current!=="";t.disabled||m&&p.key===" "||nq[r.dir].includes(p.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),p.preventDefault())})})})});aR.displayName=Xc;var lR="MenuSubContent",cR=d.forwardRef((t,e)=>{const n=qA(Br,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ta(Br,t.__scopeMenu),a=Md(Br,t.__scopeMenu),l=oR(lR,t.__scopeMenu),c=d.useRef(null),u=ct(e,c);return o.jsx(rd.Provider,{scope:t.__scopeMenu,children:o.jsx(Qr,{present:r||i.open,children:o.jsx(rd.Slot,{scope:t.__scopeMenu,children:o.jsx(Bw,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;a.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:we(t.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:we(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:we(t.onKeyDown,h=>{var g;const p=h.currentTarget.contains(h.target),m=rq[a.dir].includes(h.key);p&&m&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),h.preventDefault())})})})})})});cR.displayName=lR;function uR(t){return t?"open":"closed"}function ip(t){return t==="indeterminate"}function qw(t){return ip(t)?"indeterminate":t?"checked":"unchecked"}function Nq(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Cq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function _q(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=Cq(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Sq(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,h=l.y,p=c.x,m=c.y;h>r!=m>r&&n<(p-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function jq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Sq(n,e)}function sd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var kq=WA,Iq=$w,Tq=GA,Pq=KA,Aq=Hw,Rq=QA,Lq=Mm,Mq=ZA,Dq=JA,Oq=tR,Vq=rR,Fq=sR,$q=iR,Uq=aR,zq=cR,Dm="DropdownMenu",[Bq,$Z]=rr(Dm,[BA]),sr=BA(),[Hq,dR]=Bq(Dm),hR=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=sr(e),u=d.useRef(null),[h,p]=ys({prop:s,defaultProp:i??!1,onChange:a,caller:Dm});return o.jsx(Hq,{scope:e,triggerId:Ur(),triggerRef:u,contentId:Ur(),open:h,onOpenChange:p,onOpenToggle:d.useCallback(()=>p(m=>!m),[p]),modal:l,children:o.jsx(kq,{...c,open:h,onOpenChange:p,dir:r,modal:l,children:n})})};hR.displayName=Dm;var fR="DropdownMenuTrigger",pR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=dR(fR,n),a=sr(n);return o.jsx(Iq,{asChild:!0,...a,children:o.jsx(Ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Op(e,i.triggerRef),onPointerDown:we(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:we(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});pR.displayName=fR;var Wq="DropdownMenuPortal",mR=t=>{const{__scopeDropdownMenu:e,...n}=t,r=sr(e);return o.jsx(Tq,{...r,...n})};mR.displayName=Wq;var gR="DropdownMenuContent",yR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=dR(gR,n),i=sr(n),a=d.useRef(!1);return o.jsx(Pq,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:we(t.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:we(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!s.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yR.displayName=gR;var qq="DropdownMenuGroup",Gq=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(Aq,{...s,...r,ref:e})});Gq.displayName=qq;var Kq="DropdownMenuLabel",vR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(Rq,{...s,...r,ref:e})});vR.displayName=Kq;var Qq="DropdownMenuItem",xR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(Lq,{...s,...r,ref:e})});xR.displayName=Qq;var Yq="DropdownMenuCheckboxItem",wR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(Mq,{...s,...r,ref:e})});wR.displayName=Yq;var Zq="DropdownMenuRadioGroup",Xq=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(Dq,{...s,...r,ref:e})});Xq.displayName=Zq;var Jq="DropdownMenuRadioItem",bR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(Oq,{...s,...r,ref:e})});bR.displayName=Jq;var eG="DropdownMenuItemIndicator",ER=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(Vq,{...s,...r,ref:e})});ER.displayName=eG;var tG="DropdownMenuSeparator",NR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(Fq,{...s,...r,ref:e})});NR.displayName=tG;var nG="DropdownMenuArrow",rG=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx($q,{...s,...r,ref:e})});rG.displayName=nG;var sG="DropdownMenuSubTrigger",CR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(Uq,{...s,...r,ref:e})});CR.displayName=sG;var iG="DropdownMenuSubContent",_R=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(zq,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_R.displayName=iG;var oG=hR,aG=pR,lG=mR,SR=yR,jR=vR,kR=xR,IR=wR,TR=bR,PR=ER,AR=NR,RR=CR,LR=_R;const Yi=oG,Zi=aG,cG=d.forwardRef(({className:t,inset:e,children:n,...r},s)=>o.jsxs(RR,{ref:s,className:De("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(P2,{className:"ml-auto h-4 w-4"})]}));cG.displayName=RR.displayName;const uG=d.forwardRef(({className:t,...e},n)=>o.jsx(LR,{ref:n,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));uG.displayName=LR.displayName;const si=d.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(lG,{children:o.jsx(SR,{ref:r,sideOffset:e,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));si.displayName=SR.displayName;const wt=d.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(kR,{ref:r,className:De("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));wt.displayName=kR.displayName;const dG=d.forwardRef(({className:t,children:e,checked:n,...r},s)=>o.jsxs(IR,{ref:s,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(PR,{children:o.jsx(Pd,{className:"h-4 w-4"})})}),e]}));dG.displayName=IR.displayName;const hG=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(TR,{ref:r,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(PR,{children:o.jsx(A2,{className:"h-2 w-2 fill-current"})})}),e]}));hG.displayName=TR.displayName;const ii=d.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(jR,{ref:r,className:De("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));ii.displayName=jR.displayName;const br=d.forwardRef(({className:t,...e},n)=>o.jsx(AR,{ref:n,className:De("-mx-1 my-1 h-px bg-muted",t),...e}));br.displayName=AR.displayName;function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function fG(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pG(t){var e=fG(t,"string");return id(e)=="symbol"?e:e+""}function ne(t,e,n){return(e=pG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cy,UC;function mG(){if(UC)return cy;UC=1;var t=function(n,r,s,i,a,l,c,u){if(!n){var h;if(r===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[s,i,a,l,c,u],m=0;h=new Error(r.replace(/%s/g,function(){return p[m++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return cy=t,cy}var gG=mG(),vn=MR(gG),Ze=d.createContext(null);function yG(){vn(!!d.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=d.useContext(Ze);return vn(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function vG(t,e,n){return Object.keys(t).reduce(function(s,i){return e(s,t[i],i)},n)}function xG(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function wG(t,e,n,r){var s={},i=(a,l)=>{var c=n[l];c!==e[l]&&(s[l]=c,a(r,c))};return xG(t,i),s}function bG(t,e,n){var r=vG(n,function(i,a,l){return typeof t[l]=="function"&&i.push(google.maps.event.addListener(e,a,t[l])),i},[]);return r}function EG(t){google.maps.event.removeListener(t)}function st(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(EG)}function nt(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:s,instance:i}=t,a=bG(s,i,n);return wG(e,r,s,i),a}var zC={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},BC={extraMapTypes(t,e){e.forEach(function(r,s){t.mapTypes.set(String(s),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function NG(t){var{children:e,options:n,id:r,mapContainerStyle:s,mapContainerClassName:i,center:a,onClick:l,onDblClick:c,onDrag:u,onDragEnd:h,onDragStart:p,onMouseMove:m,onMouseOut:g,onMouseOver:v,onMouseDown:y,onMouseUp:b,onRightClick:w,onCenterChanged:x,onLoad:N,onUnmount:k}=t,[A,R]=d.useState(null),C=d.useRef(null),[_,S]=d.useState(null),[T,I]=d.useState(null),[P,L]=d.useState(null),[G,$]=d.useState(null),[F,W]=d.useState(null),[O,D]=d.useState(null),[B,V]=d.useState(null),[U,Q]=d.useState(null),[ie,q]=d.useState(null),[ge,J]=d.useState(null),[ue,ye]=d.useState(null),[Y,Z]=d.useState(null);return d.useEffect(()=>{n&&A!==null&&A.setOptions(n)},[A,n]),d.useEffect(()=>{A!==null&&typeof a<"u"&&A.setCenter(a)},[A,a]),d.useEffect(()=>{A&&c&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(A,"dblclick",c)))},[c]),d.useEffect(()=>{A&&h&&(P!==null&&google.maps.event.removeListener(P),L(google.maps.event.addListener(A,"dragend",h)))},[h]),d.useEffect(()=>{A&&p&&(G!==null&&google.maps.event.removeListener(G),$(google.maps.event.addListener(A,"dragstart",p)))},[p]),d.useEffect(()=>{A&&y&&(F!==null&&google.maps.event.removeListener(F),W(google.maps.event.addListener(A,"mousedown",y)))},[y]),d.useEffect(()=>{A&&m&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(A,"mousemove",m)))},[m]),d.useEffect(()=>{A&&g&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(A,"mouseout",g)))},[g]),d.useEffect(()=>{A&&v&&(U!==null&&google.maps.event.removeListener(U),Q(google.maps.event.addListener(A,"mouseover",v)))},[v]),d.useEffect(()=>{A&&b&&(ie!==null&&google.maps.event.removeListener(ie),q(google.maps.event.addListener(A,"mouseup",b)))},[b]),d.useEffect(()=>{A&&w&&(ge!==null&&google.maps.event.removeListener(ge),J(google.maps.event.addListener(A,"rightclick",w)))},[w]),d.useEffect(()=>{A&&l&&(ue!==null&&google.maps.event.removeListener(ue),ye(google.maps.event.addListener(A,"click",l)))},[l]),d.useEffect(()=>{A&&u&&(Y!==null&&google.maps.event.removeListener(Y),Z(google.maps.event.addListener(A,"drag",u)))},[u]),d.useEffect(()=>{A&&x&&(_!==null&&google.maps.event.removeListener(_),S(google.maps.event.addListener(A,"center_changed",x)))},[l]),d.useEffect(()=>{var te=C.current===null?null:new google.maps.Map(C.current,n);return R(te),te!==null&&N&&N(te),()=>{te!==null&&k&&k(te)}},[]),o.jsx("div",{id:r,ref:C,style:s,className:i,children:o.jsx(Ze.Provider,{value:A,children:A!==null?e:null})})}d.memo(NG);class DR extends d.PureComponent{constructor(){super(...arguments),ne(this,"state",{map:null}),ne(this,"registeredEvents",[]),ne(this,"mapRef",null),ne(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),ne(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),ne(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),ne(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=nt({updaterMap:BC,eventMap:zC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:BC,eventMap:zC,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),st(this.registeredEvents))}render(){return o.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:o.jsx(Ze.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function HC(t,e,n,r,s,i,a){try{var l=t[i](a),c=l.value}catch(u){return void n(u)}l.done?e(c):Promise.resolve(c).then(r,s)}function OR(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function a(c){HC(i,r,s,a,l,"next",c)}function l(c){HC(i,r,s,a,l,"throw",c)}a(void 0)})}}function VR(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:s,region:i,libraries:a,channel:l,mapIds:c,authReferrerPolicy:u,apiUrl:h="https://maps.googleapis.com"}=t,p=[];return vn(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?p.push("key=".concat(e)):n&&p.push("client=".concat(n)),r&&p.push("v=".concat(r)),s&&p.push("language=".concat(s)),i&&p.push("region=".concat(i)),a&&a.length&&p.push("libraries=".concat(a.sort().join(","))),l&&p.push("channel=".concat(l)),c&&c.length&&p.push("map_ids=".concat(c.join(","))),u&&p.push("auth_referrer_policy=".concat(u)),p.push("loading=async"),p.push("callback=initMap"),"".concat(h,"/maps/api/js?").concat(p.join("&"))}var Xi=typeof document<"u";function FR(t){var{url:e,id:n,nonce:r}=t;return Xi?new Promise(function(i,a){var l=document.getElementById(n),c=window;if(l){var u=l.getAttribute("data-state");if(l.src===e&&u!=="error"){if(u==="ready")return i(n);var h=c.initMap,p=l.onerror;c.initMap=function(){h&&h(),i(n)},l.onerror=function(g){p&&p(g),a(g)};return}else l.remove()}var m=document.createElement("script");m.type="text/javascript",m.src=e,m.id=n,m.async=!0,m.nonce=r||"",m.onerror=function(v){m.setAttribute("data-state","error"),a(v)},c.initMap=function(){m.setAttribute("data-state","ready"),i(n)},document.head.appendChild(m)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function WC(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function Gw(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(s,i){return WC(s)||Reflect.apply(e,t,[s,i]),s};var n=t.appendChild.bind(t);t.appendChild=function(s){return WC(s)||Reflect.apply(n,t,[s]),s}}}var Dc=!1;function $R(){return o.jsx("div",{children:"Loading..."})}var od={id:"script-loader",version:"weekly"};class CG extends d.PureComponent{constructor(){super(...arguments),ne(this,"check",null),ne(this,"state",{loaded:!1}),ne(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),ne(this,"isCleaningUp",OR(function*(){function e(n){if(!Dc)n();else if(Xi)var r=window.setInterval(function(){Dc||(window.clearInterval(r),n())},1)}return new Promise(e)})),ne(this,"cleanup",()=>{Dc=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),ne(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Gw(),vn(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:VR(this.props)};FR(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),ne(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Xi){if(window.google&&window.google.maps&&!Dc){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Xi&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Xi){this.cleanup();var e=()=>{this.check||(delete window.google,Dc=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||o.jsx($R,{})]})}}ne(CG,"defaultProps",od);function _G(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Kw(t,e){if(t==null)return{};var n,r,s=_G(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var qC;function SG(t){var{id:e=od.id,version:n=od.version,nonce:r,googleMapsApiKey:s,googleMapsClientId:i,language:a,region:l,libraries:c,preventGoogleFontsLoading:u,channel:h,mapIds:p,authReferrerPolicy:m,apiUrl:g="https://maps.googleapis.com"}=t,v=d.useRef(!1),[y,b]=d.useState(!1),[w,x]=d.useState(void 0);d.useEffect(function(){return v.current=!0,()=>{v.current=!1}},[]),d.useEffect(function(){Xi&&u&&Gw()},[u]),d.useEffect(function(){y&&vn(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[y]);var N=VR({version:n,googleMapsApiKey:s,googleMapsClientId:i,language:a,region:l,libraries:c,channel:h,mapIds:p,authReferrerPolicy:m,apiUrl:g});d.useEffect(function(){if(!Xi)return;function R(){v.current&&(b(!0),qC=N)}if(window.google&&window.google.maps&&qC===N){R();return}FR({id:e,url:N,nonce:r}).then(R).catch(function(_){v.current&&x(_),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(i||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(_)})},[e,N,r]);var k=d.useRef(void 0);return d.useEffect(function(){k.current&&c!==k.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),k.current=c},[c]),{isLoaded:y,loadError:w,url:N}}var jG=["loadingElement","onLoad","onError","onUnmount","children"],kG=o.jsx($R,{});function IG(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:s,children:i}=t,a=Kw(t,jG),{isLoaded:l,loadError:c}=SG(a);return d.useEffect(function(){l&&typeof n=="function"&&n()},[l,n]),d.useEffect(function(){c&&typeof r=="function"&&r(c)},[c,r]),d.useEffect(function(){return()=>{s&&s()}},[s]),l?i:e||kG}d.memo(IG);function TG(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(p){a(p)}}function c(h){try{u(r.throw(h))}catch(p){a(p)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,[])).next())})}function PG(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var AG=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},RG=PG(AG),GC="__googleMapsScriptId",tl;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(tl||(tl={}));class Fo{constructor(e){var{apiKey:n,authReferrerPolicy:r,channel:s,client:i,id:a=GC,language:l,libraries:c=[],mapIds:u,nonce:h,region:p,retries:m=3,url:g="https://maps.googleapis.com/maps/api/js",version:v}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=s,this.client=i,this.id=a||GC,this.language=l,this.libraries=c,this.mapIds=u,this.nonce=h,this.region=p,this.retries=m,this.url=g,this.version=v,Fo.instance){if(!RG(this.options,Fo.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Fo.instance.options)));return Fo.instance}Fo.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?tl.FAILURE:this.done?tl.SUCCESS:this.loading?tl.LOADING:tl.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(i=>!r[i]&&delete r[i]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(i=>{var a,l,c,u="The Google Maps JavaScript API",h="google",p="importLibrary",m="__ib__",g=document,v=window;v=v[h]||(v[h]={});var y=v.maps||(v.maps={}),b=new Set,w=new URLSearchParams,x=()=>a||(a=new Promise((N,k)=>TG(this,void 0,void 0,function*(){var A;yield l=g.createElement("script"),l.id=this.id,w.set("libraries",[...b]+"");for(c in i)w.set(c.replace(/[A-Z]/g,R=>"_"+R[0].toLowerCase()),i[c]);w.set("callback",h+".maps."+m),l.src=this.url+"?"+w,y[m]=N,l.onerror=()=>a=k(Error(u+" could not load.")),l.nonce=this.nonce||((A=g.querySelector("script[nonce]"))===null||A===void 0?void 0:A.nonce)||"",g.head.append(l)})));y[p]?console.warn(u+" only loads once. Ignoring:",i):y[p]=function(N){for(var k=arguments.length,A=new Array(k>1?k-1:0),R=1;R<k;R++)A[R-1]=arguments[R];return b.add(N)&&x().then(()=>y[p](N,...A))}})(r);var s=this.libraries.map(i=>this.importLibrary(i));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),i=>{var a=new ErrorEvent("error",{error:i});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var LG=["maps"];function UR(t){var{id:e=od.id,version:n=od.version,nonce:r,googleMapsApiKey:s,language:i,region:a,libraries:l=LG,preventGoogleFontsLoading:c,mapIds:u,authReferrerPolicy:h}=t,p=d.useRef(!1),[m,g]=d.useState(!1),[v,y]=d.useState(void 0);d.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]);var b=d.useMemo(()=>new Fo({id:e,apiKey:s,version:n,libraries:l,language:i||"en",region:a||"US",mapIds:u||[],nonce:r||"",authReferrerPolicy:h||"origin"}),[e,s,n,l,i,a,u,r,h]);d.useEffect(function(){m||b.load().then(()=>{p.current&&g(!0)}).catch(N=>{y(N)})},[]),d.useEffect(()=>{Xi&&c&&Gw()},[c]);var w=d.useRef();return d.useEffect(()=>{w.current&&l!==w.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),w.current=l},[l]),{isLoaded:m,loadError:v}}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var QC={},YC={options(t,e){t.setOptions(e)}};function MG(t){var{options:e,onLoad:n,onUnmount:r}=t,s=d.useContext(Ze),[i,a]=d.useState(null);return d.useEffect(()=>{i!==null&&i.setMap(s)},[s]),d.useEffect(()=>{e&&i!==null&&i.setOptions(e)},[i,e]),d.useEffect(()=>{var l=new google.maps.TrafficLayer(op(op({},e),{},{map:s}));return a(l),n&&n(l),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}d.memo(MG);class DG extends d.PureComponent{constructor(){super(...arguments),ne(this,"state",{trafficLayer:null}),ne(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),ne(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(op(op({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:YC,eventMap:QC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:YC,eventMap:QC,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),st(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}ne(DG,"contextType",Ze);function OG(t){var{onLoad:e,onUnmount:n}=t,r=d.useContext(Ze),[s,i]=d.useState(null);return d.useEffect(()=>{s!==null&&s.setMap(r)},[r]),d.useEffect(()=>{var a=new google.maps.BicyclingLayer;return i(a),a.setMap(r),e&&e(a),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}d.memo(OG);class VG extends d.PureComponent{constructor(){super(...arguments),ne(this,"state",{bicyclingLayer:null}),ne(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}ne(VG,"contextType",Ze);function FG(t){var{onLoad:e,onUnmount:n}=t,r=d.useContext(Ze),[s,i]=d.useState(null);return d.useEffect(()=>{s!==null&&s.setMap(r)},[r]),d.useEffect(()=>{var a=new google.maps.TransitLayer;return i(a),a.setMap(r),e&&e(a),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}d.memo(FG);class $G extends d.PureComponent{constructor(){super(...arguments),ne(this,"state",{transitLayer:null}),ne(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}ne($G,"contextType",Ze);function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ap(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var XC={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},JC={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function UG(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:s,onOverlayComplete:i,onPolygonComplete:a,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:h}=t,p=d.useContext(Ze),[m,g]=d.useState(null),[v,y]=d.useState(null),[b,w]=d.useState(null),[x,N]=d.useState(null),[k,A]=d.useState(null),[R,C]=d.useState(null),[_,S]=d.useState(null);return d.useEffect(()=>{m!==null&&m.setMap(p)},[p]),d.useEffect(()=>{e&&m!==null&&m.setOptions(e)},[m,e]),d.useEffect(()=>{m!==null&&m.setDrawingMode(n??null)},[m,n]),d.useEffect(()=>{m&&r&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(m,"circlecomplete",r)))},[m,r]),d.useEffect(()=>{m&&s&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(m,"markercomplete",s)))},[m,s]),d.useEffect(()=>{m&&i&&(x!==null&&google.maps.event.removeListener(x),N(google.maps.event.addListener(m,"overlaycomplete",i)))},[m,i]),d.useEffect(()=>{m&&a&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(m,"polygoncomplete",a)))},[m,a]),d.useEffect(()=>{m&&l&&(R!==null&&google.maps.event.removeListener(R),C(google.maps.event.addListener(m,"polylinecomplete",l)))},[m,l]),d.useEffect(()=>{m&&c&&(_!==null&&google.maps.event.removeListener(_),S(google.maps.event.addListener(m,"rectanglecomplete",c)))},[m,c]),d.useEffect(()=>{vn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var T=new google.maps.drawing.DrawingManager(ap(ap({},e),{},{map:p}));return n&&T.setDrawingMode(n),r&&y(google.maps.event.addListener(T,"circlecomplete",r)),s&&w(google.maps.event.addListener(T,"markercomplete",s)),i&&N(google.maps.event.addListener(T,"overlaycomplete",i)),a&&A(google.maps.event.addListener(T,"polygoncomplete",a)),l&&C(google.maps.event.addListener(T,"polylinecomplete",l)),c&&S(google.maps.event.addListener(T,"rectanglecomplete",c)),g(T),u&&u(T),()=>{m!==null&&(v&&google.maps.event.removeListener(v),b&&google.maps.event.removeListener(b),x&&google.maps.event.removeListener(x),k&&google.maps.event.removeListener(k),R&&google.maps.event.removeListener(R),_&&google.maps.event.removeListener(_),h&&h(m),m.setMap(null))}},[]),null}d.memo(UG);class zG extends d.PureComponent{constructor(e){super(e),ne(this,"registeredEvents",[]),ne(this,"state",{drawingManager:null}),ne(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),vn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(ap(ap({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:JC,eventMap:XC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:JC,eventMap:XC,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),st(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}ne(zG,"contextType",Ze);function e_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var t_={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},n_={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},lp={};function BG(t){var{position:e,options:n,clusterer:r,noClustererRedraw:s,children:i,draggable:a,visible:l,animation:c,clickable:u,cursor:h,icon:p,label:m,opacity:g,shape:v,title:y,zIndex:b,onClick:w,onDblClick:x,onDrag:N,onDragEnd:k,onDragStart:A,onMouseOut:R,onMouseOver:C,onMouseUp:_,onMouseDown:S,onRightClick:T,onClickableChanged:I,onCursorChanged:P,onAnimationChanged:L,onDraggableChanged:G,onFlatChanged:$,onIconChanged:F,onPositionChanged:W,onShapeChanged:O,onTitleChanged:D,onVisibleChanged:B,onZindexChanged:V,onLoad:U,onUnmount:Q}=t,ie=d.useContext(Ze),[q,ge]=d.useState(null),[J,ue]=d.useState(null),[ye,Y]=d.useState(null),[Z,te]=d.useState(null),[ve,Me]=d.useState(null),[ee,Ae]=d.useState(null),[qe,Ct]=d.useState(null),[tt,ot]=d.useState(null),[Be,fe]=d.useState(null),[re,pe]=d.useState(null),[je,ae]=d.useState(null),[Ee,Ie]=d.useState(null),[ht,kt]=d.useState(null),[It,At]=d.useState(null),[Mt,Bt]=d.useState(null),[Xe,Je]=d.useState(null),[Zt,ce]=d.useState(null),[Se,He]=d.useState(null),[mt,Ht]=d.useState(null),[ut,Tt]=d.useState(null),[Re,Qe]=d.useState(null),[rt,Xt]=d.useState(null);d.useEffect(()=>{q!==null&&q.setMap(ie)},[ie]),d.useEffect(()=>{typeof n<"u"&&q!==null&&q.setOptions(n)},[q,n]),d.useEffect(()=>{typeof a<"u"&&q!==null&&q.setDraggable(a)},[q,a]),d.useEffect(()=>{e&&q!==null&&q.setPosition(e)},[q,e]),d.useEffect(()=>{typeof l<"u"&&q!==null&&q.setVisible(l)},[q,l]),d.useEffect(()=>{q==null||q.setAnimation(c)},[q,c]),d.useEffect(()=>{q&&u!==void 0&&q.setClickable(u)},[q,u]),d.useEffect(()=>{q&&h!==void 0&&q.setCursor(h)},[q,h]),d.useEffect(()=>{q&&p!==void 0&&q.setIcon(p)},[q,p]),d.useEffect(()=>{q&&m!==void 0&&q.setLabel(m)},[q,m]),d.useEffect(()=>{q&&g!==void 0&&q.setOpacity(g)},[q,g]),d.useEffect(()=>{q&&v!==void 0&&q.setShape(v)},[q,v]),d.useEffect(()=>{q&&y!==void 0&&q.setTitle(y)},[q,y]),d.useEffect(()=>{q&&b!==void 0&&q.setZIndex(b)},[q,b]),d.useEffect(()=>{q&&x&&(J!==null&&google.maps.event.removeListener(J),ue(google.maps.event.addListener(q,"dblclick",x)))},[x]),d.useEffect(()=>{q&&k&&(ye!==null&&google.maps.event.removeListener(ye),Y(google.maps.event.addListener(q,"dragend",k)))},[k]),d.useEffect(()=>{q&&A&&(Z!==null&&google.maps.event.removeListener(Z),te(google.maps.event.addListener(q,"dragstart",A)))},[A]),d.useEffect(()=>{q&&S&&(ve!==null&&google.maps.event.removeListener(ve),Me(google.maps.event.addListener(q,"mousedown",S)))},[S]),d.useEffect(()=>{q&&R&&(ee!==null&&google.maps.event.removeListener(ee),Ae(google.maps.event.addListener(q,"mouseout",R)))},[R]),d.useEffect(()=>{q&&C&&(qe!==null&&google.maps.event.removeListener(qe),Ct(google.maps.event.addListener(q,"mouseover",C)))},[C]),d.useEffect(()=>{q&&_&&(tt!==null&&google.maps.event.removeListener(tt),ot(google.maps.event.addListener(q,"mouseup",_)))},[_]),d.useEffect(()=>{q&&T&&(Be!==null&&google.maps.event.removeListener(Be),fe(google.maps.event.addListener(q,"rightclick",T)))},[T]),d.useEffect(()=>{q&&w&&(re!==null&&google.maps.event.removeListener(re),pe(google.maps.event.addListener(q,"click",w)))},[w]),d.useEffect(()=>{q&&N&&(je!==null&&google.maps.event.removeListener(je),ae(google.maps.event.addListener(q,"drag",N)))},[N]),d.useEffect(()=>{q&&I&&(Ee!==null&&google.maps.event.removeListener(Ee),Ie(google.maps.event.addListener(q,"clickable_changed",I)))},[I]),d.useEffect(()=>{q&&P&&(ht!==null&&google.maps.event.removeListener(ht),kt(google.maps.event.addListener(q,"cursor_changed",P)))},[P]),d.useEffect(()=>{q&&L&&(It!==null&&google.maps.event.removeListener(It),At(google.maps.event.addListener(q,"animation_changed",L)))},[L]),d.useEffect(()=>{q&&G&&(Mt!==null&&google.maps.event.removeListener(Mt),Bt(google.maps.event.addListener(q,"draggable_changed",G)))},[G]),d.useEffect(()=>{q&&$&&(Xe!==null&&google.maps.event.removeListener(Xe),Je(google.maps.event.addListener(q,"flat_changed",$)))},[$]),d.useEffect(()=>{q&&F&&(Zt!==null&&google.maps.event.removeListener(Zt),ce(google.maps.event.addListener(q,"icon_changed",F)))},[F]),d.useEffect(()=>{q&&W&&(Se!==null&&google.maps.event.removeListener(Se),He(google.maps.event.addListener(q,"position_changed",W)))},[W]),d.useEffect(()=>{q&&O&&(mt!==null&&google.maps.event.removeListener(mt),Ht(google.maps.event.addListener(q,"shape_changed",O)))},[O]),d.useEffect(()=>{q&&D&&(ut!==null&&google.maps.event.removeListener(ut),Tt(google.maps.event.addListener(q,"title_changed",D)))},[D]),d.useEffect(()=>{q&&B&&(Re!==null&&google.maps.event.removeListener(Re),Qe(google.maps.event.addListener(q,"visible_changed",B)))},[B]),d.useEffect(()=>{q&&V&&(rt!==null&&google.maps.event.removeListener(rt),Xt(google.maps.event.addListener(q,"zindex_changed",V)))},[V]),d.useEffect(()=>{var gt=vl(vl(vl({},n||lp),r?lp:{map:ie}),{},{position:e}),be=new google.maps.Marker(gt);return r?r.addMarker(be,!!s):be.setMap(ie),e&&be.setPosition(e),typeof l<"u"&&be.setVisible(l),typeof a<"u"&&be.setDraggable(a),typeof u<"u"&&be.setClickable(u),typeof h=="string"&&be.setCursor(h),p&&be.setIcon(p),typeof m<"u"&&be.setLabel(m),typeof g<"u"&&be.setOpacity(g),v&&be.setShape(v),typeof y=="string"&&be.setTitle(y),typeof b=="number"&&be.setZIndex(b),x&&ue(google.maps.event.addListener(be,"dblclick",x)),k&&Y(google.maps.event.addListener(be,"dragend",k)),A&&te(google.maps.event.addListener(be,"dragstart",A)),S&&Me(google.maps.event.addListener(be,"mousedown",S)),R&&Ae(google.maps.event.addListener(be,"mouseout",R)),C&&Ct(google.maps.event.addListener(be,"mouseover",C)),_&&ot(google.maps.event.addListener(be,"mouseup",_)),T&&fe(google.maps.event.addListener(be,"rightclick",T)),w&&pe(google.maps.event.addListener(be,"click",w)),N&&ae(google.maps.event.addListener(be,"drag",N)),I&&Ie(google.maps.event.addListener(be,"clickable_changed",I)),P&&kt(google.maps.event.addListener(be,"cursor_changed",P)),L&&At(google.maps.event.addListener(be,"animation_changed",L)),G&&Bt(google.maps.event.addListener(be,"draggable_changed",G)),$&&Je(google.maps.event.addListener(be,"flat_changed",$)),F&&ce(google.maps.event.addListener(be,"icon_changed",F)),W&&He(google.maps.event.addListener(be,"position_changed",W)),O&&Ht(google.maps.event.addListener(be,"shape_changed",O)),D&&Tt(google.maps.event.addListener(be,"title_changed",D)),B&&Qe(google.maps.event.addListener(be,"visible_changed",B)),V&&Xt(google.maps.event.addListener(be,"zindex_changed",V)),ge(be),U&&U(be),()=>{J!==null&&google.maps.event.removeListener(J),ye!==null&&google.maps.event.removeListener(ye),Z!==null&&google.maps.event.removeListener(Z),ve!==null&&google.maps.event.removeListener(ve),ee!==null&&google.maps.event.removeListener(ee),qe!==null&&google.maps.event.removeListener(qe),tt!==null&&google.maps.event.removeListener(tt),Be!==null&&google.maps.event.removeListener(Be),re!==null&&google.maps.event.removeListener(re),Ee!==null&&google.maps.event.removeListener(Ee),ht!==null&&google.maps.event.removeListener(ht),It!==null&&google.maps.event.removeListener(It),Mt!==null&&google.maps.event.removeListener(Mt),Xe!==null&&google.maps.event.removeListener(Xe),Zt!==null&&google.maps.event.removeListener(Zt),Se!==null&&google.maps.event.removeListener(Se),ut!==null&&google.maps.event.removeListener(ut),Re!==null&&google.maps.event.removeListener(Re),rt!==null&&google.maps.event.removeListener(rt),Q&&Q(be),r?r.removeMarker(be,!!s):be&&be.setMap(null)}},[]);var xn=d.useMemo(()=>i?d.Children.map(i,gt=>{if(!d.isValidElement(gt))return gt;var be=gt;return d.cloneElement(be,{anchor:q})}):null,[i,q]);return o.jsx(o.Fragment,{children:xn})||null}d.memo(BG);class cp extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this;return OR(function*(){var n=vl(vl(vl({},e.props.options||lp),e.props.clusterer?lp:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=nt({updaterMap:n_,eventMap:t_,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:n_,eventMap:t_,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),st(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?d.Children.map(this.props.children,n=>{if(!d.isValidElement(n))return n;var r=n;return d.cloneElement(r,{anchor:this.marker})}):null;return e||null}}ne(cp,"contextType",Ze);var HG=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),s=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(s),this.timeOut=window.setTimeout(function(){var a=n.getMap();if(a!==null){"fitBounds"in a&&a.fitBounds(s);var l=a.getZoom()||0;r!==null&&l>r&&a.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,s,i,a;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),u=parseInt(((e=c[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((n=c[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),p=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(p!==null?"".concat(p.y,"px"):"0","; left: ").concat(p!==null?"".concat(p.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var m=document.createElement("img");m.alt=l,m.src=this.url,m.width=this.width,m.height=this.height,m.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(m.style.clip="rect(-".concat(h,"px, -").concat(u+this.width,"px, -").concat(h+this.height,", -").concat(u,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(g.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(g.innerHTML="".concat((a=this.sums)===null||a===void 0?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(m),this.div.appendChild(g),this.div.title=l,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),WG=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new HG(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,s=n;r<s.length;r++){var i=s[r],a=i.getPosition();a&&e.extend(a)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+r.lat())/s,(this.center.lng()*(s-1)+r.lng())/s),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var i=this.markers.length,a=this.markerClusterer.getMaxZoom(),l=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(a!==null&&typeof l<"u"&&l>a)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var c=0,u=this.markers;c<u.length;c++){var h=u[c];h.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof s<"u"&&s>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function qG(t,e){var n=t.length,r=n.toString().length,s=Math.min(r,e);return{text:n.toString(),index:s,title:""}}var GG=2e3,KG=500,QG="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",YG="png",ZG=[53,56,66,78,90],XG="cluster",zR=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||QG,this.imageExtension=r.imageExtension||YG,this.imageSizes=r.imageSizes||ZG,this.calculator=r.calculator||qG,this.batchSize=r.batchSize||GG,this.batchSizeIE=r.batchSizeIE||KG,this.clusterClass=r.clusterClass||XG,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var s=0,i=this.clusters;s<i.length;s++){var a=i[s];a.remove()}this.clusters=[];for(var l=0,c=this.listeners;l<c.length;l++){var u=c[l];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,s=e;r<s.length;r++){var i=s[r],a=i.getPosition();a&&n.extend(a)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];s&&this.pushMarkerTo(s)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,s=0,i=e;s<i.length;s++){var a=i[s];r=r||this.removeMarker_(a)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,s=e;r<s.length;r++){var i=s[r];i.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&e.extend(i)}if(s!==null){var a=n.fromDivPixelToLatLng(s);a!==null&&e.extend(a)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var s=r[n];s.remove()}this.clusters=[];for(var i=0,a=this.markers;i<a.length;i++){var l=a[i];l.isAdded=!1,e&&l.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,s=(n.lat()-e.lat())*Math.PI/180,i=(n.lng()-e.lng())*Math.PI/180,a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return r*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,s=null,i=0,a=this.clusters;i<a.length;i++){var l=a[i];n=l;var c=n.getCenter(),u=e.getPosition();if(c&&u){var h=this.distanceBetweenPoints(c,u);h<r&&(r=h,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new WG(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),s=r!==null&&("getBounds"in r)?r.getBounds():null,i=(r==null?void 0:r.getZoom())||0,a=i>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(a),c=Math.min(e+this.batchSize,this.markers.length),u=e;u<c;u++){var h=this.markers[u];h&&!h.isAdded&&this.isMarkerInBounds(h,l)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var p=0,m=this.clusters;p<m.length;p++){var g=m[p];g.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype){var a=i;this.prototype[a]=s.prototype[a]}return this}).apply(e,[n])},t}();function r_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function JG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Lr={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},xt={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},eK={};function tK(t){var{children:e,options:n,averageCenter:r,batchSizeIE:s,calculator:i,clusterClass:a,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:h,imagePath:p,imageSizes:m,maxZoom:g,minimumClusterSize:v,styles:y,title:b,zoomOnClick:w,onClick:x,onClusteringBegin:N,onClusteringEnd:k,onMouseOver:A,onMouseOut:R,onLoad:C,onUnmount:_}=t,[S,T]=d.useState(null),I=d.useContext(Ze),[P,L]=d.useState(null),[G,$]=d.useState(null),[F,W]=d.useState(null),[O,D]=d.useState(null),[B,V]=d.useState(null);return d.useEffect(()=>{S&&R&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(S,Lr.onMouseOut,R)))},[R]),d.useEffect(()=>{S&&A&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(S,Lr.onMouseOver,A)))},[A]),d.useEffect(()=>{S&&x&&(P!==null&&google.maps.event.removeListener(P),L(google.maps.event.addListener(S,Lr.onClick,x)))},[x]),d.useEffect(()=>{S&&N&&(G!==null&&google.maps.event.removeListener(G),$(google.maps.event.addListener(S,Lr.onClusteringBegin,N)))},[N]),d.useEffect(()=>{S&&k&&(F!==null&&google.maps.event.removeListener(F),$(google.maps.event.addListener(S,Lr.onClusteringEnd,k)))},[k]),d.useEffect(()=>{typeof r<"u"&&S!==null&&xt.averageCenter(S,r)},[S,r]),d.useEffect(()=>{typeof s<"u"&&S!==null&&xt.batchSizeIE(S,s)},[S,s]),d.useEffect(()=>{typeof i<"u"&&S!==null&&xt.calculator(S,i)},[S,i]),d.useEffect(()=>{typeof a<"u"&&S!==null&&xt.clusterClass(S,a)},[S,a]),d.useEffect(()=>{typeof l<"u"&&S!==null&&xt.enableRetinaIcons(S,l)},[S,l]),d.useEffect(()=>{typeof c<"u"&&S!==null&&xt.gridSize(S,c)},[S,c]),d.useEffect(()=>{typeof u<"u"&&S!==null&&xt.ignoreHidden(S,u)},[S,u]),d.useEffect(()=>{typeof h<"u"&&S!==null&&xt.imageExtension(S,h)},[S,h]),d.useEffect(()=>{typeof p<"u"&&S!==null&&xt.imagePath(S,p)},[S,p]),d.useEffect(()=>{typeof m<"u"&&S!==null&&xt.imageSizes(S,m)},[S,m]),d.useEffect(()=>{typeof g<"u"&&S!==null&&xt.maxZoom(S,g)},[S,g]),d.useEffect(()=>{typeof v<"u"&&S!==null&&xt.minimumClusterSize(S,v)},[S,v]),d.useEffect(()=>{typeof y<"u"&&S!==null&&xt.styles(S,y)},[S,y]),d.useEffect(()=>{typeof b<"u"&&S!==null&&xt.title(S,b)},[S,b]),d.useEffect(()=>{typeof w<"u"&&S!==null&&xt.zoomOnClick(S,w)},[S,w]),d.useEffect(()=>{if(I){var U=JG({},n||eK),Q=new zR(I,[],U);return r&&xt.averageCenter(Q,r),s&&xt.batchSizeIE(Q,s),i&&xt.calculator(Q,i),a&&xt.clusterClass(Q,a),l&&xt.enableRetinaIcons(Q,l),c&&xt.gridSize(Q,c),u&&xt.ignoreHidden(Q,u),h&&xt.imageExtension(Q,h),p&&xt.imagePath(Q,p),m&&xt.imageSizes(Q,m),g&&xt.maxZoom(Q,g),v&&xt.minimumClusterSize(Q,v),y&&xt.styles(Q,y),b&&xt.title(Q,b),w&&xt.zoomOnClick(Q,w),R&&D(google.maps.event.addListener(Q,Lr.onMouseOut,R)),A&&V(google.maps.event.addListener(Q,Lr.onMouseOver,A)),x&&L(google.maps.event.addListener(Q,Lr.onClick,x)),N&&$(google.maps.event.addListener(Q,Lr.onClusteringBegin,N)),k&&W(google.maps.event.addListener(Q,Lr.onClusteringEnd,k)),T(Q),C&&C(Q),()=>{O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),P!==null&&google.maps.event.removeListener(P),G!==null&&google.maps.event.removeListener(G),F!==null&&google.maps.event.removeListener(F),_&&_(Q)}}},[]),S!==null&&e(S)||null}d.memo(tK);class nK extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{markerClusterer:null}),ne(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new zR(this.context,[],this.props.options);this.registeredEvents=nt({updaterMap:xt,eventMap:Lr,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:xt,eventMap:Lr,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),st(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}ne(nK,"contextType",Ze);function s_(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var BR=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(h){h.returnValue=!1,h.preventDefault&&h.preventDefault(),e.enableEventPropagation||s_(h)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0,l=i;a<l.length;a++){var c=l[a];this.eventListeners.push(google.maps.event.addListener(this.div,c,s_))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,s=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var a=n.getDiv(),l=a.offsetWidth,c=a.offsetHeight,u=this.pixelOffset.width,h=this.pixelOffset.height,p=this.div.offsetWidth,m=this.div.offsetHeight,g=this.infoBoxClearance.width,v=this.infoBoxClearance.height,y=this.getProjection(),b=y.fromLatLngToContainerPixel(this.position);b!==null&&(b.x<-u+g?r=b.x+u-g:b.x+p+u+g>l&&(r=b.x+p+u+g-l),this.alignBottom?b.y<-h+v+m?s=b.y+h-v-m:b.y+h+v>c&&(s=b.y+h+v-c):b.y<-h+v?s=b.y+h-v:b.y+m+h+v>c&&(s=b.y+m+h+v-c)),r===0&&s===0||n.panBy(r,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();r.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=s.prototype[i]);return this}).apply(e,[n])},t}(),rK=["position"],sK=["position"];function i_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var o_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},a_={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},iK={};function oK(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:h,onLoad:p,onUnmount:m}=t,g=d.useContext(Ze),[v,y]=d.useState(null),[b,w]=d.useState(null),[x,N]=d.useState(null),[k,A]=d.useState(null),[R,C]=d.useState(null),[_,S]=d.useState(null),T=d.useRef(null);return d.useEffect(()=>{g&&v!==null&&(v.close(),n?v.open(g,n):v.getPosition()&&v.open(g))},[g,v,n]),d.useEffect(()=>{r&&v!==null&&v.setOptions(r)},[v,r]),d.useEffect(()=>{if(s&&v!==null){var I=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);v.setPosition(I)}},[s]),d.useEffect(()=>{typeof i=="number"&&v!==null&&v.setZIndex(i)},[i]),d.useEffect(()=>{v&&a&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(v,"closeclick",a)))},[a]),d.useEffect(()=>{v&&l&&(x!==null&&google.maps.event.removeListener(x),N(google.maps.event.addListener(v,"domready",l)))},[l]),d.useEffect(()=>{v&&c&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(v,"content_changed",c)))},[c]),d.useEffect(()=>{v&&u&&(R!==null&&google.maps.event.removeListener(R),C(google.maps.event.addListener(v,"position_changed",u)))},[u]),d.useEffect(()=>{v&&h&&(_!==null&&google.maps.event.removeListener(_),S(google.maps.event.addListener(v,"zindex_changed",h)))},[h]),d.useEffect(()=>{if(g){var I=r||iK,{position:P}=I,L=Kw(I,rK),G;P&&!(P instanceof google.maps.LatLng)&&(G=new google.maps.LatLng(P.lat,P.lng));var $=new BR(up(up({},L),G?{position:G}:{}));T.current=document.createElement("div"),y($),a&&w(google.maps.event.addListener($,"closeclick",a)),l&&N(google.maps.event.addListener($,"domready",l)),c&&A(google.maps.event.addListener($,"content_changed",c)),u&&C(google.maps.event.addListener($,"position_changed",u)),h&&S(google.maps.event.addListener($,"zindex_changed",h)),$.setContent(T.current),n?$.open(g,n):$.getPosition()?$.open(g):vn(!1,"You must provide either an anchor or a position prop for <InfoBox>."),p&&p($)}return()=>{v!==null&&(b&&google.maps.event.removeListener(b),k&&google.maps.event.removeListener(k),x&&google.maps.event.removeListener(x),R&&google.maps.event.removeListener(R),_&&google.maps.event.removeListener(_),m&&m(v),v.close())}},[]),T.current?Kr.createPortal(d.Children.only(e),T.current):null}d.memo(oK);class aK extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoBox:null}),ne(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):vn(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),ne(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=Kw(e,sK),s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));var i=new BR(up(up({},r),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=nt({updaterMap:a_,eventMap:o_,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:a_,eventMap:o_,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),st(this.registeredEvents),n.close())}render(){return this.containerElement?Kr.createPortal(d.Children.only(this.props.children),this.containerElement):null}}ne(aK,"contextType",Ze);var uy,l_;function lK(){return l_||(l_=1,uy=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),uy}var cK=lK(),c_=MR(cK),u_=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],dy=1,Oc=8;class Qw{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=r>>4;if(s!==dy)throw new Error("Got v".concat(s," data when expected v").concat(dy,"."));var i=u_[r&15];if(!i)throw new Error("Unrecognized array type.");var[a]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new Qw(l,a,i,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=u_.indexOf(this.ArrayType),a=e*2*this.ArrayType.BYTES_PER_ELEMENT,l=e*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-l%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(r,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,Oc,e),this.coords=new this.ArrayType(this.data,Oc+l+c,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Oc+a+l+c),this.ids=new this.IndexArrayType(this.data,Oc,e),this.coords=new this.ArrayType(this.data,Oc+l+c,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(dy<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Zv(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:a,nodeSize:l}=this,c=[0,i.length-1,0],u=[];c.length;){var h=c.pop()||0,p=c.pop()||0,m=c.pop()||0;if(p-m<=l){for(var g=m;g<=p;g++){var v=a[2*g],y=a[2*g+1];v>=e&&v<=r&&y>=n&&y<=s&&u.push(i[g])}continue}var b=m+p>>1,w=a[2*b],x=a[2*b+1];w>=e&&w<=r&&x>=n&&x<=s&&u.push(i[b]),(h===0?e<=w:n<=x)&&(c.push(m),c.push(b-1),c.push(1-h)),(h===0?r>=w:s>=x)&&(c.push(b+1),c.push(p),c.push(1-h))}return u}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:i,nodeSize:a}=this,l=[0,s.length-1,0],c=[],u=r*r;l.length;){var h=l.pop()||0,p=l.pop()||0,m=l.pop()||0;if(p-m<=a){for(var g=m;g<=p;g++)d_(i[2*g],i[2*g+1],e,n)<=u&&c.push(s[g]);continue}var v=m+p>>1,y=i[2*v],b=i[2*v+1];d_(y,b,e,n)<=u&&c.push(s[v]),(h===0?e-r<=y:n-r<=b)&&(l.push(m),l.push(v-1),l.push(1-h)),(h===0?e+r>=y:n+r>=b)&&(l.push(v+1),l.push(p),l.push(1-h))}return c}}function Zv(t,e,n,r,s,i){if(!(s-r<=n)){var a=r+s>>1;HR(t,e,a,r,s,i),Zv(t,e,n,r,a-1,1-i),Zv(t,e,n,a+1,s,1-i)}}function HR(t,e,n,r,s,i){for(;s>r;){if(s-r>600){var a=s-r+1,l=n-r+1,c=Math.log(a),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1),p=Math.max(r,Math.floor(n-l*u/a+h)),m=Math.min(s,Math.floor(n+(a-l)*u/a+h));HR(t,e,n,p,m,i)}var g=e[2*n+i],v=r,y=s;for(Vc(t,e,r,n),e[2*s+i]>g&&Vc(t,e,r,s);v<y;){for(Vc(t,e,v,y),v++,y--;e[2*v+i]<g;)v++;for(;e[2*y+i]>g;)y--}e[2*r+i]===g?Vc(t,e,r,y):(y++,Vc(t,e,y,s)),y<=n&&(r=y+1),n<=y&&(s=y-1)}}function Vc(t,e,n,r){hy(t,n,r),hy(e,2*n,2*r),hy(e,2*n+1,2*r+1)}function hy(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function d_(t,e,n,r){var s=t-n,i=e-r;return s*s+i*i}var uK={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},h_=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Mo=2,Li=3,fy=4,Pi=5,WR=6;class dK{constructor(e){this.options=Object.assign(Object.create(uK),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:s}=this.options;n&&console.time("total time");var i="prepare ".concat(e.length," points");n&&console.time(i),this.points=e;for(var a=[],l=0;l<e.length;l++){var c=e[l];if(c.geometry){var[u,h]=c.geometry.coordinates,p=h_(Ph(u)),m=h_(Ah(h));a.push(p,m,1/0,l,-1,1),this.options.reduce&&a.push(0)}}var g=this.trees[s+1]=this._createTree(a);n&&console.timeEnd(i);for(var v=s;v>=r;v--){var y=+Date.now();g=this.trees[v]=this._createTree(this._cluster(g,v)),n&&console.log("z%d: %d clusters in %dms",v,g.numItems,+Date.now()-y)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var l=this.getClusters([r,s,180,a],n),c=this.getClusters([-180,s,i,a],n);return l.concat(c)}var u=this.trees[this._limitZoom(n)],h=u.range(Ph(r),Ah(a),Ph(i),Ah(s)),p=u.data,m=[];for(var g of h){var v=this.stride*g;m.push(p[v+Pi]>1?f_(p,v,this.clusterProps):this.points[p[v+Li]])}return m}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(s);var a=i.data;if(n*this.stride>=a.length)throw new Error(s);var l=this.options.radius/(this.options.extent*Math.pow(2,r-1)),c=a[n*this.stride],u=a[n*this.stride+1],h=i.within(c,u,l),p=[];for(var m of h){var g=m*this.stride;a[g+fy]===e&&p.push(a[g+Pi]>1?f_(a,g,this.clusterProps):this.points[a[g+Li]])}if(p.length===0)throw new Error(s);return p}getLeaves(e,n,r){n=n||10,r=r||0;var s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){var s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:a,radius:l}=this.options,c=l/a,u=(r-c)/i,h=(r+1+c)/i,p={features:[]};return this._addTileFeatures(s.range((n-c)/i,u,(n+1+c)/i,h),s.data,n,r,i,p),n===0&&this._addTileFeatures(s.range(1-c/i,u,1,h),s.data,i,r,i,p),n===i-1&&this._addTileFeatures(s.range(0,u,c/i,h),s.data,-1,r,i,p),p.features.length?p:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,i){var a=this.getChildren(n);for(var l of a){var c=l.properties;if(c&&c.cluster?i+c.point_count<=s?i+=c.point_count:i=this._appendLeaves(e,c.cluster_id,r,s,i):i<s?i++:e.push(l),e.length===r)break}return i}_createTree(e){for(var n=new Qw(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,s,i,a){for(var l of e){var c=l*this.stride,u=n[c+Pi]>1,h=void 0,p=void 0,m=void 0;if(u)h=qR(n,c,this.clusterProps),p=n[c],m=n[c+1];else{var g=this.points[n[c+Li]];h=g.properties;var[v,y]=g.geometry.coordinates;p=Ph(v),m=Ah(y)}var b={type:1,geometry:[[Math.round(this.options.extent*(p*i-r)),Math.round(this.options.extent*(m*i-s))]],tags:h},w=void 0;u||this.options.generateId?w=n[c+Li]:w=this.points[n[c+Li]].id,w!==void 0&&(b.id=w),a.features.push(b)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:s,reduce:i,minPoints:a}=this.options,l=r/(s*Math.pow(2,n)),c=e.data,u=[],h=this.stride,p=0;p<c.length;p+=h)if(!(c[p+Mo]<=n)){c[p+Mo]=n;var m=c[p],g=c[p+1],v=e.within(c[p],c[p+1],l),y=c[p+Pi],b=y;for(var w of v){var x=w*h;c[x+Mo]>n&&(b+=c[x+Pi])}if(b>y&&b>=a){var N=m*y,k=g*y,A=void 0,R=-1,C=((p/h|0)<<5)+(n+1)+this.points.length;for(var _ of v){var S=_*h;if(!(c[S+Mo]<=n)){c[S+Mo]=n;var T=c[S+Pi];N+=c[S]*T,k+=c[S+1]*T,c[S+fy]=C,i&&(A||(A=this._map(c,p,!0),R=this.clusterProps.length,this.clusterProps.push(A)),i(A,this._map(c,S)))}}c[p+fy]=C,u.push(N/b,k/b,1/0,C,-1,b),i&&u.push(R)}else{for(var I=0;I<h;I++)u.push(c[p+I]);if(b>1)for(var P of v){var L=P*h;if(!(c[L+Mo]<=n)){c[L+Mo]=n;for(var G=0;G<h;G++)u.push(c[L+G])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Pi]>1){var s=this.clusterProps[e[n+WR]];return r?Object.assign({},s):s}var i=this.points[e[n+Li]].properties,a=this.options.map(i);return r&&a===i?Object.assign({},a):a}}function f_(t,e,n){return{type:"Feature",id:t[e+Li],properties:qR(t,e,n),geometry:{type:"Point",coordinates:[hK(t[e]),fK(t[e+1])]}}}function qR(t,e,n){var r=t[e+Pi],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,i=t[e+WR],a=i===-1?{}:Object.assign({},n[i]);return Object.assign(a,{cluster:!0,cluster_id:t[e+Li],point_count:r,point_count_abbreviated:s})}function Ph(t){return t/360+.5}function Ah(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function hK(t){return(t-.5)*360}function fK(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function pK(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class Nr{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Xv{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Nr.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Nr.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Nr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class mK{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return gK(n)}}var gK=t=>{var e=t.map(n=>new Xv({position:Nr.getPosition(n),markers:[n]}));return e};class yK extends mK{constructor(e){var{maxZoom:n,radius:r=60}=e,s=pK(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new dK(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!c_(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var s=this.markers.map(i=>{var a=Nr.getPosition(i),l=[a.lng(),a.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{marker:i}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!c_(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:s}=e;if(s.cluster)return new Xv({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:r,lng:n}});var i=s.marker;return new Xv({markers:[i],position:Nr.getPosition(i)})}}class vK{constructor(e,n){this.markers={sum:e.length};var r=n.map(i=>i.count),s=r.reduce((i,a)=>i+a,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class xK{render(e,n,r){var{count:s,position:i}=e,a=s>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(a,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),c="Cluster of ".concat(s," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+s;if(Nr.isAdvancedMarkerAvailable(r)){var h=new DOMParser,p=h.parseFromString(l,"image/svg+xml").documentElement;p.setAttribute("transform","translate(0 25)");var m={map:r,position:i,zIndex:u,title:c,content:p};return new google.maps.marker.AdvancedMarkerElement(m)}var g={position:i,zIndex:u,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(g)}}function wK(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class Yw{constructor(){wK(Yw,google.maps.OverlayView)}}var wu;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(wu||(wu={}));var bK=(t,e,n)=>{n.fitBounds(e.bounds)};class EK extends Yw{constructor(e){var{map:n,markers:r=[],algorithmOptions:s={},algorithm:i=new yK(s),renderer:a=new xK,onClusterClick:l=bK}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=a,this.onClusterClick=l,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(Nr.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,wu.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var s=new Set;for(var i of n)i.markers.length==1&&s.add(i.markers[0]);var a=[];for(var l of this.clusters)l.marker!=null&&(l.markers.length==1?s.has(l.marker)||Nr.setMap(l.marker,null):a.push(l.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>a.forEach(c=>Nr.setMap(c,null)))}google.maps.event.trigger(this,wu.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Nr.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new vK(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(s=>Nr.setMap(s,null)),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,wu.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),Nr.setMap(r.marker,n)})}}function p_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NK(t){var e=yG(),[n,r]=d.useState(null);return d.useEffect(()=>{if(e&&n===null){var s=new EK(m_(m_({},t),{},{map:e}));r(s)}},[e]),n}function CK(t){var{children:e,options:n}=t,r=NK(n);return r!==null?e(r):null}d.memo(CK);var g_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},y_={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function _K(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:h,onLoad:p,onUnmount:m}=t,g=d.useContext(Ze),[v,y]=d.useState(null),[b,w]=d.useState(null),[x,N]=d.useState(null),[k,A]=d.useState(null),[R,C]=d.useState(null),[_,S]=d.useState(null),T=d.useRef(null);return d.useEffect(()=>{v!==null&&(v.close(),n?v.open(g,n):v.getPosition()&&v.open(g))},[g,v,n]),d.useEffect(()=>{r&&v!==null&&v.setOptions(r)},[v,r]),d.useEffect(()=>{s&&v!==null&&v.setPosition(s)},[s]),d.useEffect(()=>{typeof i=="number"&&v!==null&&v.setZIndex(i)},[i]),d.useEffect(()=>{v&&a&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(v,"closeclick",a)))},[a]),d.useEffect(()=>{v&&l&&(x!==null&&google.maps.event.removeListener(x),N(google.maps.event.addListener(v,"domready",l)))},[l]),d.useEffect(()=>{v&&c&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(v,"content_changed",c)))},[c]),d.useEffect(()=>{v&&u&&(R!==null&&google.maps.event.removeListener(R),C(google.maps.event.addListener(v,"position_changed",u)))},[u]),d.useEffect(()=>{v&&h&&(_!==null&&google.maps.event.removeListener(_),S(google.maps.event.addListener(v,"zindex_changed",h)))},[h]),d.useEffect(()=>{var I=new google.maps.InfoWindow(r);return y(I),T.current=document.createElement("div"),a&&w(google.maps.event.addListener(I,"closeclick",a)),l&&N(google.maps.event.addListener(I,"domready",l)),c&&A(google.maps.event.addListener(I,"content_changed",c)),u&&C(google.maps.event.addListener(I,"position_changed",u)),h&&S(google.maps.event.addListener(I,"zindex_changed",h)),I.setContent(T.current),s&&I.setPosition(s),i&&I.setZIndex(i),n?I.open(g,n):I.getPosition()?I.open(g):vn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),p&&p(I),()=>{b&&google.maps.event.removeListener(b),k&&google.maps.event.removeListener(k),x&&google.maps.event.removeListener(x),R&&google.maps.event.removeListener(R),_&&google.maps.event.removeListener(_),m&&m(I),I.close()}},[]),T.current?Kr.createPortal(d.Children.only(e),T.current):null}d.memo(_K);class SK extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoWindow:null}),ne(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):vn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),ne(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=nt({updaterMap:y_,eventMap:g_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:y_,eventMap:g_,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(st(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Kr.createPortal(d.Children.only(this.props.children),this.containerElement):null}}ne(SK,"contextType",Ze);function v_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var x_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},w_={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},jK={};function kK(t){var{options:e,draggable:n,editable:r,visible:s,path:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:g,onRightClick:v,onClick:y,onDrag:b,onLoad:w,onUnmount:x}=t,N=d.useContext(Ze),[k,A]=d.useState(null),[R,C]=d.useState(null),[_,S]=d.useState(null),[T,I]=d.useState(null),[P,L]=d.useState(null),[G,$]=d.useState(null),[F,W]=d.useState(null),[O,D]=d.useState(null),[B,V]=d.useState(null),[U,Q]=d.useState(null),[ie,q]=d.useState(null),[ge,J]=d.useState(null);return d.useEffect(()=>{k!==null&&k.setMap(N)},[N]),d.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),d.useEffect(()=>{typeof n<"u"&&k!==null&&k.setDraggable(n)},[k,n]),d.useEffect(()=>{typeof r<"u"&&k!==null&&k.setEditable(r)},[k,r]),d.useEffect(()=>{typeof s<"u"&&k!==null&&k.setVisible(s)},[k,s]),d.useEffect(()=>{typeof i<"u"&&k!==null&&k.setPath(i)},[k,i]),d.useEffect(()=>{k&&a&&(R!==null&&google.maps.event.removeListener(R),C(google.maps.event.addListener(k,"dblclick",a)))},[a]),d.useEffect(()=>{k&&l&&(_!==null&&google.maps.event.removeListener(_),S(google.maps.event.addListener(k,"dragend",l)))},[l]),d.useEffect(()=>{k&&c&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(k,"dragstart",c)))},[c]),d.useEffect(()=>{k&&u&&(P!==null&&google.maps.event.removeListener(P),L(google.maps.event.addListener(k,"mousedown",u)))},[u]),d.useEffect(()=>{k&&h&&(G!==null&&google.maps.event.removeListener(G),$(google.maps.event.addListener(k,"mousemove",h)))},[h]),d.useEffect(()=>{k&&p&&(F!==null&&google.maps.event.removeListener(F),W(google.maps.event.addListener(k,"mouseout",p)))},[p]),d.useEffect(()=>{k&&m&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(k,"mouseover",m)))},[m]),d.useEffect(()=>{k&&g&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(k,"mouseup",g)))},[g]),d.useEffect(()=>{k&&v&&(U!==null&&google.maps.event.removeListener(U),Q(google.maps.event.addListener(k,"rightclick",v)))},[v]),d.useEffect(()=>{k&&y&&(ie!==null&&google.maps.event.removeListener(ie),q(google.maps.event.addListener(k,"click",y)))},[y]),d.useEffect(()=>{k&&b&&(ge!==null&&google.maps.event.removeListener(ge),J(google.maps.event.addListener(k,"drag",b)))},[b]),d.useEffect(()=>{var ue=new google.maps.Polyline(dp(dp({},e||jK),{},{map:N}));return i&&ue.setPath(i),typeof s<"u"&&ue.setVisible(s),typeof r<"u"&&ue.setEditable(r),typeof n<"u"&&ue.setDraggable(n),a&&C(google.maps.event.addListener(ue,"dblclick",a)),l&&S(google.maps.event.addListener(ue,"dragend",l)),c&&I(google.maps.event.addListener(ue,"dragstart",c)),u&&L(google.maps.event.addListener(ue,"mousedown",u)),h&&$(google.maps.event.addListener(ue,"mousemove",h)),p&&W(google.maps.event.addListener(ue,"mouseout",p)),m&&D(google.maps.event.addListener(ue,"mouseover",m)),g&&V(google.maps.event.addListener(ue,"mouseup",g)),v&&Q(google.maps.event.addListener(ue,"rightclick",v)),y&&q(google.maps.event.addListener(ue,"click",y)),b&&J(google.maps.event.addListener(ue,"drag",b)),A(ue),w&&w(ue),()=>{R!==null&&google.maps.event.removeListener(R),_!==null&&google.maps.event.removeListener(_),T!==null&&google.maps.event.removeListener(T),P!==null&&google.maps.event.removeListener(P),G!==null&&google.maps.event.removeListener(G),F!==null&&google.maps.event.removeListener(F),O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),U!==null&&google.maps.event.removeListener(U),ie!==null&&google.maps.event.removeListener(ie),x&&x(ue),ue.setMap(null)}},[]),null}d.memo(kK);class GR extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{polyline:null}),ne(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(dp(dp({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:w_,eventMap:x_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:w_,eventMap:x_,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),st(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}ne(GR,"contextType",Ze);function b_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function E_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var N_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},C_={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function IK(t){var{options:e,draggable:n,editable:r,visible:s,path:i,paths:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseUp:v,onRightClick:y,onClick:b,onDrag:w,onLoad:x,onUnmount:N,onEdit:k}=t,A=d.useContext(Ze),[R,C]=d.useState(null),[_,S]=d.useState(null),[T,I]=d.useState(null),[P,L]=d.useState(null),[G,$]=d.useState(null),[F,W]=d.useState(null),[O,D]=d.useState(null),[B,V]=d.useState(null),[U,Q]=d.useState(null),[ie,q]=d.useState(null),[ge,J]=d.useState(null),[ue,ye]=d.useState(null);return d.useEffect(()=>{R!==null&&R.setMap(A)},[A]),d.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),d.useEffect(()=>{typeof n<"u"&&R!==null&&R.setDraggable(n)},[R,n]),d.useEffect(()=>{typeof r<"u"&&R!==null&&R.setEditable(r)},[R,r]),d.useEffect(()=>{typeof s<"u"&&R!==null&&R.setVisible(s)},[R,s]),d.useEffect(()=>{typeof i<"u"&&R!==null&&R.setPath(i)},[R,i]),d.useEffect(()=>{typeof a<"u"&&R!==null&&R.setPaths(a)},[R,a]),d.useEffect(()=>{R&&typeof l=="function"&&(_!==null&&google.maps.event.removeListener(_),S(google.maps.event.addListener(R,"dblclick",l)))},[l]),d.useEffect(()=>{R&&(google.maps.event.addListener(R.getPath(),"insert_at",()=>{k==null||k(R)}),google.maps.event.addListener(R.getPath(),"set_at",()=>{k==null||k(R)}),google.maps.event.addListener(R.getPath(),"remove_at",()=>{k==null||k(R)}))},[R,k]),d.useEffect(()=>{R&&typeof c=="function"&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(R,"dragend",c)))},[c]),d.useEffect(()=>{R&&typeof u=="function"&&(P!==null&&google.maps.event.removeListener(P),L(google.maps.event.addListener(R,"dragstart",u)))},[u]),d.useEffect(()=>{R&&typeof h=="function"&&(G!==null&&google.maps.event.removeListener(G),$(google.maps.event.addListener(R,"mousedown",h)))},[h]),d.useEffect(()=>{R&&typeof p=="function"&&(F!==null&&google.maps.event.removeListener(F),W(google.maps.event.addListener(R,"mousemove",p)))},[p]),d.useEffect(()=>{R&&typeof m=="function"&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(R,"mouseout",m)))},[m]),d.useEffect(()=>{R&&typeof g=="function"&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(R,"mouseover",g)))},[g]),d.useEffect(()=>{R&&typeof v=="function"&&(U!==null&&google.maps.event.removeListener(U),Q(google.maps.event.addListener(R,"mouseup",v)))},[v]),d.useEffect(()=>{R&&typeof y=="function"&&(ie!==null&&google.maps.event.removeListener(ie),q(google.maps.event.addListener(R,"rightclick",y)))},[y]),d.useEffect(()=>{R&&typeof b=="function"&&(ge!==null&&google.maps.event.removeListener(ge),J(google.maps.event.addListener(R,"click",b)))},[b]),d.useEffect(()=>{R&&typeof w=="function"&&(ue!==null&&google.maps.event.removeListener(ue),ye(google.maps.event.addListener(R,"drag",w)))},[w]),d.useEffect(()=>{var Y=new google.maps.Polygon(E_(E_({},e),{},{map:A}));return i&&Y.setPath(i),a&&Y.setPaths(a),typeof s<"u"&&Y.setVisible(s),typeof r<"u"&&Y.setEditable(r),typeof n<"u"&&Y.setDraggable(n),l&&S(google.maps.event.addListener(Y,"dblclick",l)),c&&I(google.maps.event.addListener(Y,"dragend",c)),u&&L(google.maps.event.addListener(Y,"dragstart",u)),h&&$(google.maps.event.addListener(Y,"mousedown",h)),p&&W(google.maps.event.addListener(Y,"mousemove",p)),m&&D(google.maps.event.addListener(Y,"mouseout",m)),g&&V(google.maps.event.addListener(Y,"mouseover",g)),v&&Q(google.maps.event.addListener(Y,"mouseup",v)),y&&q(google.maps.event.addListener(Y,"rightclick",y)),b&&J(google.maps.event.addListener(Y,"click",b)),w&&ye(google.maps.event.addListener(Y,"drag",w)),C(Y),x&&x(Y),()=>{_!==null&&google.maps.event.removeListener(_),T!==null&&google.maps.event.removeListener(T),P!==null&&google.maps.event.removeListener(P),G!==null&&google.maps.event.removeListener(G),F!==null&&google.maps.event.removeListener(F),O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),U!==null&&google.maps.event.removeListener(U),ie!==null&&google.maps.event.removeListener(ie),ge!==null&&google.maps.event.removeListener(ge),N&&N(Y),Y.setMap(null)}},[]),null}d.memo(IK);class TK extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=nt({updaterMap:C_,eventMap:N_,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:C_,eventMap:N_,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),st(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}ne(TK,"contextType",Ze);function __(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?__(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var S_={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},j_={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function PK(t){var{options:e,bounds:n,draggable:r,editable:s,visible:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:g,onRightClick:v,onClick:y,onDrag:b,onBoundsChanged:w,onLoad:x,onUnmount:N}=t,k=d.useContext(Ze),[A,R]=d.useState(null),[C,_]=d.useState(null),[S,T]=d.useState(null),[I,P]=d.useState(null),[L,G]=d.useState(null),[$,F]=d.useState(null),[W,O]=d.useState(null),[D,B]=d.useState(null),[V,U]=d.useState(null),[Q,ie]=d.useState(null),[q,ge]=d.useState(null),[J,ue]=d.useState(null),[ye,Y]=d.useState(null);return d.useEffect(()=>{A!==null&&A.setMap(k)},[k]),d.useEffect(()=>{typeof e<"u"&&A!==null&&A.setOptions(e)},[A,e]),d.useEffect(()=>{typeof r<"u"&&A!==null&&A.setDraggable(r)},[A,r]),d.useEffect(()=>{typeof s<"u"&&A!==null&&A.setEditable(s)},[A,s]),d.useEffect(()=>{typeof i<"u"&&A!==null&&A.setVisible(i)},[A,i]),d.useEffect(()=>{typeof n<"u"&&A!==null&&A.setBounds(n)},[A,n]),d.useEffect(()=>{A&&a&&(C!==null&&google.maps.event.removeListener(C),_(google.maps.event.addListener(A,"dblclick",a)))},[a]),d.useEffect(()=>{A&&l&&(S!==null&&google.maps.event.removeListener(S),T(google.maps.event.addListener(A,"dragend",l)))},[l]),d.useEffect(()=>{A&&c&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(A,"dragstart",c)))},[c]),d.useEffect(()=>{A&&u&&(L!==null&&google.maps.event.removeListener(L),G(google.maps.event.addListener(A,"mousedown",u)))},[u]),d.useEffect(()=>{A&&h&&($!==null&&google.maps.event.removeListener($),F(google.maps.event.addListener(A,"mousemove",h)))},[h]),d.useEffect(()=>{A&&p&&(W!==null&&google.maps.event.removeListener(W),O(google.maps.event.addListener(A,"mouseout",p)))},[p]),d.useEffect(()=>{A&&m&&(D!==null&&google.maps.event.removeListener(D),B(google.maps.event.addListener(A,"mouseover",m)))},[m]),d.useEffect(()=>{A&&g&&(V!==null&&google.maps.event.removeListener(V),U(google.maps.event.addListener(A,"mouseup",g)))},[g]),d.useEffect(()=>{A&&v&&(Q!==null&&google.maps.event.removeListener(Q),ie(google.maps.event.addListener(A,"rightclick",v)))},[v]),d.useEffect(()=>{A&&y&&(q!==null&&google.maps.event.removeListener(q),ge(google.maps.event.addListener(A,"click",y)))},[y]),d.useEffect(()=>{A&&b&&(J!==null&&google.maps.event.removeListener(J),ue(google.maps.event.addListener(A,"drag",b)))},[b]),d.useEffect(()=>{A&&w&&(ye!==null&&google.maps.event.removeListener(ye),Y(google.maps.event.addListener(A,"bounds_changed",w)))},[w]),d.useEffect(()=>{var Z=new google.maps.Rectangle(hp(hp({},e),{},{map:k}));return typeof i<"u"&&Z.setVisible(i),typeof s<"u"&&Z.setEditable(s),typeof r<"u"&&Z.setDraggable(r),typeof n<"u"&&Z.setBounds(n),a&&_(google.maps.event.addListener(Z,"dblclick",a)),l&&T(google.maps.event.addListener(Z,"dragend",l)),c&&P(google.maps.event.addListener(Z,"dragstart",c)),u&&G(google.maps.event.addListener(Z,"mousedown",u)),h&&F(google.maps.event.addListener(Z,"mousemove",h)),p&&O(google.maps.event.addListener(Z,"mouseout",p)),m&&B(google.maps.event.addListener(Z,"mouseover",m)),g&&U(google.maps.event.addListener(Z,"mouseup",g)),v&&ie(google.maps.event.addListener(Z,"rightclick",v)),y&&ge(google.maps.event.addListener(Z,"click",y)),b&&ue(google.maps.event.addListener(Z,"drag",b)),w&&Y(google.maps.event.addListener(Z,"bounds_changed",w)),R(Z),x&&x(Z),()=>{C!==null&&google.maps.event.removeListener(C),S!==null&&google.maps.event.removeListener(S),I!==null&&google.maps.event.removeListener(I),L!==null&&google.maps.event.removeListener(L),$!==null&&google.maps.event.removeListener($),W!==null&&google.maps.event.removeListener(W),D!==null&&google.maps.event.removeListener(D),V!==null&&google.maps.event.removeListener(V),Q!==null&&google.maps.event.removeListener(Q),q!==null&&google.maps.event.removeListener(q),J!==null&&google.maps.event.removeListener(J),ye!==null&&google.maps.event.removeListener(ye),N&&N(Z),Z.setMap(null)}},[]),null}d.memo(PK);class AK extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{rectangle:null}),ne(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(hp(hp({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:j_,eventMap:S_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:j_,eventMap:S_,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),st(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}ne(AK,"contextType",Ze);function k_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var I_={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},T_={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},RK={};function LK(t){var{options:e,center:n,radius:r,draggable:s,editable:i,visible:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseUp:v,onRightClick:y,onClick:b,onDrag:w,onCenterChanged:x,onRadiusChanged:N,onLoad:k,onUnmount:A}=t,R=d.useContext(Ze),[C,_]=d.useState(null),[S,T]=d.useState(null),[I,P]=d.useState(null),[L,G]=d.useState(null),[$,F]=d.useState(null),[W,O]=d.useState(null),[D,B]=d.useState(null),[V,U]=d.useState(null),[Q,ie]=d.useState(null),[q,ge]=d.useState(null),[J,ue]=d.useState(null),[ye,Y]=d.useState(null),[Z,te]=d.useState(null),[ve,Me]=d.useState(null);return d.useEffect(()=>{C!==null&&C.setMap(R)},[R]),d.useEffect(()=>{typeof e<"u"&&C!==null&&C.setOptions(e)},[C,e]),d.useEffect(()=>{typeof s<"u"&&C!==null&&C.setDraggable(s)},[C,s]),d.useEffect(()=>{typeof i<"u"&&C!==null&&C.setEditable(i)},[C,i]),d.useEffect(()=>{typeof a<"u"&&C!==null&&C.setVisible(a)},[C,a]),d.useEffect(()=>{typeof r=="number"&&C!==null&&C.setRadius(r)},[C,r]),d.useEffect(()=>{typeof n<"u"&&C!==null&&C.setCenter(n)},[C,n]),d.useEffect(()=>{C&&l&&(S!==null&&google.maps.event.removeListener(S),T(google.maps.event.addListener(C,"dblclick",l)))},[l]),d.useEffect(()=>{C&&c&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(C,"dragend",c)))},[c]),d.useEffect(()=>{C&&u&&(L!==null&&google.maps.event.removeListener(L),G(google.maps.event.addListener(C,"dragstart",u)))},[u]),d.useEffect(()=>{C&&h&&($!==null&&google.maps.event.removeListener($),F(google.maps.event.addListener(C,"mousedown",h)))},[h]),d.useEffect(()=>{C&&p&&(W!==null&&google.maps.event.removeListener(W),O(google.maps.event.addListener(C,"mousemove",p)))},[p]),d.useEffect(()=>{C&&m&&(D!==null&&google.maps.event.removeListener(D),B(google.maps.event.addListener(C,"mouseout",m)))},[m]),d.useEffect(()=>{C&&g&&(V!==null&&google.maps.event.removeListener(V),U(google.maps.event.addListener(C,"mouseover",g)))},[g]),d.useEffect(()=>{C&&v&&(Q!==null&&google.maps.event.removeListener(Q),ie(google.maps.event.addListener(C,"mouseup",v)))},[v]),d.useEffect(()=>{C&&y&&(q!==null&&google.maps.event.removeListener(q),ge(google.maps.event.addListener(C,"rightclick",y)))},[y]),d.useEffect(()=>{C&&b&&(J!==null&&google.maps.event.removeListener(J),ue(google.maps.event.addListener(C,"click",b)))},[b]),d.useEffect(()=>{C&&w&&(ye!==null&&google.maps.event.removeListener(ye),Y(google.maps.event.addListener(C,"drag",w)))},[w]),d.useEffect(()=>{C&&x&&(Z!==null&&google.maps.event.removeListener(Z),te(google.maps.event.addListener(C,"center_changed",x)))},[b]),d.useEffect(()=>{C&&N&&(ve!==null&&google.maps.event.removeListener(ve),Me(google.maps.event.addListener(C,"radius_changed",N)))},[N]),d.useEffect(()=>{var ee=new google.maps.Circle(fp(fp({},e||RK),{},{map:R}));return typeof r=="number"&&ee.setRadius(r),typeof n<"u"&&ee.setCenter(n),typeof r=="number"&&ee.setRadius(r),typeof a<"u"&&ee.setVisible(a),typeof i<"u"&&ee.setEditable(i),typeof s<"u"&&ee.setDraggable(s),l&&T(google.maps.event.addListener(ee,"dblclick",l)),c&&P(google.maps.event.addListener(ee,"dragend",c)),u&&G(google.maps.event.addListener(ee,"dragstart",u)),h&&F(google.maps.event.addListener(ee,"mousedown",h)),p&&O(google.maps.event.addListener(ee,"mousemove",p)),m&&B(google.maps.event.addListener(ee,"mouseout",m)),g&&U(google.maps.event.addListener(ee,"mouseover",g)),v&&ie(google.maps.event.addListener(ee,"mouseup",v)),y&&ge(google.maps.event.addListener(ee,"rightclick",y)),b&&ue(google.maps.event.addListener(ee,"click",b)),w&&Y(google.maps.event.addListener(ee,"drag",w)),x&&te(google.maps.event.addListener(ee,"center_changed",x)),N&&Me(google.maps.event.addListener(ee,"radius_changed",N)),_(ee),k&&k(ee),()=>{S!==null&&google.maps.event.removeListener(S),I!==null&&google.maps.event.removeListener(I),L!==null&&google.maps.event.removeListener(L),$!==null&&google.maps.event.removeListener($),W!==null&&google.maps.event.removeListener(W),D!==null&&google.maps.event.removeListener(D),V!==null&&google.maps.event.removeListener(V),Q!==null&&google.maps.event.removeListener(Q),q!==null&&google.maps.event.removeListener(q),J!==null&&google.maps.event.removeListener(J),Z!==null&&google.maps.event.removeListener(Z),ve!==null&&google.maps.event.removeListener(ve),A&&A(ee),ee.setMap(null)}},[]),null}d.memo(LK);class MK extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{circle:null}),ne(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(fp(fp({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:T_,eventMap:I_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:T_,eventMap:I_,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),st(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}ne(MK,"contextType",Ze);function P_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var A_={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},R_={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function DK(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:s,onMouseMove:i,onMouseOut:a,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:h,onRemoveFeature:p,onRemoveProperty:m,onSetGeometry:g,onSetProperty:v,onLoad:y,onUnmount:b}=t,w=d.useContext(Ze),[x,N]=d.useState(null),[k,A]=d.useState(null),[R,C]=d.useState(null),[_,S]=d.useState(null),[T,I]=d.useState(null),[P,L]=d.useState(null),[G,$]=d.useState(null),[F,W]=d.useState(null),[O,D]=d.useState(null),[B,V]=d.useState(null),[U,Q]=d.useState(null),[ie,q]=d.useState(null),[ge,J]=d.useState(null),[ue,ye]=d.useState(null);return d.useEffect(()=>{x!==null&&x.setMap(w)},[w]),d.useEffect(()=>{x&&r&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(x,"dblclick",r)))},[r]),d.useEffect(()=>{x&&s&&(R!==null&&google.maps.event.removeListener(R),C(google.maps.event.addListener(x,"mousedown",s)))},[s]),d.useEffect(()=>{x&&i&&(_!==null&&google.maps.event.removeListener(_),S(google.maps.event.addListener(x,"mousemove",i)))},[i]),d.useEffect(()=>{x&&a&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(x,"mouseout",a)))},[a]),d.useEffect(()=>{x&&l&&(P!==null&&google.maps.event.removeListener(P),L(google.maps.event.addListener(x,"mouseover",l)))},[l]),d.useEffect(()=>{x&&c&&(G!==null&&google.maps.event.removeListener(G),$(google.maps.event.addListener(x,"mouseup",c)))},[c]),d.useEffect(()=>{x&&u&&(F!==null&&google.maps.event.removeListener(F),W(google.maps.event.addListener(x,"rightclick",u)))},[u]),d.useEffect(()=>{x&&n&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(x,"click",n)))},[n]),d.useEffect(()=>{x&&h&&(B!==null&&google.maps.event.removeListener(B),V(google.maps.event.addListener(x,"addfeature",h)))},[h]),d.useEffect(()=>{x&&p&&(U!==null&&google.maps.event.removeListener(U),Q(google.maps.event.addListener(x,"removefeature",p)))},[p]),d.useEffect(()=>{x&&m&&(ie!==null&&google.maps.event.removeListener(ie),q(google.maps.event.addListener(x,"removeproperty",m)))},[m]),d.useEffect(()=>{x&&g&&(ge!==null&&google.maps.event.removeListener(ge),J(google.maps.event.addListener(x,"setgeometry",g)))},[g]),d.useEffect(()=>{x&&v&&(ue!==null&&google.maps.event.removeListener(ue),ye(google.maps.event.addListener(x,"setproperty",v)))},[v]),d.useEffect(()=>{if(w!==null){var Y=new google.maps.Data(pp(pp({},e),{},{map:w}));r&&A(google.maps.event.addListener(Y,"dblclick",r)),s&&C(google.maps.event.addListener(Y,"mousedown",s)),i&&S(google.maps.event.addListener(Y,"mousemove",i)),a&&I(google.maps.event.addListener(Y,"mouseout",a)),l&&L(google.maps.event.addListener(Y,"mouseover",l)),c&&$(google.maps.event.addListener(Y,"mouseup",c)),u&&W(google.maps.event.addListener(Y,"rightclick",u)),n&&D(google.maps.event.addListener(Y,"click",n)),h&&V(google.maps.event.addListener(Y,"addfeature",h)),p&&Q(google.maps.event.addListener(Y,"removefeature",p)),m&&q(google.maps.event.addListener(Y,"removeproperty",m)),g&&J(google.maps.event.addListener(Y,"setgeometry",g)),v&&ye(google.maps.event.addListener(Y,"setproperty",v)),N(Y),y&&y(Y)}return()=>{x&&(k!==null&&google.maps.event.removeListener(k),R!==null&&google.maps.event.removeListener(R),_!==null&&google.maps.event.removeListener(_),T!==null&&google.maps.event.removeListener(T),P!==null&&google.maps.event.removeListener(P),G!==null&&google.maps.event.removeListener(G),F!==null&&google.maps.event.removeListener(F),O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),U!==null&&google.maps.event.removeListener(U),ie!==null&&google.maps.event.removeListener(ie),ge!==null&&google.maps.event.removeListener(ge),ue!==null&&google.maps.event.removeListener(ue),b&&b(x),x.setMap(null))}},[]),null}d.memo(DK);class OK extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{data:null}),ne(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(pp(pp({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:R_,eventMap:A_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:R_,eventMap:A_,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),st(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}ne(OK,"contextType",Ze);function L_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function M_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var D_={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},O_={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class VK extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{kmlLayer:null}),ne(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(M_(M_({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:O_,eventMap:D_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:O_,eventMap:D_,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),st(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}ne(VK,"contextType",Ze);function KR(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function FK(t,e){return new e(t.lat,t.lng)}function $K(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function UK(t,e,n){return t instanceof e?t:n(t,e)}function zK(t,e,n){return t instanceof e?t:n(t,e)}function BK(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-s.x-e.x,"px"),height:"".concat(s.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function HK(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:s,y:i}=r;return{left:"".concat(s+e.x,"px"),top:"".concat(i+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function QR(t,e,n,r){return n!==void 0?BK(t,e,zK(n,google.maps.LatLngBounds,$K)):HK(t,e,UK(r,google.maps.LatLng,FK))}function WK(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function V_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GK(t,e,n,r,s){class i extends google.maps.OverlayView{constructor(l,c,u,h){super(),this.container=l,this.pane=c,this.position=u,this.bounds=h}onAdd(){var l,c=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];c==null||c.appendChild(this.container)}draw(){var l=this.getProjection(),c=qK({},this.container?KR(this.container,s):{x:0,y:0}),u=QR(l,c,this.bounds,this.position);for(var[h,p]of Object.entries(u))this.container.style[h]=p}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(t,e,n,r)}function F_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function KK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $_(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function U_(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function QK(t){var{position:e,bounds:n,mapPaneName:r,zIndex:s,onLoad:i,onUnmount:a,getPixelPositionOffset:l,children:c}=t,u=d.useContext(Ze),h=d.useMemo(()=>{var m=document.createElement("div");return m.style.position="absolute",m},[]),p=d.useMemo(()=>GK(h,r,e,n,l),[h,r,e,n]);return d.useEffect(()=>(i==null||i(p),p==null||p.setMap(u),()=>{a==null||a(p),p==null||p.setMap(null)}),[u,p]),d.useEffect(()=>{h.style.zIndex="".concat(s)},[s,h]),Kr.createPortal(c,h)}d.memo(QK);class fc extends d.PureComponent{constructor(e){super(e),ne(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),ne(this,"updatePane",()=>{var r=this.props.mapPaneName,s=this.overlayView.getPanes();vn(!!r,"OverlayView requires props.mapPaneName but got %s",r),s?this.setState({paneEl:s[r]}):this.setState({paneEl:null})}),ne(this,"onAdd",()=>{var r,s;this.updatePane(),(r=(s=this.props).onLoad)===null||r===void 0||r.call(s,this.overlayView)}),ne(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),s=KK({x:0,y:0},this.containerRef.current?KR(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=QR(r,s,this.props.bounds,this.props.position);if(!WK(i,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var a,l,c,u;this.setState({containerStyle:{top:(a=i.top)!==null&&a!==void 0?a:0,left:(l=i.left)!==null&&l!==void 0?l:0,width:(c=i.width)!==null&&c!==void 0?c:0,height:(u=i.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),ne(this,"draw",()=>{this.onPositionElement()}),ne(this,"onRemove",()=>{var r,s;this.setState(()=>({paneEl:null})),(r=(s=this.props).onUnmount)===null||r===void 0||r.call(s,this.overlayView)}),this.containerRef=d.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=$_(e.position),r=$_(this.props.position),s=U_(e.bounds),i=U_(this.props.bounds);(n!==r||s!==i)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Kr.createPortal(o.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:d.Children.only(this.props.children)}),e):null}}ne(fc,"FLOAT_PANE","floatPane");ne(fc,"MAP_PANE","mapPane");ne(fc,"MARKER_LAYER","markerLayer");ne(fc,"OVERLAY_LAYER","overlayLayer");ne(fc,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");ne(fc,"contextType",Ze);function YK(){}function z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function B_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var H_={onDblClick:"dblclick",onClick:"click"},W_={opacity(t,e){t.setOpacity(e)}};function ZK(t){var{url:e,bounds:n,options:r,visible:s}=t,i=d.useContext(Ze),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=d.useMemo(()=>new google.maps.GroundOverlay(e,a,r),[]);return d.useEffect(()=>{l!==null&&l.setMap(i)},[i]),d.useEffect(()=>{typeof e<"u"&&l!==null&&(l.set("url",e),l.setMap(i))},[l,e]),d.useEffect(()=>{typeof s<"u"&&l!==null&&l.setOpacity(s?1:0)},[l,s]),d.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&l!==null&&(l.set("bounds",c),l.setMap(i))},[l,n]),null}d.memo(ZK);class YR extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{groundOverlay:null}),ne(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){vn(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,B_(B_({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:W_,eventMap:H_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:W_,eventMap:H_,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}ne(YR,"defaultProps",{onLoad:YK});ne(YR,"contextType",Ze);function q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var G_={},K_={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function XK(t){var{data:e,onLoad:n,onUnmount:r,options:s}=t,i=d.useContext(Ze),[a,l]=d.useState(null);return d.useEffect(()=>{google.maps.visualization||vn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),d.useEffect(()=>{vn(!!e,"data property is required in HeatmapLayer %s",e)},[e]),d.useEffect(()=>{a!==null&&a.setMap(i)},[i]),d.useEffect(()=>{s&&a!==null&&a.setOptions(s)},[a,s]),d.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(mp(mp({},s),{},{data:e,map:i}));return l(c),n&&n(c),()=>{a!==null&&(r&&r(a),a.setMap(null))}},[]),null}d.memo(XK);class JK extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{heatmapLayer:null}),ne(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){vn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),vn(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(mp(mp({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=nt({updaterMap:K_,eventMap:G_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){st(this.registeredEvents),this.registeredEvents=nt({updaterMap:K_,eventMap:G_,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),st(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ne(JK,"contextType",Ze);var Q_={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Y_={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class eQ extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{streetViewPanorama:null}),ne(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=nt({updaterMap:Y_,eventMap:Q_,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:Y_,eventMap:Q_,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),st(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ne(eQ,"contextType",Ze);class tQ extends d.PureComponent{constructor(){super(...arguments),ne(this,"state",{streetViewService:null}),ne(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}ne(tQ,"contextType",Ze);var Z_={onDirectionsChanged:"directions_changed"},X_={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class nQ extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{directionsRenderer:null}),ne(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=nt({updaterMap:X_,eventMap:Z_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:X_,eventMap:Z_,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),st(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}ne(nQ,"contextType",Ze);var J_={onPlacesChanged:"places_changed"},eS={bounds(t,e){t.setBounds(e)}};class rQ extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",d.createRef()),ne(this,"state",{searchBox:null}),ne(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(vn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=nt({updaterMap:eS,eventMap:J_,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(st(this.registeredEvents),this.registeredEvents=nt({updaterMap:eS,eventMap:J_,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),st(this.registeredEvents))}render(){return o.jsx("div",{ref:this.containerElement,children:d.Children.only(this.props.children)})}}ne(rQ,"contextType",Ze);var tS={onPlaceChanged:"place_changed"},nS={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class ZR extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",d.createRef()),ne(this,"state",{autocomplete:null}),ne(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;vn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=nt({updaterMap:nS,eventMap:tS,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){st(this.registeredEvents),this.registeredEvents=nt({updaterMap:nS,eventMap:tS,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&st(this.registeredEvents)}render(){return o.jsx("div",{ref:this.containerElement,className:this.props.className,children:d.Children.only(this.props.children)})}}ne(ZR,"defaultProps",{className:""});ne(ZR,"contextType",Ze);const pc=({isOpen:t,onClose:e,onLocationSelect:n,currentLocation:r})=>{const{isDarkMode:s}=Yt(),[i,a]=d.useState(null),[l,c]=d.useState(""),[u,h]=d.useState(!1),[p,m]=d.useState([]),[g,v]=d.useState(!1),[y,b]=d.useState(!1),[w,x]=d.useState(""),N=d.useRef(null),k=d.useRef(null),A=d.useRef(null),R=d.useRef(null),C="AIzaSyC0aUsBjWppu-5sSvme3Zz66Ts9aFKOYRs",_=["places"],S={width:"100%",height:"300px"},T={lat:22.5726,lng:88.3639},{isLoaded:I}=UR({googleMapsApiKey:C,libraries:_});d.useEffect(()=>{t&&(r?a(r):P())},[t,r]),d.useEffect(()=>{window.google&&window.google.maps&&I&&(k.current=new window.google.maps.places.AutocompleteService)},[I]),d.useEffect(()=>{if(!k.current||w.trim().length<3){m([]),v(!1);return}b(!0),k.current.getPlacePredictions({input:w,componentRestrictions:{country:"in"},types:["geocode","establishment"]},($,F)=>{F===window.google.maps.places.PlacesServiceStatus.OK&&$?(m($),v(!0)):(m([]),v(!1)),b(!1)})},[w,I]),d.useEffect(()=>{const $=F=>{N.current&&!N.current.contains(F.target)&&v(!1)};return document.addEventListener("click",$),()=>document.removeEventListener("click",$)},[]);const P=async()=>{h(!0);try{if(navigator.geolocation){const $=await new Promise((W,O)=>{navigator.geolocation.getCurrentPosition(W,O,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),F={lat:$.coords.latitude,lng:$.coords.longitude};a(F),z.success("Current location detected!")}else throw new Error("Geolocation not supported")}catch($){console.error("Error getting location:",$),$ instanceof GeolocationPositionError?$.code===1?z.error("Location access denied. Please enable location permissions."):$.code===2?z.error("Location unavailable. Please check your GPS settings."):$.code===3&&z.error("Location request timed out. Please try again."):z.error("Could not get your location. Please click on the map to select your location."),a({lat:22.5726,lng:88.3639})}finally{h(!1)}},L=async($,F)=>{try{const O=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${$}&lon=${F}&zoom=18&addressdetails=1`)).json();O.display_name&&c(O.display_name)}catch(W){console.error("Error reverse geocoding:",W),c(`Lat: ${$.toFixed(6)}, Lng: ${F.toFixed(6)}`)}},G=()=>{i&&l?(n({lat:i.lat,lng:i.lng,address:l}),e()):z.error("Please select a valid location")};return o.jsx(Ls,{open:t,onOpenChange:e,children:o.jsxs(cs,{className:`max-w-2xl w-full ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsxs(us,{children:[o.jsx(dr,{className:`text-xl font-bold ${s?"text-white":"text-gray-900"}`,children:"Select Delivery Location"}),o.jsx(Fr,{className:s?"text-gray-400":"text-gray-600",children:"Click on the map or drag the marker to your exact delivery location"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx($e,{ref:N,placeholder:"Search for an address...",className:`w-full ${s?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}`,autoComplete:"off",value:w,onChange:$=>{x($.target.value),c($.target.value),v(!0)},onFocus:()=>{p.length>0&&v(!0)}}),g&&p.length>0&&o.jsxs("div",{className:`absolute z-50 left-0 right-0 mt-1 bg-white border rounded shadow-lg max-h-60 overflow-y-auto ${s?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-200 text-gray-900"}`,children:[y&&o.jsx("div",{className:"p-2 text-sm",children:"Loading..."}),p.map(($,F)=>o.jsx("div",{className:"p-2 cursor-pointer hover:bg-orange-100 dark:hover:bg-gray-700 text-sm",onClick:()=>{x($.description),c($.description),v(!1),A.current&&$.place_id&&A.current.getDetails({placeId:$.place_id},(W,O)=>{if(O===window.google.maps.places.PlacesServiceStatus.OK&&W&&W.geometry&&W.geometry.location){const D=W.geometry.location.lat(),B=W.geometry.location.lng();a({lat:D,lng:B}),R.current&&R.current.panTo({lat:D,lng:B})}})},children:$.description},$.place_id||F))]})]}),o.jsx(H,{onClick:()=>{i&&L(i.lat,i.lng)},disabled:u,className:"bg-orange-500 hover:bg-orange-600 text-white",children:u?o.jsx(ls,{className:"w-4 h-4 animate-spin"}):o.jsx(an,{className:"w-4 h-4"})})]}),o.jsxs(H,{onClick:P,disabled:u,variant:"outline",className:`w-full ${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(Hv,{className:"w-4 h-4 mr-2"}),u?"Getting location...":"Use Current Location"]}),o.jsxs("div",{className:"relative border rounded-lg overflow-hidden",children:[I&&o.jsx(DR,{mapContainerStyle:S,center:i||T,zoom:15,onLoad:$=>{R.current=$,A.current||(A.current=new window.google.maps.places.PlacesService($))},onClick:$=>{var O,D;const F=(O=$.latLng)==null?void 0:O.lat(),W=(D=$.latLng)==null?void 0:D.lng();F&&W&&(a({lat:F,lng:W}),L(F,W))},options:{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1},children:i&&o.jsx(cp,{position:i,draggable:!0,onDragEnd:$=>{var O,D;const F=(O=$.latLng)==null?void 0:O.lat(),W=(D=$.latLng)==null?void 0:D.lng();F&&W&&(a({lat:F,lng:W}),L(F,W))}})}),o.jsxs("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 text-xs",children:[o.jsx("p",{className:"font-medium",children:"Map Instructions:"}),o.jsx("p",{children:" Click anywhere to place marker"}),o.jsx("p",{children:" Drag the marker to move it"})]}),i&&o.jsxs("div",{className:`absolute bottom-2 left-2 right-2 p-2 rounded ${s?"bg-gray-800 text-white":"bg-white text-gray-900"} shadow-lg`,children:[o.jsx("p",{className:"text-xs font-medium",children:"Selected Location:"}),o.jsx("p",{className:"text-xs opacity-75 mb-1",children:l||"Address not available"}),o.jsxs("p",{className:"text-xs opacity-75 font-mono",children:[" Lat: ",i.lat.toFixed(6),", Lng: ",i.lng.toFixed(6)]})]})]}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsxs(H,{variant:"outline",onClick:e,className:`${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(uc,{className:"w-4 h-4 mr-2"}),"Cancel"]}),o.jsxs(H,{onClick:G,disabled:!i,className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(Pd,{className:"w-4 h-4 mr-2"}),"Confirm Location"]})]})]})]})})},mc=()=>{const[t,e]=d.useState({isBanned:!1,isLoading:!0}),[n,r]=d.useState(null),s=async a=>{var l,c;try{const u=await ya(_t(Fe,"users",a));if(u.exists()){const h=u.data(),p=h.isBanned||!1,m=h.banReason||"",g=(l=h.banDate)==null?void 0:l.toDate(),v=(c=h.banExpiry)==null?void 0:c.toDate();let y=p;v&&new Date>v&&(y=!1,await i(a,!1)),e({isBanned:y,banReason:m,banDate:g,banExpiry:v,isLoading:!1}),y&&z.error(`Your account has been suspended. Reason: ${m||"Violation of terms of service"}`)}else e({isBanned:!1,isLoading:!1})}catch(u){console.error("Error checking ban status:",u),e({isBanned:!1,isLoading:!1})}},i=async(a,l,c,u)=>{try{const h=_t(Fe,"users",a);await In(h,{isBanned:l,banReason:c||"",banDate:l?new Date:null,banExpiry:u||null,updatedAt:new Date})}catch(h){console.error("Error updating ban status:",h)}};return d.useEffect(()=>{const a=Cd(Nt,l=>{if(r(l),l){s(l.uid);const c=_t(Fe,"users",l.uid),u=N2(c,h=>{var p,m;if(h.exists()){const g=h.data(),v=g.isBanned||!1,y=g.banReason||"",b=(p=g.banDate)==null?void 0:p.toDate(),w=(m=g.banExpiry)==null?void 0:m.toDate();let x=v;w&&new Date>w&&(x=!1,i(l.uid,!1)),e({isBanned:x,banReason:y,banDate:b,banExpiry:w,isLoading:!1}),x&&z.error(`Your account has been suspended. Reason: ${y||"Violation of terms of service"}`)}else e({isBanned:!1,isLoading:!1})});return()=>u()}else e({isBanned:!1,isLoading:!1})});return()=>a()},[]),d.useEffect(()=>{if(!n)return;const a=setInterval(()=>{s(n.uid)},6e4);return()=>clearInterval(a)},[n]),{banStatus:t,user:n,checkBanStatus:()=>n&&s(n.uid),updateBanStatus:(a,l,c)=>n&&i(n.uid,a,l,c)}};function Zw(t){const e=d.useRef({value:t,previous:t});return d.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Xw="Radio",[sQ,XR]=rr(Xw),[iQ,oQ]=sQ(Xw),JR=d.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:a,value:l="on",onCheck:c,form:u,...h}=t,[p,m]=d.useState(null),g=ct(e,b=>m(b)),v=d.useRef(!1),y=p?u||!!p.closest("form"):!0;return o.jsxs(iQ,{scope:n,checked:s,disabled:a,children:[o.jsx(Ve.button,{type:"button",role:"radio","aria-checked":s,"data-state":rL(s),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:g,onClick:we(t.onClick,b=>{s||c==null||c(),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&o.jsx(nL,{control:p,bubbles:!v.current,name:r,value:l,checked:s,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});JR.displayName=Xw;var eL="RadioIndicator",tL=d.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=oQ(eL,n);return o.jsx(Qr,{present:r||i.checked,children:o.jsx(Ve.span,{"data-state":rL(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});tL.displayName=eL;var aQ="RadioBubbleInput",nL=d.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=d.useRef(null),l=ct(a,i),c=Zw(n),u=px(e);return d.useEffect(()=>{const h=a.current;if(!h)return;const p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&g){const v=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(v)}},[c,n,r]),o.jsx(Ve.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nL.displayName=aQ;function rL(t){return t?"checked":"unchecked"}var lQ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Om="RadioGroup",[cQ,UZ]=rr(Om,[hc,XR]),sL=hc(),iL=XR(),[uQ,dQ]=cQ(Om),oL=d.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:p,...m}=t,g=sL(n),v=dc(u),[y,b]=ys({prop:i,defaultProp:s??null,onChange:p,caller:Om});return o.jsx(uQ,{scope:n,name:r,required:a,disabled:l,value:y,onValueChange:b,children:o.jsx(Pw,{asChild:!0,...g,orientation:c,dir:v,loop:h,children:o.jsx(Ve.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...m,ref:e})})})});oL.displayName=Om;var aL="RadioGroupItem",lL=d.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=dQ(aL,n),a=i.disabled||r,l=sL(n),c=iL(n),u=d.useRef(null),h=ct(e,u),p=i.value===s.value,m=d.useRef(!1);return d.useEffect(()=>{const g=y=>{lQ.includes(y.key)&&(m.current=!0)},v=()=>m.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),o.jsx(Aw,{asChild:!0,...l,focusable:!a,active:p,children:o.jsx(JR,{disabled:a,required:i.required,checked:p,...c,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:we(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:we(s.onFocus,()=>{var g;m.current&&((g=u.current)==null||g.click())})})})});lL.displayName=aL;var hQ="RadioGroupIndicator",cL=d.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=iL(n);return o.jsx(tL,{...s,...r,ref:e})});cL.displayName=hQ;var uL=oL,dL=lL,fQ=cL;const gp=d.forwardRef(({className:t,...e},n)=>o.jsx(uL,{className:De("grid gap-2",t),...e,ref:n}));gp.displayName=uL.displayName;const nl=d.forwardRef(({className:t,...e},n)=>o.jsx(dL,{ref:n,className:De("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(fQ,{className:"flex items-center justify-center",children:o.jsx(A2,{className:"h-2.5 w-2.5 fill-current text-current"})})}));nl.displayName=dL.displayName;const pQ=({subtotal:t,deliveryCharge:e,gstRate:n,isDarkMode:r})=>{const s=Math.round((t+e)*(n/100)),i=t+e+s;return o.jsxs("div",{className:`space-y-1 p-2 rounded-lg ${r?"bg-gray-800":"bg-gray-50"}`,children:[o.jsx("h3",{className:`font-semibold text-sm mb-1 ${r?"text-white":"text-gray-900"}`,children:"Price Breakdown"}),o.jsxs("div",{className:"grid grid-cols-2 gap-y-1 text-xs",children:[o.jsx("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:"Subtotal"}),o.jsxs("span",{className:`text-right ${r?"text-white":"text-gray-900"}`,children:["",t]}),o.jsx("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:"Delivery Charge"}),o.jsxs("span",{className:`text-right ${r?"text-white":"text-gray-900"}`,children:["",e]}),o.jsxs("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:["GST (",n,"%)"]}),o.jsxs("span",{className:`text-right ${r?"text-white":"text-gray-900"}`,children:["",s]}),o.jsx("span",{className:"col-span-2",children:o.jsx(Fw,{className:r?"bg-gray-700":"bg-gray-300"})}),o.jsx("span",{className:`font-semibold text-sm ${r?"text-white":"text-gray-900"}`,children:"Total"}),o.jsxs("span",{className:"font-bold text-base text-orange-500 text-right",children:["",i]})]}),o.jsx("div",{className:`text-[10px] mt-1 ${r?"text-gray-500":"text-gray-400"}`,children:"* Delivery charge may vary based on distance and time"})]})},Vm=({isOpen:t,onClose:e,onPlaceOrder:n,totalPrice:r,user:s})=>{const{isDarkMode:i,toggleDarkMode:a}=Yt(),{banStatus:l}=mc(),{selectedAddress:c,setSelectedAddress:u}=Zm(),[h,p]=d.useState(1),[m,g]=d.useState([]),[v,y]=d.useState(null),[b,w]=d.useState("cod"),[x,N]=d.useState(0),[k,A]=d.useState(""),[R,C]=d.useState(!1),[_,S]=d.useState(""),[T,I]=d.useState(!1),[P,L]=d.useState(!1),[G,$]=d.useState(null),[F,W]=d.useState({name:"",phone:"",landmark:""}),[O,D]=d.useState({name:"",phone:"",landmark:""}),B=r>299?0:40,V=5,U=Math.round((r+B)*(V/100)),Q=r+B+U+x;d.useEffect(()=>{t&&l.isBanned&&(z.error("Your account has been suspended. You cannot place orders."),e())},[t,l.isBanned,e]),d.useEffect(()=>{t&&s?(ie(s.uid),y(c||null)):(p(1),y(null),w("cod"),N(0),A(""),S(""),I(!1),L(!1),$(null))},[t,s,c]);const ie=async ee=>{C(!0);try{const Ae=rn(Fe,"addresses"),qe=Sr(Ae,Ir("userId","==",ee)),tt=(await Yn(qe)).docs.map(ot=>{const Be=ot.data();return{id:ot.id,type:Be.type,name:Be.name,address:Be.address,city:Be.city,state:Be.state,pincode:Be.pincode,phone:Be.phone,email:Be.email,isDefault:Be.isDefault}});tt.sort((ot,Be)=>ot.isDefault&&!Be.isDefault?-1:!ot.isDefault&&Be.isDefault?1:0),g(tt),y(ot=>ot||tt.find(Be=>Be.isDefault)||tt[0]||null)}catch(Ae){console.error("Error loading addresses: ",Ae),z.error("Failed to load addresses.")}finally{C(!1)}},q=ee=>{N(ee),A("")},ge=ee=>{const Ae=ee.target.value;A(Ae),N(Number(Ae)||0)},J=ee=>{const qe=ee.target.value.replace(/\D/g,"").slice(0,10);S(qe)},ue=async()=>{if(!v||!_||_.length!==10){z.error("Please enter a valid 10-digit phone number.");return}try{await In(_t(Fe,"addresses",v.id),{phone:_});const ee={...v,phone:_};y(ee),u(ee),g(Ae=>Ae.map(qe=>qe.id===v.id?ee:qe)),I(!1),S(""),z.success("Phone number added successfully!"),p(2)}catch(ee){console.error("Error saving phone number:",ee),z.error("Failed to save phone number. Please try again.")}},ye=()=>{if(G&&!v){let ee={name:"",phone:"",landmark:""};if(F.name.trim()||(ee.name="Name is required"),F.phone.match(/^\d{10}$/)||(ee.phone="Valid 10-digit phone required"),F.landmark.trim()||(ee.landmark="Landmark is required"),D(ee),ee.name||ee.phone||ee.landmark)return}if(!v&&!G){z.error("Please select a delivery address or location.");return}if(v&&(!v.phone||v.phone.trim()==="")){I(!0),S(v.phone||"");return}p(2)},Y=async()=>{if(G&&!v){let ee={name:"",phone:"",landmark:""};if(F.name.trim()||(ee.name="Name is required"),F.phone.match(/^\d{10}$/)||(ee.phone="Valid 10-digit phone required"),F.landmark.trim()||(ee.landmark="Landmark is required"),D(ee),ee.name||ee.phone||ee.landmark)return;const Ae={type:"other",name:F.name,address:G.address,city:"",state:"",pincode:"",phone:F.phone,email:(s==null?void 0:s.email)||"",isDefault:!0,landmark:F.landmark,userId:s==null?void 0:s.uid,createdAt:new Date};try{const qe=rn(Fe,"addresses"),Ct=Sr(qe,Ir("userId","==",s.uid)),ot=(await Yn(Ct)).docs.map(re=>In(_t(Fe,"addresses",re.id),{isDefault:!1}));await Promise.all(ot);const Be=await ws(qe,Ae),fe={...Ae,id:Be.id};await ie(s.uid),y(fe),u(fe),z.success("Location saved as your default address!"),n({address:fe,paymentMethod:b,tip:x,finalTotal:Q,location:G})}catch{z.error("Failed to save address. Please try again.");return}return}if(!v){z.error("Please select a delivery address."),p(1);return}if(!v.phone||v.phone.trim()===""){I(!0),S(v.phone||"");return}n({address:v,paymentMethod:b,tip:x,finalTotal:Q,location:G})},Z=ee=>{$(ee),y(null),L(!1),z.success("Location selected successfully!")},te=ee=>{switch(ee){case"home":return o.jsx(kw,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(Sw,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(nd,{className:"w-5 h-5 text-gray-500"})}},ve=ee=>{y(ee),u(ee)},Me=()=>{if(T)return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(dr,{className:`text-xl font-bold mb-2 ${i?"text-white":"text-gray-800"}`,children:"Add Phone Number"}),o.jsx(Fr,{className:i?"text-gray-400":"text-gray-600",children:"Please add a phone number to your selected address to continue with the order"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:`p-4 border rounded-lg ${i?"border-gray-600 bg-gray-700":"border-gray-200 bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[te((v==null?void 0:v.type)||""),o.jsx("h3",{className:`font-semibold capitalize ${i?"text-white":"text-gray-900"}`,children:v==null?void 0:v.type}),(v==null?void 0:v.isDefault)&&o.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),o.jsx("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:`${v==null?void 0:v.name}, ${v==null?void 0:v.address}, ${v==null?void 0:v.city}, ${v==null?void 0:v.state} - ${v==null?void 0:v.pincode}`})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Le,{htmlFor:"phone",className:`block text-sm font-medium ${i?"text-white":"text-gray-700"}`,children:"Phone Number *"}),o.jsxs("div",{className:"relative",children:[o.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx($e,{id:"phone",type:"tel",placeholder:"Enter 10-digit phone number",value:_,onChange:J,className:`pl-10 h-12 text-base ${i?"bg-gray-700 text-white border-gray-600 placeholder-gray-400":"bg-white text-gray-900 border-gray-300"}`,maxLength:10})]}),o.jsx("p",{className:`text-xs ${i?"text-gray-400":"text-gray-500"}`,children:"This number will be used for delivery updates"})]})]})]});switch(h){case 1:return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(dr,{className:`text-xl font-bold mb-2 ${i?"text-white":"text-gray-800"}`,children:"Select Delivery Address"}),o.jsx(Fr,{className:i?"text-gray-400":"text-gray-600",children:"Choose where you'd like your order delivered"})]}),o.jsxs(H,{onClick:()=>L(!0),variant:"outline",className:`w-full ${i?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(an,{className:"w-4 h-4 mr-2"}),G?"Change Location":"Set Delivery Location"]}),G&&o.jsxs("div",{className:`p-3 border rounded-lg ${i?"border-gray-600 bg-gray-700":"border-gray-200 bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(an,{className:"w-4 h-4 text-orange-500"}),o.jsx("span",{className:`text-sm font-medium ${i?"text-white":"text-gray-900"}`,children:"Selected Location"})]}),o.jsx("p",{className:`text-xs ${i?"text-gray-400":"text-gray-600"} mb-1`,children:G.address}),o.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:[" Lat: ",G.lat.toFixed(6),", Lng: ",G.lng.toFixed(6)]})]}),G&&!v&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(Le,{htmlFor:"map-name",className:`block text-sm font-medium ${i?"text-white":"text-gray-700"}`,children:"Full Name *"}),o.jsx($e,{id:"map-name",value:F.name,onChange:ee=>W(Ae=>({...Ae,name:ee.target.value})),placeholder:"Enter your full name",className:i?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}),O.name&&o.jsx("p",{className:"text-red-500 text-xs",children:O.name}),o.jsx(Le,{htmlFor:"map-phone",className:`block text-sm font-medium ${i?"text-white":"text-gray-700"}`,children:"Phone Number *"}),o.jsx($e,{id:"map-phone",value:F.phone,onChange:ee=>W(Ae=>({...Ae,phone:ee.target.value.replace(/\D/g,"").slice(0,10)})),placeholder:"Enter 10-digit phone number",maxLength:10,className:i?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}),O.phone&&o.jsx("p",{className:"text-red-500 text-xs",children:O.phone}),o.jsx(Le,{htmlFor:"map-landmark",className:`block text-sm font-medium ${i?"text-white":"text-gray-700"}`,children:"Landmark *"}),o.jsx($e,{id:"map-landmark",value:F.landmark,onChange:ee=>W(Ae=>({...Ae,landmark:ee.target.value})),placeholder:"Enter a nearby landmark",className:i?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}),O.landmark&&o.jsx("p",{className:"text-red-500 text-xs",children:O.landmark})]}),R?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):o.jsx(gp,{value:v==null?void 0:v.id,onValueChange:ee=>ve(m.find(Ae=>Ae.id===ee)||null),children:o.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:m.map(ee=>o.jsxs(Le,{htmlFor:ee.id,className:`flex items-start space-x-3 p-4 border rounded-xl cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(nl,{value:ee.id,id:ee.id,className:"mt-1"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[te(ee.type),o.jsx("h3",{className:`font-semibold capitalize ${i?"text-white":"text-gray-900"}`,children:ee.type}),ee.isDefault&&o.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),o.jsx("p",{className:`text-sm leading-relaxed ${i?"text-gray-400":"text-gray-600"}`,children:`${ee.name}, ${ee.address}, ${ee.city}, ${ee.state} - ${ee.pincode}`}),ee.phone&&o.jsxs("p",{className:`text-xs mt-1 ${i?"text-gray-400":"text-gray-500"}`,children:[" ",ee.phone]}),!ee.phone&&o.jsx("p",{className:"text-xs mt-1 text-orange-500",children:" Phone number required"})]})]},ee.id))})}),m.length===0&&!R&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:`mb-4 ${i?"text-gray-400":"text-gray-500"}`,children:"No addresses found"}),o.jsx(H,{variant:"outline",onClick:()=>window.location.href="/address",className:"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Add New Address"})]})]});case 2:return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(dr,{className:`text-xl font-bold mb-0 ${i?"text-white":"text-gray-800"}`,children:"Payment & Tip"}),o.jsx(Fr,{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:"Choose your payment method and add a tip"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{children:[o.jsx("h4",{className:`font-semibold mb-1 text-base ${i?"text-white":"text-gray-900"}`,children:"Payment Method"}),o.jsx(gp,{value:b,onValueChange:w,children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Le,{htmlFor:"cod",className:`flex items-center gap-2 p-2 border rounded cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(nl,{value:"cod",id:"cod"}),o.jsx(yH,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`font-medium text-sm leading-tight ${i?"text-white":"text-gray-800"}`,children:"Cash on Delivery"}),o.jsx("span",{className:`text-xs leading-tight ${i?"text-gray-400":"text-gray-500"}`,children:"Pay when you receive your order"})]})]}),o.jsxs(Le,{htmlFor:"upi",className:`flex items-center gap-2 p-2 border rounded cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(nl,{value:"upi",id:"upi"}),o.jsx(sH,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`font-medium text-sm leading-tight ${i?"text-white":"text-gray-800"}`,children:"UPI"}),o.jsx("span",{className:`text-xs leading-tight ${i?"text-gray-400":"text-gray-500"}`,children:"Pay using UPI apps"})]})]}),o.jsxs(Le,{htmlFor:"card",className:`flex items-center gap-2 p-2 border rounded cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(nl,{value:"card",id:"card"}),o.jsx(JB,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`font-medium text-sm leading-tight ${i?"text-white":"text-gray-800"}`,children:"Credit/Debit Card"}),o.jsx("span",{className:`text-xs leading-tight ${i?"text-gray-400":"text-gray-500"}`,children:"Pay with your card"})]})]})]})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:`font-semibold text-xs ${i?"text-white":"text-gray-900"}`,children:"Add a Tip"}),o.jsx("span",{className:`text-[11px] ${i?"text-gray-400":"text-gray-600"}`,children:"Show appreciation to your delivery partner"}),o.jsx("div",{className:"grid grid-cols-3 gap-1 mb-1",children:[10,20,50].map(ee=>o.jsxs(H,{variant:x===ee?"default":"outline",onClick:()=>q(ee),className:`h-8 text-sm px-2 ${x===ee?"bg-orange-500 hover:bg-orange-600 text-white":"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white"}`,children:["",ee]},ee))}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($e,{type:"number",placeholder:"Custom amount",value:k,onChange:ge,className:`flex-1 h-8 text-sm px-2 ${i?"bg-gray-700 text-white border-gray-600 placeholder-gray-400":"bg-white text-gray-900 border-gray-300"}`}),o.jsx("span",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:""})]})]})]})]});default:return null}};return o.jsxs(o.Fragment,{children:[o.jsx(Ls,{open:t,onOpenChange:e,children:o.jsx(cs,{className:`max-w-xl w-full sm:w-[90vw] h-screen max-h-screen p-0 overflow-hidden rounded-2xl shadow-2xl ${i?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:o.jsxs("div",{className:"flex flex-col h-full max-h-screen",children:[o.jsx(us,{className:"px-4 pt-4 pb-2 sm:px-8 sm:pt-6 sm:pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(dr,{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:T?"Add Phone Number":"Checkout"}),o.jsx(Fr,{className:i?"text-gray-400":"text-gray-600",children:T?"Required for delivery":`Step ${h} of 2`})]}),o.jsx(H,{variant:"ghost",size:"icon",onClick:a,className:i?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:i?o.jsx(Tw,{className:"w-5 h-5"}):o.jsx(tp,{className:"w-5 h-5"})})]})}),o.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto scrollbar-none px-4 pb-20 pt-2 sm:px-8 sm:pb-16",style:{scrollbarWidth:"none"},children:Me()}),o.jsxs("div",{className:`sticky bottom-0 left-0 right-0 z-20 px-4 pt-3 pb-3 border-t shadow-lg rounded-b-2xl ${i?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} sm:px-8`,children:[!T&&o.jsx("div",{className:"mb-2",children:o.jsx(pQ,{subtotal:r,deliveryCharge:B,gstRate:V,isDarkMode:i})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[!T&&o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:["Total: ",o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["",Q.toFixed(2)]})]})}),o.jsx("div",{className:"flex space-x-3",children:T?o.jsxs(o.Fragment,{children:[o.jsxs(H,{variant:"outline",onClick:()=>I(!1),className:`${i?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} min-h-[44px] min-w-[100px]`,children:[o.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsxs(H,{onClick:ue,disabled:_.length!==10,className:"bg-orange-500 hover:bg-orange-600 text-white min-h-[44px] min-w-[120px] text-base disabled:opacity-50",children:["Save & Continue",o.jsx(ep,{className:"w-4 h-4 ml-2"})]})]}):o.jsxs(o.Fragment,{children:[h>1&&o.jsxs(H,{variant:"outline",onClick:()=>p(h-1),className:`${i?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} min-h-[44px] min-w-[100px]`,children:[o.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Back"]}),h<2?o.jsxs(H,{onClick:ye,disabled:!(v||G),className:"bg-orange-500 hover:bg-orange-600 text-white min-h-[44px] min-w-[120px] text-base",children:["Continue",o.jsx(ep,{className:"w-4 h-4 ml-2"})]}):o.jsx(H,{onClick:Y,className:"bg-orange-500 hover:bg-orange-600 text-white min-h-[44px] min-w-[120px] text-base",children:"Place Order"})]})})]})]})]})})}),o.jsx(pc,{isOpen:P,onClose:()=>L(!1),onLocationSelect:Z,currentLocation:G?{lat:G.lat,lng:G.lng}:void 0})]})};function mQ(t){return Object.prototype.toString.call(t)==="[object Object]"}function rS(t){return mQ(t)||Array.isArray(t)}function gQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Jw(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:n.every(a=>{const l=t[a],c=e[a];return typeof l=="function"?`${l}`==`${c}`:!rS(l)||!rS(c)?l===c:Jw(l,c)})}function sS(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function yQ(t,e){if(t.length!==e.length)return!1;const n=sS(t),r=sS(e);return n.every((s,i)=>{const a=r[i];return Jw(s,a)})}function eb(t){return typeof t=="number"}function Jv(t){return typeof t=="string"}function Fm(t){return typeof t=="boolean"}function iS(t){return Object.prototype.toString.call(t)==="[object Object]"}function qt(t){return Math.abs(t)}function tb(t){return Math.sign(t)}function bu(t,e){return qt(t-e)}function vQ(t,e){if(t===0||e===0||qt(t)<=qt(e))return 0;const n=bu(qt(t),qt(e));return qt(n/t)}function xQ(t){return Math.round(t*100)/100}function ad(t){return ld(t).map(Number)}function fs(t){return t[Dd(t)]}function Dd(t){return Math.max(0,t.length-1)}function nb(t,e){return e===Dd(t)}function oS(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function ld(t){return Object.keys(t)}function hL(t,e){return[t,e].reduce((n,r)=>(ld(r).forEach(s=>{const i=n[s],a=r[s],l=iS(i)&&iS(a);n[s]=l?hL(i,a):a}),n),{})}function e0(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function wQ(t,e){const n={start:r,center:s,end:i};function r(){return 0}function s(c){return i(c)/2}function i(c){return e-c}function a(c,u){return Jv(t)?n[t](c):t(e,c,u)}return{measure:a}}function cd(){let t=[];function e(s,i,a,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,a,l),c=()=>s.removeEventListener(i,a,l);else{const u=s;u.addListener(a),c=()=>u.removeListener(a)}return t.push(c),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function bQ(t,e,n,r){const s=cd(),i=1e3/60;let a=null,l=0,c=0;function u(){s.add(t,"visibilitychange",()=>{t.hidden&&v()})}function h(){g(),s.clear()}function p(b){if(!c)return;a||(a=b,n(),n());const w=b-a;for(a=b,l+=w;l>=i;)n(),l-=i;const x=l/i;r(x),c&&(c=e.requestAnimationFrame(p))}function m(){c||(c=e.requestAnimationFrame(p))}function g(){e.cancelAnimationFrame(c),a=null,l=0,c=0}function v(){a=null,l=0}return{init:u,destroy:h,start:m,stop:g,update:n,render:r}}function EQ(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",i=r?"x":"y",a=!r&&n?-1:1,l=h(),c=p();function u(v){const{height:y,width:b}=v;return r?y:b}function h(){return r?"top":n?"right":"left"}function p(){return r?"bottom":n?"left":"right"}function m(v){return v*a}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:m}}function xa(t=0,e=0){const n=qt(t-e);function r(u){return u<t}function s(u){return u>e}function i(u){return r(u)||s(u)}function a(u){return i(u)?r(u)?t:e:u}function l(u){return n?u-n*Math.ceil((u-e)/n):u}return{length:n,max:e,min:t,constrain:a,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:l}}function fL(t,e,n){const{constrain:r}=xa(0,t),s=t+1;let i=a(e);function a(m){return n?qt((s+m)%s):r(m)}function l(){return i}function c(m){return i=a(m),p}function u(m){return h().set(l()+m)}function h(){return fL(t,l(),n)}const p={get:l,set:c,add:u,clone:h};return p}function NQ(t,e,n,r,s,i,a,l,c,u,h,p,m,g,v,y,b,w,x){const{cross:N,direction:k}=t,A=["INPUT","SELECT","TEXTAREA"],R={passive:!1},C=cd(),_=cd(),S=xa(50,225).constrain(g.measure(20)),T={mouse:300,touch:400},I={mouse:500,touch:600},P=v?43:25;let L=!1,G=0,$=0,F=!1,W=!1,O=!1,D=!1;function B(te){if(!x)return;function ve(ee){(Fm(x)||x(te,ee))&&ge(ee)}const Me=e;C.add(Me,"dragstart",ee=>ee.preventDefault(),R).add(Me,"touchmove",()=>{},R).add(Me,"touchend",()=>{}).add(Me,"touchstart",ve).add(Me,"mousedown",ve).add(Me,"touchcancel",ue).add(Me,"contextmenu",ue).add(Me,"click",ye,!0)}function V(){C.clear(),_.clear()}function U(){const te=D?n:e;_.add(te,"touchmove",J,R).add(te,"touchend",ue).add(te,"mousemove",J,R).add(te,"mouseup",ue)}function Q(te){const ve=te.nodeName||"";return A.includes(ve)}function ie(){return(v?I:T)[D?"mouse":"touch"]}function q(te,ve){const Me=p.add(tb(te)*-1),ee=h.byDistance(te,!v).distance;return v||qt(te)<S?ee:b&&ve?ee*.5:h.byIndex(Me.get(),0).distance}function ge(te){const ve=e0(te,r);D=ve,O=v&&ve&&!te.buttons&&L,L=bu(s.get(),a.get())>=2,!(ve&&te.button!==0)&&(Q(te.target)||(F=!0,i.pointerDown(te),u.useFriction(0).useDuration(0),s.set(a),U(),G=i.readPoint(te),$=i.readPoint(te,N),m.emit("pointerDown")))}function J(te){if(!e0(te,r)&&te.touches.length>=2)return ue(te);const Me=i.readPoint(te),ee=i.readPoint(te,N),Ae=bu(Me,G),qe=bu(ee,$);if(!W&&!D&&(!te.cancelable||(W=Ae>qe,!W)))return ue(te);const Ct=i.pointerMove(te);Ae>y&&(O=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(k(Ct)),te.preventDefault()}function ue(te){const Me=h.byDistance(0,!1).index!==p.get(),ee=i.pointerUp(te)*ie(),Ae=q(k(ee),Me),qe=vQ(ee,Ae),Ct=P-10*qe,tt=w+qe/50;W=!1,F=!1,_.clear(),u.useDuration(Ct).useFriction(tt),c.distance(Ae,!v),D=!1,m.emit("pointerUp")}function ye(te){O&&(te.stopPropagation(),te.preventDefault(),O=!1)}function Y(){return F}return{init:B,destroy:V,pointerDown:Y}}function CQ(t,e){let r,s;function i(p){return p.timeStamp}function a(p,m){const v=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(e0(p,e)?p:p.touches[0])[v]}function l(p){return r=p,s=p,a(p)}function c(p){const m=a(p)-a(s),g=i(p)-i(r)>170;return s=p,g&&(r=p),m}function u(p){if(!r||!s)return 0;const m=a(s)-a(r),g=i(p)-i(r),v=i(p)-i(s)>170,y=m/g;return g&&!v&&qt(y)>.1?y:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:a}}function _Q(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:a}=n;return{top:r,right:s+i,bottom:r+a,left:s,width:i,height:a}}return{measure:t}}function SQ(t){function e(r){return t*(r/100)}return{measure:e}}function jQ(t,e,n,r,s,i,a){const l=[t].concat(r);let c,u,h=[],p=!1;function m(b){return s.measureSize(a.measure(b))}function g(b){if(!i)return;u=m(t),h=r.map(m);function w(x){for(const N of x){if(p)return;const k=N.target===t,A=r.indexOf(N.target),R=k?u:h[A],C=m(k?t:r[A]);if(qt(C-R)>=.5){b.reInit(),e.emit("resize");break}}}c=new ResizeObserver(x=>{(Fm(i)||i(b,x))&&w(x)}),n.requestAnimationFrame(()=>{l.forEach(x=>c.observe(x))})}function v(){p=!0,c&&c.disconnect()}return{init:g,destroy:v}}function kQ(t,e,n,r,s,i){let a=0,l=0,c=s,u=i,h=t.get(),p=0;function m(){const R=r.get()-t.get(),C=!c;let _=0;return C?(a=0,n.set(r),t.set(r),_=R):(n.set(t),a+=R/c,a*=u,h+=a,t.add(a),_=h-p),l=tb(_),p=h,A}function g(){const R=r.get()-e.get();return qt(R)<.001}function v(){return c}function y(){return l}function b(){return a}function w(){return N(s)}function x(){return k(i)}function N(R){return c=R,A}function k(R){return u=R,A}const A={direction:y,duration:v,velocity:b,seek:m,settled:g,useBaseFriction:x,useBaseDuration:w,useFriction:k,useDuration:N};return A}function IQ(t,e,n,r,s){const i=s.measure(10),a=s.measure(50),l=xa(.1,.99);let c=!1;function u(){return!(c||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function h(g){if(!u())return;const v=t.reachedMin(e.get())?"min":"max",y=qt(t[v]-e.get()),b=n.get()-e.get(),w=l.constrain(y/a);n.subtract(b*w),!g&&qt(b)<i&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function p(g){c=!g}return{shouldConstrain:u,constrain:h,toggleActive:p}}function TQ(t,e,n,r,s){const i=xa(-e+t,0),a=p(),l=h(),c=m();function u(v,y){return bu(v,y)<=1}function h(){const v=a[0],y=fs(a),b=a.lastIndexOf(v),w=a.indexOf(y)+1;return xa(b,w)}function p(){return n.map((v,y)=>{const{min:b,max:w}=i,x=i.constrain(v),N=!y,k=nb(n,y);return N?w:k||u(b,x)?b:u(w,x)?w:x}).map(v=>parseFloat(v.toFixed(3)))}function m(){if(e<=t+s)return[i.max];if(r==="keepSnaps")return a;const{min:v,max:y}=l;return a.slice(v,y)}return{snapsContained:c,scrollContainLimit:l}}function PQ(t,e,n){const r=e[0],s=n?r-t:fs(e);return{limit:xa(s,r)}}function AQ(t,e,n,r){const i=e.min+.1,a=e.max+.1,{reachedMin:l,reachedMax:c}=xa(i,a);function u(m){return m===1?c(n.get()):m===-1?l(n.get()):!1}function h(m){if(!u(m))return;const g=t*(m*-1);r.forEach(v=>v.add(g))}return{loop:h}}function RQ(t){const{max:e,length:n}=t;function r(i){const a=i-e;return n?a/-n:0}return{get:r}}function LQ(t,e,n,r,s){const{startEdge:i,endEdge:a}=t,{groupSlides:l}=s,c=p().map(e.measure),u=m(),h=g();function p(){return l(r).map(y=>fs(y)[a]-y[0][i]).map(qt)}function m(){return r.map(y=>n[i]-y[i]).map(y=>-qt(y))}function g(){return l(u).map(y=>y[0]).map((y,b)=>y+c[b])}return{snaps:u,snapsAligned:h}}function MQ(t,e,n,r,s,i){const{groupSlides:a}=s,{min:l,max:c}=r,u=h();function h(){const m=a(i),g=!t||e==="keepSnaps";return n.length===1?[i]:g?m:m.slice(l,c).map((v,y,b)=>{const w=!y,x=nb(b,y);if(w){const N=fs(b[0])+1;return oS(N)}if(x){const N=Dd(i)-fs(b)[0]+1;return oS(N,fs(b)[0])}return v})}return{slideRegistry:u}}function DQ(t,e,n,r,s){const{reachedAny:i,removeOffset:a,constrain:l}=r;function c(v){return v.concat().sort((y,b)=>qt(y)-qt(b))[0]}function u(v){const y=t?a(v):l(v),b=e.map((x,N)=>({diff:h(x-y,0),index:N})).sort((x,N)=>qt(x.diff)-qt(N.diff)),{index:w}=b[0];return{index:w,distance:y}}function h(v,y){const b=[v,v+n,v-n];if(!t)return v;if(!y)return c(b);const w=b.filter(x=>tb(x)===y);return w.length?c(w):fs(b)-n}function p(v,y){const b=e[v]-s.get(),w=h(b,y);return{index:v,distance:w}}function m(v,y){const b=s.get()+v,{index:w,distance:x}=u(b),N=!t&&i(b);if(!y||N)return{index:w,distance:v};const k=e[w]-x,A=v+h(k,0);return{index:w,distance:A}}return{byDistance:m,byIndex:p,shortcut:h}}function OQ(t,e,n,r,s,i,a){function l(p){const m=p.distance,g=p.index!==e.get();i.add(m),m&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),g&&(n.set(e.get()),e.set(p.index),a.emit("select"))}function c(p,m){const g=s.byDistance(p,m);l(g)}function u(p,m){const g=e.clone().set(p),v=s.byIndex(g.get(),m);l(v)}return{distance:c,index:u}}function VQ(t,e,n,r,s,i,a,l){const c={passive:!0,capture:!0};let u=0;function h(g){if(!l)return;function v(y){if(new Date().getTime()-u>10)return;a.emit("slideFocusStart"),t.scrollLeft=0;const x=n.findIndex(N=>N.includes(y));eb(x)&&(s.useDuration(0),r.index(x,0),a.emit("slideFocus"))}i.add(document,"keydown",p,!1),e.forEach((y,b)=>{i.add(y,"focus",w=>{(Fm(l)||l(g,w))&&v(b)},c)})}function p(g){g.code==="Tab"&&(u=new Date().getTime())}return{init:h}}function Jc(t){let e=t;function n(){return e}function r(c){e=a(c)}function s(c){e+=a(c)}function i(c){e-=a(c)}function a(c){return eb(c)?c:c.get()}return{get:n,set:r,add:s,subtract:i}}function pL(t,e){const n=t.scroll==="x"?a:l,r=e.style;let s=null,i=!1;function a(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(i)return;const g=xQ(t.direction(m));g!==s&&(r.transform=n(g),s=g)}function u(m){i=!m}function h(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:h,to:c,toggleActive:u}}function FQ(t,e,n,r,s,i,a,l,c){const h=ad(s),p=ad(s).reverse(),m=w().concat(x());function g(C,_){return C.reduce((S,T)=>S-s[T],_)}function v(C,_){return C.reduce((S,T)=>g(S,_)>0?S.concat([T]):S,[])}function y(C){return i.map((_,S)=>({start:_-r[S]+.5+C,end:_+e-.5+C}))}function b(C,_,S){const T=y(_);return C.map(I=>{const P=S?0:-n,L=S?n:0,G=S?"end":"start",$=T[I][G];return{index:I,loopPoint:$,slideLocation:Jc(-1),translate:pL(t,c[I]),target:()=>l.get()>$?P:L}})}function w(){const C=a[0],_=v(p,C);return b(_,n,!1)}function x(){const C=e-a[0]-1,_=v(h,C);return b(_,-n,!0)}function N(){return m.every(({index:C})=>{const _=h.filter(S=>S!==C);return g(_,e)<=.1})}function k(){m.forEach(C=>{const{target:_,translate:S,slideLocation:T}=C,I=_();I!==T.get()&&(S.to(I),T.set(I))})}function A(){m.forEach(C=>C.translate.clear())}return{canLoop:N,clear:A,loop:k,loopPoints:m}}function $Q(t,e,n){let r,s=!1;function i(c){if(!n)return;function u(h){for(const p of h)if(p.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(h=>{s||(Fm(n)||n(c,h))&&u(h)}),r.observe(t,{childList:!0})}function a(){r&&r.disconnect(),s=!0}return{init:i,destroy:a}}function UQ(t,e,n,r){const s={};let i=null,a=null,l,c=!1;function u(){l=new IntersectionObserver(v=>{c||(v.forEach(y=>{const b=e.indexOf(y.target);s[b]=y}),i=null,a=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>l.observe(v))}function h(){l&&l.disconnect(),c=!0}function p(v){return ld(s).reduce((y,b)=>{const w=parseInt(b),{isIntersecting:x}=s[w];return(v&&x||!v&&!x)&&y.push(w),y},[])}function m(v=!0){if(v&&i)return i;if(!v&&a)return a;const y=p(v);return v&&(i=y),v||(a=y),y}return{init:u,destroy:h,get:m}}function zQ(t,e,n,r,s,i){const{measureSize:a,startEdge:l,endEdge:c}=t,u=n[0]&&s,h=v(),p=y(),m=n.map(a),g=b();function v(){if(!u)return 0;const x=n[0];return qt(e[l]-x[l])}function y(){if(!u)return 0;const x=i.getComputedStyle(fs(r));return parseFloat(x.getPropertyValue(`margin-${c}`))}function b(){return n.map((x,N,k)=>{const A=!N,R=nb(k,N);return A?m[N]+h:R?m[N]+p:k[N+1][l]-x[l]}).map(qt)}return{slideSizes:m,slideSizesWithGaps:g,startGap:h,endGap:p}}function BQ(t,e,n,r,s,i,a,l,c){const{startEdge:u,endEdge:h,direction:p}=t,m=eb(n);function g(w,x){return ad(w).filter(N=>N%x===0).map(N=>w.slice(N,N+x))}function v(w){return w.length?ad(w).reduce((x,N,k)=>{const A=fs(x)||0,R=A===0,C=N===Dd(w),_=s[u]-i[A][u],S=s[u]-i[N][h],T=!r&&R?p(a):0,I=!r&&C?p(l):0,P=qt(S-I-(_+T));return k&&P>e+c&&x.push(N),C&&x.push(w.length),x},[]).map((x,N,k)=>{const A=Math.max(k[N-1]||0);return w.slice(A,x)}):[]}function y(w){return m?g(w,n):v(w)}return{groupSlides:y}}function HQ(t,e,n,r,s,i,a){const{align:l,axis:c,direction:u,startIndex:h,loop:p,duration:m,dragFree:g,dragThreshold:v,inViewThreshold:y,slidesToScroll:b,skipSnaps:w,containScroll:x,watchResize:N,watchSlides:k,watchDrag:A,watchFocus:R}=i,C=2,_=_Q(),S=_.measure(e),T=n.map(_.measure),I=EQ(c,u),P=I.measureSize(S),L=SQ(P),G=wQ(l,P),$=!p&&!!x,F=p||!!x,{slideSizes:W,slideSizesWithGaps:O,startGap:D,endGap:B}=zQ(I,S,T,n,F,s),V=BQ(I,P,b,p,S,T,D,B,C),{snaps:U,snapsAligned:Q}=LQ(I,G,S,T,V),ie=-fs(U)+fs(O),{snapsContained:q,scrollContainLimit:ge}=TQ(P,ie,Q,x,C),J=$?q:Q,{limit:ue}=PQ(ie,J,p),ye=fL(Dd(J),h,p),Y=ye.clone(),Z=ad(n),te=({dragHandler:kt,scrollBody:It,scrollBounds:At,options:{loop:Mt}})=>{Mt||At.constrain(kt.pointerDown()),It.seek()},ve=({scrollBody:kt,translate:It,location:At,offsetLocation:Mt,previousLocation:Bt,scrollLooper:Xe,slideLooper:Je,dragHandler:Zt,animation:ce,eventHandler:Se,scrollBounds:He,options:{loop:mt}},Ht)=>{const ut=kt.settled(),Tt=!He.shouldConstrain(),Re=mt?ut:ut&&Tt,Qe=Re&&!Zt.pointerDown();Qe&&ce.stop();const rt=At.get()*Ht+Bt.get()*(1-Ht);Mt.set(rt),mt&&(Xe.loop(kt.direction()),Je.loop()),It.to(Mt.get()),Qe&&Se.emit("settle"),Re||Se.emit("scroll")},Me=bQ(r,s,()=>te(ht),kt=>ve(ht,kt)),ee=.68,Ae=J[ye.get()],qe=Jc(Ae),Ct=Jc(Ae),tt=Jc(Ae),ot=Jc(Ae),Be=kQ(qe,tt,Ct,ot,m,ee),fe=DQ(p,J,ie,ue,ot),re=OQ(Me,ye,Y,Be,fe,ot,a),pe=RQ(ue),je=cd(),ae=UQ(e,n,a,y),{slideRegistry:Ee}=MQ($,x,J,ge,V,Z),Ie=VQ(t,n,Ee,re,Be,je,a,R),ht={ownerDocument:r,ownerWindow:s,eventHandler:a,containerRect:S,slideRects:T,animation:Me,axis:I,dragHandler:NQ(I,t,r,s,ot,CQ(I,s),qe,Me,re,Be,fe,ye,a,L,g,v,w,ee,A),eventStore:je,percentOfView:L,index:ye,indexPrevious:Y,limit:ue,location:qe,offsetLocation:tt,previousLocation:Ct,options:i,resizeHandler:jQ(e,a,s,n,I,N,_),scrollBody:Be,scrollBounds:IQ(ue,tt,ot,Be,L),scrollLooper:AQ(ie,ue,tt,[qe,tt,Ct,ot]),scrollProgress:pe,scrollSnapList:J.map(pe.get),scrollSnaps:J,scrollTarget:fe,scrollTo:re,slideLooper:FQ(I,P,ie,W,O,U,J,tt,n),slideFocus:Ie,slidesHandler:$Q(e,a,k),slidesInView:ae,slideIndexes:Z,slideRegistry:Ee,slidesToScroll:V,target:ot,translate:pL(I,e)};return ht}function WQ(){let t={},e;function n(u){e=u}function r(u){return t[u]||[]}function s(u){return r(u).forEach(h=>h(e,u)),c}function i(u,h){return t[u]=r(u).concat([h]),c}function a(u,h){return t[u]=r(u).filter(p=>p!==h),c}function l(){t={}}const c={init:n,emit:s,off:a,on:i,clear:l};return c}const qQ={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function GQ(t){function e(i,a){return hL(i,a||{})}function n(i){const a=i.breakpoints||{},l=ld(a).filter(c=>t.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>e(c,u),{});return e(i,l)}function r(i){return i.map(a=>ld(a.breakpoints||{})).reduce((a,l)=>a.concat(l),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function KQ(t){let e=[];function n(i,a){return e=a.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),e.forEach(l=>l.init(i,t)),a.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function r(){e=e.filter(i=>i.destroy())}return{init:n,destroy:r}}function yp(t,e,n){const r=t.ownerDocument,s=r.defaultView,i=GQ(s),a=KQ(i),l=cd(),c=WQ(),{mergeOptions:u,optionsAtMedia:h,optionsMediaQueries:p}=i,{on:m,off:g,emit:v}=c,y=I;let b=!1,w,x=u(qQ,yp.globalOptions),N=u(x),k=[],A,R,C;function _(){const{container:Z,slides:te}=N;R=(Jv(Z)?t.querySelector(Z):Z)||t.children[0];const Me=Jv(te)?R.querySelectorAll(te):te;C=[].slice.call(Me||R.children)}function S(Z){const te=HQ(t,R,C,r,s,Z,c);if(Z.loop&&!te.slideLooper.canLoop()){const ve=Object.assign({},Z,{loop:!1});return S(ve)}return te}function T(Z,te){b||(x=u(x,Z),N=h(x),k=te||k,_(),w=S(N),p([x,...k.map(({options:ve})=>ve)]).forEach(ve=>l.add(ve,"change",I)),N.active&&(w.translate.to(w.location.get()),w.animation.init(),w.slidesInView.init(),w.slideFocus.init(Y),w.eventHandler.init(Y),w.resizeHandler.init(Y),w.slidesHandler.init(Y),w.options.loop&&w.slideLooper.loop(),R.offsetParent&&C.length&&w.dragHandler.init(Y),A=a.init(Y,k)))}function I(Z,te){const ve=V();P(),T(u({startIndex:ve},Z),te),c.emit("reInit")}function P(){w.dragHandler.destroy(),w.eventStore.clear(),w.translate.clear(),w.slideLooper.clear(),w.resizeHandler.destroy(),w.slidesHandler.destroy(),w.slidesInView.destroy(),w.animation.destroy(),a.destroy(),l.clear()}function L(){b||(b=!0,l.clear(),P(),c.emit("destroy"),c.clear())}function G(Z,te,ve){!N.active||b||(w.scrollBody.useBaseFriction().useDuration(te===!0?0:N.duration),w.scrollTo.index(Z,ve||0))}function $(Z){const te=w.index.add(1).get();G(te,Z,-1)}function F(Z){const te=w.index.add(-1).get();G(te,Z,1)}function W(){return w.index.add(1).get()!==V()}function O(){return w.index.add(-1).get()!==V()}function D(){return w.scrollSnapList}function B(){return w.scrollProgress.get(w.offsetLocation.get())}function V(){return w.index.get()}function U(){return w.indexPrevious.get()}function Q(){return w.slidesInView.get()}function ie(){return w.slidesInView.get(!1)}function q(){return A}function ge(){return w}function J(){return t}function ue(){return R}function ye(){return C}const Y={canScrollNext:W,canScrollPrev:O,containerNode:ue,internalEngine:ge,destroy:L,off:g,on:m,emit:v,plugins:q,previousScrollSnap:U,reInit:y,rootNode:J,scrollNext:$,scrollPrev:F,scrollProgress:B,scrollSnapList:D,scrollTo:G,selectedScrollSnap:V,slideNodes:ye,slidesInView:Q,slidesNotInView:ie};return T(e,n),setTimeout(()=>c.emit("init"),0),Y}yp.globalOptions=void 0;function rb(t={},e=[]){const n=d.useRef(t),r=d.useRef(e),[s,i]=d.useState(),[a,l]=d.useState(),c=d.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return d.useEffect(()=>{Jw(n.current,t)||(n.current=t,c())},[t,c]),d.useEffect(()=>{yQ(r.current,e)||(r.current=e,c())},[e,c]),d.useEffect(()=>{if(gQ()&&a){yp.globalOptions=rb.globalOptions;const u=yp(a,n.current,r.current);return i(u),()=>u.destroy()}else i(void 0)},[a,i]),[l,s]}rb.globalOptions=void 0;const mL=d.createContext(null);function $m(){const t=d.useContext(mL);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const t0=d.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:s,children:i,...a},l)=>{const[c,u]=rb({...e,axis:t==="horizontal"?"x":"y"},r),[h,p]=d.useState(!1),[m,g]=d.useState(!1),v=d.useCallback(x=>{x&&(p(x.canScrollPrev()),g(x.canScrollNext()))},[]),y=d.useCallback(()=>{u==null||u.scrollPrev()},[u]),b=d.useCallback(()=>{u==null||u.scrollNext()},[u]),w=d.useCallback(x=>{x.key==="ArrowLeft"?(x.preventDefault(),y()):x.key==="ArrowRight"&&(x.preventDefault(),b())},[y,b]);return d.useEffect(()=>{!u||!n||n(u)},[u,n]),d.useEffect(()=>{if(u)return v(u),u.on("reInit",v),u.on("select",v),()=>{u==null||u.off("select",v)}},[u,v]),o.jsx(mL.Provider,{value:{carouselRef:c,api:u,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:b,canScrollPrev:h,canScrollNext:m},children:o.jsx("div",{ref:l,onKeyDownCapture:w,className:De("relative",s),role:"region","aria-roledescription":"carousel",...a,children:i})})});t0.displayName="Carousel";const n0=d.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:s}=$m();return o.jsx("div",{ref:r,className:"overflow-hidden",children:o.jsx("div",{ref:n,className:De("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});n0.displayName="CarouselContent";const r0=d.forwardRef(({className:t,...e},n)=>{const{orientation:r}=$m();return o.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:De("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});r0.displayName="CarouselItem";const s0=d.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollPrev:a,canScrollPrev:l}=$m();return o.jsxs(H,{ref:s,variant:e,size:n,className:De("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:a,...r,children:[o.jsx(Rn,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Previous slide"})]})});s0.displayName="CarouselPrevious";const i0=d.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollNext:a,canScrollNext:l}=$m();return o.jsxs(H,{ref:s,variant:e,size:n,className:De("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:a,...r,children:[o.jsx(ep,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Next slide"})]})});i0.displayName="CarouselNext";const Um=({cart:t,totalPrice:e,onCheckout:n,onDelete:r,onViewMenu:s,isDarkMode:i,buttonLabel:a="Checkout",className:l=""})=>{if(!t||t.length===0)return null;const c=t[0],u=t.reduce((h,p)=>h+(p.quantity||1),0);return o.jsx("div",{className:`md:hidden fixed left-0 right-0 bottom-0 z-50 flex justify-center items-end pointer-events-none mb-1.5 ${l}`,children:o.jsxs("div",{className:`flex items-center w-[98vw] max-w-xl rounded-2xl shadow-xl px-2.5 py-2 border pointer-events-auto gap-2 sm:gap-3
          ${i?"bg-gray-800/90 border-gray-700 backdrop-blur-md":"bg-white/90 border-gray-200 backdrop-blur-md"}`,style:{minHeight:64},children:[o.jsx("img",{src:c.image,alt:c.name,className:`w-11 h-11 sm:w-12 sm:h-12 rounded-xl object-cover border ${i?"border-gray-700":"border-gray-300"}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:`font-bold text-sm sm:text-base truncate ${i?"text-white":"text-gray-900"}`,children:c.name}),o.jsx("button",{className:`text-xs sm:text-sm underline truncate ${i?"text-gray-300":"text-gray-500"} hover:text-pickngo-orange-500`,onClick:s,tabIndex:-1,type:"button",children:"View Full Menu"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center font-bold rounded-xl px-3 py-2 sm:px-5 focus:outline-none transition-colors text-xs sm:text-sm
            ${i?"bg-rose-600 hover:bg-rose-700 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,onClick:n,style:{minWidth:90},children:[o.jsxs("span",{className:"font-semibold whitespace-nowrap",children:[u," item",u>1?"s":""," | ",e]}),o.jsx("span",{className:"text-sm sm:text-base font-bold",children:a})]}),o.jsx("button",{className:`ml-1 sm:ml-2 w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center rounded-full focus:outline-none transition-colors
            ${i?"bg-rose-900/60 hover:bg-rose-900 text-white":"bg-rose-100 hover:bg-rose-200 text-rose-500"}`,onClick:r,"aria-label":"Clear Cart",children:o.jsx(Ad,{className:"w-5 h-5"})})]})})},QQ=({isOpen:t,onClose:e,userId:n})=>{const{isDarkMode:r}=Yt(),{selectedAddress:s,setSelectedAddress:i}=Zm(),[a,l]=d.useState([]),[c,u]=d.useState(null),[h,p]=d.useState(!1),[m,g]=d.useState(!1),[v,y]=d.useState(null),[b,w]=d.useState({}),[x,N]=d.useState(!1),[k,A]=d.useState(null);d.useEffect(()=>{t&&n&&R(n)},[t,n]),d.useEffect(()=>{t&&u((s==null?void 0:s.id)||null)},[t,s]);const R=async $=>{p(!0);try{const F=rn(Fe,"addresses"),W=Sr(F,Ir("userId","==",$)),D=(await Yn(W)).docs.map(V=>{const U=V.data();return{id:V.id,type:U.type,name:U.name,address:U.address,city:U.city,state:U.state,pincode:U.pincode,phone:U.phone,email:U.email,isDefault:U.isDefault}});D.sort((V,U)=>V.isDefault&&!U.isDefault?-1:!V.isDefault&&U.isDefault?1:0),l(D);let B=null;try{const V=localStorage.getItem("pickngo-selected-address");if(V){const U=JSON.parse(V);B=D.find(Q=>Q.id===U.id)}}catch{}if(!B&&s&&(B=D.find(V=>V.id===s.id)),B)u(B.id),i(B);else if(D.length>0){const V=D.find(U=>U.isDefault)||D[0];u(V.id),i(V),localStorage.setItem("pickngo-selected-address",JSON.stringify(V))}}catch{}finally{p(!1)}},C=$=>{switch($){case"home":return o.jsx(kw,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(Sw,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(nd,{className:"w-5 h-5 text-gray-500"})}},_=$=>{u($);const F=a.find(W=>W.id===$);F&&(i(F),localStorage.setItem("pickngo-selected-address",JSON.stringify(F)))},S=async $=>{if(!n)return;let F="",W="",O="";try{const V=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${$.lat}&lon=${$.lng}`)).json();F=V.address.city||V.address.town||V.address.village||"",W=V.address.state||"",O=V.address.postcode||""}catch{}const D={type:"other",name:"",address:$.address,city:F,state:W,pincode:O,isDefault:!0,userId:n,createdAt:new Date};try{const B=rn(Fe,"addresses"),V=Sr(B,Ir("userId","==",n)),Q=(await Yn(V)).docs.map(ge=>In(_t(Fe,"addresses",ge.id),{isDefault:!1}));await Promise.all(Q);const ie=await ws(B,D),q={...D,id:ie.id};i(q),u(q.id),localStorage.setItem("pickngo-selected-address",JSON.stringify(q)),g(!1),e()}catch{g(!1),e()}},T=async $=>{if(n)try{if(await Cw(_t(Fe,"addresses",$)),(s==null?void 0:s.id)===$){const F=a.filter(W=>W.id!==$);F.length>0?(i(F[0]),u(F[0].id),localStorage.setItem("pickngo-selected-address",JSON.stringify(F[0]))):(i(null),u(null),localStorage.removeItem("pickngo-selected-address"))}l(F=>F.filter(W=>W.id!==$))}catch{}},I=$=>{y($.id),w({...$})},P=($,F)=>{w(W=>({...W,[$]:F}))},L=async()=>{var F;if(!n||!v)return;const $=["address","city","state","pincode","type"];for(const W of $)if(!b[W]||typeof b[W]=="string"&&((F=b[W])==null?void 0:F.trim())===""){A(`Please fill in the ${W} field.`);return}N(!0),A(null);try{const W=_t(Fe,"addresses",v),O=Object.fromEntries(Object.entries(b).filter(([D,B])=>B!==void 0));if(await In(W,O),l(D=>D.map(B=>B.id===v?{...B,...O}:B)),(s==null?void 0:s.id)===v){const D={...s,...O};i(D),localStorage.setItem("pickngo-selected-address",JSON.stringify(D))}y(null),w({})}catch(W){A("Failed to save. Please try again."),console.error("Firestore update error:",W)}finally{N(!1)}},G=()=>{y(null),w({})};return o.jsx(Ls,{open:t,onOpenChange:e,children:o.jsxs(cs,{className:`max-w-lg w-full ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} p-0`,children:[o.jsxs(us,{className:"pt-6 px-6",children:[o.jsx(dr,{className:`text-xl font-bold mb-2 ${r?"text-white":"text-gray-900"}`,children:"Select Delivery Address"}),o.jsx(Fr,{className:r?"text-gray-400":"text-gray-600",children:"Choose where you'd like your order delivered"})]}),o.jsxs("div",{className:"px-6 pb-6",children:[o.jsxs(H,{onClick:()=>g(!0),variant:"outline",className:`w-full mb-4 ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(an,{className:"w-4 h-4 mr-2"}),"Set Delivery Location"]}),h?o.jsx("div",{className:"flex justify-center items-center py-8",children:o.jsx(ls,{className:"w-6 h-6 animate-spin text-orange-500"})}):a.length===0?o.jsx("div",{className:"text-center text-gray-400 py-8",children:"No saved addresses found."}):o.jsx(gp,{value:c||"",onValueChange:_,children:o.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:a.map($=>o.jsxs(Le,{htmlFor:$.id,className:`relative flex items-start space-x-3 p-4 border rounded-xl cursor-pointer hover:border-orange-500 transition-colors ${r?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,style:{alignItems:"center"},children:[o.jsx(nl,{value:$.id,id:$.id,className:"mt-1"}),o.jsx("div",{className:"flex-1 min-w-0",children:v===$.id?o.jsxs("form",{className:"flex flex-col gap-2 w-full max-w-full",onSubmit:F=>{F.preventDefault(),L()},children:[o.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:o.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:b.phone||"",onChange:F=>P("phone",F.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"Phone",required:!0,maxLength:10})}),o.jsx("input",{className:"w-full border rounded px-2 py-1 text-sm",value:b.address||"",onChange:F=>P("address",F.target.value),placeholder:"Address",required:!0}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[o.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:b.city||"",onChange:F=>P("city",F.target.value),placeholder:"City",required:!0}),o.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:b.state||"",onChange:F=>P("state",F.target.value),placeholder:"State",required:!0}),o.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:b.pincode||"",onChange:F=>P("pincode",F.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"Pincode",required:!0,maxLength:10})]}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("select",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:b.type||"other",onChange:F=>P("type",F.target.value),children:[o.jsx("option",{value:"home",children:"Home"}),o.jsx("option",{value:"work",children:"Work"}),o.jsx("option",{value:"other",children:"Other"})]})}),k&&o.jsx("div",{className:"text-xs text-red-500",children:k}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{type:"button",onClick:G,className:"px-3 py-1 rounded bg-gray-200 text-gray-700 hover:bg-gray-300 text-xs",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-orange-500 text-white hover:bg-orange-600 text-xs",disabled:x,children:x?"Saving...":"Save"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[C($.type),o.jsx("h3",{className:`font-semibold capitalize ${r?"text-white":"text-gray-900"}`,children:$.type}),$.isDefault&&o.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),o.jsx("p",{className:`text-sm leading-relaxed ${r?"text-gray-400":"text-gray-600"}`,children:`${$.name}, ${$.address}, ${$.city}, ${$.state} - ${$.pincode}`}),$.phone&&o.jsxs("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-500"}`,children:[" ",$.phone]}),!$.phone&&o.jsx("p",{className:"text-xs mt-1 text-orange-500",children:" Phone number required"})]})}),v!==$.id&&o.jsx("button",{type:"button",onClick:F=>{F.stopPropagation(),I($)},className:"absolute top-4 right-12 p-2 rounded-full hover:bg-blue-100 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit address",style:{zIndex:2},children:o.jsx(aH,{className:"w-5 h-5"})}),o.jsx("button",{type:"button",onClick:F=>{F.stopPropagation(),T($.id)},className:"absolute top-4 right-4 p-2 rounded-full hover:bg-red-100 text-red-600 hover:text-red-800 transition-colors",title:"Delete address",style:{zIndex:2},children:o.jsx(Ad,{className:"w-5 h-5"})}),c===$.id&&o.jsx(Pd,{className:"w-5 h-5 text-orange-500 ml-2 mt-1"})]},$.id))})}),o.jsx(pc,{isOpen:m,onClose:()=>g(!1),onLocationSelect:S})]})]})})},YQ=()=>{var Zt;const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),{selectedAddress:r}=Zm(),{cart:s,addToCart:i,updateCartQuantity:a,removeFromCart:l,clearCart:c,getTotalItems:u,getTotalPrice:h,isCartPopupOpen:p,setIsCartPopupOpen:m}=Rm(),{banStatus:g}=mc(),[v,y]=d.useState("food"),[b,w]=d.useState(""),[x,N]=d.useState("grid"),[k,A]=d.useState([0,1e3]),[R,C]=d.useState("Fetching location..."),[_,S]=d.useState(!1),[T,I]=d.useState(!1),[P,L]=d.useState(null),[G,$]=d.useState(!1),[F,W]=d.useState(null),[O,D]=d.useState(!1),[B,V]=d.useState(!1),[U,Q]=d.useState(!1),[ie,q]=d.useState(!1),[ge,J]=d.useState(!0),[ue,ye]=d.useState([]),[Y,Z]=d.useState([]),[te,ve]=d.useState([]),[Me,ee]=d.useState([]),[Ae,qe]=d.useState([]),[Ct,tt]=d.useState([]),[ot,Be]=d.useState(!1),[fe,re]=d.useState({city:"",pincode:"",display:"Fetching location..."});d.useEffect(()=>{(async()=>{const Se=await td(ze.FOOD);ee(Se)})()},[]),d.useEffect(()=>{(async()=>{const Se=await td(ze.DAILY_ESSENTIAL);qe(Se)})()},[]),d.useEffect(()=>{(async()=>{tt(await zB(4))})()},[]);const pe={fast_delivery:(()=>{var ce;if(r){const Se=(ce=r.city)==null?void 0:ce.toLowerCase();if(Se!=null&&Se.includes("mumbai"))return[{id:5,name:"Pizza Hut",price:120,rating:4.6,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"25-30 mins",ad:!0},{id:6,name:"Bombay Spice",price:150,rating:4.4,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"20-25 mins",discount:"50% OFF"},{id:7,name:"Mumbai Chinese",price:200,rating:4.2,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"18-22 mins",offer:"BUY1 GET1"}];if(Se!=null&&Se.includes("delhi"))return[{id:5,name:"Domino's Delhi",price:110,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"22-28 mins",ad:!0},{id:6,name:"Delhi Darbar",price:140,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"18-23 mins",discount:"40% OFF"},{id:7,name:"Beijing Express",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"20-25 mins",offer:"BUY1 GET1"}];if(Se!=null&&Se.includes("bangalore"))return[{id:5,name:"Pizza Corner",price:130,rating:4.7,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"20-25 mins",ad:!0},{id:6,name:"Bangalore Spice",price:160,rating:4.4,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"15-20 mins",discount:"60% OFF"},{id:7,name:"Tech Chinese",price:190,rating:4.2,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"18-22 mins",offer:"BUY1 GET1"}]}return[{id:5,name:"Domino's Pizza",price:91,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"20-25 mins",ad:!0},{id:6,name:"Spice N Ice",price:130,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"20-25 mins",discount:"60% OFF"},{id:7,name:"China Nation",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"15-20 mins",offer:"BUY1 GET1"}]})()},je=[{name:"FEAST MODE",subtitle:"65% OFF Every 30 Mins",icon:"",color:"bg-blue-900/50"},{name:"FLASH DEALS",subtitle:"Dishes From 49",icon:"",color:"bg-blue-900/50"},{name:"DISCOUNTS",subtitle:"Up To 60% OFF",icon:"%",color:"bg-blue-900/50"},{name:"Bolt",subtitle:"Food In 10 Mins",icon:"",color:"bg-blue-900/50"}],ae=pe.fast_delivery.filter(ce=>ce.name.toLowerCase().includes(b.toLowerCase())),Ee=()=>{z.success("Redirecting to orders...")},Ie=ce=>{W(ce)},ht=()=>{y("wine"),G?t("/drinks"):Q(!0)},kt=ce=>{console.log("handleFoodClick called with category:",ce),y("food"),t("/food",{state:{category:ce}})},It=()=>{y("essentials"),t("/daily-essential")},At=async ce=>{const{address:Se,paymentMethod:He,tip:mt,finalTotal:Ht,location:ut}=ce;if(g.isBanned){z.error("Your account has been suspended. You cannot place orders."),q(!1);return}if(!P){z.error("Please log in to place an order."),S(!0);return}if(!Se.phone||Se.phone.trim()===""){z.error("Please add a phone number to your address before placing the order.");return}let Tt=null;if(ut)Tt={lat:ut.lat,lng:ut.lng},z.success("Using selected delivery location!");else{z.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const be=await new Promise((Jt,Mn)=>{navigator.geolocation.getCurrentPosition(Jt,Mn,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});Tt={lat:be.coords.latitude,lng:be.coords.longitude},z.dismiss(),z.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(be){console.error("Error getting location:",be),z.dismiss(),be.code===1?z.error("Location access denied. Please enable location permissions for accurate tracking."):be.code===2?z.error("Location unavailable. Please check your GPS settings."):be.code===3?z.error("Location request timed out. Please try again."):z.error("Could not get your location. Using approximate location."),Tt={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const Re=25,Qe=Math.random()*10+5,rt=Math.round(Re+Qe),Xt=new Date(Date.now()+rt*60*1e3),xn={name:Se.name||P.displayName||"User",email:Se.email||P.email||"",phone:Se.phone},gt={userId:P.uid,userInfo:xn,items:s,totalPrice:Ht,tip:mt,deliveryAddress:Object.fromEntries(Object.entries(Se).filter(([be,Jt])=>Jt!=null)),paymentMethod:He,status:"pending",createdAt:new Date,estimatedDeliveryTime:Xt,estimatedMinutes:rt,userLocation:Tt,selectedLocationAddress:(ut==null?void 0:ut.address)||null};try{await Hl(async()=>{const be=await ws(rn(Fe,"orders"),gt);await In(_t(Fe,"orders",be.id),{orderId:be.id}),z.success("Order placed successfully!"),c(),q(!1),t(`/current-order/${be.id}`)})}catch(be){console.error("Error placing order:",be),be.code==="permission-denied"?z.error("Access denied. Please check your permissions."):be.code==="unavailable"?z.error("Firebase service is temporarily unavailable. Please try again later."):z.error("Failed to place order. Please check your connection and try again.")}},Mt=ce=>{switch(ce.category){case"food":t("/food");break;case"drinks":t("/drinks");break;case"daily_essential":t("/daily-essential");break}z.success(`Selected ${ce.name}`)};d.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async He=>{const{latitude:mt,longitude:Ht}=He.coords;console.log("Detected coordinates:",{latitude:mt,longitude:Ht});try{const Tt=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${mt}&lon=${Ht}`)).json();Tt&&Tt.display_name?C(Tt.display_name):C("Location not found")}catch(ut){console.error("Error fetching location:",ut),C("Could not fetch location")}},He=>{C("Location access denied"),console.error("Geolocation error:",He)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):C("Geolocation not supported"),localStorage.getItem("pickngo-cart"),localStorage.getItem("pickngo-age-verified")&&$(!0);const Se=Cd(Nt,He=>{L(He),I(!!He)});return()=>Se()},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(s))},[s]),d.useEffect(()=>{(async()=>{await j2(),ye(await gl("Food")),Z(await gl("Drinks")),ve(await gl("Daily Essential"))})()},[]);const Bt=async()=>{try{await IT(Nt),z.success("Signed out successfully")}catch{z.error("Failed to sign out")}},Xe=()=>{if(!P){z.error("You must be logged in to place an order."),S(!0);return}if(s.length===0){z.error("Your cart is empty.");return}D(!1),q(!0)},Je=ce=>{C(ce.address),V(!1),z.success("Location selected successfully!")};return d.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async ce=>{const{latitude:Se,longitude:He}=ce.coords;try{const Ht=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Se}&lon=${He}`)).json(),ut=Ht.address.city||Ht.address.town||Ht.address.village||"",Tt=Ht.address.postcode||"";re({city:ut,pincode:Tt,display:ut&&Tt?`${ut}, ${Tt}`:ut||Tt||"Location not found"})}catch{re({city:"",pincode:"",display:"Location not found"})}},ce=>{re({city:"",pincode:"",display:"Location not found"})}):re({city:"",pincode:"",display:"Location not found"})},[]),o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`hidden md:block sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("img",{src:"/logo.jpg",alt:"PickNGo Logo",className:"h-12 w-auto object-contain"})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(an,{className:"w-5 h-5 text-orange-500"}),o.jsx("div",{className:"min-w-0",children:o.jsx("h3",{className:`font-medium text-sm truncate ${e?"text-white":"text-gray-900"}`,children:fe.display})})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 ml-auto pr-6",children:[o.jsx(H,{variant:"ghost",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",onClick:()=>z.info("Download our mobile app!"),children:"Download App"}),o.jsx(H,{variant:"ghost",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",onClick:()=>t("/help-center"),children:"Help Center"}),o.jsx(H,{variant:"ghost",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",onClick:()=>t("/about-us"),children:"About Us"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsxs(H,{variant:"outline",className:`flex items-center space-x-2 relative ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(Rs,{className:"w-5 h-5"}),u()>0&&o.jsx(Pt,{className:"absolute -top-2 -right-2 bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:u()})]})}),o.jsxs(si,{className:`w-80 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(ii,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Shopping Cart"}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:[u()," items"]})]})}),o.jsx(br,{className:e?"bg-gray-700":"bg-gray-200"}),s.length===0?o.jsxs("div",{className:"p-4 text-center",children:[o.jsx(Rs,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"})]}):o.jsx("div",{className:"max-h-60 overflow-y-auto",children:s.map(ce=>o.jsxs("div",{className:"flex items-center space-x-3 p-3 border-b border-gray-100 dark:border-gray-700",children:[o.jsx("img",{src:ce.image,alt:ce.name,className:"w-12 h-12 object-cover rounded",onError:Se=>{Se.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yNCAzMkMyNi4yMDkxIDMyIDI4IDMwLjIwOTEgMjggMjhDMjggMjUuNzkwOSAyNi4yMDkxIDI0IDI0IDI0QzIxLjc5MDkgMjQgMjAgMjUuNzkwOSAyMCAyOEMyMCAzMC4yMDkxIDIxLjc5MDkgMzIgMjQgMzJaIiBmaWxsPSIjOUI5QkEwIi8+Cjwvc3ZnPgo="}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-medium text-sm truncate ${e?"text-white":"text-gray-900"}`,children:ce.name}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:["",ce.price,"  ",ce.quantity]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>a(ce.id,Math.max(0,ce.quantity-1)),className:"w-6 h-6 p-0",children:"-"}),o.jsx("span",{className:`text-sm ${e?"text-white":"text-gray-900"}`,children:ce.quantity}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>a(ce.id,ce.quantity+1),className:"w-6 h-6 p-0",children:"+"})]})]},ce.id))}),s.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(br,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-lg font-bold text-orange-500",children:["",h()]})]}),o.jsx(H,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold",onClick:Xe,children:"Place Order"})]})]})]})]}),T?o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsxs(H,{variant:"outline",className:`flex items-center space-x-2 ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx($i,{className:"w-5 h-5"}),o.jsx("span",{children:(P==null?void 0:P.displayName)||((Zt=P==null?void 0:P.email)==null?void 0:Zt.split("@")[0])||"My Account"})]})}),o.jsxs(si,{className:`w-56 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(ii,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:`text-sm font-medium leading-none ${e?"text-white":"text-gray-900"}`,children:(P==null?void 0:P.displayName)||(P==null?void 0:P.email)||"User"}),o.jsx("p",{className:`text-xs leading-none ${e?"text-gray-400":"text-gray-500"}`,children:P==null?void 0:P.email})]})}),o.jsx(br,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs(wt,{onClick:()=>t("/profile"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx($i,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs(wt,{onClick:()=>t("/past-orders"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(Is,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Past Orders"})]}),o.jsxs(wt,{onClick:()=>Be(!0),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(an,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Saved Address"})]}),o.jsxs(wt,{onClick:()=>t("/settings"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(Wv,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]}),o.jsx(br,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsx(wt,{onClick:()=>z.info("Download our mobile app!"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"Download App"})}),o.jsx(wt,{onClick:()=>t("/help-center"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"Help Center"})}),o.jsx(wt,{onClick:()=>t("/about-us"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"About Us"})}),o.jsxs(wt,{onClick:Bt,className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(CC,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]}):o.jsx(H,{className:"bg-orange-500 hover:bg-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:()=>S(!0),children:"Sign In"}),o.jsx(H,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:e?o.jsx(Tw,{className:"w-5 h-5"}):o.jsx(tp,{className:"w-5 h-5"})})]})]})})}),o.jsx("header",{className:`md:hidden sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("img",{src:"/food-tray-arrow.jpg",alt:"PickNGo Delivery Logo",className:"h-10 w-10 object-contain",style:{minWidth:36}})}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(an,{className:"w-4 h-4 text-orange-500"}),o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx("h3",{className:`font-medium text-xs truncate ${e?"text-white":"text-gray-900"}`,children:fe.display})})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsxs(H,{variant:"ghost",size:"icon",className:`relative ${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,children:[o.jsx(Rs,{className:"w-5 h-5"}),u()>0&&o.jsx(Pt,{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:u()})]})}),o.jsxs(si,{className:`w-72 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(ii,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Cart"}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:[u()," items"]})]})}),o.jsx(br,{className:e?"bg-gray-700":"bg-gray-200"}),s.length===0?o.jsxs("div",{className:"p-4 text-center",children:[o.jsx(Rs,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"})]}):o.jsx("div",{className:"max-h-48 overflow-y-auto",children:s.map(ce=>o.jsxs("div",{className:"flex items-center space-x-3 p-3 border-b border-gray-100 dark:border-gray-700",children:[o.jsx("img",{src:ce.image,alt:ce.name,className:"w-10 h-10 object-cover rounded",onError:Se=>{Se.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yNCAzMkMyNi4yMDkxIDMyIDI4IDMwLjIwOTEgMjggMjhDMjggMjUuNzkwOSAyNi4yMDkxIDI0IDI0IDI0QzIxLjc5MDkgMjQgMjAgMjUuNzkwOSAyMCAyOEMyMCAzMC4yMDkxIDIxLjc5MDkgMzIgMjQgMzJaIiBmaWxsPSIjOUI5QkEwIi8+Cjwvc3ZnPgo="}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-medium text-sm truncate ${e?"text-white":"text-gray-900"}`,children:ce.name}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:["",ce.price,"  ",ce.quantity]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>a(ce.id,Math.max(0,ce.quantity-1)),className:"w-5 h-5 p-0",children:"-"}),o.jsx("span",{className:`text-xs ${e?"text-white":"text-gray-900"}`,children:ce.quantity}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>a(ce.id,ce.quantity+1),className:"w-5 h-5 p-0",children:"+"})]})]},ce.id))}),s.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(br,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-lg font-bold text-orange-500",children:["",h()]})]}),o.jsx(H,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold",onClick:Xe,children:"Place Order"})]})]})]})]}),T?o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsx(H,{variant:"ghost",size:"icon",className:`${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,children:o.jsx($i,{className:"w-5 h-5"})})}),o.jsxs(si,{className:`w-56 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(ii,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:`text-sm font-medium leading-none ${e?"text-white":"text-gray-900"}`,children:(P==null?void 0:P.displayName)||(P==null?void 0:P.email)||"User"}),o.jsx("p",{className:`text-xs leading-none ${e?"text-gray-400":"text-gray-500"}`,children:P==null?void 0:P.email})]})}),o.jsx(br,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs(wt,{onClick:()=>t("/profile"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx($i,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs(wt,{onClick:()=>t("/past-orders"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(Is,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Past Orders"})]}),o.jsxs(wt,{onClick:()=>Be(!0),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(an,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Saved Address"})]}),o.jsxs(wt,{onClick:()=>t("/settings"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(Wv,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]}),o.jsx(br,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsx(wt,{onClick:()=>z.info("Download our mobile app!"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"Download App"})}),o.jsx(wt,{onClick:()=>t("/help-center"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"Help Center"})}),o.jsx(wt,{onClick:()=>t("/about-us"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"About Us"})}),o.jsxs(wt,{onClick:Bt,className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(CC,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]}):o.jsx(H,{variant:"ghost",size:"icon",className:`${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,onClick:()=>S(!0),children:o.jsx($i,{className:"w-5 h-5"})})]})]})})}),o.jsxs("main",{className:"pb-20 md:pb-0",children:[o.jsx("div",{className:`hidden md:block py-16 ${e?"bg-gray-800":"bg-gray-100"}`,children:o.jsxs("div",{className:"container mx-auto text-center",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4 text-orange-500",children:"Your daily essentials, delivered in minutes."}),r?o.jsx("div",{className:"mb-4",children:o.jsxs(Pt,{className:"bg-orange-100 text-orange-700 px-4 py-2 text-sm",children:[" Delivering to: ",r.city||"",r.city&&r.state?", ":"",r.state||"",(r.city||r.state)&&r.pincode?", ":"",r.pincode||""]})}):fe.city||fe.pincode?o.jsx("div",{className:"mb-4",children:o.jsxs(Pt,{className:"bg-orange-100 text-orange-700 px-4 py-2 text-sm",children:[" Delivering to: ",fe.city,fe.city&&fe.pincode?", ":"",fe.pincode]})}):o.jsx("div",{className:"mb-4",children:o.jsx(Pt,{className:"bg-orange-100 text-orange-700 px-4 py-2 text-sm",children:" Delivering to: Not selected"})}),o.jsx("p",{className:`text-lg mb-8 ${e?"text-gray-300":"text-gray-600"}`,children:"Order food, groceries, and more from the best places near you."}),o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(FC,{isOpen:!0,onClose:()=>{},onProductSelect:Mt,onAddToCart:i,cart:s})})})]})}),o.jsxs("div",{className:"md:hidden",children:[o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(FC,{isOpen:!0,onClose:()=>{},onProductSelect:Mt,onAddToCart:i,cart:s}),o.jsx(H,{variant:"ghost",size:"sm",className:"text-pickngo-orange-500",onClick:()=>z.success("Voice search activated!"),children:o.jsx(oH,{className:"w-5 h-5"})})]})}),o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Foodie Weekend"}),o.jsx("p",{className:"text-lg mb-4",children:"Upto 60% OFF on delights!"}),o.jsx(H,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:Ee,children:"ORDER NOW"})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=150",alt:"Food",className:"w-20 h-20 rounded-full object-cover"}),o.jsx("img",{src:"https://images.unsplash.com/photo-1551024601-bec78aea704b?w=150",alt:"Dessert",className:"w-20 h-20 rounded-full object-cover"})]})]})})})]}),o.jsx("div",{className:"hidden md:block container mx-auto py-12",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs(Te,{className:`overflow-hidden cursor-pointer group ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,onClick:()=>kt("all"),children:[o.jsx(dt,{className:"p-0",children:o.jsx("img",{src:"https://plus.unsplash.com/premium_photo-1673108852141-e8c3c22a4a22?w=400",alt:"Food Delivery",className:"w-full h-56 object-cover"})}),o.jsxs(Pe,{className:"p-6",children:[o.jsx("h3",{className:`text-2xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Food Delivery"}),o.jsx("p",{className:`mb-4 ${e?"text-gray-300":"text-gray-600"}`,children:"From the best local restaurants"}),o.jsx(H,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Order Now"})]})]}),o.jsxs(Te,{className:`overflow-hidden cursor-pointer group ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,onClick:It,children:[o.jsx(dt,{className:"p-0",children:o.jsx("img",{src:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=500",alt:"Groceries",className:"w-full h-56 object-cover"})}),o.jsxs(Pe,{className:"p-6",children:[o.jsx("h3",{className:`text-2xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Instamart"}),o.jsx("p",{className:`mb-4 ${e?"text-gray-300":"text-gray-600"}`,children:"Instant Grocery Delivery"}),o.jsx(H,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Shop Now"})]})]}),o.jsxs(Te,{className:`overflow-hidden cursor-pointer group ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,onClick:ht,children:[o.jsx(dt,{className:"p-0",children:o.jsx("img",{src:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=500",alt:"Dineout",className:"w-full h-56 object-cover"})}),o.jsxs(Pe,{className:"p-6",children:[o.jsx("h3",{className:`text-2xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Dineout & Drinks"}),o.jsx("p",{className:`mb-4 ${e?"text-gray-300":"text-gray-600"}`,children:"Eat out or get drinks delivered"}),o.jsx(H,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Explore Now"})]})]})]})}),o.jsxs("div",{className:"hidden md:block container mx-auto py-12",children:[o.jsx("h2",{className:`text-3xl font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:"What's on your mind?"}),(()=>{const ce=new Set,Se=Me.filter(He=>{const mt=He.subcategory||He.id||He.name;return ce.has(mt)?!1:(ce.add(mt),!0)});return o.jsxs(t0,{opts:{align:"start",loop:!0},children:[o.jsx(n0,{children:Se.map((He,mt)=>o.jsx(r0,{className:"basis-auto",children:o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>kt(He.subcategory),children:[o.jsx("div",{className:"w-36 h-36 flex items-center justify-center rounded-full mx-auto text-6xl bg-gray-100 dark:bg-gray-800",children:He.icon}),o.jsx("p",{className:`mt-2 font-semibold ${e?"text-white":"text-gray-900"}`,children:He.displayName})]})},mt))}),o.jsx(s0,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"}),o.jsx(i0,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"})]})})()]}),o.jsxs("div",{className:"hidden md:block container mx-auto py-8",children:[o.jsx("h2",{className:`text-2xl font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:"Top Buys of All Time"}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:Ct.filter(ce=>ce.category==="food").map(ce=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${e?"border border-gray-700":"border border-gray-200"}`,children:[o.jsx("div",{className:"relative",children:o.jsx("img",{src:ce.image,alt:ce.name,className:"w-full h-48 object-cover"})}),o.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[o.jsx("h3",{className:"font-bold text-lg mb-1",children:ce.name}),o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsxs("span",{className:"font-medium text-sm text-gray-500 dark:text-gray-300",children:["",ce.price]}),o.jsxs("span",{className:"text-gray-400 text-sm",children:[" ",ce.rating,""]})]}),o.jsx("p",{className:"text-gray-400 text-sm flex-1",children:ce.category}),o.jsxs("span",{className:"text-xs text-orange-500 font-bold mt-2",children:["Total Bought: ",ce.totalBought]})]})]},ce.id))})]}),o.jsxs("div",{className:"hidden md:block container mx-auto py-12",children:[o.jsx("h2",{className:`text-3xl font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:"Shop groceries on Instamart"}),(()=>{const ce=new Set,Se=Ae.filter(He=>{const mt=He.subcategory||He.id||He.name;return ce.has(mt)?!1:(ce.add(mt),!0)});return o.jsxs(t0,{opts:{align:"start",loop:!0},children:[o.jsx(n0,{children:Se.map((He,mt)=>o.jsx(r0,{className:"basis-auto",children:o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>t("/daily-essential",{state:{category:He.subcategory}}),children:[o.jsx("div",{className:`w-36 h-36 flex items-center justify-center rounded-full mx-auto text-6xl ${e?"bg-gray-800":"bg-gray-100"}`,style:{boxShadow:"0 2px 8px 0 rgba(0,0,0,0.04)"},children:He.icon?o.jsx("span",{children:He.icon}):o.jsx("img",{src:He.image||"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=200&h=200&fit=crop",alt:He.name,className:"w-20 h-20 object-cover rounded-full"})}),o.jsx("p",{className:`mt-2 font-semibold ${e?"text-white":"text-gray-900"}`,children:He.displayName||He.name})]})},mt))}),o.jsx(s0,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"}),o.jsx(i0,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"})]})})()]}),o.jsxs("div",{className:"md:hidden",children:[o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:je.map((ce,Se)=>o.jsxs("button",{className:`${ce.color} backdrop-blur-md rounded-2xl p-4 text-white relative overflow-hidden hover:opacity-90 transition-opacity`,onClick:()=>z.success(`${ce.name} activated!`),children:[o.jsx("div",{className:"text-2xl mb-2",children:ce.icon}),o.jsx("h3",{className:"font-bold text-sm mb-1",children:ce.name}),o.jsx("p",{className:"text-xs opacity-90",children:ce.subtitle})]},Se))})}),o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"bg-gradient-to-r from-red-600 to-purple-700 rounded-2xl p-6 text-white relative overflow-hidden",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("h3",{className:"text-xl font-bold",children:"Bolt | Dinner in 10 mins"})]}),o.jsx("p",{className:"mb-4",children:"Fresh, hot & crisp delights for you."}),o.jsx(H,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:Ee,children:"ORDER NOW"})]}),o.jsx("img",{src:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=200",alt:"Food Bowl",className:"w-32 h-32 rounded-full object-cover"})]})})}),o.jsxs("div",{className:"container mx-auto px-4 mb-20",children:[o.jsx("h2",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Fast delivery"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:ae.map(ce=>o.jsxs(Te,{className:`relative overflow-hidden rounded-2xl cursor-pointer hover:shadow-lg transition-shadow border ${e?"bg-gray-800 border-gray-700 text-white":"bg-white/5 backdrop-blur-md text-white border-gray-700"}`,onClick:()=>Ie(ce),children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:ce.image,alt:ce.name,className:"w-full h-48 object-cover"}),o.jsx(H,{variant:"ghost",size:"icon",className:"absolute top-3 right-3 bg-black/50 hover:bg-black/70 rounded-full p-2",onClick:Se=>{Se.stopPropagation(),z.success("Added to wishlist!")},children:o.jsx(vi,{className:"w-4 h-4"})}),ce.discount&&o.jsx("div",{className:"absolute top-3 left-3 bg-pickngo-orange-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:ce.discount}),ce.offer&&o.jsx("div",{className:"absolute bottom-3 right-3 bg-green-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:ce.offer}),ce.ad&&o.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/80 text-white px-3 py-1 rounded text-sm",children:["ITEMS AT ",ce.price]})]}),o.jsxs(Pe,{className:"p-4",children:[o.jsx("h3",{className:"font-bold text-lg mb-1",children:ce.name}),o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Gr,{className:"w-4 h-4 fill-green-500 text-green-500"}),o.jsx("span",{className:"font-medium text-sm text-gray-300",children:ce.rating})]}),o.jsxs("span",{className:"text-gray-400 text-sm",children:[" ",ce.deliveryTime]})]}),o.jsx("p",{className:"text-gray-300 text-sm",children:ce.category})]})]},ce.id))})]})]})]}),o.jsx("div",{className:`md:hidden fixed bottom-0 left-0 right-0 backdrop-blur-md border-t z-50 ${e?"bg-gray-900/80 border-gray-700":"bg-white/80 border-gray-200"}`,children:o.jsxs("div",{className:`grid ${T?"grid-cols-4":"grid-cols-3"} h-16`,children:[o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="food"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:()=>kt("all"),children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("span",{className:"text-xs font-medium",children:"Food"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="essentials"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:It,children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("span",{className:"text-xs font-medium",children:"Daily Essential"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="wine"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:ht,children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("span",{className:"text-xs font-medium",children:"Wine Stores"})]}),T&&o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="reorder"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:()=>t("/past-orders"),children:[o.jsx(rH,{className:"w-6 h-6"}),o.jsx("span",{className:"text-xs font-medium",children:"Reorder"})]})]})}),o.jsx(Um,{cart:s,totalPrice:h(),onCheckout:()=>D(!0),onDelete:()=>c(),onViewMenu:()=>D(!0),isDarkMode:e,buttonLabel:"Checkout",className:"bottom-16"}),o.jsx(zH,{isOpen:_,onClose:()=>S(!1),onLoginSuccess:()=>I(!0)}),o.jsx(RA,{isOpen:U,onVerified:()=>{$(!0),localStorage.setItem("pickngo-age-verified","true"),Q(!1),t("/drinks"),z.success("Age verified! Welcome to wine stores.")},onClose:()=>Q(!1)}),o.jsx(Pm,{product:F,onClose:()=>W(null),onAddToCart:i}),o.jsx(Am,{isOpen:O,onClose:()=>D(!1),cart:s,updateQuantity:a,totalPrice:h(),onProceedToCheckout:Xe}),o.jsx(Vm,{isOpen:ie,onClose:()=>q(!1),onPlaceOrder:At,totalPrice:h(),user:P}),o.jsxs("footer",{className:`${e?"bg-gray-900 text-white":"bg-gray-100 text-gray-900"} mt-20`,children:[o.jsx("div",{className:"container mx-auto px-4 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("h3",{className:"text-2xl font-bold text-pickngo-orange-500",children:"PickNGo"})}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Your trusted partner for quick food delivery, grocery shopping, and daily essentials."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-pickngo-orange-500",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(H,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>kt("all"),children:"Food Delivery"})}),o.jsx("li",{children:o.jsx(H,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:It,children:"Grocery Delivery"})}),o.jsx("li",{children:o.jsx(H,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:ht,children:"Wine & Drinks"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-pickngo-orange-500",children:"Support"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(H,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/help-center"),children:"Help Center"})}),o.jsx("li",{children:o.jsx(H,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/contact-us"),children:"Contact Us"})}),o.jsx("li",{children:o.jsx(H,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/track-order"),children:"Track Order"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-pickngo-orange-500",children:"Company"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(H,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/about-us"),children:"About Us"})}),o.jsx("li",{children:o.jsx(H,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/careers"),children:"Careers"})}),o.jsx("li",{children:o.jsx(H,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/privacy-policy"),children:"Privacy Policy"})})]})]})]})}),o.jsx("div",{className:`border-t ${e?"border-gray-800":"border-gray-300"}`,children:o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:" 2024 PickNGo. All rights reserved."}),o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:""}),o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Made with  in India"})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsx(H,{variant:"ghost",size:"sm",className:`${e?"text-gray-400 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"}`,onClick:()=>z.info("Download our mobile app!"),children:"Download App"}),o.jsx(H,{variant:"ghost",size:"sm",className:`${e?"text-gray-400 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"}`,onClick:()=>z.info("Newsletter subscription coming soon!"),children:"Newsletter"})]})]})})})]}),o.jsx(pc,{isOpen:B,onClose:()=>V(!1),onLocationSelect:Je}),o.jsx(QQ,{isOpen:ot,onClose:()=>Be(!1),userId:(P==null?void 0:P.uid)||null})]})},ZQ=()=>{var je;const t=Ln(),e=Qp(),{isDarkMode:n,toggleDarkMode:r}=Yt(),[s,i]=d.useState(""),[a,l]=d.useState("All"),[c,u]=d.useState(null),{cart:h,addToCart:p,updateCartQuantity:m,removeFromCart:g,clearCart:v,getTotalItems:y,getTotalPrice:b}=Rm(),[w,x]=d.useState([]),[N,k]=d.useState([]),[A,R]=d.useState(!0),[C,_]=d.useState(!0),[S,T]=d.useState(!1),[I,P]=d.useState(null),[L,G]=d.useState(!1),[$,F]=d.useState(!1),[W,O]=d.useState(!1),[D,B]=d.useState("relevance"),[V,U]=d.useState(!1),[Q,ie]=d.useState("all"),[q,ge]=d.useState(!1),[J,ue]=d.useState(null),[ye,Y]=d.useState("grid"),[Z,te]=d.useState("All"),{banStatus:ve}=mc(),[Me,ee]=d.useState(!1),Ae=d.useMemo(()=>{let ae=[...w];switch(a!=="all"&&a!=="All"&&(ae=ae.filter(Ee=>Ee.subcategory&&Ee.subcategory.trim().toLowerCase()===a.trim().toLowerCase())),s&&(ae=ae.filter(Ee=>Ee.name.toLowerCase().includes(s.toLowerCase()))),Q==="veg"?ae=ae.filter(Ee=>Ee.isVeg===!0):Q==="non-veg"&&(ae=ae.filter(Ee=>Ee.isVeg===!1)),D){case"price-asc":ae.sort((Ee,Ie)=>Ee.price-Ie.price);break;case"price-desc":ae.sort((Ee,Ie)=>Ie.price-Ee.price);break;case"rating":ae.sort((Ee,Ie)=>(Ie.rating||0)-(Ee.rating||0));break}return ae},[w,a,s,Q,D]),qe=Array.from(new Map(Ae.map(ae=>[`${ae.name}-${ae.price}`,ae])).values()),Ct=y(),tt=b(),ot=ae=>{p(ae),O(!0)},Be=async()=>{_(!0);try{const ae=await td(ze.FOOD);k(ae)}catch(ae){console.error("Error loading food categories:",ae),z.error("Failed to load categories")}finally{_(!1)}},fe=async()=>{R(!0);try{const ae=await gl(ze.FOOD);x(ae)}catch(ae){console.error("Error loading food products:",ae),z.error("Failed to load products")}finally{R(!1)}};d.useEffect(()=>{Be(),fe()},[]),d.useEffect(()=>{var ae;(ae=e.state)!=null&&ae.category&&N.some(Ie=>Ie.name===e.state.category||Ie.subcategory===e.state.category)&&l(e.state.category)},[(je=e.state)==null?void 0:je.category,N]),d.useEffect(()=>{const ae=Cd(Nt,Ee=>{P(Ee),ee(!!Ee)});return()=>ae()},[]),d.useEffect(()=>{console.log("Categories:",N)},[N]);const re=async ae=>{const{address:Ee,paymentMethod:Ie,tip:ht,finalTotal:kt,location:It}=ae;if(ve.isBanned){z.error("Your account has been suspended. You cannot place orders."),G(!1);return}if(!I){z.error("Please log in to place an order.");return}if(!Ee.phone||Ee.phone.trim()===""){z.error("Please add a phone number to your address before placing the order.");return}let At=null;if(It)At={lat:It.lat,lng:It.lng},z.success("Using selected delivery location!");else{z.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const Se=await new Promise((He,mt)=>{navigator.geolocation.getCurrentPosition(He,mt,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});At={lat:Se.coords.latitude,lng:Se.coords.longitude},z.dismiss(),z.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(Se){console.error("Error getting location:",Se),z.dismiss(),Se.code===1?z.error("Location access denied. Please enable location permissions for accurate tracking."):Se.code===2?z.error("Location unavailable. Please check your GPS settings."):Se.code===3?z.error("Location request timed out. Please try again."):z.error("Could not get your location. Using approximate location."),At={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const Mt=25,Bt=Math.random()*10+5,Xe=Math.round(Mt+Bt),Je=new Date(Date.now()+Xe*60*1e3),Zt={name:Ee.name||I.displayName||"User",email:Ee.email||I.email||"",phone:Ee.phone},ce={userId:I.uid,userInfo:Zt,items:h,totalPrice:kt,tip:ht,deliveryAddress:Object.fromEntries(Object.entries(Ee).filter(([Se,He])=>He!=null)),paymentMethod:Ie,status:"pending",createdAt:new Date,estimatedDeliveryTime:Je,estimatedMinutes:Xe,userLocation:At,selectedLocationAddress:(It==null?void 0:It.address)||null};try{await Hl(async()=>{const Se=await ws(rn(Fe,"orders"),ce);await In(_t(Fe,"orders",Se.id),{orderId:Se.id}),z.success("Order placed successfully!"),v(),G(!1),t(`/current-order/${Se.id}`)})}catch(Se){console.error("Error placing order:",Se),Se.code==="permission-denied"?z.error("Access denied. Please check your permissions."):Se.code==="unavailable"?z.error("Firebase service is temporarily unavailable. Please try again later."):z.error("Failed to place order. Please check your connection and try again.")}},pe=ae=>{ue(ae),ge(!1)};return Z==="All"||w.filter(ae=>ae.subcategory===Z),o.jsxs("div",{className:`min-h-screen ${n?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-40 ${n?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:n?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${n?"text-white":"text-gray-900"}`,children:"Offers"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(H,{onClick:()=>U(!V),variant:"ghost",size:"icon",className:n?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(xi,{className:"w-5 h-5"})}),o.jsxs(H,{onClick:()=>F(!0),variant:"ghost",size:"icon",className:"relative",children:[o.jsx(Rs,{className:"w-5 h-5"}),Ct>0&&o.jsx(Pt,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:Ct})]})]})]})})}),V&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx($e,{placeholder:"Search for food...",value:s,onChange:ae=>i(ae.target.value),className:`w-full ${n?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-2 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsx(H,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(si,{children:[o.jsx(ii,{children:"Sort Options"}),o.jsx(br,{}),o.jsx(wt,{onClick:()=>B("relevance"),children:"Relevance"}),o.jsx(wt,{onClick:()=>B("price-asc"),children:"Price: Low to High"}),o.jsx(wt,{onClick:()=>B("price-desc"),children:"Price: High to Low"}),o.jsx(wt,{onClick:()=>B("rating"),children:"Rating"})]})]}),o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsx(H,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Veg/Non-Veg"})}),o.jsxs(si,{children:[o.jsx(ii,{children:"Dietary"}),o.jsx(br,{}),o.jsx(wt,{onClick:()=>ie("all"),children:"All"}),o.jsx(wt,{onClick:()=>ie("veg"),children:"Veg"}),o.jsx(wt,{onClick:()=>ie("non-veg"),children:"Non-Veg"})]})]})]})})}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"flex space-x-4 overflow-x-auto px-2 md:justify-center md:space-x-8 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:(()=>{const ae=new Set;return N.filter(Ie=>{if(!Ie.name||Ie.name.trim()===""||Ie.name===""||Ie.name===""||Ie.name.includes("http")||Ie.name.includes("unsplash"))return!1;const ht=Ie.subcategory||Ie.id||Ie.name;return ae.has(ht)?!1:(ae.add(ht),!0)}).map(Ie=>{let ht=null;if(Ie.image)ht=o.jsx("img",{src:Ie.image,alt:Ie.name,className:"w-full h-full object-cover"});else if(Ie.logo)ht=o.jsx("img",{src:Ie.logo,alt:Ie.name,className:"w-full h-full object-cover"});else if(Ie.icon&&typeof Ie.icon=="string"&&!Ie.icon.startsWith("http"))ht=o.jsx("span",{className:"text-4xl flex items-center justify-center w-full h-full",children:Ie.icon});else return null;return o.jsxs("button",{onClick:()=>l(Ie.subcategory),className:"flex flex-col items-center focus:outline-none",children:[o.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 rounded-full overflow-hidden border-4 transition-all duration-200 ${a===Ie.subcategory?"border-orange-500 shadow-lg":"border-transparent"}`,style:{boxShadow:a===Ie.subcategory?"0 0 0 4px rgba(255, 115, 0, 0.2)":void 0},children:ht}),o.jsx("span",{className:"mt-2 text-sm md:text-base font-medium text-center whitespace-nowrap",children:Ie.name})]},Ie.id||Ie.name)})})()})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:[o.jsx("div",{className:"block md:hidden space-y-4",children:qe.map(ae=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:ae.image,alt:ae.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(vi,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",ae.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${n?"text-white":"text-gray-900"}`,children:ae.name}),o.jsx(H,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Wl,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(Gr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[ae.rating," (500+)  20-25 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:ae.description}),o.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar  2.2 km"}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:`font-bold text-lg mb-1 ${n?"text-orange-400":"text-orange-600"}`,children:["",ae.price]}),o.jsx(H,{onClick:()=>ot(ae),size:"sm",className:n?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:n?"default":"outline",children:"Add to cart"})]})]})]},ae.id))}),o.jsx("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:qe.map(ae=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${n?"border border-gray-700":"border border-gray-200"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:ae.image,alt:ae.name,className:"w-full h-48 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(vi,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",ae.price]})]}),o.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h3",{className:`font-bold text-lg truncate ${n?"text-white":"text-gray-900"}`,children:ae.name}),o.jsx(H,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Wl,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-1",children:[o.jsx(Gr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[ae.rating," (500+)  20-25 mins"]})]}),o.jsx("p",{className:`text-sm mb-1 truncate ${n?"text-gray-400":"text-gray-600"}`,children:ae.description}),o.jsx("p",{className:`text-sm mb-2 truncate ${n?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar  2.2 km"}),o.jsxs("div",{className:`font-bold text-lg mb-2 ${n?"text-orange-400":"text-orange-600"}`,children:["",ae.price]}),o.jsx(H,{onClick:()=>ot(ae),size:"sm",className:n?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:n?"default":"outline",children:"Add to cart"})]})]},ae.id))})]}),o.jsx(Um,{cart:h,totalPrice:tt,onCheckout:()=>F(!0),onDelete:()=>{v(),z.success("Cart cleared!")},onViewMenu:()=>F(!0),isDarkMode:n,buttonLabel:"Checkout",className:"!bottom-0"}),o.jsx(Am,{isOpen:$,onClose:()=>F(!1),cart:h,updateQuantity:m,totalPrice:b(),onProceedToCheckout:()=>{if(!I){z.error("You must be logged in to place an order.");return}G(!0)}}),c&&o.jsx(Pm,{product:c,onClose:()=>u(null),onAddToCart:p}),L&&o.jsx(Vm,{isOpen:L,onClose:()=>G(!1),onPlaceOrder:re,totalPrice:tt,user:I}),o.jsx(pc,{isOpen:q,onClose:()=>ge(!1),onLocationSelect:pe})]})},XQ=()=>{var fe;const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState(""),[i,a]=d.useState("All"),[l,c]=d.useState(null),{cart:u,addToCart:h,updateCartQuantity:p,removeFromCart:m,clearCart:g,getTotalItems:v,getTotalPrice:y,isCartPopupOpen:b,setIsCartPopupOpen:w}=Rm(),[x,N]=d.useState([]),[k,A]=d.useState([]),[R,C]=d.useState(!0),[_,S]=d.useState(!0),[T,I]=d.useState(!1),[P,L]=d.useState(null),[G,$]=d.useState(!1),[F,W]=d.useState("relevance"),[O,D]=d.useState(!1),[B,V]=d.useState(!1),U=Qp(),[Q,ie]=d.useState(!1),[q,ge]=d.useState(null),[J,ue]=d.useState("grid"),{banStatus:ye}=mc(),[Y,Z]=d.useState(!1),te=d.useMemo(()=>{let re=[...x];switch(i!=="all"&&i!=="All"&&(re=re.filter(pe=>pe.subcategory&&pe.subcategory.trim().toLowerCase()===i.trim().toLowerCase())),r&&(re=re.filter(pe=>pe.name.toLowerCase().includes(r.toLowerCase()))),F){case"price-asc":re.sort((pe,je)=>pe.price-je.price);break;case"price-desc":re.sort((pe,je)=>je.price-pe.price);break;case"rating":re.sort((pe,je)=>(je.rating||0)-(pe.rating||0));break}return re},[x,i,r,F]),ve=d.useMemo(()=>{const re=new Map;for(const pe of te){const je=`${pe.name}-${pe.price}`;re.has(je)||re.set(je,pe)}return Array.from(re.values())},[te]),Me=u.reduce((re,pe)=>re+pe.quantity,0),ee=u.reduce((re,pe)=>re+pe.price*pe.quantity,0),Ae=re=>{h(re)},qe=async()=>{S(!0);try{const re=await td(ze.DAILY_ESSENTIAL);A(re)}catch(re){console.error("Error loading daily essential categories:",re),z.error("Failed to load categories")}finally{S(!1)}},Ct=async()=>{C(!0);try{const re=await gl(ze.DAILY_ESSENTIAL);N(re)}catch(re){console.error("Error loading daily essential products:",re),z.error("Failed to load products")}finally{C(!1)}};d.useEffect(()=>{qe(),Ct()},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(u))},[u]),d.useEffect(()=>{const re=Cd(Nt,pe=>{L(pe),Z(!!pe)});return()=>re()},[]),d.useEffect(()=>{var re;(re=U.state)!=null&&re.category&&k.some(je=>je.name===U.state.category||je.subcategory===U.state.category)&&a(U.state.category)},[(fe=U.state)==null?void 0:fe.category,k]),d.useEffect(()=>{console.log("Categories:",k)},[k]);const tt=async re=>{const{address:pe,paymentMethod:je,tip:ae,finalTotal:Ee,location:Ie}=re;if(ye.isBanned){z.error("Your account has been suspended. You cannot place orders."),$(!1);return}if(!P){z.error("Please log in to place an order.");return}if(!pe.phone||pe.phone.trim()===""){z.error("Please add a phone number to your address before placing the order.");return}let ht=null;if(Ie)ht={lat:Ie.lat,lng:Ie.lng},z.success("Using selected delivery location!");else{z.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const Je=await new Promise((Zt,ce)=>{navigator.geolocation.getCurrentPosition(Zt,ce,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});ht={lat:Je.coords.latitude,lng:Je.coords.longitude},z.dismiss(),z.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(Je){console.error("Error getting location:",Je),z.dismiss(),Je.code===1?z.error("Location access denied. Please enable location permissions for accurate tracking."):Je.code===2?z.error("Location unavailable. Please check your GPS settings."):Je.code===3?z.error("Location request timed out. Please try again."):z.error("Could not get your location. Using approximate location."),ht={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const kt=25,It=Math.random()*10+5,At=Math.round(kt+It),Mt=new Date(Date.now()+At*60*1e3),Bt={name:pe.name||P.displayName||"User",email:pe.email||P.email||"",phone:pe.phone},Xe={userId:P.uid,userInfo:Bt,items:u,totalPrice:Ee,tip:ae,deliveryAddress:Object.fromEntries(Object.entries(pe).filter(([Je,Zt])=>Zt!=null)),paymentMethod:je,status:"pending",createdAt:new Date,estimatedDeliveryTime:Mt,estimatedMinutes:At,userLocation:ht,selectedLocationAddress:(Ie==null?void 0:Ie.address)||null};try{await Hl(async()=>{const Je=await ws(rn(Fe,"orders"),Xe);await In(_t(Fe,"orders",Je.id),{orderId:Je.id}),z.success("Order placed successfully!"),g(),$(!1),t(`/current-order/${Je.id}`)})}catch(Je){console.error("Error placing order:",Je),Je.code==="permission-denied"?z.error("Access denied. Please check your permissions."):Je.code==="unavailable"?z.error("Firebase service is temporarily unavailable. Please try again later."):z.error("Failed to place order. Please check your connection and try again.")}},ot=re=>{ge(re),ie(!1)},Be=()=>{if(!P){z.error("You must be logged in to place an order.");return}$(!0)};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-40 ${e?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Daily Essentials"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(H,{onClick:()=>D(!O),variant:"ghost",size:"icon",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(xi,{className:"w-5 h-5"})}),o.jsxs(H,{onClick:()=>V(!0),variant:"ghost",size:"icon",className:"relative",children:[o.jsx(Rs,{className:"w-5 h-5"}),Me>0&&o.jsx(Pt,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:Me})]})]})]})})}),O&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx($e,{placeholder:"Search for essentials...",value:r,onChange:re=>s(re.target.value),className:`w-full ${e?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-2 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsx(H,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(si,{children:[o.jsx(ii,{children:"Sort Options"}),o.jsx(br,{}),o.jsx(wt,{onClick:()=>W("relevance"),children:"Relevance"}),o.jsx(wt,{onClick:()=>W("price-asc"),children:"Price: Low to High"}),o.jsx(wt,{onClick:()=>W("price-desc"),children:"Price: High to Low"}),o.jsx(wt,{onClick:()=>W("rating"),children:"Rating"})]})]})})})}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"flex space-x-4 overflow-x-auto px-2 md:justify-center md:space-x-8 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:(()=>{const re=new Set;return k.filter(je=>{if(!je.name||je.name.trim()===""||je.name===""||je.name===""||je.name.includes("http")||je.name.includes("unsplash"))return!1;const ae=je.subcategory||je.id||je.name;return re.has(ae)?!1:(re.add(ae),!0)}).map(je=>{let ae=null;if(je.image)ae=o.jsx("img",{src:je.image,alt:je.name,className:"w-full h-full object-cover"});else if(je.logo)ae=o.jsx("img",{src:je.logo,alt:je.name,className:"w-full h-full object-cover"});else if(je.icon&&typeof je.icon=="string"&&!je.icon.startsWith("http"))ae=o.jsx("span",{className:"text-4xl flex items-center justify-center w-full h-full",children:je.icon});else return null;return o.jsxs("button",{onClick:()=>a(je.subcategory),className:"flex flex-col items-center focus:outline-none",children:[o.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 rounded-full overflow-hidden border-4 transition-all duration-200 ${i===je.subcategory?"border-orange-500 shadow-lg":"border-transparent"}`,style:{boxShadow:i===je.subcategory?"0 0 0 4px rgba(255, 115, 0, 0.2)":void 0},children:ae}),o.jsx("span",{className:"mt-2 text-sm md:text-base font-medium text-center whitespace-nowrap",children:je.name})]},je.id||je.name)})})()})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:[o.jsx("div",{className:"block md:hidden space-y-4",children:ve.map(re=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:re.image,alt:re.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(vi,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",re.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${e?"text-white":"text-gray-900"}`,children:re.name}),o.jsx(H,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Wl,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(Gr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[re.rating," (500+)  20-25 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:re.description}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar  2.2 km"}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:`font-bold text-lg mb-1 ${e?"text-orange-400":"text-orange-600"}`,children:["",re.price]}),o.jsx(H,{onClick:()=>Ae(re),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]})]},re.id))}),o.jsx("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:ve.map(re=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${e?"border border-gray-700":"border border-gray-200"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:re.image,alt:re.name,className:"w-full h-48 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(vi,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",re.price]})]}),o.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h3",{className:`font-bold text-lg truncate ${e?"text-white":"text-gray-900"}`,children:re.name}),o.jsx(H,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Wl,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-1",children:[o.jsx(Gr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[re.rating," (500+)  20-25 mins"]})]}),o.jsx("p",{className:`text-sm mb-1 truncate ${e?"text-gray-400":"text-gray-600"}`,children:re.description}),o.jsx("p",{className:`text-sm mb-2 truncate ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar  2.2 km"}),o.jsxs("div",{className:`font-bold text-lg mb-2 ${e?"text-orange-400":"text-orange-600"}`,children:["",re.price]}),o.jsx(H,{onClick:()=>Ae(re),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]},re.id))})]}),o.jsx(Um,{cart:u,totalPrice:y(),onCheckout:()=>V(!0),onDelete:g,onViewMenu:()=>V(!0),isDarkMode:e,buttonLabel:"Checkout",className:"block md:hidden !bottom-0"}),l&&o.jsx(Pm,{product:l,onClose:()=>c(null),onAddToCart:Ae}),G&&o.jsx(Vm,{isOpen:G,onClose:()=>$(!1),onPlaceOrder:tt,totalPrice:ee,user:P}),o.jsx(Am,{isOpen:B,onClose:()=>V(!1),cart:u,updateQuantity:p,totalPrice:y(),onProceedToCheckout:Be}),o.jsx(pc,{isOpen:Q,onClose:()=>ie(!1),onLocationSelect:ot})]})},JQ=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState(""),[i,a]=d.useState("All"),[l,c]=d.useState(null),{cart:u,addToCart:h,updateCartQuantity:p,removeFromCart:m,clearCart:g,getTotalItems:v,getTotalPrice:y,isCartOpen:b,setIsCartOpen:w}=Rm(),{banStatus:x}=mc(),[N,k]=d.useState(!1),[A,R]=d.useState(!1),[C,_]=d.useState([]),[S,T]=d.useState([]),[I,P]=d.useState(!0),[L,G]=d.useState(!0),[$,F]=d.useState(!1),[W,O]=d.useState(null),[D,B]=d.useState(!1),[V,U]=d.useState("relevance"),[Q,ie]=d.useState(!1),[q,ge]=d.useState(!1),[J,ue]=d.useState(null),[ye,Y]=d.useState("grid"),[Z,te]=d.useState("All"),ve=d.useMemo(()=>{let fe=[...C];switch(i!=="all"&&i!=="All"&&(fe=fe.filter(re=>re.subcategory&&re.subcategory.trim().toLowerCase()===i.trim().toLowerCase())),r&&(fe=fe.filter(re=>re.name.toLowerCase().includes(r.toLowerCase()))),V){case"price-asc":fe.sort((re,pe)=>re.price-pe.price);break;case"price-desc":fe.sort((re,pe)=>pe.price-re.price);break;case"rating":fe.sort((re,pe)=>(pe.rating||0)-(re.rating||0));break}return fe},[C,i,r,V]),Me=d.useMemo(()=>{const fe=new Map;for(const re of ve){const pe=`${re.name}-${re.price}`;fe.has(pe)||fe.set(pe,re)}return Array.from(fe.values())},[ve]),ee=u.reduce((fe,re)=>fe+re.quantity,0),Ae=u.reduce((fe,re)=>fe+re.price*re.quantity,0),qe=fe=>{if(!N){R(!0);return}h(fe)},Ct=async()=>{G(!0);try{const fe=await td(ze.DRINKS);T(fe)}catch(fe){console.error("Error loading drinks categories:",fe),z.error("Failed to load categories")}finally{G(!1)}},tt=async()=>{P(!0);try{const fe=await gl(ze.DRINKS);_(fe)}catch(fe){console.error("Error loading drinks products:",fe),z.error("Failed to load products")}finally{P(!1)}};d.useEffect(()=>{Ct(),tt(),localStorage.getItem("pickngo-age-verified")?k(!0):R(!0);const re=Cd(Nt,pe=>{O(pe)});return()=>re()},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(u))},[u]);const ot=async fe=>{const{address:re,paymentMethod:pe,tip:je,finalTotal:ae,location:Ee}=fe;if(x.isBanned){z.error("Your account has been suspended. You cannot place orders."),B(!1);return}if(!W){z.error("Please log in to place an order.");return}if(!re.phone||re.phone.trim()===""){z.error("Please add a phone number to your address before placing the order.");return}let Ie=null;if(Ee)Ie={lat:Ee.lat,lng:Ee.lng},z.success("Using selected delivery location!");else{z.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const Xe=await new Promise((Je,Zt)=>{navigator.geolocation.getCurrentPosition(Je,Zt,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});Ie={lat:Xe.coords.latitude,lng:Xe.coords.longitude},z.dismiss(),z.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(Xe){console.error("Error getting location:",Xe),z.dismiss(),Xe.code===1?z.error("Location access denied. Please enable location permissions for accurate tracking."):Xe.code===2?z.error("Location unavailable. Please check your GPS settings."):Xe.code===3?z.error("Location request timed out. Please try again."):z.error("Could not get your location. Using approximate location."),Ie={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const ht=25,kt=Math.random()*10+5,It=Math.round(ht+kt),At=new Date(Date.now()+It*60*1e3),Mt={name:re.name||W.displayName||"User",email:re.email||W.email||"",phone:re.phone},Bt={userId:W.uid,userInfo:Mt,items:u,totalPrice:ae,tip:je,deliveryAddress:Object.fromEntries(Object.entries(re).filter(([Xe,Je])=>Je!=null)),paymentMethod:pe,status:"pending",createdAt:new Date,estimatedDeliveryTime:At,estimatedMinutes:It,userLocation:Ie,selectedLocationAddress:(Ee==null?void 0:Ee.address)||null};try{await Hl(async()=>{const Xe=await ws(rn(Fe,"orders"),Bt);await In(_t(Fe,"orders",Xe.id),{orderId:Xe.id}),z.success("Order placed successfully!"),g(),B(!1),t(`/current-order/${Xe.id}`)})}catch(Xe){console.error("Error placing order:",Xe),Xe.code==="permission-denied"?z.error("Access denied. Please check your permissions."):Xe.code==="unavailable"?z.error("Firebase service is temporarily unavailable. Please try again later."):z.error("Failed to place order. Please check your connection and try again.")}};d.useEffect(()=>{console.log("Categories:",S)},[S]);const Be=fe=>{ue(fe),ge(!1)};return Z==="All"||C.filter(fe=>fe.subcategory===Z),o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-40 ${e?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Drinks"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(H,{onClick:()=>ie(!Q),variant:"ghost",size:"icon",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(xi,{className:"w-5 h-5"})}),o.jsxs(H,{onClick:()=>w(!0),variant:"ghost",size:"icon",className:"relative",children:[o.jsx(Rs,{className:"w-5 h-5"}),ee>0&&o.jsx(Pt,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:ee})]})]})]})})}),Q&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx($e,{placeholder:"Search for drinks...",value:r,onChange:fe=>s(fe.target.value),className:`w-full ${e?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-2 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:o.jsxs(Yi,{children:[o.jsx(Zi,{asChild:!0,children:o.jsx(H,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(si,{children:[o.jsx(ii,{children:"Sort Options"}),o.jsx(br,{}),o.jsx(wt,{onClick:()=>U("relevance"),children:"Relevance"}),o.jsx(wt,{onClick:()=>U("price-asc"),children:"Price: Low to High"}),o.jsx(wt,{onClick:()=>U("price-desc"),children:"Price: High to Low"}),o.jsx(wt,{onClick:()=>U("rating"),children:"Rating"})]})]})})})}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"flex space-x-4 overflow-x-auto px-2 md:justify-center md:space-x-8 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:(()=>{const fe=new Set;return S.filter(pe=>{if(!pe.name||pe.name.trim()===""||pe.name===""||pe.name===""||pe.name.includes("http")||pe.name.includes("unsplash"))return!1;const je=pe.subcategory||pe.id||pe.name;return fe.has(je)?!1:(fe.add(je),!0)}).map(pe=>{let je=null;if(pe.image)je=o.jsx("img",{src:pe.image,alt:pe.name,className:"w-full h-full object-cover"});else if(pe.logo)je=o.jsx("img",{src:pe.logo,alt:pe.name,className:"w-full h-full object-cover"});else if(pe.icon&&typeof pe.icon=="string"&&!pe.icon.startsWith("http"))je=o.jsx("span",{className:"text-4xl flex items-center justify-center w-full h-full",children:pe.icon});else return null;return o.jsxs("button",{onClick:()=>a(pe.subcategory),className:"flex flex-col items-center focus:outline-none",children:[o.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 rounded-full overflow-hidden border-4 transition-all duration-200 ${i===pe.subcategory?"border-orange-500 shadow-lg":"border-transparent"}`,style:{boxShadow:i===pe.subcategory?"0 0 0 4px rgba(255, 115, 0, 0.2)":void 0},children:je}),o.jsx("span",{className:"mt-2 text-sm md:text-base font-medium text-center whitespace-nowrap",children:pe.name})]},pe.id||pe.name)})})()})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:[o.jsx("div",{className:"block md:hidden space-y-4",children:Me.map(fe=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:fe.image,alt:fe.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(vi,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",fe.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${e?"text-white":"text-gray-900"}`,children:fe.name}),o.jsx(H,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Wl,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(Gr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[fe.rating," (500+)  20-25 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:fe.description}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar  2.2 km"}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:`font-bold text-lg mb-1 ${e?"text-orange-400":"text-orange-600"}`,children:["",fe.price]}),o.jsx(H,{onClick:()=>qe(fe),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]})]},fe.id))}),o.jsx("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Me.map(fe=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${e?"border border-gray-700":"border border-gray-200"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:fe.image,alt:fe.name,className:"w-full h-48 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(vi,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",fe.price]})]}),o.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h3",{className:`font-bold text-lg truncate ${e?"text-white":"text-gray-900"}`,children:fe.name}),o.jsx(H,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Wl,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-1",children:[o.jsx(Gr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[fe.rating," (500+)  20-25 mins"]})]}),o.jsx("p",{className:`text-sm mb-1 truncate ${e?"text-gray-400":"text-gray-600"}`,children:fe.description}),o.jsx("p",{className:`text-sm mb-2 truncate ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar  2.2 km"}),o.jsxs("div",{className:`font-bold text-lg mb-2 ${e?"text-orange-400":"text-orange-600"}`,children:["",fe.price]}),o.jsx(H,{onClick:()=>qe(fe),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]},fe.id))})]}),o.jsx(Um,{cart:u,totalPrice:y(),onCheckout:()=>w(!0),onDelete:g,onViewMenu:()=>w(!0),isDarkMode:e,buttonLabel:"Checkout",className:"block md:hidden !bottom-0"}),o.jsx(Am,{isOpen:b,onClose:()=>w(!1),cart:u,updateQuantity:p,totalPrice:y(),onProceedToCheckout:()=>{if(!W){z.error("You must be logged in to place an order.");return}B(!0)}}),l&&o.jsx(Pm,{product:l,onClose:()=>c(null),onAddToCart:h}),D&&o.jsx(Vm,{isOpen:D,onClose:()=>B(!1),onPlaceOrder:ot,totalPrice:Ae,user:W}),o.jsx(RA,{isOpen:A,onClose:()=>R(!1),onVerified:()=>{k(!0),R(!1),localStorage.setItem("pickngo-age-verified","true")}}),o.jsx(pc,{isOpen:q,onClose:()=>ge(!1),onLocationSelect:Be})]})},eY=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState(null),[i,a]=d.useState(!1),[l,c]=d.useState(!1),[u,h]=d.useState({displayName:"",email:"",phone:"",address:"",city:"",state:"",pincode:""});d.useEffect(()=>{const g=Nt.onAuthStateChanged(async v=>{if(v){s(v);try{const y=await ya(_t(Fe,"users",v.uid));if(y.exists()){const b=y.data();h({displayName:b.displayName||v.displayName||"",email:v.email||"",phone:b.phone||v.phoneNumber||"",address:b.address||"",city:b.city||"",state:b.state||"",pincode:b.pincode||""})}else h({displayName:v.displayName||"",email:v.email||"",phone:v.phoneNumber||"",address:"",city:"",state:"",pincode:""})}catch(y){console.error("Error fetching user data:",y),z.error("Failed to load profile data")}}else t("/")});return()=>g()},[t]);const p=async()=>{if(r){c(!0);try{await kT(r,{displayName:u.displayName});const g=_t(Fe,"users",r.uid);await E2(g,{displayName:u.displayName,email:u.email,phone:u.phone,address:u.address,city:u.city,state:u.state,pincode:u.pincode,updatedAt:new Date},{merge:!0}),z.success("Profile updated successfully!"),a(!1)}catch(g){console.error("Error updating profile:",g),z.error("Failed to update profile")}finally{c(!1)}}},m=()=>{h({displayName:(r==null?void 0:r.displayName)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phoneNumber)||"",address:"",city:"",state:"",pincode:""}),a(!1)};return r?o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(H,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Profile"})]}),i?o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(H,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-orange-500",onClick:m,disabled:l,children:[o.jsx(uc,{className:"w-4 h-4 mr-1"}),"Cancel"]}),o.jsxs(H,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:p,disabled:l,children:[o.jsx(lH,{className:"w-4 h-4 mr-1"}),l?"Saving...":"Save"]})]}):o.jsx("div",{className:"flex space-x-2",children:o.jsxs(H,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-orange-500",onClick:()=>a(!0),children:[o.jsx(Iw,{className:"w-4 h-4 mr-1"}),"Edit"]})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx(Te,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:o.jsx(Pe,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center",children:o.jsx($i,{className:"w-10 h-10 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:u.displayName||"User"}),o.jsx("p",{className:"text-gray-600",children:u.email}),i&&o.jsxs(H,{variant:"ghost",size:"sm",className:"mt-2 text-orange-500 hover:text-orange-600",children:[o.jsx(T2,{className:"w-4 h-4 mr-1"}),"Change Photo"]})]})]})})}),o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(dt,{children:o.jsx(bt,{className:"text-gray-800",children:"Personal Information"})}),o.jsxs(Pe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"displayName",className:"text-gray-700",children:"Full Name"}),o.jsx($e,{id:"displayName",value:u.displayName,onChange:g=>h({...u,displayName:g.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email",className:"text-gray-700",children:"Email"}),o.jsx($e,{id:"email",value:u.email,disabled:!0,className:"mt-1 bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsx($e,{id:"phone",value:u.phone,onChange:g=>h({...u,phone:g.target.value}),disabled:!i,className:"mt-1"})]})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"address",className:"text-gray-700",children:"Address"}),o.jsx($e,{id:"address",value:u.address,onChange:g=>h({...u,address:g.target.value}),disabled:!i,className:"mt-1",placeholder:"Street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"city",className:"text-gray-700",children:"City"}),o.jsx($e,{id:"city",value:u.city,onChange:g=>h({...u,city:g.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"state",className:"text-gray-700",children:"State"}),o.jsx($e,{id:"state",value:u.state,onChange:g=>h({...u,state:g.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"pincode",className:"text-gray-700",children:"Pincode"}),o.jsx($e,{id:"pincode",value:u.pincode,onChange:g=>h({...u,pincode:g.target.value}),disabled:!i,className:"mt-1"})]})]})]})]})]})]}):o.jsx("div",{children:"Loading..."})},tY=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState(null),[i,a]=d.useState([]),[l,c]=d.useState(!0),[u,h]=d.useState(bC());d.useEffect(()=>{const y=Nt.onAuthStateChanged(async w=>{w?(s(w),await p(w.uid)):t("/")}),b=()=>{const w=bC();h(w),w&&r&&p(r.uid)};return window.addEventListener("online",b),window.addEventListener("offline",b),()=>{y(),window.removeEventListener("online",b),window.removeEventListener("offline",b)}},[t,r]);const p=async y=>{c(!0);try{if(!u){z.error("You are offline. Please check your internet connection."),c(!1);return}await Hl(async()=>{const b=rn(Fe,"orders"),w=Sr(b,Ir("userId","==",y)),x=await Yn(w),N=[];x.forEach(k=>{N.push({id:k.id,...k.data()})}),N.sort((k,A)=>{var _,S;const R=(_=k.createdAt)!=null&&_.toDate?k.createdAt.toDate():0;return((S=A.createdAt)!=null&&S.toDate?A.createdAt.toDate():0)-R}),a(N)})}catch(b){console.error("Error loading orders:",b),b.code==="permission-denied"?z.error("Access denied. Please check your permissions."):b.code==="unavailable"?z.error("Firebase service is temporarily unavailable. Please try again later."):z.error("Failed to load orders. Please check your connection and try again.")}finally{c(!1)}},m=async()=>{if(r)try{if(!u){z.error("You are offline. Please check your internet connection.");return}await Hl(async()=>{const y={userId:r.uid,date:new Date().toISOString().split("T")[0],status:"delivered",total:450,items:[{name:"Domino's Pizza",quantity:1,price:250},{name:"Coca Cola",quantity:2,price:100}],deliveryAddress:"White Building, Midnapore, West Bengal",deliveryTime:"20-25 mins",createdAt:DB()};await ws(rn(Fe,"orders"),y),z.success("Sample order created!"),await p(r.uid)})}catch(y){console.error("Error creating sample order:",y),y.code==="permission-denied"?z.error("Access denied. Please check your permissions."):y.code==="unavailable"?z.error("Firebase service is temporarily unavailable. Please try again later."):z.error("Failed to create sample order. Please check your connection and try again.")}},g=y=>{switch(y){case"delivered":return"bg-green-500";case"cancelled":return"bg-red-500";case"processing":return"bg-yellow-500";default:return"bg-gray-500"}},v=y=>{switch(y){case"delivered":return o.jsx(Zc,{className:"w-4 h-4"});case"cancelled":return o.jsx(ZB,{className:"w-4 h-4"});case"processing":return o.jsx(ka,{className:"w-4 h-4"});default:return o.jsx(Is,{className:"w-4 h-4"})}};return r?o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(H,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Past Orders"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[u?o.jsx(wH,{className:"w-4 h-4 text-orange-500"}):o.jsx(xH,{className:"w-4 h-4 text-red-500"}),o.jsx("span",{className:`text-xs ${u?"text-orange-500":"text-red-500"}`,children:u?"Online":"Offline"})]}),i.length===0&&o.jsx(H,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:m,children:"Create Sample Order"})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:l?o.jsx(Te,{className:"bg-white border border-gray-200",children:o.jsxs(Pe,{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):i.length===0?o.jsx(Te,{className:"bg-white border border-gray-200",children:o.jsxs(Pe,{className:"p-8 text-center",children:[o.jsx(Is,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800",children:"No Orders Yet"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Start shopping to see your order history here"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(H,{onClick:()=>t("/"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:"Start Shopping"}),o.jsx(H,{variant:"outline",onClick:m,className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Create Sample Order"})]})]})}):o.jsxs("div",{className:"space-y-4",children:[i.filter(y=>y.status!=="delivered"&&y.status!=="cancelled").length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 text-orange-500 flex items-center",children:[o.jsx(os,{className:"w-5 h-5 mr-2"}),"Current Orders"]}),o.jsx("div",{className:"space-y-4",children:i.filter(y=>y.status!=="delivered"&&y.status!=="cancelled").map(y=>{var b,w;return o.jsxs(Te,{className:"bg-white border border-orange-200 shadow-sm",children:[o.jsx(dt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(bt,{className:"text-gray-800",children:["Order #",y.id.slice(-6)]}),o.jsx("p",{className:"text-gray-600 text-sm",children:(b=y.createdAt)!=null&&b.toDate?y.createdAt.toDate().toLocaleDateString():y.date})]}),o.jsx(Pt,{className:"bg-orange-500 text-white",children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(os,{className:"w-4 h-4"}),o.jsx("span",{className:"capitalize",children:y.status})]})})]})}),o.jsxs(Pe,{children:[o.jsx("div",{className:"space-y-2",children:y.items.map((x,N)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(Is,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:x.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",x.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["",x.price]})]},N))}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg mt-3",children:[o.jsx(an,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:typeof y.deliveryAddress=="string"?y.deliveryAddress:(w=y.deliveryAddress)!=null&&w.address?`${y.deliveryAddress.address}, ${y.deliveryAddress.city}, ${y.deliveryAddress.state} - ${y.deliveryAddress.pincode}`:"Address not available"})]}),o.jsxs("div",{className:"space-y-3 p-3 bg-orange-50 rounded-lg mt-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(os,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Delivery Time: ",y.deliveryTime||"20-25 mins"]})]}),y.paymentMethod&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 text-orange-500",children:""}),o.jsxs("span",{className:"text-sm text-gray-600 capitalize",children:["Payment: ",y.paymentMethod==="cod"?"Cash on Delivery":y.paymentMethod.toUpperCase()]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-orange-200",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["",y.totalPrice||y.total||0]})]})]}),o.jsxs("div",{className:"flex space-x-2 mt-4",children:[o.jsxs(H,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>t(`/current-order/${y.id}`),children:[o.jsx(os,{className:"w-4 h-4 mr-2"}),"Track Order"]}),o.jsxs(H,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(gr,{className:"w-4 h-4 mr-2"}),"Call Support"]})]})]})]},`current-${y.id}`)})})]}),i.filter(y=>y.status==="delivered"||y.status==="cancelled").length>0&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:[o.jsx(Is,{className:"w-5 h-5 mr-2"}),"Past Orders"]}),o.jsx("div",{className:"space-y-4",children:i.filter(y=>y.status==="delivered"||y.status==="cancelled").map(y=>{var b,w;return o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(dt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(bt,{className:"text-gray-800",children:["Order #",y.id.slice(-6)]}),o.jsx("p",{className:"text-gray-600 text-sm",children:(b=y.createdAt)!=null&&b.toDate?y.createdAt.toDate().toLocaleDateString():y.date})]}),o.jsx(Pt,{className:`${g(y.status)} text-white`,children:o.jsxs("div",{className:"flex items-center space-x-1",children:[v(y.status),o.jsx("span",{className:"capitalize",children:y.status})]})})]})}),o.jsxs(Pe,{children:[o.jsx("div",{className:"space-y-2",children:y.items.map((x,N)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(Is,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:x.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",x.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["",x.price]})]},N))}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg mt-3",children:[o.jsx(an,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:typeof y.deliveryAddress=="string"?y.deliveryAddress:(w=y.deliveryAddress)!=null&&w.address?`${y.deliveryAddress.address}, ${y.deliveryAddress.city}, ${y.deliveryAddress.state} - ${y.deliveryAddress.pincode}`:"Address not available"})]}),o.jsxs("div",{className:"space-y-3 p-3 bg-orange-50 rounded-lg mt-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(os,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Delivery Time: ",y.deliveryTime||"20-25 mins"]})]}),y.paymentMethod&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 text-orange-500",children:""}),o.jsxs("span",{className:"text-sm text-gray-600 capitalize",children:["Payment: ",y.paymentMethod==="cod"?"Cash on Delivery":y.paymentMethod.toUpperCase()]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),o.jsxs("span",{className:"text-gray-800",children:["",y.totalPrice||y.total||0]})]}),y.tip&&y.tip>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Tip:"}),o.jsxs("span",{className:"text-gray-800",children:["",y.tip]})]}),y.totalPrice&&y.totalPrice>299?o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee:"}),o.jsx("span",{className:"text-orange-500",children:"FREE"})]}):y.totalPrice&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee:"}),o.jsx("span",{className:"text-gray-800",children:"29"})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-orange-200",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["",y.totalPrice||y.total||0]})]})]})]}),o.jsxs("div",{className:"flex space-x-2 mt-4",children:[y.status!=="delivered"&&y.status!=="cancelled"&&o.jsxs(H,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>t(`/current-order/${y.id}`),children:[o.jsx(os,{className:"w-4 h-4 mr-2"}),"Track Order"]}),o.jsxs(H,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Gr,{className:"w-4 h-4 mr-2"}),"Rate Order"]}),o.jsxs(H,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Is,{className:"w-4 h-4 mr-2"}),"Reorder"]})]})]})]},y.id)})})]})]})})]}):o.jsx("div",{children:"Loading..."})};var sb="Progress",ib=100,[nY,zZ]=rr(sb),[rY,sY]=nY(sb),gL=d.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=iY,...a}=t;(s||s===0)&&!aS(s)&&console.error(oY(`${s}`,"Progress"));const l=aS(s)?s:ib;r!==null&&!lS(r,l)&&console.error(aY(`${r}`,"Progress"));const c=lS(r,l)?r:null,u=vp(c)?i(c,l):void 0;return o.jsx(rY,{scope:n,value:c,max:l,children:o.jsx(Ve.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":vp(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":xL(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});gL.displayName=sb;var yL="ProgressIndicator",vL=d.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=sY(yL,n);return o.jsx(Ve.div,{"data-state":xL(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});vL.displayName=yL;function iY(t,e){return`${Math.round(t/e*100)}%`}function xL(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function vp(t){return typeof t=="number"}function aS(t){return vp(t)&&!isNaN(t)&&t>0}function lS(t,e){return vp(t)&&!isNaN(t)&&t<=e&&t>=0}function oY(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ib}\`.`}function aY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ib} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var wL=gL,lY=vL;const bL=d.forwardRef(({className:t,value:e,...n},r)=>o.jsx(wL,{ref:r,className:De("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(lY,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));bL.displayName=wL.displayName;const cY=()=>{var W;const t=Ln(),{orderId:e}=$V(),{isDarkMode:n,toggleDarkMode:r}=Yt(),[s,i]=d.useState(null),[a,l]=d.useState(null),[c,u]=d.useState(!0),[h,p]=d.useState(1),[m,g]=d.useState({minutes:0,seconds:0}),[v,y]=d.useState(0),b="AIzaSyC0aUsBjWppu-5sSvme3Zz66Ts9aFKOYRs",w={width:"100%",height:"300px"},x={lat:22.5726,lng:88.3639},{isLoaded:N}=UR({googleMapsApiKey:b,libraries:["places"]}),k={dominos:{lat:22.5726,lng:88.3639,name:"Domino's Pizza",address:"Park Street, Kolkata",icon:""},spice_n_ice:{lat:22.5726+.005,lng:88.3639+.005,name:"Spice N Ice",address:"Esplanade, Kolkata",icon:""},china_nation:{lat:22.5726-.003,lng:88.3639-.003,name:"China Nation",address:"Chowringhee, Kolkata",icon:""},default:{lat:22.5726,lng:88.3639,name:"Restaurant",address:"Kolkata",icon:""}};d.useEffect(()=>{const O=Nt.onAuthStateChanged(async D=>{D?(i(D),e&&await A(e)):t("/")});return()=>O()},[t,e]);const A=async O=>{u(!0);try{const D=_t(Fe,"orders",O);return N2(D,V=>{if(V.exists()){const U={id:V.id,...V.data()};l(U),U.status&&P(U.status),setTimeout(async()=>{await R(U)},100)}else z.error("Order not found"),t("/past-orders");u(!1)})}catch(D){console.error("Error loading order:",D),z.error("Failed to load order"),u(!1)}},R=async O=>{if(!N)return;const D=T(O),B=O.userLocation||{lat:22.5726,lng:88.3639},[V,U]=await Promise.all([I(D.lat,D.lng),I(B.lat,B.lng)]);D.address=V,(D.lat+B.lat)/2,(D.lng+B.lng)/2;const Q=C(D.lat,D.lng,B.lat,B.lng);y(Q)},C=(O,D,B,V)=>{const Q=(B-O)*Math.PI/180,ie=(V-D)*Math.PI/180,q=Math.sin(Q/2)*Math.sin(Q/2)+Math.cos(O*Math.PI/180)*Math.cos(B*Math.PI/180)*Math.sin(ie/2)*Math.sin(ie/2);return 6371*(2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q)))};d.useEffect(()=>{if(!(a!=null&&a.estimatedDeliveryTime))return;const O=setInterval(()=>{const D=new Date().getTime(),V=(a.estimatedDeliveryTime.toDate?a.estimatedDeliveryTime.toDate().getTime():new Date(a.estimatedDeliveryTime).getTime())-D;if(V>0){const U=Math.floor(V/6e4),Q=Math.floor(V%(1e3*60)/1e3);g({minutes:U,seconds:Q})}else g({minutes:0,seconds:0}),a.status!=="delivered"&&_("delivered")},1e3);return()=>clearInterval(O)},[a]);const _=async O=>{if(e)try{const D=_t(Fe,"orders",e);await In(D,{status:O})}catch(D){console.error("Error updating order status:",D)}},S=O=>{if(!O||O.length===0)return"default";const D=O[0].name.toLowerCase();return D.includes("domino")||D.includes("pizza")?"dominos":D.includes("spice")||D.includes("ice")?"spice_n_ice":D.includes("china")||D.includes("nation")?"china_nation":"default"},T=O=>{if(!O||!O.items)return k.default;const D=O.userLocation||{lat:22.5726,lng:88.3639},B=S(O.items),V={dominos:{name:"Domino's Pizza",address:"Nearby Location",icon:"",offset:{lat:.002,lng:.003}},spice_n_ice:{name:"Spice N Ice",address:"Local Restaurant",icon:"",offset:{lat:-.001,lng:.002}},china_nation:{name:"China Nation",address:"Chinese Restaurant",icon:"",offset:{lat:.003,lng:-.001}},default:{name:"Local Restaurant",address:"Nearby Location",icon:"",offset:{lat:.001,lng:.001}}},U=V[B]||V.default;return{lat:D.lat+U.offset.lat,lng:D.lng+U.offset.lng,name:U.name,address:U.address,icon:U.icon}},I=async(O,D)=>{try{const V=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${O}&lon=${D}&zoom=18&addressdetails=1`)).json();if(V&&V.display_name){const U=V.display_name.split(", "),Q=U[0]||"Nearby Location",ie=U[U.length-3]||"Your Area";return`${Q}, ${ie}`}}catch(B){console.error("Error getting address:",B)}return"Nearby Location"},P=O=>{switch(O){case"pending":p(1);break;case"confirmed":p(2);break;case"preparing":p(3);break;case"out_for_delivery":p(4);break;case"delivered":p(5);break;default:p(1)}},L=O=>{const D=[{title:"Order Placed",description:"Your order has been received",icon:"",color:"text-blue-400"},{title:"Order Confirmed",description:"Restaurant has confirmed your order",icon:"",color:"text-green-400"},{title:"Preparing",description:"Your food is being prepared",icon:"",color:"text-yellow-400"},{title:"Out for Delivery",description:"Your order is on the way",icon:"",color:"text-pickngo-orange-400"},{title:"Delivered",description:"Enjoy your meal!",icon:"",color:"text-green-500"}];return D[O-1]||D[0]},G=()=>{var O;return a?typeof a.deliveryAddress=="string"?a.deliveryAddress:(O=a.deliveryAddress)!=null&&O.address?`${a.deliveryAddress.address}, ${a.deliveryAddress.city}, ${a.deliveryAddress.state} - ${a.deliveryAddress.pincode}`:"Address not available":""};if(d.useEffect(()=>()=>{},[]),!s)return o.jsx("div",{children:"Loading..."});if(c)return o.jsx("div",{className:"min-h-screen bg-white text-gray-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{children:"Loading order details..."})]})});if(!a)return o.jsx("div",{className:"min-h-screen bg-white text-gray-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{children:"Order not found"}),o.jsx(H,{onClick:()=>t("/past-orders"),className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white",children:"Go to Past Orders"})]})});const $=T(a),F=L(h);return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(H,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/past-orders"),children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-gray-800 font-bold text-lg",children:["Order #",a.id.slice(-6)]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(hH,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-orange-500 font-semibold",children:[m.minutes,"m ",m.seconds,"s left"]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs(Pt,{className:"bg-orange-500 text-white",children:[o.jsx(ka,{className:"w-4 h-4 mr-1"}),v.toFixed(1)," km away"]})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-4",children:[o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(dt,{children:o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(an,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Live Tracking"})]})}),o.jsxs(Pe,{children:[N&&a&&o.jsxs(DR,{mapContainerStyle:w,center:a.userLocation||x,zoom:14,options:{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1},children:[o.jsx(cp,{position:k[S(a.items||[])]||k.default,label:"R"}),a.userLocation&&o.jsx(cp,{position:a.userLocation,label:"U"}),a.userLocation&&o.jsx(GR,{path:[k[S(a.items||[])]||k.default,a.userLocation],options:{strokeColor:"#3b82f6",strokeWeight:4,strokeOpacity:.7}})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Distance"}),o.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[v.toFixed(1)," km"]})]}),o.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Est. Time"}),o.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[m.minutes,"m ",m.seconds,"s"]})]})]})]})]}),o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsxs(dt,{children:[o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:F.icon}),o.jsx("span",{className:"text-orange-500",children:F.title})]}),o.jsx("p",{className:"text-gray-600",children:F.description})]}),o.jsx(Pe,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Progress"}),o.jsxs("span",{className:"text-gray-800",children:[Math.round(h/5*100),"%"]})]}),o.jsx(bL,{value:h/5*100,className:"h-2"})]}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(O=>o.jsxs("div",{className:`flex flex-col items-center p-2 rounded-lg transition-all duration-300 ${O<=h?"bg-orange-100 scale-105":"bg-gray-100"}`,children:[o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs transition-all duration-300 ${O<=h?"bg-orange-500 shadow-lg text-white":"bg-gray-300 text-gray-600"}`,children:O<h?"":O}),o.jsx("span",{className:"text-xs mt-1 text-center text-gray-600",children:L(O).title.split(" ")[0]})]},O))})]})})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(dt,{children:o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:$.icon}),o.jsx("span",{children:"Restaurant"})]})}),o.jsxs(Pe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:$.name}),o.jsx("p",{className:"text-gray-600",children:$.address})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(H,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(gr,{className:"w-4 h-4 mr-2"}),"Call Restaurant"]}),o.jsxs(H,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Hv,{className:"w-4 h-4 mr-2"}),"Directions"]})]})]})]}),o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(dt,{children:o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(os,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Delivery Address"})]})}),o.jsxs(Pe,{className:"space-y-4",children:[o.jsx("div",{children:o.jsx("p",{className:"text-gray-600",children:G()})}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(H,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(gr,{className:"w-4 h-4 mr-2"}),"Call Delivery"]}),o.jsxs(H,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Hv,{className:"w-4 h-4 mr-2"}),"Track Order"]})]})]})]})]}),o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(dt,{children:o.jsx(bt,{className:"text-gray-800",children:"Order Items"})}),o.jsxs(Pe,{children:[o.jsx("div",{className:"space-y-3",children:(W=a.items)==null?void 0:W.map((O,D)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-orange-600 text-sm",children:""})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:O.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",O.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["",O.price]})]},D))}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["",a.totalPrice||a.total||0]})]})})]})]}),o.jsxs("div",{className:"flex space-x-3 mb-6",children:[o.jsx(H,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>t("/past-orders"),children:"View All Orders"}),o.jsx(H,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>t("/"),children:"Order Again"})]})]})]})};var zm="Switch",[uY,BZ]=rr(zm),[dY,hY]=uY(zm),EL=d.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:h,...p}=t,[m,g]=d.useState(null),v=ct(e,N=>g(N)),y=d.useRef(!1),b=m?h||!!m.closest("form"):!0,[w,x]=ys({prop:s,defaultProp:i??!1,onChange:u,caller:zm});return o.jsxs(dY,{scope:n,checked:w,disabled:l,children:[o.jsx(Ve.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":SL(w),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:v,onClick:we(t.onClick,N=>{x(k=>!k),b&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})}),b&&o.jsx(_L,{control:m,bubbles:!y.current,name:r,value:c,checked:w,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});EL.displayName=zm;var NL="SwitchThumb",CL=d.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=hY(NL,n);return o.jsx(Ve.span,{"data-state":SL(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});CL.displayName=NL;var fY="SwitchBubbleInput",_L=d.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=d.useRef(null),l=ct(a,i),c=Zw(n),u=px(e);return d.useEffect(()=>{const h=a.current;if(!h)return;const p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&g){const v=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(v)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_L.displayName=fY;function SL(t){return t?"checked":"unchecked"}var jL=EL,pY=CL;const eu=d.forwardRef(({className:t,...e},n)=>o.jsx(jL,{className:De("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(pY,{className:De("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));eu.displayName=jL.displayName;function cS(t,[e,n]){return Math.min(n,Math.max(e,t))}var mY=[" ","Enter","ArrowUp","ArrowDown"],gY=[" ","Enter"],wa="Select",[Bm,Hm,yY]=bm(wa),[gc,HZ]=rr(wa,[yY,Zl]),Wm=Zl(),[vY,To]=gc(wa),[xY,wY]=gc(wa),kL=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:p,disabled:m,required:g,form:v}=t,y=Wm(e),[b,w]=d.useState(null),[x,N]=d.useState(null),[k,A]=d.useState(!1),R=dc(u),[C,_]=ys({prop:r,defaultProp:s??!1,onChange:i,caller:wa}),[S,T]=ys({prop:a,defaultProp:l,onChange:c,caller:wa}),I=d.useRef(null),P=b?v||!!b.closest("form"):!0,[L,G]=d.useState(new Set),$=Array.from(L).map(F=>F.props.value).join(";");return o.jsx(iI,{...y,children:o.jsxs(vY,{required:g,scope:e,trigger:b,onTriggerChange:w,valueNode:x,onValueNodeChange:N,valueNodeHasChildren:k,onValueNodeHasChildrenChange:A,contentId:Ur(),value:S,onValueChange:T,open:C,onOpenChange:_,dir:R,triggerPointerDownPosRef:I,disabled:m,children:[o.jsx(Bm.Provider,{scope:e,children:o.jsx(xY,{scope:t.__scopeSelect,onNativeOptionAdd:d.useCallback(F=>{G(W=>new Set(W).add(F))},[]),onNativeOptionRemove:d.useCallback(F=>{G(W=>{const O=new Set(W);return O.delete(F),O})},[]),children:n})}),P?o.jsxs(XL,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:p,value:S,onChange:F=>T(F.target.value),disabled:m,form:v,children:[S===void 0?o.jsx("option",{value:""}):null,Array.from(L)]},$):null]})})};kL.displayName=wa;var IL="SelectTrigger",TL=d.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Wm(n),a=To(IL,n),l=a.disabled||r,c=ct(e,a.onTriggerChange),u=Hm(n),h=d.useRef("touch"),[p,m,g]=eM(y=>{const b=u().filter(N=>!N.disabled),w=b.find(N=>N.value===a.value),x=tM(b,y,w);x!==void 0&&a.onValueChange(x.value)}),v=y=>{l||(a.onOpenChange(!0),g()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return o.jsx(yx,{asChild:!0,...i,children:o.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":JL(a.value)?"":void 0,...s,ref:c,onClick:we(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&v(y)}),onPointerDown:we(s.onPointerDown,y=>{h.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:we(s.onKeyDown,y=>{const b=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(b&&y.key===" ")&&mY.includes(y.key)&&(v(),y.preventDefault())})})})});TL.displayName=IL;var PL="SelectValue",AL=d.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=To(PL,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,p=ct(e,c.onValueNodeChange);return Pn(()=>{u(h)},[u,h]),o.jsx(Ve.span,{...l,ref:p,style:{pointerEvents:"none"},children:JL(c.value)?o.jsx(o.Fragment,{children:a}):i})});AL.displayName=PL;var bY="SelectIcon",RL=d.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Ve.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});RL.displayName=bY;var EY="SelectPortal",LL=t=>o.jsx(Up,{asChild:!0,...t});LL.displayName=EY;var ba="SelectContent",ML=d.forwardRef((t,e)=>{const n=To(ba,t.__scopeSelect),[r,s]=d.useState();if(Pn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Kr.createPortal(o.jsx(DL,{scope:t.__scopeSelect,children:o.jsx(Bm.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(OL,{...t,ref:e})});ML.displayName=ba;var Jr=10,[DL,Po]=gc(ba),NY="SelectContentImpl",CY=la("SelectContent.RemoveScroll"),OL=d.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b,...w}=t,x=To(ba,n),[N,k]=d.useState(null),[A,R]=d.useState(null),C=ct(e,J=>k(J)),[_,S]=d.useState(null),[T,I]=d.useState(null),P=Hm(n),[L,G]=d.useState(!1),$=d.useRef(!1);d.useEffect(()=>{if(N)return Mw(N)},[N]),Lw();const F=d.useCallback(J=>{const[ue,...ye]=P().map(te=>te.ref.current),[Y]=ye.slice(-1),Z=document.activeElement;for(const te of J)if(te===Z||(te==null||te.scrollIntoView({block:"nearest"}),te===ue&&A&&(A.scrollTop=0),te===Y&&A&&(A.scrollTop=A.scrollHeight),te==null||te.focus(),document.activeElement!==Z))return},[P,A]),W=d.useCallback(()=>F([_,N]),[F,_,N]);d.useEffect(()=>{L&&W()},[L,W]);const{onOpenChange:O,triggerPointerDownPosRef:D}=x;d.useEffect(()=>{if(N){let J={x:0,y:0};const ue=Y=>{var Z,te;J={x:Math.abs(Math.round(Y.pageX)-(((Z=D.current)==null?void 0:Z.x)??0)),y:Math.abs(Math.round(Y.pageY)-(((te=D.current)==null?void 0:te.y)??0))}},ye=Y=>{J.x<=10&&J.y<=10?Y.preventDefault():N.contains(Y.target)||O(!1),document.removeEventListener("pointermove",ue),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",ye,{capture:!0})}}},[N,O,D]),d.useEffect(()=>{const J=()=>O(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[O]);const[B,V]=eM(J=>{const ue=P().filter(Z=>!Z.disabled),ye=ue.find(Z=>Z.ref.current===document.activeElement),Y=tM(ue,J,ye);Y&&setTimeout(()=>Y.ref.current.focus())}),U=d.useCallback((J,ue,ye)=>{const Y=!$.current&&!ye;(x.value!==void 0&&x.value===ue||Y)&&(S(J),Y&&($.current=!0))},[x.value]),Q=d.useCallback(()=>N==null?void 0:N.focus(),[N]),ie=d.useCallback((J,ue,ye)=>{const Y=!$.current&&!ye;(x.value!==void 0&&x.value===ue||Y)&&I(J)},[x.value]),q=r==="popper"?o0:VL,ge=q===o0?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b}:{};return o.jsx(DL,{scope:n,content:N,viewport:A,onViewportChange:R,itemRefCallback:U,selectedItem:_,onItemLeave:Q,itemTextRefCallback:ie,focusSelectedItem:W,selectedItemText:T,position:r,isPositioned:L,searchRef:B,children:o.jsx(_m,{as:CY,allowPinchZoom:!0,children:o.jsx(Nm,{asChild:!0,trapped:x.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:we(s,J=>{var ue;(ue=x.trigger)==null||ue.focus({preventScroll:!0}),J.preventDefault()}),children:o.jsx(yd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(q,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:J=>J.preventDefault(),...w,...ge,onPlaced:()=>G(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:we(w.onKeyDown,J=>{const ue=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ue&&J.key.length===1&&V(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Y=P().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Y=Y.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const Z=J.target,te=Y.indexOf(Z);Y=Y.slice(te+1)}setTimeout(()=>F(Y)),J.preventDefault()}})})})})})})});OL.displayName=NY;var _Y="SelectItemAlignedPosition",VL=d.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=To(ba,n),a=Po(ba,n),[l,c]=d.useState(null),[u,h]=d.useState(null),p=ct(e,C=>h(C)),m=Hm(n),g=d.useRef(!1),v=d.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:w,focusSelectedItem:x}=a,N=d.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&y&&b&&w){const C=i.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),S=i.valueNode.getBoundingClientRect(),T=w.getBoundingClientRect();if(i.dir!=="rtl"){const Z=T.left-_.left,te=S.left-Z,ve=C.left-te,Me=C.width+ve,ee=Math.max(Me,_.width),Ae=window.innerWidth-Jr,qe=cS(te,[Jr,Math.max(Jr,Ae-ee)]);l.style.minWidth=Me+"px",l.style.left=qe+"px"}else{const Z=_.right-T.right,te=window.innerWidth-S.right-Z,ve=window.innerWidth-C.right-te,Me=C.width+ve,ee=Math.max(Me,_.width),Ae=window.innerWidth-Jr,qe=cS(te,[Jr,Math.max(Jr,Ae-ee)]);l.style.minWidth=Me+"px",l.style.right=qe+"px"}const I=m(),P=window.innerHeight-Jr*2,L=y.scrollHeight,G=window.getComputedStyle(u),$=parseInt(G.borderTopWidth,10),F=parseInt(G.paddingTop,10),W=parseInt(G.borderBottomWidth,10),O=parseInt(G.paddingBottom,10),D=$+F+L+O+W,B=Math.min(b.offsetHeight*5,D),V=window.getComputedStyle(y),U=parseInt(V.paddingTop,10),Q=parseInt(V.paddingBottom,10),ie=C.top+C.height/2-Jr,q=P-ie,ge=b.offsetHeight/2,J=b.offsetTop+ge,ue=$+F+J,ye=D-ue;if(ue<=ie){const Z=I.length>0&&b===I[I.length-1].ref.current;l.style.bottom="0px";const te=u.clientHeight-y.offsetTop-y.offsetHeight,ve=Math.max(q,ge+(Z?Q:0)+te+W),Me=ue+ve;l.style.height=Me+"px"}else{const Z=I.length>0&&b===I[0].ref.current;l.style.top="0px";const ve=Math.max(ie,$+y.offsetTop+(Z?U:0)+ge)+ye;l.style.height=ve+"px",y.scrollTop=ue-ie+y.offsetTop}l.style.margin=`${Jr}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,l,u,y,b,w,i.dir,r]);Pn(()=>N(),[N]);const[k,A]=d.useState();Pn(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const R=d.useCallback(C=>{C&&v.current===!0&&(N(),x==null||x(),v.current=!1)},[N,x]);return o.jsx(jY,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:R,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:o.jsx(Ve.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});VL.displayName=_Y;var SY="SelectPopperPosition",o0=d.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Jr,...i}=t,a=Wm(n);return o.jsx(vx,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});o0.displayName=SY;var[jY,ob]=gc(ba,{}),a0="SelectViewport",FL=d.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Po(a0,n),a=ob(a0,n),l=ct(e,i.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Bm.Slot,{scope:n,children:o.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:we(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&p){const g=Math.abs(c.current-h.scrollTop);if(g>0){const v=window.innerHeight-Jr*2,y=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),w=Math.max(y,b);if(w<v){const x=w+g,N=Math.min(v,x),k=x-N;p.style.height=N+"px",p.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});FL.displayName=a0;var $L="SelectGroup",[kY,IY]=gc($L),TY=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ur();return o.jsx(kY,{scope:n,id:s,children:o.jsx(Ve.div,{role:"group","aria-labelledby":s,...r,ref:e})})});TY.displayName=$L;var UL="SelectLabel",zL=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=IY(UL,n);return o.jsx(Ve.div,{id:s.id,...r,ref:e})});zL.displayName=UL;var xp="SelectItem",[PY,BL]=gc(xp),HL=d.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=To(xp,n),c=Po(xp,n),u=l.value===r,[h,p]=d.useState(i??""),[m,g]=d.useState(!1),v=ct(e,x=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,x,r,s)}),y=Ur(),b=d.useRef("touch"),w=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(PY,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:d.useCallback(x=>{p(N=>N||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(Bm.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(Ve.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:we(a.onFocus,()=>g(!0)),onBlur:we(a.onBlur,()=>g(!1)),onClick:we(a.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:we(a.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:we(a.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:we(a.onPointerMove,x=>{var N;b.current=x.pointerType,s?(N=c.onItemLeave)==null||N.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(a.onPointerLeave,x=>{var N;x.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:we(a.onKeyDown,x=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&x.key===" "||(gY.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});HL.displayName=xp;var tu="SelectItemText",WL=d.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=To(tu,n),l=Po(tu,n),c=BL(tu,n),u=wY(tu,n),[h,p]=d.useState(null),m=ct(e,w=>p(w),c.onItemTextChange,w=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,w,c.value,c.disabled)}),g=h==null?void 0:h.textContent,v=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return Pn(()=>(y(v),()=>b(v)),[y,b,v]),o.jsxs(o.Fragment,{children:[o.jsx(Ve.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Kr.createPortal(i.children,a.valueNode):null]})});WL.displayName=tu;var qL="SelectItemIndicator",GL=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return BL(qL,n).isSelected?o.jsx(Ve.span,{"aria-hidden":!0,...r,ref:e}):null});GL.displayName=qL;var l0="SelectScrollUpButton",KL=d.forwardRef((t,e)=>{const n=Po(l0,t.__scopeSelect),r=ob(l0,t.__scopeSelect),[s,i]=d.useState(!1),a=ct(e,r.onScrollButtonChange);return Pn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(YL,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});KL.displayName=l0;var c0="SelectScrollDownButton",QL=d.forwardRef((t,e)=>{const n=Po(c0,t.__scopeSelect),r=ob(c0,t.__scopeSelect),[s,i]=d.useState(!1),a=ct(e,r.onScrollButtonChange);return Pn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(YL,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});QL.displayName=c0;var YL=d.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Po("SelectScrollButton",n),a=d.useRef(null),l=Hm(n),c=d.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Pn(()=>{var h;const u=l().find(p=>p.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(Ve.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:we(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:we(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:we(s.onPointerLeave,()=>{c()})})}),AY="SelectSeparator",ZL=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Ve.div,{"aria-hidden":!0,...r,ref:e})});ZL.displayName=AY;var u0="SelectArrow",RY=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Wm(n),i=To(u0,n),a=Po(u0,n);return i.open&&a.position==="popper"?o.jsx(xx,{...s,...r,ref:e}):null});RY.displayName=u0;var LY="SelectBubbleInput",XL=d.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=d.useRef(null),i=ct(r,s),a=Zw(e);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&h){const p=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(p)}},[a,e]),o.jsx(Ve.select,{...n,style:{...oI,...n.style},ref:i,defaultValue:e})});XL.displayName=LY;function JL(t){return t===""||t===void 0}function eM(t){const e=Us(t),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function tM(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=MY(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function MY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var DY=kL,nM=TL,OY=AL,VY=RL,FY=LL,rM=ML,$Y=FL,sM=zL,iM=HL,UY=WL,zY=GL,oM=KL,aM=QL,lM=ZL;const qm=DY,Gm=OY,Od=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(nM,{ref:r,className:De("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(VY,{asChild:!0,children:o.jsx(jw,{className:"h-4 w-4 opacity-50"})})]}));Od.displayName=nM.displayName;const cM=d.forwardRef(({className:t,...e},n)=>o.jsx(oM,{ref:n,className:De("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(YB,{className:"h-4 w-4"})}));cM.displayName=oM.displayName;const uM=d.forwardRef(({className:t,...e},n)=>o.jsx(aM,{ref:n,className:De("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(jw,{className:"h-4 w-4"})}));uM.displayName=aM.displayName;const Vd=d.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(FY,{children:o.jsxs(rM,{ref:s,className:De("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(cM,{}),o.jsx($Y,{className:De("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(uM,{})]})}));Vd.displayName=rM.displayName;const BY=d.forwardRef(({className:t,...e},n)=>o.jsx(sM,{ref:n,className:De("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));BY.displayName=sM.displayName;const un=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(iM,{ref:r,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(zY,{children:o.jsx(Pd,{className:"h-4 w-4"})})}),o.jsx(UY,{children:e})]}));un.displayName=iM.displayName;const HY=d.forwardRef(({className:t,...e},n)=>o.jsx(lM,{ref:n,className:De("-mx-1 my-1 h-px bg-muted",t),...e}));HY.displayName=lM.displayName;const WY=()=>{const t=Ln(),{isDarkMode:e,setDarkMode:n}=Yt(),[r,s]=d.useState(null),[i,a]=d.useState(!0),[l,c]=d.useState({notifications:!0,language:"en",sound:!0,emailNotifications:!0,pushNotifications:!0}),[u,h]=d.useState(!1),[p,m]=d.useState(!1),[g,v]=d.useState(!1),[y,b]=d.useState(!1),[w,x]=d.useState(""),[N,k]=d.useState(""),[A,R]=d.useState(""),[C,_]=d.useState(!1),[S,T]=d.useState(!1),[I,P]=d.useState(!1),[L,G]=d.useState(!1),[$,F]=d.useState(""),[W,O]=d.useState(!1),[D,B]=d.useState(!1),[V,U]=d.useState(!1);d.useEffect(()=>{const Y=Nt.onAuthStateChanged(async Z=>{if(Z){s(Z),await Q(Z.uid);const te=await ya(_t(Fe,"users",Z.uid));if(te.exists()){const ve=te.data();B(ve.twoFactorEnabled||!1)}}else t("/")});return()=>Y()},[t]);const Q=async Y=>{a(!0);try{const Z=await ya(_t(Fe,"users",Y));if(Z.exists()){const te=Z.data();te.settings&&(c(te.settings),te.settings.darkMode!==void 0&&n(te.settings.darkMode))}}catch(Z){console.error("Error loading settings:",Z),z.error("Failed to load settings")}finally{a(!1)}},ie=async(Y,Z)=>{if(r)try{const te={...l,[Y]:Z};c(te);const ve=_t(Fe,"users",r.uid);await In(ve,{settings:te,updatedAt:new Date}),Y==="pushNotifications"&&Z&&await ge(),Y==="sound"&&Z&&new Audio("/notification.mp3").play().catch(()=>{}),z.success(`${Y.replace(/([A-Z])/g," $1").toLowerCase()} updated`)}catch(te){console.error("Error updating settings:",te),z.error("Failed to update settings"),c(ve=>({...ve,[Y]:!Z}))}},q=async Y=>{if(n(Y),!!r)try{const Z={...l,darkMode:Y};c(Z);const te=_t(Fe,"users",r.uid);await In(te,{settings:Z,updatedAt:new Date}),z.success(`Dark mode ${Y?"enabled":"disabled"}`)}catch(Z){console.error("Error updating dark mode:",Z),z.error("Failed to update dark mode")}},ge=async()=>{"Notification"in window&&await Notification.requestPermission()!=="granted"&&(z.error("Notification permission denied"),c(Z=>({...Z,pushNotifications:!1})))},J=async Y=>{if(Y.preventDefault(),N!==A){z.error("New passwords do not match");return}if(N.length<6){z.error("Password must be at least 6 characters long");return}G(!0);try{const Z=_a.credential(r.email,w);await Y8(r,Z),await e$(r,N),z.success("Password updated successfully"),h(!1),x(""),k(""),R("")}catch(Z){console.error("Error changing password:",Z),Z.code==="auth/wrong-password"?z.error("Current password is incorrect"):Z.code==="auth/weak-password"?z.error("New password is too weak"):z.error("Failed to update password")}finally{G(!1)}},ue=async()=>{U(!0);try{const Y=_t(Fe,"users",r.uid);await In(Y,{twoFactorEnabled:!0,updatedAt:new Date}),B(!0),z.success("Two-factor authentication enabled"),b(!1)}catch(Y){console.error("Error setting up 2FA:",Y),z.error("Failed to setup two-factor authentication")}finally{U(!1)}},ye=async()=>{if($!=="DELETE"){z.error("Please type DELETE to confirm");return}O(!0);try{const Y=_t(Fe,"users",r.uid);await Cw(Y),await s$(r),z.success("Account deleted successfully"),t("/")}catch(Y){console.error("Error deleting account:",Y),z.error("Failed to delete account. Please try again.")}finally{O(!1)}};return r?o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(H,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Settings"})]})})})}),o.jsx("div",{className:"container mx-auto px-4 py-6 space-y-6",children:i?o.jsx(Te,{className:"bg-white border border-gray-200 shadow-sm",children:o.jsxs(Pe,{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading settings..."})]})}):o.jsxs(o.Fragment,{children:[o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(dt,{children:o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(EC,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Notifications"})]})}),o.jsxs(Pe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(EC,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-gray-800",children:"Push Notifications"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Receive notifications on your device"})]})]}),o.jsx(eu,{checked:l.pushNotifications,onCheckedChange:Y=>ie("pushNotifications",Y)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Hs,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-gray-800",children:"Email Notifications"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Receive updates via email"})]})]}),o.jsx(eu,{checked:l.emailNotifications,onCheckedChange:Y=>ie("emailNotifications",Y)})]})]})]}),o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(dt,{children:o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(tp,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Appearance"})]})}),o.jsxs(Pe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[e?o.jsx(tp,{className:"w-5 h-5 text-gray-500"}):o.jsx(Tw,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-gray-800",children:"Dark Mode"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Use dark theme"})]})]}),o.jsx(eu,{checked:e,onCheckedChange:q})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(L2,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-gray-800",children:"Language"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Choose your preferred language"})]})]}),o.jsxs(qm,{value:l.language,onValueChange:Y=>ie("language",Y),children:[o.jsx(Od,{className:"w-32 bg-white border-gray-300",children:o.jsx(Gm,{})}),o.jsxs(Vd,{children:[o.jsx(un,{value:"en",children:"English"}),o.jsx(un,{value:"hi",children:"Hindi"}),o.jsx(un,{value:"bn",children:"Bengali"})]})]})]})]})]}),o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(dt,{children:o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[l.sound?o.jsx(_C,{className:"w-5 h-5 text-orange-500"}):o.jsx(gH,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Sound & Vibration"})]})}),o.jsx(Pe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(_C,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-gray-800",children:"Sound Effects"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Play sounds for notifications"})]})]}),o.jsx(eu,{checked:l.sound,onCheckedChange:Y=>ie("sound",Y)})]})})]}),o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(dt,{children:o.jsxs(bt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(na,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Privacy & Security"})]})}),o.jsxs(Pe,{className:"space-y-4",children:[o.jsxs(H,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>h(!0),children:[o.jsx(M2,{className:"w-4 h-4 mr-2"}),"Change Password"]}),o.jsxs(H,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>b(!0),children:[o.jsx(np,{className:"w-4 h-4 mr-2"}),"Two-Factor Authentication",D&&o.jsx("span",{className:"ml-2 text-orange-500",children:" Enabled"})]}),o.jsxs(H,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>m(!0),children:[o.jsx(na,{className:"w-4 h-4 mr-2"}),"Privacy Policy"]})]})]}),o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(dt,{children:o.jsx(bt,{className:"text-gray-800",children:"Account"})}),o.jsx(Pe,{className:"space-y-4",children:o.jsxs(H,{variant:"outline",className:"w-full justify-start text-red-500 border-red-500 hover:bg-red-500 hover:text-white",onClick:()=>v(!0),children:[o.jsx(Ad,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})}),o.jsx(Ls,{open:u,onOpenChange:h,children:o.jsxs(cs,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(us,{children:[o.jsx(dr,{className:"text-gray-900",children:"Change Password"}),o.jsx(Fr,{className:"text-gray-600",children:"Enter your current password and choose a new one."})]}),o.jsxs("form",{onSubmit:J,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"currentPassword",className:"text-gray-900",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx($e,{id:"currentPassword",type:C?"text":"password",value:w,onChange:Y=>x(Y.target.value),className:"pr-10",required:!0}),o.jsx(H,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>_(!C),children:C?o.jsx(nf,{className:"h-4 w-4"}):o.jsx(xu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"newPassword",className:"text-gray-900",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx($e,{id:"newPassword",type:S?"text":"password",value:N,onChange:Y=>k(Y.target.value),className:"pr-10",required:!0}),o.jsx(H,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>T(!S),children:S?o.jsx(nf,{className:"h-4 w-4"}):o.jsx(xu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"confirmPassword",className:"text-gray-900",children:"Confirm New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx($e,{id:"confirmPassword",type:I?"text":"password",value:A,onChange:Y=>R(Y.target.value),className:"pr-10",required:!0}),o.jsx(H,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>P(!I),children:I?o.jsx(nf,{className:"h-4 w-4"}):o.jsx(xu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(H,{type:"button",variant:"outline",onClick:()=>h(!1),className:"flex-1",children:"Cancel"}),o.jsx(H,{type:"submit",disabled:L,className:"flex-1",children:L?o.jsxs(o.Fragment,{children:[o.jsx(ls,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Password"})]})]})]})}),o.jsx(Ls,{open:p,onOpenChange:m,children:o.jsxs(cs,{className:"bg-white/95 backdrop-blur-md border-gray-700 max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsx(us,{children:o.jsx(dr,{className:"text-gray-900",children:"Privacy Policy"})}),o.jsxs("div",{className:"space-y-4 text-gray-700",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"PickNGo Privacy Policy"}),o.jsx("p",{className:"text-sm",children:"This Privacy Policy describes how PickNGo collects, uses, and protects your personal information."}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Information We Collect"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Account information (name, email, phone number)"}),o.jsx("li",{children:"Order history and preferences"}),o.jsx("li",{children:"Location data for delivery services"}),o.jsx("li",{children:"Device information and usage analytics"})]}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"How We Use Your Information"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Process and deliver your orders"}),o.jsx("li",{children:"Send order updates and notifications"}),o.jsx("li",{children:"Improve our services and user experience"}),o.jsx("li",{children:"Provide customer support"})]}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Data Security"}),o.jsx("p",{className:"text-sm",children:"We implement industry-standard security measures to protect your personal information. Your data is encrypted and stored securely."}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Your Rights"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Access and update your personal information"}),o.jsx("li",{children:"Delete your account and associated data"}),o.jsx("li",{children:"Opt-out of marketing communications"}),o.jsx("li",{children:"Request data portability"})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Last updated: ",new Date().toLocaleDateString()]})]}),o.jsx(H,{onClick:()=>m(!1),className:"w-full",children:"Close"})]})}),o.jsx(Ls,{open:y,onOpenChange:b,children:o.jsxs(cs,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(us,{children:[o.jsx(dr,{className:"text-gray-900",children:"Two-Factor Authentication"}),o.jsx(Fr,{className:"text-gray-600",children:D?"Two-factor authentication is currently enabled for your account.":"Add an extra layer of security to your account with two-factor authentication."})]}),o.jsxs("div",{className:"space-y-4",children:[D?o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(na,{className:"w-8 h-8 text-green-600"})}),o.jsx("p",{className:"text-gray-700",children:"Your account is protected with 2FA"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(np,{className:"w-8 h-8 text-blue-600"})}),o.jsx("p",{className:"text-gray-700",children:"Enable two-factor authentication for enhanced security"})]}),o.jsx(H,{onClick:ue,disabled:V,className:"w-full",children:V?o.jsxs(o.Fragment,{children:[o.jsx(ls,{className:"mr-2 h-4 w-4 animate-spin"}),"Setting up 2FA..."]}):"Enable 2FA"})]}),o.jsx(H,{variant:"outline",onClick:()=>b(!1),className:"w-full",children:"Close"})]})]})}),o.jsx(Ls,{open:g,onOpenChange:v,children:o.jsxs(cs,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(us,{children:[o.jsx(dr,{className:"text-red-600",children:"Delete Account"}),o.jsx(Fr,{className:"text-gray-600",children:"This action cannot be undone. All your data will be permanently deleted."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[o.jsxs("p",{className:"text-red-800 text-sm",children:[o.jsx("strong",{children:"Warning:"})," Deleting your account will:"]}),o.jsxs("ul",{className:"text-red-700 text-sm mt-2 space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Permanently delete all your personal data"}),o.jsx("li",{children:"Cancel any active orders"}),o.jsx("li",{children:"Remove your order history"}),o.jsx("li",{children:"Delete your saved addresses and preferences"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"deleteConfirmation",className:"text-gray-900",children:'Type "DELETE" to confirm'}),o.jsx($e,{id:"deleteConfirmation",value:$,onChange:Y=>F(Y.target.value),placeholder:"DELETE",className:"text-center font-mono"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(H,{variant:"outline",onClick:()=>v(!1),className:"flex-1",children:"Cancel"}),o.jsx(H,{variant:"destructive",onClick:ye,disabled:$!=="DELETE"||W,className:"flex-1",children:W?o.jsxs(o.Fragment,{children:[o.jsx(ls,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Account"})]})]})]})})]}):o.jsx("div",{children:"Loading..."})},qY=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),{selectedAddress:r,setSelectedAddress:s}=Zm(),[i,a]=d.useState(null),[l,c]=d.useState([]),[u,h]=d.useState(!1),[p,m]=d.useState(null),[g,v]=d.useState(!0),[y,b]=d.useState(null),[w,x]=d.useState({type:"home",name:"",phone:"",address:"",landmark:"",city:"",state:"",pincode:"",isDefault:!1});d.useEffect(()=>{const I=Nt.onAuthStateChanged(async P=>{P?(a(P),await N(P.uid)):t("/")});return()=>I()},[t]),d.useEffect(()=>{const I=l.find(P=>P.isDefault);I&&b(I.id)},[l]);const N=async I=>{v(!0);try{const P=rn(Fe,"addresses"),L=Sr(P,Ir("userId","==",I)),G=await Yn(L),$=[];G.forEach(F=>{$.push({id:F.id,...F.data()})}),$.sort((F,W)=>{var B,V;if(F.isDefault&&!W.isDefault)return-1;if(!F.isDefault&&W.isDefault)return 1;const O=(B=F.createdAt)!=null&&B.toDate?F.createdAt.toDate():0;return((V=W.createdAt)!=null&&V.toDate?W.createdAt.toDate():0)-O}),c($)}catch(P){console.error("Error loading addresses:",P),z.error("Failed to load addresses")}finally{v(!1)}},k=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async I=>{const{latitude:P,longitude:L}=I.coords;try{const $=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${P}&lon=${L}`)).json();if($&&$.address){const F=$.address;x({type:"other",name:F.road||"Current Location",phone:"",address:`${F.road||""}, ${F.suburb||""}`,landmark:"",city:F.city||F.town||F.village,state:F.state,pincode:F.postcode,isDefault:!1}),m(null),h(!0)}else z.error("Could not determine address from location.")}catch(G){console.error("Error fetching address:",G),z.error("Could not fetch address from location.")}},I=>{console.error("Geolocation error:",I),z.error("Could not access your location.")}):z.error("Geolocation is not supported by your browser.")},A=()=>{x({type:"home",name:"",phone:"",address:"",landmark:"",city:"",state:"",pincode:"",isDefault:!1}),m(null)},R=async()=>{if(i){if(!w.name||!w.phone||!w.address||!w.city||!w.state||!w.pincode){z.error("Please fill in all required fields");return}try{if(p){const I=_t(Fe,"addresses",p.id);await In(I,{...w,updatedAt:new Date}),z.success("Address updated successfully!")}else{const I={...w,userId:i.uid,createdAt:new Date};await ws(rn(Fe,"addresses"),I),z.success("Address added successfully!")}h(!1),A(),await N(i.uid)}catch(I){console.error("Error saving address:",I),z.error("Failed to save address")}}},C=I=>{m(I),x(I),h(!0)},_=async I=>{if(i&&confirm("Are you sure you want to delete this address?"))try{await Cw(_t(Fe,"addresses",I)),z.success("Address deleted successfully!"),await N(i.uid)}catch(P){console.error("Error deleting address:",P),z.error("Failed to delete address")}},S=async I=>{if(i)try{const P=rn(Fe,"addresses"),L=Sr(P,Ir("userId","==",i.uid)),$=(await Yn(L)).docs.map(W=>In(W.ref,{isDefault:!1}));await Promise.all($),await In(_t(Fe,"addresses",I),{isDefault:!0});const F=l.find(W=>W.id===I);F&&s(F),z.success("Default address updated!"),await N(i.uid),b(I)}catch(P){console.error("Error setting default address:",P),z.error("Failed to update default address")}},T=I=>{switch(I){case"home":return o.jsx(kw,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(Sw,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(nd,{className:"w-5 h-5 text-gray-500"})}};return i?o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"My Addresses"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Manage your delivery addresses"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[o.jsxs(Ls,{open:u,onOpenChange:h,children:[o.jsx(HW,{asChild:!0,children:o.jsxs(H,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(D2,{className:"w-4 h-4 mr-2"}),"Add New Address"]})}),o.jsxs(cs,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsxs(us,{children:[o.jsx(dr,{className:e?"text-white":"text-gray-900",children:p?"Edit Address":"Add New Address"}),o.jsx(Fr,{className:e?"text-gray-300":"text-gray-600",children:p?"Update your address details":"Add a new delivery address"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"type",className:e?"text-white":"text-gray-900",children:"Address Type"}),o.jsxs(qm,{value:w.type,onValueChange:I=>x(P=>({...P,type:I})),children:[o.jsx(Od,{className:`${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:o.jsx(Gm,{})}),o.jsxs(Vd,{className:e?"bg-gray-700 border-gray-600":"bg-white border-gray-300",children:[o.jsx(un,{value:"home",children:"Home"}),o.jsx(un,{value:"work",children:"Work"}),o.jsx(un,{value:"other",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"name",className:e?"text-white":"text-gray-900",children:"Full Name *"}),o.jsx($e,{id:"name",value:w.name,onChange:I=>x(P=>({...P,name:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"phone",className:e?"text-white":"text-gray-900",children:"Phone Number *"}),o.jsx($e,{id:"phone",value:w.phone,onChange:I=>x(P=>({...P,phone:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your phone number"})]})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"address",className:e?"text-white":"text-gray-900",children:"Address *"}),o.jsx($e,{id:"address",value:w.address,onChange:I=>x(P=>({...P,address:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your address"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"landmark",className:e?"text-white":"text-gray-900",children:"Landmark"}),o.jsx($e,{id:"landmark",value:w.landmark,onChange:I=>x(P=>({...P,landmark:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter a nearby landmark (optional)"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"city",className:e?"text-white":"text-gray-900",children:"City *"}),o.jsx($e,{id:"city",value:w.city,onChange:I=>x(P=>({...P,city:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter city"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"state",className:e?"text-white":"text-gray-900",children:"State *"}),o.jsx($e,{id:"state",value:w.state,onChange:I=>x(P=>({...P,state:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter state"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"pincode",className:e?"text-white":"text-gray-900",children:"Pincode *"}),o.jsx($e,{id:"pincode",value:w.pincode,onChange:I=>x(P=>({...P,pincode:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter pincode"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"isDefault",checked:w.isDefault,onChange:I=>x(P=>({...P,isDefault:I.target.checked})),className:"rounded"}),o.jsx(Le,{htmlFor:"isDefault",className:e?"text-white":"text-gray-900",children:"Set as default address"})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx(H,{variant:"outline",onClick:()=>h(!1),className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx(H,{onClick:R,className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:p?"Update Address":"Add Address"})]})]})]})]}),o.jsxs(H,{variant:"outline",onClick:k,className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:[o.jsx(an,{className:"w-4 h-4 mr-2"}),"Use Current Location"]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx($e,{placeholder:"Try JP Nagar, Siri Gardenia, etc.",className:`pl-10 h-12 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h2",{className:"text-xs font-semibold mb-2 text-gray-400",children:"SAVED ADDRESSES"}),g?o.jsx("p",{className:e?"text-gray-300":"text-gray-600",children:"Loading addresses..."}):l.length===0?o.jsx("p",{className:e?"text-gray-300":"text-gray-600",children:"No saved addresses."}):o.jsx("div",{className:"space-y-4",children:l.map(I=>o.jsxs("div",{className:`border rounded-lg p-4 transition-colors ${e?"border-gray-700 hover:bg-gray-800":"border-gray-200 hover:bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[o.jsx("div",{className:"mt-1",children:T(I.type)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h3",{className:`font-bold capitalize ${e?"text-white":"text-gray-900"}`,children:I.type}),(r==null?void 0:r.id)===I.id&&o.jsxs(Pt,{className:"bg-pickngo-orange-100 text-pickngo-orange-700 text-xs",children:[o.jsx(Pd,{className:"w-3 h-3 mr-1"}),"CURRENTLY SELECTED"]}),I.isDefault&&o.jsxs(Pt,{className:"bg-green-100 text-green-700 text-xs",children:[o.jsx(Gr,{className:"w-3 h-3 mr-1"}),"DEFAULT"]})]}),o.jsx("p",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:I.name}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:I.phone}),o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:[I.address,", ",I.city,", ",I.state," - ",I.pincode]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>C(I),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Iw,{className:"w-4 h-4"})}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>_(I.id),className:e?"text-gray-300 hover:text-red-400":"text-gray-600 hover:text-red-500",children:o.jsx(Ad,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[!I.isDefault&&o.jsx(H,{variant:"outline",size:"sm",onClick:()=>S(I.id),className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Set as Default"}),o.jsx(H,{size:"sm",onClick:()=>{s(I),z.success("Address selected successfully!")},className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:"Use This Address"})]})]},I.id))})]})]})]}):o.jsx("div",{className:"text-center p-8",children:"Loading..."})},GY=()=>{const t=Ln(),{isDarkMode:e}=Yt();return o.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-6xl font-bold text-gray-800 dark:text-white mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8",children:"Page not found"}),o.jsx(H,{onClick:()=>t("/"),className:"bg-blue-600 hover:bg-blue-700",children:"Go Home"})]})})},KY=[{name:"For You",icon:o.jsx(R2,{className:"w-6 h-6"})},{name:"Grocery",icon:o.jsx("img",{src:"https://img.icons8.com/color/48/grocery-bag.png",alt:"grocery",className:"w-8 h-8"})},{name:"Fashion",icon:o.jsx(cH,{className:"w-6 h-6"})},{name:"Appliances",icon:o.jsx(pH,{className:"w-6 h-6"})},{name:"Mobiles",icon:o.jsx(np,{className:"w-6 h-6"})},{name:"Electronics",icon:o.jsx(XB,{className:"w-6 h-6"})},{name:"Smart Gadgets",icon:o.jsx(vH,{className:"w-6 h-6"})},{name:"Home",icon:o.jsx(uH,{className:"w-6 h-6"})},{name:"Beauty & Personal Care",icon:o.jsx(tH,{className:"w-6 h-6"})}],uS={title:"Grocery",sections:[{title:"Staples",items:[{name:"Ghee & Oils",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-g_R9DkL_ij9a8V3n-QyW2-sH2W-qJq_LgQ&s",subcategory:"Staples"},{name:"Sugar, Jaggery & Salt",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRkYxJ1A4Z-Y3l1Xw2O-p5B9g_Yn3X0z3q9wA&s",subcategory:"Staples"},{name:"Rice & Rice Products",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTc1j8gq-u_tYwQ-Y9E9Z-2Xw3a-nJ4d0l3Xw&s",subcategory:"Staples"},{name:"Dry Fruits, Nuts & Seeds",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ4x9J0N-n8v6Z-Z9C9Xw_Q8X_X2n-H_y3o3A&s",subcategory:"Staples"},{name:"Masalas & Spices",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRYSoZ6TqO6Y-K2rL0z7gJpG8e-A9z2wF_sLw&s",subcategory:"Staples"},{name:"Dals & Pulses",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ4p7gY-p-L2N-O_R-d0a_R1p2m-G5a9yJ_pQ&s",subcategory:"Staples"},{name:"Atta & Flours",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS-p6-gT7mQ5H2xX-O_Kq_wG-g5K-Y4Kz_yXg&s",subcategory:"Staples"}]},{title:"Snacks & Beverages",items:[{name:"Juices",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRz-o-w7O3l7g-v-l2K-j-j_H-v8V-hJ_p-Jw&s",subcategory:"Beverages"},{name:"Water",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7b-C8xXcz-n-J-k-f-oD_v1n_Y-f9hY6w&s",subcategory:"Beverages"},{name:"Chips, Namkeen & Snacks",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-G7oF5x-2y-x_k-Z8c-Z-fJ_o-I_p_X_w&s",subcategory:"Snacks"},{name:"Chocolates",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_x_P3-mB_y-Y7R-n-H-O-hI_p_S8V-kL_A&s",subcategory:"Snacks"},{name:"Health Drinks",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_x_P3-mB_y-Y7R-n-H-O-hI_p_S8V-kL_A&s",subcategory:"Beverages"},{name:"Instant Beverages",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhXgG_pD-K-v-k_k-O-c-Z-Y-k_k-S-j-I_A&s",subcategory:"Beverages"}]}]},QY=({onSubcategoryClick:t})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-blue-600 dark:text-blue-400 flex items-center",children:[uS.title," ",o.jsx(P2,{className:"w-6 h-6"})]}),o.jsx("img",{src:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=200",alt:"Grocery Banner",className:"rounded-lg h-12 object-cover"})]}),uS.sections.map((e,n)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:e.title}),o.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-6",children:e.items.map((r,s)=>o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>t(r.subcategory),children:[o.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full w-20 h-20 mx-auto flex items-center justify-center overflow-hidden mb-2",children:o.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-contain p-2"})}),o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:r.name})]},s))})]},n))]}),YY=({categoryName:t})=>o.jsxs("div",{className:"text-center p-8 flex flex-col items-center justify-center h-full",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 dark:text-white",children:t}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Products coming soon!"})]}),ZY=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState("Grocery"),i=l=>{t("/daily-essential",{state:{subcategory:l}})},a=()=>{switch(r){case"Grocery":return o.jsx(QY,{onSubcategoryClick:i});default:return o.jsx(YY,{categoryName:r})}};return o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"All Categories"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(xi,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(T2,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(Rs,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})]})]})}),o.jsxs("div",{className:"flex",children:[o.jsx("aside",{className:"w-28 bg-gray-50 dark:bg-gray-800 h-screen-minus-header fixed top-16 left-0 overflow-y-auto pb-16",children:o.jsx("nav",{children:o.jsx("ul",{children:KY.map((l,c)=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>s(l.name),className:`w-full text-center p-3 text-sm font-medium border-l-4 ${r===l.name?"border-blue-500 bg-white dark:bg-gray-700 text-blue-500 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx("div",{className:"text-2xl mb-1 mx-auto flex justify-center items-center h-8",children:l.icon}),o.jsx("span",{className:"text-xs",children:l.name})]})},c))})})}),o.jsx("main",{className:"ml-28 p-4 flex-1 mb-16",children:a()})]})]})};var Km="Collapsible",[XY,dM]=rr(Km),[JY,ab]=XY(Km),hM=d.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:a,...l}=t,[c,u]=ys({prop:r,defaultProp:s??!1,onChange:a,caller:Km});return o.jsx(JY,{scope:n,disabled:i,contentId:Ur(),open:c,onOpenToggle:d.useCallback(()=>u(h=>!h),[u]),children:o.jsx(Ve.div,{"data-state":cb(c),"data-disabled":i?"":void 0,...l,ref:e})})});hM.displayName=Km;var fM="CollapsibleTrigger",pM=d.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=ab(fM,n);return o.jsx(Ve.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":cb(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:we(t.onClick,s.onOpenToggle)})});pM.displayName=fM;var lb="CollapsibleContent",mM=d.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ab(lb,t.__scopeCollapsible);return o.jsx(Qr,{present:n||s.open,children:({present:i})=>o.jsx(eZ,{...r,ref:e,present:i})})});mM.displayName=lb;var eZ=d.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,a=ab(lb,n),[l,c]=d.useState(r),u=d.useRef(null),h=ct(e,u),p=d.useRef(0),m=p.current,g=d.useRef(0),v=g.current,y=a.open||l,b=d.useRef(y),w=d.useRef(void 0);return d.useEffect(()=>{const x=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(x)},[]),Pn(()=>{const x=u.current;if(x){w.current=w.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const N=x.getBoundingClientRect();p.current=N.height,g.current=N.width,b.current||(x.style.transitionDuration=w.current.transitionDuration,x.style.animationName=w.current.animationName),c(r)}},[a.open,r]),o.jsx(Ve.div,{"data-state":cb(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...i,ref:h,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:y&&s})});function cb(t){return t?"open":"closed"}var tZ=hM,nZ=pM,rZ=mM,Es="Accordion",sZ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ub,iZ,oZ]=bm(Es),[Qm,WZ]=rr(Es,[oZ,dM]),db=dM(),gM=de.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return o.jsx(ub.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?o.jsx(uZ,{...i,ref:e}):o.jsx(cZ,{...s,ref:e})})});gM.displayName=Es;var[yM,aZ]=Qm(Es),[vM,lZ]=Qm(Es,{collapsible:!1}),cZ=de.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...a}=t,[l,c]=ys({prop:n,defaultProp:r??"",onChange:s,caller:Es});return o.jsx(yM,{scope:t.__scopeAccordion,value:de.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:de.useCallback(()=>i&&c(""),[i,c]),children:o.jsx(vM,{scope:t.__scopeAccordion,collapsible:i,children:o.jsx(xM,{...a,ref:e})})})}),uZ=de.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[a,l]=ys({prop:n,defaultProp:r??[],onChange:s,caller:Es}),c=de.useCallback(h=>l((p=[])=>[...p,h]),[l]),u=de.useCallback(h=>l((p=[])=>p.filter(m=>m!==h)),[l]);return o.jsx(yM,{scope:t.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:o.jsx(vM,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(xM,{...i,ref:e})})})}),[dZ,Ym]=Qm(Es),xM=de.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...a}=t,l=de.useRef(null),c=ct(l,e),u=iZ(n),p=dc(s)==="ltr",m=we(t.onKeyDown,g=>{var _;if(!sZ.includes(g.key))return;const v=g.target,y=u().filter(S=>{var T;return!((T=S.ref.current)!=null&&T.disabled)}),b=y.findIndex(S=>S.ref.current===v),w=y.length;if(b===-1)return;g.preventDefault();let x=b;const N=0,k=w-1,A=()=>{x=b+1,x>k&&(x=N)},R=()=>{x=b-1,x<N&&(x=k)};switch(g.key){case"Home":x=N;break;case"End":x=k;break;case"ArrowRight":i==="horizontal"&&(p?A():R());break;case"ArrowDown":i==="vertical"&&A();break;case"ArrowLeft":i==="horizontal"&&(p?R():A());break;case"ArrowUp":i==="vertical"&&R();break}const C=x%w;(_=y[C].ref.current)==null||_.focus()});return o.jsx(dZ,{scope:n,disabled:r,direction:s,orientation:i,children:o.jsx(ub.Slot,{scope:n,children:o.jsx(Ve.div,{...a,"data-orientation":i,ref:c,onKeyDown:r?void 0:m})})})}),wp="AccordionItem",[hZ,hb]=Qm(wp),wM=de.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=Ym(wp,n),a=aZ(wp,n),l=db(n),c=Ur(),u=r&&a.value.includes(r)||!1,h=i.disabled||t.disabled;return o.jsx(hZ,{scope:n,open:u,disabled:h,triggerId:c,children:o.jsx(tZ,{"data-orientation":i.orientation,"data-state":SM(u),...l,...s,ref:e,disabled:h,open:u,onOpenChange:p=>{p?a.onItemOpen(r):a.onItemClose(r)}})})});wM.displayName=wp;var bM="AccordionHeader",EM=de.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Ym(Es,n),i=hb(bM,n);return o.jsx(Ve.h3,{"data-orientation":s.orientation,"data-state":SM(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});EM.displayName=bM;var d0="AccordionTrigger",NM=de.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Ym(Es,n),i=hb(d0,n),a=lZ(d0,n),l=db(n);return o.jsx(ub.ItemSlot,{scope:n,children:o.jsx(nZ,{"aria-disabled":i.open&&!a.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...r,ref:e})})});NM.displayName=d0;var CM="AccordionContent",_M=de.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Ym(Es,n),i=hb(CM,n),a=db(n);return o.jsx(rZ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});_M.displayName=CM;function SM(t){return t?"open":"closed"}var fZ=gM,pZ=wM,mZ=EM,jM=NM,kM=_M;const dS=fZ,IM=d.forwardRef(({className:t,...e},n)=>o.jsx(pZ,{ref:n,className:De("border-b",t),...e}));IM.displayName="AccordionItem";const TM=d.forwardRef(({className:t,children:e,...n},r)=>o.jsx(mZ,{className:"flex",children:o.jsxs(jM,{ref:r,className:De("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,o.jsx(jw,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));TM.displayName=jM.displayName;const PM=d.forwardRef(({className:t,children:e,...n},r)=>o.jsx(kM,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:De("pb-4 pt-0",t),children:e})}));PM.displayName=kM.displayName;const gZ=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState(""),i=[{category:"Ordering",questions:[{question:"How do I place an order?",answer:"To place an order, simply browse our menu, add items to your cart, and proceed to checkout. You can choose your delivery address, payment method, and add a tip before confirming your order."},{question:"What payment methods do you accept?",answer:"We accept Cash on Delivery (COD), UPI, and Credit/Debit Cards. All online payments are secure and encrypted."},{question:"Can I modify or cancel my order?",answer:"You can modify or cancel your order within 5 minutes of placing it. After that, please contact our customer support team."},{question:"What is the minimum order amount?",answer:"There is no minimum order amount, but orders above 299 qualify for free delivery. Orders below 299 have a delivery fee of 29."}]},{category:"Delivery",questions:[{question:"How long does delivery take?",answer:"Delivery typically takes 25-35 minutes depending on your location and current order volume. You can track your order in real-time through our app."},{question:"Do you deliver to my area?",answer:"We deliver to most areas within our service radius. Enter your address during checkout to check if we deliver to your location."},{question:"Can I schedule delivery for later?",answer:"Currently, we offer immediate delivery only. We are working on scheduled delivery options for future updates."},{question:"What if my order is delayed?",answer:"If your order is delayed, you will receive real-time updates. For significant delays, we may offer compensation or a refund."}]},{category:"Account & App",questions:[{question:"How do I create an account?",answer:"You can create an account using your email address or sign up with Google. This allows you to save addresses, track orders, and view order history."},{question:"I forgot my password. How do I reset it?",answer:'Click on "Forgot Password" on the login screen and enter your email address. You will receive a password reset link.'},{question:"How do I update my delivery address?",answer:"Go to your Profile > Address section to add, edit, or remove delivery addresses. You can also set a default address."},{question:"Is my personal information secure?",answer:"Yes, we use industry-standard encryption to protect your personal information. We never share your data with third parties without your consent."}]},{category:"Refunds & Issues",questions:[{question:"What is your refund policy?",answer:"We offer full refunds for incorrect orders, missing items, or quality issues. Contact our support team within 24 hours of delivery."},{question:"What if my food arrives cold or damaged?",answer:"If your food arrives in poor condition, please contact us immediately. We will arrange a replacement or provide a full refund."},{question:"How do I report a missing item?",answer:"Contact our customer support team with your order number and details of the missing item. We will arrange a refund or replacement."},{question:"Can I get a refund for late delivery?",answer:"For deliveries significantly delayed beyond our estimated time, we may offer partial refunds or credits as compensation."}]}],a=[{title:"Track Your Order",icon:"",description:"Real-time order tracking"},{title:"Payment Issues",icon:"",description:"Payment problems and solutions"},{title:"Delivery Problems",icon:"",description:"Delivery delays and issues"},{title:"Account Access",icon:"",description:"Login and account issues"},{title:"Menu & Pricing",icon:"",description:"Menu items and pricing"},{title:"App Problems",icon:"",description:"Technical app issues"}],l=[{title:"Customer Support",description:"24/7 customer service",icon:o.jsx(gr,{className:"w-6 h-6"}),action:"Call Now",value:"+91 98765 43210"},{title:"Email Support",description:"Get help via email",icon:o.jsx(Hs,{className:"w-6 h-6"}),action:"Send Email",value:"support@pickngo.com"},{title:"Live Chat",description:"Chat with our team",icon:o.jsx(Bv,{className:"w-6 h-6"}),action:"Start Chat",value:"Available 24/7"}],c=i.map(u=>({...u,questions:u.questions.filter(h=>h.question.toLowerCase().includes(r.toLowerCase())||h.answer.toLowerCase().includes(r.toLowerCase()))})).filter(u=>u.questions.length>0);return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Help Center"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Get help and support"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx($e,{placeholder:"Search for help topics...",value:r,onChange:u=>s(u.target.value),className:`pl-10 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`})]})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:`text-xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Popular Topics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map((u,h)=>o.jsx(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:border-pickngo-orange-500 transition-colors cursor-pointer`,children:o.jsxs(Pe,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-3xl mb-2",children:u.icon}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:u.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:u.description})]})},h))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Contact Us"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.map((u,h)=>o.jsx(Te,{className:"bg-white border border-gray-200",children:o.jsxs(Pe,{className:"p-6 text-center",children:[o.jsx("div",{className:"flex justify-center mb-3",children:o.jsx("div",{className:"p-3 bg-pickngo-orange-100 rounded-full",children:u.icon})}),o.jsx("h3",{className:"font-semibold mb-2 text-gray-800",children:u.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.description}),o.jsx("p",{className:"text-sm font-medium mb-3 text-gray-800",children:u.value}),o.jsx(H,{variant:"outline",className:"w-full border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:u.action})]})},h))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Frequently Asked Questions"}),c.length>0?o.jsx(dS,{type:"single",collapsible:!0,className:"space-y-4",children:c.map((u,h)=>o.jsxs(Te,{className:"bg-white border border-gray-200",children:[o.jsx(dt,{children:o.jsxs(bt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(NC,{className:"w-5 h-5"}),o.jsx("span",{children:u.category}),o.jsx(Pt,{variant:"secondary",className:"bg-pickngo-orange-100 text-pickngo-orange-800",children:u.questions.length})]})}),o.jsx(Pe,{children:o.jsx(dS,{type:"single",collapsible:!0,className:"space-y-2",children:u.questions.map((p,m)=>o.jsxs(IM,{value:`${h}-${m}`,className:"border-gray-200",children:[o.jsx(TM,{className:"text-left hover:no-underline text-gray-800",children:o.jsx("span",{className:"font-medium",children:p.question})}),o.jsx(PM,{className:"text-gray-600 pt-2",children:p.answer})]},m))})})]},h))}):o.jsx(Te,{className:"bg-white border border-gray-200",children:o.jsxs(Pe,{className:"p-8 text-center",children:[o.jsx(NC,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"No results found"}),o.jsx("p",{className:"text-gray-600",children:"Try searching with different keywords"})]})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(H,{onClick:()=>t("/current-order"),className:"h-16 text-lg bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(ka,{className:"w-5 h-5 mr-2"}),"Track My Order"]}),o.jsxs(H,{onClick:()=>t("/past-orders"),variant:"outline",className:"h-16 text-lg border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(an,{className:"w-5 h-5 mr-2"}),"View Order History"]})]})]}),o.jsx(Te,{className:"bg-white border border-gray-200",children:o.jsxs(Pe,{className:"p-6 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Still need help?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Our customer support team is available 24/7 to assist you with any questions or concerns."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(H,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(gr,{className:"w-4 h-4 mr-2"}),"Call Support"]}),o.jsxs(H,{variant:"outline",className:"border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Send Email"]})]})]})})]})]})},fb=d.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));fb.displayName="Textarea";const yZ=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,a]=d.useState(!1),l=[{title:"Customer Support",description:"24/7 customer service",icon:o.jsx(gr,{className:"w-6 h-6"}),value:"+91 98765 43210",action:"Call Now",color:"bg-green-600"},{title:"Email Support",description:"Get help via email",icon:o.jsx(Hs,{className:"w-6 h-6"}),value:"support@pickngo.com",action:"Send Email",color:"bg-blue-600"},{title:"Live Chat",description:"Chat with our team",icon:o.jsx(Bv,{className:"w-6 h-6"}),value:"Available 24/7",action:"Start Chat",color:"bg-purple-600"},{title:"Office Address",description:"Visit our office",icon:o.jsx(an,{className:"w-6 h-6"}),value:"123 Food Street, Kolkata, WB 700001",action:"Get Directions",color:"bg-orange-600"}],c=[{day:"Monday - Friday",hours:"9:00 AM - 10:00 PM"},{day:"Saturday",hours:"10:00 AM - 11:00 PM"},{day:"Sunday",hours:"10:00 AM - 9:00 PM"}],u=(p,m)=>{s(g=>({...g,[p]:m}))},h=async p=>{p.preventDefault(),a(!0),await new Promise(m=>setTimeout(m,2e3)),z.success("Message sent successfully! We will get back to you soon."),s({name:"",email:"",phone:"",subject:"",message:""}),a(!1)};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Contact Us"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Get in touch with our team"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:`text-2xl font-bold mb-6 text-center ${e?"text-white":"text-gray-800"}`,children:"Get in Touch"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map((p,m)=>o.jsx(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:border-pickngo-orange-500 transition-colors`,children:o.jsxs(Pe,{className:"p-6 text-center",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${p.color}`,children:p.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:p.title}),o.jsx("p",{className:`text-sm mb-3 ${e?"text-gray-300":"text-gray-600"}`,children:p.description}),o.jsx("p",{className:`text-sm font-medium mb-4 ${e?"text-white":"text-gray-800"}`,children:p.value}),o.jsx(H,{variant:"outline",className:"w-full border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:p.action})]})},m))})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(dt,{children:o.jsxs(bt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(nd,{className:"w-5 h-5"}),o.jsx("span",{children:"Send us a Message"})]})}),o.jsx(Pe,{children:o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"name",className:e?"text-white":"text-gray-800",children:"Full Name *"}),o.jsx($e,{id:"name",value:r.name,onChange:p=>u("name",p.target.value),required:!0,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email",className:e?"text-white":"text-gray-800",children:"Email Address *"}),o.jsx($e,{id:"email",type:"email",value:r.email,onChange:p=>u("email",p.target.value),required:!0,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your email"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"phone",className:e?"text-white":"text-gray-800",children:"Phone Number"}),o.jsx($e,{id:"phone",type:"tel",value:r.phone,onChange:p=>u("phone",p.target.value),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your phone number"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"subject",className:e?"text-white":"text-gray-800",children:"Subject *"}),o.jsxs(qm,{value:r.subject,onValueChange:p=>u("subject",p),children:[o.jsx(Od,{className:`${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:o.jsx(Gm,{placeholder:"Select a subject"})}),o.jsxs(Vd,{children:[o.jsx(un,{value:"general",children:"General Inquiry"}),o.jsx(un,{value:"order",children:"Order Issue"}),o.jsx(un,{value:"delivery",children:"Delivery Problem"}),o.jsx(un,{value:"payment",children:"Payment Issue"}),o.jsx(un,{value:"technical",children:"Technical Support"}),o.jsx(un,{value:"feedback",children:"Feedback"}),o.jsx(un,{value:"complaint",children:"Complaint"}),o.jsx(un,{value:"other",children:"Other"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"message",className:e?"text-white":"text-gray-800",children:"Message *"}),o.jsx(fb,{id:"message",value:r.message,onChange:p=>u("message",p.target.value),required:!0,rows:5,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Tell us how we can help you..."})]}),o.jsx(H,{type:"submit",className:"w-full bg-pickngo-orange-500 hover:bg-pickngo-orange-600",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(nd,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(dt,{children:o.jsxs(bt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(ka,{className:"w-5 h-5"}),o.jsx("span",{children:"Business Hours"})]})}),o.jsxs(Pe,{children:[o.jsx("div",{className:"space-y-3",children:c.map((p,m)=>o.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[o.jsx("span",{className:`font-medium ${e?"text-white":"text-gray-800"}`,children:p.day}),o.jsx("span",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:p.hours})]},m))}),o.jsx("div",{className:"mt-4 p-3 bg-pickngo-orange-100 rounded-lg",children:o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:[o.jsx("strong",{children:"Note:"})," Customer support is available 24/7 for urgent issues."]})})]})]}),o.jsxs(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(dt,{children:o.jsxs(bt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(an,{className:"w-5 h-5"}),o.jsx("span",{children:"Office Location"})]})}),o.jsx(Pe,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"space-y-2",children:o.jsxs("p",{className:`text-gray-600 ${e?"text-gray-300":"text-gray-800"}`,children:[o.jsx("strong",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"PickNGo Headquarters"}),o.jsx("br",{}),"123 Food Street",o.jsx("br",{}),"Park Street Area",o.jsx("br",{}),"Kolkata, West Bengal 700001",o.jsx("br",{}),"India"]})}),o.jsxs(H,{variant:"outline",className:"w-full border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(an,{className:"w-4 h-4 mr-2"}),"Get Directions"]})]})})]}),o.jsxs(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(dt,{children:o.jsx(bt,{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Response Time"})}),o.jsx(Pe,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Phone Support"}),o.jsx(Pt,{className:"bg-green-600",children:"Immediate"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Live Chat"}),o.jsx(Pt,{className:"bg-green-600",children:"Within 2 min"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Email Support"}),o.jsx(Pt,{className:"bg-yellow-600",children:"Within 24 hours"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Contact Form"}),o.jsx(Pt,{className:"bg-yellow-600",children:"Within 24 hours"})]})]})})]})]})]}),o.jsx("div",{className:"mt-8",children:o.jsx(Te,{className:`${e?"bg-red-900 border-red-800":"bg-red-50 border-red-200"}`,children:o.jsxs(Pe,{className:"p-6 text-center",children:[o.jsx("h3",{className:`text-lg font-semibold mb-2 ${e?"text-white":"text-red-800"}`,children:"Emergency Support"}),o.jsx("p",{className:`text-red-700 ${e?"text-gray-300":"text-gray-600"} mb-4`,children:"For urgent issues like food safety concerns or delivery emergencies"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(H,{className:`${e?"bg-red-800 hover:bg-red-900":"bg-red-600 hover:bg-red-700"}`,children:[o.jsx(gr,{className:"w-4 h-4 mr-2"}),"Emergency Hotline: +91 98765 43211"]}),o.jsxs(H,{variant:"outline",className:`${e?"border-red-800 text-red-800 hover:bg-red-800 hover:text-white":"border-red-500 text-red-600 hover:bg-red-600 hover:text-white"}`,children:[o.jsx(Bv,{className:"w-4 h-4 mr-2"}),"Emergency Chat"]})]})]})})})]})]})},vZ=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState("orderId"),[i,a]=d.useState(""),[l,c]=d.useState(!1),[u,h]=d.useState(null),p={id:"ORD123456789",status:"out_for_delivery",items:[{name:"Domino's Pizza Margherita",quantity:1,price:299},{name:"Coca Cola",quantity:2,price:60},{name:"Garlic Bread",quantity:1,price:120}],totalPrice:539,deliveryAddress:{name:"John Doe",address:"123 Main Street",city:"Kolkata",state:"West Bengal",pincode:"700001"},estimatedDeliveryTime:new Date(Date.now()+15*60*1e3),currentStep:4,deliveryPerson:{name:"Rahul Kumar",phone:"+91 98765 43210",vehicle:"Bike - KA-01-AB-1234"},timeline:[{step:1,title:"Order Placed",description:"Your order has been received",time:new Date(Date.now()-45*60*1e3),completed:!0,icon:""},{step:2,title:"Order Confirmed",description:"Restaurant has confirmed your order",time:new Date(Date.now()-40*60*1e3),completed:!0,icon:""},{step:3,title:"Preparing",description:"Your food is being prepared",time:new Date(Date.now()-30*60*1e3),completed:!0,icon:""},{step:4,title:"Out for Delivery",description:"Your order is on the way",time:new Date(Date.now()-5*60*1e3),completed:!0,icon:""},{step:5,title:"Delivered",description:"Enjoy your meal!",time:null,completed:!1,icon:""}]},m=async()=>{if(!i.trim()){z.error("Please enter your tracking information");return}c(!0),await new Promise(y=>setTimeout(y,2e3)),i.toLowerCase().includes("123")||i.toLowerCase().includes("98765")?(h(p),z.success("Order found!")):(h(null),z.error("Order not found. Please check your tracking information.")),c(!1)},g=y=>{switch(y){case"pending":return"bg-yellow-600";case"confirmed":return"bg-blue-600";case"preparing":return"bg-orange-600";case"out_for_delivery":return"bg-purple-600";case"delivered":return"bg-green-600";case"cancelled":return"bg-red-600";default:return"bg-gray-600"}},v=y=>{switch(y){case"pending":return"Pending";case"confirmed":return"Confirmed";case"preparing":return"Preparing";case"out_for_delivery":return"Out for Delivery";case"delivered":return"Delivered";case"cancelled":return"Cancelled";default:return"Unknown"}};return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(H,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Track Order"})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(dt,{children:o.jsx(bt,{className:"text-gray-800",children:"Track Your Order"})}),o.jsx(Pe,{children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"orderId",className:"text-gray-700",children:"Order ID"}),o.jsx($e,{id:"orderId",type:"text",placeholder:"Enter order ID",value:i,onChange:y=>a(y.target.value),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsx($e,{id:"phone",type:"tel",placeholder:"Enter phone number",value:i,onChange:y=>a(y.target.value),className:"mt-1"})]})]}),o.jsx(H,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white",disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(ls,{className:"w-4 h-4 mr-2 animate-spin"}),"Searching..."]}):o.jsxs(o.Fragment,{children:[o.jsx(xi,{className:"w-4 h-4 mr-2"}),"Track Order"]})})]})})]}),u&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(dt,{children:o.jsxs(bt,{className:"flex items-center justify-between text-gray-800",children:[o.jsxs("span",{children:["Order #",u.id]}),o.jsx(Pt,{className:g(u.status),children:v(u.status)})]})}),o.jsx(Pe,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:""}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Order Items"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[u.items.length," items"]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:""}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Total Amount"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["",u.totalPrice]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:""}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Estimated Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:u.estimatedDeliveryTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})]}),o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(dt,{children:o.jsx(bt,{className:"text-gray-800",children:"Delivery Timeline"})}),o.jsx(Pe,{children:o.jsx("div",{className:"space-y-4",children:u.timeline.map((y,b)=>o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm ${y.completed?"bg-orange-500":"bg-gray-300"}`,children:y.completed?"":b+1}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${y.completed?"text-gray-800":"text-gray-500"}`,children:y.title}),o.jsx("p",{className:`text-sm ${y.completed?"text-gray-600":"text-gray-400"}`,children:y.description}),y.time&&o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:y.time})]})]},b))})})]}),o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(dt,{children:o.jsx(bt,{className:"text-gray-800",children:"Order Items"})}),o.jsx(Pe,{children:o.jsx("div",{className:"space-y-3",children:u.items.map((y,b)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(Is,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:y.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",y.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["",y.price]})]},b))})})]}),o.jsxs(Te,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(dt,{children:o.jsx(bt,{className:"text-gray-800",children:"Delivery Address"})}),o.jsx(Pe,{children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(an,{className:"w-5 h-5 text-orange-500 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-800",children:u.deliveryAddress.name}),o.jsxs("p",{className:"text-gray-600",children:[u.deliveryAddress.address,", ",u.deliveryAddress.city,", ",u.deliveryAddress.state," - ",u.deliveryAddress.pincode]})]})]})})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(H,{onClick:()=>t(`/current-order/${u.id}`),className:"flex-1 bg-orange-500 hover:bg-orange-600",children:[o.jsx(os,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),o.jsxs(H,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Contact Support"]})]})]}),!u&&!l&&o.jsx(Te,{className:"bg-white border border-gray-200 shadow-sm",children:o.jsxs(Pe,{className:"p-8 text-center",children:[o.jsx(Is,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Track Your Order"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Enter your order ID or phone number to track your order status"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(H,{onClick:()=>t("/past-orders"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:"View Order History"}),o.jsx(H,{variant:"outline",onClick:()=>t("/contact-us"),className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Need Help?"})]})]})})]})]})},xZ=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),r=[{label:"Happy Customers",value:"50,000+",icon:""},{label:"Cities Served",value:"25+",icon:""},{label:"Restaurant Partners",value:"500+",icon:""},{label:"Orders Delivered",value:"1M+",icon:""}],s=[{title:"Quality First",description:"We never compromise on food quality and safety standards.",icon:o.jsx(qB,{className:"w-8 h-8"}),color:"bg-yellow-600"},{title:"Customer Satisfaction",description:"Your satisfaction is our top priority. We go above and beyond to exceed expectations.",icon:o.jsx(vi,{className:"w-8 h-8"}),color:"bg-red-600"},{title:"Fast Delivery",description:"We promise to deliver your food fresh and hot within 30 minutes.",icon:o.jsx(os,{className:"w-8 h-8"}),color:"bg-green-600"},{title:"Trust & Safety",description:"Your safety and trust are paramount. We maintain the highest hygiene standards.",icon:o.jsx(na,{className:"w-8 h-8"}),color:"bg-blue-600"}],i=[{name:"Rahul Sharma",position:"CEO & Founder",image:"",description:"Former food industry executive with 15+ years of experience"},{name:"Priya Patel",position:"CTO",image:"",description:"Tech enthusiast leading our digital transformation"},{name:"Amit Kumar",position:"Head of Operations",image:"",description:"Operations expert ensuring smooth delivery logistics"},{name:"Neha Singh",position:"Head of Customer Experience",image:"",description:"Customer advocate focused on exceptional service"}],a=[{year:"2023",title:"Best Food Delivery App",description:"Awarded by FoodTech India",icon:""},{year:"2023",title:"Fastest Growing Startup",description:"Recognized by Startup India",icon:""},{year:"2022",title:"Customer Choice Award",description:"Highest rated delivery app",icon:""},{year:"2022",title:"Innovation in Logistics",description:"Awarded by Logistics India",icon:""}],l=[{year:"2020",title:"Company Founded",description:"Started with a vision to revolutionize food delivery"},{year:"2021",title:"First 1000 Orders",description:"Reached our first major milestone"},{year:"2022",title:"Expanded to 10 Cities",description:"Grew our presence across major cities"},{year:"2023",title:"1 Million Orders",description:"Celebrated delivering 1 million orders"}];return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"About Us"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Learn more about PickNGo"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Revolutionizing Food Delivery"}),o.jsx("p",{className:`text-xl max-w-3xl mx-auto ${e?"text-gray-300":"text-gray-600"}`,children:"At PickNGo, we believe that great food should be accessible to everyone, delivered fresh and fast. We're on a mission to connect people with their favorite restaurants through technology and exceptional service."})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:r.map((c,u)=>o.jsx(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Pe,{className:"p-6",children:[o.jsx("div",{className:"text-3xl mb-2",children:c.icon}),o.jsx("div",{className:`text-2xl font-bold mb-1 ${e?"text-white":"text-gray-800"}`,children:c.value}),o.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:c.label})]})},u))}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[o.jsxs(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(dt,{children:o.jsxs(bt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(dH,{className:"w-5 h-5"}),o.jsx("span",{children:"Our Mission"})]})}),o.jsx(Pe,{children:o.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:"To provide the fastest, most reliable food delivery service while maintaining the highest standards of food quality, customer service, and safety. We strive to make ordering food as simple as possible while ensuring every meal arrives fresh and delicious."})})]}),o.jsxs(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(dt,{children:o.jsxs(bt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(Gr,{className:"w-5 h-5"}),o.jsx("span",{children:"Our Vision"})]})}),o.jsx(Pe,{children:o.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:"To become the most trusted and preferred food delivery platform in India, known for our commitment to quality, speed, and customer satisfaction. We envision a future where everyone can enjoy their favorite food delivered to their doorstep within minutes."})})]})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Values"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((c,u)=>o.jsx(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Pe,{className:"p-6",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${c.color}`,children:c.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:c.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})},u))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Leadership Team"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((c,u)=>o.jsx(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Pe,{className:"p-6",children:[o.jsx("div",{className:"text-4xl mb-3",children:c.image}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:c.name}),o.jsx("p",{className:"text-pickngo-orange-500 mb-2",children:c.position}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})},u))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Awards & Recognition"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map((c,u)=>o.jsx(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:o.jsx(Pe,{className:"p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"text-3xl",children:c.icon}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Pt,{variant:"secondary",className:"bg-pickngo-orange-100 text-pickngo-orange-800",children:c.year}),o.jsx("h3",{className:`font-semibold ${e?"text-white":"text-gray-800"}`,children:c.title})]}),o.jsx("p",{className:`${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})]})})},u))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Journey"}),o.jsx("div",{className:"space-y-6",children:l.map((c,u)=>o.jsx(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:o.jsx(Pe,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Pt,{className:"bg-pickngo-orange-500",children:c.year})}),o.jsxs("div",{children:[o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:c.title}),o.jsx("p",{className:`${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})]})})},u))})]}),o.jsxs(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(dt,{children:o.jsx(bt,{className:`text-center ${e?"text-white":"text-gray-800"}`,children:"Get in Touch"})}),o.jsx(Pe,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[o.jsxs("div",{children:[o.jsx(an,{className:"w-6 h-6 mx-auto mb-2 text-pickngo-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Address"}),o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:["123 Food Street",o.jsx("br",{}),"Park Street Area",o.jsx("br",{}),"Kolkata, WB 700001"]})]}),o.jsxs("div",{children:[o.jsx(gr,{className:"w-6 h-6 mx-auto mb-2 text-pickngo-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Phone"}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"+91 98765 43210"})]}),o.jsxs("div",{children:[o.jsx(Hs,{className:"w-6 h-6 mx-auto mb-2 text-pickngo-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Email"}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"hello@pickngo.com"})]})]})})]}),o.jsx("div",{className:"text-center mt-8",children:o.jsx(H,{onClick:()=>t("/"),className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-lg px-8 py-3",children:"Start Ordering Now"})})]})]})},wZ=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState(null),[i,a]=d.useState(!1),[l,c]=d.useState({name:"",email:"",phone:"",position:"",experience:"",coverLetter:"",resume:null}),u=[{id:1,title:"Senior React Developer",department:"Engineering",location:"Kolkata, WB",type:"Full-time",experience:"3-5 years",salary:"8-15 LPA",description:"We are looking for a passionate React developer to join our team and help build amazing user experiences.",requirements:["Strong proficiency in React, TypeScript, and modern JavaScript","Experience with state management (Redux, Zustand)","Knowledge of responsive design and CSS frameworks","Experience with testing frameworks (Jest, React Testing Library)","Good understanding of REST APIs and GraphQL"],responsibilities:["Develop and maintain high-quality React applications","Collaborate with design and product teams","Write clean, maintainable, and well-documented code","Participate in code reviews and technical discussions","Mentor junior developers"]},{id:2,title:"Product Manager",department:"Product",location:"Remote",type:"Full-time",experience:"2-4 years",salary:"10-18 LPA",description:"Join our product team to help shape the future of food delivery and create amazing user experiences.",requirements:["Experience in product management or related field","Strong analytical and problem-solving skills","Excellent communication and collaboration abilities","Experience with agile methodologies","Knowledge of user research and data analysis"],responsibilities:["Define product strategy and roadmap","Gather and analyze user feedback","Work with engineering and design teams","Monitor product metrics and KPIs","Drive product launches and iterations"]},{id:3,title:"UI/UX Designer",department:"Design",location:"Mumbai, MH",type:"Full-time",experience:"2-4 years",salary:"6-12 LPA",description:"Create beautiful and intuitive user interfaces that delight our customers and drive business growth.",requirements:["Strong portfolio showcasing UI/UX work","Proficiency in design tools (Figma, Sketch, Adobe Creative Suite)","Understanding of user-centered design principles","Experience with mobile app design","Knowledge of design systems and component libraries"],responsibilities:["Design user interfaces and user experiences","Create wireframes, prototypes, and high-fidelity designs","Conduct user research and usability testing","Collaborate with product and engineering teams","Maintain and evolve our design system"]},{id:4,title:"Operations Manager",department:"Operations",location:"Delhi, NCR",type:"Full-time",experience:"3-6 years",salary:"8-15 LPA",description:"Lead our operations team to ensure smooth delivery operations and excellent customer service.",requirements:["Experience in operations management or logistics","Strong leadership and team management skills","Excellent problem-solving and decision-making abilities","Experience with process optimization","Knowledge of supply chain management"],responsibilities:["Manage day-to-day operations","Optimize delivery processes and efficiency","Lead and mentor operations team","Monitor and improve service quality","Develop and implement operational strategies"]},{id:5,title:"Marketing Specialist",department:"Marketing",location:"Bangalore, KA",type:"Full-time",experience:"1-3 years",salary:"5-10 LPA",description:"Help us grow our brand and reach more customers through creative marketing campaigns.",requirements:["Experience in digital marketing or related field","Knowledge of social media marketing and content creation","Experience with marketing analytics and tools","Creative thinking and strong communication skills","Understanding of customer acquisition and retention"],responsibilities:["Develop and execute marketing campaigns","Create engaging content for social media","Analyze marketing performance and optimize campaigns","Collaborate with creative and product teams","Manage brand presence across channels"]}],h=[{title:"Health & Wellness",description:"Comprehensive health insurance and wellness programs",icon:o.jsx(vi,{className:"w-6 h-6"}),color:"bg-red-600"},{title:"Learning & Growth",description:"Continuous learning opportunities and career development",icon:o.jsx(nH,{className:"w-6 h-6"}),color:"bg-blue-600"},{title:"Flexible Work",description:"Remote work options and flexible working hours",icon:o.jsx(L2,{className:"w-6 h-6"}),color:"bg-green-600"},{title:"Team Events",description:"Regular team building activities and social events",icon:o.jsx(mH,{className:"w-6 h-6"}),color:"bg-purple-600"}],p=v=>{s(v),c(y=>({...y,position:v.title})),a(!0)},m=async v=>{v.preventDefault(),await new Promise(y=>setTimeout(y,2e3)),z.success("Application submitted successfully! We will get back to you soon."),a(!1),c({name:"",email:"",phone:"",position:"",experience:"",coverLetter:"",resume:null})},g=(v,y)=>{c(b=>({...b,[v]:y}))};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Careers"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Join our amazing team"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Join Our Team"}),o.jsx("p",{className:`text-xl max-w-3xl mx-auto ${e?"text-gray-300":"text-gray-600"}`,children:"Be part of a team that's revolutionizing food delivery. We're looking for passionate individuals who want to make a difference and grow with us."})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Why Work With Us"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((v,y)=>o.jsx(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Pe,{className:"p-6",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${v.color}`,children:v.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:v.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:v.description})]})},y))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Open Positions"}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.map(v=>o.jsxs(Te,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:shadow-lg transition-shadow`,children:[o.jsx(dt,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(bt,{className:`text-xl ${e?"text-white":"text-gray-800"}`,children:v.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:v.department})]}),o.jsx(Pt,{className:"bg-pickngo-orange-500",children:v.type})]})}),o.jsxs(Pe,{children:[o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(an,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:v.location})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ka,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:v.experience})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(eH,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:v.salary})]})]}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:v.description})]}),o.jsx(H,{onClick:()=>p(v),className:"w-full bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:"Apply Now"})]})]},v.id))})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs(Te,{className:"bg-white border border-gray-200 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(dt,{children:o.jsxs(bt,{className:"flex items-center justify-between text-gray-800",children:[o.jsxs("span",{children:["Apply for ",r==null?void 0:r.title]}),o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>a(!1),className:"text-gray-600 hover:text-pickngo-orange-500",children:""})]})}),o.jsx(Pe,{children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"name",className:"text-gray-800",children:"Full Name *"}),o.jsx($e,{id:"name",value:l.name,onChange:v=>g("name",v.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email",className:"text-gray-800",children:"Email Address *"}),o.jsx($e,{id:"email",type:"email",value:l.email,onChange:v=>g("email",v.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your email"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"phone",className:"text-gray-800",children:"Phone Number *"}),o.jsx($e,{id:"phone",type:"tel",value:l.phone,onChange:v=>g("phone",v.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your phone number"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"experience",className:"text-gray-800",children:"Years of Experience *"}),o.jsxs(qm,{value:l.experience,onValueChange:v=>g("experience",v),children:[o.jsx(Od,{className:"bg-white border-gray-300 text-gray-800",children:o.jsx(Gm,{placeholder:"Select experience level"})}),o.jsxs(Vd,{children:[o.jsx(un,{value:"0-1",children:"0-1 years"}),o.jsx(un,{value:"1-3",children:"1-3 years"}),o.jsx(un,{value:"3-5",children:"3-5 years"}),o.jsx(un,{value:"5-8",children:"5-8 years"}),o.jsx(un,{value:"8+",children:"8+ years"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"coverLetter",className:"text-gray-800",children:"Cover Letter *"}),o.jsx(fb,{id:"coverLetter",value:l.coverLetter,onChange:v=>g("coverLetter",v.target.value),required:!0,rows:5,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Tell us why you're interested in this position and what makes you a great fit..."})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"resume",className:"text-gray-800",children:"Resume/CV *"}),o.jsx($e,{id:"resume",type:"file",accept:".pdf,.doc,.docx",onChange:v=>g("resume",v.target.files[0]),required:!0,className:"bg-white border-gray-300 text-gray-800 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-pickngo-orange-500 file:text-white hover:file:bg-pickngo-orange-600"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted formats: PDF, DOC, DOCX (Max 5MB)"})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(H,{type:"submit",className:"flex-1 bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:"Submit Application"}),o.jsx(H,{type:"button",variant:"outline",onClick:()=>a(!1),className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"})]})]})})]})}),o.jsx(Te,{className:"bg-white border border-gray-200",children:o.jsxs(Pe,{className:"p-8 text-center",children:[o.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Don't see a perfect fit?"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"We're always looking for talented individuals to join our team. Send us your resume and we'll keep you in mind for future opportunities."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(H,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Send Resume"]}),o.jsxs(H,{variant:"outline",className:"border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(gr,{className:"w-4 h-4 mr-2"}),"Contact HR"]})]})]})})]})]})},bZ=()=>{const t=Ln(),{isDarkMode:e,toggleDarkMode:n}=Yt(),[r,s]=d.useState("overview");return o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Privacy Policy"}),o.jsx("p",{className:"text-sm text-gray-600",children:"How we protect your data"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[o.jsx("div",{className:"mb-6 p-4 bg-pickngo-orange-50 border border-pickngo-orange-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(I2,{className:"w-5 h-5 text-pickngo-orange-600"}),o.jsx("span",{className:"text-sm font-medium text-pickngo-orange-800",children:"Last updated: December 15, 2024"})]})}),o.jsx(Te,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Pe,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Introduction"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"At PickNGo Instant Grub, we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our food delivery service."}),o.jsx("p",{className:"text-gray-600",children:"By using our service, you agree to the collection and use of information in accordance with this policy."})]})}),o.jsx(Te,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Pe,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Information We Collect"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx($i,{className:"w-5 h-5 mr-2 text-pickngo-orange-500"}),"Personal Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"Name and contact information (email, phone number)"}),o.jsx("li",{children:"Delivery address and location data"}),o.jsx("li",{children:"Payment information (processed securely through our payment partners)"}),o.jsx("li",{children:"Account credentials and profile information"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(np,{className:"w-5 h-5 mr-2 text-pickngo-orange-500"}),"Device and Usage Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"Device type, operating system, and browser information"}),o.jsx("li",{children:"IP address and general location data"}),o.jsx("li",{children:"App usage patterns and preferences"}),o.jsx("li",{children:"Order history and delivery preferences"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(an,{className:"w-5 h-5 mr-2 text-pickngo-orange-500"}),"Location Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"GPS location for delivery services"}),o.jsx("li",{children:"Address book contacts (with permission)"}),o.jsx("li",{children:"Real-time location tracking during delivery"})]})]})]})]})}),o.jsx(Te,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Pe,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"How We Use Your Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(os,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Service Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Process orders and coordinate deliveries"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(na,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Security"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Prevent fraud and ensure account security"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(iH,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Communication"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Send order updates and support messages"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(QB,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Analytics"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Improve our service and user experience"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(R2,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Personalization"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Provide relevant recommendations"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(Wv,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Account Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage your account and preferences"})]})]})]})]})]})}),o.jsx(Te,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Pe,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Information Sharing"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We do not sell, trade, or rent your personal information to third parties. We may share your information only in the following circumstances:"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full mt-1",children:o.jsx(KB,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Restaurant Partners"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Share order details with restaurants to fulfill your orders"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full mt-1",children:o.jsx(os,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Delivery Partners"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Provide necessary information to delivery drivers"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full mt-1",children:o.jsx(na,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Legal Requirements"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Comply with applicable laws and regulations"})]})]})]})]})}),o.jsx(Te,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Pe,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Data Security"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We implement industry-standard security measures to protect your personal information:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Zc,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"SSL encryption for data transmission"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Zc,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Secure payment processing"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Zc,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Regular security audits"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Zc,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Access controls and authentication"})]})]})]})}),o.jsx(Te,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Pe,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Your Rights"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"You have the following rights regarding your personal information:"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(xu,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Access"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request access to your personal data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(Iw,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Correction"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request correction of inaccurate data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(Ad,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Deletion"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request deletion of your personal data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(GB,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Objection"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Object to processing of your data"})]})]})]})]})}),o.jsx(Te,{className:"bg-white border border-gray-200",children:o.jsxs(Pe,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Contact Us"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Hs,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"privacy@pickngo.com"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(gr,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"+1 (555) 123-4567"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(an,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"123 Food Street, Delivery City, DC 12345"})]})]})]})})]})]})},EZ=({children:t})=>{const{banStatus:e,user:n}=mc(),{isDarkMode:r}=Yt();if(n&&e.isBanned){const s=async()=>{try{await IT(Nt),z.success("Signed out successfully")}catch(c){console.error("Error signing out:",c),z.error("Failed to sign out")}},i=c=>c?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(c):"Unknown",a=!e.banExpiry,l=e.banExpiry&&new Date>e.banExpiry;return o.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 ${r?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:o.jsxs(Te,{className:`max-w-md w-full ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsxs(dt,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx(na,{className:"w-8 h-8 text-red-600"})}),o.jsx(bt,{className:`text-xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Account Suspended"})]}),o.jsxs(Pe,{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:`text-sm ${r?"text-gray-300":"text-gray-600"} mb-4`,children:"Your account has been suspended due to a violation of our terms of service."}),e.banReason&&o.jsx("div",{className:`p-3 rounded-lg mb-4 ${r?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"} border`,children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(fH,{className:"w-4 h-4 text-orange-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-gray-900"}`,children:"Reason:"}),o.jsx("p",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:e.banReason})]})]})}),o.jsx("div",{className:`p-3 rounded-lg mb-4 ${r?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"} border`,children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(ka,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-gray-900"}`,children:a?"Permanent Ban":"Temporary Ban"}),o.jsxs("p",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:["Banned on: ",i(e.banDate)]}),e.banExpiry&&o.jsxs("p",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:["Expires: ",i(e.banExpiry)]})]})]})}),l&&o.jsx("div",{className:`p-3 rounded-lg mb-4 ${r?"bg-green-900 border-green-700":"bg-green-50 border-green-200"} border`,children:o.jsx("p",{className:`text-sm font-medium text-green-600 ${r?"text-green-400":"text-green-700"}`,children:" Your ban has expired! You can now use the app normally."})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(H,{onClick:s,variant:"outline",className:`w-full ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(uc,{className:"w-4 h-4 mr-2"}),"Sign Out"]}),!a&&!l&&o.jsx("p",{className:`text-xs text-center ${r?"text-gray-400":"text-gray-500"}`,children:"Your account will be automatically restored when the ban expires."})]})]})]})})}return e.isLoading?o.jsx("div",{className:`min-h-screen flex items-center justify-center ${r?"bg-gray-900":"bg-gray-50"}`,children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Checking account status..."})]})}):o.jsx(o.Fragment,{children:t})},NZ=new aV,AM=d.createContext(void 0),Yt=()=>{const t=d.useContext(AM);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},RM=d.createContext(void 0),Zm=()=>{const t=d.useContext(RM);if(!t)throw new Error("useSelectedAddress must be used within a SelectedAddressProvider");return t},CZ=({children:t})=>{const[e,n]=d.useState(!1);d.useEffect(()=>{const c=localStorage.getItem("darkMode")==="true";n(c),r(c)},[]);const r=l=>{l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},s=()=>{const l=!e;n(l),localStorage.setItem("darkMode",l.toString()),r(l),Nt.currentUser&&a(Nt.currentUser.uid,l)},i=l=>{n(l),localStorage.setItem("darkMode",l.toString()),r(l),Nt.currentUser&&a(Nt.currentUser.uid,l)},a=async(l,c)=>{try{const u=_t(Fe,"users",l);await In(u,{"settings.darkMode":c,updatedAt:new Date})}catch(u){console.error("Error updating theme in Firestore:",u)}};return o.jsx(AM.Provider,{value:{isDarkMode:e,toggleDarkMode:s,setDarkMode:i},children:t})},_Z=()=>{const[t,e]=d.useState(()=>{const a=localStorage.getItem("pickngo-selected-address");return a?JSON.parse(a):null}),[n,r]=d.useState(!1);d.useEffect(()=>{(async()=>{try{await FB(),await UB(),console.log("Firebase data initialized successfully")}catch(l){console.error("Error initializing Firebase data:",l)}})()},[]),d.useEffect(()=>{t?localStorage.setItem("pickngo-selected-address",JSON.stringify(t)):localStorage.removeItem("pickngo-selected-address")},[t]),d.useEffect(()=>{(async()=>{try{const l=await F$(Nt);l&&(z.success("Google sign-in successful!"),await s(l.user))}catch(l){console.error("Google sign-in redirect error:",l),z.error("Google sign-in failed. Please try again.")}})()},[]),d.useEffect(()=>{const a=Nt.onAuthStateChanged(async l=>{l?await s(l):r(!1)});return()=>a()},[]);const s=async a=>{var l;try{const c=await ya(_t(Fe,"users",a.uid));(!c.exists()||!((l=c.data())!=null&&l.isOnboarded))&&r(!0)}catch(c){console.error("Error checking user onboarding status:",c)}},i=()=>{r(!1)};return o.jsx(cV,{client:NZ,children:o.jsx(CZ,{children:o.jsx(RM.Provider,{value:{selectedAddress:t,setSelectedAddress:e},children:o.jsxs(JW,{children:[o.jsxs(O3,{children:[o.jsx(o5,{position:"bottom-right"}),o.jsx(iF,{children:o.jsx(EZ,{children:o.jsxs(nF,{children:[o.jsx(wn,{path:"/",element:o.jsx(YQ,{})}),o.jsx(wn,{path:"/food",element:o.jsx(ZQ,{})}),o.jsx(wn,{path:"/daily-essential",element:o.jsx(XQ,{})}),o.jsx(wn,{path:"/drinks",element:o.jsx(JQ,{})}),o.jsx(wn,{path:"/all-categories",element:o.jsx(ZY,{})}),o.jsx(wn,{path:"/profile",element:o.jsx(eY,{})}),o.jsx(wn,{path:"/past-orders",element:o.jsx(tY,{})}),o.jsx(wn,{path:"/current-order/:orderId",element:o.jsx(cY,{})}),o.jsx(wn,{path:"/settings",element:o.jsx(WY,{})}),o.jsx(wn,{path:"/address",element:o.jsx(qY,{})}),o.jsx(wn,{path:"/help-center",element:o.jsx(gZ,{})}),o.jsx(wn,{path:"/contact-us",element:o.jsx(yZ,{})}),o.jsx(wn,{path:"/track-order",element:o.jsx(vZ,{})}),o.jsx(wn,{path:"/about-us",element:o.jsx(xZ,{})}),o.jsx(wn,{path:"/careers",element:o.jsx(wZ,{})}),o.jsx(wn,{path:"/privacy-policy",element:o.jsx(bZ,{})}),o.jsx(wn,{path:"*",element:o.jsx(GY,{})})]})})})]}),o.jsx(sA,{isOpen:n,onComplete:i})]})})})})};Lk(document.getElementById("root")).render(o.jsx(_Z,{}));
