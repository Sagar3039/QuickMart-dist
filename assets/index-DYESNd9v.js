var o1=t=>{throw TypeError(t)};var vg=(t,e,n)=>e.has(t)||o1("Cannot "+n);var oe=(t,e,n)=>(vg(t,e,"read from private field"),n?n.call(t):e.get(t)),gt=(t,e,n)=>e.has(t)?o1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ze=(t,e,n,r)=>(vg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),$n=(t,e,n)=>(vg(t,e,"access private method"),n);var ih=(t,e,n,r)=>({set _(s){Ze(t,e,s,n)},get _(){return oe(t,e,r)}});function o4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function kS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IS={exports:{}},Ip={},TS={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=Symbol.for("react.element"),a4=Symbol.for("react.portal"),l4=Symbol.for("react.fragment"),c4=Symbol.for("react.strict_mode"),u4=Symbol.for("react.profiler"),d4=Symbol.for("react.provider"),h4=Symbol.for("react.context"),f4=Symbol.for("react.forward_ref"),p4=Symbol.for("react.suspense"),m4=Symbol.for("react.memo"),g4=Symbol.for("react.lazy"),a1=Symbol.iterator;function y4(t){return t===null||typeof t!="object"?null:(t=a1&&t[a1]||t["@@iterator"],typeof t=="function"?t:null)}var PS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AS=Object.assign,RS={};function Yl(t,e,n){this.props=t,this.context=e,this.refs=RS,this.updater=n||PS}Yl.prototype.isReactComponent={};Yl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LS(){}LS.prototype=Yl.prototype;function w0(t,e,n){this.props=t,this.context=e,this.refs=RS,this.updater=n||PS}var b0=w0.prototype=new LS;b0.constructor=w0;AS(b0,Yl.prototype);b0.isPureReactComponent=!0;var l1=Array.isArray,MS=Object.prototype.hasOwnProperty,E0={current:null},DS={key:!0,ref:!0,__self:!0,__source:!0};function OS(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)MS.call(e,r)&&!DS.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:gd,type:t,key:i,ref:a,props:s,_owner:E0.current}}function v4(t,e){return{$$typeof:gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function N0(t){return typeof t=="object"&&t!==null&&t.$$typeof===gd}function x4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var c1=/\/+/g;function xg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?x4(""+t.key):e.toString(36)}function $h(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case gd:case a4:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+xg(a,0):r,l1(s)?(n="",t!=null&&(n=t.replace(c1,"$&/")+"/"),$h(s,e,n,"",function(u){return u})):s!=null&&(N0(s)&&(s=v4(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(c1,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",l1(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+xg(i,l);a+=$h(i,e,n,c,s)}else if(c=y4(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+xg(i,l++),a+=$h(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function oh(t,e,n){if(t==null)return t;var r=[],s=0;return $h(t,r,"","",function(i){return e.call(n,i,s++)}),r}function w4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rr={current:null},Uh={transition:null},b4={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:Uh,ReactCurrentOwner:E0};function VS(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:oh,forEach:function(t,e,n){oh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return oh(t,function(){e++}),e},toArray:function(t){return oh(t,function(e){return e})||[]},only:function(t){if(!N0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ot.Component=Yl;ot.Fragment=l4;ot.Profiler=u4;ot.PureComponent=w0;ot.StrictMode=c4;ot.Suspense=p4;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b4;ot.act=VS;ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=AS({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=E0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)MS.call(e,c)&&!DS.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:gd,type:t.type,key:s,ref:i,props:r,_owner:a}};ot.createContext=function(t){return t={$$typeof:h4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:d4,_context:t},t.Consumer=t};ot.createElement=OS;ot.createFactory=function(t){var e=OS.bind(null,t);return e.type=t,e};ot.createRef=function(){return{current:null}};ot.forwardRef=function(t){return{$$typeof:f4,render:t}};ot.isValidElement=N0;ot.lazy=function(t){return{$$typeof:g4,_payload:{_status:-1,_result:t},_init:w4}};ot.memo=function(t,e){return{$$typeof:m4,type:t,compare:e===void 0?null:e}};ot.startTransition=function(t){var e=Uh.transition;Uh.transition={};try{t()}finally{Uh.transition=e}};ot.unstable_act=VS;ot.useCallback=function(t,e){return rr.current.useCallback(t,e)};ot.useContext=function(t){return rr.current.useContext(t)};ot.useDebugValue=function(){};ot.useDeferredValue=function(t){return rr.current.useDeferredValue(t)};ot.useEffect=function(t,e){return rr.current.useEffect(t,e)};ot.useId=function(){return rr.current.useId()};ot.useImperativeHandle=function(t,e,n){return rr.current.useImperativeHandle(t,e,n)};ot.useInsertionEffect=function(t,e){return rr.current.useInsertionEffect(t,e)};ot.useLayoutEffect=function(t,e){return rr.current.useLayoutEffect(t,e)};ot.useMemo=function(t,e){return rr.current.useMemo(t,e)};ot.useReducer=function(t,e,n){return rr.current.useReducer(t,e,n)};ot.useRef=function(t){return rr.current.useRef(t)};ot.useState=function(t){return rr.current.useState(t)};ot.useSyncExternalStore=function(t,e,n){return rr.current.useSyncExternalStore(t,e,n)};ot.useTransition=function(){return rr.current.useTransition()};ot.version="18.3.1";TS.exports=ot;var d=TS.exports;const de=kS(d),C0=o4({__proto__:null,default:de},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E4=d,N4=Symbol.for("react.element"),C4=Symbol.for("react.fragment"),_4=Object.prototype.hasOwnProperty,S4=E4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j4={key:!0,ref:!0,__self:!0,__source:!0};function FS(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)_4.call(e,r)&&!j4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:N4,type:t,key:i,ref:a,props:s,_owner:S4.current}}Ip.Fragment=C4;Ip.jsx=FS;Ip.jsxs=FS;IS.exports=Ip;var o=IS.exports,$S={exports:{}},Lr={},US={exports:{}},zS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,D){var $=V.length;V.push(D);e:for(;0<$;){var B=$-1>>>1,O=V[B];if(0<s(O,D))V[B]=D,V[$]=O,$=B;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var D=V[0],$=V.pop();if($!==D){V[0]=$;e:for(var B=0,O=V.length,H=O>>>1;B<H;){var ie=2*(B+1)-1,q=V[ie],fe=ie+1,ee=V[fe];if(0>s(q,$))fe<O&&0>s(ee,q)?(V[B]=ee,V[fe]=$,B=fe):(V[B]=q,V[ie]=$,B=ie);else if(fe<O&&0>s(ee,$))V[B]=ee,V[fe]=$,B=fe;else break e}}return D}function s(V,D){var $=V.sortIndex-D.sortIndex;return $!==0?$:V.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,p=null,m=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(V){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=V)r(u),D.sortIndex=D.expirationTime,e(c,D);else break;D=n(u)}}function k(V){if(y=!1,N(V),!v)if(n(c)!==null)v=!0,F(A);else{var D=n(u);D!==null&&K(k,D.startTime-V)}}function A(V,D){v=!1,y&&(y=!1,b(_),_=-1),g=!0;var $=m;try{for(N(D),p=n(c);p!==null&&(!(p.expirationTime>D)||V&&!I());){var B=p.callback;if(typeof B=="function"){p.callback=null,m=p.priorityLevel;var O=B(p.expirationTime<=D);D=t.unstable_now(),typeof O=="function"?p.callback=O:p===n(c)&&r(c),N(D)}else r(c);p=n(c)}if(p!==null)var H=!0;else{var ie=n(u);ie!==null&&K(k,ie.startTime-D),H=!1}return H}finally{p=null,m=$,g=!1}}var R=!1,C=null,_=-1,j=5,T=-1;function I(){return!(t.unstable_now()-T<j)}function P(){if(C!==null){var V=t.unstable_now();T=V;var D=!0;try{D=C(!0,V)}finally{D?L():(R=!1,C=null)}}else R=!1}var L;if(typeof w=="function")L=function(){w(P)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,U=Z.port2;Z.port1.onmessage=P,L=function(){U.postMessage(null)}}else L=function(){x(P,0)};function F(V){C=V,R||(R=!0,L())}function K(V,D){_=x(function(){V(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,F(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var $=m;m=D;try{return V()}finally{m=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,D){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var $=m;m=V;try{return D()}finally{m=$}},t.unstable_scheduleCallback=function(V,D,$){var B=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?B+$:B):$=B,V){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=$+O,V={id:h++,callback:D,priorityLevel:V,startTime:$,expirationTime:O,sortIndex:-1},$>B?(V.sortIndex=$,e(u,V),n(c)===null&&V===n(u)&&(y?(b(_),_=-1):y=!0,K(k,$-B))):(V.sortIndex=O,e(c,V),v||g||(v=!0,F(A))),V},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(V){var D=m;return function(){var $=m;m=D;try{return V.apply(this,arguments)}finally{m=$}}}})(zS);US.exports=zS;var k4=US.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4=d,Ar=k4;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BS=new Set,ju={};function _a(t,e){Pl(t,e),Pl(t+"Capture",e)}function Pl(t,e){for(ju[t]=e,t=0;t<e.length;t++)BS.add(e[t])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ey=Object.prototype.hasOwnProperty,T4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u1={},d1={};function P4(t){return Ey.call(d1,t)?!0:Ey.call(u1,t)?!1:T4.test(t)?d1[t]=!0:(u1[t]=!0,!1)}function A4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function R4(t,e,n,r){if(e===null||typeof e>"u"||A4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sr(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rn[t]=new sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rn[e]=new sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rn[t]=new sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rn[t]=new sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rn[t]=new sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rn[t]=new sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rn[t]=new sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rn[t]=new sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rn[t]=new sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var _0=/[\-:]([a-z])/g;function S0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_0,S0);Rn[e]=new sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_0,S0);Rn[e]=new sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_0,S0);Rn[e]=new sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rn[t]=new sr(t,1,!1,t.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rn[t]=new sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function j0(t,e,n,r){var s=Rn.hasOwnProperty(e)?Rn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(R4(e,n,s,r)&&(n=null),r||s===null?P4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ni=I4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ah=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),Ka=Symbol.for("react.fragment"),k0=Symbol.for("react.strict_mode"),Ny=Symbol.for("react.profiler"),HS=Symbol.for("react.provider"),WS=Symbol.for("react.context"),I0=Symbol.for("react.forward_ref"),Cy=Symbol.for("react.suspense"),_y=Symbol.for("react.suspense_list"),T0=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),qS=Symbol.for("react.offscreen"),h1=Symbol.iterator;function Tc(t){return t===null||typeof t!="object"?null:(t=h1&&t[h1]||t["@@iterator"],typeof t=="function"?t:null)}var qt=Object.assign,wg;function Hc(t){if(wg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wg=e&&e[1]||""}return`
`+wg+t}var bg=!1;function Eg(t,e){if(!t||bg)return"";bg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{bg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hc(t):""}function L4(t){switch(t.tag){case 5:return Hc(t.type);case 16:return Hc("Lazy");case 13:return Hc("Suspense");case 19:return Hc("SuspenseList");case 0:case 2:case 15:return t=Eg(t.type,!1),t;case 11:return t=Eg(t.type.render,!1),t;case 1:return t=Eg(t.type,!0),t;default:return""}}function Sy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ka:return"Fragment";case Ga:return"Portal";case Ny:return"Profiler";case k0:return"StrictMode";case Cy:return"Suspense";case _y:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WS:return(t.displayName||"Context")+".Consumer";case HS:return(t._context.displayName||"Context")+".Provider";case I0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case T0:return e=t.displayName||null,e!==null?e:Sy(t.type)||"Memo";case Li:e=t._payload,t=t._init;try{return Sy(t(e))}catch{}}return null}function M4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sy(e);case 8:return e===k0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function D4(t){var e=GS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lh(t){t._valueTracker||(t._valueTracker=D4(t))}function KS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ff(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jy(t,e){var n=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function f1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QS(t,e){e=e.checked,e!=null&&j0(t,"checked",e,!1)}function ky(t,e){QS(t,e);var n=mo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Iy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Iy(t,e.type,mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function p1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Iy(t,e,n){(e!=="number"||ff(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wc=Array.isArray;function al(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ty(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function m1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(Wc(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mo(n)}}function YS(t,e){var n=mo(e.value),r=mo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function g1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Py(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ch,XS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ch=ch||document.createElement("div"),ch.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ch.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ku(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O4=["Webkit","ms","Moz","O"];Object.keys(au).forEach(function(t){O4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),au[e]=au[t]})});function JS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||au.hasOwnProperty(t)&&au[t]?(""+e).trim():e+"px"}function ej(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=JS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var V4=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ay(t,e){if(e){if(V4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function Ry(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ly=null;function P0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var My=null,ll=null,cl=null;function y1(t){if(t=xd(t)){if(typeof My!="function")throw Error(he(280));var e=t.stateNode;e&&(e=Lp(e),My(t.stateNode,t.type,e))}}function tj(t){ll?cl?cl.push(t):cl=[t]:ll=t}function nj(){if(ll){var t=ll,e=cl;if(cl=ll=null,y1(t),e)for(t=0;t<e.length;t++)y1(e[t])}}function rj(t,e){return t(e)}function sj(){}var Ng=!1;function ij(t,e,n){if(Ng)return t(e,n);Ng=!0;try{return rj(t,e,n)}finally{Ng=!1,(ll!==null||cl!==null)&&(sj(),nj())}}function Iu(t,e){var n=t.stateNode;if(n===null)return null;var r=Lp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var Dy=!1;if(hi)try{var Pc={};Object.defineProperty(Pc,"passive",{get:function(){Dy=!0}}),window.addEventListener("test",Pc,Pc),window.removeEventListener("test",Pc,Pc)}catch{Dy=!1}function F4(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var lu=!1,pf=null,mf=!1,Oy=null,$4={onError:function(t){lu=!0,pf=t}};function U4(t,e,n,r,s,i,a,l,c){lu=!1,pf=null,F4.apply($4,arguments)}function z4(t,e,n,r,s,i,a,l,c){if(U4.apply(this,arguments),lu){if(lu){var u=pf;lu=!1,pf=null}else throw Error(he(198));mf||(mf=!0,Oy=u)}}function Sa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v1(t){if(Sa(t)!==t)throw Error(he(188))}function B4(t){var e=t.alternate;if(!e){if(e=Sa(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return v1(s),t;if(i===r)return v1(s),e;i=i.sibling}throw Error(he(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function aj(t){return t=B4(t),t!==null?lj(t):null}function lj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lj(t);if(e!==null)return e;t=t.sibling}return null}var cj=Ar.unstable_scheduleCallback,x1=Ar.unstable_cancelCallback,H4=Ar.unstable_shouldYield,W4=Ar.unstable_requestPaint,rn=Ar.unstable_now,q4=Ar.unstable_getCurrentPriorityLevel,A0=Ar.unstable_ImmediatePriority,uj=Ar.unstable_UserBlockingPriority,gf=Ar.unstable_NormalPriority,G4=Ar.unstable_LowPriority,dj=Ar.unstable_IdlePriority,Tp=null,Vs=null;function K4(t){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(Tp,t,void 0,(t.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:Z4,Q4=Math.log,Y4=Math.LN2;function Z4(t){return t>>>=0,t===0?32:31-(Q4(t)/Y4|0)|0}var uh=64,dh=4194304;function qc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=qc(l):(i&=a,i!==0&&(r=qc(i)))}else a=n&~s,a!==0?r=qc(a):i!==0&&(r=qc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fs(e),s=1<<n,r|=t[n],e&=~s;return r}function X4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-fs(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=X4(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Vy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hj(){var t=uh;return uh<<=1,!(uh&4194240)&&(uh=64),t}function Cg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fs(e),t[e]=n}function eD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function R0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var jt=0;function fj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pj,L0,mj,gj,yj,Fy=!1,hh=[],to=null,no=null,ro=null,Tu=new Map,Pu=new Map,Oi=[],tD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w1(t,e){switch(t){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":Tu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(e.pointerId)}}function Ac(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=xd(e),e!==null&&L0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function nD(t,e,n,r,s){switch(e){case"focusin":return to=Ac(to,t,e,n,r,s),!0;case"dragenter":return no=Ac(no,t,e,n,r,s),!0;case"mouseover":return ro=Ac(ro,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Tu.set(i,Ac(Tu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Pu.set(i,Ac(Pu.get(i)||null,t,e,n,r,s)),!0}return!1}function vj(t){var e=Bo(t.target);if(e!==null){var n=Sa(e);if(n!==null){if(e=n.tag,e===13){if(e=oj(n),e!==null){t.blockedOn=e,yj(t.priority,function(){mj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$y(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ly=r,n.target.dispatchEvent(r),Ly=null}else return e=xd(n),e!==null&&L0(e),t.blockedOn=n,!1;e.shift()}return!0}function b1(t,e,n){zh(t)&&n.delete(e)}function rD(){Fy=!1,to!==null&&zh(to)&&(to=null),no!==null&&zh(no)&&(no=null),ro!==null&&zh(ro)&&(ro=null),Tu.forEach(b1),Pu.forEach(b1)}function Rc(t,e){t.blockedOn===e&&(t.blockedOn=null,Fy||(Fy=!0,Ar.unstable_scheduleCallback(Ar.unstable_NormalPriority,rD)))}function Au(t){function e(s){return Rc(s,t)}if(0<hh.length){Rc(hh[0],t);for(var n=1;n<hh.length;n++){var r=hh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(to!==null&&Rc(to,t),no!==null&&Rc(no,t),ro!==null&&Rc(ro,t),Tu.forEach(e),Pu.forEach(e),n=0;n<Oi.length;n++)r=Oi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Oi.length&&(n=Oi[0],n.blockedOn===null);)vj(n),n.blockedOn===null&&Oi.shift()}var ul=Ni.ReactCurrentBatchConfig,vf=!0;function sD(t,e,n,r){var s=jt,i=ul.transition;ul.transition=null;try{jt=1,M0(t,e,n,r)}finally{jt=s,ul.transition=i}}function iD(t,e,n,r){var s=jt,i=ul.transition;ul.transition=null;try{jt=4,M0(t,e,n,r)}finally{jt=s,ul.transition=i}}function M0(t,e,n,r){if(vf){var s=$y(t,e,n,r);if(s===null)Lg(t,e,r,xf,n),w1(t,r);else if(nD(s,t,e,n,r))r.stopPropagation();else if(w1(t,r),e&4&&-1<tD.indexOf(t)){for(;s!==null;){var i=xd(s);if(i!==null&&pj(i),i=$y(t,e,n,r),i===null&&Lg(t,e,r,xf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Lg(t,e,r,null,n)}}var xf=null;function $y(t,e,n,r){if(xf=null,t=P0(r),t=Bo(t),t!==null)if(e=Sa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oj(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xf=t,null}function xj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q4()){case A0:return 1;case uj:return 4;case gf:case G4:return 16;case dj:return 536870912;default:return 16}default:return 16}}var Ki=null,D0=null,Bh=null;function wj(){if(Bh)return Bh;var t,e=D0,n=e.length,r,s="value"in Ki?Ki.value:Ki.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Bh=s.slice(t,1<r?1-r:void 0)}function Hh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fh(){return!0}function E1(){return!1}function Mr(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fh:E1,this.isPropagationStopped=E1,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fh)},persist:function(){},isPersistent:fh}),e}var Zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},O0=Mr(Zl),vd=qt({},Zl,{view:0,detail:0}),oD=Mr(vd),_g,Sg,Lc,Pp=qt({},vd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lc&&(Lc&&t.type==="mousemove"?(_g=t.screenX-Lc.screenX,Sg=t.screenY-Lc.screenY):Sg=_g=0,Lc=t),_g)},movementY:function(t){return"movementY"in t?t.movementY:Sg}}),N1=Mr(Pp),aD=qt({},Pp,{dataTransfer:0}),lD=Mr(aD),cD=qt({},vd,{relatedTarget:0}),jg=Mr(cD),uD=qt({},Zl,{animationName:0,elapsedTime:0,pseudoElement:0}),dD=Mr(uD),hD=qt({},Zl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fD=Mr(hD),pD=qt({},Zl,{data:0}),C1=Mr(pD),mD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yD[t])?!!e[t]:!1}function V0(){return vD}var xD=qt({},vd,{key:function(t){if(t.key){var e=mD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V0,charCode:function(t){return t.type==="keypress"?Hh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wD=Mr(xD),bD=qt({},Pp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_1=Mr(bD),ED=qt({},vd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V0}),ND=Mr(ED),CD=qt({},Zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),_D=Mr(CD),SD=qt({},Pp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jD=Mr(SD),kD=[9,13,27,32],F0=hi&&"CompositionEvent"in window,cu=null;hi&&"documentMode"in document&&(cu=document.documentMode);var ID=hi&&"TextEvent"in window&&!cu,bj=hi&&(!F0||cu&&8<cu&&11>=cu),S1=" ",j1=!1;function Ej(t,e){switch(t){case"keyup":return kD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function TD(t,e){switch(t){case"compositionend":return Nj(e);case"keypress":return e.which!==32?null:(j1=!0,S1);case"textInput":return t=e.data,t===S1&&j1?null:t;default:return null}}function PD(t,e){if(Qa)return t==="compositionend"||!F0&&Ej(t,e)?(t=wj(),Bh=D0=Ki=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bj&&e.locale!=="ko"?null:e.data;default:return null}}var AD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AD[t.type]:e==="textarea"}function Cj(t,e,n,r){tj(r),e=wf(e,"onChange"),0<e.length&&(n=new O0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uu=null,Ru=null;function RD(t){Mj(t,0)}function Ap(t){var e=Xa(t);if(KS(e))return t}function LD(t,e){if(t==="change")return e}var _j=!1;if(hi){var kg;if(hi){var Ig="oninput"in document;if(!Ig){var I1=document.createElement("div");I1.setAttribute("oninput","return;"),Ig=typeof I1.oninput=="function"}kg=Ig}else kg=!1;_j=kg&&(!document.documentMode||9<document.documentMode)}function T1(){uu&&(uu.detachEvent("onpropertychange",Sj),Ru=uu=null)}function Sj(t){if(t.propertyName==="value"&&Ap(Ru)){var e=[];Cj(e,Ru,t,P0(t)),ij(RD,e)}}function MD(t,e,n){t==="focusin"?(T1(),uu=e,Ru=n,uu.attachEvent("onpropertychange",Sj)):t==="focusout"&&T1()}function DD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ap(Ru)}function OD(t,e){if(t==="click")return Ap(e)}function VD(t,e){if(t==="input"||t==="change")return Ap(e)}function FD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gs=typeof Object.is=="function"?Object.is:FD;function Lu(t,e){if(gs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ey.call(e,s)||!gs(t[s],e[s]))return!1}return!0}function P1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A1(t,e){var n=P1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P1(n)}}function jj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kj(){for(var t=window,e=ff();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ff(t.document)}return e}function $0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $D(t){var e=kj(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jj(n.ownerDocument.documentElement,n)){if(r!==null&&$0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=A1(n,i);var a=A1(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UD=hi&&"documentMode"in document&&11>=document.documentMode,Ya=null,Uy=null,du=null,zy=!1;function R1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zy||Ya==null||Ya!==ff(r)||(r=Ya,"selectionStart"in r&&$0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),du&&Lu(du,r)||(du=r,r=wf(Uy,"onSelect"),0<r.length&&(e=new O0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ya)))}function ph(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Za={animationend:ph("Animation","AnimationEnd"),animationiteration:ph("Animation","AnimationIteration"),animationstart:ph("Animation","AnimationStart"),transitionend:ph("Transition","TransitionEnd")},Tg={},Ij={};hi&&(Ij=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Rp(t){if(Tg[t])return Tg[t];if(!Za[t])return t;var e=Za[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ij)return Tg[t]=e[n];return t}var Tj=Rp("animationend"),Pj=Rp("animationiteration"),Aj=Rp("animationstart"),Rj=Rp("transitionend"),Lj=new Map,L1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function So(t,e){Lj.set(t,e),_a(e,[t])}for(var Pg=0;Pg<L1.length;Pg++){var Ag=L1[Pg],zD=Ag.toLowerCase(),BD=Ag[0].toUpperCase()+Ag.slice(1);So(zD,"on"+BD)}So(Tj,"onAnimationEnd");So(Pj,"onAnimationIteration");So(Aj,"onAnimationStart");So("dblclick","onDoubleClick");So("focusin","onFocus");So("focusout","onBlur");So(Rj,"onTransitionEnd");Pl("onMouseEnter",["mouseout","mouseover"]);Pl("onMouseLeave",["mouseout","mouseover"]);Pl("onPointerEnter",["pointerout","pointerover"]);Pl("onPointerLeave",["pointerout","pointerover"]);_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_a("onBeforeInput",["compositionend","keypress","textInput","paste"]);_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gc));function M1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,z4(r,e,void 0,t),t.currentTarget=null}function Mj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;M1(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;M1(s,l,u),i=c}}}if(mf)throw t=Oy,mf=!1,Oy=null,t}function Dt(t,e){var n=e[Gy];n===void 0&&(n=e[Gy]=new Set);var r=t+"__bubble";n.has(r)||(Dj(e,t,2,!1),n.add(r))}function Rg(t,e,n){var r=0;e&&(r|=4),Dj(n,t,r,e)}var mh="_reactListening"+Math.random().toString(36).slice(2);function Mu(t){if(!t[mh]){t[mh]=!0,BS.forEach(function(n){n!=="selectionchange"&&(HD.has(n)||Rg(n,!1,t),Rg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mh]||(e[mh]=!0,Rg("selectionchange",!1,e))}}function Dj(t,e,n,r){switch(xj(e)){case 1:var s=sD;break;case 4:s=iD;break;default:s=M0}n=s.bind(null,e,n,t),s=void 0,!Dy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Lg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Bo(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}ij(function(){var u=i,h=P0(n),p=[];e:{var m=Lj.get(t);if(m!==void 0){var g=O0,v=t;switch(t){case"keypress":if(Hh(n)===0)break e;case"keydown":case"keyup":g=wD;break;case"focusin":v="focus",g=jg;break;case"focusout":v="blur",g=jg;break;case"beforeblur":case"afterblur":g=jg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=N1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=lD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ND;break;case Tj:case Pj:case Aj:g=dD;break;case Rj:g=_D;break;case"scroll":g=oD;break;case"wheel":g=jD;break;case"copy":case"cut":case"paste":g=fD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_1}var y=(e&4)!==0,x=!y&&t==="scroll",b=y?m!==null?m+"Capture":null:m;y=[];for(var w=u,N;w!==null;){N=w;var k=N.stateNode;if(N.tag===5&&k!==null&&(N=k,b!==null&&(k=Iu(w,b),k!=null&&y.push(Du(w,k,N)))),x)break;w=w.return}0<y.length&&(m=new g(m,v,null,n,h),p.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Ly&&(v=n.relatedTarget||n.fromElement)&&(Bo(v)||v[fi]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Bo(v):null,v!==null&&(x=Sa(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=N1,k="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=_1,k="onPointerLeave",b="onPointerEnter",w="pointer"),x=g==null?m:Xa(g),N=v==null?m:Xa(v),m=new y(k,w+"leave",g,n,h),m.target=x,m.relatedTarget=N,k=null,Bo(h)===u&&(y=new y(b,w+"enter",v,n,h),y.target=N,y.relatedTarget=x,k=y),x=k,g&&v)t:{for(y=g,b=v,w=0,N=y;N;N=Fa(N))w++;for(N=0,k=b;k;k=Fa(k))N++;for(;0<w-N;)y=Fa(y),w--;for(;0<N-w;)b=Fa(b),N--;for(;w--;){if(y===b||b!==null&&y===b.alternate)break t;y=Fa(y),b=Fa(b)}y=null}else y=null;g!==null&&D1(p,m,g,y,!1),v!==null&&x!==null&&D1(p,x,v,y,!0)}}e:{if(m=u?Xa(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var A=LD;else if(k1(m))if(_j)A=VD;else{A=DD;var R=MD}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=OD);if(A&&(A=A(t,u))){Cj(p,A,n,h);break e}R&&R(t,m,u),t==="focusout"&&(R=m._wrapperState)&&R.controlled&&m.type==="number"&&Iy(m,"number",m.value)}switch(R=u?Xa(u):window,t){case"focusin":(k1(R)||R.contentEditable==="true")&&(Ya=R,Uy=u,du=null);break;case"focusout":du=Uy=Ya=null;break;case"mousedown":zy=!0;break;case"contextmenu":case"mouseup":case"dragend":zy=!1,R1(p,n,h);break;case"selectionchange":if(UD)break;case"keydown":case"keyup":R1(p,n,h)}var C;if(F0)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Qa?Ej(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(bj&&n.locale!=="ko"&&(Qa||_!=="onCompositionStart"?_==="onCompositionEnd"&&Qa&&(C=wj()):(Ki=h,D0="value"in Ki?Ki.value:Ki.textContent,Qa=!0)),R=wf(u,_),0<R.length&&(_=new C1(_,t,null,n,h),p.push({event:_,listeners:R}),C?_.data=C:(C=Nj(n),C!==null&&(_.data=C)))),(C=ID?TD(t,n):PD(t,n))&&(u=wf(u,"onBeforeInput"),0<u.length&&(h=new C1("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=C))}Mj(p,e)})}function Du(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Iu(t,n),i!=null&&r.unshift(Du(t,i,s)),i=Iu(t,e),i!=null&&r.push(Du(t,i,s))),t=t.return}return r}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function D1(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Iu(n,i),c!=null&&a.unshift(Du(n,c,l))):s||(c=Iu(n,i),c!=null&&a.push(Du(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var WD=/\r\n?/g,qD=/\u0000|\uFFFD/g;function O1(t){return(typeof t=="string"?t:""+t).replace(WD,`
`).replace(qD,"")}function gh(t,e,n){if(e=O1(e),O1(t)!==e&&n)throw Error(he(425))}function bf(){}var By=null,Hy=null;function Wy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qy=typeof setTimeout=="function"?setTimeout:void 0,GD=typeof clearTimeout=="function"?clearTimeout:void 0,V1=typeof Promise=="function"?Promise:void 0,KD=typeof queueMicrotask=="function"?queueMicrotask:typeof V1<"u"?function(t){return V1.resolve(null).then(t).catch(QD)}:qy;function QD(t){setTimeout(function(){throw t})}function Mg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Au(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Au(e)}function so(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function F1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xl=Math.random().toString(36).slice(2),Rs="__reactFiber$"+Xl,Ou="__reactProps$"+Xl,fi="__reactContainer$"+Xl,Gy="__reactEvents$"+Xl,YD="__reactListeners$"+Xl,ZD="__reactHandles$"+Xl;function Bo(t){var e=t[Rs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[Rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=F1(t);t!==null;){if(n=t[Rs])return n;t=F1(t)}return e}t=n,n=t.parentNode}return null}function xd(t){return t=t[Rs]||t[fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function Lp(t){return t[Ou]||null}var Ky=[],Ja=-1;function jo(t){return{current:t}}function Vt(t){0>Ja||(t.current=Ky[Ja],Ky[Ja]=null,Ja--)}function Rt(t,e){Ja++,Ky[Ja]=t.current,t.current=e}var go={},Yn=jo(go),pr=jo(!1),oa=go;function Al(t,e){var n=t.type.contextTypes;if(!n)return go;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mr(t){return t=t.childContextTypes,t!=null}function Ef(){Vt(pr),Vt(Yn)}function $1(t,e,n){if(Yn.current!==go)throw Error(he(168));Rt(Yn,e),Rt(pr,n)}function Oj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(he(108,M4(t)||"Unknown",s));return qt({},n,r)}function Nf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||go,oa=Yn.current,Rt(Yn,t),Rt(pr,pr.current),!0}function U1(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=Oj(t,e,oa),r.__reactInternalMemoizedMergedChildContext=t,Vt(pr),Vt(Yn),Rt(Yn,t)):Vt(pr),Rt(pr,n)}var ti=null,Mp=!1,Dg=!1;function Vj(t){ti===null?ti=[t]:ti.push(t)}function XD(t){Mp=!0,Vj(t)}function ko(){if(!Dg&&ti!==null){Dg=!0;var t=0,e=jt;try{var n=ti;for(jt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ti=null,Mp=!1}catch(s){throw ti!==null&&(ti=ti.slice(t+1)),cj(A0,ko),s}finally{jt=e,Dg=!1}}return null}var el=[],tl=0,Cf=null,_f=0,Fr=[],$r=0,aa=null,si=1,ii="";function Fo(t,e){el[tl++]=_f,el[tl++]=Cf,Cf=t,_f=e}function Fj(t,e,n){Fr[$r++]=si,Fr[$r++]=ii,Fr[$r++]=aa,aa=t;var r=si;t=ii;var s=32-fs(r)-1;r&=~(1<<s),n+=1;var i=32-fs(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,si=1<<32-fs(e)+s|n<<s|r,ii=i+t}else si=1<<i|n<<s|r,ii=t}function U0(t){t.return!==null&&(Fo(t,1),Fj(t,1,0))}function z0(t){for(;t===Cf;)Cf=el[--tl],el[tl]=null,_f=el[--tl],el[tl]=null;for(;t===aa;)aa=Fr[--$r],Fr[$r]=null,ii=Fr[--$r],Fr[$r]=null,si=Fr[--$r],Fr[$r]=null}var Ir=null,Sr=null,Ut=!1,as=null;function $j(t,e){var n=Ur(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function z1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ir=t,Sr=so(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ir=t,Sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=aa!==null?{id:si,overflow:ii}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ur(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ir=t,Sr=null,!0):!1;default:return!1}}function Qy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yy(t){if(Ut){var e=Sr;if(e){var n=e;if(!z1(t,e)){if(Qy(t))throw Error(he(418));e=so(n.nextSibling);var r=Ir;e&&z1(t,e)?$j(r,n):(t.flags=t.flags&-4097|2,Ut=!1,Ir=t)}}else{if(Qy(t))throw Error(he(418));t.flags=t.flags&-4097|2,Ut=!1,Ir=t}}}function B1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ir=t}function yh(t){if(t!==Ir)return!1;if(!Ut)return B1(t),Ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wy(t.type,t.memoizedProps)),e&&(e=Sr)){if(Qy(t))throw Uj(),Error(he(418));for(;e;)$j(t,e),e=so(e.nextSibling)}if(B1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sr=so(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sr=null}}else Sr=Ir?so(t.stateNode.nextSibling):null;return!0}function Uj(){for(var t=Sr;t;)t=so(t.nextSibling)}function Rl(){Sr=Ir=null,Ut=!1}function B0(t){as===null?as=[t]:as.push(t)}var JD=Ni.ReactCurrentBatchConfig;function Mc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function vh(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function H1(t){var e=t._init;return e(t._payload)}function zj(t){function e(b,w){if(t){var N=b.deletions;N===null?(b.deletions=[w],b.flags|=16):N.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function s(b,w){return b=lo(b,w),b.index=0,b.sibling=null,b}function i(b,w,N){return b.index=N,t?(N=b.alternate,N!==null?(N=N.index,N<w?(b.flags|=2,w):N):(b.flags|=2,w)):(b.flags|=1048576,w)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,w,N,k){return w===null||w.tag!==6?(w=Bg(N,b.mode,k),w.return=b,w):(w=s(w,N),w.return=b,w)}function c(b,w,N,k){var A=N.type;return A===Ka?h(b,w,N.props.children,k,N.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Li&&H1(A)===w.type)?(k=s(w,N.props),k.ref=Mc(b,w,N),k.return=b,k):(k=Zh(N.type,N.key,N.props,null,b.mode,k),k.ref=Mc(b,w,N),k.return=b,k)}function u(b,w,N,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=Hg(N,b.mode,k),w.return=b,w):(w=s(w,N.children||[]),w.return=b,w)}function h(b,w,N,k,A){return w===null||w.tag!==7?(w=ta(N,b.mode,k,A),w.return=b,w):(w=s(w,N),w.return=b,w)}function p(b,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Bg(""+w,b.mode,N),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ah:return N=Zh(w.type,w.key,w.props,null,b.mode,N),N.ref=Mc(b,null,w),N.return=b,N;case Ga:return w=Hg(w,b.mode,N),w.return=b,w;case Li:var k=w._init;return p(b,k(w._payload),N)}if(Wc(w)||Tc(w))return w=ta(w,b.mode,N,null),w.return=b,w;vh(b,w)}return null}function m(b,w,N,k){var A=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return A!==null?null:l(b,w,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ah:return N.key===A?c(b,w,N,k):null;case Ga:return N.key===A?u(b,w,N,k):null;case Li:return A=N._init,m(b,w,A(N._payload),k)}if(Wc(N)||Tc(N))return A!==null?null:h(b,w,N,k,null);vh(b,N)}return null}function g(b,w,N,k,A){if(typeof k=="string"&&k!==""||typeof k=="number")return b=b.get(N)||null,l(w,b,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ah:return b=b.get(k.key===null?N:k.key)||null,c(w,b,k,A);case Ga:return b=b.get(k.key===null?N:k.key)||null,u(w,b,k,A);case Li:var R=k._init;return g(b,w,N,R(k._payload),A)}if(Wc(k)||Tc(k))return b=b.get(N)||null,h(w,b,k,A,null);vh(w,k)}return null}function v(b,w,N,k){for(var A=null,R=null,C=w,_=w=0,j=null;C!==null&&_<N.length;_++){C.index>_?(j=C,C=null):j=C.sibling;var T=m(b,C,N[_],k);if(T===null){C===null&&(C=j);break}t&&C&&T.alternate===null&&e(b,C),w=i(T,w,_),R===null?A=T:R.sibling=T,R=T,C=j}if(_===N.length)return n(b,C),Ut&&Fo(b,_),A;if(C===null){for(;_<N.length;_++)C=p(b,N[_],k),C!==null&&(w=i(C,w,_),R===null?A=C:R.sibling=C,R=C);return Ut&&Fo(b,_),A}for(C=r(b,C);_<N.length;_++)j=g(C,b,_,N[_],k),j!==null&&(t&&j.alternate!==null&&C.delete(j.key===null?_:j.key),w=i(j,w,_),R===null?A=j:R.sibling=j,R=j);return t&&C.forEach(function(I){return e(b,I)}),Ut&&Fo(b,_),A}function y(b,w,N,k){var A=Tc(N);if(typeof A!="function")throw Error(he(150));if(N=A.call(N),N==null)throw Error(he(151));for(var R=A=null,C=w,_=w=0,j=null,T=N.next();C!==null&&!T.done;_++,T=N.next()){C.index>_?(j=C,C=null):j=C.sibling;var I=m(b,C,T.value,k);if(I===null){C===null&&(C=j);break}t&&C&&I.alternate===null&&e(b,C),w=i(I,w,_),R===null?A=I:R.sibling=I,R=I,C=j}if(T.done)return n(b,C),Ut&&Fo(b,_),A;if(C===null){for(;!T.done;_++,T=N.next())T=p(b,T.value,k),T!==null&&(w=i(T,w,_),R===null?A=T:R.sibling=T,R=T);return Ut&&Fo(b,_),A}for(C=r(b,C);!T.done;_++,T=N.next())T=g(C,b,_,T.value,k),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?_:T.key),w=i(T,w,_),R===null?A=T:R.sibling=T,R=T);return t&&C.forEach(function(P){return e(b,P)}),Ut&&Fo(b,_),A}function x(b,w,N,k){if(typeof N=="object"&&N!==null&&N.type===Ka&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case ah:e:{for(var A=N.key,R=w;R!==null;){if(R.key===A){if(A=N.type,A===Ka){if(R.tag===7){n(b,R.sibling),w=s(R,N.props.children),w.return=b,b=w;break e}}else if(R.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Li&&H1(A)===R.type){n(b,R.sibling),w=s(R,N.props),w.ref=Mc(b,R,N),w.return=b,b=w;break e}n(b,R);break}else e(b,R);R=R.sibling}N.type===Ka?(w=ta(N.props.children,b.mode,k,N.key),w.return=b,b=w):(k=Zh(N.type,N.key,N.props,null,b.mode,k),k.ref=Mc(b,w,N),k.return=b,b=k)}return a(b);case Ga:e:{for(R=N.key;w!==null;){if(w.key===R)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){n(b,w.sibling),w=s(w,N.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Hg(N,b.mode,k),w.return=b,b=w}return a(b);case Li:return R=N._init,x(b,w,R(N._payload),k)}if(Wc(N))return v(b,w,N,k);if(Tc(N))return y(b,w,N,k);vh(b,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(n(b,w.sibling),w=s(w,N),w.return=b,b=w):(n(b,w),w=Bg(N,b.mode,k),w.return=b,b=w),a(b)):n(b,w)}return x}var Ll=zj(!0),Bj=zj(!1),Sf=jo(null),jf=null,nl=null,H0=null;function W0(){H0=nl=jf=null}function q0(t){var e=Sf.current;Vt(Sf),t._currentValue=e}function Zy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dl(t,e){jf=t,H0=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hr=!0),t.firstContext=null)}function Gr(t){var e=t._currentValue;if(H0!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(jf===null)throw Error(he(308));nl=t,jf.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var Ho=null;function G0(t){Ho===null?Ho=[t]:Ho.push(t)}function Hj(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,G0(e)):(n.next=s.next,s.next=n),e.interleaved=n,pi(t,r)}function pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mi=!1;function K0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ui(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function io(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,pi(t,n)}return s=r.interleaved,s===null?(e.next=e,G0(r)):(e.next=s.next,s.next=e),r.interleaved=e,pi(t,n)}function Wh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,R0(t,n)}}function W1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kf(t,e,n,r){var s=t.updateQueue;Mi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(m=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){p=v.call(g,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,m=typeof v=="function"?v.call(g,p,m):v,m==null)break e;p=qt({},p,m);break e;case 2:Mi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=p):h=h.next=g,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ca|=a,t.lanes=a,t.memoizedState=p}}function q1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(he(191,s));s.call(r)}}}var wd={},Fs=jo(wd),Vu=jo(wd),Fu=jo(wd);function Wo(t){if(t===wd)throw Error(he(174));return t}function Q0(t,e){switch(Rt(Fu,e),Rt(Vu,t),Rt(Fs,wd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Py(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Py(e,t)}Vt(Fs),Rt(Fs,e)}function Ml(){Vt(Fs),Vt(Vu),Vt(Fu)}function qj(t){Wo(Fu.current);var e=Wo(Fs.current),n=Py(e,t.type);e!==n&&(Rt(Vu,t),Rt(Fs,n))}function Y0(t){Vu.current===t&&(Vt(Fs),Vt(Vu))}var Bt=jo(0);function If(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Og=[];function Z0(){for(var t=0;t<Og.length;t++)Og[t]._workInProgressVersionPrimary=null;Og.length=0}var qh=Ni.ReactCurrentDispatcher,Vg=Ni.ReactCurrentBatchConfig,la=0,Wt=null,pn=null,Nn=null,Tf=!1,hu=!1,$u=0,eO=0;function Un(){throw Error(he(321))}function X0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gs(t[n],e[n]))return!1;return!0}function J0(t,e,n,r,s,i){if(la=i,Wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qh.current=t===null||t.memoizedState===null?sO:iO,t=n(r,s),hu){i=0;do{if(hu=!1,$u=0,25<=i)throw Error(he(301));i+=1,Nn=pn=null,e.updateQueue=null,qh.current=oO,t=n(r,s)}while(hu)}if(qh.current=Pf,e=pn!==null&&pn.next!==null,la=0,Nn=pn=Wt=null,Tf=!1,e)throw Error(he(300));return t}function ex(){var t=$u!==0;return $u=0,t}function js(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Wt.memoizedState=Nn=t:Nn=Nn.next=t,Nn}function Kr(){if(pn===null){var t=Wt.alternate;t=t!==null?t.memoizedState:null}else t=pn.next;var e=Nn===null?Wt.memoizedState:Nn.next;if(e!==null)Nn=e,pn=t;else{if(t===null)throw Error(he(310));pn=t,t={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},Nn===null?Wt.memoizedState=Nn=t:Nn=Nn.next=t}return Nn}function Uu(t,e){return typeof e=="function"?e(t):e}function Fg(t){var e=Kr(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=pn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((la&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,a=r):c=c.next=p,Wt.lanes|=h,ca|=h}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,gs(r,e.memoizedState)||(hr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Wt.lanes|=i,ca|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $g(t){var e=Kr(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);gs(i,e.memoizedState)||(hr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Gj(){}function Kj(t,e){var n=Wt,r=Kr(),s=e(),i=!gs(r.memoizedState,s);if(i&&(r.memoizedState=s,hr=!0),r=r.queue,tx(Zj.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Nn!==null&&Nn.memoizedState.tag&1){if(n.flags|=2048,zu(9,Yj.bind(null,n,r,s,e),void 0,null),Cn===null)throw Error(he(349));la&30||Qj(n,e,s)}return s}function Qj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yj(t,e,n,r){e.value=n,e.getSnapshot=r,Xj(e)&&Jj(t)}function Zj(t,e,n){return n(function(){Xj(e)&&Jj(t)})}function Xj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gs(t,n)}catch{return!0}}function Jj(t){var e=pi(t,1);e!==null&&ps(e,t,1,-1)}function G1(t){var e=js();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:t},e.queue=t,t=t.dispatch=rO.bind(null,Wt,t),[e.memoizedState,t]}function zu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ek(){return Kr().memoizedState}function Gh(t,e,n,r){var s=js();Wt.flags|=t,s.memoizedState=zu(1|e,n,void 0,r===void 0?null:r)}function Dp(t,e,n,r){var s=Kr();r=r===void 0?null:r;var i=void 0;if(pn!==null){var a=pn.memoizedState;if(i=a.destroy,r!==null&&X0(r,a.deps)){s.memoizedState=zu(e,n,i,r);return}}Wt.flags|=t,s.memoizedState=zu(1|e,n,i,r)}function K1(t,e){return Gh(8390656,8,t,e)}function tx(t,e){return Dp(2048,8,t,e)}function tk(t,e){return Dp(4,2,t,e)}function nk(t,e){return Dp(4,4,t,e)}function rk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sk(t,e,n){return n=n!=null?n.concat([t]):null,Dp(4,4,rk.bind(null,e,t),n)}function nx(){}function ik(t,e){var n=Kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&X0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ok(t,e){var n=Kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&X0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ak(t,e,n){return la&21?(gs(n,e)||(n=hj(),Wt.lanes|=n,ca|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hr=!0),t.memoizedState=n)}function tO(t,e){var n=jt;jt=n!==0&&4>n?n:4,t(!0);var r=Vg.transition;Vg.transition={};try{t(!1),e()}finally{jt=n,Vg.transition=r}}function lk(){return Kr().memoizedState}function nO(t,e,n){var r=ao(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ck(t))uk(e,n);else if(n=Hj(t,e,n,r),n!==null){var s=nr();ps(n,t,r,s),dk(n,e,r)}}function rO(t,e,n){var r=ao(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ck(t))uk(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,gs(l,a)){var c=e.interleaved;c===null?(s.next=s,G0(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Hj(t,e,s,r),n!==null&&(s=nr(),ps(n,t,r,s),dk(n,e,r))}}function ck(t){var e=t.alternate;return t===Wt||e!==null&&e===Wt}function uk(t,e){hu=Tf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,R0(t,n)}}var Pf={readContext:Gr,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},sO={readContext:Gr,useCallback:function(t,e){return js().memoizedState=[t,e===void 0?null:e],t},useContext:Gr,useEffect:K1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gh(4194308,4,rk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gh(4,2,t,e)},useMemo:function(t,e){var n=js();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=js();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nO.bind(null,Wt,t),[r.memoizedState,t]},useRef:function(t){var e=js();return t={current:t},e.memoizedState=t},useState:G1,useDebugValue:nx,useDeferredValue:function(t){return js().memoizedState=t},useTransition:function(){var t=G1(!1),e=t[0];return t=tO.bind(null,t[1]),js().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Wt,s=js();if(Ut){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),Cn===null)throw Error(he(349));la&30||Qj(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,K1(Zj.bind(null,r,i,t),[t]),r.flags|=2048,zu(9,Yj.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=js(),e=Cn.identifierPrefix;if(Ut){var n=ii,r=si;n=(r&~(1<<32-fs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$u++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},iO={readContext:Gr,useCallback:ik,useContext:Gr,useEffect:tx,useImperativeHandle:sk,useInsertionEffect:tk,useLayoutEffect:nk,useMemo:ok,useReducer:Fg,useRef:ek,useState:function(){return Fg(Uu)},useDebugValue:nx,useDeferredValue:function(t){var e=Kr();return ak(e,pn.memoizedState,t)},useTransition:function(){var t=Fg(Uu)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:Gj,useSyncExternalStore:Kj,useId:lk,unstable_isNewReconciler:!1},oO={readContext:Gr,useCallback:ik,useContext:Gr,useEffect:tx,useImperativeHandle:sk,useInsertionEffect:tk,useLayoutEffect:nk,useMemo:ok,useReducer:$g,useRef:ek,useState:function(){return $g(Uu)},useDebugValue:nx,useDeferredValue:function(t){var e=Kr();return pn===null?e.memoizedState=t:ak(e,pn.memoizedState,t)},useTransition:function(){var t=$g(Uu)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:Gj,useSyncExternalStore:Kj,useId:lk,unstable_isNewReconciler:!1};function ns(t,e){if(t&&t.defaultProps){e=qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Op={isMounted:function(t){return(t=t._reactInternals)?Sa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nr(),s=ao(t),i=ui(r,s);i.payload=e,n!=null&&(i.callback=n),e=io(t,i,s),e!==null&&(ps(e,t,s,r),Wh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nr(),s=ao(t),i=ui(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=io(t,i,s),e!==null&&(ps(e,t,s,r),Wh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nr(),r=ao(t),s=ui(n,r);s.tag=2,e!=null&&(s.callback=e),e=io(t,s,r),e!==null&&(ps(e,t,r,n),Wh(e,t,r))}};function Q1(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Lu(n,r)||!Lu(s,i):!0}function hk(t,e,n){var r=!1,s=go,i=e.contextType;return typeof i=="object"&&i!==null?i=Gr(i):(s=mr(e)?oa:Yn.current,r=e.contextTypes,i=(r=r!=null)?Al(t,s):go),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Op,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Y1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Op.enqueueReplaceState(e,e.state,null)}function Jy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},K0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Gr(i):(i=mr(e)?oa:Yn.current,s.context=Al(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Op.enqueueReplaceState(s,s.state,null),kf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Dl(t,e){try{var n="",r=e;do n+=L4(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ug(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ev(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aO=typeof WeakMap=="function"?WeakMap:Map;function fk(t,e,n){n=ui(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rf||(Rf=!0,uv=r),ev(t,e)},n}function pk(t,e,n){n=ui(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ev(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ev(t,e),typeof r!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Z1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=bO.bind(null,t,e,n),e.then(t,t))}function X1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function J1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ui(-1,1),e.tag=2,io(n,e,1))),n.lanes|=1),t)}var lO=Ni.ReactCurrentOwner,hr=!1;function er(t,e,n,r){e.child=t===null?Bj(e,null,n,r):Ll(e,t.child,n,r)}function eE(t,e,n,r,s){n=n.render;var i=e.ref;return dl(e,s),r=J0(t,e,n,r,i,s),n=ex(),t!==null&&!hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mi(t,e,s)):(Ut&&n&&U0(e),e.flags|=1,er(t,e,r,s),e.child)}function tE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ux(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,mk(t,e,i,r,s)):(t=Zh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Lu,n(a,r)&&t.ref===e.ref)return mi(t,e,s)}return e.flags|=1,t=lo(i,r),t.ref=e.ref,t.return=e,e.child=t}function mk(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Lu(i,r)&&t.ref===e.ref)if(hr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(hr=!0);else return e.lanes=t.lanes,mi(t,e,s)}return tv(t,e,n,r,s)}function gk(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(sl,Er),Er|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rt(sl,Er),Er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Rt(sl,Er),Er|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Rt(sl,Er),Er|=r;return er(t,e,s,n),e.child}function yk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tv(t,e,n,r,s){var i=mr(n)?oa:Yn.current;return i=Al(e,i),dl(e,s),n=J0(t,e,n,r,i,s),r=ex(),t!==null&&!hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mi(t,e,s)):(Ut&&r&&U0(e),e.flags|=1,er(t,e,n,s),e.child)}function nE(t,e,n,r,s){if(mr(n)){var i=!0;Nf(e)}else i=!1;if(dl(e,s),e.stateNode===null)Kh(t,e),hk(e,n,r),Jy(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gr(u):(u=mr(n)?oa:Yn.current,u=Al(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Y1(e,a,r,u),Mi=!1;var m=e.memoizedState;a.state=m,kf(e,r,a,s),c=e.memoizedState,l!==r||m!==c||pr.current||Mi?(typeof h=="function"&&(Xy(e,n,h,r),c=e.memoizedState),(l=Mi||Q1(e,n,l,r,m,c,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Wj(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ns(e.type,l),a.props=u,p=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Gr(c):(c=mr(n)?oa:Yn.current,c=Al(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||m!==c)&&Y1(e,a,r,c),Mi=!1,m=e.memoizedState,a.state=m,kf(e,r,a,s);var v=e.memoizedState;l!==p||m!==v||pr.current||Mi?(typeof g=="function"&&(Xy(e,n,g,r),v=e.memoizedState),(u=Mi||Q1(e,n,u,r,m,v,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return nv(t,e,n,r,i,s)}function nv(t,e,n,r,s,i){yk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&U1(e,n,!1),mi(t,e,i);r=e.stateNode,lO.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ll(e,t.child,null,i),e.child=Ll(e,null,l,i)):er(t,e,l,i),e.memoizedState=r.state,s&&U1(e,n,!0),e.child}function vk(t){var e=t.stateNode;e.pendingContext?$1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$1(t,e.context,!1),Q0(t,e.containerInfo)}function rE(t,e,n,r,s){return Rl(),B0(s),e.flags|=256,er(t,e,n,r),e.child}var rv={dehydrated:null,treeContext:null,retryLane:0};function sv(t){return{baseLanes:t,cachePool:null,transitions:null}}function xk(t,e,n){var r=e.pendingProps,s=Bt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Rt(Bt,s&1),t===null)return Yy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=$p(a,r,0,null),t=ta(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=sv(n),e.memoizedState=rv,t):rx(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return cO(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=lo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=lo(l,i):(i=ta(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?sv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=rv,r}return i=t.child,t=i.sibling,r=lo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rx(t,e){return e=$p({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xh(t,e,n,r){return r!==null&&B0(r),Ll(e,t.child,null,n),t=rx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cO(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Ug(Error(he(422))),xh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=$p({mode:"visible",children:r.children},s,0,null),i=ta(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ll(e,t.child,null,a),e.child.memoizedState=sv(a),e.memoizedState=rv,i);if(!(e.mode&1))return xh(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(he(419)),r=Ug(i,r,void 0),xh(t,e,a,r)}if(l=(a&t.childLanes)!==0,hr||l){if(r=Cn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pi(t,s),ps(r,t,s,-1))}return cx(),r=Ug(Error(he(421))),xh(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=EO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Sr=so(s.nextSibling),Ir=e,Ut=!0,as=null,t!==null&&(Fr[$r++]=si,Fr[$r++]=ii,Fr[$r++]=aa,si=t.id,ii=t.overflow,aa=e),e=rx(e,r.children),e.flags|=4096,e)}function sE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zy(t.return,e,n)}function zg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wk(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(er(t,e,r.children,n),r=Bt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sE(t,n,e);else if(t.tag===19)sE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rt(Bt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&If(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),zg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&If(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}zg(e,!0,n,null,i);break;case"together":zg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ca|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=lo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=lo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uO(t,e,n){switch(e.tag){case 3:vk(e),Rl();break;case 5:qj(e);break;case 1:mr(e.type)&&Nf(e);break;case 4:Q0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Rt(Sf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rt(Bt,Bt.current&1),e.flags|=128,null):n&e.child.childLanes?xk(t,e,n):(Rt(Bt,Bt.current&1),t=mi(t,e,n),t!==null?t.sibling:null);Rt(Bt,Bt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Rt(Bt,Bt.current),r)break;return null;case 22:case 23:return e.lanes=0,gk(t,e,n)}return mi(t,e,n)}var bk,iv,Ek,Nk;bk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iv=function(){};Ek=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Wo(Fs.current);var i=null;switch(n){case"input":s=jy(t,s),r=jy(t,r),i=[];break;case"select":s=qt({},s,{value:void 0}),r=qt({},r,{value:void 0}),i=[];break;case"textarea":s=Ty(t,s),r=Ty(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bf)}Ay(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ju.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ju.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Dt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Nk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dc(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dO(t,e,n){var r=e.pendingProps;switch(z0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(e),null;case 1:return mr(e.type)&&Ef(),zn(e),null;case 3:return r=e.stateNode,Ml(),Vt(pr),Vt(Yn),Z0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,as!==null&&(fv(as),as=null))),iv(t,e),zn(e),null;case 5:Y0(e);var s=Wo(Fu.current);if(n=e.type,t!==null&&e.stateNode!=null)Ek(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return zn(e),null}if(t=Wo(Fs.current),yh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Rs]=e,r[Ou]=i,t=(e.mode&1)!==0,n){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(s=0;s<Gc.length;s++)Dt(Gc[s],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":f1(r,i),Dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Dt("invalid",r);break;case"textarea":m1(r,i),Dt("invalid",r)}Ay(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&gh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&gh(r.textContent,l,t),s=["children",""+l]):ju.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Dt("scroll",r)}switch(n){case"input":lh(r),p1(r,i,!0);break;case"textarea":lh(r),g1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Rs]=e,t[Ou]=r,bk(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ry(n,r),n){case"dialog":Dt("cancel",t),Dt("close",t),s=r;break;case"iframe":case"object":case"embed":Dt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Gc.length;s++)Dt(Gc[s],t);s=r;break;case"source":Dt("error",t),s=r;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),s=r;break;case"details":Dt("toggle",t),s=r;break;case"input":f1(t,r),s=jy(t,r),Dt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=qt({},r,{value:void 0}),Dt("invalid",t);break;case"textarea":m1(t,r),s=Ty(t,r),Dt("invalid",t);break;default:s=r}Ay(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?ej(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&XS(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ku(t,c):typeof c=="number"&&ku(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ju.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Dt("scroll",t):c!=null&&j0(t,i,c,a))}switch(n){case"input":lh(t),p1(t,r,!1);break;case"textarea":lh(t),g1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?al(t,!!r.multiple,i,!1):r.defaultValue!=null&&al(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=bf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zn(e),null;case 6:if(t&&e.stateNode!=null)Nk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=Wo(Fu.current),Wo(Fs.current),yh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rs]=e,(i=r.nodeValue!==n)&&(t=Ir,t!==null))switch(t.tag){case 3:gh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rs]=e,e.stateNode=r}return zn(e),null;case 13:if(Vt(Bt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ut&&Sr!==null&&e.mode&1&&!(e.flags&128))Uj(),Rl(),e.flags|=98560,i=!1;else if(i=yh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(he(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));i[Rs]=e}else Rl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zn(e),i=!1}else as!==null&&(fv(as),as=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Bt.current&1?mn===0&&(mn=3):cx())),e.updateQueue!==null&&(e.flags|=4),zn(e),null);case 4:return Ml(),iv(t,e),t===null&&Mu(e.stateNode.containerInfo),zn(e),null;case 10:return q0(e.type._context),zn(e),null;case 17:return mr(e.type)&&Ef(),zn(e),null;case 19:if(Vt(Bt),i=e.memoizedState,i===null)return zn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Dc(i,!1);else{if(mn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=If(t),a!==null){for(e.flags|=128,Dc(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rt(Bt,Bt.current&1|2),e.child}t=t.sibling}i.tail!==null&&rn()>Ol&&(e.flags|=128,r=!0,Dc(i,!1),e.lanes=4194304)}else{if(!r)if(t=If(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ut)return zn(e),null}else 2*rn()-i.renderingStartTime>Ol&&n!==1073741824&&(e.flags|=128,r=!0,Dc(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rn(),e.sibling=null,n=Bt.current,Rt(Bt,r?n&1|2:n&1),e):(zn(e),null);case 22:case 23:return lx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Er&1073741824&&(zn(e),e.subtreeFlags&6&&(e.flags|=8192)):zn(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function hO(t,e){switch(z0(e),e.tag){case 1:return mr(e.type)&&Ef(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ml(),Vt(pr),Vt(Yn),Z0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Y0(e),null;case 13:if(Vt(Bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));Rl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vt(Bt),null;case 4:return Ml(),null;case 10:return q0(e.type._context),null;case 22:case 23:return lx(),null;case 24:return null;default:return null}}var wh=!1,qn=!1,fO=typeof WeakSet=="function"?WeakSet:Set,Se=null;function rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Jt(t,e,r)}else n.current=null}function ov(t,e,n){try{n()}catch(r){Jt(t,e,r)}}var iE=!1;function pO(t,e){if(By=vf,t=kj(),$0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,p=t,m=null;t:for(;;){for(var g;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==i||r!==0&&p.nodeType!==3||(c=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===t)break t;if(m===n&&++u===s&&(l=a),m===i&&++h===r&&(c=a),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hy={focusedElem:t,selectionRange:n},vf=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:ns(e.type,y),x);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(k){Jt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return v=iE,iE=!1,v}function fu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ov(e,n,i)}s=s.next}while(s!==r)}}function Vp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function av(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ck(t){var e=t.alternate;e!==null&&(t.alternate=null,Ck(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rs],delete e[Ou],delete e[Gy],delete e[YD],delete e[ZD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _k(t){return t.tag===5||t.tag===3||t.tag===4}function oE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_k(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bf));else if(r!==4&&(t=t.child,t!==null))for(lv(t,e,n),t=t.sibling;t!==null;)lv(t,e,n),t=t.sibling}function cv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cv(t,e,n),t=t.sibling;t!==null;)cv(t,e,n),t=t.sibling}var kn=null,os=!1;function ji(t,e,n){for(n=n.child;n!==null;)Sk(t,e,n),n=n.sibling}function Sk(t,e,n){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(Tp,n)}catch{}switch(n.tag){case 5:qn||rl(n,e);case 6:var r=kn,s=os;kn=null,ji(t,e,n),kn=r,os=s,kn!==null&&(os?(t=kn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kn.removeChild(n.stateNode));break;case 18:kn!==null&&(os?(t=kn,n=n.stateNode,t.nodeType===8?Mg(t.parentNode,n):t.nodeType===1&&Mg(t,n),Au(t)):Mg(kn,n.stateNode));break;case 4:r=kn,s=os,kn=n.stateNode.containerInfo,os=!0,ji(t,e,n),kn=r,os=s;break;case 0:case 11:case 14:case 15:if(!qn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ov(n,e,a),s=s.next}while(s!==r)}ji(t,e,n);break;case 1:if(!qn&&(rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Jt(n,e,l)}ji(t,e,n);break;case 21:ji(t,e,n);break;case 22:n.mode&1?(qn=(r=qn)||n.memoizedState!==null,ji(t,e,n),qn=r):ji(t,e,n);break;default:ji(t,e,n)}}function aE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fO),e.forEach(function(r){var s=NO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Jr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:kn=l.stateNode,os=!1;break e;case 3:kn=l.stateNode.containerInfo,os=!0;break e;case 4:kn=l.stateNode.containerInfo,os=!0;break e}l=l.return}if(kn===null)throw Error(he(160));Sk(i,a,s),kn=null,os=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Jt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jk(e,t),e=e.sibling}function jk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jr(e,t),Ss(t),r&4){try{fu(3,t,t.return),Vp(3,t)}catch(y){Jt(t,t.return,y)}try{fu(5,t,t.return)}catch(y){Jt(t,t.return,y)}}break;case 1:Jr(e,t),Ss(t),r&512&&n!==null&&rl(n,n.return);break;case 5:if(Jr(e,t),Ss(t),r&512&&n!==null&&rl(n,n.return),t.flags&32){var s=t.stateNode;try{ku(s,"")}catch(y){Jt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&QS(s,i),Ry(l,a);var u=Ry(l,i);for(a=0;a<c.length;a+=2){var h=c[a],p=c[a+1];h==="style"?ej(s,p):h==="dangerouslySetInnerHTML"?XS(s,p):h==="children"?ku(s,p):j0(s,h,p,u)}switch(l){case"input":ky(s,i);break;case"textarea":YS(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?al(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?al(s,!!i.multiple,i.defaultValue,!0):al(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ou]=i}catch(y){Jt(t,t.return,y)}}break;case 6:if(Jr(e,t),Ss(t),r&4){if(t.stateNode===null)throw Error(he(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Jt(t,t.return,y)}}break;case 3:if(Jr(e,t),Ss(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Au(e.containerInfo)}catch(y){Jt(t,t.return,y)}break;case 4:Jr(e,t),Ss(t);break;case 13:Jr(e,t),Ss(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ox=rn())),r&4&&aE(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(qn=(u=qn)||h,Jr(e,t),qn=u):Jr(e,t),Ss(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Se=t,h=t.child;h!==null;){for(p=Se=h;Se!==null;){switch(m=Se,g=m.child,m.tag){case 0:case 11:case 14:case 15:fu(4,m,m.return);break;case 1:rl(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Jt(r,n,y)}}break;case 5:rl(m,m.return);break;case 22:if(m.memoizedState!==null){cE(p);continue}}g!==null?(g.return=m,Se=g):cE(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=JS("display",a))}catch(y){Jt(t,t.return,y)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){Jt(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Jr(e,t),Ss(t),r&4&&aE(t);break;case 21:break;default:Jr(e,t),Ss(t)}}function Ss(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_k(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ku(s,""),r.flags&=-33);var i=oE(t);cv(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=oE(t);lv(t,l,a);break;default:throw Error(he(161))}}catch(c){Jt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mO(t,e,n){Se=t,kk(t)}function kk(t,e,n){for(var r=(t.mode&1)!==0;Se!==null;){var s=Se,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||wh;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||qn;l=wh;var u=qn;if(wh=a,(qn=c)&&!u)for(Se=s;Se!==null;)a=Se,c=a.child,a.tag===22&&a.memoizedState!==null?uE(s):c!==null?(c.return=a,Se=c):uE(s);for(;i!==null;)Se=i,kk(i),i=i.sibling;Se=s,wh=l,qn=u}lE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Se=i):lE(t)}}function lE(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qn||Vp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ns(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&q1(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}q1(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Au(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}qn||e.flags&512&&av(e)}catch(m){Jt(e,e.return,m)}}if(e===t){Se=null;break}if(n=e.sibling,n!==null){n.return=e.return,Se=n;break}Se=e.return}}function cE(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Se=n;break}Se=e.return}}function uE(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vp(4,e)}catch(c){Jt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Jt(e,s,c)}}var i=e.return;try{av(e)}catch(c){Jt(e,i,c)}break;case 5:var a=e.return;try{av(e)}catch(c){Jt(e,a,c)}}}catch(c){Jt(e,e.return,c)}if(e===t){Se=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Se=l;break}Se=e.return}}var gO=Math.ceil,Af=Ni.ReactCurrentDispatcher,sx=Ni.ReactCurrentOwner,Br=Ni.ReactCurrentBatchConfig,pt=0,Cn=null,un=null,Pn=0,Er=0,sl=jo(0),mn=0,Bu=null,ca=0,Fp=0,ix=0,pu=null,cr=null,ox=0,Ol=1/0,ei=null,Rf=!1,uv=null,oo=null,bh=!1,Qi=null,Lf=0,mu=0,dv=null,Qh=-1,Yh=0;function nr(){return pt&6?rn():Qh!==-1?Qh:Qh=rn()}function ao(t){return t.mode&1?pt&2&&Pn!==0?Pn&-Pn:JD.transition!==null?(Yh===0&&(Yh=hj()),Yh):(t=jt,t!==0||(t=window.event,t=t===void 0?16:xj(t.type)),t):1}function ps(t,e,n,r){if(50<mu)throw mu=0,dv=null,Error(he(185));yd(t,n,r),(!(pt&2)||t!==Cn)&&(t===Cn&&(!(pt&2)&&(Fp|=n),mn===4&&Vi(t,Pn)),gr(t,r),n===1&&pt===0&&!(e.mode&1)&&(Ol=rn()+500,Mp&&ko()))}function gr(t,e){var n=t.callbackNode;J4(t,e);var r=yf(t,t===Cn?Pn:0);if(r===0)n!==null&&x1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&x1(n),e===1)t.tag===0?XD(dE.bind(null,t)):Vj(dE.bind(null,t)),KD(function(){!(pt&6)&&ko()}),n=null;else{switch(fj(r)){case 1:n=A0;break;case 4:n=uj;break;case 16:n=gf;break;case 536870912:n=dj;break;default:n=gf}n=Dk(n,Ik.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ik(t,e){if(Qh=-1,Yh=0,pt&6)throw Error(he(327));var n=t.callbackNode;if(hl()&&t.callbackNode!==n)return null;var r=yf(t,t===Cn?Pn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Mf(t,r);else{e=r;var s=pt;pt|=2;var i=Pk();(Cn!==t||Pn!==e)&&(ei=null,Ol=rn()+500,ea(t,e));do try{xO();break}catch(l){Tk(t,l)}while(!0);W0(),Af.current=i,pt=s,un!==null?e=0:(Cn=null,Pn=0,e=mn)}if(e!==0){if(e===2&&(s=Vy(t),s!==0&&(r=s,e=hv(t,s))),e===1)throw n=Bu,ea(t,0),Vi(t,r),gr(t,rn()),n;if(e===6)Vi(t,r);else{if(s=t.current.alternate,!(r&30)&&!yO(s)&&(e=Mf(t,r),e===2&&(i=Vy(t),i!==0&&(r=i,e=hv(t,i))),e===1))throw n=Bu,ea(t,0),Vi(t,r),gr(t,rn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:$o(t,cr,ei);break;case 3:if(Vi(t,r),(r&130023424)===r&&(e=ox+500-rn(),10<e)){if(yf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){nr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=qy($o.bind(null,t,cr,ei),e);break}$o(t,cr,ei);break;case 4:if(Vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-fs(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gO(r/1960))-r,10<r){t.timeoutHandle=qy($o.bind(null,t,cr,ei),r);break}$o(t,cr,ei);break;case 5:$o(t,cr,ei);break;default:throw Error(he(329))}}}return gr(t,rn()),t.callbackNode===n?Ik.bind(null,t):null}function hv(t,e){var n=pu;return t.current.memoizedState.isDehydrated&&(ea(t,e).flags|=256),t=Mf(t,e),t!==2&&(e=cr,cr=n,e!==null&&fv(e)),t}function fv(t){cr===null?cr=t:cr.push.apply(cr,t)}function yO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vi(t,e){for(e&=~ix,e&=~Fp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fs(e),r=1<<n;t[n]=-1,e&=~r}}function dE(t){if(pt&6)throw Error(he(327));hl();var e=yf(t,0);if(!(e&1))return gr(t,rn()),null;var n=Mf(t,e);if(t.tag!==0&&n===2){var r=Vy(t);r!==0&&(e=r,n=hv(t,r))}if(n===1)throw n=Bu,ea(t,0),Vi(t,e),gr(t,rn()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$o(t,cr,ei),gr(t,rn()),null}function ax(t,e){var n=pt;pt|=1;try{return t(e)}finally{pt=n,pt===0&&(Ol=rn()+500,Mp&&ko())}}function ua(t){Qi!==null&&Qi.tag===0&&!(pt&6)&&hl();var e=pt;pt|=1;var n=Br.transition,r=jt;try{if(Br.transition=null,jt=1,t)return t()}finally{jt=r,Br.transition=n,pt=e,!(pt&6)&&ko()}}function lx(){Er=sl.current,Vt(sl)}function ea(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GD(n)),un!==null)for(n=un.return;n!==null;){var r=n;switch(z0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ef();break;case 3:Ml(),Vt(pr),Vt(Yn),Z0();break;case 5:Y0(r);break;case 4:Ml();break;case 13:Vt(Bt);break;case 19:Vt(Bt);break;case 10:q0(r.type._context);break;case 22:case 23:lx()}n=n.return}if(Cn=t,un=t=lo(t.current,null),Pn=Er=e,mn=0,Bu=null,ix=Fp=ca=0,cr=pu=null,Ho!==null){for(e=0;e<Ho.length;e++)if(n=Ho[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Ho=null}return t}function Tk(t,e){do{var n=un;try{if(W0(),qh.current=Pf,Tf){for(var r=Wt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Tf=!1}if(la=0,Nn=pn=Wt=null,hu=!1,$u=0,sx.current=null,n===null||n.return===null){mn=1,Bu=e,un=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Pn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=X1(a);if(g!==null){g.flags&=-257,J1(g,a,l,i,e),g.mode&1&&Z1(i,u,e),e=g,c=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break e}else{if(!(e&1)){Z1(i,u,e),cx();break e}c=Error(he(426))}}else if(Ut&&l.mode&1){var x=X1(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),J1(x,a,l,i,e),B0(Dl(c,l));break e}}i=c=Dl(c,l),mn!==4&&(mn=2),pu===null?pu=[i]:pu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=fk(i,c,e);W1(i,b);break e;case 1:l=c;var w=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(oo===null||!oo.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=pk(i,l,e);W1(i,k);break e}}i=i.return}while(i!==null)}Rk(n)}catch(A){e=A,un===n&&n!==null&&(un=n=n.return);continue}break}while(!0)}function Pk(){var t=Af.current;return Af.current=Pf,t===null?Pf:t}function cx(){(mn===0||mn===3||mn===2)&&(mn=4),Cn===null||!(ca&268435455)&&!(Fp&268435455)||Vi(Cn,Pn)}function Mf(t,e){var n=pt;pt|=2;var r=Pk();(Cn!==t||Pn!==e)&&(ei=null,ea(t,e));do try{vO();break}catch(s){Tk(t,s)}while(!0);if(W0(),pt=n,Af.current=r,un!==null)throw Error(he(261));return Cn=null,Pn=0,mn}function vO(){for(;un!==null;)Ak(un)}function xO(){for(;un!==null&&!H4();)Ak(un)}function Ak(t){var e=Mk(t.alternate,t,Er);t.memoizedProps=t.pendingProps,e===null?Rk(t):un=e,sx.current=null}function Rk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hO(n,e),n!==null){n.flags&=32767,un=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mn=6,un=null;return}}else if(n=dO(n,e,Er),n!==null){un=n;return}if(e=e.sibling,e!==null){un=e;return}un=e=t}while(e!==null);mn===0&&(mn=5)}function $o(t,e,n){var r=jt,s=Br.transition;try{Br.transition=null,jt=1,wO(t,e,n,r)}finally{Br.transition=s,jt=r}return null}function wO(t,e,n,r){do hl();while(Qi!==null);if(pt&6)throw Error(he(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(eD(t,i),t===Cn&&(un=Cn=null,Pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bh||(bh=!0,Dk(gf,function(){return hl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Br.transition,Br.transition=null;var a=jt;jt=1;var l=pt;pt|=4,sx.current=null,pO(t,n),jk(n,t),$D(Hy),vf=!!By,Hy=By=null,t.current=n,mO(n),W4(),pt=l,jt=a,Br.transition=i}else t.current=n;if(bh&&(bh=!1,Qi=t,Lf=s),i=t.pendingLanes,i===0&&(oo=null),K4(n.stateNode),gr(t,rn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rf)throw Rf=!1,t=uv,uv=null,t;return Lf&1&&t.tag!==0&&hl(),i=t.pendingLanes,i&1?t===dv?mu++:(mu=0,dv=t):mu=0,ko(),null}function hl(){if(Qi!==null){var t=fj(Lf),e=Br.transition,n=jt;try{if(Br.transition=null,jt=16>t?16:t,Qi===null)var r=!1;else{if(t=Qi,Qi=null,Lf=0,pt&6)throw Error(he(331));var s=pt;for(pt|=4,Se=t.current;Se!==null;){var i=Se,a=i.child;if(Se.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Se=u;Se!==null;){var h=Se;switch(h.tag){case 0:case 11:case 15:fu(8,h,i)}var p=h.child;if(p!==null)p.return=h,Se=p;else for(;Se!==null;){h=Se;var m=h.sibling,g=h.return;if(Ck(h),h===u){Se=null;break}if(m!==null){m.return=g,Se=m;break}Se=g}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Se=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Se=a;else e:for(;Se!==null;){if(i=Se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fu(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Se=b;break e}Se=i.return}}var w=t.current;for(Se=w;Se!==null;){a=Se;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,Se=N;else e:for(a=w;Se!==null;){if(l=Se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vp(9,l)}}catch(A){Jt(l,l.return,A)}if(l===a){Se=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,Se=k;break e}Se=l.return}}if(pt=s,ko(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(Tp,t)}catch{}r=!0}return r}finally{jt=n,Br.transition=e}}return!1}function hE(t,e,n){e=Dl(n,e),e=fk(t,e,1),t=io(t,e,1),e=nr(),t!==null&&(yd(t,1,e),gr(t,e))}function Jt(t,e,n){if(t.tag===3)hE(t,t,n);else for(;e!==null;){if(e.tag===3){hE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oo===null||!oo.has(r))){t=Dl(n,t),t=pk(e,t,1),e=io(e,t,1),t=nr(),e!==null&&(yd(e,1,t),gr(e,t));break}}e=e.return}}function bO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nr(),t.pingedLanes|=t.suspendedLanes&n,Cn===t&&(Pn&n)===n&&(mn===4||mn===3&&(Pn&130023424)===Pn&&500>rn()-ox?ea(t,0):ix|=n),gr(t,e)}function Lk(t,e){e===0&&(t.mode&1?(e=dh,dh<<=1,!(dh&130023424)&&(dh=4194304)):e=1);var n=nr();t=pi(t,e),t!==null&&(yd(t,e,n),gr(t,n))}function EO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lk(t,n)}function NO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),Lk(t,n)}var Mk;Mk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pr.current)hr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hr=!1,uO(t,e,n);hr=!!(t.flags&131072)}else hr=!1,Ut&&e.flags&1048576&&Fj(e,_f,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kh(t,e),t=e.pendingProps;var s=Al(e,Yn.current);dl(e,n),s=J0(null,e,r,t,s,n);var i=ex();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mr(r)?(i=!0,Nf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,K0(e),s.updater=Op,e.stateNode=s,s._reactInternals=e,Jy(e,r,t,n),e=nv(null,e,r,!0,i,n)):(e.tag=0,Ut&&i&&U0(e),er(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=_O(r),t=ns(r,t),s){case 0:e=tv(null,e,r,t,n);break e;case 1:e=nE(null,e,r,t,n);break e;case 11:e=eE(null,e,r,t,n);break e;case 14:e=tE(null,e,r,ns(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ns(r,s),tv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ns(r,s),nE(t,e,r,s,n);case 3:e:{if(vk(e),t===null)throw Error(he(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Wj(t,e),kf(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Dl(Error(he(423)),e),e=rE(t,e,r,n,s);break e}else if(r!==s){s=Dl(Error(he(424)),e),e=rE(t,e,r,n,s);break e}else for(Sr=so(e.stateNode.containerInfo.firstChild),Ir=e,Ut=!0,as=null,n=Bj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rl(),r===s){e=mi(t,e,n);break e}er(t,e,r,n)}e=e.child}return e;case 5:return qj(e),t===null&&Yy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Wy(r,s)?a=null:i!==null&&Wy(r,i)&&(e.flags|=32),yk(t,e),er(t,e,a,n),e.child;case 6:return t===null&&Yy(e),null;case 13:return xk(t,e,n);case 4:return Q0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ll(e,null,r,n):er(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ns(r,s),eE(t,e,r,s,n);case 7:return er(t,e,e.pendingProps,n),e.child;case 8:return er(t,e,e.pendingProps.children,n),e.child;case 12:return er(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Rt(Sf,r._currentValue),r._currentValue=a,i!==null)if(gs(i.value,a)){if(i.children===s.children&&!pr.current){e=mi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ui(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Zy(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(he(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Zy(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}er(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,dl(e,n),s=Gr(s),r=r(s),e.flags|=1,er(t,e,r,n),e.child;case 14:return r=e.type,s=ns(r,e.pendingProps),s=ns(r.type,s),tE(t,e,r,s,n);case 15:return mk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ns(r,s),Kh(t,e),e.tag=1,mr(r)?(t=!0,Nf(e)):t=!1,dl(e,n),hk(e,r,s),Jy(e,r,s,n),nv(null,e,r,!0,t,n);case 19:return wk(t,e,n);case 22:return gk(t,e,n)}throw Error(he(156,e.tag))};function Dk(t,e){return cj(t,e)}function CO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(t,e,n,r){return new CO(t,e,n,r)}function ux(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _O(t){if(typeof t=="function")return ux(t)?1:0;if(t!=null){if(t=t.$$typeof,t===I0)return 11;if(t===T0)return 14}return 2}function lo(t,e){var n=t.alternate;return n===null?(n=Ur(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zh(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")ux(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ka:return ta(n.children,s,i,e);case k0:a=8,s|=8;break;case Ny:return t=Ur(12,n,e,s|2),t.elementType=Ny,t.lanes=i,t;case Cy:return t=Ur(13,n,e,s),t.elementType=Cy,t.lanes=i,t;case _y:return t=Ur(19,n,e,s),t.elementType=_y,t.lanes=i,t;case qS:return $p(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HS:a=10;break e;case WS:a=9;break e;case I0:a=11;break e;case T0:a=14;break e;case Li:a=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=Ur(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ta(t,e,n,r){return t=Ur(7,t,r,e),t.lanes=n,t}function $p(t,e,n,r){return t=Ur(22,t,r,e),t.elementType=qS,t.lanes=n,t.stateNode={isHidden:!1},t}function Bg(t,e,n){return t=Ur(6,t,null,e),t.lanes=n,t}function Hg(t,e,n){return e=Ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SO(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cg(0),this.expirationTimes=Cg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dx(t,e,n,r,s,i,a,l,c){return t=new SO(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ur(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},K0(i),t}function jO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ok(t){if(!t)return go;t=t._reactInternals;e:{if(Sa(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(mr(n))return Oj(t,n,e)}return e}function Vk(t,e,n,r,s,i,a,l,c){return t=dx(n,r,!0,t,s,i,a,l,c),t.context=Ok(null),n=t.current,r=nr(),s=ao(n),i=ui(r,s),i.callback=e??null,io(n,i,s),t.current.lanes=s,yd(t,s,r),gr(t,r),t}function Up(t,e,n,r){var s=e.current,i=nr(),a=ao(s);return n=Ok(n),e.context===null?e.context=n:e.pendingContext=n,e=ui(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=io(s,e,a),t!==null&&(ps(t,s,a,i),Wh(t,s,a)),a}function Df(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hx(t,e){fE(t,e),(t=t.alternate)&&fE(t,e)}function kO(){return null}var Fk=typeof reportError=="function"?reportError:function(t){console.error(t)};function fx(t){this._internalRoot=t}zp.prototype.render=fx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));Up(t,e,null,null)};zp.prototype.unmount=fx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ua(function(){Up(null,t,null,null)}),e[fi]=null}};function zp(t){this._internalRoot=t}zp.prototype.unstable_scheduleHydration=function(t){if(t){var e=gj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Oi.length&&e!==0&&e<Oi[n].priority;n++);Oi.splice(n,0,t),n===0&&vj(t)}};function px(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pE(){}function IO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Df(a);i.call(u)}}var a=Vk(e,r,t,0,null,!1,!1,"",pE);return t._reactRootContainer=a,t[fi]=a.current,Mu(t.nodeType===8?t.parentNode:t),ua(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Df(c);l.call(u)}}var c=dx(t,0,!1,null,null,!1,!1,"",pE);return t._reactRootContainer=c,t[fi]=c.current,Mu(t.nodeType===8?t.parentNode:t),ua(function(){Up(e,c,n,r)}),c}function Hp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Df(a);l.call(c)}}Up(e,a,t,s)}else a=IO(n,e,t,s,r);return Df(a)}pj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qc(e.pendingLanes);n!==0&&(R0(e,n|1),gr(e,rn()),!(pt&6)&&(Ol=rn()+500,ko()))}break;case 13:ua(function(){var r=pi(t,1);if(r!==null){var s=nr();ps(r,t,1,s)}}),hx(t,1)}};L0=function(t){if(t.tag===13){var e=pi(t,134217728);if(e!==null){var n=nr();ps(e,t,134217728,n)}hx(t,134217728)}};mj=function(t){if(t.tag===13){var e=ao(t),n=pi(t,e);if(n!==null){var r=nr();ps(n,t,e,r)}hx(t,e)}};gj=function(){return jt};yj=function(t,e){var n=jt;try{return jt=t,e()}finally{jt=n}};My=function(t,e,n){switch(e){case"input":if(ky(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Lp(r);if(!s)throw Error(he(90));KS(r),ky(r,s)}}}break;case"textarea":YS(t,n);break;case"select":e=n.value,e!=null&&al(t,!!n.multiple,e,!1)}};rj=ax;sj=ua;var TO={usingClientEntryPoint:!1,Events:[xd,Xa,Lp,tj,nj,ax]},Oc={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PO={bundleType:Oc.bundleType,version:Oc.version,rendererPackageName:Oc.rendererPackageName,rendererConfig:Oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aj(t),t===null?null:t.stateNode},findFiberByHostInstance:Oc.findFiberByHostInstance||kO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{Tp=Eh.inject(PO),Vs=Eh}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TO;Lr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!px(e))throw Error(he(200));return jO(t,e,null,n)};Lr.createRoot=function(t,e){if(!px(t))throw Error(he(299));var n=!1,r="",s=Fk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=dx(t,1,!1,null,null,n,!1,r,s),t[fi]=e.current,Mu(t.nodeType===8?t.parentNode:t),new fx(e)};Lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=aj(e),t=t===null?null:t.stateNode,t};Lr.flushSync=function(t){return ua(t)};Lr.hydrate=function(t,e,n){if(!Bp(e))throw Error(he(200));return Hp(null,t,e,!0,n)};Lr.hydrateRoot=function(t,e,n){if(!px(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Fk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Vk(e,null,t,1,n??null,s,!1,i,a),t[fi]=e.current,Mu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new zp(e)};Lr.render=function(t,e,n){if(!Bp(e))throw Error(he(200));return Hp(null,t,e,!1,n)};Lr.unmountComponentAtNode=function(t){if(!Bp(t))throw Error(he(40));return t._reactRootContainer?(ua(function(){Hp(null,null,t,!1,function(){t._reactRootContainer=null,t[fi]=null})}),!0):!1};Lr.unstable_batchedUpdates=ax;Lr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bp(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return Hp(t,e,n,!1,r)};Lr.version="18.3.1-next-f1338f8080-20240426";function $k(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($k)}catch(t){console.error(t)}}$k(),$S.exports=Lr;var Yr=$S.exports;const Uk=kS(Yr);var zk,mE=Yr;zk=mE.createRoot,mE.hydrateRoot;var gE=["light","dark"],AO="(prefers-color-scheme: dark)",RO=d.createContext(void 0),LO={setTheme:t=>{},themes:[]},MO=()=>{var t;return(t=d.useContext(RO))!=null?t:LO};d.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?gE.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,y=!1,x=!0)=>{let b=a?a[v]:v,w=y?v+"|| ''":`'${b}'`,N="";return s&&x&&!y&&gE.includes(v)&&(N+=`d.style.colorScheme = '${v}';`),n==="class"?y||b?N+=`c.add(${w})`:N+="null":b&&(N+=`d[s](n,${w})`),N},g=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${AO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${p}}catch(t){}}();`;return d.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var DO=t=>{switch(t){case"success":return FO;case"info":return UO;case"warning":return $O;case"error":return zO;default:return null}},OO=Array(12).fill(0),VO=({visible:t,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},de.createElement("div",{className:"sonner-spinner"},OO.map((n,r)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),FO=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$O=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),UO=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zO=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BO=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HO=()=>{let[t,e]=de.useState(document.hidden);return de.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},pv=1,WO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:pv++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,a,l=s.then(async u=>{if(a=["resolve",u],de.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(GO(u)&&!u.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:h,description:p})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:h,description:p})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:h,description:p})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,h)=>l.then(()=>a[0]==="reject"?h(a[1]):u(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||pv++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ar=new WO,qO=(t,e)=>{let n=(e==null?void 0:e.id)||pv++;return ar.addToast({title:t,...e,id:n}),n},GO=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",KO=qO,QO=()=>ar.toasts,YO=()=>ar.getActiveToasts(),z=Object.assign(KO,{success:ar.success,info:ar.info,warning:ar.warning,error:ar.error,custom:ar.custom,message:ar.message,promise:ar.promise,dismiss:ar.dismiss,loading:ar.loading},{getHistory:QO,getToasts:YO});function ZO(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}ZO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Nh(t){return t.label!==void 0}var XO=3,JO="32px",e5="16px",yE=4e3,t5=356,n5=14,r5=20,s5=200;function es(...t){return t.filter(Boolean).join(" ")}function i5(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var o5=t=>{var e,n,r,s,i,a,l,c,u,h,p;let{invert:m,toast:g,unstyled:v,interacting:y,setHeights:x,visibleToasts:b,heights:w,index:N,toasts:k,expanded:A,removeToast:R,defaultRichColors:C,closeButton:_,style:j,cancelButtonStyle:T,actionButtonStyle:I,className:P="",descriptionClassName:L="",duration:Z,position:U,gap:F,loadingIcon:K,expandByDefault:V,classNames:D,icons:$,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:O}=t,[H,ie]=de.useState(null),[q,fe]=de.useState(null),[ee,ce]=de.useState(!1),[ve,X]=de.useState(!1),[ne,se]=de.useState(!1),[ge,Me]=de.useState(!1),[Ee,at]=de.useState(!1),[ue,Fe]=de.useState(0),[We,_t]=de.useState(0),rt=de.useRef(g.duration||Z||yE),et=de.useRef(null),$e=de.useRef(null),Qt=N===0,sn=N+1<=b,Qe=g.type,Y=g.dismissible!==!1,me=g.className||"",G=g.descriptionClassName||"",xe=de.useMemo(()=>w.findIndex(J=>J.toastId===g.id)||0,[w,g.id]),ke=de.useMemo(()=>{var J;return(J=g.closeButton)!=null?J:_},[g.closeButton,_]),Ke=de.useMemo(()=>g.duration||Z||yE,[g.duration,Z]),ht=de.useRef(0),St=de.useRef(0),At=de.useRef(0),$t=de.useRef(null),[wn,on]=U.split("-"),Yt=de.useMemo(()=>w.reduce((J,we,Ie)=>Ie>=xe?J:J+we.height,0),[w,xe]),ze=HO(),Tt=g.invert||m,lt=Qe==="loading";St.current=de.useMemo(()=>xe*F+Yt,[xe,Yt]),de.useEffect(()=>{rt.current=Ke},[Ke]),de.useEffect(()=>{ce(!0)},[]),de.useEffect(()=>{let J=$e.current;if(J){let we=J.getBoundingClientRect().height;return _t(we),x(Ie=>[{toastId:g.id,height:we,position:g.position},...Ie]),()=>x(Ie=>Ie.filter(Te=>Te.toastId!==g.id))}},[x,g.id]),de.useLayoutEffect(()=>{if(!ee)return;let J=$e.current,we=J.style.height;J.style.height="auto";let Ie=J.getBoundingClientRect().height;J.style.height=we,_t(Ie),x(Te=>Te.find(st=>st.toastId===g.id)?Te.map(st=>st.toastId===g.id?{...st,height:Ie}:st):[{toastId:g.id,height:Ie,position:g.position},...Te])},[ee,g.title,g.description,x,g.id]);let kt=de.useCallback(()=>{X(!0),Fe(St.current),x(J=>J.filter(we=>we.toastId!==g.id)),setTimeout(()=>{R(g)},s5)},[g,R,x,St]);de.useEffect(()=>{if(g.promise&&Qe==="loading"||g.duration===1/0||g.type==="loading")return;let J;return A||y||O&&ze?(()=>{if(At.current<ht.current){let we=new Date().getTime()-ht.current;rt.current=rt.current-we}At.current=new Date().getTime()})():rt.current!==1/0&&(ht.current=new Date().getTime(),J=setTimeout(()=>{var we;(we=g.onAutoClose)==null||we.call(g,g),kt()},rt.current)),()=>clearTimeout(J)},[A,y,g,Qe,O,ze,kt]),de.useEffect(()=>{g.delete&&kt()},[kt,g.delete]);function hn(){var J,we,Ie;return $!=null&&$.loading?de.createElement("div",{className:es(D==null?void 0:D.loader,(J=g==null?void 0:g.classNames)==null?void 0:J.loader,"sonner-loader"),"data-visible":Qe==="loading"},$.loading):K?de.createElement("div",{className:es(D==null?void 0:D.loader,(we=g==null?void 0:g.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":Qe==="loading"},K):de.createElement(VO,{className:es(D==null?void 0:D.loader,(Ie=g==null?void 0:g.classNames)==null?void 0:Ie.loader),visible:Qe==="loading"})}return de.createElement("li",{tabIndex:0,ref:$e,className:es(P,me,D==null?void 0:D.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[Qe],(n=g==null?void 0:g.classNames)==null?void 0:n[Qe]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:C,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":ee,"data-promise":!!g.promise,"data-swiped":Ee,"data-removed":ve,"data-visible":sn,"data-y-position":wn,"data-x-position":on,"data-index":N,"data-front":Qt,"data-swiping":ne,"data-dismissible":Y,"data-type":Qe,"data-invert":Tt,"data-swipe-out":ge,"data-swipe-direction":q,"data-expanded":!!(A||V&&ee),style:{"--index":N,"--toasts-before":N,"--z-index":k.length-N,"--offset":`${ve?ue:St.current}px`,"--initial-height":V?"auto":`${We}px`,...j,...g.style},onDragEnd:()=>{se(!1),ie(null),$t.current=null},onPointerDown:J=>{lt||!Y||(et.current=new Date,Fe(St.current),J.target.setPointerCapture(J.pointerId),J.target.tagName!=="BUTTON"&&(se(!0),$t.current={x:J.clientX,y:J.clientY}))},onPointerUp:()=>{var J,we,Ie,Te;if(ge||!Y)return;$t.current=null;let st=Number(((J=$e.current)==null?void 0:J.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ye=Number(((we=$e.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),je=new Date().getTime()-((Ie=et.current)==null?void 0:Ie.getTime()),fn=H==="x"?st:Ye,Sn=Math.abs(fn)/je;if(Math.abs(fn)>=r5||Sn>.11){Fe(St.current),(Te=g.onDismiss)==null||Te.call(g,g),fe(H==="x"?st>0?"right":"left":Ye>0?"down":"up"),kt(),Me(!0),at(!1);return}se(!1),ie(null)},onPointerMove:J=>{var we,Ie,Te,st;if(!$t.current||!Y||((we=window.getSelection())==null?void 0:we.toString().length)>0)return;let Ye=J.clientY-$t.current.y,je=J.clientX-$t.current.x,fn=(Ie=t.swipeDirections)!=null?Ie:i5(U);!H&&(Math.abs(je)>1||Math.abs(Ye)>1)&&ie(Math.abs(je)>Math.abs(Ye)?"x":"y");let Sn={x:0,y:0};H==="y"?(fn.includes("top")||fn.includes("bottom"))&&(fn.includes("top")&&Ye<0||fn.includes("bottom")&&Ye>0)&&(Sn.y=Ye):H==="x"&&(fn.includes("left")||fn.includes("right"))&&(fn.includes("left")&&je<0||fn.includes("right")&&je>0)&&(Sn.x=je),(Math.abs(Sn.x)>0||Math.abs(Sn.y)>0)&&at(!0),(Te=$e.current)==null||Te.style.setProperty("--swipe-amount-x",`${Sn.x}px`),(st=$e.current)==null||st.style.setProperty("--swipe-amount-y",`${Sn.y}px`)}},ke&&!g.jsx?de.createElement("button",{"aria-label":B,"data-disabled":lt,"data-close-button":!0,onClick:lt||!Y?()=>{}:()=>{var J;kt(),(J=g.onDismiss)==null||J.call(g,g)},className:es(D==null?void 0:D.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=$==null?void 0:$.close)!=null?i:BO):null,g.jsx||d.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:de.createElement(de.Fragment,null,Qe||g.icon||g.promise?de.createElement("div",{"data-icon":"",className:es(D==null?void 0:D.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||hn():null,g.type!=="loading"?g.icon||($==null?void 0:$[Qe])||DO(Qe):null):null,de.createElement("div",{"data-content":"",className:es(D==null?void 0:D.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},de.createElement("div",{"data-title":"",className:es(D==null?void 0:D.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?de.createElement("div",{"data-description":"",className:es(L,G,D==null?void 0:D.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),d.isValidElement(g.cancel)?g.cancel:g.cancel&&Nh(g.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||T,onClick:J=>{var we,Ie;Nh(g.cancel)&&Y&&((Ie=(we=g.cancel).onClick)==null||Ie.call(we,J),kt())},className:es(D==null?void 0:D.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,d.isValidElement(g.action)?g.action:g.action&&Nh(g.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||I,onClick:J=>{var we,Ie;Nh(g.action)&&((Ie=(we=g.action).onClick)==null||Ie.call(we,J),!J.defaultPrevented&&kt())},className:es(D==null?void 0:D.actionButton,(p=g==null?void 0:g.classNames)==null?void 0:p.actionButton)},g.action.label):null))};function vE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function a5(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?e5:JO;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var l5=d.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:p,duration:m,style:g,visibleToasts:v=XO,toastOptions:y,dir:x=vE(),gap:b=n5,loadingIcon:w,icons:N,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:A}=t,[R,C]=de.useState([]),_=de.useMemo(()=>Array.from(new Set([r].concat(R.filter(O=>O.position).map(O=>O.position)))),[R,r]),[j,T]=de.useState([]),[I,P]=de.useState(!1),[L,Z]=de.useState(!1),[U,F]=de.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=de.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=de.useRef(null),$=de.useRef(!1),B=de.useCallback(O=>{C(H=>{var ie;return(ie=H.find(q=>q.id===O.id))!=null&&ie.delete||ar.dismiss(O.id),H.filter(({id:q})=>q!==O.id)})},[]);return de.useEffect(()=>ar.subscribe(O=>{if(O.dismiss){C(H=>H.map(ie=>ie.id===O.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{Uk.flushSync(()=>{C(H=>{let ie=H.findIndex(q=>q.id===O.id);return ie!==-1?[...H.slice(0,ie),{...H[ie],...O},...H.slice(ie+1)]:[O,...H]})})})}),[]),de.useEffect(()=>{if(h!=="system"){F(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let O=window.matchMedia("(prefers-color-scheme: dark)");try{O.addEventListener("change",({matches:H})=>{F(H?"dark":"light")})}catch{O.addListener(({matches:ie})=>{try{F(ie?"dark":"light")}catch(q){console.error(q)}})}},[h]),de.useEffect(()=>{R.length<=1&&P(!1)},[R]),de.useEffect(()=>{let O=H=>{var ie,q;s.every(fe=>H[fe]||H.code===fe)&&(P(!0),(ie=K.current)==null||ie.focus()),H.code==="Escape"&&(document.activeElement===K.current||(q=K.current)!=null&&q.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[s]),de.useEffect(()=>{if(K.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,$.current=!1)}},[K.current]),de.createElement("section",{ref:e,"aria-label":`${k} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((O,H)=>{var ie;let[q,fe]=O.split("-");return R.length?de.createElement("ol",{key:O,dir:x==="auto"?vE():x,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":q,"data-lifted":I&&R.length>1&&!i,"data-x-position":fe,style:{"--front-toast-height":`${((ie=j[0])==null?void 0:ie.height)||0}px`,"--width":`${t5}px`,"--gap":`${b}px`,...g,...a5(c,u)},onBlur:ee=>{$.current&&!ee.currentTarget.contains(ee.relatedTarget)&&($.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||$.current||($.current=!0,D.current=ee.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{L||P(!1)},onDragEnd:()=>P(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||Z(!0)},onPointerUp:()=>Z(!1)},R.filter(ee=>!ee.position&&H===0||ee.position===O).map((ee,ce)=>{var ve,X;return de.createElement(o5,{key:ee.id,icons:N,index:ce,toast:ee,defaultRichColors:p,duration:(ve=y==null?void 0:y.duration)!=null?ve:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:v,closeButton:(X=y==null?void 0:y.closeButton)!=null?X:a,interacting:L,position:O,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:B,toasts:R.filter(ne=>ne.position==ee.position),heights:j.filter(ne=>ne.position==ee.position),setHeights:T,expandByDefault:i,gap:b,loadingIcon:w,expanded:I,pauseWhenPageIsHidden:A,swipeDirections:t.swipeDirections})})):null}))});const c5=({...t})=>{const{theme:e="system"}=MO();return o.jsx(l5,{theme:e,className:"toaster group",position:"bottom-right",duration:3e3,toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function xE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Wp(...t){return e=>{let n=!1;const r=t.map(s=>{const i=xE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():xE(t[s],null)}}}}function dt(...t){return d.useCallback(Wp(...t),t)}function u5(t,e){const n=d.createContext(e),r=i=>{const{children:a,...l}=i,c=d.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=d.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ir(t,e=[]){let n=[];function r(i,a){const l=d.createContext(a),c=n.length;n=[...n,a];const u=p=>{var b;const{scope:m,children:g,...v}=p,y=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,x=d.useMemo(()=>v,Object.values(v));return o.jsx(y.Provider,{value:x,children:g})};u.displayName=i+"Provider";function h(p,m){var y;const g=((y=m==null?void 0:m[t])==null?void 0:y[c])||l,v=d.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return d.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,d5(s,...e)]}function d5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...l,...p}},{});return d.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function da(t){const e=f5(t),n=d.forwardRef((r,s)=>{const{children:i,...a}=r,l=d.Children.toArray(i),c=l.find(m5);if(c){const u=c.props.children,h=l.map(p=>p===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:p);return o.jsx(e,{...a,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var h5=da("Slot");function f5(t){const e=d.forwardRef((n,r)=>{const{children:s,...i}=n;if(d.isValidElement(s)){const a=y5(s),l=g5(i,s.props);return s.type!==d.Fragment&&(l.ref=r?Wp(r,a):a),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Bk=Symbol("radix.slottable");function p5(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Bk,e}function m5(t){return d.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Bk}function g5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function y5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var v5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=v5.reduce((t,e)=>{const n=da(`Primitive.${e}`),r=d.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Hk(t,e){t&&Yr.flushSync(()=>t.dispatchEvent(e))}function Hs(t){const e=d.useRef(t);return d.useEffect(()=>{e.current=t}),d.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function x5(t,e=globalThis==null?void 0:globalThis.document){const n=Hs(t);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var w5="DismissableLayer",mv="dismissableLayer.update",b5="dismissableLayer.pointerDownOutside",E5="dismissableLayer.focusOutside",wE,Wk=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bd=d.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=d.useContext(Wk),[h,p]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=d.useState({}),v=dt(e,C=>p(C)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(x),w=h?y.indexOf(h):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,k=w>=b,A=_5(C=>{const _=C.target,j=[...u.branches].some(T=>T.contains(_));!k||j||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),R=S5(C=>{const _=C.target;[...u.branches].some(T=>T.contains(_))||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return x5(C=>{w===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wE=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),bE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=wE)}},[h,m,n,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),bE())},[h,u]),d.useEffect(()=>{const C=()=>g({});return document.addEventListener(mv,C),()=>document.removeEventListener(mv,C)},[]),o.jsx(Oe.div,{...c,ref:v,style:{pointerEvents:N?k?"auto":"none":void 0,...t.style},onFocusCapture:be(t.onFocusCapture,R.onFocusCapture),onBlurCapture:be(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:be(t.onPointerDownCapture,A.onPointerDownCapture)})});bd.displayName=w5;var N5="DismissableLayerBranch",C5=d.forwardRef((t,e)=>{const n=d.useContext(Wk),r=d.useRef(null),s=dt(e,r);return d.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Oe.div,{...t,ref:s})});C5.displayName=N5;function _5(t,e=globalThis==null?void 0:globalThis.document){const n=Hs(t),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){qk(b5,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function S5(t,e=globalThis==null?void 0:globalThis.document){const n=Hs(t),r=d.useRef(!1);return d.useEffect(()=>{const s=i=>{i.target&&!r.current&&qk(E5,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bE(){const t=new CustomEvent(mv);document.dispatchEvent(t)}function qk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Hk(s,i):s.dispatchEvent(i)}var Ln=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},j5=C0[" useId ".trim().toString()]||(()=>{}),k5=0;function Hr(t){const[e,n]=d.useState(j5());return Ln(()=>{n(r=>r??String(k5++))},[t]),e?`radix-${e}`:""}const I5=["top","right","bottom","left"],yo=Math.min,Cr=Math.max,Of=Math.round,Ch=Math.floor,$s=t=>({x:t,y:t}),T5={left:"right",right:"left",bottom:"top",top:"bottom"},P5={start:"end",end:"start"};function gv(t,e,n){return Cr(t,yo(e,n))}function gi(t,e){return typeof t=="function"?t(e):t}function yi(t){return t.split("-")[0]}function Jl(t){return t.split("-")[1]}function mx(t){return t==="x"?"y":"x"}function gx(t){return t==="y"?"height":"width"}function Ms(t){return["top","bottom"].includes(yi(t))?"y":"x"}function yx(t){return mx(Ms(t))}function A5(t,e,n){n===void 0&&(n=!1);const r=Jl(t),s=yx(t),i=gx(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Vf(a)),[a,Vf(a)]}function R5(t){const e=Vf(t);return[yv(t),e,yv(e)]}function yv(t){return t.replace(/start|end/g,e=>P5[e])}function L5(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function M5(t,e,n,r){const s=Jl(t);let i=L5(yi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(yv)))),i}function Vf(t){return t.replace(/left|right|bottom|top/g,e=>T5[e])}function D5(t){return{top:0,right:0,bottom:0,left:0,...t}}function Gk(t){return typeof t!="number"?D5(t):{top:t,right:t,bottom:t,left:t}}function Ff(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function EE(t,e,n){let{reference:r,floating:s}=t;const i=Ms(e),a=yx(e),l=gx(a),c=yi(e),u=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:p};break;case"left":g={x:r.x-s.width,y:p};break;default:g={x:r.x,y:r.y}}switch(Jl(e)){case"start":g[a]-=m*(n&&u?-1:1);break;case"end":g[a]+=m*(n&&u?-1:1);break}return g}const O5=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=EE(u,r,c),m=r,g={},v=0;for(let y=0;y<l.length;y++){const{name:x,fn:b}=l[y],{x:w,y:N,data:k,reset:A}=await b({x:h,y:p,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:t,floating:e}});h=w??h,p=N??p,g={...g,[x]:{...g[x],...k}},A&&v<=50&&(v++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(u=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:h,y:p}=EE(u,m,c)),y=-1)}return{x:h,y:p,placement:m,strategy:s,middlewareData:g}};async function Hu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:g=0}=gi(e,t),v=Gk(g),x=l[m?p==="floating"?"reference":"floating":p],b=Ff(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),w=p==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},A=Ff(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:N,strategy:c}):w);return{top:(b.top-A.top+v.top)/k.y,bottom:(A.bottom-b.bottom+v.bottom)/k.y,left:(b.left-A.left+v.left)/k.x,right:(A.right-b.right+v.right)/k.x}}const V5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=gi(t,e)||{};if(u==null)return{};const p=Gk(h),m={x:n,y:r},g=yx(s),v=gx(g),y=await a.getDimensions(u),x=g==="y",b=x?"top":"left",w=x?"bottom":"right",N=x?"clientHeight":"clientWidth",k=i.reference[v]+i.reference[g]-m[g]-i.floating[v],A=m[g]-i.reference[g],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=R?R[N]:0;(!C||!await(a.isElement==null?void 0:a.isElement(R)))&&(C=l.floating[N]||i.floating[v]);const _=k/2-A/2,j=C/2-y[v]/2-1,T=yo(p[b],j),I=yo(p[w],j),P=T,L=C-y[v]-I,Z=C/2-y[v]/2+_,U=gv(P,Z,L),F=!c.arrow&&Jl(s)!=null&&Z!==U&&i.reference[v]/2-(Z<P?T:I)-y[v]/2<0,K=F?Z<P?Z-P:Z-L:0;return{[g]:m[g]+K,data:{[g]:U,centerOffset:Z-U-K,...F&&{alignmentOffset:K}},reset:F}}}),F5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...x}=gi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=yi(s),w=Ms(l),N=yi(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),A=m||(N||!y?[Vf(l)]:R5(l)),R=v!=="none";!m&&R&&A.push(...M5(l,y,v,k));const C=[l,...A],_=await Hu(e,x),j=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&j.push(_[b]),p){const Z=A5(s,a,k);j.push(_[Z[0]],_[Z[1]])}if(T=[...T,{placement:s,overflows:j}],!j.every(Z=>Z<=0)){var I,P;const Z=(((I=i.flip)==null?void 0:I.index)||0)+1,U=C[Z];if(U&&(!(p==="alignment"?w!==Ms(U):!1)||T.every(V=>V.overflows[0]>0&&Ms(V.placement)===w)))return{data:{index:Z,overflows:T},reset:{placement:U}};let F=(P=T.filter(K=>K.overflows[0]<=0).sort((K,V)=>K.overflows[1]-V.overflows[1])[0])==null?void 0:P.placement;if(!F)switch(g){case"bestFit":{var L;const K=(L=T.filter(V=>{if(R){const D=Ms(V.placement);return D===w||D==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(D=>D>0).reduce((D,$)=>D+$,0)]).sort((V,D)=>V[1]-D[1])[0])==null?void 0:L[0];K&&(F=K);break}case"initialPlacement":F=l;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function NE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CE(t){return I5.some(e=>t[e]>=0)}const $5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=gi(t,e);switch(r){case"referenceHidden":{const i=await Hu(e,{...s,elementContext:"reference"}),a=NE(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:CE(a)}}}case"escaped":{const i=await Hu(e,{...s,altBoundary:!0}),a=NE(i,n.floating);return{data:{escapedOffsets:a,escaped:CE(a)}}}default:return{}}}}};async function U5(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=yi(n),l=Jl(n),c=Ms(n)==="y",u=["left","top"].includes(a)?-1:1,h=i&&c?-1:1,p=gi(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*h,y:m*u}:{x:m*u,y:g*h}}const z5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await U5(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},B5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:b,y:w}=x;return{x:b,y:w}}},...c}=gi(t,e),u={x:n,y:r},h=await Hu(e,c),p=Ms(yi(s)),m=mx(p);let g=u[m],v=u[p];if(i){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=g+h[x],N=g-h[b];g=gv(w,g,N)}if(a){const x=p==="y"?"top":"left",b=p==="y"?"bottom":"right",w=v+h[x],N=v-h[b];v=gv(w,v,N)}const y=l.fn({...e,[m]:g,[p]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:i,[p]:a}}}}}},H5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=gi(t,e),h={x:n,y:r},p=Ms(s),m=mx(p);let g=h[m],v=h[p];const y=gi(l,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const N=m==="y"?"height":"width",k=i.reference[m]-i.floating[N]+x.mainAxis,A=i.reference[m]+i.reference[N]-x.mainAxis;g<k?g=k:g>A&&(g=A)}if(u){var b,w;const N=m==="y"?"width":"height",k=["top","left"].includes(yi(s)),A=i.reference[p]-i.floating[N]+(k&&((b=a.offset)==null?void 0:b[p])||0)+(k?0:x.crossAxis),R=i.reference[p]+i.reference[N]+(k?0:((w=a.offset)==null?void 0:w[p])||0)-(k?x.crossAxis:0);v<A?v=A:v>R&&(v=R)}return{[m]:g,[p]:v}}}},W5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=gi(t,e),h=await Hu(e,u),p=yi(s),m=Jl(s),g=Ms(s)==="y",{width:v,height:y}=i.floating;let x,b;p==="top"||p==="bottom"?(x=p,b=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=p,x=m==="end"?"top":"bottom");const w=y-h.top-h.bottom,N=v-h.left-h.right,k=yo(y-h[x],w),A=yo(v-h[b],N),R=!e.middlewareData.shift;let C=k,_=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=w),R&&!m){const T=Cr(h.left,0),I=Cr(h.right,0),P=Cr(h.top,0),L=Cr(h.bottom,0);g?_=v-2*(T!==0||I!==0?T+I:Cr(h.left,h.right)):C=y-2*(P!==0||L!==0?P+L:Cr(h.top,h.bottom))}await c({...e,availableWidth:_,availableHeight:C});const j=await a.getDimensions(l.floating);return v!==j.width||y!==j.height?{reset:{rects:!0}}:{}}}};function qp(){return typeof window<"u"}function ec(t){return Kk(t)?(t.nodeName||"").toLowerCase():"#document"}function Tr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qs(t){var e;return(e=(Kk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Kk(t){return qp()?t instanceof Node||t instanceof Tr(t).Node:!1}function ys(t){return qp()?t instanceof Element||t instanceof Tr(t).Element:!1}function Ws(t){return qp()?t instanceof HTMLElement||t instanceof Tr(t).HTMLElement:!1}function _E(t){return!qp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tr(t).ShadowRoot}function Ed(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=vs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function q5(t){return["table","td","th"].includes(ec(t))}function Gp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function vx(t){const e=xx(),n=ys(t)?vs(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function G5(t){let e=vo(t);for(;Ws(e)&&!Vl(e);){if(vx(e))return e;if(Gp(e))return null;e=vo(e)}return null}function xx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vl(t){return["html","body","#document"].includes(ec(t))}function vs(t){return Tr(t).getComputedStyle(t)}function Kp(t){return ys(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vo(t){if(ec(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_E(t)&&t.host||Qs(t);return _E(e)?e.host:e}function Qk(t){const e=vo(t);return Vl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ws(e)&&Ed(e)?e:Qk(e)}function Wu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Qk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Tr(s);if(i){const l=vv(a);return e.concat(a,a.visualViewport||[],Ed(s)?s:[],l&&n?Wu(l):[])}return e.concat(s,Wu(s,[],n))}function vv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Yk(t){const e=vs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ws(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Of(n)!==i||Of(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function wx(t){return ys(t)?t:t.contextElement}function fl(t){const e=wx(t);if(!Ws(e))return $s(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Yk(e);let a=(i?Of(n.width):n.width)/r,l=(i?Of(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const K5=$s(0);function Zk(t){const e=Tr(t);return!xx()||!e.visualViewport?K5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Q5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tr(t)?!1:e}function ha(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=wx(t);let a=$s(1);e&&(r?ys(r)&&(a=fl(r)):a=fl(t));const l=Q5(i,n,r)?Zk(i):$s(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,h=s.width/a.x,p=s.height/a.y;if(i){const m=Tr(i),g=r&&ys(r)?Tr(r):r;let v=m,y=vv(v);for(;y&&r&&g!==v;){const x=fl(y),b=y.getBoundingClientRect(),w=vs(y),N=b.left+(y.clientLeft+parseFloat(w.paddingLeft))*x.x,k=b.top+(y.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,u*=x.y,h*=x.x,p*=x.y,c+=N,u+=k,v=Tr(y),y=vv(v)}}return Ff({width:h,height:p,x:c,y:u})}function bx(t,e){const n=Kp(t).scrollLeft;return e?e.left+n:ha(Qs(t)).left+n}function Xk(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:bx(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function Y5(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Qs(r),l=e?Gp(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=$s(1);const h=$s(0),p=Ws(r);if((p||!p&&!i)&&((ec(r)!=="body"||Ed(a))&&(c=Kp(r)),Ws(r))){const g=ha(r);u=fl(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=a&&!p&&!i?Xk(a,c,!0):$s(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function Z5(t){return Array.from(t.getClientRects())}function X5(t){const e=Qs(t),n=Kp(t),r=t.ownerDocument.body,s=Cr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Cr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+bx(t);const l=-n.scrollTop;return vs(r).direction==="rtl"&&(a+=Cr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function J5(t,e){const n=Tr(t),r=Qs(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=xx();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function e6(t,e){const n=ha(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ws(t)?fl(t):$s(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function SE(t,e,n){let r;if(e==="viewport")r=J5(t,n);else if(e==="document")r=X5(Qs(t));else if(ys(e))r=e6(e,n);else{const s=Zk(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ff(r)}function Jk(t,e){const n=vo(t);return n===e||!ys(n)||Vl(n)?!1:vs(n).position==="fixed"||Jk(n,e)}function t6(t,e){const n=e.get(t);if(n)return n;let r=Wu(t,[],!1).filter(l=>ys(l)&&ec(l)!=="body"),s=null;const i=vs(t).position==="fixed";let a=i?vo(t):t;for(;ys(a)&&!Vl(a);){const l=vs(a),c=vx(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ed(a)&&!c&&Jk(t,a))?r=r.filter(h=>h!==a):s=l,a=vo(a)}return e.set(t,r),r}function n6(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Gp(e)?[]:t6(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,h)=>{const p=SE(e,h,s);return u.top=Cr(p.top,u.top),u.right=yo(p.right,u.right),u.bottom=yo(p.bottom,u.bottom),u.left=Cr(p.left,u.left),u},SE(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function r6(t){const{width:e,height:n}=Yk(t);return{width:e,height:n}}function s6(t,e,n){const r=Ws(e),s=Qs(e),i=n==="fixed",a=ha(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=$s(0);function u(){c.x=bx(s)}if(r||!r&&!i)if((ec(e)!=="body"||Ed(s))&&(l=Kp(e)),r){const g=ha(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?Xk(s,l):$s(0),p=a.left+l.scrollLeft-c.x-h.x,m=a.top+l.scrollTop-c.y-h.y;return{x:p,y:m,width:a.width,height:a.height}}function Wg(t){return vs(t).position==="static"}function jE(t,e){if(!Ws(t)||vs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Qs(t)===n&&(n=n.ownerDocument.body),n}function e2(t,e){const n=Tr(t);if(Gp(t))return n;if(!Ws(t)){let s=vo(t);for(;s&&!Vl(s);){if(ys(s)&&!Wg(s))return s;s=vo(s)}return n}let r=jE(t,e);for(;r&&q5(r)&&Wg(r);)r=jE(r,e);return r&&Vl(r)&&Wg(r)&&!vx(r)?n:r||G5(t)||n}const i6=async function(t){const e=this.getOffsetParent||e2,n=this.getDimensions,r=await n(t.floating);return{reference:s6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function o6(t){return vs(t).direction==="rtl"}const a6={convertOffsetParentRelativeRectToViewportRelativeRect:Y5,getDocumentElement:Qs,getClippingRect:n6,getOffsetParent:e2,getElementRects:i6,getClientRects:Z5,getDimensions:r6,getScale:fl,isElement:ys,isRTL:o6};function t2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function l6(t,e){let n=null,r;const s=Qs(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:p,width:m,height:g}=u;if(l||e(),!m||!g)return;const v=Ch(p),y=Ch(s.clientWidth-(h+m)),x=Ch(s.clientHeight-(p+g)),b=Ch(h),N={rootMargin:-v+"px "+-y+"px "+-x+"px "+-b+"px",threshold:Cr(0,yo(1,c))||1};let k=!0;function A(R){const C=R[0].intersectionRatio;if(C!==c){if(!k)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!t2(u,t.getBoundingClientRect())&&a(),k=!1}try{n=new IntersectionObserver(A,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,N)}n.observe(t)}return a(!0),i}function c6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=wx(t),h=s||i?[...u?Wu(u):[],...Wu(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const p=u&&l?l6(u,n):null;let m=-1,g=null;a&&(g=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let v,y=c?ha(t):null;c&&x();function x(){const b=ha(t);y&&!t2(y,b)&&n(),y=b,v=requestAnimationFrame(x)}return n(),()=>{var b;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),p==null||p(),(b=g)==null||b.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const u6=z5,d6=B5,h6=F5,f6=W5,p6=$5,kE=V5,m6=H5,g6=(t,e,n)=>{const r=new Map,s={platform:a6,...n},i={...s.platform,_c:r};return O5(t,e,{...s,platform:i})};var y6=typeof document<"u",v6=function(){},Xh=y6?d.useLayoutEffect:v6;function $f(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!$f(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!$f(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function n2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function IE(t,e){const n=n2(t);return Math.round(e*n)/n}function qg(t){const e=d.useRef(t);return Xh(()=>{e.current=t}),e}function x6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,p]=d.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=d.useState(r);$f(m,r)||g(r);const[v,y]=d.useState(null),[x,b]=d.useState(null),w=d.useCallback(V=>{V!==R.current&&(R.current=V,y(V))},[]),N=d.useCallback(V=>{V!==C.current&&(C.current=V,b(V))},[]),k=i||v,A=a||x,R=d.useRef(null),C=d.useRef(null),_=d.useRef(h),j=c!=null,T=qg(c),I=qg(s),P=qg(u),L=d.useCallback(()=>{if(!R.current||!C.current)return;const V={placement:e,strategy:n,middleware:m};I.current&&(V.platform=I.current),g6(R.current,C.current,V).then(D=>{const $={...D,isPositioned:P.current!==!1};Z.current&&!$f(_.current,$)&&(_.current=$,Yr.flushSync(()=>{p($)}))})},[m,e,n,I,P]);Xh(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,p(V=>({...V,isPositioned:!1})))},[u]);const Z=d.useRef(!1);Xh(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Xh(()=>{if(k&&(R.current=k),A&&(C.current=A),k&&A){if(T.current)return T.current(k,A,L);L()}},[k,A,L,T,j]);const U=d.useMemo(()=>({reference:R,floating:C,setReference:w,setFloating:N}),[w,N]),F=d.useMemo(()=>({reference:k,floating:A}),[k,A]),K=d.useMemo(()=>{const V={position:n,left:0,top:0};if(!F.floating)return V;const D=IE(F.floating,h.x),$=IE(F.floating,h.y);return l?{...V,transform:"translate("+D+"px, "+$+"px)",...n2(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:$}},[n,l,F.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:L,refs:U,elements:F,floatingStyles:K}),[h,L,U,F,K])}const w6=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?kE({element:r.current,padding:s}).fn(n):{}:r?kE({element:r,padding:s}).fn(n):{}}}},b6=(t,e)=>({...u6(t),options:[t,e]}),E6=(t,e)=>({...d6(t),options:[t,e]}),N6=(t,e)=>({...m6(t),options:[t,e]}),C6=(t,e)=>({...h6(t),options:[t,e]}),_6=(t,e)=>({...f6(t),options:[t,e]}),S6=(t,e)=>({...p6(t),options:[t,e]}),j6=(t,e)=>({...w6(t),options:[t,e]});var k6="Arrow",r2=d.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(Oe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});r2.displayName=k6;var I6=r2;function Ex(t){const[e,n]=d.useState(void 0);return Ln(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Nx="Popper",[s2,tc]=ir(Nx),[T6,i2]=s2(Nx),o2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=d.useState(null);return o.jsx(T6,{scope:e,anchor:r,onAnchorChange:s,children:n})};o2.displayName=Nx;var a2="PopperAnchor",l2=d.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=i2(a2,n),a=d.useRef(null),l=dt(e,a);return d.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(Oe.div,{...s,ref:l})});l2.displayName=a2;var Cx="PopperContent",[P6,A6]=s2(Cx),c2=d.forwardRef((t,e)=>{var ee,ce,ve,X,ne,se;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=t,x=i2(Cx,n),[b,w]=d.useState(null),N=dt(e,ge=>w(ge)),[k,A]=d.useState(null),R=Ex(k),C=(R==null?void 0:R.width)??0,_=(R==null?void 0:R.height)??0,j=r+(i!=="center"?"-"+i:""),T=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},I=Array.isArray(u)?u:[u],P=I.length>0,L={padding:T,boundary:I.filter(L6),altBoundary:P},{refs:Z,floatingStyles:U,placement:F,isPositioned:K,middlewareData:V}=x6({strategy:"fixed",placement:j,whileElementsMounted:(...ge)=>c6(...ge,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[b6({mainAxis:s+_,alignmentAxis:a}),c&&E6({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?N6():void 0,...L}),c&&C6({...L}),_6({...L,apply:({elements:ge,rects:Me,availableWidth:Ee,availableHeight:at})=>{const{width:ue,height:Fe}=Me.reference,We=ge.floating.style;We.setProperty("--radix-popper-available-width",`${Ee}px`),We.setProperty("--radix-popper-available-height",`${at}px`),We.setProperty("--radix-popper-anchor-width",`${ue}px`),We.setProperty("--radix-popper-anchor-height",`${Fe}px`)}}),k&&j6({element:k,padding:l}),M6({arrowWidth:C,arrowHeight:_}),m&&S6({strategy:"referenceHidden",...L})]}),[D,$]=h2(F),B=Hs(v);Ln(()=>{K&&(B==null||B())},[K,B]);const O=(ee=V.arrow)==null?void 0:ee.x,H=(ce=V.arrow)==null?void 0:ce.y,ie=((ve=V.arrow)==null?void 0:ve.centerOffset)!==0,[q,fe]=d.useState();return Ln(()=>{b&&fe(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:K?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(X=V.transformOrigin)==null?void 0:X.x,(ne=V.transformOrigin)==null?void 0:ne.y].join(" "),...((se=V.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(P6,{scope:n,placedSide:D,onArrowChange:A,arrowX:O,arrowY:H,shouldHideArrow:ie,children:o.jsx(Oe.div,{"data-side":D,"data-align":$,...y,ref:N,style:{...y.style,animation:K?void 0:"none"}})})})});c2.displayName=Cx;var u2="PopperArrow",R6={top:"bottom",right:"left",bottom:"top",left:"right"},d2=d.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=A6(u2,r),a=R6[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(I6,{...s,ref:n,style:{...s.style,display:"block"}})})});d2.displayName=u2;function L6(t){return t!==null}var M6=t=>({name:"transformOrigin",options:t,fn(e){var x,b,w;const{placement:n,rects:r,middlewareData:s}=e,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,h]=h2(n),p={start:"0%",center:"50%",end:"100%"}[h],m=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,g=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let v="",y="";return u==="bottom"?(v=a?p:`${m}px`,y=`${-c}px`):u==="top"?(v=a?p:`${m}px`,y=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,y=a?p:`${g}px`):u==="left"&&(v=`${r.floating.width+c}px`,y=a?p:`${g}px`),{data:{x:v,y}}}});function h2(t){const[e,n="center"]=t.split("-");return[e,n]}var f2=o2,_x=l2,Sx=c2,jx=d2,D6="Portal",Qp=d.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=d.useState(!1);Ln(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Uk.createPortal(o.jsx(Oe.div,{...r,ref:e}),a):null});Qp.displayName=D6;function O6(t,e){return d.useReducer((n,r)=>e[n][r]??n,t)}var Zr=t=>{const{present:e,children:n}=t,r=V6(e),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),i=dt(r.ref,F6(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:i}):null};Zr.displayName="Presence";function V6(t){const[e,n]=d.useState(),r=d.useRef(null),s=d.useRef(t),i=d.useRef("none"),a=t?"mounted":"unmounted",[l,c]=O6(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=_h(r.current);i.current=l==="mounted"?u:"none"},[l]),Ln(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,g=_h(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Ln(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,p=g=>{const y=_h(r.current).includes(g.animationName);if(g.target===e&&y&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=g=>{g.target===e&&(i.current=_h(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function _h(t){return(t==null?void 0:t.animationName)||"none"}function F6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $6=C0[" useInsertionEffect ".trim().toString()]||Ln;function xs({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=U6({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=d.useRef(t!==void 0);d.useEffect(()=>{const p=h.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=d.useCallback(h=>{var p;if(l){const m=z6(h)?h(t):h;m!==t&&((p=a.current)==null||p.call(a,m))}else i(h)},[l,t,i,a]);return[c,u]}function U6({defaultProp:t,onChange:e}){const[n,r]=d.useState(t),s=d.useRef(n),i=d.useRef(e);return $6(()=>{i.current=e},[e]),d.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function z6(t){return typeof t=="function"}var p2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),B6="VisuallyHidden",m2=d.forwardRef((t,e)=>o.jsx(Oe.span,{...t,ref:e,style:{...p2,...t.style}}));m2.displayName=B6;var H6=m2,[Yp,AZ]=ir("Tooltip",[tc]),kx=tc(),g2="TooltipProvider",W6=700,TE="tooltip.open",[q6,y2]=Yp(g2),v2=t=>{const{__scopeTooltip:e,delayDuration:n=W6,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=d.useRef(!0),l=d.useRef(!1),c=d.useRef(0);return d.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(q6,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:d.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};v2.displayName=g2;var x2="Tooltip",[RZ,Zp]=Yp(x2),xv="TooltipTrigger",G6=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Zp(xv,n),i=y2(xv,n),a=kx(n),l=d.useRef(null),c=dt(e,l,s.onTriggerChange),u=d.useRef(!1),h=d.useRef(!1),p=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),o.jsx(_x,{asChild:!0,...a,children:o.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:be(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:be(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:be(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:be(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:be(t.onBlur,s.onClose),onClick:be(t.onClick,s.onClose)})})});G6.displayName=xv;var K6="TooltipPortal",[LZ,Q6]=Yp(K6,{forceMount:void 0}),Fl="TooltipContent",w2=d.forwardRef((t,e)=>{const n=Q6(Fl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=Zp(Fl,t.__scopeTooltip);return o.jsx(Zr,{present:r||a.open,children:a.disableHoverableContent?o.jsx(b2,{side:s,...i,ref:e}):o.jsx(Y6,{side:s,...i,ref:e})})}),Y6=d.forwardRef((t,e)=>{const n=Zp(Fl,t.__scopeTooltip),r=y2(Fl,t.__scopeTooltip),s=d.useRef(null),i=dt(e,s),[a,l]=d.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:p}=r,m=d.useCallback(()=>{l(null),p(!1)},[p]),g=d.useCallback((v,y)=>{const x=v.currentTarget,b={x:v.clientX,y:v.clientY},w=t3(b,x.getBoundingClientRect()),N=n3(b,w),k=r3(y.getBoundingClientRect()),A=i3([...N,...k]);l(A),p(!0)},[p]);return d.useEffect(()=>()=>m(),[m]),d.useEffect(()=>{if(c&&h){const v=x=>g(x,h),y=x=>g(x,c);return c.addEventListener("pointerleave",v),h.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",y)}}},[c,h,g,m]),d.useEffect(()=>{if(a){const v=y=>{const x=y.target,b={x:y.clientX,y:y.clientY},w=(c==null?void 0:c.contains(x))||(h==null?void 0:h.contains(x)),N=!s3(b,a);w?m():N&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,h,a,u,m]),o.jsx(b2,{...t,ref:i})}),[Z6,X6]=Yp(x2,{isInside:!1}),J6=p5("TooltipContent"),b2=d.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=Zp(Fl,n),u=kx(n),{onClose:h}=c;return d.useEffect(()=>(document.addEventListener(TE,h),()=>document.removeEventListener(TE,h)),[h]),d.useEffect(()=>{if(c.trigger){const p=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,h]),o.jsx(bd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:o.jsxs(Sx,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(J6,{children:r}),o.jsx(Z6,{scope:n,isInside:!0,children:o.jsx(H6,{id:c.contentId,role:"tooltip",children:s||r})})]})})});w2.displayName=Fl;var E2="TooltipArrow",e3=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=kx(n);return X6(E2,n).isInside?null:o.jsx(jx,{...s,...r,ref:e})});e3.displayName=E2;function t3(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function n3(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function r3(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function s3(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,h=l.y,p=c.x,m=c.y;h>r!=m>r&&n<(p-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function i3(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),o3(e)}function o3(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var a3=v2,N2=w2;function C2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=C2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _2(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=C2(t))&&(r&&(r+=" "),r+=e);return r}const Ix="-",l3=t=>{const e=u3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(Ix);return l[0]===""&&l.length!==1&&l.shift(),S2(l,e)||c3(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},S2=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?S2(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ix);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},PE=/^\[(.+)\]$/,c3=t=>{if(PE.test(t)){const e=PE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},u3=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return h3(Object.entries(t.classGroups),n).forEach(([i,a])=>{wv(a,r,i,e)}),r},wv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:AE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(d3(s)){wv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{wv(a,AE(e,i),n,r)})})},AE=(t,e)=>{let n=t;return e.split(Ix).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},d3=t=>t.isThemeGetter,h3=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,f3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},j2="!",p3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,h=0,p;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===s&&(r||l.slice(x,x+i)===e)){c.push(l.slice(h,x)),h=x+i;continue}if(b==="/"){p=x;continue}}b==="["?u++:b==="]"&&u--}const m=c.length===0?l:l.substring(h),g=m.startsWith(j2),v=g?m.substring(1):m,y=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:a}):a},m3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},g3=t=>({cache:f3(t.cacheSize),parseClassName:p3(t),...l3(t)}),y3=/\s+/,v3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(y3);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let v=!!g,y=r(v?m.substring(0,g):m);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=r(m),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=m3(h).join(":"),b=p?x+j2:x,w=b+y;if(i.includes(w))continue;i.push(w);const N=s(y,v);for(let k=0;k<N.length;++k){const A=N[k];i.push(b+A)}l=u+(l.length>0?" "+l:l)}return l};function x3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=k2(e))&&(r&&(r+=" "),r+=n);return r}const k2=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=k2(t[r]))&&(n&&(n+=" "),n+=e);return n};function w3(t,...e){let n,r,s,i=a;function a(c){const u=e.reduce((h,p)=>p(h),t());return n=g3(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=v3(c,n);return s(c,h),h}return function(){return i(x3.apply(null,arguments))}}const Mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},I2=/^\[(?:([a-z-]+):)?(.+)\]$/i,b3=/^\d+\/\d+$/,E3=new Set(["px","full","screen"]),N3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,C3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,S3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,j3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xs=t=>pl(t)||E3.has(t)||b3.test(t),ki=t=>nc(t,"length",M3),pl=t=>!!t&&!Number.isNaN(Number(t)),Gg=t=>nc(t,"number",pl),Vc=t=>!!t&&Number.isInteger(Number(t)),k3=t=>t.endsWith("%")&&pl(t.slice(0,-1)),Xe=t=>I2.test(t),Ii=t=>N3.test(t),I3=new Set(["length","size","percentage"]),T3=t=>nc(t,I3,T2),P3=t=>nc(t,"position",T2),A3=new Set(["image","url"]),R3=t=>nc(t,A3,O3),L3=t=>nc(t,"",D3),Fc=()=>!0,nc=(t,e,n)=>{const r=I2.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},M3=t=>C3.test(t)&&!_3.test(t),T2=()=>!1,D3=t=>S3.test(t),O3=t=>j3.test(t),V3=()=>{const t=Mt("colors"),e=Mt("spacing"),n=Mt("blur"),r=Mt("brightness"),s=Mt("borderColor"),i=Mt("borderRadius"),a=Mt("borderSpacing"),l=Mt("borderWidth"),c=Mt("contrast"),u=Mt("grayscale"),h=Mt("hueRotate"),p=Mt("invert"),m=Mt("gap"),g=Mt("gradientColorStops"),v=Mt("gradientColorStopPositions"),y=Mt("inset"),x=Mt("margin"),b=Mt("opacity"),w=Mt("padding"),N=Mt("saturate"),k=Mt("scale"),A=Mt("sepia"),R=Mt("skew"),C=Mt("space"),_=Mt("translate"),j=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Xe,e],P=()=>[Xe,e],L=()=>["",Xs,ki],Z=()=>["auto",pl,Xe],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Xe],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[pl,Xe];return{cacheSize:500,separator:":",theme:{colors:[Fc],spacing:[Xs,ki],blur:["none","",Ii,Xe],brightness:B(),borderColor:[t],borderRadius:["none","","full",Ii,Xe],borderSpacing:P(),borderWidth:L(),contrast:B(),grayscale:D(),hueRotate:B(),invert:D(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[k3,ki],inset:I(),margin:I(),opacity:B(),padding:P(),saturate:B(),scale:B(),sepia:D(),skew:B(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[Ii]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Xe]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vc,Xe]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Vc,Xe]}],"grid-cols":[{"grid-cols":[Fc]}],"col-start-end":[{col:["auto",{span:["full",Vc,Xe]},Xe]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[Fc]}],"row-start-end":[{row:["auto",{span:[Vc,Xe]},Xe]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,e]}],"min-w":[{"min-w":[Xe,e,"min","max","fit"]}],"max-w":[{"max-w":[Xe,e,"none","full","min","max","fit","prose",{screen:[Ii]},Ii]}],h:[{h:[Xe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ii,ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gg]}],"font-family":[{font:[Fc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",pl,Gg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xs,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xs,ki]}],"underline-offset":[{"underline-offset":["auto",Xs,Xe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),P3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",T3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},R3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Xs,Xe]}],"outline-w":[{outline:[Xs,ki]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Xs,ki]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ii,L3]}],"shadow-color":[{shadow:[Fc]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ii,Xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[N]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Vc,Xe]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xs,ki,Gg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},F3=w3(V3);function Le(...t){return F3(_2(t))}const $3=a3,U3=d.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(N2,{ref:r,sideOffset:e,className:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));U3.displayName=N2.displayName;var Xp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jp=typeof window>"u"||"Deno"in globalThis;function rs(){}function z3(t,e){return typeof t=="function"?t(e):t}function B3(t){return typeof t=="number"&&t>=0&&t!==1/0}function H3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function bv(t,e){return typeof t=="function"?t(e):t}function W3(t,e){return typeof t=="function"?t(e):t}function RE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==Tx(a,e.options))return!1}else if(!Gu(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function LE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(qu(e.options.mutationKey)!==qu(i))return!1}else if(!Gu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Tx(t,e){return((e==null?void 0:e.queryKeyHashFn)||qu)(t)}function qu(t){return JSON.stringify(t,(e,n)=>Ev(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Gu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Gu(t[n],e[n])):!1}function P2(t,e){if(t===e)return t;const n=ME(t)&&ME(e);if(n||Ev(t)&&Ev(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<a;h++){const p=n?h:i[h];(!n&&c.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(l[p]=void 0,u++):(l[p]=P2(t[p],e[p]),l[p]===t[p]&&t[p]!==void 0&&u++)}return s===a&&u===s?t:l}return e}function ME(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ev(t){if(!DE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!DE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function DE(t){return Object.prototype.toString.call(t)==="[object Object]"}function q3(t){return new Promise(e=>{setTimeout(e,t)})}function G3(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?P2(t,e):e}function K3(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Q3(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Px=Symbol();function A2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Px?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ko,Bi,Nl,wS,Y3=(wS=class extends Xp{constructor(){super();gt(this,Ko);gt(this,Bi);gt(this,Nl);Ze(this,Nl,e=>{if(!Jp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){oe(this,Bi)||this.setEventListener(oe(this,Nl))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,Bi))==null||e.call(this),Ze(this,Bi,void 0))}setEventListener(e){var n;Ze(this,Nl,e),(n=oe(this,Bi))==null||n.call(this),Ze(this,Bi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){oe(this,Ko)!==e&&(Ze(this,Ko,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof oe(this,Ko)=="boolean"?oe(this,Ko):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ko=new WeakMap,Bi=new WeakMap,Nl=new WeakMap,wS),R2=new Y3,Cl,Hi,_l,bS,Z3=(bS=class extends Xp{constructor(){super();gt(this,Cl,!0);gt(this,Hi);gt(this,_l);Ze(this,_l,e=>{if(!Jp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){oe(this,Hi)||this.setEventListener(oe(this,_l))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,Hi))==null||e.call(this),Ze(this,Hi,void 0))}setEventListener(e){var n;Ze(this,_l,e),(n=oe(this,Hi))==null||n.call(this),Ze(this,Hi,e(this.setOnline.bind(this)))}setOnline(e){oe(this,Cl)!==e&&(Ze(this,Cl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return oe(this,Cl)}},Cl=new WeakMap,Hi=new WeakMap,_l=new WeakMap,bS),Uf=new Z3;function X3(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function J3(t){return Math.min(1e3*2**t,3e4)}function L2(t){return(t??"online")==="online"?Uf.isOnline():!0}var M2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Kg(t){return t instanceof M2}function D2(t){let e=!1,n=0,r=!1,s;const i=X3(),a=y=>{var x;r||(m(new M2(y)),(x=t.abort)==null||x.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>R2.isFocused()&&(t.networkMode==="always"||Uf.isOnline())&&t.canRun(),h=()=>L2(t.networkMode)&&t.canRun(),p=y=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,y),s==null||s(),i.resolve(y))},m=y=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var x;s=b=>{(r||u())&&y(b)},(x=t.onPause)==null||x.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(r)return;let y;const x=n===0?t.initialPromise:void 0;try{y=x??t.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(p).catch(b=>{var R;if(r)return;const w=t.retry??(Jp?0:3),N=t.retryDelay??J3,k=typeof N=="function"?N(n,b):N,A=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(e||!A){m(b);return}n++,(R=t.onFail)==null||R.call(t,n,b),q3(k).then(()=>u()?void 0:g()).then(()=>{e?m(b):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?v():g().then(v),i)}}var eV=t=>setTimeout(t,0);function tV(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=eV;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var tr=tV(),Qo,ES,O2=(ES=class{constructor(){gt(this,Qo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),B3(this.gcTime)&&Ze(this,Qo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jp?1/0:5*60*1e3))}clearGcTimeout(){oe(this,Qo)&&(clearTimeout(oe(this,Qo)),Ze(this,Qo,void 0))}},Qo=new WeakMap,ES),Sl,Yo,Vr,Zo,Hn,pd,Xo,ss,Js,NS,nV=(NS=class extends O2{constructor(n){super();gt(this,ss);gt(this,Sl);gt(this,Yo);gt(this,Vr);gt(this,Zo);gt(this,Hn);gt(this,pd);gt(this,Xo);Ze(this,Xo,!1),Ze(this,pd,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ze(this,Zo,n.client),Ze(this,Vr,oe(this,Zo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ze(this,Sl,sV(this.options)),this.state=n.state??oe(this,Sl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=oe(this,Hn))==null?void 0:n.promise}setOptions(n){this.options={...oe(this,pd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,Vr).remove(this)}setData(n,r){const s=G3(this.state.data,n,this.options);return $n(this,ss,Js).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){$n(this,ss,Js).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=oe(this,Hn))==null?void 0:s.promise;return(i=oe(this,Hn))==null||i.cancel(n),r?r.then(rs).catch(rs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,Sl))}isActive(){return this.observers.some(n=>W3(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Px||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>bv(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!H3(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=oe(this,Hn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=oe(this,Hn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),oe(this,Vr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(oe(this,Hn)&&(oe(this,Xo)?oe(this,Hn).cancel({revert:!0}):oe(this,Hn).cancelRetry()),this.scheduleGc()),oe(this,Vr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$n(this,ss,Js).call(this,{type:"invalidate"})}fetch(n,r){var h,p,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(oe(this,Hn))return oe(this,Hn).continueRetry(),oe(this,Hn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(v=>v.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ze(this,Xo,!0),s.signal)})},a=()=>{const g=A2(this.options,r),y=(()=>{const x={client:oe(this,Zo),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return Ze(this,Xo,!1),this.options.persister?this.options.persister(g,y,this):g(y)},c=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:oe(this,Zo),state:this.state,fetchFn:a};return i(g),g})();(h=this.options.behavior)==null||h.onFetch(c,this),Ze(this,Yo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&$n(this,ss,Js).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=g=>{var v,y,x,b;Kg(g)&&g.silent||$n(this,ss,Js).call(this,{type:"error",error:g}),Kg(g)||((y=(v=oe(this,Vr).config).onError)==null||y.call(v,g,this),(b=(x=oe(this,Vr).config).onSettled)==null||b.call(x,this.state.data,g,this)),this.scheduleGc()};return Ze(this,Hn,D2({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var v,y,x,b;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(w){u(w);return}(y=(v=oe(this,Vr).config).onSuccess)==null||y.call(v,g,this),(b=(x=oe(this,Vr).config).onSettled)==null||b.call(x,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,v)=>{$n(this,ss,Js).call(this,{type:"failed",failureCount:g,error:v})},onPause:()=>{$n(this,ss,Js).call(this,{type:"pause"})},onContinue:()=>{$n(this,ss,Js).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),oe(this,Hn).start()}},Sl=new WeakMap,Yo=new WeakMap,Vr=new WeakMap,Zo=new WeakMap,Hn=new WeakMap,pd=new WeakMap,Xo=new WeakMap,ss=new WeakSet,Js=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...rV(s.data,this.options),fetchMeta:n.meta??null};case"success":return Ze(this,Yo,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Kg(i)&&i.revert&&oe(this,Yo)?{...oe(this,Yo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),tr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),oe(this,Vr).notify({query:this,type:"updated",action:n})})},NS);function rV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:L2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function sV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Is,CS,iV=(CS=class extends Xp{constructor(e={}){super();gt(this,Is);this.config=e,Ze(this,Is,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Tx(s,n);let a=this.get(i);return a||(a=new nV({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){oe(this,Is).has(e.queryHash)||(oe(this,Is).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=oe(this,Is).get(e.queryHash);n&&(e.destroy(),n===e&&oe(this,Is).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return oe(this,Is).get(e)}getAll(){return[...oe(this,Is).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>RE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>RE(e,r)):n}notify(e){tr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){tr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Is=new WeakMap,CS),Ts,Jn,Jo,Ps,Pi,_S,oV=(_S=class extends O2{constructor(n){super();gt(this,Ps);gt(this,Ts);gt(this,Jn);gt(this,Jo);this.mutationId=n.mutationId,Ze(this,Jn,n.mutationCache),Ze(this,Ts,[]),this.state=n.state||aV(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){oe(this,Ts).includes(n)||(oe(this,Ts).push(n),this.clearGcTimeout(),oe(this,Jn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ze(this,Ts,oe(this,Ts).filter(r=>r!==n)),this.scheduleGc(),oe(this,Jn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){oe(this,Ts).length||(this.state.status==="pending"?this.scheduleGc():oe(this,Jn).remove(this))}continue(){var n;return((n=oe(this,Jo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,u,h,p,m,g,v,y,x,b,w,N,k,A,R,C,_,j;const r=()=>{$n(this,Ps,Pi).call(this,{type:"continue"})};Ze(this,Jo,D2({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(T,I)=>{$n(this,Ps,Pi).call(this,{type:"failed",failureCount:T,error:I})},onPause:()=>{$n(this,Ps,Pi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,Jn).canRun(this)}));const s=this.state.status==="pending",i=!oe(this,Jo).canStart();try{if(s)r();else{$n(this,Ps,Pi).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(a=oe(this,Jn).config).onMutate)==null?void 0:l.call(a,n,this));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));I!==this.state.context&&$n(this,Ps,Pi).call(this,{type:"pending",context:I,variables:n,isPaused:i})}const T=await oe(this,Jo).start();return await((p=(h=oe(this,Jn).config).onSuccess)==null?void 0:p.call(h,T,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,T,n,this.state.context)),await((y=(v=oe(this,Jn).config).onSettled)==null?void 0:y.call(v,T,null,this.state.variables,this.state.context,this)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,T,null,n,this.state.context)),$n(this,Ps,Pi).call(this,{type:"success",data:T}),T}catch(T){try{throw await((N=(w=oe(this,Jn).config).onError)==null?void 0:N.call(w,T,n,this.state.context,this)),await((A=(k=this.options).onError)==null?void 0:A.call(k,T,n,this.state.context)),await((C=(R=oe(this,Jn).config).onSettled)==null?void 0:C.call(R,void 0,T,this.state.variables,this.state.context,this)),await((j=(_=this.options).onSettled)==null?void 0:j.call(_,void 0,T,n,this.state.context)),T}finally{$n(this,Ps,Pi).call(this,{type:"error",error:T})}}finally{oe(this,Jn).runNext(this)}}},Ts=new WeakMap,Jn=new WeakMap,Jo=new WeakMap,Ps=new WeakSet,Pi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),tr.batch(()=>{oe(this,Ts).forEach(s=>{s.onMutationUpdate(n)}),oe(this,Jn).notify({mutation:this,type:"updated",action:n})})},_S);function aV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ni,is,md,SS,lV=(SS=class extends Xp{constructor(e={}){super();gt(this,ni);gt(this,is);gt(this,md);this.config=e,Ze(this,ni,new Set),Ze(this,is,new Map),Ze(this,md,0)}build(e,n,r){const s=new oV({mutationCache:this,mutationId:++ih(this,md)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){oe(this,ni).add(e);const n=Sh(e);if(typeof n=="string"){const r=oe(this,is).get(n);r?r.push(e):oe(this,is).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(oe(this,ni).delete(e)){const n=Sh(e);if(typeof n=="string"){const r=oe(this,is).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&oe(this,is).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Sh(e);if(typeof n=="string"){const r=oe(this,is).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Sh(e);if(typeof n=="string"){const s=(r=oe(this,is).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tr.batch(()=>{oe(this,ni).forEach(e=>{this.notify({type:"removed",mutation:e})}),oe(this,ni).clear(),oe(this,is).clear()})}getAll(){return Array.from(oe(this,ni))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>LE(n,r))}findAll(e={}){return this.getAll().filter(n=>LE(e,n))}notify(e){tr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return tr.batch(()=>Promise.all(e.map(n=>n.continue().catch(rs))))}},ni=new WeakMap,is=new WeakMap,md=new WeakMap,SS);function Sh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function OE(t){return{onFetch:(e,n)=>{var h,p,m,g,v;const r=e.options,s=(m=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const x=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},b=A2(e.options,e.fetchOptions),w=async(N,k,A)=>{if(y)return Promise.reject();if(k==null&&N.pages.length)return Promise.resolve(N);const C=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:k,direction:A?"backward":"forward",meta:e.options.meta};return x(I),I})(),_=await b(C),{maxPages:j}=e.options,T=A?Q3:K3;return{pages:T(N.pages,_,j),pageParams:T(N.pageParams,k,j)}};if(s&&i.length){const N=s==="backward",k=N?cV:VE,A={pages:i,pageParams:a},R=k(r,A);l=await w(A,R,N)}else{const N=t??i.length;do{const k=c===0?a[0]??r.initialPageParam:VE(r,l);if(c>0&&k==null)break;l=await w(l,k),c++}while(c<N)}return l};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function VE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function cV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xt,Wi,qi,jl,kl,Gi,Il,Tl,jS,uV=(jS=class{constructor(t={}){gt(this,Xt);gt(this,Wi);gt(this,qi);gt(this,jl);gt(this,kl);gt(this,Gi);gt(this,Il);gt(this,Tl);Ze(this,Xt,t.queryCache||new iV),Ze(this,Wi,t.mutationCache||new lV),Ze(this,qi,t.defaultOptions||{}),Ze(this,jl,new Map),Ze(this,kl,new Map),Ze(this,Gi,0)}mount(){ih(this,Gi)._++,oe(this,Gi)===1&&(Ze(this,Il,R2.subscribe(async t=>{t&&(await this.resumePausedMutations(),oe(this,Xt).onFocus())})),Ze(this,Tl,Uf.subscribe(async t=>{t&&(await this.resumePausedMutations(),oe(this,Xt).onOnline())})))}unmount(){var t,e;ih(this,Gi)._--,oe(this,Gi)===0&&((t=oe(this,Il))==null||t.call(this),Ze(this,Il,void 0),(e=oe(this,Tl))==null||e.call(this),Ze(this,Tl,void 0))}isFetching(t){return oe(this,Xt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return oe(this,Wi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=oe(this,Xt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=oe(this,Xt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(bv(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return oe(this,Xt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=oe(this,Xt).get(r.queryHash),i=s==null?void 0:s.state.data,a=z3(e,i);if(a!==void 0)return oe(this,Xt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return tr.batch(()=>oe(this,Xt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=oe(this,Xt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=oe(this,Xt);tr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=oe(this,Xt);return tr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=tr.batch(()=>oe(this,Xt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(rs).catch(rs)}invalidateQueries(t,e={}){return tr.batch(()=>(oe(this,Xt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=tr.batch(()=>oe(this,Xt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(rs)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(rs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=oe(this,Xt).build(this,e);return n.isStaleByTime(bv(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(rs).catch(rs)}fetchInfiniteQuery(t){return t.behavior=OE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(rs).catch(rs)}ensureInfiniteQueryData(t){return t.behavior=OE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Uf.isOnline()?oe(this,Wi).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,Xt)}getMutationCache(){return oe(this,Wi)}getDefaultOptions(){return oe(this,qi)}setDefaultOptions(t){Ze(this,qi,t)}setQueryDefaults(t,e){oe(this,jl).set(qu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...oe(this,jl).values()],n={};return e.forEach(r=>{Gu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){oe(this,kl).set(qu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...oe(this,kl).values()],n={};return e.forEach(r=>{Gu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...oe(this,qi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Tx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Px&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...oe(this,qi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){oe(this,Xt).clear(),oe(this,Wi).clear()}},Xt=new WeakMap,Wi=new WeakMap,qi=new WeakMap,jl=new WeakMap,kl=new WeakMap,Gi=new WeakMap,Il=new WeakMap,Tl=new WeakMap,jS),dV=d.createContext(void 0),hV=({client:t,children:e})=>(d.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(dV.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ku(){return Ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ku.apply(this,arguments)}var Yi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yi||(Yi={}));const FE="popstate";function fV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return Nv("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:F2(s)}return mV(e,n,null,t)}function gn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function V2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pV(){return Math.random().toString(36).substr(2,8)}function $E(t,e){return{usr:t.state,key:t.key,idx:e}}function Nv(t,e,n,r){return n===void 0&&(n=null),Ku({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rc(e):e,{state:n,key:e&&e.key||r||pV()})}function F2(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Yi.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(Ku({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function p(){l=Yi.Pop;let x=h(),b=x==null?null:x-u;u=x,c&&c({action:l,location:y.location,delta:b})}function m(x,b){l=Yi.Push;let w=Nv(y.location,x,b);u=h()+1;let N=$E(w,u),k=y.createHref(w);try{a.pushState(N,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(k)}i&&c&&c({action:l,location:y.location,delta:1})}function g(x,b){l=Yi.Replace;let w=Nv(y.location,x,b);u=h();let N=$E(w,u),k=y.createHref(w);a.replaceState(N,"",k),i&&c&&c({action:l,location:y.location,delta:0})}function v(x){let b=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:F2(x);return w=w.replace(/ $/,"%20"),gn(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let y={get action(){return l},get location(){return t(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(FE,p),c=x,()=>{s.removeEventListener(FE,p),c=null}},createHref(x){return e(s,x)},createURL:v,encodeLocation(x){let b=v(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:g,go(x){return a.go(x)}};return y}var UE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(UE||(UE={}));function gV(t,e,n){return n===void 0&&(n="/"),yV(t,e,n)}function yV(t,e,n,r){let s=typeof e=="string"?rc(e):e,i=z2(s.pathname||"/",n);if(i==null)return null;let a=$2(t);vV(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=TV(i);l=jV(a[c],u)}return l}function $2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(gn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=na([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(gn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$2(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:_V(u,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of U2(i.path))s(i,a,c)}),e}function U2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=U2(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function vV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xV=/^:[\w-]+$/,wV=3,bV=2,EV=1,NV=10,CV=-2,zE=t=>t==="*";function _V(t,e){let n=t.split("/"),r=n.length;return n.some(zE)&&(r+=CV),e&&(r+=bV),n.filter(s=>!zE(s)).reduce((s,i)=>s+(xV.test(i)?wV:i===""?EV:NV),r)}function SV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function jV(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=kV({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:na([i,p.pathname]),pathnameBase:DV(na([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=na([i,p.pathnameBase]))}return a}function kV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let y=l[p]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[p];return g&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function IV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),V2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function TV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return V2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function z2(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?rc(t):t;return{pathname:n?n.startsWith("/")?n:AV(n,e):e,search:OV(r),hash:VV(s)}}function AV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Qg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LV(t,e){let n=RV(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function MV(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=rc(t):(s=Ku({},t),gn(!s.pathname||!s.pathname.includes("?"),Qg("?","pathname","search",s)),gn(!s.pathname||!s.pathname.includes("#"),Qg("#","pathname","hash",s)),gn(!s.search||!s.search.includes("#"),Qg("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}l=p>=0?e[p]:"/"}let c=PV(s,l),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const na=t=>t.join("/").replace(/\/\/+/g,"/"),DV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const B2=["post","put","patch","delete"];new Set(B2);const $V=["get",...B2];new Set($V);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qu(){return Qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qu.apply(this,arguments)}const Ax=d.createContext(null),UV=d.createContext(null),em=d.createContext(null),tm=d.createContext(null),ja=d.createContext({outlet:null,matches:[],isDataRoute:!1}),H2=d.createContext(null);function nm(){return d.useContext(tm)!=null}function rm(){return nm()||gn(!1),d.useContext(tm).location}function W2(t){d.useContext(em).static||d.useLayoutEffect(t)}function _n(){let{isDataRoute:t}=d.useContext(ja);return t?tF():zV()}function zV(){nm()||gn(!1);let t=d.useContext(Ax),{basename:e,future:n,navigator:r}=d.useContext(em),{matches:s}=d.useContext(ja),{pathname:i}=rm(),a=JSON.stringify(LV(s,n.v7_relativeSplatPath)),l=d.useRef(!1);return W2(()=>{l.current=!0}),d.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=MV(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:na([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,a,i,t])}function BV(){let{matches:t}=d.useContext(ja),e=t[t.length-1];return e?e.params:{}}function HV(t,e){return WV(t,e)}function WV(t,e,n,r){nm()||gn(!1);let{navigator:s}=d.useContext(em),{matches:i}=d.useContext(ja),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=rm(),h;if(e){var p;let x=typeof e=="string"?rc(e):e;c==="/"||(p=x.pathname)!=null&&p.startsWith(c)||gn(!1),h=x}else h=u;let m=h.pathname||"/",g=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=gV(t,{pathname:g}),y=YV(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:na([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:na([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&y?d.createElement(tm.Provider,{value:{location:Qu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Yi.Pop}},y):y}function qV(){let t=eF(),e=FV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},e),n?d.createElement("pre",{style:s},n):null,null)}const GV=d.createElement(qV,null);class KV extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?d.createElement(ja.Provider,{value:this.props.routeContext},d.createElement(H2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QV(t){let{routeContext:e,match:n,children:r}=t,s=d.useContext(Ax);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(ja.Provider,{value:e},r)}function YV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);h>=0||gn(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:m,errors:g}=n,v=p.route.loader&&m[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,m)=>{let g,v=!1,y=null,x=null;n&&(g=l&&p.route.id?l[p.route.id]:void 0,y=p.route.errorElement||GV,c&&(u<0&&m===0?(nF("route-fallback"),v=!0,x=null):u===m&&(v=!0,x=p.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,m+1)),w=()=>{let N;return g?N=y:v?N=x:p.route.Component?N=d.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=h,d.createElement(QV,{match:p,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?d.createElement(KV,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var q2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(q2||{}),G2=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(G2||{});function ZV(t){let e=d.useContext(Ax);return e||gn(!1),e}function XV(t){let e=d.useContext(UV);return e||gn(!1),e}function JV(t){let e=d.useContext(ja);return e||gn(!1),e}function K2(t){let e=JV(),n=e.matches[e.matches.length-1];return n.route.id||gn(!1),n.route.id}function eF(){var t;let e=d.useContext(H2),n=XV(),r=K2();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function tF(){let{router:t}=ZV(q2.UseNavigateStable),e=K2(G2.UseNavigateStable),n=d.useRef(!1);return W2(()=>{n.current=!0}),d.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Qu({fromRouteId:e},i)))},[t,e])}const BE={};function nF(t,e,n){BE[t]||(BE[t]=!0)}function rF(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function bn(t){gn(!1)}function sF(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Yi.Pop,navigator:i,static:a=!1,future:l}=t;nm()&&gn(!1);let c=e.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:i,static:a,future:Qu({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=rc(r));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:v="default"}=r,y=d.useMemo(()=>{let x=z2(h,c);return x==null?null:{location:{pathname:x,search:p,hash:m,state:g,key:v},navigationType:s}},[c,h,p,m,g,v,s]);return y==null?null:d.createElement(em.Provider,{value:u},d.createElement(tm.Provider,{children:n,value:y}))}function iF(t){let{children:e,location:n}=t;return HV(Cv(e),n)}new Promise(()=>{});function Cv(t,e){e===void 0&&(e=[]);let n=[];return d.Children.forEach(t,(r,s)=>{if(!d.isValidElement(r))return;let i=[...e,s];if(r.type===d.Fragment){n.push.apply(n,Cv(r.props.children,i));return}r.type!==bn&&gn(!1),!r.props.index||!r.props.children||gn(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Cv(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const oF="6";try{window.__reactRouterVersion=oF}catch{}const aF="startTransition",HE=C0[aF];function lF(t){let{basename:e,children:n,future:r,window:s}=t,i=d.useRef();i.current==null&&(i.current=fV({window:s,v5Compat:!0}));let a=i.current,[l,c]=d.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=d.useCallback(p=>{u&&HE?HE(()=>c(p)):c(p)},[c,u]);return d.useLayoutEffect(()=>a.listen(h),[a,h]),d.useEffect(()=>rF(r),[r]),d.createElement(sF,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}var WE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(WE||(WE={}));var qE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qE||(qE={}));const cF=()=>{};var GE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},uF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},Y2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,p=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(m=64)),r.push(n[h],n[p],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Q2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||p==null)throw new dF;const m=i<<2|l>>4;if(r.push(m),u!==64){const g=l<<4&240|u>>2;if(r.push(g),p!==64){const v=u<<6&192|p;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hF=function(t){const e=Q2(t);return Y2.encodeByteArray(e,!0)},zf=function(t){return hF(t).replace(/\./g,"")},Z2=function(t){try{return Y2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=()=>fF().__FIREBASE_DEFAULTS__,mF=()=>{if(typeof process>"u"||typeof GE>"u")return;const t=GE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Z2(t[1]);return e&&JSON.parse(e)},sm=()=>{try{return cF()||pF()||mF()||gF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},X2=t=>{var e,n;return(n=(e=sm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yF=t=>{const e=X2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},J2=()=>{var t;return(t=sm())===null||t===void 0?void 0:t.config},eI=t=>{var e;return(e=sm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){return t.endsWith(".cloudworkstations.dev")}async function tI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zf(JSON.stringify(n)),zf(JSON.stringify(a)),""].join(".")}const gu={};function wF(){const t={prod:[],emulator:[]};for(const e of Object.keys(gu))gu[e]?t.emulator.push(e):t.prod.push(e);return t}function bF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let KE=!1;function nI(t,e){if(typeof window>"u"||typeof document>"u"||!sc(window.location.host)||gu[t]===e||gu[t]||KE)return;gu[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=wF().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{KE=!0,a()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=bF(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),x=document.getElementById(y)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const N=m.element;l(N),h(x,y);const k=u();c(w,b),N.append(w,v,x,k),document.body.appendChild(N)}i?(v.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function NF(){var t;const e=(t=sm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _F(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jF(){const t=Zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kF(){return!NF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IF(){try{return typeof indexedDB=="object"}catch{return!1}}function TF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF="FirebaseError";class Ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PF,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nd.prototype.create)}}class Nd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?AF(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Ci(s,l,r)}}function AF(t,e){return t.replace(RF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const RF=/\{\$([^}]+)}/g;function LF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(QE(i)&&QE(a)){if(!fa(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function QE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Kc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Qc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MF(t,e){const n=new DF(t,e);return n.subscribe.bind(n)}class DF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Yg),s.error===void 0&&(s.error=Yg),s.complete===void 0&&(s.complete=Yg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class pa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($F(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FF(t){return t===Uo?void 0:t}function $F(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const zF={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},BF=ct.INFO,HF={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},WF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=HF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rx{constructor(e){this.name=e,this._logLevel=BF,this._logHandler=WF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const qF=(t,e)=>e.some(n=>t instanceof n);let YE,ZE;function GF(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KF(){return ZE||(ZE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rI=new WeakMap,_v=new WeakMap,sI=new WeakMap,Zg=new WeakMap,Lx=new WeakMap;function QF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(co(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&rI.set(n,t)}).catch(()=>{}),Lx.set(e,t),e}function YF(t){if(_v.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});_v.set(t,e)}let Sv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _v.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZF(t){Sv=t(Sv)}function XF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xg(this),e,...n);return sI.set(r,e.sort?e.sort():[e]),co(r)}:KF().includes(t)?function(...e){return t.apply(Xg(this),e),co(rI.get(this))}:function(...e){return co(t.apply(Xg(this),e))}}function JF(t){return typeof t=="function"?XF(t):(t instanceof IDBTransaction&&YF(t),qF(t,GF())?new Proxy(t,Sv):t)}function co(t){if(t instanceof IDBRequest)return QF(t);if(Zg.has(t))return Zg.get(t);const e=JF(t);return e!==t&&(Zg.set(t,e),Lx.set(e,t)),e}const Xg=t=>Lx.get(t);function e9(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=co(a);return r&&a.addEventListener("upgradeneeded",c=>{r(co(a.result),c.oldVersion,c.newVersion,co(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const t9=["get","getKey","getAll","getAllKeys","count"],n9=["put","add","delete","clear"],Jg=new Map;function XE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jg.get(e))return Jg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=n9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||t9.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Jg.set(e,i),i}ZF(t=>({...t,get:(e,n,r)=>XE(e,n)||t.get(e,n,r),has:(e,n)=>!!XE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jv="@firebase/app",JE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new Rx("@firebase/app"),i9="@firebase/app-compat",o9="@firebase/analytics-compat",a9="@firebase/analytics",l9="@firebase/app-check-compat",c9="@firebase/app-check",u9="@firebase/auth",d9="@firebase/auth-compat",h9="@firebase/database",f9="@firebase/data-connect",p9="@firebase/database-compat",m9="@firebase/functions",g9="@firebase/functions-compat",y9="@firebase/installations",v9="@firebase/installations-compat",x9="@firebase/messaging",w9="@firebase/messaging-compat",b9="@firebase/performance",E9="@firebase/performance-compat",N9="@firebase/remote-config",C9="@firebase/remote-config-compat",_9="@firebase/storage",S9="@firebase/storage-compat",j9="@firebase/firestore",k9="@firebase/ai",I9="@firebase/firestore-compat",T9="firebase",P9="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="[DEFAULT]",A9={[jv]:"fire-core",[i9]:"fire-core-compat",[a9]:"fire-analytics",[o9]:"fire-analytics-compat",[c9]:"fire-app-check",[l9]:"fire-app-check-compat",[u9]:"fire-auth",[d9]:"fire-auth-compat",[h9]:"fire-rtdb",[f9]:"fire-data-connect",[p9]:"fire-rtdb-compat",[m9]:"fire-fn",[g9]:"fire-fn-compat",[y9]:"fire-iid",[v9]:"fire-iid-compat",[x9]:"fire-fcm",[w9]:"fire-fcm-compat",[b9]:"fire-perf",[E9]:"fire-perf-compat",[N9]:"fire-rc",[C9]:"fire-rc-compat",[_9]:"fire-gcs",[S9]:"fire-gcs-compat",[j9]:"fire-fst",[I9]:"fire-fst-compat",[k9]:"fire-vertex","fire-js":"fire-js",[T9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new Map,R9=new Map,Iv=new Map;function eN(t,e){try{t.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $l(t){const e=t.name;if(Iv.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;Iv.set(e,t);for(const n of Bf.values())eN(n,t);for(const n of R9.values())eN(n,t);return!0}function Mx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new Nd("app","Firebase",L9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=P9;function iI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw uo.create("bad-app-name",{appName:String(s)});if(n||(n=J2()),!n)throw uo.create("no-options");const i=Bf.get(s);if(i){if(fa(n,i.options)&&fa(r,i.config))return i;throw uo.create("duplicate-app",{appName:s})}const a=new UF(s);for(const c of Iv.values())a.addComponent(c);const l=new M9(n,r,a);return Bf.set(s,l),l}function oI(t=kv){const e=Bf.get(t);if(!e&&t===kv&&J2())return iI();if(!e)throw uo.create("no-app",{appName:t});return e}function ho(t,e,n){var r;let s=(r=A9[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(l.join(" "));return}$l(new pa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="firebase-heartbeat-database",O9=1,Yu="firebase-heartbeat-store";let ey=null;function aI(){return ey||(ey=e9(D9,O9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw uo.create("idb-open",{originalErrorMessage:t.message})})),ey}async function V9(t){try{const n=(await aI()).transaction(Yu),r=await n.objectStore(Yu).get(lI(t));return await n.done,r}catch(e){if(e instanceof Ci)vi.warn(e.message);else{const n=uo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(n.message)}}}async function tN(t,e){try{const r=(await aI()).transaction(Yu,"readwrite");await r.objectStore(Yu).put(e,lI(t)),await r.done}catch(n){if(n instanceof Ci)vi.warn(n.message);else{const r=uo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vi.warn(r.message)}}}function lI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=1024,$9=30;class U9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>$9){const a=H9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nN(),{heartbeatsToSend:r,unsentEntries:s}=z9(this._heartbeatsCache.heartbeats),i=zf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return vi.warn(n),""}}}function nN(){return new Date().toISOString().substring(0,10)}function z9(t,e=F9){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),rN(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),rN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class B9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IF()?TF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return tN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return tN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rN(t){return zf(JSON.stringify({version:2,heartbeats:t})).length}function H9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t){$l(new pa("platform-logger",e=>new r9(e),"PRIVATE")),$l(new pa("heartbeat",e=>new U9(e),"PRIVATE")),ho(jv,JE,t),ho(jv,JE,"esm2017"),ho("fire-js","")}W9("");var q9="firebase",G9="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho(q9,G9,"app");var Ls=function(){return Ls=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ls.apply(this,arguments)};function Cd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function K9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function cI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q9=cI,uI=new Nd("auth","Firebase",cI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new Rx("@firebase/auth");function Y9(t,...e){Hf.logLevel<=ct.WARN&&Hf.warn(`Auth (${oc}): ${t}`,...e)}function Jh(t,...e){Hf.logLevel<=ct.ERROR&&Hf.error(`Auth (${oc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,...e){throw Ox(t,...e)}function yr(t,...e){return Ox(t,...e)}function Dx(t,e,n){const r=Object.assign(Object.assign({},Q9()),{[e]:n});return new Nd("auth","Firebase",r).create(e,{appName:t.name})}function Us(t){return Dx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qr(t,"argument-error"),Dx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ox(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uI.create(t,...e)}function Ce(t,e,...n){if(!t)throw Ox(e,...n)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jh(e),new Error(e)}function xi(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dI(){return sN()==="http:"||sN()==="https:"}function sN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dI()||_F()||"connection"in navigator)?navigator.onLine:!0}function J9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=EF()||SF()}get(){return X9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],n8=new _d(3e4,6e4);function xr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function wr(t,e,n,r,s={}){return fI(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=ic(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return CF()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&sc(t.emulatorConfig.host)&&(u.credentials="include"),hI.fetch()(await pI(t,t.config.apiHost,n,l),u)})}async function fI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},e8),e);try{const s=new s8(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Yc(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Yc(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Yc(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Dx(t,h,u);Qr(t,h)}}catch(s){if(s instanceof Ci)throw s;Qr(t,"network-request-failed",{message:String(s)})}}async function Io(t,e,n,r,s={}){const i=await wr(t,e,n,r,s);return"mfaPendingCredential"in i&&Qr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function pI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?Vx(t.config,s):`${t.config.apiScheme}://${s}`;return t8.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function r8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),n8.get())})}}function Yc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=yr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t){return t!==void 0&&t.getResponse!==void 0}function oN(t){return t!==void 0&&t.enterprise!==void 0}class mI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i8(t){return(await wr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function gI(t,e){return wr(t,"GET","/v2/recaptchaConfig",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o8(t,e){return wr(t,"POST","/v1/accounts:delete",e)}async function Wf(t,e){return wr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a8(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),s=Fx(r);Ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:yu(ty(s.auth_time)),issuedAtTime:yu(ty(s.iat)),expirationTime:yu(ty(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ty(t){return Number(t)*1e3}function Fx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Z2(n);return s?JSON.parse(s):(Jh("Failed to decode base64 JWT payload"),null)}catch(s){return Jh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function aN(t){const e=Fx(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ci&&l8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function l8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ma(t,Wf(n,{idToken:r}));Ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?yI(i.providerUserInfo):[],l=d8(t.providerData,a),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Pv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function u8(t){const e=Ft(t);await qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function d8(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function yI(t){return t.map(e=>{var{providerId:n}=e,r=Cd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h8(t,e){const n=await fI(t,{},async()=>{const r=ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await pI(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&sc(t.emulatorConfig.host)&&(c.credentials="include"),hI.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function f8(t,e){return wr(t,"POST","/v2/accounts:revokeToken",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=aN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await h8(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new ml;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ce(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Cd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new c8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Pv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ma(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return a8(this,e)}reload(){return u8(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(Us(this.auth));const e=await this.getIdToken();return await ma(this,o8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,u,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:N,emailVerified:k,isAnonymous:A,providerData:R,stsTokenManager:C}=n;Ce(N&&C,e,"internal-error");const _=ml.fromJSON(this.name,C);Ce(typeof N=="string",e,"internal-error"),Ti(p,e.name),Ti(m,e.name),Ce(typeof k=="boolean",e,"internal-error"),Ce(typeof A=="boolean",e,"internal-error"),Ti(g,e.name),Ti(v,e.name),Ti(y,e.name),Ti(x,e.name),Ti(b,e.name),Ti(w,e.name);const j=new cs({uid:N,auth:e,email:m,emailVerified:k,displayName:p,isAnonymous:A,photoURL:v,phoneNumber:g,tenantId:y,stsTokenManager:_,createdAt:b,lastLoginAt:w});return R&&Array.isArray(R)&&(j.providerData=R.map(T=>Object.assign({},T))),x&&(j._redirectEventId=x),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new ml;s.updateFromServerResponse(n);const i=new cs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await qf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?yI(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new ml;l.updateFromIdToken(r);const c=new cs({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Pv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Map;function ai(t){xi(t instanceof Function,"Expected a class definition");let e=lN.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vI.type="NONE";const cN=vI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t,e,n){return`firebase:${t}:${e}:${n}`}class gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ef(this.userKey,s.apiKey,i),this.fullPersistenceKey=ef("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wf(this.auth,{idToken:e}).catch(()=>{});return n?cs._fromGetAccountInfoResponse(this.auth,n,e):null}return cs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gl(ai(cN),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ai(cN);const a=ef(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(a);if(h){let p;if(typeof h=="string"){const m=await Wf(e,{idToken:h}).catch(()=>{});if(!m)break;p=await cs._fromGetAccountInfoResponse(e,m,h)}else p=cs._fromJSON(e,h);u!==i&&(l=p),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new gl(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new gl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CI(e))return"Blackberry";if(_I(e))return"Webos";if(wI(e))return"Safari";if((e.includes("chrome/")||bI(e))&&!e.includes("edge/"))return"Chrome";if(NI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xI(t=Zn()){return/firefox\//i.test(t)}function wI(t=Zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bI(t=Zn()){return/crios\//i.test(t)}function EI(t=Zn()){return/iemobile/i.test(t)}function NI(t=Zn()){return/android/i.test(t)}function CI(t=Zn()){return/blackberry/i.test(t)}function _I(t=Zn()){return/webos/i.test(t)}function $x(t=Zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p8(t=Zn()){var e;return $x(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function m8(){return jF()&&document.documentMode===10}function SI(t=Zn()){return $x(t)||NI(t)||_I(t)||CI(t)||/windows phone/i.test(t)||EI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t,e=[]){let n;switch(t){case"Browser":n=uN(Zn());break;case"Worker":n=`${uN(Zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y8(t,e={}){return wr(t,"GET","/v2/passwordPolicy",xr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=6;class x8{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:v8,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dN(this),this.idTokenSubscription=new dN(this),this.beforeStateQueue=new g8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wf(this,{idToken:e}),r=await cs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(Us(this));const n=e?Ft(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y8(this),n=new x8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await f8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ai(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Y9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Dr(t){return Ft(t)}class dN{constructor(e){this.auth=e,this.observer=null,this.addObserver=MF(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b8(t){Sd=t}function Ux(t){return Sd.loadJS(t)}function E8(){return Sd.recaptchaV2Script}function N8(){return Sd.recaptchaEnterpriseScript}function C8(){return Sd.gapiScript}function kI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=500,S8=6e4,jh=1e12;class j8{constructor(e){this.auth=e,this.counter=jh,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new T8(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||jh;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||jh;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||jh;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class k8{constructor(){this.enterprise=new I8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class I8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class T8{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;Ce(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=P8(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},S8)},_8))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function P8(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const A8="recaptcha-enterprise",vu="NO_RECAPTCHA";class II{constructor(e){this.type=A8,this.auth=Dr(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{gI(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new mI(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;oN(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(vu)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new k8().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&oN(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=N8();c.length!==0&&(c+=l),Ux(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function $c(t,e,n,r=!1,s=!1){const i=new II(t);let a;if(s)a=vu;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function yl(t,e,n,r,s){var i,a;if(s==="EMAIL_PASSWORD_PROVIDER")if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await $c(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await $c(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)});else if(s==="PHONE_PROVIDER")if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("PHONE_PROVIDER")){const l=await $c(t,e,n);return r(t,l).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await $c(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)})}else{const l=await $c(t,e,n,!1,!0);return r(t,l)}else return Promise.reject(s+" provider is not supported.")}async function R8(t){const e=Dr(t),n=await gI(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new mI(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new II(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t,e){const n=Mx(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(fa(i,e??{}))return s;Qr(s,"already-initialized")}return n.initialize({options:e})}function M8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function D8(t,e,n){const r=Dr(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=TI(e),{host:a,port:l}=O8(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(fa(u,r.config.emulator)&&fa(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,sc(a)?(tI(`${i}//${a}${c}`),nI("Auth",!0)):V8()}function TI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function O8(t){const e=TI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:hN(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:hN(a)}}}function hN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function F8(t,e){return wr(t,"POST","/v1/accounts:update",e)}async function $8(t,e){return wr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(t,e){return Io(t,"POST","/v1/accounts:signInWithPassword",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(t,e){return Io(t,"POST","/v1/accounts:signInWithEmailLink",xr(t,e))}async function B8(t,e){return Io(t,"POST","/v1/accounts:signInWithEmailLink",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends im{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Zu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yl(e,n,"signInWithPassword",U8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return z8(e,{email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yl(e,r,"signUpPassword",$8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return B8(e,{idToken:n,email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t,e){return Io(t,"POST","/v1/accounts:signInWithIdp",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8="http://localhost";class ga extends im{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Cd(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new ga(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return vl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vl(e,n)}buildRequest(){const e={requestUri:H8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ic(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(t,e){return wr(t,"POST","/v1/accounts:sendVerificationCode",xr(t,e))}async function W8(t,e){return Io(t,"POST","/v1/accounts:signInWithPhoneNumber",xr(t,e))}async function q8(t,e){const n=await Io(t,"POST","/v1/accounts:signInWithPhoneNumber",xr(t,e));if(n.temporaryProof)throw Yc(t,"account-exists-with-different-credential",n);return n}const G8={USER_NOT_FOUND:"user-not-found"};async function K8(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Io(t,"POST","/v1/accounts:signInWithPhoneNumber",xr(t,n),G8)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends im{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new ra({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new ra({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return W8(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return q8(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return K8(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i}=e;return!r&&!n&&!s&&!i?null:new ra({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y8(t){const e=Kc(Qc(t)).link,n=e?Kc(Qc(e)).deep_link_id:null,r=Kc(Qc(t)).deep_link_id;return(r?Kc(Qc(r)).link:null)||r||n||e||t}class zx{constructor(e){var n,r,s,i,a,l;const c=Kc(Qc(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=Q8((s=c.mode)!==null&&s!==void 0?s:null);Ce(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Y8(e);try{return new zx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.providerId=ka.PROVIDER_ID}static credential(e,n){return Zu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zx.parseLink(n);return Ce(r,"argument-error"),Zu._fromEmailAndCode(e,r.code,r.tenantId)}}ka.PROVIDER_ID="password";ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Bx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends jd{constructor(){super("facebook.com")}static credential(e){return ga._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends jd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ga._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ri.credential(n,r)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends jd{constructor(){super("github.com")}static credential(e){return ga._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends jd{constructor(){super("twitter.com")}static credential(e,n){return ga._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ui.credential(n,r)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(t,e){return Io(t,"POST","/v1/accounts:signUp",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await cs._fromIdTokenResponse(e,r,s),a=pN(r);return new ya({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=pN(r);return new ya({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function pN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends Ci{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Gf(e,n,r,s)}}function PI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(t,i,e,r):i})}async function X8(t,e,n=!1){const r=await ma(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ya._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(Us(r));const s="reauthenticate";try{const i=await ma(t,PI(r,s,e,t),n);Ce(i.idToken,r,"internal-error");const a=Fx(i.idToken);Ce(a,r,"internal-error");const{sub:l}=a;return Ce(t.uid===l,r,"user-mismatch"),ya._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(t,e,n=!1){if(ur(t.app))return Promise.reject(Us(t));const r="signIn",s=await PI(t,r,e),i=await ya._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function LI(t,e){return RI(Dr(t),e)}async function J8(t,e){return AI(Ft(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(t){const e=Dr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function e$(t,e,n){if(ur(t.app))return Promise.reject(Us(t));const r=Dr(t),a=await yl(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Z8,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&MI(t),c}),l=await ya._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function t$(t,e,n){return ur(t.app)?Promise.reject(Us(t)):LI(Ft(t),ka.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&MI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n$(t,e){return wr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ft(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await ma(r,n$(r.auth,i));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function r$(t,e){return s$(Ft(t),null,e)}async function s$(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const a=await ma(t,F8(r,i));await t._updateTokensIfNecessary(a,!0)}function i$(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function o$(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function kd(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function OI(t){return Ft(t).signOut()}async function a$(t){return Ft(t).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t,e){return wr(t,"POST","/v2/accounts/mfaEnrollment:start",xr(t,e))}const Kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kf,"1"),this.storage.removeItem(Kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=1e3,c$=10;class FI extends VI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);m8()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,c$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},l$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FI.type="LOCAL";const u$=FI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I extends VI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$I.type="SESSION";const UI=$I;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new om(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await d$(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=Hx("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function f$(t){ln().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function p$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function g$(){return Wx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="firebaseLocalStorageDb",y$=1,Qf="firebaseLocalStorage",BI="fbase_key";class Id{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function am(t,e){return t.transaction([Qf],e?"readwrite":"readonly").objectStore(Qf)}function v$(){const t=indexedDB.deleteDatabase(zI);return new Id(t).toPromise()}function Av(){const t=indexedDB.open(zI,y$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qf,{keyPath:BI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qf)?e(r):(r.close(),await v$(),e(await Av()))})})}async function gN(t,e,n){const r=am(t,!0).put({[BI]:e,value:n});return new Id(r).toPromise()}async function x$(t,e){const n=am(t,!1).get(e),r=await new Id(n).toPromise();return r===void 0?null:r.value}function yN(t,e){const n=am(t,!0).delete(e);return new Id(n).toPromise()}const w$=800,b$=3;class HI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Av(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>b$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=om._getInstance(g$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await p$(),!this.activeServiceWorker)return;this.sender=new h$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||m$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Av();return await gN(e,Kf,"1"),await yN(e,Kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>x$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=am(s,!1).getAll();return new Id(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HI.type="LOCAL";const E$=HI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t,e){return wr(t,"POST","/v2/accounts/mfaSignIn:start",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=kI("rcb"),N$=new _d(3e4,6e4);class C${constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ln().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Ce(_$(n),e,"argument-error"),this.shouldResolveImmediately(n)&&iN(ln().grecaptcha)?Promise.resolve(ln().grecaptcha):new Promise((r,s)=>{const i=ln().setTimeout(()=>{s(yr(e,"network-request-failed"))},N$.get());ln()[ny]=()=>{ln().clearTimeout(i),delete ln()[ny];const l=ln().grecaptcha;if(!l||!iN(l)){s(yr(e,"internal-error"));return}const c=l.render;l.render=(u,h)=>{const p=c(u,h);return this.counter++,p},this.hostLanguage=n,r(l)};const a=`${E8()}?${ic({onload:ny,render:"explicit",hl:n})}`;Ux(a).catch(()=>{clearTimeout(i),s(yr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=ln().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function _$(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class S${async load(e){return new j8(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu="recaptcha",j$={theme:"light",type:"image"};class k${constructor(e,n,r=Object.assign({},j$)){this.parameters=r,this.type=xu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dr(e),this.isInvisible=this.parameters.size==="invisible",Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;Ce(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new S$:new C$,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(s=>{const i=a=>{a&&(this.tokenChangeListeners.delete(i),s(a))};this.tokenChangeListeners.add(i),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=ln()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ce(dI()&&!Wx(),this.auth,"internal-error"),await I$(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await i8(this.auth);Ce(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function I$(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=ra._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function xN(t,e,n){if(ur(t.app))return Promise.reject(Us(t));const r=Dr(t),s=await WI(r,e,Ft(n));return new T$(s,i=>LI(r,i))}async function WI(t,e,n){var r;if(!t._getRecaptchaConfig())try{await R8(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const i=s.session;if("phoneNumber"in s){Ce(i.type==="enroll",t,"internal-error");const a={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await yl(t,a,"mfaSmsEnrollment",async(h,p)=>{if(p.phoneEnrollmentInfo.captchaResponse===vu){Ce((n==null?void 0:n.type)===xu,h,"argument-error");const m=await ry(h,p,n);return mN(h,m)}return mN(h,p)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{Ce(i.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;Ce(a,t,"missing-multi-factor-info");const l={mfaPendingCredential:i.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await yl(t,l,"mfaSmsSignIn",async(p,m)=>{if(m.phoneSignInInfo.captchaResponse===vu){Ce((n==null?void 0:n.type)===xu,p,"argument-error");const g=await ry(p,m,n);return vN(p,g)}return vN(p,m)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await yl(t,i,"sendVerificationCode",async(u,h)=>{if(h.captchaResponse===vu){Ce((n==null?void 0:n.type)===xu,u,"argument-error");const p=await ry(u,h,n);return fN(u,p)}return fN(u,h)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function ry(t,e,n){Ce(n.type===xu,t,"argument-error");const r=await n.verify();Ce(typeof r=="string",t,"argument-error");const s=Object.assign({},e);if("phoneEnrollmentInfo"in s){const i=s.phoneEnrollmentInfo.phoneNumber,a=s.phoneEnrollmentInfo.captchaResponse,l=s.phoneEnrollmentInfo.clientType,c=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:r,captchaResponse:a,clientType:l,recaptchaVersion:c}}),s}else if("phoneSignInInfo"in s){const i=s.phoneSignInInfo.captchaResponse,a=s.phoneSignInInfo.clientType,l=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:i,clientType:a,recaptchaVersion:l}}),s}else return Object.assign(s,{recaptchaToken:r}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.providerId=sa.PROVIDER_ID,this.auth=Dr(e)}verifyPhoneNumber(e,n){return WI(this.auth,e,Ft(n))}static credential(e,n){return ra._fromVerification(e,n)}static credentialFromResult(e){const n=e;return sa.credentialFromTaggedObject(n)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?ra._fromTokenResponse(n,r):null}}sa.PROVIDER_ID="phone";sa.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t,e){return e?ai(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx extends im{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function P$(t){return RI(t.auth,new qx(t),t.bypassAuthState)}function A$(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),AI(n,new qx(t),t.bypassAuthState)}async function R$(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),X8(n,new qx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P$;case"linkViaPopup":case"linkViaRedirect":return R$;case"reauthViaPopup":case"reauthViaRedirect":return A$;default:Qr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=new _d(2e3,1e4);async function M$(t,e,n){if(ur(t.app))return Promise.reject(yr(t,"operation-not-supported-in-this-environment"));const r=Dr(t);Z9(t,e,Bx);const s=qI(r,n);return new qo(r,"signInViaPopup",e,s).executeNotNull()}class qo extends GI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Hx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,L$.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$="pendingRedirect",tf=new Map;class O$ extends GI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tf.get(this.auth._key());if(!e){try{const r=await V$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tf.set(this.auth._key(),e)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V$(t,e){const n=U$(e),r=$$(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function F$(t,e){tf.set(t._key(),e)}function $$(t){return ai(t._redirectPersistence)}function U$(t){return ef(D$,t.config.apiKey,t.name)}async function z$(t,e){return await Dr(t)._initializationPromise,KI(t,e,!1)}async function KI(t,e,n=!1){if(ur(t.app))return Promise.reject(Us(t));const r=Dr(t),s=qI(r,e),a=await new O$(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=10*60*1e3;class H${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B$&&this.cachedEventUids.clear(),this.cachedEventUids.has(wN(e))}saveEventToCache(e){this.cachedEventUids.add(wN(e)),this.lastProcessedEventTime=Date.now()}}function wN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function W$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$(t,e={}){return wr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K$=/^https?/;async function Q$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await q$(t);for(const n of e)try{if(Y$(n))return}catch{}Qr(t,"unauthorized-domain")}function Y$(t){const e=Tv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!K$.test(n))return!1;if(G$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=new _d(3e4,6e4);function bN(){const t=ln().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function X$(t){return new Promise((e,n)=>{var r,s,i;function a(){bN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bN(),n(yr(t,"network-request-failed"))},timeout:Z$.get()})}if(!((s=(r=ln().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ln().gapi)===null||i===void 0)&&i.load)a();else{const l=kI("iframefcb");return ln()[l]=()=>{gapi.load?a():n(yr(t,"network-request-failed"))},Ux(`${C8()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw nf=null,e})}let nf=null;function J$(t){return nf=nf||X$(t),nf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=new _d(5e3,15e3),t7="__/auth/iframe",n7="emulator/auth/iframe",r7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i7(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vx(e,n7):`https://${t.config.authDomain}/${t7}`,r={apiKey:e.apiKey,appName:t.name,v:oc},s=s7.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ic(r).slice(1)}`}async function o7(t){const e=await J$(t),n=ln().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:i7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r7,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=yr(t,"network-request-failed"),l=ln().setTimeout(()=>{i(a)},e7.get());function c(){ln().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l7=500,c7=600,u7="_blank",d7="http://localhost";class EN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h7(t,e,n,r=l7,s=c7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},a7),{width:r.toString(),height:s.toString(),top:i,left:a}),u=Zn().toLowerCase();n&&(l=bI(u)?u7:n),xI(u)&&(e=e||d7,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[g,v])=>`${m}${g}=${v},`,"");if(p8(u)&&l!=="_self")return f7(e||"",l),new EN(null);const p=window.open(e||"",l,h);Ce(p,t,"popup-blocked");try{p.focus()}catch{}return new EN(p)}function f7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7="__/auth/handler",m7="emulator/auth/handler",g7=encodeURIComponent("fac");async function NN(t,e,n,r,s,i){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oc,eventId:s};if(e instanceof Bx){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",LF(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof jd){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${g7}=${encodeURIComponent(c)}`:"";return`${y7(t)}?${ic(l).slice(1)}${u}`}function y7({config:t}){return t.emulator?Vx(t,m7):`https://${t.authDomain}/${p7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="webStorageSupport";class v7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UI,this._completeRedirectFn=KI,this._overrideRedirectResult=F$}async _openPopup(e,n,r,s){var i;xi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await NN(e,n,r,Tv(),s);return h7(e,a,Hx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await NN(e,n,r,Tv(),s);return f$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(xi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await o7(e),r=new H$(e);return n.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sy,{type:sy},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[sy];a!==void 0&&n(!!a),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SI()||wI()||$x()}}const x7=v7;var CN="@firebase/auth",_N="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E7(t){$l(new pa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ce(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jI(t)},u=new w8(r,s,i,c);return M8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$l(new pa("auth-internal",e=>{const n=Dr(e.getProvider("auth").getImmediate());return(r=>new w7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(CN,_N,b7(t)),ho(CN,_N,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=5*60,C7=eI("authIdTokenMaxAge")||N7;let SN=null;const _7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>C7)return;const s=n==null?void 0:n.token;SN!==s&&(SN=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function S7(t=oI()){const e=Mx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=L8(t,{popupRedirectResolver:x7,persistence:[E$,u$,UI]}),r=eI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=_7(i.toString());o$(n,a,()=>a(n.currentUser)),i$(n,l=>a(l))}}const s=X2("auth");return s&&D8(n,`http://${s}`),n}function j7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}b8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=yr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",j7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E7("Browser");var jN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,YI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function j(){}j.prototype=_.prototype,C.D=_.prototype,C.prototype=new j,C.prototype.constructor=C,C.C=function(T,I,P){for(var L=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)L[Z-2]=arguments[Z];return _.prototype[I].apply(T,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,_,j){j||(j=0);var T=Array(16);if(typeof _=="string")for(var I=0;16>I;++I)T[I]=_.charCodeAt(j++)|_.charCodeAt(j++)<<8|_.charCodeAt(j++)<<16|_.charCodeAt(j++)<<24;else for(I=0;16>I;++I)T[I]=_[j++]|_[j++]<<8|_[j++]<<16|_[j++]<<24;_=C.g[0],j=C.g[1],I=C.g[2];var P=C.g[3],L=_+(P^j&(I^P))+T[0]+3614090360&4294967295;_=j+(L<<7&4294967295|L>>>25),L=P+(I^_&(j^I))+T[1]+3905402710&4294967295,P=_+(L<<12&4294967295|L>>>20),L=I+(j^P&(_^j))+T[2]+606105819&4294967295,I=P+(L<<17&4294967295|L>>>15),L=j+(_^I&(P^_))+T[3]+3250441966&4294967295,j=I+(L<<22&4294967295|L>>>10),L=_+(P^j&(I^P))+T[4]+4118548399&4294967295,_=j+(L<<7&4294967295|L>>>25),L=P+(I^_&(j^I))+T[5]+1200080426&4294967295,P=_+(L<<12&4294967295|L>>>20),L=I+(j^P&(_^j))+T[6]+2821735955&4294967295,I=P+(L<<17&4294967295|L>>>15),L=j+(_^I&(P^_))+T[7]+4249261313&4294967295,j=I+(L<<22&4294967295|L>>>10),L=_+(P^j&(I^P))+T[8]+1770035416&4294967295,_=j+(L<<7&4294967295|L>>>25),L=P+(I^_&(j^I))+T[9]+2336552879&4294967295,P=_+(L<<12&4294967295|L>>>20),L=I+(j^P&(_^j))+T[10]+4294925233&4294967295,I=P+(L<<17&4294967295|L>>>15),L=j+(_^I&(P^_))+T[11]+2304563134&4294967295,j=I+(L<<22&4294967295|L>>>10),L=_+(P^j&(I^P))+T[12]+1804603682&4294967295,_=j+(L<<7&4294967295|L>>>25),L=P+(I^_&(j^I))+T[13]+4254626195&4294967295,P=_+(L<<12&4294967295|L>>>20),L=I+(j^P&(_^j))+T[14]+2792965006&4294967295,I=P+(L<<17&4294967295|L>>>15),L=j+(_^I&(P^_))+T[15]+1236535329&4294967295,j=I+(L<<22&4294967295|L>>>10),L=_+(I^P&(j^I))+T[1]+4129170786&4294967295,_=j+(L<<5&4294967295|L>>>27),L=P+(j^I&(_^j))+T[6]+3225465664&4294967295,P=_+(L<<9&4294967295|L>>>23),L=I+(_^j&(P^_))+T[11]+643717713&4294967295,I=P+(L<<14&4294967295|L>>>18),L=j+(P^_&(I^P))+T[0]+3921069994&4294967295,j=I+(L<<20&4294967295|L>>>12),L=_+(I^P&(j^I))+T[5]+3593408605&4294967295,_=j+(L<<5&4294967295|L>>>27),L=P+(j^I&(_^j))+T[10]+38016083&4294967295,P=_+(L<<9&4294967295|L>>>23),L=I+(_^j&(P^_))+T[15]+3634488961&4294967295,I=P+(L<<14&4294967295|L>>>18),L=j+(P^_&(I^P))+T[4]+3889429448&4294967295,j=I+(L<<20&4294967295|L>>>12),L=_+(I^P&(j^I))+T[9]+568446438&4294967295,_=j+(L<<5&4294967295|L>>>27),L=P+(j^I&(_^j))+T[14]+3275163606&4294967295,P=_+(L<<9&4294967295|L>>>23),L=I+(_^j&(P^_))+T[3]+4107603335&4294967295,I=P+(L<<14&4294967295|L>>>18),L=j+(P^_&(I^P))+T[8]+1163531501&4294967295,j=I+(L<<20&4294967295|L>>>12),L=_+(I^P&(j^I))+T[13]+2850285829&4294967295,_=j+(L<<5&4294967295|L>>>27),L=P+(j^I&(_^j))+T[2]+4243563512&4294967295,P=_+(L<<9&4294967295|L>>>23),L=I+(_^j&(P^_))+T[7]+1735328473&4294967295,I=P+(L<<14&4294967295|L>>>18),L=j+(P^_&(I^P))+T[12]+2368359562&4294967295,j=I+(L<<20&4294967295|L>>>12),L=_+(j^I^P)+T[5]+4294588738&4294967295,_=j+(L<<4&4294967295|L>>>28),L=P+(_^j^I)+T[8]+2272392833&4294967295,P=_+(L<<11&4294967295|L>>>21),L=I+(P^_^j)+T[11]+1839030562&4294967295,I=P+(L<<16&4294967295|L>>>16),L=j+(I^P^_)+T[14]+4259657740&4294967295,j=I+(L<<23&4294967295|L>>>9),L=_+(j^I^P)+T[1]+2763975236&4294967295,_=j+(L<<4&4294967295|L>>>28),L=P+(_^j^I)+T[4]+1272893353&4294967295,P=_+(L<<11&4294967295|L>>>21),L=I+(P^_^j)+T[7]+4139469664&4294967295,I=P+(L<<16&4294967295|L>>>16),L=j+(I^P^_)+T[10]+3200236656&4294967295,j=I+(L<<23&4294967295|L>>>9),L=_+(j^I^P)+T[13]+681279174&4294967295,_=j+(L<<4&4294967295|L>>>28),L=P+(_^j^I)+T[0]+3936430074&4294967295,P=_+(L<<11&4294967295|L>>>21),L=I+(P^_^j)+T[3]+3572445317&4294967295,I=P+(L<<16&4294967295|L>>>16),L=j+(I^P^_)+T[6]+76029189&4294967295,j=I+(L<<23&4294967295|L>>>9),L=_+(j^I^P)+T[9]+3654602809&4294967295,_=j+(L<<4&4294967295|L>>>28),L=P+(_^j^I)+T[12]+3873151461&4294967295,P=_+(L<<11&4294967295|L>>>21),L=I+(P^_^j)+T[15]+530742520&4294967295,I=P+(L<<16&4294967295|L>>>16),L=j+(I^P^_)+T[2]+3299628645&4294967295,j=I+(L<<23&4294967295|L>>>9),L=_+(I^(j|~P))+T[0]+4096336452&4294967295,_=j+(L<<6&4294967295|L>>>26),L=P+(j^(_|~I))+T[7]+1126891415&4294967295,P=_+(L<<10&4294967295|L>>>22),L=I+(_^(P|~j))+T[14]+2878612391&4294967295,I=P+(L<<15&4294967295|L>>>17),L=j+(P^(I|~_))+T[5]+4237533241&4294967295,j=I+(L<<21&4294967295|L>>>11),L=_+(I^(j|~P))+T[12]+1700485571&4294967295,_=j+(L<<6&4294967295|L>>>26),L=P+(j^(_|~I))+T[3]+2399980690&4294967295,P=_+(L<<10&4294967295|L>>>22),L=I+(_^(P|~j))+T[10]+4293915773&4294967295,I=P+(L<<15&4294967295|L>>>17),L=j+(P^(I|~_))+T[1]+2240044497&4294967295,j=I+(L<<21&4294967295|L>>>11),L=_+(I^(j|~P))+T[8]+1873313359&4294967295,_=j+(L<<6&4294967295|L>>>26),L=P+(j^(_|~I))+T[15]+4264355552&4294967295,P=_+(L<<10&4294967295|L>>>22),L=I+(_^(P|~j))+T[6]+2734768916&4294967295,I=P+(L<<15&4294967295|L>>>17),L=j+(P^(I|~_))+T[13]+1309151649&4294967295,j=I+(L<<21&4294967295|L>>>11),L=_+(I^(j|~P))+T[4]+4149444226&4294967295,_=j+(L<<6&4294967295|L>>>26),L=P+(j^(_|~I))+T[11]+3174756917&4294967295,P=_+(L<<10&4294967295|L>>>22),L=I+(_^(P|~j))+T[2]+718787259&4294967295,I=P+(L<<15&4294967295|L>>>17),L=j+(P^(I|~_))+T[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(I+(L<<21&4294967295|L>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+P&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var j=_-this.blockSize,T=this.B,I=this.h,P=0;P<_;){if(I==0)for(;P<=j;)s(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<_;)if(T[I++]=C.charCodeAt(P++),I==this.blockSize){s(this,T),I=0;break}}else for(;P<_;)if(T[I++]=C[P++],I==this.blockSize){s(this,T),I=0;break}}this.h=I,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var j=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=j&255,j/=256;for(this.u(C),C=Array(16),_=j=0;4>_;++_)for(var T=0;32>T;T+=8)C[j++]=this.g[_]>>>T&255;return C};function i(C,_){var j=l;return Object.prototype.hasOwnProperty.call(j,C)?j[C]:j[C]=_(C)}function a(C,_){this.h=_;for(var j=[],T=!0,I=C.length-1;0<=I;I--){var P=C[I]|0;T&&P==_||(j[I]=P,T=!1)}this.g=j}var l={};function c(C){return-128<=C&&128>C?i(C,function(_){return new a([_|0],0>_?-1:0)}):new a([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return x(u(-C));for(var _=[],j=1,T=0;C>=j;T++)_[T]=C/j|0,j*=4294967296;return new a(_,0)}function h(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return x(h(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=u(Math.pow(_,8)),T=p,I=0;I<C.length;I+=8){var P=Math.min(8,C.length-I),L=parseInt(C.substring(I,I+P),_);8>P?(P=u(Math.pow(_,P)),T=T.j(P).add(u(L))):(T=T.j(j),T=T.add(u(L)))}return T}var p=c(0),m=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(y(this))return-x(this).m();for(var C=0,_=1,j=0;j<this.g.length;j++){var T=this.i(j);C+=(0<=T?T:4294967296+T)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(y(this))return"-"+x(this).toString(C);for(var _=u(Math.pow(C,6)),j=this,T="";;){var I=k(j,_).g;j=b(j,I.j(_));var P=((0<j.g.length?j.g[0]:j.h)>>>0).toString(C);if(j=I,v(j))return P+T;for(;6>P.length;)P="0"+P;T=P+T}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=b(this,C),y(C)?-1:v(C)?0:1};function x(C){for(var _=C.g.length,j=[],T=0;T<_;T++)j[T]=~C.g[T];return new a(j,~C.h).add(m)}t.abs=function(){return y(this)?x(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),j=[],T=0,I=0;I<=_;I++){var P=T+(this.i(I)&65535)+(C.i(I)&65535),L=(P>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);T=L>>>16,P&=65535,L&=65535,j[I]=L<<16|P}return new a(j,j[j.length-1]&-2147483648?-1:0)};function b(C,_){return C.add(x(_))}t.j=function(C){if(v(this)||v(C))return p;if(y(this))return y(C)?x(this).j(x(C)):x(x(this).j(C));if(y(C))return x(this.j(x(C)));if(0>this.l(g)&&0>C.l(g))return u(this.m()*C.m());for(var _=this.g.length+C.g.length,j=[],T=0;T<2*_;T++)j[T]=0;for(T=0;T<this.g.length;T++)for(var I=0;I<C.g.length;I++){var P=this.i(T)>>>16,L=this.i(T)&65535,Z=C.i(I)>>>16,U=C.i(I)&65535;j[2*T+2*I]+=L*U,w(j,2*T+2*I),j[2*T+2*I+1]+=P*U,w(j,2*T+2*I+1),j[2*T+2*I+1]+=L*Z,w(j,2*T+2*I+1),j[2*T+2*I+2]+=P*Z,w(j,2*T+2*I+2)}for(T=0;T<_;T++)j[T]=j[2*T+1]<<16|j[2*T];for(T=_;T<2*_;T++)j[T]=0;return new a(j,0)};function w(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function N(C,_){this.g=C,this.h=_}function k(C,_){if(v(_))throw Error("division by zero");if(v(C))return new N(p,p);if(y(C))return _=k(x(C),_),new N(x(_.g),x(_.h));if(y(_))return _=k(C,x(_)),new N(x(_.g),_.h);if(30<C.g.length){if(y(C)||y(_))throw Error("slowDivide_ only works with positive integers.");for(var j=m,T=_;0>=T.l(C);)j=A(j),T=A(T);var I=R(j,1),P=R(T,1);for(T=R(T,2),j=R(j,2);!v(T);){var L=P.add(T);0>=L.l(C)&&(I=I.add(j),P=L),T=R(T,1),j=R(j,1)}return _=b(C,I.j(_)),new N(I,_)}for(I=p;0<=C.l(_);){for(j=Math.max(1,Math.floor(C.m()/_.m())),T=Math.ceil(Math.log(j)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),P=u(j),L=P.j(_);y(L)||0<L.l(C);)j-=T,P=u(j),L=P.j(_);v(P)&&(P=m),I=I.add(P),C=b(C,L)}return new N(I,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),j=[],T=0;T<_;T++)j[T]=this.i(T)&C.i(T);return new a(j,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),j=[],T=0;T<_;T++)j[T]=this.i(T)|C.i(T);return new a(j,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),j=[],T=0;T<_;T++)j[T]=this.i(T)^C.i(T);return new a(j,this.h^C.h)};function A(C){for(var _=C.g.length+1,j=[],T=0;T<_;T++)j[T]=C.i(T)<<1|C.i(T-1)>>>31;return new a(j,C.h)}function R(C,_){var j=_>>5;_%=32;for(var T=C.g.length-j,I=[],P=0;P<T;P++)I[P]=0<_?C.i(P+j)>>>_|C.i(P+j+1)<<32-_:C.i(P+j);return new a(I,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YI=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,fo=a}).apply(typeof jN<"u"?jN:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZI,Zc,XI,rf,Rv,JI,eT,tT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,S){return f==Array.prototype||f==Object.prototype||(f[E]=S.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var E=0;E<f.length;++E){var S=f[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(f,E){if(E)e:{var S=r;f=f.split(".");for(var M=0;M<f.length-1;M++){var Q=f[M];if(!(Q in S))break e;S=S[Q]}f=f[f.length-1],M=S[f],E=E(M),E!=M&&E!=null&&e(S,f,{configurable:!0,writable:!0,value:E})}}function i(f,E){f instanceof String&&(f+="");var S=0,M=!1,Q={next:function(){if(!M&&S<f.length){var te=S++;return{value:E(te,f[te]),done:!1}}return M=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(f){return f||function(){return i(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function u(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function h(f,E,S){return f.call.apply(f.bind,arguments)}function p(f,E,S){if(!f)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,M),f.apply(E,Q)}}return function(){return f.apply(E,arguments)}}function m(f,E,S){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function g(f,E){var S=Array.prototype.slice.call(arguments,1);return function(){var M=S.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function v(f,E){function S(){}S.prototype=E.prototype,f.aa=E.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(M,Q,te){for(var pe=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)pe[Pt-2]=arguments[Pt];return E.prototype[Q].apply(M,pe)}}function y(f){const E=f.length;if(0<E){const S=Array(E);for(let M=0;M<E;M++)S[M]=f[M];return S}return[]}function x(f,E){for(let S=1;S<arguments.length;S++){const M=arguments[S];if(c(M)){const Q=f.length||0,te=M.length||0;f.length=Q+te;for(let pe=0;pe<te;pe++)f[Q+pe]=M[pe]}else f.push(M)}}class b{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function w(f){return/^[\s\xa0]*$/.test(f)}function N(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function k(f){return k[" "](f),f}k[" "]=function(){};var A=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function R(f,E,S){for(const M in f)E.call(S,f[M],M,f)}function C(f,E){for(const S in f)E.call(void 0,f[S],S,f)}function _(f){const E={};for(const S in f)E[S]=f[S];return E}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(f,E){let S,M;for(let Q=1;Q<arguments.length;Q++){M=arguments[Q];for(S in M)f[S]=M[S];for(let te=0;te<j.length;te++)S=j[te],Object.prototype.hasOwnProperty.call(M,S)&&(f[S]=M[S])}}function I(f){var E=1;f=f.split(":");const S=[];for(;0<E&&f.length;)S.push(f.shift()),E--;return f.length&&S.push(f.join(":")),S}function P(f){l.setTimeout(()=>{throw f},0)}function L(){var f=D;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class Z{constructor(){this.h=this.g=null}add(E,S){const M=U.get();M.set(E,S),this.h?this.h.next=M:this.g=M,this.h=M}}var U=new b(()=>new F,f=>f.reset());class F{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let K,V=!1,D=new Z,$=()=>{const f=l.Promise.resolve(void 0);K=()=>{f.then(B)}};var B=()=>{for(var f;f=L();){try{f.h.call(f.g)}catch(S){P(S)}var E=U;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}V=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};l.addEventListener("test",S,E),l.removeEventListener("test",S,E)}catch{}return f}();function q(f,E){if(H.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(A){e:{try{k(E.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(E=null)}}else S=="mouseover"?E=f.fromElement:S=="mouseout"&&(E=f.toElement);this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:fe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&q.aa.h.call(this)}}v(q,H);var fe={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),ce=0;function ve(f,E,S,M,Q){this.listener=f,this.proxy=null,this.src=E,this.type=S,this.capture=!!M,this.ha=Q,this.key=++ce,this.da=this.fa=!1}function X(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f){this.src=f,this.g={},this.h=0}ne.prototype.add=function(f,E,S,M,Q){var te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);var pe=ge(f,E,M,Q);return-1<pe?(E=f[pe],S||(E.fa=!1)):(E=new ve(E,this.src,te,!!M,Q),E.fa=S,f.push(E)),E};function se(f,E){var S=E.type;if(S in f.g){var M=f.g[S],Q=Array.prototype.indexOf.call(M,E,void 0),te;(te=0<=Q)&&Array.prototype.splice.call(M,Q,1),te&&(X(E),f.g[S].length==0&&(delete f.g[S],f.h--))}}function ge(f,E,S,M){for(var Q=0;Q<f.length;++Q){var te=f[Q];if(!te.da&&te.listener==E&&te.capture==!!S&&te.ha==M)return Q}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),Ee={};function at(f,E,S,M,Q){if(Array.isArray(E)){for(var te=0;te<E.length;te++)at(f,E[te],S,M,Q);return null}return S=sn(S),f&&f[ee]?f.K(E,S,u(M)?!!M.capture:!1,Q):ue(f,E,S,!1,M,Q)}function ue(f,E,S,M,Q,te){if(!E)throw Error("Invalid event type");var pe=u(Q)?!!Q.capture:!!Q,Pt=$e(f);if(Pt||(f[Me]=Pt=new ne(f)),S=Pt.add(E,S,M,pe,te),S.proxy)return S;if(M=Fe(),S.proxy=M,M.src=f,M.listener=S,f.addEventListener)ie||(Q=pe),Q===void 0&&(Q=!1),f.addEventListener(E.toString(),M,Q);else if(f.attachEvent)f.attachEvent(rt(E.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Fe(){function f(S){return E.call(f.src,f.listener,S)}const E=et;return f}function We(f,E,S,M,Q){if(Array.isArray(E))for(var te=0;te<E.length;te++)We(f,E[te],S,M,Q);else M=u(M)?!!M.capture:!!M,S=sn(S),f&&f[ee]?(f=f.i,E=String(E).toString(),E in f.g&&(te=f.g[E],S=ge(te,S,M,Q),-1<S&&(X(te[S]),Array.prototype.splice.call(te,S,1),te.length==0&&(delete f.g[E],f.h--)))):f&&(f=$e(f))&&(E=f.g[E.toString()],f=-1,E&&(f=ge(E,S,M,Q)),(S=-1<f?E[f]:null)&&_t(S))}function _t(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[ee])se(E.i,f);else{var S=f.type,M=f.proxy;E.removeEventListener?E.removeEventListener(S,M,f.capture):E.detachEvent?E.detachEvent(rt(S),M):E.addListener&&E.removeListener&&E.removeListener(M),(S=$e(E))?(se(S,f),S.h==0&&(S.src=null,E[Me]=null)):X(f)}}}function rt(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function et(f,E){if(f.da)f=!0;else{E=new q(E,this);var S=f.listener,M=f.ha||f.src;f.fa&&_t(f),f=S.call(M,E)}return f}function $e(f){return f=f[Me],f instanceof ne?f:null}var Qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function sn(f){return typeof f=="function"?f:(f[Qt]||(f[Qt]=function(E){return f.handleEvent(E)}),f[Qt])}function Qe(){O.call(this),this.i=new ne(this),this.M=this,this.F=null}v(Qe,O),Qe.prototype[ee]=!0,Qe.prototype.removeEventListener=function(f,E,S,M){We(this,f,E,S,M)};function Y(f,E){var S,M=f.F;if(M)for(S=[];M;M=M.F)S.push(M);if(f=f.M,M=E.type||E,typeof E=="string")E=new H(E,f);else if(E instanceof H)E.target=E.target||f;else{var Q=E;E=new H(M,f),T(E,Q)}if(Q=!0,S)for(var te=S.length-1;0<=te;te--){var pe=E.g=S[te];Q=me(pe,M,!0,E)&&Q}if(pe=E.g=f,Q=me(pe,M,!0,E)&&Q,Q=me(pe,M,!1,E)&&Q,S)for(te=0;te<S.length;te++)pe=E.g=S[te],Q=me(pe,M,!1,E)&&Q}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var S=f.g[E],M=0;M<S.length;M++)X(S[M]);delete f.g[E],f.h--}}this.F=null},Qe.prototype.K=function(f,E,S,M){return this.i.add(String(f),E,!1,S,M)},Qe.prototype.L=function(f,E,S,M){return this.i.add(String(f),E,!0,S,M)};function me(f,E,S,M){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var Q=!0,te=0;te<E.length;++te){var pe=E[te];if(pe&&!pe.da&&pe.capture==S){var Pt=pe.listener,jn=pe.ha||pe.src;pe.fa&&se(f.i,pe),Q=Pt.call(jn,M)!==!1&&Q}}return Q&&!M.defaultPrevented}function G(f,E,S){if(typeof f=="function")S&&(f=m(f,S));else if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:l.setTimeout(f,E||0)}function xe(f){f.g=G(()=>{f.g=null,f.i&&(f.i=!1,xe(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class ke extends O{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:xe(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(f){O.call(this),this.h=f,this.g={}}v(Ke,O);var ht=[];function St(f){R(f.g,function(E,S){this.g.hasOwnProperty(S)&&_t(E)},f),f.g={}}Ke.prototype.N=function(){Ke.aa.N.call(this),St(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var At=l.JSON.stringify,$t=l.JSON.parse,wn=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function on(){}on.prototype.h=null;function Yt(f){return f.h||(f.h=f.i())}function ze(){}var Tt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lt(){H.call(this,"d")}v(lt,H);function kt(){H.call(this,"c")}v(kt,H);var hn={},J=null;function we(){return J=J||new Qe}hn.La="serverreachability";function Ie(f){H.call(this,hn.La,f)}v(Ie,H);function Te(f){const E=we();Y(E,new Ie(E))}hn.STAT_EVENT="statevent";function st(f,E){H.call(this,hn.STAT_EVENT,f),this.stat=E}v(st,H);function Ye(f){const E=we();Y(E,new st(E,f))}hn.Ma="timingevent";function je(f,E){H.call(this,hn.Ma,f),this.size=E}v(je,H);function fn(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},E)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function og(f,E,S,M,Q,te){f.info(function(){if(f.g)if(te)for(var pe="",Pt=te.split("&"),jn=0;jn<Pt.length;jn++){var mt=Pt[jn].split("=");if(1<mt.length){var Vn=mt[0];mt=mt[1];var Fn=Vn.split("_");pe=2<=Fn.length&&Fn[1]=="type"?pe+(Vn+"="+mt+"&"):pe+(Vn+"=redacted&")}}else pe=null;else pe=te;return"XMLHTTP REQ ("+M+") [attempt "+Q+"]: "+E+`
`+S+`
`+pe})}function La(f,E,S,M,Q,te,pe){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Q+"]: "+E+`
`+S+`
`+te+" "+pe})}function _s(f,E,S,M){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+Hd(f,S)+(M?" "+M:"")})}function Bd(f,E){f.info(function(){return"TIMEOUT: "+E})}Sn.prototype.info=function(){};function Hd(f,E){if(!f.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var M=S[f];if(!(2>M.length)){var Q=M[1];if(Array.isArray(Q)&&!(1>Q.length)){var te=Q[0];if(te!="noop"&&te!="stop"&&te!="close")for(var pe=1;pe<Q.length;pe++)Q[pe]=""}}}}return At(S)}catch{return E}}var Ma={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bc;function zt(){}v(zt,on),zt.prototype.g=function(){return new XMLHttpRequest},zt.prototype.i=function(){return{}},bc=new zt;function On(f,E,S,M){this.j=f,this.i=E,this.l=S,this.R=M||1,this.U=new Ke(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qd}function qd(){this.i=null,this.g="",this.h=!1}var Nb={},ag={};function lg(f,E,S){f.L=1,f.v=Yd(Ys(E)),f.m=S,f.P=!0,Cb(f,null)}function Cb(f,E){f.F=Date.now(),Gd(f),f.A=Ys(f.v);var S=f.A,M=f.R;Array.isArray(M)||(M=[String(M)]),Vb(S.i,"t",M),f.C=0,S=f.j.J,f.h=new qd,f.g=n1(f.j,S?E:null,!f.m),0<f.O&&(f.M=new ke(m(f.Y,f,f.g),f.O)),E=f.U,S=f.g,M=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(ht[0]=Q.toString()),Q=ht);for(var te=0;te<Q.length;te++){var pe=at(S,Q[te],M||E.handleEvent,!1,E.h||E);if(!pe)break;E.g[pe.key]=pe}E=f.H?_(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Te(),og(f.i,f.u,f.A,f.l,f.R,f.m)}On.prototype.ca=function(f){f=f.target;const E=this.M;E&&Zs(f)==3?E.j():this.Y(f)},On.prototype.Y=function(f){try{if(f==this.g)e:{const Fn=Zs(this.g);var E=this.g.Ba();const Va=this.g.Z();if(!(3>Fn)&&(Fn!=3||this.g&&(this.h.h||this.g.oa()||Wb(this.g)))){this.J||Fn!=4||E==7||(E==8||0>=Va?Te(3):Te(2)),cg(this);var S=this.g.Z();this.X=S;t:if(_b(this)){var M=Wb(this.g);f="";var Q=M.length,te=Zs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mo(this),Ec(this);var pe="";break t}this.h.i=new l.TextDecoder}for(E=0;E<Q;E++)this.h.h=!0,f+=this.h.i.decode(M[E],{stream:!(te&&E==Q-1)});M.length=0,this.h.g+=f,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=S==200,La(this.i,this.u,this.A,this.l,this.R,Fn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,jn=this.g;if((Pt=jn.g?jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Pt)){var mt=Pt;break t}}mt=null}if(S=mt)_s(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ug(this,S);else{this.o=!1,this.s=3,Ye(12),Mo(this),Ec(this);break e}}if(this.P){S=!0;let Xr;for(;!this.J&&this.C<pe.length;)if(Xr=UM(this,pe),Xr==ag){Fn==4&&(this.s=4,Ye(14),S=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(Xr==Nb){this.s=4,Ye(15),_s(this.i,this.l,pe,"[Invalid Chunk]"),S=!1;break}else _s(this.i,this.l,Xr,null),ug(this,Xr);if(_b(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fn!=4||pe.length!=0||this.h.h||(this.s=1,Ye(16),S=!1),this.o=this.o&&S,!S)_s(this.i,this.l,pe,"[Invalid Chunked Response]"),Mo(this),Ec(this);else if(0<pe.length&&!this.W){this.W=!0;var Vn=this.j;Vn.g==this&&Vn.ba&&!Vn.M&&(Vn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),gg(Vn),Vn.M=!0,Ye(11))}}else _s(this.i,this.l,pe,null),ug(this,pe);Fn==4&&Mo(this),this.o&&!this.J&&(Fn==4?Xb(this.j,this):(this.o=!1,Gd(this)))}else s4(this.g),S==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),Mo(this),Ec(this)}}}catch{}finally{}};function _b(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function UM(f,E){var S=f.C,M=E.indexOf(`
`,S);return M==-1?ag:(S=Number(E.substring(S,M)),isNaN(S)?Nb:(M+=1,M+S>E.length?ag:(E=E.slice(M,M+S),f.C=M+S,E)))}On.prototype.cancel=function(){this.J=!0,Mo(this)};function Gd(f){f.S=Date.now()+f.I,Sb(f,f.I)}function Sb(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=fn(m(f.ba,f),E)}function cg(f){f.B&&(l.clearTimeout(f.B),f.B=null)}On.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Bd(this.i,this.A),this.L!=2&&(Te(),Ye(17)),Mo(this),this.s=2,Ec(this)):Sb(this,this.S-f)};function Ec(f){f.j.G==0||f.J||Xb(f.j,f)}function Mo(f){cg(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,St(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function ug(f,E){try{var S=f.j;if(S.G!=0&&(S.g==f||dg(S.h,f))){if(!f.K&&dg(S.h,f)&&S.G==3){try{var M=S.Da.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Q=M;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)nh(S),eh(S);else break e;mg(S),Ye(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=fn(m(S.Za,S),6e3));if(1>=Ib(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Oo(S,11)}else if((f.K||S.g==f)&&nh(S),!w(E))for(Q=S.Da.g.parse(E),E=0;E<Q.length;E++){let mt=Q[E];if(S.T=mt[0],mt=mt[1],S.G==2)if(mt[0]=="c"){S.K=mt[1],S.ia=mt[2];const Vn=mt[3];Vn!=null&&(S.la=Vn,S.j.info("VER="+S.la));const Fn=mt[4];Fn!=null&&(S.Aa=Fn,S.j.info("SVER="+S.Aa));const Va=mt[5];Va!=null&&typeof Va=="number"&&0<Va&&(M=1.5*Va,S.L=M,S.j.info("backChannelRequestTimeoutMs_="+M)),M=S;const Xr=f.g;if(Xr){const sh=Xr.g?Xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sh){var te=M.h;te.g||sh.indexOf("spdy")==-1&&sh.indexOf("quic")==-1&&sh.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(hg(te,te.h),te.h=null))}if(M.D){const yg=Xr.g?Xr.g.getResponseHeader("X-HTTP-Session-Id"):null;yg&&(M.ya=yg,Lt(M.I,M.D,yg))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),M=S;var pe=f;if(M.qa=t1(M,M.J?M.ia:null,M.W),pe.K){Tb(M.h,pe);var Pt=pe,jn=M.L;jn&&(Pt.I=jn),Pt.B&&(cg(Pt),Gd(Pt)),M.g=pe}else Yb(M);0<S.i.length&&th(S)}else mt[0]!="stop"&&mt[0]!="close"||Oo(S,7);else S.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?Oo(S,7):pg(S):mt[0]!="noop"&&S.l&&S.l.ta(mt),S.v=0)}}Te(4)}catch{}}var zM=class{constructor(f,E){this.g=f,this.map=E}};function jb(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kb(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ib(f){return f.h?1:f.g?f.g.size:0}function dg(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function hg(f,E){f.g?f.g.add(E):f.h=E}function Tb(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}jb.prototype.cancel=function(){if(this.i=Pb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Pb(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const S of f.g.values())E=E.concat(S.D);return E}return y(f.i)}function BM(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(c(f)){for(var E=[],S=f.length,M=0;M<S;M++)E.push(f[M]);return E}E=[],S=0;for(M in f)E[S++]=f[M];return E}function HM(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||typeof f=="string"){var E=[];f=f.length;for(var S=0;S<f;S++)E.push(S);return E}E=[],S=0;for(const M in f)E[S++]=M;return E}}}function Ab(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(c(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var S=HM(f),M=BM(f),Q=M.length,te=0;te<Q;te++)E.call(void 0,M[te],S&&S[te],f)}var Rb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WM(f,E){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var M=f[S].indexOf("="),Q=null;if(0<=M){var te=f[S].substring(0,M);Q=f[S].substring(M+1)}else te=f[S];E(te,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Do(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Do){this.h=f.h,Kd(this,f.j),this.o=f.o,this.g=f.g,Qd(this,f.s),this.l=f.l;var E=f.i,S=new _c;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),Lb(this,S),this.m=f.m}else f&&(E=String(f).match(Rb))?(this.h=!1,Kd(this,E[1]||"",!0),this.o=Nc(E[2]||""),this.g=Nc(E[3]||"",!0),Qd(this,E[4]),this.l=Nc(E[5]||"",!0),Lb(this,E[6]||"",!0),this.m=Nc(E[7]||"")):(this.h=!1,this.i=new _c(null,this.h))}Do.prototype.toString=function(){var f=[],E=this.j;E&&f.push(Cc(E,Mb,!0),":");var S=this.g;return(S||E=="file")&&(f.push("//"),(E=this.o)&&f.push(Cc(E,Mb,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Cc(S,S.charAt(0)=="/"?KM:GM,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Cc(S,YM)),f.join("")};function Ys(f){return new Do(f)}function Kd(f,E,S){f.j=S?Nc(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Qd(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function Lb(f,E,S){E instanceof _c?(f.i=E,ZM(f.i,f.h)):(S||(E=Cc(E,QM)),f.i=new _c(E,f.h))}function Lt(f,E,S){f.i.set(E,S)}function Yd(f){return Lt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Nc(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Cc(f,E,S){return typeof f=="string"?(f=encodeURI(f).replace(E,qM),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function qM(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Mb=/[#\/\?@]/g,GM=/[#\?:]/g,KM=/[#\?]/g,QM=/[#\?@]/g,YM=/#/g;function _c(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function _i(f){f.g||(f.g=new Map,f.h=0,f.i&&WM(f.i,function(E,S){f.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}t=_c.prototype,t.add=function(f,E){_i(this),this.i=null,f=Da(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(E),this.h+=1,this};function Db(f,E){_i(f),E=Da(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function Ob(f,E){return _i(f),E=Da(f,E),f.g.has(E)}t.forEach=function(f,E){_i(this),this.g.forEach(function(S,M){S.forEach(function(Q){f.call(E,Q,M,this)},this)},this)},t.na=function(){_i(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let M=0;M<E.length;M++){const Q=f[M];for(let te=0;te<Q.length;te++)S.push(E[M])}return S},t.V=function(f){_i(this);let E=[];if(typeof f=="string")Ob(this,f)&&(E=E.concat(this.g.get(Da(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)E=E.concat(f[S])}return E},t.set=function(f,E){return _i(this),this.i=null,f=Da(this,f),Ob(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function Vb(f,E,S){Db(f,E),0<S.length&&(f.i=null,f.g.set(Da(f,E),y(S)),f.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var M=E[S];const te=encodeURIComponent(String(M)),pe=this.V(M);for(M=0;M<pe.length;M++){var Q=te;pe[M]!==""&&(Q+="="+encodeURIComponent(String(pe[M]))),f.push(Q)}}return this.i=f.join("&")};function Da(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function ZM(f,E){E&&!f.j&&(_i(f),f.i=null,f.g.forEach(function(S,M){var Q=M.toLowerCase();M!=Q&&(Db(this,M),Vb(this,Q,S))},f)),f.j=E}function XM(f,E){const S=new Sn;if(l.Image){const M=new Image;M.onload=g(Si,S,"TestLoadImage: loaded",!0,E,M),M.onerror=g(Si,S,"TestLoadImage: error",!1,E,M),M.onabort=g(Si,S,"TestLoadImage: abort",!1,E,M),M.ontimeout=g(Si,S,"TestLoadImage: timeout",!1,E,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else E(!1)}function JM(f,E){const S=new Sn,M=new AbortController,Q=setTimeout(()=>{M.abort(),Si(S,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:M.signal}).then(te=>{clearTimeout(Q),te.ok?Si(S,"TestPingServer: ok",!0,E):Si(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Q),Si(S,"TestPingServer: error",!1,E)})}function Si(f,E,S,M,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),M(S)}catch{}}function e4(){this.g=new wn}function t4(f,E,S){const M=S||"";try{Ab(f,function(Q,te){let pe=Q;u(Q)&&(pe=At(Q)),E.push(M+te+"="+encodeURIComponent(pe))})}catch(Q){throw E.push(M+"type="+encodeURIComponent("_badmap")),Q}}function Zd(f){this.l=f.Ub||null,this.j=f.eb||!1}v(Zd,on),Zd.prototype.g=function(){return new Xd(this.l,this.j)},Zd.prototype.i=function(f){return function(){return f}}({});function Xd(f,E){Qe.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Xd,Qe),t=Xd.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,jc(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||l).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sc(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,jc(this)),this.g&&(this.readyState=3,jc(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fb(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fb(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?Sc(this):jc(this),this.readyState==3&&Fb(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Sc(this))},t.Qa=function(f){this.g&&(this.response=f,Sc(this))},t.ga=function(){this.g&&Sc(this)};function Sc(f){f.readyState=4,f.l=null,f.j=null,f.v=null,jc(f)}t.setRequestHeader=function(f,E){this.u.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=E.next();return f.join(`\r
`)};function jc(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Xd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function $b(f){let E="";return R(f,function(S,M){E+=M,E+=":",E+=S,E+=`\r
`}),E}function fg(f,E,S){e:{for(M in S){var M=!1;break e}M=!0}M||(S=$b(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):Lt(f,E,S))}function Zt(f){Qe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Zt,Qe);var n4=/^https?$/i,r4=["POST","PUT"];t=Zt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,E,S,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bc.g(),this.v=this.o?Yt(this.o):Yt(bc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(te){Ub(this,te);return}if(f=S||"",S=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Q in M)S.set(Q,M[Q]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const te of M.keys())S.set(te,M.get(te));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(S.keys()).find(te=>te.toLowerCase()=="content-type"),Q=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(r4,E,void 0))||M||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,pe]of S)this.g.setRequestHeader(te,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hb(this),this.u=!0,this.g.send(f),this.u=!1}catch(te){Ub(this,te)}};function Ub(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,zb(f),Jd(f)}function zb(f){f.A||(f.A=!0,Y(f,"complete"),Y(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Y(this,"complete"),Y(this,"abort"),Jd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jd(this,!0)),Zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bb(this):this.bb())},t.bb=function(){Bb(this)};function Bb(f){if(f.h&&typeof a<"u"&&(!f.v[1]||Zs(f)!=4||f.Z()!=2)){if(f.u&&Zs(f)==4)G(f.Ea,0,f);else if(Y(f,"readystatechange"),Zs(f)==4){f.h=!1;try{const pe=f.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var M;if(M=pe===0){var Q=String(f.D).match(Rb)[1]||null;!Q&&l.self&&l.self.location&&(Q=l.self.location.protocol.slice(0,-1)),M=!n4.test(Q?Q.toLowerCase():"")}S=M}if(S)Y(f,"complete"),Y(f,"success");else{f.m=6;try{var te=2<Zs(f)?f.g.statusText:""}catch{te=""}f.l=te+" ["+f.Z()+"]",zb(f)}}finally{Jd(f)}}}}function Jd(f,E){if(f.g){Hb(f);const S=f.g,M=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||Y(f,"ready");try{S.onreadystatechange=M}catch{}}}function Hb(f){f.I&&(l.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Zs(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Zs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),$t(E)}};function Wb(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function s4(f){const E={};f=(f.g&&2<=Zs(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(w(f[M]))continue;var S=I(f[M]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const te=E[Q]||[];E[Q]=te,te.push(S)}C(E,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kc(f,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||E}function qb(f){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kc("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kc("baseRetryDelayMs",5e3,f),this.cb=kc("retryDelaySeedMs",1e4,f),this.Wa=kc("forwardChannelMaxRetries",2,f),this.wa=kc("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new jb(f&&f.concurrentRequestLimit),this.Da=new e4,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qb.prototype,t.la=8,t.G=1,t.connect=function(f,E,S,M){Ye(0),this.W=f,this.H=E||{},S&&M!==void 0&&(this.H.OSID=S,this.H.OAID=M),this.F=this.X,this.I=t1(this,null,this.W),th(this)};function pg(f){if(Gb(f),f.G==3){var E=f.U++,S=Ys(f.I);if(Lt(S,"SID",f.K),Lt(S,"RID",E),Lt(S,"TYPE","terminate"),Ic(f,S),E=new On(f,f.j,E),E.L=2,E.v=Yd(Ys(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&l.Image&&(new Image().src=E.v,S=!0),S||(E.g=n1(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Gd(E)}e1(f)}function eh(f){f.g&&(gg(f),f.g.cancel(),f.g=null)}function Gb(f){eh(f),f.u&&(l.clearTimeout(f.u),f.u=null),nh(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function th(f){if(!kb(f.h)&&!f.s){f.s=!0;var E=f.Ga;K||$(),V||(K(),V=!0),D.add(E,f),f.B=0}}function i4(f,E){return Ib(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=fn(m(f.Ga,f,E),Jb(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new On(this,this.j,f);let te=this.o;if(this.S&&(te?(te=_(te),T(te,this.S)):te=this.S),this.m!==null||this.O||(Q.H=te,te=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var M=this.i[S];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=Qb(this,Q,E),S=Ys(this.I),Lt(S,"RID",f),Lt(S,"CVER",22),this.D&&Lt(S,"X-HTTP-Session-Id",this.D),Ic(this,S),te&&(this.O?E="headers="+encodeURIComponent(String($b(te)))+"&"+E:this.m&&fg(S,this.m,te)),hg(this.h,Q),this.Ua&&Lt(S,"TYPE","init"),this.P?(Lt(S,"$req",E),Lt(S,"SID","null"),Q.T=!0,lg(Q,S,null)):lg(Q,S,E),this.G=2}}else this.G==3&&(f?Kb(this,f):this.i.length==0||kb(this.h)||Kb(this))};function Kb(f,E){var S;E?S=E.l:S=f.U++;const M=Ys(f.I);Lt(M,"SID",f.K),Lt(M,"RID",S),Lt(M,"AID",f.T),Ic(f,M),f.m&&f.o&&fg(M,f.m,f.o),S=new On(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),E&&(f.i=E.D.concat(f.i)),E=Qb(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),hg(f.h,S),lg(S,M,E)}function Ic(f,E){f.H&&R(f.H,function(S,M){Lt(E,M,S)}),f.l&&Ab({},function(S,M){Lt(E,M,S)})}function Qb(f,E,S){S=Math.min(f.i.length,S);var M=f.l?m(f.l.Na,f.l,f):null;e:{var Q=f.i;let te=-1;for(;;){const pe=["count="+S];te==-1?0<S?(te=Q[0].g,pe.push("ofs="+te)):te=0:pe.push("ofs="+te);let Pt=!0;for(let jn=0;jn<S;jn++){let mt=Q[jn].g;const Vn=Q[jn].map;if(mt-=te,0>mt)te=Math.max(0,Q[jn].g-100),Pt=!1;else try{t4(Vn,pe,"req"+mt+"_")}catch{M&&M(Vn)}}if(Pt){M=pe.join("&");break e}}}return f=f.i.splice(0,S),E.D=f,M}function Yb(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;K||$(),V||(K(),V=!0),D.add(E,f),f.v=0}}function mg(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=fn(m(f.Fa,f),Jb(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Zb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=fn(m(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ye(10),eh(this),Zb(this))};function gg(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function Zb(f){f.g=new On(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Ys(f.qa);Lt(E,"RID","rpc"),Lt(E,"SID",f.K),Lt(E,"AID",f.T),Lt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&Lt(E,"TO",f.ja),Lt(E,"TYPE","xmlhttp"),Ic(f,E),f.m&&f.o&&fg(E,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=Yd(Ys(E)),S.m=null,S.P=!0,Cb(S,f)}t.Za=function(){this.C!=null&&(this.C=null,eh(this),mg(this),Ye(19))};function nh(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function Xb(f,E){var S=null;if(f.g==E){nh(f),gg(f),f.g=null;var M=2}else if(dg(f.h,E))S=E.D,Tb(f.h,E),M=1;else return;if(f.G!=0){if(E.o)if(M==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Q=f.B;M=we(),Y(M,new je(M,S)),th(f)}else Yb(f);else if(Q=E.s,Q==3||Q==0&&0<E.X||!(M==1&&i4(f,E)||M==2&&mg(f)))switch(S&&0<S.length&&(E=f.h,E.i=E.i.concat(S)),Q){case 1:Oo(f,5);break;case 4:Oo(f,10);break;case 3:Oo(f,6);break;default:Oo(f,2)}}}function Jb(f,E){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*E}function Oo(f,E){if(f.j.info("Error code "+E),E==2){var S=m(f.fb,f),M=f.Xa;const Q=!M;M=new Do(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Kd(M,"https"),Yd(M),Q?XM(M.toString(),S):JM(M.toString(),S)}else Ye(2);f.G=0,f.l&&f.l.sa(E),e1(f),Gb(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function e1(f){if(f.G=0,f.ka=[],f.l){const E=Pb(f.h);(E.length!=0||f.i.length!=0)&&(x(f.ka,E),x(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function t1(f,E,S){var M=S instanceof Do?Ys(S):new Do(S);if(M.g!="")E&&(M.g=E+"."+M.g),Qd(M,M.s);else{var Q=l.location;M=Q.protocol,E=E?E+"."+Q.hostname:Q.hostname,Q=+Q.port;var te=new Do(null);M&&Kd(te,M),E&&(te.g=E),Q&&Qd(te,Q),S&&(te.l=S),M=te}return S=f.D,E=f.ya,S&&E&&Lt(M,S,E),Lt(M,"VER",f.la),Ic(f,M),M}function n1(f,E,S){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new Zt(new Zd({eb:S})):new Zt(f.pa),E.Ha(f.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function r1(){}t=r1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rh(){}rh.prototype.g=function(f,E){return new br(f,E)};function br(f,E){Qe.call(this),this.g=new qb(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!w(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!w(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Oa(this)}v(br,Qe),br.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},br.prototype.close=function(){pg(this.g)},br.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=At(f),f=S);E.i.push(new zM(E.Ya++,f)),E.G==3&&th(E)},br.prototype.N=function(){this.g.l=null,delete this.j,pg(this.g),delete this.g,br.aa.N.call(this)};function s1(f){lt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const S in E){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}v(s1,lt);function i1(){kt.call(this),this.status=1}v(i1,kt);function Oa(f){this.g=f}v(Oa,r1),Oa.prototype.ua=function(){Y(this.g,"a")},Oa.prototype.ta=function(f){Y(this.g,new s1(f))},Oa.prototype.sa=function(f){Y(this.g,new i1)},Oa.prototype.ra=function(){Y(this.g,"b")},rh.prototype.createWebChannel=rh.prototype.g,br.prototype.send=br.prototype.o,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,tT=function(){return new rh},eT=function(){return we()},JI=hn,Rv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ma.NO_ERROR=0,Ma.TIMEOUT=8,Ma.HTTP_ERROR=6,rf=Ma,Wd.COMPLETE="complete",XI=Wd,ze.EventType=Tt,Tt.OPEN="a",Tt.CLOSE="b",Tt.ERROR="c",Tt.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Zc=ze,Zt.prototype.listenOnce=Zt.prototype.L,Zt.prototype.getLastError=Zt.prototype.Ka,Zt.prototype.getLastErrorCode=Zt.prototype.Ba,Zt.prototype.getStatus=Zt.prototype.Z,Zt.prototype.getResponseJson=Zt.prototype.Oa,Zt.prototype.getResponseText=Zt.prototype.oa,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Ha,ZI=Zt}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const kN="@firebase/firestore",IN="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Rx("@firebase/firestore");function Ba(){return va.logLevel}function Ne(t,...e){if(va.logLevel<=ct.DEBUG){const n=e.map(Gx);va.debug(`Firestore (${ac}): ${t}`,...n)}}function wi(t,...e){if(va.logLevel<=ct.ERROR){const n=e.map(Gx);va.error(`Firestore (${ac}): ${t}`,...n)}}function Ul(t,...e){if(va.logLevel<=ct.WARN){const n=e.map(Gx);va.warn(`Firestore (${ac}): ${t}`,...n)}}function Gx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nT(t,r,n)}function nT(t,e,n){let r=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wi(r),new Error(r)}function Ct(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||nT(e,s,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wn.UNAUTHENTICATED))}shutdown(){}}class I7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class T7{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new di;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new di,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new di)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new rT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new Wn(e)}}class P7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class A7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new P7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ct(this.o===void 0,3512);const r=i=>{i.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Ne("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new TN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=L7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function Lv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return tt(r,s);{const i=sT(),a=M7(i.encode(PN(t,n)),i.encode(PN(e,n)));return a!==0?a:tt(r,s)}}n+=r>65535?2:1}return tt(t.length,e.length)}function PN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function M7(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return tt(t[n],e[n]);return tt(t.length,e.length)}function zl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=-62135596800,RN=1e6;class yn{static now(){return yn.fromMillis(Date.now())}static fromDate(e){return yn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RN);return new yn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AN)throw new _e(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RN}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-AN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new yn(0,0))}static max(){return new Ge(new yn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="__name__";class ks{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ks.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ks?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ks.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return tt(e.length,n.length)}static compareSegments(e,n){const r=ks.isNumericId(e),s=ks.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ks.extractNumericId(e).compare(ks.extractNumericId(n)):Lv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class Ot extends ks{construct(e,n,r){return new Ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const D7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends ks{construct(e,n,r){return new Tn(e,n,r)}static isValidIdentifier(e){return D7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LN}static keyField(){return new Tn([LN])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new _e(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new _e(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new _e(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new _e(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Ot.fromString(e))}static fromName(e){return new De(Ot.fromString(e).popFirst(5))}static empty(){return new De(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=-1;function O7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ge.fromTimestamp(r===1e9?new yn(n+1,0):new yn(n,r));return new xo(s,De.empty(),e)}function V7(t){return new xo(t.readTime,t.key,Xu)}class xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xo(Ge.min(),De.empty(),Xu)}static max(){return new xo(Ge.max(),De.empty(),Xu)}}function F7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==$7)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(s=>s?le.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new le((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{a[u]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new le((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function z7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}lm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=-1;function cm(t){return t==null}function Yf(t){return t===0&&1/t==-1/0}function B7(t){return typeof t=="number"&&Number.isInteger(t)&&!Yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="";function H7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=MN(e)),e=W7(t.get(n),e);return MN(e)}function W7(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case oT:n+="";break;default:n+=i}}return n}function MN(t){return t+oT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ih(this.root,e,this.comparator,!0)}}class Ih{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??In.RED,this.left=s??In.EMPTY,this.right=i??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new In(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return In.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ON(this.data.getIterator())}getIteratorFrom(e){return new ON(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vn(this.comparator);return n.data=e,n}}class ON{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new jr([])}unionWith(e){let n=new vn(Tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new lT("Invalid base64 string: "+i):i}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const q7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(t){if(Ct(!!t,39018),typeof t=="string"){let e=0;const n=q7.exec(t);if(Ct(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bo(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="server_timestamp",uT="__type__",dT="__previous_value__",hT="__local_write_time__";function Qx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[uT])===null||n===void 0?void 0:n.stringValue)===cT}function um(t){const e=t.mapValue.fields[dT];return Qx(e)?um(e):e}function Ju(t){const e=wo(t.mapValue.fields[hT].timestampValue);return new yn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,n,r,s,i,a,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const Zf="(default)";class ed{constructor(e,n){this.projectId=e,this.database=n||Zf}static empty(){return new ed("","")}get isDefaultDatabase(){return this.database===Zf}isEqual(e){return e instanceof ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="__type__",K7="__max__",Th={mapValue:{}},pT="__vector__",Xf="value";function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qx(t)?4:Y7(t)?9007199254740991:Q7(t)?10:11:He(28295,{value:t})}function qs(t,e){if(t===e)return!0;const n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ju(t).isEqual(Ju(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=wo(s.timestampValue),l=wo(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return bo(s.bytesValue).isEqual(bo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return nn(s.geoPointValue.latitude)===nn(i.geoPointValue.latitude)&&nn(s.geoPointValue.longitude)===nn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return nn(s.integerValue)===nn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=nn(s.doubleValue),l=nn(i.doubleValue);return a===l?Yf(a)===Yf(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return zl(t.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(DN(a)!==DN(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!qs(a[c],l[c])))return!1;return!0}(t,e);default:return He(52216,{left:t})}}function td(t,e){return(t.values||[]).find(n=>qs(n,e))!==void 0}function Bl(t,e){if(t===e)return 0;const n=Eo(t),r=Eo(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=nn(i.integerValue||i.doubleValue),c=nn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return VN(t.timestampValue,e.timestampValue);case 4:return VN(Ju(t),Ju(e));case 5:return Lv(t.stringValue,e.stringValue);case 6:return function(i,a){const l=bo(i),c=bo(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=tt(l[u],c[u]);if(h!==0)return h}return tt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=tt(nn(i.latitude),nn(a.latitude));return l!==0?l:tt(nn(i.longitude),nn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return FN(t.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,u,h;const p=i.fields||{},m=a.fields||{},g=(l=p[Xf])===null||l===void 0?void 0:l.arrayValue,v=(c=m[Xf])===null||c===void 0?void 0:c.arrayValue,y=tt(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:FN(g,v)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Th.mapValue&&a===Th.mapValue)return 0;if(i===Th.mapValue)return 1;if(a===Th.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const m=Lv(c[p],h[p]);if(m!==0)return m;const g=Bl(l[c[p]],u[h[p]]);if(g!==0)return g}return tt(c.length,h.length)}(t.mapValue,e.mapValue);default:throw He(23264,{Pe:n})}}function VN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=wo(t),r=wo(e),s=tt(n.seconds,r.seconds);return s!==0?s:tt(n.nanos,r.nanos)}function FN(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Bl(n[s],r[s]);if(i)return i}return tt(n.length,r.length)}function Hl(t){return Mv(t)}function Mv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Mv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Mv(n.fields[a])}`;return s+"}"}(t.mapValue):He(61005,{value:t})}function sf(t){switch(Eo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=um(t);return e?16+sf(e):16;case 5:return 2*t.stringValue.length;case 6:return bo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+sf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return To(r.fields,(i,a)=>{s+=i.length+sf(a)}),s}(t.mapValue);default:throw He(13486,{value:t})}}function $N(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dv(t){return!!t&&"integerValue"in t}function Yx(t){return!!t&&"arrayValue"in t}function UN(t){return!!t&&"nullValue"in t}function zN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function of(t){return!!t&&"mapValue"in t}function Q7(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[fT])===null||n===void 0?void 0:n.stringValue)===pT}function wu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Y7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===K7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!of(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(n)}setAll(e){let n=Tn.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=wu(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());of(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];of(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){To(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new dr(wu(this.value))}}function mT(t){const e=[];return To(t.fields,(n,r)=>{const s=new Tn([n]);if(of(r)){const i=mT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Gn(e,0,Ge.min(),Ge.min(),Ge.min(),dr.empty(),0)}static newFoundDocument(e,n,r,s){return new Gn(e,1,n,Ge.min(),r,s,0)}static newNoDocument(e,n){return new Gn(e,2,n,Ge.min(),Ge.min(),dr.empty(),0)}static newUnknownDocument(e,n){return new Gn(e,3,n,Ge.min(),Ge.min(),dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.position=e,this.inclusive=n}}function BN(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=De.comparator(De.fromName(a.referenceValue),n.key):r=Bl(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function HN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Z7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{}class dn extends gT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new J7(e,n,r):n==="array-contains"?new nU(e,r):n==="in"?new rU(e,r):n==="not-in"?new sU(e,r):n==="array-contains-any"?new iU(e,r):new dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eU(e,r):new tU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bl(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ws extends gT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ws(e,n)}matches(e){return yT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function yT(t){return t.op==="and"}function vT(t){return X7(t)&&yT(t)}function X7(t){for(const e of t.filters)if(e instanceof ws)return!1;return!0}function Ov(t){if(t instanceof dn)return t.field.canonicalString()+t.op.toString()+Hl(t.value);if(vT(t))return t.filters.map(e=>Ov(e)).join(",");{const e=t.filters.map(n=>Ov(n)).join(",");return`${t.op}(${e})`}}function xT(t,e){return t instanceof dn?function(r,s){return s instanceof dn&&r.op===s.op&&r.field.isEqual(s.field)&&qs(r.value,s.value)}(t,e):t instanceof ws?function(r,s){return s instanceof ws&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&xT(a,s.filters[l]),!0):!1}(t,e):void He(19439)}function wT(t){return t instanceof dn?function(n){return`${n.field.canonicalString()} ${n.op} ${Hl(n.value)}`}(t):t instanceof ws?function(n){return n.op.toString()+" {"+n.getFilters().map(wT).join(" ,")+"}"}(t):"Filter"}class J7 extends dn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class eU extends dn{constructor(e,n){super(e,"in",n),this.keys=bT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tU extends dn{constructor(e,n){super(e,"not-in",n),this.keys=bT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>De.fromName(r.referenceValue))}class nU extends dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yx(n)&&td(n.arrayValue,this.value)}}class rU extends dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&td(this.value.arrayValue,n)}}class sU extends dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!td(this.value.arrayValue,n)}}class iU extends dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>td(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Ie=null}}function WN(t,e=null,n=[],r=[],s=null,i=null,a=null){return new oU(t,e,n,r,s,i,a)}function Zx(t){const e=qe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ov(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),cm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hl(r)).join(",")),e.Ie=n}return e.Ie}function Xx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Z7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HN(t.startAt,e.startAt)&&HN(t.endAt,e.endAt)}function Vv(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function aU(t,e,n,r,s,i,a,l){return new uc(t,e,n,r,s,i,a,l)}function dm(t){return new uc(t)}function qN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ET(t){return t.collectionGroup!==null}function bu(t){const e=qe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new vn(Tn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new nd(i,r))}),n.has(Tn.keyField().canonicalString())||e.Ee.push(new nd(Tn.keyField(),r))}return e.Ee}function zs(t){const e=qe(t);return e.de||(e.de=lU(e,bu(t))),e.de}function lU(t,e){if(t.limitType==="F")return WN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new nd(s.field,i)});const n=t.endAt?new Jf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jf(t.startAt.position,t.startAt.inclusive):null;return WN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fv(t,e){const n=t.filters.concat([e]);return new uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $v(t,e,n){return new uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hm(t,e){return Xx(zs(t),zs(e))&&t.limitType===e.limitType}function NT(t){return`${Zx(zs(t))}|lt:${t.limitType}`}function Ha(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>wT(s)).join(", ")}]`),cm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Hl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Hl(s)).join(",")),`Target(${r})`}(zs(t))}; limitType=${t.limitType})`}function fm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):De.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of bu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=BN(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,bu(r),s)||r.endAt&&!function(a,l,c){const u=BN(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,bu(r),s))}(t,e)}function cU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CT(t){return(e,n)=>{let r=!1;for(const s of bu(t)){const i=uU(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function uU(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Bl(c,u):He(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return aT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=new Gt(De.comparator);function bi(){return dU}const _T=new Gt(De.comparator);function Xc(...t){let e=_T;for(const n of t)e=e.insert(n.key,n);return e}function ST(t){let e=_T;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Go(){return Eu()}function jT(){return Eu()}function Eu(){return new Ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const hU=new Gt(De.comparator),fU=new vn(De.comparator);function ut(...t){let e=fU;for(const n of t)e=e.add(n);return e}const pU=new vn(tt);function mU(){return pU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(e)?"-0":e}}function kT(t){return{integerValue:""+t}}function gU(t,e){return B7(e)?kT(e):Jx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this._=void 0}}function yU(t,e,n){return t instanceof rd?function(s,i){const a={fields:{[uT]:{stringValue:cT},[hT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Qx(i)&&(i=um(i)),i&&(a.fields[dT]=i),{mapValue:a}}(n,e):t instanceof sd?TT(t,e):t instanceof id?PT(t,e):function(s,i){const a=IT(s,i),l=GN(a)+GN(s.Re);return Dv(a)&&Dv(s.Re)?kT(l):Jx(s.serializer,l)}(t,e)}function vU(t,e,n){return t instanceof sd?TT(t,e):t instanceof id?PT(t,e):n}function IT(t,e){return t instanceof ep?function(r){return Dv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class rd extends pm{}class sd extends pm{constructor(e){super(),this.elements=e}}function TT(t,e){const n=AT(e);for(const r of t.elements)n.some(s=>qs(s,r))||n.push(r);return{arrayValue:{values:n}}}class id extends pm{constructor(e){super(),this.elements=e}}function PT(t,e){let n=AT(e);for(const r of t.elements)n=n.filter(s=>!qs(s,r));return{arrayValue:{values:n}}}class ep extends pm{constructor(e,n){super(),this.serializer=e,this.Re=n}}function GN(t){return nn(t.integerValue||t.doubleValue)}function AT(t){return Yx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n){this.field=e,this.transform=n}}function wU(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof sd&&s instanceof sd||r instanceof id&&s instanceof id?zl(r.elements,s.elements,qs):r instanceof ep&&s instanceof ep?qs(r.Re,s.Re):r instanceof rd&&s instanceof rd}(t.transform,e.transform)}class bU{constructor(e,n){this.version=e,this.transformResults=n}}class Wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function af(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mm{}function RT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ew(t.key,Wr.none()):new Td(t.key,t.data,Wr.none());{const n=t.data,r=dr.empty();let s=new vn(Tn.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Po(t.key,r,new jr(s.toArray()),Wr.none())}}function EU(t,e,n){t instanceof Td?function(s,i,a){const l=s.value.clone(),c=QN(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Po?function(s,i,a){if(!af(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=QN(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(LT(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Nu(t,e,n,r){return t instanceof Td?function(i,a,l,c){if(!af(i.precondition,a))return l;const u=i.value.clone(),h=YN(i.fieldTransforms,c,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Po?function(i,a,l,c){if(!af(i.precondition,a))return l;const u=YN(i.fieldTransforms,c,a),h=a.data;return h.setAll(LT(i)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,a,l){return af(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function NU(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=IT(r.transform,s||null);i!=null&&(n===null&&(n=dr.empty()),n.set(r.field,i))}return n||null}function KN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zl(r,s,(i,a)=>wU(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Td extends mm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Po extends mm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function LT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function QN(t,e,n){const r=new Map;Ct(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,vU(a,l,n[s]))}return r}function YN(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,yU(i,a,e))}return r}class ew extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CU extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&EU(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jT();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=RT(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ut())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,(n,r)=>KN(n,r))&&zl(this.baseMutations,e.baseMutations,(n,r)=>KN(n,r))}}class tw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ct(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return hU}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new tw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SU=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,ft;function kU(t){switch(t){case ae.OK:return He(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function MT(t){if(t===void 0)return wi("GRPC error has no .code"),ae.UNKNOWN;switch(t){case an.OK:return ae.OK;case an.CANCELLED:return ae.CANCELLED;case an.UNKNOWN:return ae.UNKNOWN;case an.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case an.INTERNAL:return ae.INTERNAL;case an.UNAVAILABLE:return ae.UNAVAILABLE;case an.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case an.NOT_FOUND:return ae.NOT_FOUND;case an.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case an.ABORTED:return ae.ABORTED;case an.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case an.DATA_LOSS:return ae.DATA_LOSS;default:return He(39323,{code:t})}}(ft=an||(an={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=new fo([4294967295,4294967295],0);function ZN(t){const e=sT().encode(t),n=new YI;return n.update(e),new Uint8Array(n.digest())}function XN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new fo([n,r],0),new fo([s,i],0)]}class nw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jc(`Invalid padding: ${n}`);if(r<0)throw new Jc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=fo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(fo.fromNumber(r)));return s.compare(IU)===1&&(s=new fo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=ZN(e),[r,s]=XN(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);if(!this.be(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new nw(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=ZN(e),[r,s]=XN(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Pd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gm(Ge.min(),s,new Gt(tt),bi(),ut())}}class Pd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pd(r,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class DT{constructor(e,n){this.targetId=e,this.Ce=n}}class OT{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class JN{constructor(){this.Fe=0,this.Me=eC(),this.xe=Mn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ut(),n=ut(),r=ut();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:He(38017,{changeType:i})}}),new Pd(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=eC()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ct(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class TU{constructor(e){this.ze=e,this.je=new Map,this.He=bi(),this.Je=Ph(),this.Ye=Ph(),this.Ze=new Gt(tt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:He(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Vv(i))if(r===0){const a=new De(i.path);this.tt(n,a,Gn.newNoDocument(a,Ge.min()))}else Ct(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const l=this.ct(e),c=l?this.lt(l,e,a):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=bo(r).toUint8Array()}catch(c){if(c instanceof lT)return Ul("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new nw(a,s,i)}catch(c){return Ul(c instanceof Jc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,a)=>{const l=this._t(a);if(l){if(i.current&&Vv(l.target)){const c=new De(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,Gn.newNoDocument(c,e))}i.Le&&(n.set(a,i.qe()),i.Qe())}});let r=ut();this.Ye.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,a)=>a.setReadTime(e));const s=new gm(e,n,this.Ze,this.He,r);return this.He=bi(),this.Je=Ph(),this.Ye=Ph(),this.Ze=new Gt(tt),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new JN,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new vn(tt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new vn(tt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new JN),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Ph(){return new Gt(De.comparator)}function eC(){return new Gt(De.comparator)}const PU={asc:"ASCENDING",desc:"DESCENDING"},AU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RU={and:"AND",or:"OR"};class LU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Uv(t,e){return t.useProto3Json||cm(e)?e:{value:e}}function tp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MU(t,e){return tp(t,e.toTimestamp())}function Bs(t){return Ct(!!t,49232),Ge.fromTimestamp(function(n){const r=wo(n);return new yn(r.seconds,r.nanos)}(t))}function rw(t,e){return zv(t,e).canonicalString()}function zv(t,e){const n=function(s){return new Ot(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FT(t){const e=Ot.fromString(t);return Ct(HT(e),10190,{key:e.toString()}),e}function Bv(t,e){return rw(t.databaseId,e.path)}function iy(t,e){const n=FT(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(UT(n))}function $T(t,e){return rw(t.databaseId,e)}function DU(t){const e=FT(t);return e.length===4?Ot.emptyPath():UT(e)}function Hv(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UT(t){return Ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tC(t,e,n){return{name:Bv(t,e),fields:n.value.mapValue.fields}}function OU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:He(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Ct(h===void 0||typeof h=="string",58123),Mn.fromBase64String(h||"")):(Ct(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Mn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const h=u.code===void 0?ae.UNKNOWN:MT(u.code);return new _e(h,u.message||"")}(a);n=new OT(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=iy(t,r.document.name),i=Bs(r.document.updateTime),a=r.document.createTime?Bs(r.document.createTime):Ge.min(),l=new dr({mapValue:{fields:r.document.fields}}),c=Gn.newFoundDocument(s,i,a,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new lf(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=iy(t,r.document),i=r.readTime?Bs(r.readTime):Ge.min(),a=Gn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new lf([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=iy(t,r.document),i=r.removedTargetIds||[];n=new lf([],i,s,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new jU(s,i),l=r.targetId;n=new DT(l,a)}}return n}function VU(t,e){let n;if(e instanceof Td)n={update:tC(t,e.key,e.value)};else if(e instanceof ew)n={delete:Bv(t,e.key)};else if(e instanceof Po)n={update:tC(t,e.key,e.data),updateMask:GU(e.fieldMask)};else{if(!(e instanceof CU))return He(16599,{ft:e.type});n={verify:Bv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof rd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof sd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof id)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ep)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw He(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:MU(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:He(27497)}(t,e.precondition)),n}function FU(t,e){return t&&t.length>0?(Ct(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?Bs(s.updateTime):Bs(i);return a.isEqual(Ge.min())&&(a=Bs(i)),new bU(a,s.transformResults||[])}(n,e))):[]}function $U(t,e){return{documents:[$T(t,e.path)]}}function UU(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$T(t,s);const i=function(u){if(u.length!==0)return BT(ws.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:Wa(m.field),direction:HU(m.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Uv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function zU(t){let e=DU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ct(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const m=zT(p);return m instanceof ws&&vT(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(m=>function(v){return new nd(qa(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,cm(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,g=p.values||[];return new Jf(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const m=!p.before,g=p.values||[];return new Jf(g,m)}(n.endAt)),aU(e,s,a,i,l,"F",c,u)}function BU(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qa(n.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=qa(n.unaryFilter.field);return dn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=qa(n.unaryFilter.field);return dn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=qa(n.unaryFilter.field);return dn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}}(t):t.fieldFilter!==void 0?function(n){return dn.create(qa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ws.create(n.compositeFilter.filters.map(r=>zT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return He(1026)}}(n.compositeFilter.op))}(t):He(30097,{filter:t})}function HU(t){return PU[t]}function WU(t){return AU[t]}function qU(t){return RU[t]}function Wa(t){return{fieldPath:t.canonicalString()}}function qa(t){return Tn.fromServerFormat(t.fieldPath)}function BT(t){return t instanceof dn?function(n){if(n.op==="=="){if(zN(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(UN(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zN(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(UN(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:WU(n.op),value:n.value}}}(t):t instanceof ws?function(n){const r=n.getFilters().map(s=>BT(s));return r.length===1?r[0]:{compositeFilter:{op:qU(n.op),filters:r}}}(t):He(54877,{filter:t})}function GU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,s,i=Ge.min(),a=Ge.min(),l=Mn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.wt=e}}function QU(t){const e=zU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$v(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.Cn=new ZU}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(xo.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class ZU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new vn(Ot.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new vn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WT=41943040;class lr{static withCacheSize(e){return new lr(e,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(WT,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Wl(0)}static lr(){return new Wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="LruGarbageCollector",XU=1048576;function sC([t,e],[n,r]){const s=tt(t,n);return s===0?tt(e,r):s}class JU{constructor(e){this.Er=e,this.buffer=new vn(sC),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ez{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ne(rC,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cc(n)?Ne(rC,"Ignoring IndexedDB error during garbage collection: ",n):await lc(n)}await this.mr(3e5)})}}class tz{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(lm.le);const r=new JU(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(nC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nC):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,a,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Ba()<=ct.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function nz(t,e){return new tz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(){this.changes=new Ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Nu(r.mutation,s,jr.empty(),yn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ut()){const s=Go();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=Xc();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Go();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ut()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=bi();const a=Eu(),l=function(){return Eu()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Po)?i=i.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),Nu(h.mutation,u,h.mutation.getFieldMask(),yn.now())):a.set(u.key,jr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>{var p;return l.set(u,new sz(h,(p=a.get(u))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Eu();let s=new Gt((a,l)=>a-l),i=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||jr.empty();h=l.applyToLocalView(u,h),r.set(c,h);const p=(s.get(l.batchId)||ut()).add(c);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,p=jT();h.forEach(m=>{if(!i.has(m)){const g=RT(n.get(m),r.get(m));g!==null&&p.set(m,g),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,p))}return le.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return De.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ET(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):le.resolve(Go());let l=Xu,c=i;return a.next(u=>le.forEach(u,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(h)?le.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ut())).next(h=>({batchId:l,changes:ST(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(r=>{let s=Xc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Xc();return this.indexManager.getCollectionParents(e,i).next(l=>le.forEach(l,c=>{const u=function(p,m){return new uc(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Gn.newInvalidDocument(h)))});let l=Xc();return a.forEach((c,u)=>{const h=i.get(c);h!==void 0&&Nu(h.mutation,u,jr.empty(),yn.now()),fm(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return le.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Bs(s.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:QU(s.bundledQuery),readTime:Bs(s.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(){this.overlays=new Gt(De.comparator),this.Qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Go();return le.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const s=Go(),i=n.length+1,a=new De(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return le.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Gt((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Go(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=Go(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=s)););return le.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new SU(n,r));let i=this.Qr.get(n);i===void 0&&(i=ut(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.$r=new vn(En.Ur),this.Kr=new vn(En.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new En(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new En(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new De(new Ot([])),r=new En(n,e),s=new En(n,e+1),i=[];return this.Kr.forEachInRange([r,s],a=>{this.zr(a),i.push(a.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new De(new Ot([])),r=new En(n,e),s=new En(n,e+1);let i=ut();return this.Kr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new En(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return De.comparator(e.key,n.key)||tt(e.Zr,n.Zr)}static Wr(e,n){return tt(e.Zr,n.Zr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new vn(En.Ur)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new _U(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Xr=this.Xr.add(new En(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return le.resolve(a)}lookupMutationBatch(e,n){return le.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return le.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Kx:this.nr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new En(n,0),s=new En(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],a=>{const l=this.ei(a.Zr);i.push(l)}),le.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vn(tt);return n.forEach(s=>{const i=new En(s,0),a=new En(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,a],l=>{r=r.add(l.Zr)})}),le.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;De.isDocumentKey(i)||(i=i.child(""));const a=new En(new De(i),0);let l=new vn(tt);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Zr)),!0)},a),le.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ct(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return le.forEach(n.mutations,s=>{const i=new En(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new En(n,0),s=this.Xr.firstAfterOrEqual(r);return le.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e){this.ii=e,this.docs=function(){return new Gt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let r=bi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Gn.newInvalidDocument(s))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=bi();const a=n.path,l=new De(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||F7(V7(h),r)<=0||(s.has(h.key)||fm(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,n,r,s){He(9500)}si(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dz(this)}getSize(e){return le.resolve(this.size)}}class dz extends rz{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.persistence=e,this.oi=new Ia(n=>Zx(n),Xx),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this._i=0,this.ai=new sw,this.targetCount=0,this.ui=Wl.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),le.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Wl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Tr(n),le.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),le.waitFor(i).next(()=>s)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),le.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.ci={},this.overlays={},this.li=new lm(0),this.hi=!1,this.hi=!0,this.Pi=new lz,this.referenceDelegate=e(this),this.Ti=new hz(this),this.indexManager=new YU,this.remoteDocumentCache=function(s){return new uz(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new KU(n),this.Ei=new oz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new az,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new cz(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const s=new fz(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return le.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class fz extends U7{constructor(e){super(),this.currentSequenceNumber=e}}class iw{constructor(e){this.persistence=e,this.Vi=new sw,this.mi=null}static fi(e){return new iw(e)}get gi(){if(this.mi)return this.mi;throw He(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.gi,r=>{const s=De.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,Ge.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return le.or([()=>le.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class np{constructor(e,n){this.persistence=e,this.yi=new Ia(r=>H7(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=nz(this,n)}static fi(e,n){return new np(e,n)}di(){}Ai(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return le.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?le.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,a=>this.Dr(e,a,n).next(l=>{l||(r++,i.removeEntry(a,Ge.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),le.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sf(e.data.value)),n}Dr(e,n,r){return le.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return le.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=ut(),s=ut();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ow(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return kF()?8:z7(Zn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new pz;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Ba()<=ct.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),le.resolve()):(Ba()<=ct.DEBUG&&Ne("QueryEngine","Query:",Ha(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Ba()<=ct.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zs(n))):le.resolve())}ws(e,n){if(qN(n))return le.resolve(null);let r=zs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$v(n,null,"F"),r=zs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=ut(...i);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,l);return this.Cs(n,u,a,c.readTime)?this.ws(e,$v(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,s){return qN(n)||s.isEqual(Ge.min())?le.resolve(null):this.ys.getDocuments(e,r).next(i=>{const a=this.vs(n,i);return this.Cs(n,a,r,s)?le.resolve(null):(Ba()<=ct.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ha(n)),this.Fs(e,a,n,O7(s,Xu)).next(l=>l))})}vs(e,n){let r=new vn(CT(e));return n.forEach((s,i)=>{fm(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ba()<=ct.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.ys.getDocumentsMatchingQuery(e,n,xo.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="LocalStore",gz=3e8;class yz{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Gt(tt),this.Os=new Ia(i=>Zx(i),Xx),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iz(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function vz(t,e,n,r){return new yz(t,e,n,r)}async function GT(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=ut();for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:a,addedBatchIds:l}))})})}function xz(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const p=u.batch,m=p.keys();let g=le.resolve();return m.forEach(v=>{g=g.next(()=>h.getEntry(c,v)).next(y=>{const x=u.docVersions.get(v);Ct(x!==null,48541),y.version.compareTo(x)<0&&(p.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ut();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function KT(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function wz(t,e){const n=qe(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((h,p)=>{const m=s.get(p);if(!m)return;l.push(n.Ti.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(i,h.addedDocuments,p)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(Mn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(p,g),function(y,x,b){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=gz?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,g,h)&&l.push(n.Ti.updateTargetData(i,g))});let c=bi(),u=ut();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(bz(i,a,e.documentUpdates).next(h=>{c=h.qs,u=h.Qs})),!r.isEqual(Ge.min())){const h=n.Ti.getLastRemoteSnapshotVersion(i).next(p=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return le.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.xs=s,i))}function bz(t,e,n){let r=ut(),s=ut();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=bi();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ge.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Ne(aw,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{qs:a,Qs:s}})}function Ez(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Kx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nz(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,le.resolve(s)):n.Ti.allocateTargetId(r).next(a=>(s=new Zi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Wv(t,e,n){const r=qe(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!cc(a))throw a;Ne(aw,`Failed to update sequence numbers for target ${e}: ${a}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function iC(t,e,n){const r=qe(t);let s=Ge.min(),i=ut();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,h){const p=qe(c),m=p.Os.get(h);return m!==void 0?le.resolve(p.xs.get(m)):p.Ti.getTargetData(u,h)}(r,a,zs(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(a,e,n?s:Ge.min(),n?i:ut())).next(l=>(Cz(r,cU(e),l),{documents:l,$s:i})))}function Cz(t,e,n){let r=t.Ns.get(e)||Ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class oC{constructor(){this.activeTargetIds=mU()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _z{constructor(){this.xo=new oC,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new oC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="ConnectivityMonitor";class lC{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ne(aC,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ne(aC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah=null;function qv(){return Ah===null?Ah=function(){return 268435456+Math.round(2147483648*Math.random())}():Ah++,"0x"+Ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="RestConnection",jz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kz{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Zf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const a=qv(),l=this.jo(e,n.toUriEncodedString());Ne(oy,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:u}=new URL(l),h=sc(u);return this.Jo(e,l,c,r,h).then(p=>(Ne(oy,`Received RPC '${e}' ${a}: `,p),p),p=>{throw Ul(oy,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",r),p})}Yo(e,n,r,s,i,a){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ac}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=jz[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="WebChannelConnection";class Tz extends kz{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=qv();return new Promise((l,c)=>{const u=new ZI;u.setWithCredentials(!0),u.listenOnce(XI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case rf.NO_ERROR:const p=u.getResponseJson();Ne(Bn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case rf.TIMEOUT:Ne(Bn,`RPC '${e}' ${a} timed out`),c(new _e(ae.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const m=u.getStatus();if(Ne(Bn,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const y=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(w)>=0?w:ae.UNKNOWN}(v.status);c(new _e(y,v.message))}else c(new _e(ae.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new _e(ae.UNAVAILABLE,"Connection failed."));break;default:He(9055,{h_:e,streamId:a,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{Ne(Bn,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);Ne(Bn,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",h,r,15)})}I_(e,n,r){const s=qv(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tT(),l=eT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");Ne(Bn,`Creating RPC '${e}' stream ${s}: ${h}`,c);const p=a.createWebChannel(h,c);this.E_(p);let m=!1,g=!1;const v=new Iz({Zo:x=>{g?Ne(Bn,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(m||(Ne(Bn,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),Ne(Bn,`RPC '${e}' stream ${s} sending:`,x),p.send(x))},Xo:()=>p.close()}),y=(x,b,w)=>{x.listen(b,N=>{try{w(N)}catch(k){setTimeout(()=>{throw k},0)}})};return y(p,Zc.EventType.OPEN,()=>{g||(Ne(Bn,`RPC '${e}' stream ${s} transport opened.`),v.__())}),y(p,Zc.EventType.CLOSE,()=>{g||(g=!0,Ne(Bn,`RPC '${e}' stream ${s} transport closed`),v.u_(),this.d_(p))}),y(p,Zc.EventType.ERROR,x=>{g||(g=!0,Ul(Bn,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),v.u_(new _e(ae.UNAVAILABLE,"The operation could not be completed")))}),y(p,Zc.EventType.MESSAGE,x=>{var b;if(!g){const w=x.data[0];Ct(!!w,16349);const N=w,k=(N==null?void 0:N.error)||((b=N[0])===null||b===void 0?void 0:b.error);if(k){Ne(Bn,`RPC '${e}' stream ${s} received error:`,k);const A=k.status;let R=function(j){const T=an[j];if(T!==void 0)return MT(T)}(A),C=k.message;R===void 0&&(R=ae.INTERNAL,C="Unknown error status: "+A+" with message "+k.message),g=!0,v.u_(new _e(R,C)),p.close()}else Ne(Bn,`RPC '${e}' stream ${s} received:`,w),v.c_(w)}}),y(l,JI.STAT_EVENT,x=>{x.stat===Rv.PROXY?Ne(Bn,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Rv.NOPROXY&&Ne(Bn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function ay(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){return new LU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="PersistentStream";class YT{constructor(e,n,r,s,i,a,l,c){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new QT(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(wi(n.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new _e(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ne(cC,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Ne(cC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pz extends YT{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=OU(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ge.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ge.min():a.readTime?Bs(a.readTime):Ge.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Hv(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Vv(c)?{documents:$U(i,c)}:{query:UU(i,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=VT(i,a.resumeToken);const u=Uv(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Ge.min())>0){l.readTime=tp(i,a.snapshotVersion.toTimestamp());const u=Uv(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=BU(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Hv(this.serializer),n.removeTarget=e,this.Q_(n)}}class Az extends YT{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=FU(e.writeResults,e.commitTime),r=Bs(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Hv(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VU(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{}class Lz extends Rz{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new _e(ae.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.zo(e,zv(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new _e(ae.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,zv(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(ae.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Mz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(wi(n),this.ua=!1):Ne("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="RemoteStore";class Dz{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(a=>{r.enqueueAndForget(async()=>{Ta(this)&&(Ne(xa,"Restarting streams for network reachability change."),await async function(c){const u=qe(c);u.da.add(4),await dc(u),u.Va.set("Unknown"),u.da.delete(4),await Ad(u)}(this))})}),this.Va=new Mz(r,s)}}async function Ad(t){if(Ta(t))for(const e of t.Aa)await e(!0)}async function dc(t){for(const e of t.Aa)await e(!1)}function ZT(t,e){const n=qe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),dw(n)?uw(n):hc(n).N_()&&cw(n,e))}function lw(t,e){const n=qe(t),r=hc(n);n.Ea.delete(e),r.N_()&&XT(n,e),n.Ea.size===0&&(r.N_()?r.k_():Ta(n)&&n.Va.set("Unknown"))}function cw(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hc(t).Z_(e)}function XT(t,e){t.ma.Ke(e),hc(t).X_(e)}function uw(t){t.ma=new TU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),hc(t).start(),t.Va.ca()}function dw(t){return Ta(t)&&!hc(t).O_()&&t.Ea.size>0}function Ta(t){return qe(t).da.size===0}function JT(t){t.ma=void 0}async function Oz(t){t.Va.set("Online")}async function Vz(t){t.Ea.forEach((e,n)=>{cw(t,e)})}async function Fz(t,e){JT(t),dw(t)?(t.Va.Pa(e),uw(t)):t.Va.set("Unknown")}async function $z(t,e,n){if(t.Va.set("Online"),e instanceof OT&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(r){Ne(xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rp(t,r)}else if(e instanceof lf?t.ma.Xe(e):e instanceof DT?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ge.min()))try{const r=await KT(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.ma.It(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ea.get(u);h&&i.Ea.set(u,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const h=i.Ea.get(c);if(!h)return;i.Ea.set(c,h.withResumeToken(Mn.EMPTY_BYTE_STRING,h.snapshotVersion)),XT(i,c);const p=new Zi(h.target,c,u,h.sequenceNumber);cw(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ne(xa,"Failed to raise snapshot:",r),await rp(t,r)}}async function rp(t,e,n){if(!cc(e))throw e;t.da.add(1),await dc(t),t.Va.set("Offline"),n||(n=()=>KT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne(xa,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Ad(t)})}function eP(t,e){return e().catch(n=>rp(t,n,e))}async function vm(t){const e=qe(t),n=No(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Kx;for(;Uz(e);)try{const s=await Ez(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,zz(e,s)}catch(s){await rp(e,s)}tP(e)&&nP(e)}function Uz(t){return Ta(t)&&t.Ia.length<10}function zz(t,e){t.Ia.push(e);const n=No(t);n.N_()&&n.ea&&n.ta(e.mutations)}function tP(t){return Ta(t)&&!No(t).O_()&&t.Ia.length>0}function nP(t){No(t).start()}async function Bz(t){No(t).ia()}async function Hz(t){const e=No(t);for(const n of t.Ia)e.ta(n.mutations)}async function Wz(t,e,n){const r=t.Ia.shift(),s=tw.from(r,e,n);await eP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await vm(t)}async function qz(t,e){e&&No(t).ea&&await async function(r,s){if(function(a){return kU(a)&&a!==ae.ABORTED}(s.code)){const i=r.Ia.shift();No(r).L_(),await eP(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await vm(r)}}(t,e),tP(t)&&nP(t)}async function uC(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),Ne(xa,"RemoteStore received new credentials");const r=Ta(n);n.da.add(3),await dc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Ad(n)}async function Gz(t,e){const n=qe(t);e?(n.da.delete(2),await Ad(n)):e||(n.da.add(2),await dc(n),n.Va.set("Unknown"))}function hc(t){return t.fa||(t.fa=function(n,r,s){const i=qe(n);return i.oa(),new Pz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:Oz.bind(null,t),n_:Vz.bind(null,t),i_:Fz.bind(null,t),Y_:$z.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),dw(t)?uw(t):t.Va.set("Unknown")):(await t.fa.stop(),JT(t))})),t.fa}function No(t){return t.ga||(t.ga=function(n,r,s){const i=qe(n);return i.oa(),new Az(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Bz.bind(null,t),i_:qz.bind(null,t),na:Hz.bind(null,t),ra:Wz.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await vm(t)):(await t.ga.stop(),t.Ia.length>0&&(Ne(xa,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new hw(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fw(t,e){if(wi("AsyncQueue",`${e}: ${t}`),cc(t))return new _e(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=Xc(),this.sortedSet=new Gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.pa=new Gt(De.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):He(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ql{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ql(e,n,xl.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Qz{constructor(){this.queries=hC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=qe(n),i=s.queries;s.queries=hC(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new _e(ae.ABORTED,"Firestore shutting down"))}}function hC(){return new Ia(t=>NT(t),hm)}async function pw(t,e){const n=qe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new Kz,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=fw(a,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&gw(n)}async function mw(t,e){const n=qe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Yz(t,e){const n=qe(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Ma(s)&&(r=!0);a.ba=s}}r&&gw(n)}function Zz(t,e,n){const r=qe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function gw(t){t.Ca.forEach(e=>{e.next()})}var Gv,fC;(fC=Gv||(Gv={})).xa="default",fC.Cache="cache";class yw{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Gv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.key=e}}class sP{constructor(e){this.key=e}}class Xz{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ut(),this.mutatedKeys=ut(),this.Za=CT(e),this.Xa=new xl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new dC,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const m=s.get(h),g=fm(this.query,p)?p:null,v=!!m&&this.mutatedKeys.has(m.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;m&&g?m.data.isEqual(g.data)?v!==y&&(r.track({type:3,doc:g}),x=!0):this.ru(m,g)||(r.track({type:2,doc:g}),x=!0,(c&&this.Za(g,c)>0||u&&this.Za(g,u)<0)&&(l=!0)):!m&&g?(r.track({type:0,doc:g}),x=!0):m&&!g&&(r.track({type:1,doc:m}),x=!0,(c||u)&&(l=!0)),x&&(g?(a=a.add(g),i=y?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Xa:a,nu:r,Cs:l,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((h,p)=>function(g,v){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:x})}};return y(g)-y(v)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),s=s!=null&&s;const l=n&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,u=c!==this.Ja;return this.Ja=c,a.length!==0||u?{snapshot:new ql(this.query,e.Xa,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new dC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ut(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new sP(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new rP(r))}),n}au(e){this.Ha=e.$s,this.Ya=ut();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return ql.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const vw="SyncEngine";class Jz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eB{constructor(e){this.key=e,this.cu=!1}}class tB{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Ia(l=>NT(l),hm),this.Pu=new Map,this.Tu=new Set,this.Iu=new Gt(De.comparator),this.Eu=new Map,this.du=new sw,this.Au={},this.Ru=new Map,this.Vu=Wl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function nB(t,e,n=!0){const r=uP(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await iP(r,e,n,!0),s}async function rB(t,e){const n=uP(t);await iP(n,e,!0,!1)}async function iP(t,e,n,r){const s=await Nz(t.localStore,zs(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await sB(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&ZT(t.remoteStore,s),l}async function sB(t,e,n,r,s){t.fu=(p,m,g)=>async function(y,x,b,w){let N=x.view.tu(b);N.Cs&&(N=await iC(y.localStore,x.query,!1).then(({documents:C})=>x.view.tu(C,N)));const k=w&&w.targetChanges.get(x.targetId),A=w&&w.targetMismatches.get(x.targetId)!=null,R=x.view.applyChanges(N,y.isPrimaryClient,k,A);return mC(y,x.targetId,R.ou),R.snapshot}(t,p,m,g);const i=await iC(t.localStore,e,!0),a=new Xz(e,i.$s),l=a.tu(i.documents),c=Pd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);mC(t,n,u.ou);const h=new Jz(e,n,a);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function iB(t,e,n){const r=qe(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(a=>!hm(a,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Wv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&lw(r.remoteStore,s.targetId),Kv(r,s.targetId)}).catch(lc)):(Kv(r,s.targetId),await Wv(r.localStore,s.targetId,!0))}async function oB(t,e){const n=qe(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lw(n.remoteStore,r.targetId))}async function aB(t,e,n){const r=pB(t);try{const s=await function(a,l){const c=qe(a),u=yn.now(),h=l.reduce((g,v)=>g.add(v.key),ut());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=bi(),y=ut();return c.Bs.getEntries(g,h).next(x=>{v=x,v.forEach((b,w)=>{w.isValidDocument()||(y=y.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,v)).next(x=>{p=x;const b=[];for(const w of l){const N=NU(w,p.get(w.key).overlayedDocument);N!=null&&b.push(new Po(w.key,N,mT(N.value.mapValue),Wr.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,b,l)}).next(x=>{m=x;const b=x.applyToLocalDocumentSet(p,y);return c.documentOverlayCache.saveOverlays(g,x.batchId,b)})}).then(()=>({batchId:m.batchId,changes:ST(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Au[a.currentUser.toKey()];u||(u=new Gt(tt)),u=u.insert(l,c),a.Au[a.currentUser.toKey()]=u}(r,s.batchId,n),await Rd(r,s.changes),await vm(r.remoteStore)}catch(s){const i=fw(s,"Failed to persist write");n.reject(i)}}async function oP(t,e){const n=qe(t);try{const r=await wz(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Eu.get(i);a&&(Ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?Ct(a.cu,14607):s.removedDocuments.size>0&&(Ct(a.cu,42227),a.cu=!1))}),await Rd(n,r,e)}catch(r){await lc(r)}}function pC(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,a)=>{const l=a.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=qe(a);c.onlineState=l;let u=!1;c.queries.forEach((h,p)=>{for(const m of p.Sa)m.Fa(l)&&(u=!0)}),u&&gw(c)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lB(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let a=new Gt(De.comparator);a=a.insert(i,Gn.newNoDocument(i,Ge.min()));const l=ut().add(i),c=new gm(Ge.min(),new Map,new Gt(tt),a,l);await oP(r,c),r.Iu=r.Iu.remove(i),r.Eu.delete(e),xw(r)}else await Wv(r.localStore,e,!1).then(()=>Kv(r,e,n)).catch(lc)}async function cB(t,e){const n=qe(t),r=e.batch.batchId;try{const s=await xz(n.localStore,e);lP(n,r,null),aP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rd(n,s)}catch(s){await lc(s)}}async function uB(t,e,n){const r=qe(t);try{const s=await function(a,l){const c=qe(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(p=>(Ct(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);lP(r,e,n),aP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rd(r,s)}catch(s){await lc(s)}}function aP(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function lP(t,e,n){const r=qe(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function Kv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||cP(t,r)})}function cP(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(lw(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),xw(t))}function mC(t,e,n){for(const r of n)r instanceof rP?(t.du.addReference(r.key,e),dB(t,r)):r instanceof sP?(Ne(vw,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||cP(t,r.key)):He(19791,{pu:r})}function dB(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Ne(vw,"New document in limbo: "+n),t.Tu.add(r),xw(t))}function xw(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new De(Ot.fromString(e)),r=t.Vu.next();t.Eu.set(r,new eB(n)),t.Iu=t.Iu.insert(n,r),ZT(t.remoteStore,new Zi(zs(dm(n.path)),r,"TargetPurposeLimboResolution",lm.le))}}async function Rd(t,e,n){const r=qe(t),s=[],i=[],a=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{a.push(r.fu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){s.push(u);const p=ow.Rs(c.targetId,u);i.push(p)}}))}),await Promise.all(a),r.lu.Y_(s),await async function(c,u){const h=qe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>le.forEach(u,m=>le.forEach(m.ds,g=>h.persistence.referenceDelegate.addReference(p,m.targetId,g)).next(()=>le.forEach(m.As,g=>h.persistence.referenceDelegate.removeReference(p,m.targetId,g)))))}catch(p){if(!cc(p))throw p;Ne(aw,"Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const g=h.xs.get(m),v=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(v);h.xs=h.xs.insert(m,y)}}}(r.localStore,i))}async function hB(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){Ne(vw,"User change. New user:",e.toKey());const r=await GT(n.localStore,e);n.currentUser=e,function(i,a){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new _e(ae.CANCELLED,a))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rd(n,r.ks)}}function fB(t,e){const n=qe(t),r=n.Eu.get(e);if(r&&r.cu)return ut().add(r.key);{let s=ut();const i=n.Pu.get(e);if(!i)return s;for(const a of i){const l=n.hu.get(a);s=s.unionWith(l.view.eu)}return s}}function uP(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lB.bind(null,e),e.lu.Y_=Yz.bind(null,e.eventManager),e.lu.gu=Zz.bind(null,e.eventManager),e}function pB(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uB.bind(null,e),e}class sp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ym(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return vz(this.persistence,new mz,e.initialUser,this.serializer)}Su(e){return new qT(iw.fi,this.serializer)}bu(e){return new _z}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sp.provider={build:()=>new sp};class mB extends sp{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ct(this.persistence.referenceDelegate instanceof np,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ez(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?lr.withCacheSize(this.cacheSizeBytes):lr.DEFAULT;return new qT(r=>np.fi(r,n),this.serializer)}}class Qv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hB.bind(null,this.syncEngine),await Gz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Qz}()}createDatastore(e){const n=ym(e.databaseInfo.databaseId),r=function(i){return new Tz(i)}(e.databaseInfo);return function(i,a,l,c){return new Lz(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new Dz(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>pC(this.syncEngine,n,0),function(){return lC.C()?new lC:new Sz}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,h){const p=new tB(s,i,a,l,c,u);return h&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=qe(s);Ne(xa,"RemoteStore shutting down."),i.da.add(5),await dc(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qv.provider={build:()=>new Qv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="FirestoreClient";class gB{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Wn.UNAUTHENTICATED,this.clientId=iT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{Ne(Co,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Ne(Co,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ly(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(Co,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await GT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dP(t);Ne(Co,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>uC(e.remoteStore,s)),t._onlineComponents=e}async function dP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(Co,"Using user provided OfflineComponentProvider");try{await ly(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ul("Error using user provided cache. Falling back to memory cache: "+n),await ly(t,new sp)}}else Ne(Co,"Using default OfflineComponentProvider"),await ly(t,new mB(void 0));return t._offlineComponents}async function bw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(Co,"Using user provided OnlineComponentProvider"),await gC(t,t._uninitializedComponentsProvider._online)):(Ne(Co,"Using default OnlineComponentProvider"),await gC(t,new Qv))),t._onlineComponents}function hP(t){return dP(t).then(e=>e.persistence)}function fP(t){return bw(t).then(e=>e.remoteStore)}function yB(t){return bw(t).then(e=>e.syncEngine)}async function ip(t){const e=await bw(t),n=e.eventManager;return n.onListen=nB.bind(null,e.syncEngine),n.onUnlisten=iB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oB.bind(null,e.syncEngine),n}function vB(t){return t.asyncQueue.enqueue(async()=>{const e=await hP(t),n=await fP(t);return e.setNetworkEnabled(!0),function(s){const i=qe(s);return i.da.delete(0),Ad(i)}(n)})}function xB(t){return t.asyncQueue.enqueue(async()=>{const e=await hP(t),n=await fP(t);return e.setNetworkEnabled(!1),async function(s){const i=qe(s);i.da.add(0),await dc(i),i.Va.set("Offline")}(n)})}function wB(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new ww({next:m=>{h.xu(),a.enqueueAndForget(()=>mw(i,p));const g=m.docs.has(l);!g&&m.fromCache?u.reject(new _e(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new _e(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new yw(dm(l.path),h,{includeMetadataChanges:!0,Qa:!0});return pw(i,p)}(await ip(t),t.asyncQueue,e,n,r)),r.promise}function bB(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new ww({next:m=>{h.xu(),a.enqueueAndForget(()=>mw(i,p)),m.fromCache&&c.source==="server"?u.reject(new _e(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new yw(l,h,{includeMetadataChanges:!0,Qa:!0});return pw(i,p)}(await ip(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e,n){if(!n)throw new _e(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EB(t,e,n,r){if(e===!0&&r===!0)throw new _e(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vC(t){if(!De.isDocumentKey(t))throw new _e(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xC(t){if(De.isDocumentKey(t))throw new _e(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function Kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xm(t);throw new _e(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="firestore.googleapis.com",wC=!0;class bC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gP,this.ssl=wC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:wC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XU)throw new _e(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k7;switch(r.type){case"firstParty":return new A7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yC.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),yC.delete(n),r.terminate())}(this),Promise.resolve()}}function NB(t,e,n,r={}){var s;t=Kn(t,wm);const i=sc(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(tI(`https://${c}`),nI("Firestore",!0)),a.host!==gP&&a.host!==c&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:i,emulatorOptions:r});if(!fa(u,l)&&(t._setSettings(u),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Wn.MOCK_USER;else{h=xF(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new _e(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Wn(m)}t._authCredentials=new I7(new rT(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ao(this.firestore,e,this._query)}}class Qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class po extends Ao{constructor(e,n,r){super(e,n,dm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new De(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function tn(t,e,...n){if(t=Ft(t),mP("collection","path",e),t instanceof wm){const r=Ot.fromString(e,...n);return xC(r),new po(t,null,r)}{if(!(t instanceof Qn||t instanceof po))throw new _e(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return xC(r),new po(t.firestore,null,r)}}function Nt(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=iT.newId()),mP("doc","path",e),t instanceof wm){const r=Ot.fromString(e,...n);return vC(r),new Qn(t,null,new De(r))}{if(!(t instanceof Qn||t instanceof po))throw new _e(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return vC(r),new Qn(t.firestore,t instanceof po?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="AsyncQueue";class NC{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new QT(this,"async_queue_retry"),this.rc=()=>{const r=ay();r&&Ne(EC,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=ay();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=ay();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new di;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!cc(e))throw e;Ne(EC,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,wi("INTERNAL UNHANDLED ERROR: ",CC(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=hw.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&He(47125,{cc:CC(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function CC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class bs extends wm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new NC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NC(e),this._firestoreClient=void 0,await e}}}function CB(t,e){const n=typeof t=="object"?t:oI(),r=typeof t=="string"?t:Zf,s=Mx(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=yF("firestore");i&&NB(s,...i)}return s}function fc(t){if(t._terminated)throw new _e(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_B(t),t._firestoreClient}function _B(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,h){return new G7(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,pP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new gB(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function SB(t){return vB(fc(t=Kn(t,bs)))}function jB(t){return xB(fc(t=Kn(t,bs)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gl(Mn.fromBase64String(e))}catch(n){throw new _e(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gl(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=/^__.*__$/;class IB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Po(e,this.data,this.fieldMask,n,this.fieldTransforms):new Td(e,this.data,n,this.fieldTransforms)}}class yP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ic:t})}}class Cw{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Cw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return op(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(vP(this.Ic)&&kB.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class TB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ym(e)}bc(e,n,r,s=!1){return new Cw({Ic:e,methodName:n,wc:r,path:Tn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nm(t){const e=t._freezeSettings(),n=ym(t._databaseId);return new TB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xP(t,e,n,r,s,i={}){const a=t.bc(i.merge||i.mergeFields?2:0,e,n,s);Sw("Data must be an object, but it was:",a,r);const l=wP(r,a);let c,u;if(i.merge)c=new jr(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const m=Yv(e,p,n);if(!a.contains(m))throw new _e(ae.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);EP(h,m)||h.push(m)}c=new jr(h),u=a.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=a.fieldTransforms;return new IB(new dr(l),c,u)}class Cm extends Em{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cm}}class _w extends Em{_toFieldTransform(e){return new xU(e.path,new rd)}isEqual(e){return e instanceof _w}}function PB(t,e,n,r){const s=t.bc(1,e,n);Sw("Data must be an object, but it was:",s,r);const i=[],a=dr.empty();To(r,(c,u)=>{const h=jw(e,c,n);u=Ft(u);const p=s.mc(h);if(u instanceof Cm)i.push(h);else{const m=Ld(u,p);m!=null&&(i.push(h),a.set(h,m))}});const l=new jr(i);return new yP(a,l,s.fieldTransforms)}function AB(t,e,n,r,s,i){const a=t.bc(1,e,n),l=[Yv(e,r,n)],c=[s];if(i.length%2!=0)throw new _e(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(Yv(e,i[m])),c.push(i[m+1]);const u=[],h=dr.empty();for(let m=l.length-1;m>=0;--m)if(!EP(u,l[m])){const g=l[m];let v=c[m];v=Ft(v);const y=a.mc(g);if(v instanceof Cm)u.push(g);else{const x=Ld(v,y);x!=null&&(u.push(g),h.set(g,x))}}const p=new jr(u);return new yP(h,p,a.fieldTransforms)}function RB(t,e,n,r=!1){return Ld(n,t.bc(r?4:3,e))}function Ld(t,e){if(bP(t=Ft(t)))return Sw("Unsupported field value:",e,t),wP(t,e);if(t instanceof Em)return function(r,s){if(!vP(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Ld(l,s.fc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gU(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=yn.fromDate(r);return{timestampValue:tp(s.serializer,i)}}if(r instanceof yn){const i=new yn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tp(s.serializer,i)}}if(r instanceof Ew)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gl)return{bytesValue:VT(s.serializer,r._byteString)};if(r instanceof Qn){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:rw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Nw)return function(a,l){return{mapValue:{fields:{[fT]:{stringValue:pT},[Xf]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.gc("VectorValues must only contain numeric values.");return Jx(l.serializer,u)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${xm(r)}`)}(t,e)}function wP(t,e){const n={};return aT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,(r,s)=>{const i=Ld(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function bP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yn||t instanceof Ew||t instanceof Gl||t instanceof Qn||t instanceof Em||t instanceof Nw)}function Sw(t,e,n){if(!bP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=xm(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Yv(t,e,n){if((e=Ft(e))instanceof bm)return e._internalPath;if(typeof e=="string")return jw(t,e);throw op("Field path arguments must be of type string or ",t,!1,void 0,n)}const LB=new RegExp("[~\\*/\\[\\]]");function jw(t,e,n){if(e.search(LB)>=0)throw op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bm(...e.split("."))._internalPath}catch{throw op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function op(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new _e(ae.INVALID_ARGUMENT,l+t+c)}function EP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_m("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MB extends NP{data(){return super.data()}}function _m(t,e){return typeof e=="string"?jw(t,e):e instanceof bm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kw{}class _P extends kw{}function kr(t,e,...n){let r=[];e instanceof kw&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof Iw).length,l=i.filter(c=>c instanceof Sm).length;if(a>1||a>0&&l>0)throw new _e(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Sm extends _P{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sm(e,n,r)}_apply(e){const n=this._parse(e);return SP(e._query,n),new Ao(e.firestore,e.converter,Fv(e._query,n))}_parse(e){const n=Nm(e.firestore);return function(i,a,l,c,u,h,p){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new _e(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){jC(p,h);const v=[];for(const y of p)v.push(SC(c,i,y));m={arrayValue:{values:v}}}else m=SC(c,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||jC(p,h),m=RB(l,a,p,h==="in"||h==="not-in");return dn.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Pr(t,e,n){const r=e,s=_m("where",t);return Sm._create(s,r,n)}class Iw extends kw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Iw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ws.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)SP(a,c),a=Fv(a,c)}(e._query,n),new Ao(e.firestore,e.converter,Fv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tw extends _P{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tw(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new _e(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new _e(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nd(i,a)}(e._query,this._field,this._direction);return new Ao(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new uc(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function DB(t,e="asc"){const n=e,r=_m("orderBy",t);return Tw._create(r,n)}function SC(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new _e(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ET(e)&&n.indexOf("/")!==-1)throw new _e(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ot.fromString(n));if(!De.isDocumentKey(r))throw new _e(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $N(t,new De(r))}if(n instanceof Qn)return $N(t,n._key);throw new _e(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xm(n)}.`)}function jC(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SP(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _e(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OB{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Xf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>nn(a.doubleValue));return new Nw(i)}convertGeoPoint(e){return new Ew(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=um(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const n=wo(e);return new yn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ot.fromString(e);Ct(HT(r),9688,{name:e});const s=new ed(r.get(1),r.get(3)),i=new De(r.popFirst(5));return s.isEqual(n)||wi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kP extends NP{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_m("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cf extends kP{data(e={}){return super.data(e)}}class IP{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new eu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cf(this._firestore,this._userDataWriter,r.key,r,new eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new cf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new eu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new cf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new eu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:VB(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function VB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){t=Kn(t,Qn);const e=Kn(t.firestore,bs);return wB(fc(e),t._key).then(n=>AP(e,t,n))}class Pw extends OB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function Xn(t){t=Kn(t,Ao);const e=Kn(t.firestore,bs),n=fc(e),r=new Pw(e);return CP(t._query),bB(n,t._query).then(s=>new IP(e,r,t,s))}function TP(t,e,n){t=Kn(t,Qn);const r=Kn(t.firestore,bs),s=jP(t.converter,e,n);return jm(r,[xP(Nm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Wr.none())])}function An(t,e,n,...r){t=Kn(t,Qn);const s=Kn(t.firestore,bs),i=Nm(s);let a;return a=typeof(e=Ft(e))=="string"||e instanceof bm?AB(i,"updateDoc",t._key,e,n,r):PB(i,"updateDoc",t._key,e),jm(s,[a.toMutation(t._key,Wr.exists(!0))])}function Aw(t){return jm(Kn(t.firestore,bs),[new ew(t._key,Wr.none())])}function Es(t,e){const n=Kn(t.firestore,bs),r=Nt(t),s=jP(t.converter,e);return jm(n,[xP(Nm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Wr.exists(!1))]).then(()=>r)}function PP(t,...e){var n,r,s;t=Ft(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||_C(e[a])||(i=e[a],a++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_C(e[a])){const p=e[a];e[a]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[a+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[a+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let c,u,h;if(t instanceof Qn)u=Kn(t.firestore,bs),h=dm(t._key.path),c={next:p=>{e[a]&&e[a](AP(u,t,p))},error:e[a+1],complete:e[a+2]};else{const p=Kn(t,Ao);u=Kn(p.firestore,bs),h=p._query;const m=new Pw(u);c={next:g=>{e[a]&&e[a](new IP(u,m,p,g))},error:e[a+1],complete:e[a+2]},CP(t._query)}return function(m,g,v,y){const x=new ww(y),b=new yw(g,x,v);return m.asyncQueue.enqueueAndForget(async()=>pw(await ip(m),b)),()=>{x.xu(),m.asyncQueue.enqueueAndForget(async()=>mw(await ip(m),b))}}(fc(u),h,l,c)}function jm(t,e){return function(r,s){const i=new di;return r.asyncQueue.enqueueAndForget(async()=>aB(await yB(r),s,i)),i.promise}(fc(t),e)}function AP(t,e,n){const r=n.docs.get(e._key),s=new Pw(t);return new kP(t,s,e._key,r,new eu(n.hasPendingWrites,n.fromCache),e.converter)}function FB(){return new _w("serverTimestamp")}(function(e,n=!0){(function(s){ac=s})(oc),$l(new pa("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new bs(new T7(r.getProvider("auth-internal")),new R7(a,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new _e(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ed(u.options.projectId,h)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ho(kN,IN,e),ho(kN,IN,"esm2017")})();const $B={apiKey:"AIzaSyBhiSxNUrQ4b_iwpYr4F_J1UW3XOwzsMmE",authDomain:"dsa-squad.firebaseapp.com",databaseURL:"https://dsa-squad-default-rtdb.firebaseio.com",projectId:"dsa-squad",storageBucket:"dsa-squad.firebasestorage.app",messagingSenderId:"762339454857",appId:"1:762339454857:web:bfc50ed181e2daefe2fb58",measurementId:"G-WCPR6FCESS"},RP=iI($B),Et=S7(RP),Ve=CB(RP);let Rw=navigator.onLine;window.addEventListener("online",()=>{Rw=!0,console.log("App is online"),SB(Ve).catch(console.error)});window.addEventListener("offline",()=>{Rw=!1,console.log("App is offline"),jB(Ve).catch(console.error)});const kC=()=>Rw,Kl=async(t,e=3)=>{for(let n=0;n<e;n++)try{return await t()}catch(r){if(console.error(`Firebase operation failed (attempt ${n+1}/${e}):`,r),n===e-1)throw r;await new Promise(s=>setTimeout(s,Math.pow(2,n)*1e3))}},Ue={FOOD:"food",DRINKS:"drinks",DAILY_ESSENTIAL:"daily_essential"},bt={PIZZAS:"pizzas",BURGERS:"burgers",BIRYANI:"biryani",CHINESE:"chinese",INDIAN:"indian",DESSERTS:"desserts",BEER:"beer",WINE:"wine",SPIRITS:"spirits",COCKTAILS:"cocktails",STAPLES:"staples",SNACKS:"snacks",BEVERAGES:"beverages",PERSONAL_CARE:"personal_care",HOUSEHOLD:"household"},LP=[{name:"All",icon:"🌐",category:Ue.FOOD,subcategory:"all",displayName:"All"},{name:"Pizzas",icon:"🍕",category:Ue.FOOD,subcategory:bt.PIZZAS,displayName:"Pizzas"},{name:"Biryani",icon:"🍛",category:Ue.FOOD,subcategory:bt.BIRYANI,displayName:"Biryani"},{name:"Chinese",icon:"🥡",category:Ue.FOOD,subcategory:bt.CHINESE,displayName:"Chinese"},{name:"Burgers",icon:"🍔",category:Ue.FOOD,subcategory:bt.BURGERS,displayName:"Burgers"},{name:"Indian",icon:"🍛",category:Ue.FOOD,subcategory:bt.INDIAN,displayName:"Indian"},{name:"Desserts",icon:"🍰",category:Ue.FOOD,subcategory:bt.DESSERTS,displayName:"Desserts"},{name:"All",icon:"🌐",category:Ue.DRINKS,subcategory:"all",displayName:"All"},{name:"Beer",icon:"🍺",category:Ue.DRINKS,subcategory:bt.BEER,displayName:"Beer"},{name:"Wine",icon:"🍷",category:Ue.DRINKS,subcategory:bt.WINE,displayName:"Wine"},{name:"Spirits",icon:"🥃",category:Ue.DRINKS,subcategory:bt.SPIRITS,displayName:"Spirits"},{name:"Cocktails",icon:"🍹",category:Ue.DRINKS,subcategory:bt.COCKTAILS,displayName:"Cocktails"},{name:"All",icon:"🌐",category:Ue.DAILY_ESSENTIAL,subcategory:"all",displayName:"All"},{name:"Staples",icon:"🛒",category:Ue.DAILY_ESSENTIAL,subcategory:bt.STAPLES,displayName:"Staples"},{name:"Snacks",icon:"🍿",category:Ue.DAILY_ESSENTIAL,subcategory:bt.SNACKS,displayName:"Snacks"},{name:"Beverages",icon:"🥤",category:Ue.DAILY_ESSENTIAL,subcategory:bt.BEVERAGES,displayName:"Beverages"},{name:"Personal Care",icon:"🧴",category:Ue.DAILY_ESSENTIAL,subcategory:bt.PERSONAL_CARE,displayName:"Personal Care"},{name:"Household",icon:"🏠",category:Ue.DAILY_ESSENTIAL,subcategory:bt.HOUSEHOLD,displayName:"Household"}],UB=[{name:"Domino's Pizza",price:250,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:Ue.FOOD,subcategory:bt.PIZZAS,description:"Delicious pizza with fresh toppings",deliveryTime:"20-25 mins",inStock:!0,isVeg:!1,discount:"20% OFF",tags:["pizza","italian","cheese","tomato"]},{name:"Spice N Ice Biryani",price:220,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:Ue.FOOD,subcategory:bt.BIRYANI,description:"Aromatic biryani with tender meat",deliveryTime:"25-30 mins",inStock:!0,isVeg:!1,offer:"BUY1 GET1",tags:["biryani","rice","spicy","indian"]},{name:"China Nation Noodles",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:Ue.FOOD,subcategory:bt.CHINESE,description:"Stir-fried noodles with vegetables",deliveryTime:"15-20 mins",inStock:!0,isVeg:!0,tags:["noodles","chinese","vegetarian","stir-fry"]},{name:"Classic Burger",price:150,rating:4.2,image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400",category:Ue.FOOD,subcategory:bt.BURGERS,description:"Juicy beef burger with fresh vegetables",deliveryTime:"18-22 mins",inStock:!0,isVeg:!1,discount:"15% OFF",tags:["burger","beef","fast-food","american"]},{name:"Butter Chicken",price:280,rating:4.6,image:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400",category:Ue.FOOD,subcategory:bt.INDIAN,description:"Creamy butter chicken with naan",deliveryTime:"30-35 mins",inStock:!0,isVeg:!1,tags:["chicken","indian","curry","butter"]},{name:"Chocolate Cake",price:120,rating:4.4,image:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400",category:Ue.FOOD,subcategory:bt.DESSERTS,description:"Rich chocolate cake with cream",deliveryTime:"20-25 mins",inStock:!0,isVeg:!0,tags:["cake","chocolate","dessert","sweet"]},{name:"Heineken Beer",price:120,rating:4.3,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Ue.DRINKS,subcategory:bt.BEER,description:"Premium lager beer",deliveryTime:"30-45 mins",inStock:!0,tags:["beer","lager","alcohol","premium"]},{name:"Red Wine",price:450,rating:4.5,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Ue.DRINKS,subcategory:bt.WINE,description:"Smooth red wine",deliveryTime:"30-45 mins",inStock:!0,discount:"10% OFF",tags:["wine","red","alcohol","premium"]},{name:"Whiskey",price:800,rating:4.7,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Ue.DRINKS,subcategory:bt.SPIRITS,description:"Premium whiskey",deliveryTime:"30-45 mins",inStock:!0,tags:["whiskey","spirits","alcohol","premium"]},{name:"Mojito Cocktail",price:180,rating:4.2,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Ue.DRINKS,subcategory:bt.COCKTAILS,description:"Refreshing mojito cocktail",deliveryTime:"25-35 mins",inStock:!0,tags:["cocktail","mojito","alcohol","refreshing"]},{name:"Basmati Rice",price:80,rating:4.4,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400",category:Ue.DAILY_ESSENTIAL,subcategory:bt.STAPLES,description:"Premium basmati rice",deliveryTime:"60-90 mins",inStock:!0,discount:"5% OFF",tags:["rice","basmati","staples","grocery"]},{name:"Potato Chips",price:30,rating:4.1,image:"https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=400",category:Ue.DAILY_ESSENTIAL,subcategory:bt.SNACKS,description:"Crispy potato chips",deliveryTime:"60-90 mins",inStock:!0,tags:["chips","snacks","potato","crispy"]},{name:"Coca Cola",price:40,rating:4,image:"https://images.unsplash.com/photo-1554866585-aa94861d3f78?w=400",category:Ue.DAILY_ESSENTIAL,subcategory:bt.BEVERAGES,description:"Refreshing cola drink",deliveryTime:"60-90 mins",inStock:!0,tags:["cola","beverage","soft-drink","refreshing"]},{name:"Toothpaste",price:60,rating:4.3,image:"https://images.unsplash.com/photo-1559591935-c6c92c6c2b6e?w=400",category:Ue.DAILY_ESSENTIAL,subcategory:bt.PERSONAL_CARE,description:"Fresh mint toothpaste",deliveryTime:"60-90 mins",inStock:!0,tags:["toothpaste","personal-care","hygiene","mint"]},{name:"Dish Soap",price:45,rating:4.2,image:"https://images.unsplash.com/photo-1559591935-c6c92c6c2b6e?w=400",category:Ue.DAILY_ESSENTIAL,subcategory:bt.HOUSEHOLD,description:"Effective dish cleaning soap",deliveryTime:"60-90 mins",inStock:!0,tags:["soap","household","cleaning","dishes"]}],zB=async()=>{try{const t=tn(Ve,"categories");if((await Xn(t)).empty){const n=LP.map(r=>Es(t,{...r,createdAt:new Date,updatedAt:new Date}));await Promise.all(n),console.log("Categories initialized successfully")}}catch(t){console.error("Error initializing categories:",t)}},_o=async t=>{try{const e=tn(Ve,"categories"),n=kr(e,Pr("category","==",t)),r=await Xn(n),s=[];return r.forEach(i=>{const a=i.data(),l={id:i.id,...a};s.push(l)}),s.sort((i,a)=>i.name.localeCompare(a.name)),s}catch(e){return console.error("Error fetching categories:",e),LP.filter(n=>n.category===t)}},BB=async()=>{try{const t=tn(Ve,"products");if((await Xn(t)).empty){const n=UB.map(r=>Es(t,{...r,createdAt:new Date,updatedAt:new Date}));await Promise.all(n),console.log("Products initialized successfully")}}catch(t){console.error("Error initializing products:",t)}},tu=async(t,e=null,n=null)=>{try{const r=tn(Ve,"products");let s;e?s=kr(r,Pr("category","==",e)):s=kr(r,DB("name")),n&&(e?s=kr(s,Pr("subcategory","==",n)):s=kr(r,Pr("subcategory","==",n)));const i=await Xn(s),a=[];return i.forEach(l=>{const c=l.data(),u={id:l.id,...c};(!t||u.name.toLowerCase().includes(t.toLowerCase())||u.description.toLowerCase().includes(t.toLowerCase())||u.tags&&u.tags.some(h=>h.toLowerCase().includes(t.toLowerCase())))&&a.push(u)}),(e||n)&&a.sort((l,c)=>l.name.localeCompare(c.name)),a}catch(r){return console.error("Error searching products:",r),[]}},wl=async t=>await tu("",t),HB=async()=>{try{const t=tn(Ve,"products"),e=await Xn(t),n=tn(Ve,"categories"),r=await Xn(n),s=new Map;r.forEach(l=>{var h,p;const c=l.data(),u=`${(h=c.category)==null?void 0:h.toLowerCase()}-${(p=c.subcategory)==null?void 0:p.toLowerCase()}`;s.set(u,c)});const i=[],a={pizzas:"🍕",burgers:"🍔",biryani:"🍛",chinese:"🥡",indian:"🍛",desserts:"🍰",momo:"🥟",vindi:"🥦",sandwiches:"🥪",noodles:"🍜",rice:"🍚",curry:"🍛",breads:"🥖",soups:"🍲",salads:"🥗",wraps:"🌯",tacos:"🌮",sushi:"🍣",pasta:"🍝",beer:"🍺",wine:"🍷",spirits:"🥃",cocktails:"🍹",juice:"🧃",soda:"🥤",coffee:"☕",tea:"🫖",smoothies:"🥤",milkshakes:"🥤",energy_drinks:"⚡",staples:"🛒",snacks:"🍿",beverages:"🥤",personal_care:"🧴","personal care":"🧴",household:"🏠",fruits:"🍎",vegetables:"🥬",dairy:"🥛",meat:"🥩",frozen:"🧊",canned:"🥫",bakery:"🥖",condiments:"🧂",spices:"🌶️",oils:"🫗",grains:"🌾",pulses:"🫘",nuts:"🥜",chocolates:"🍫",candies:"🍬"};if(e.forEach(l=>{var h,p;const c=l.data();if(!c.subcategory||c.subcategory==="all")return;const u=`${(h=c.category)==null?void 0:h.toLowerCase()}-${(p=c.subcategory)==null?void 0:p.toLowerCase()}`;if(!s.has(u)){const m=a[c.subcategory.toLowerCase()]||"📦",g=c.subcategory.charAt(0).toUpperCase()+c.subcategory.slice(1);i.push({name:g,icon:m,category:c.category,subcategory:c.subcategory.toLowerCase(),displayName:g,createdAt:new Date,updatedAt:new Date})}}),i.length>0){console.log("Adding missing subcategories:",i);const l=i.map(c=>Es(n,c));await Promise.all(l),console.log(`Added ${i.length} missing subcategories to Firestore`)}else console.log("No missing subcategories found");return i}catch(t){return console.error("Error syncing missing subcategories:",t),[]}},WB=async(t=4)=>{try{const e=tn(Ve,"orders"),n=await Xn(e),r={};return n.forEach(i=>{const a=i.data();Array.isArray(a.items)&&a.items.forEach(l=>{l.id&&(r[l.id]||(r[l.id]={count:0,product:l}),r[l.id].count+=l.quantity||1)})}),Object.values(r).sort((i,a)=>a.count-i.count).slice(0,t).map(i=>({...i.product,totalBought:i.count}))}catch(e){return console.error("Error fetching top bought products:",e),[]}},MP=async()=>{try{console.log("Checking if products exist in database...");const t=tn(Ve,"products"),e=await Xn(t);e.empty?(console.log("No products found in database, initializing..."),await BB()):console.log("Found",e.size,"products in database")}catch(t){console.error("Error checking products:",t)}};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=d.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>d.createElement("svg",{ref:c,...GB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DP("lucide",s),...l},[...a.map(([u,h])=>d.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(t,e)=>{const n=d.forwardRef(({className:r,...s},i)=>d.createElement(KB,{ref:i,iconNode:e,className:DP(`lucide-${qB(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=ye("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=ye("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=ye("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=ye("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=ye("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=ye("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=ye("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=ye("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=ye("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=ye("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=ye("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=ye("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=ye("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=ye("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=ye("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ye("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=ye("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=ye("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ye("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=ye("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=ye("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ye("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=ye("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ye("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=ye("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=ye("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=ye("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=ye("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=ye("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=ye("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=ye("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),MC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,DC=_2,km=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return DC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],p=i==null?void 0:i[u];if(h===null)return null;const m=MC(h)||MC(p);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[p,m]=h;return m===void 0||(u[p]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:p,className:m,...g}=h;return Object.entries(g).every(v=>{let[y,x]=v;return Array.isArray(x)?x.includes({...i,...l}[y]):{...i,...l}[y]===x})?[...u,p,m]:u},[]);return DC(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},NH=km("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=d.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?h5:"button";return o.jsx(a,{className:Le(NH({variant:e,size:n,className:t})),ref:i,...s})});W.displayName="Button";const CH=km("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function It({className:t,variant:e,...n}){return o.jsx("div",{className:Le(CH({variant:e}),t),...n})}const Be=d.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus:outline-none focus-visible:outline-none focus:ring-0 focus-visible:ring-0 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Be.displayName="Input";var _H="Label",HP=d.forwardRef((t,e)=>o.jsx(Oe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));HP.displayName=_H;var WP=HP;const SH=km("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Re=d.forwardRef(({className:t,...e},n)=>o.jsx(WP,{ref:n,className:Le(SH(),t),...e}));Re.displayName=WP.displayName;const Pe=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Le("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Pe.displayName="Card";const xt=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Le("flex flex-col space-y-1.5 p-6",t),...e}));xt.displayName="CardHeader";const wt=d.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:Le("text-2xl font-semibold leading-none tracking-tight",t),...e}));wt.displayName="CardTitle";const jH=d.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:Le("text-sm text-muted-foreground",t),...e}));jH.displayName="CardDescription";const Ae=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Le("p-6 pt-0",t),...e}));Ae.displayName="CardContent";const kH=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Le("flex items-center p-6 pt-0",t),...e}));kH.displayName="CardFooter";function Im(t){const e=t+"CollectionProvider",[n,r]=ir(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:x,children:b}=y,w=de.useRef(null),N=de.useRef(new Map).current;return o.jsx(s,{scope:x,itemMap:N,collectionRef:w,children:b})};a.displayName=e;const l=t+"CollectionSlot",c=da(l),u=de.forwardRef((y,x)=>{const{scope:b,children:w}=y,N=i(l,b),k=dt(x,N.collectionRef);return o.jsx(c,{ref:k,children:w})});u.displayName=l;const h=t+"CollectionItemSlot",p="data-radix-collection-item",m=da(h),g=de.forwardRef((y,x)=>{const{scope:b,children:w,...N}=y,k=de.useRef(null),A=dt(x,k),R=i(h,b);return de.useEffect(()=>(R.itemMap.set(k,{ref:k,...N}),()=>void R.itemMap.delete(k))),o.jsx(m,{[p]:"",ref:A,children:w})});g.displayName=h;function v(y){const x=i(t+"CollectionConsumer",y);return de.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const N=Array.from(w.querySelectorAll(`[${p}]`));return Array.from(x.itemMap.values()).sort((R,C)=>N.indexOf(R.ref.current)-N.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},v,r]}var IH=d.createContext(void 0);function mc(t){const e=d.useContext(IH);return t||e||"ltr"}var cy="rovingFocusGroup.onEntryFocus",TH={bubbles:!1,cancelable:!0},Od="RovingFocusGroup",[e0,qP,PH]=Im(Od),[AH,gc]=ir(Od,[PH]),[RH,LH]=AH(Od),GP=d.forwardRef((t,e)=>o.jsx(e0.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(e0.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(MH,{...t,ref:e})})}));GP.displayName=Od;var MH=d.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=t,m=d.useRef(null),g=dt(e,m),v=mc(i),[y,x]=xs({prop:a,defaultProp:l??null,onChange:c,caller:Od}),[b,w]=d.useState(!1),N=Hs(u),k=qP(n),A=d.useRef(!1),[R,C]=d.useState(0);return d.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(cy,N),()=>_.removeEventListener(cy,N)},[N]),o.jsx(RH,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:y,onItemFocus:d.useCallback(_=>x(_),[x]),onItemShiftTab:d.useCallback(()=>w(!0),[]),onFocusableItemAdd:d.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:d.useCallback(()=>C(_=>_-1),[]),children:o.jsx(Oe.div,{tabIndex:b||R===0?-1:0,"data-orientation":r,...p,ref:g,style:{outline:"none",...t.style},onMouseDown:be(t.onMouseDown,()=>{A.current=!0}),onFocus:be(t.onFocus,_=>{const j=!A.current;if(_.target===_.currentTarget&&j&&!b){const T=new CustomEvent(cy,TH);if(_.currentTarget.dispatchEvent(T),!T.defaultPrevented){const I=k().filter(F=>F.focusable),P=I.find(F=>F.active),L=I.find(F=>F.id===y),U=[P,L,...I].filter(Boolean).map(F=>F.ref.current);YP(U,h)}}A.current=!1}),onBlur:be(t.onBlur,()=>w(!1))})})}),KP="RovingFocusGroupItem",QP=d.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=t,c=Hr(),u=i||c,h=LH(KP,n),p=h.currentTabStopId===u,m=qP(n),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:y}=h;return d.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),o.jsx(e0.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Oe.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:be(t.onMouseDown,x=>{r?h.onItemFocus(u):x.preventDefault()}),onFocus:be(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:be(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=VH(x,h.orientation,h.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let N=m().filter(k=>k.focusable).map(k=>k.ref.current);if(b==="last")N.reverse();else if(b==="prev"||b==="next"){b==="prev"&&N.reverse();const k=N.indexOf(x.currentTarget);N=h.loop?FH(N,k+1):N.slice(k+1)}setTimeout(()=>YP(N))}}),children:typeof a=="function"?a({isCurrentTabStop:p,hasTabStop:y!=null}):a})})});QP.displayName=KP;var DH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function OH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function VH(t,e,n){const r=OH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return DH[r]}function YP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function FH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Fw=GP,$w=QP,Tm="Tabs",[$H,$Z]=ir(Tm,[gc]),ZP=gc(),[UH,Uw]=$H(Tm),XP=d.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=mc(l),[p,m]=xs({prop:r,onChange:s,defaultProp:i??"",caller:Tm});return o.jsx(UH,{scope:n,baseId:Hr(),value:p,onValueChange:m,orientation:a,dir:h,activationMode:c,children:o.jsx(Oe.div,{dir:h,"data-orientation":a,...u,ref:e})})});XP.displayName=Tm;var JP="TabsList",eA=d.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Uw(JP,n),a=ZP(n);return o.jsx(Fw,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(Oe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});eA.displayName=JP;var tA="TabsTrigger",nA=d.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=Uw(tA,n),l=ZP(n),c=iA(a.baseId,r),u=oA(a.baseId,r),h=r===a.value;return o.jsx($w,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(Oe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:be(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?a.onValueChange(r):p.preventDefault()}),onKeyDown:be(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&a.onValueChange(r)}),onFocus:be(t.onFocus,()=>{const p=a.activationMode!=="manual";!h&&!s&&p&&a.onValueChange(r)})})})});nA.displayName=tA;var rA="TabsContent",sA=d.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=Uw(rA,n),c=iA(l.baseId,r),u=oA(l.baseId,r),h=r===l.value,p=d.useRef(h);return d.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(Zr,{present:s||h,children:({present:m})=>o.jsx(Oe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:m&&i})})});sA.displayName=rA;function iA(t,e){return`${t}-trigger-${e}`}function oA(t,e){return`${t}-content-${e}`}var zH=XP,aA=eA,lA=nA,cA=sA;const BH=zH,uA=d.forwardRef(({className:t,...e},n)=>o.jsx(aA,{ref:n,className:Le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));uA.displayName=aA.displayName;const t0=d.forwardRef(({className:t,...e},n)=>o.jsx(lA,{ref:n,className:Le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));t0.displayName=lA.displayName;const n0=d.forwardRef(({className:t,...e},n)=>o.jsx(cA,{ref:n,className:Le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));n0.displayName=cA.displayName;const dA=({isOpen:t,onComplete:e})=>{const[n,r]=d.useState(!1),[s,i]=d.useState({displayName:"",phone:"",age:""}),[a,l]=d.useState({displayName:"",phone:"",age:""});d.useEffect(()=>{t&&Et.currentUser&&i(p=>({...p,displayName:Et.currentUser.displayName||"",phone:Et.currentUser.phoneNumber||""}))},[t]);const c=()=>{const p={displayName:"",phone:"",age:""};if(s.displayName.trim()?s.displayName.trim().length<2&&(p.displayName="Name must be at least 2 characters long"):p.displayName="Name is required",s.phone.trim()?/^[\+]?[1-9][\d]{0,15}$/.test(s.phone.replace(/\s/g,""))||(p.phone="Please enter a valid phone number"):p.phone="Phone number is required",!s.age.trim())p.age="Age is required";else{const m=parseInt(s.age);(isNaN(m)||m<13||m>120)&&(p.age="Age must be between 13 and 120")}return l(p),!Object.values(p).some(m=>m!=="")},u=async p=>{if(p.preventDefault(),!!c()){if(!Et.currentUser){z.error("User not authenticated");return}r(!0);try{await DI(Et.currentUser,{displayName:s.displayName.trim()});const m=Nt(Ve,"users",Et.currentUser.uid),g=await wa(m),v={displayName:s.displayName.trim(),email:Et.currentUser.email,phone:s.phone.trim(),age:parseInt(s.age),isOnboarded:!0,createdAt:g.exists()?g.data().createdAt:new Date,updatedAt:new Date,settings:g.exists()?g.data().settings:{notifications:!0,language:"en",sound:!0,emailNotifications:!0,pushNotifications:!0,darkMode:!1}};await TP(m,v,{merge:!0}),z.success("Profile completed successfully!"),e()}catch(m){console.error("Error saving user data:",m),z.error("Failed to save profile. Please try again.")}finally{r(!1)}}},h=(p,m)=>{i(g=>({...g,[p]:m})),a[p]&&l(g=>({...g,[p]:""}))};return t?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs(Pe,{className:"w-full max-w-md bg-white",children:[o.jsxs(xt,{className:"text-center",children:[o.jsx(wt,{className:"text-2xl font-bold text-gray-800",children:"Complete Your Profile"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Please provide your details to complete your account setup"})]}),o.jsx(Ae,{children:o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"displayName",className:"text-gray-700",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(zi,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Be,{id:"displayName",type:"text",placeholder:"Enter your full name",value:s.displayName,onChange:p=>h("displayName",p.target.value),className:`pl-10 ${a.displayName?"border-red-500":""}`,disabled:n})]}),a.displayName&&o.jsx("p",{className:"text-red-500 text-xs",children:a.displayName})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(vr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Be,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:s.phone,onChange:p=>h("phone",p.target.value),className:`pl-10 ${a.phone?"border-red-500":""}`,disabled:n})]}),a.phone&&o.jsx("p",{className:"text-red-500 text-xs",children:a.phone})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"age",className:"text-gray-700",children:"Age"}),o.jsxs("div",{className:"relative",children:[o.jsx(OP,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Be,{id:"age",type:"number",placeholder:"Enter your age",value:s.age,onChange:p=>h("age",p.target.value),className:`pl-10 ${a.age?"border-red-500":""}`,min:"13",max:"120",disabled:n})]}),a.age&&o.jsx("p",{className:"text-red-500 text-xs",children:a.age}),o.jsx("p",{className:"text-gray-500 text-xs",children:"You must be at least 13 years old to use this service"})]}),o.jsx(W,{type:"submit",className:"w-full bg-pickngo-orange-500 hover:bg-pickngo-orange-600",disabled:n,children:n?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:["Complete Profile",o.jsx(ap,{className:"ml-2 h-4 w-4"})]})})]})})]})}):null},HH=({isOpen:t,onClose:e,onLoginSuccess:n})=>{const[r,s]=d.useState(!1),[i,a]=d.useState(""),[l,c]=d.useState(""),[u,h]=d.useState(!1),[p,m]=d.useState(!1),[g,v]=d.useState(""),[y,x]=d.useState(""),[b,w]=d.useState(""),[N,k]=d.useState(!1),[A,R]=d.useState(null),[C,_]=d.useState(!1),[j,T]=d.useState(!1),I=()=>{a(""),c(""),v(""),x(""),w(""),k(!1),m(!1),s(!1),_(!1),T(!1)},P=()=>{_(!1),I(),e(),n&&n()},L=async B=>{var O;try{const H=await wa(Nt(Ve,"users",B));return!H.exists()||!((O=H.data())!=null&&O.isOnboarded)}catch(H){return console.error("Error checking user status:",H),!0}},Z=async B=>{B.preventDefault(),s(!0);try{if(p){const O=await e$(Et,i,l);z.success("Account created successfully!"),T(!0),_(!0)}else{const O=await t$(Et,i,l);await L(O.user.uid)?(z.success("Account created successfully!"),T(!0),_(!0)):(z.success("Logged in successfully!"),I(),e(),n&&n())}}catch(O){console.error("Auth error:",O),O.code==="auth/email-already-in-use"?z.error("Email already in use. Please sign in instead."):O.code==="auth/user-not-found"?z.error("User not found. Please check your email or sign up."):O.code==="auth/wrong-password"?z.error("Incorrect password. Please try again."):O.code==="auth/weak-password"?z.error("Password is too weak. Please use a stronger password."):z.error("Authentication failed. Please try again.")}finally{s(!1)}},U=async()=>{s(!0);try{const B=new ri;B.setCustomParameters({prompt:"select_account"});const O=await M$(Et,B);await L(O.user.uid)?(z.success("Account created successfully!"),T(!0),_(!0)):(z.success("Successfully signed in with Google!"),I(),e(),n&&n())}catch(B){console.error("Google auth error:",B),B.code==="auth/popup-closed-by-user"?z.error("Sign-in cancelled. Please try again."):B.code==="auth/popup-blocked"?z.error("Pop-up blocked. Please allow pop-ups for this site."):z.error("Google sign-in failed. Please try again.")}finally{s(!1)}},F=()=>{if(!A){const B=new k$(Et,"recaptcha-container",{size:"invisible",callback:()=>{console.log("reCAPTCHA solved")}});R(B)}},K=async B=>{B.preventDefault(),s(!0);try{if(F(),!A){z.error("reCAPTCHA not ready. Please refresh and try again.");return}const O=g.startsWith("+")?g:`+91${g}`,H=await xN(Et,O,A);w(H.verificationId),k(!0),z.success("OTP sent successfully!")}catch(O){console.error("Phone auth error:",O),O.code==="auth/billing-not-enabled"?z.error("Phone authentication requires billing to be enabled. Please enable billing in Firebase Console."):O.code==="auth/invalid-phone-number"?z.error("Invalid phone number. Please check and try again."):O.code==="auth/too-many-requests"?z.error("Too many requests. Please try again later."):O.code==="auth/quota-exceeded"?z.error("SMS quota exceeded. Please try again later or contact support."):z.error("Failed to send OTP. Please try again.")}finally{s(!1)}},V=async B=>{B.preventDefault(),s(!0);try{const O=sa.credential(b,y),H=await xN(Et,g,A);await L(H.user.uid)?(z.success("Account created successfully!"),T(!0),_(!0)):(z.success("Phone number verified successfully!"),I(),e(),n&&n())}catch(O){console.error("OTP verification error:",O),O.code==="auth/invalid-verification-code"?z.error("Invalid OTP. Please check and try again."):O.code==="auth/code-expired"?(z.error("OTP has expired. Please request a new one."),k(!1)):z.error("OTP verification failed. Please try again.")}finally{s(!1)}},D=async()=>{s(!0);try{await K(new Event("submit"))}catch(B){console.error("Resend OTP error:",B),z.error("Failed to resend OTP. Please try again.")}finally{s(!1)}},$=()=>{I(),e()};return t?o.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[o.jsxs(Pe,{className:"w-full max-w-md bg-white",children:[o.jsxs(xt,{className:"relative",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"absolute right-2 top-2",onClick:$,children:o.jsx(pc,{className:"w-4 h-4"})}),o.jsx(wt,{className:"text-center text-2xl font-bold",children:p?"Create Account":"Welcome Back"})]}),o.jsxs(Ae,{children:[o.jsxs(BH,{defaultValue:"email",className:"w-full",children:[o.jsxs(uA,{className:"grid w-full grid-cols-2",children:[o.jsxs(t0,{value:"email",className:"flex items-center space-x-2",children:[o.jsx(Ks,{className:"w-4 h-4"}),o.jsx("span",{children:"Email"})]}),o.jsxs(t0,{value:"phone",className:"flex items-center space-x-2",children:[o.jsx(vr,{className:"w-4 h-4"}),o.jsx("span",{children:"Phone"})]})]}),o.jsxs(n0,{value:"email",className:"space-y-4",children:[o.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ks,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Be,{id:"email",type:"email",placeholder:"Enter your email",value:i,onChange:B=>a(B.target.value),className:"pl-10",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(BP,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Be,{id:"password",type:u?"text":"password",placeholder:"Enter your password",value:l,onChange:B=>c(B.target.value),className:"pl-10 pr-10",required:!0}),o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>h(!u),children:u?o.jsx(uf,{className:"h-4 w-4"}):o.jsx(Cu,{className:"h-4 w-4"})})]})]}),o.jsx(W,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"mr-2 h-4 w-4 animate-spin"}),p?"Creating Account...":"Signing In..."]}):p?"Create Account":"Sign In"})]}),o.jsx("div",{className:"text-center",children:o.jsx(W,{variant:"link",onClick:()=>m(!p),className:"text-sm",children:p?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with"})})]}),o.jsx(W,{variant:"outline",onClick:U,className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in with Google..."]}):o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]}),o.jsx(n0,{value:"phone",className:"space-y-4",children:N?o.jsxs("form",{onSubmit:V,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"otp",children:"Verification Code"}),o.jsx(Be,{id:"otp",type:"text",placeholder:"Enter 6-digit code",value:y,onChange:B=>x(B.target.value),maxLength:6,className:"text-center text-lg tracking-widest",required:!0}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Enter the 6-digit code sent to ",g]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(W,{type:"submit",className:"flex-1",disabled:r||y.length!==6,children:r?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify OTP"}),o.jsx(W,{type:"button",variant:"outline",onClick:D,disabled:r,children:"Resend"})]}),o.jsx(W,{type:"button",variant:"ghost",onClick:()=>{k(!1),x(""),w("")},className:"w-full",children:"Change Phone Number"})]}):o.jsxs("form",{onSubmit:K,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(vr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Be,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:g,onChange:B=>v(B.target.value),className:"pl-10",required:!0})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"We'll send you a verification code via SMS"})]}),o.jsx(W,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending OTP..."]}):"Send OTP"})]})})]}),o.jsx("div",{id:"recaptcha-container",className:"mt-4"})]})]}),o.jsx(dA,{isOpen:C,onComplete:P})]}):null};var uy="focusScope.autoFocusOnMount",dy="focusScope.autoFocusOnUnmount",OC={bubbles:!1,cancelable:!0},WH="FocusScope",Pm=d.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=d.useState(null),u=Hs(s),h=Hs(i),p=d.useRef(null),m=dt(e,y=>c(y)),g=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let y=function(N){if(g.paused||!l)return;const k=N.target;l.contains(k)?p.current=k:Ai(p.current,{select:!0})},x=function(N){if(g.paused||!l)return;const k=N.relatedTarget;k!==null&&(l.contains(k)||Ai(p.current,{select:!0}))},b=function(N){if(document.activeElement===document.body)for(const A of N)A.removedNodes.length>0&&Ai(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const w=new MutationObserver(b);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),w.disconnect()}}},[r,l,g.paused]),d.useEffect(()=>{if(l){FC.add(g);const y=document.activeElement;if(!l.contains(y)){const b=new CustomEvent(uy,OC);l.addEventListener(uy,u),l.dispatchEvent(b),b.defaultPrevented||(qH(ZH(hA(l)),{select:!0}),document.activeElement===y&&Ai(l))}return()=>{l.removeEventListener(uy,u),setTimeout(()=>{const b=new CustomEvent(dy,OC);l.addEventListener(dy,h),l.dispatchEvent(b),b.defaultPrevented||Ai(y??document.body,{select:!0}),l.removeEventListener(dy,h),FC.remove(g)},0)}}},[l,u,h,g]);const v=d.useCallback(y=>{if(!n&&!r||g.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(x&&b){const w=y.currentTarget,[N,k]=GH(w);N&&k?!y.shiftKey&&b===k?(y.preventDefault(),n&&Ai(N,{select:!0})):y.shiftKey&&b===N&&(y.preventDefault(),n&&Ai(k,{select:!0})):b===w&&y.preventDefault()}},[n,r,g.paused]);return o.jsx(Oe.div,{tabIndex:-1,...a,ref:m,onKeyDown:v})});Pm.displayName=WH;function qH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ai(r,{select:e}),document.activeElement!==n)return}function GH(t){const e=hA(t),n=VC(e,t),r=VC(e.reverse(),t);return[n,r]}function hA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function VC(t,e){for(const n of t)if(!KH(n,{upTo:e}))return n}function KH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function QH(t){return t instanceof HTMLInputElement&&"select"in t}function Ai(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&QH(t)&&e&&t.select()}}var FC=YH();function YH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=$C(t,e),t.unshift(e)},remove(e){var n;t=$C(t,e),(n=t[0])==null||n.resume()}}}function $C(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ZH(t){return t.filter(e=>e.tagName!=="A")}var hy=0;function zw(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??UC()),document.body.insertAdjacentElement("beforeend",t[1]??UC()),hy++,()=>{hy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hy--}},[])}function UC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var df="right-scroll-bar-position",hf="width-before-scroll-bar",XH="with-scroll-bars-hidden",JH="--removed-body-scroll-bar-size";function fy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function eW(t,e){var n=d.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var tW=typeof window<"u"?d.useLayoutEffect:d.useEffect,zC=new WeakMap;function nW(t,e){var n=eW(null,function(r){return t.forEach(function(s){return fy(s,r)})});return tW(function(){var r=zC.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||fy(l,null)}),i.forEach(function(l){s.has(l)||fy(l,a)})}zC.set(n,t)},[t]),n}function rW(t){return t}function sW(t,e){e===void 0&&(e=rW);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var h=a;a=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),n}}}};return s}function iW(t){t===void 0&&(t={});var e=sW(null);return e.options=Ls({async:!0,ssr:!1},t),e}var fA=function(t){var e=t.sideCar,n=Cd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Ls({},n))};fA.isSideCarExport=!0;function oW(t,e){return t.useMedium(e),fA}var pA=iW(),py=function(){},Am=d.forwardRef(function(t,e){var n=d.useRef(null),r=d.useState({onScrollCapture:py,onWheelCapture:py,onTouchMoveCapture:py}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,p=t.shards,m=t.sideCar,g=t.noRelative,v=t.noIsolation,y=t.inert,x=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,N=t.gapMode,k=Cd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,R=nW([n,e]),C=Ls(Ls({},k),s);return d.createElement(d.Fragment,null,h&&d.createElement(A,{sideCar:pA,removeScrollBar:u,shards:p,noRelative:g,noIsolation:v,inert:y,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:N}),a?d.cloneElement(d.Children.only(l),Ls(Ls({},C),{ref:R})):d.createElement(w,Ls({},C,{className:c,ref:R}),l))});Am.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Am.classNames={fullWidth:hf,zeroRight:df};var aW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=aW();return e&&t.setAttribute("nonce",e),t}function cW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function uW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var dW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=lW())&&(cW(e,n),uW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},hW=function(){var t=dW();return function(e,n){d.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},mA=function(){var t=hW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},fW={left:0,top:0,right:0,gap:0},my=function(t){return parseInt(t||"",10)||0},pW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[my(n),my(r),my(s)]},mW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return fW;var e=pW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},gW=mA(),bl="data-scroll-locked",yW=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(XH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(bl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(df,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(hf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(df," .").concat(df,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hf," .").concat(hf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bl,`] {
    `).concat(JH,": ").concat(l,`px;
  }
`)},BC=function(){var t=parseInt(document.body.getAttribute(bl)||"0",10);return isFinite(t)?t:0},vW=function(){d.useEffect(function(){return document.body.setAttribute(bl,(BC()+1).toString()),function(){var t=BC()-1;t<=0?document.body.removeAttribute(bl):document.body.setAttribute(bl,t.toString())}},[])},xW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;vW();var i=d.useMemo(function(){return mW(s)},[s]);return d.createElement(gW,{styles:yW(i,!e,s,n?"":"!important")})},r0=!1;if(typeof window<"u")try{var Lh=Object.defineProperty({},"passive",{get:function(){return r0=!0,!0}});window.addEventListener("test",Lh,Lh),window.removeEventListener("test",Lh,Lh)}catch{r0=!1}var $a=r0?{passive:!1}:!1,wW=function(t){return t.tagName==="TEXTAREA"},gA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!wW(t)&&n[e]==="visible")},bW=function(t){return gA(t,"overflowY")},EW=function(t){return gA(t,"overflowX")},HC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=yA(t,r);if(s){var i=vA(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},NW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},CW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},yA=function(t,e){return t==="v"?bW(e):EW(e)},vA=function(t,e){return t==="v"?NW(e):CW(e)},_W=function(t,e){return t==="h"&&e==="rtl"?-1:1},SW=function(t,e,n,r,s){var i=_W(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,h=a>0,p=0,m=0;do{if(!l)break;var g=vA(t,l),v=g[0],y=g[1],x=g[2],b=y-x-i*v;(v||b)&&yA(t,l)&&(p+=b,m+=v);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(p)<1||!h&&Math.abs(m)<1)&&(u=!0),u},Mh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},WC=function(t){return[t.deltaX,t.deltaY]},qC=function(t){return t&&"current"in t?t.current:t},jW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},kW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},IW=0,Ua=[];function TW(t){var e=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(IW++)[0],i=d.useState(mA)[0],a=d.useRef(t);d.useEffect(function(){a.current=t},[t]),d.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=K9([t.lockRef.current],(t.shards||[]).map(qC),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=d.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var b=Mh(y),w=n.current,N="deltaX"in y?y.deltaX:w[0]-b[0],k="deltaY"in y?y.deltaY:w[1]-b[1],A,R=y.target,C=Math.abs(N)>Math.abs(k)?"h":"v";if("touches"in y&&C==="h"&&R.type==="range")return!1;var _=HC(C,R);if(!_)return!0;if(_?A=C:(A=C==="v"?"h":"v",_=HC(C,R)),!_)return!1;if(!r.current&&"changedTouches"in y&&(N||k)&&(r.current=A),!A)return!0;var j=r.current||A;return SW(j,x,y,j==="h"?N:k)},[]),c=d.useCallback(function(y){var x=y;if(!(!Ua.length||Ua[Ua.length-1]!==i)){var b="deltaY"in x?WC(x):Mh(x),w=e.current.filter(function(A){return A.name===x.type&&(A.target===x.target||x.target===A.shadowParent)&&jW(A.delta,b)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var N=(a.current.shards||[]).map(qC).filter(Boolean).filter(function(A){return A.contains(x.target)}),k=N.length>0?l(x,N[0]):!a.current.noIsolation;k&&x.cancelable&&x.preventDefault()}}},[]),u=d.useCallback(function(y,x,b,w){var N={name:y,delta:x,target:b,should:w,shadowParent:PW(b)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(k){return k!==N})},1)},[]),h=d.useCallback(function(y){n.current=Mh(y),r.current=void 0},[]),p=d.useCallback(function(y){u(y.type,WC(y),y.target,l(y,t.lockRef.current))},[]),m=d.useCallback(function(y){u(y.type,Mh(y),y.target,l(y,t.lockRef.current))},[]);d.useEffect(function(){return Ua.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",c,$a),document.addEventListener("touchmove",c,$a),document.addEventListener("touchstart",h,$a),function(){Ua=Ua.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,$a),document.removeEventListener("touchmove",c,$a),document.removeEventListener("touchstart",h,$a)}},[]);var g=t.removeScrollBar,v=t.inert;return d.createElement(d.Fragment,null,v?d.createElement(i,{styles:kW(s)}):null,g?d.createElement(xW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function PW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const AW=oW(pA,TW);var Rm=d.forwardRef(function(t,e){return d.createElement(Am,Ls({},t,{ref:e,sideCar:AW}))});Rm.classNames=Am.classNames;var RW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},za=new WeakMap,Dh=new WeakMap,Oh={},gy=0,xA=function(t){return t&&(t.host||xA(t.parentNode))},LW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=xA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},MW=function(t,e,n,r){var s=LW(e,Array.isArray(t)?t:[t]);Oh[n]||(Oh[n]=new WeakMap);var i=Oh[n],a=[],l=new Set,c=new Set(s),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};s.forEach(u);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(m){if(l.has(m))h(m);else try{var g=m.getAttribute(r),v=g!==null&&g!=="false",y=(za.get(m)||0)+1,x=(i.get(m)||0)+1;za.set(m,y),i.set(m,x),a.push(m),y===1&&v&&Dh.set(m,!0),x===1&&m.setAttribute(n,"true"),v||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return h(e),l.clear(),gy++,function(){a.forEach(function(p){var m=za.get(p)-1,g=i.get(p)-1;za.set(p,m),i.set(p,g),m||(Dh.has(p)||p.removeAttribute(r),Dh.delete(p)),g||p.removeAttribute(n)}),gy--,gy||(za=new WeakMap,za=new WeakMap,Dh=new WeakMap,Oh={})}},Bw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=RW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),MW(r,s,n,"aria-hidden")):function(){return null}},Lm="Dialog",[wA,UZ]=ir(Lm),[DW,Ns]=wA(Lm),bA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=d.useRef(null),c=d.useRef(null),[u,h]=xs({prop:r,defaultProp:s??!1,onChange:i,caller:Lm});return o.jsx(DW,{scope:e,triggerRef:l,contentRef:c,contentId:Hr(),titleId:Hr(),descriptionId:Hr(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(p=>!p),[h]),modal:a,children:n})};bA.displayName=Lm;var EA="DialogTrigger",NA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(EA,n),i=dt(e,s.triggerRef);return o.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qw(s.open),...r,ref:i,onClick:be(t.onClick,s.onOpenToggle)})});NA.displayName=EA;var Hw="DialogPortal",[OW,CA]=wA(Hw,{forceMount:void 0}),_A=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Ns(Hw,e);return o.jsx(OW,{scope:e,forceMount:n,children:d.Children.map(r,a=>o.jsx(Zr,{present:n||i.open,children:o.jsx(Qp,{asChild:!0,container:s,children:a})}))})};_A.displayName=Hw;var dp="DialogOverlay",SA=d.forwardRef((t,e)=>{const n=CA(dp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ns(dp,t.__scopeDialog);return i.modal?o.jsx(Zr,{present:r||i.open,children:o.jsx(FW,{...s,ref:e})}):null});SA.displayName=dp;var VW=da("DialogOverlay.RemoveScroll"),FW=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(dp,n);return o.jsx(Rm,{as:VW,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Oe.div,{"data-state":qw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ba="DialogContent",jA=d.forwardRef((t,e)=>{const n=CA(ba,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ns(ba,t.__scopeDialog);return o.jsx(Zr,{present:r||i.open,children:i.modal?o.jsx($W,{...s,ref:e}):o.jsx(UW,{...s,ref:e})})});jA.displayName=ba;var $W=d.forwardRef((t,e)=>{const n=Ns(ba,t.__scopeDialog),r=d.useRef(null),s=dt(e,n.contentRef,r);return d.useEffect(()=>{const i=r.current;if(i)return Bw(i)},[]),o.jsx(kA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:be(t.onFocusOutside,i=>i.preventDefault())})}),UW=d.forwardRef((t,e)=>{const n=Ns(ba,t.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(kA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),kA=d.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=Ns(ba,n),c=d.useRef(null),u=dt(e,c);return zw(),o.jsxs(o.Fragment,{children:[o.jsx(Pm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(bd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":qw(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(zW,{titleId:l.titleId}),o.jsx(HW,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ww="DialogTitle",IA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(Ww,n);return o.jsx(Oe.h2,{id:s.titleId,...r,ref:e})});IA.displayName=Ww;var TA="DialogDescription",PA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(TA,n);return o.jsx(Oe.p,{id:s.descriptionId,...r,ref:e})});PA.displayName=TA;var AA="DialogClose",RA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(AA,n);return o.jsx(Oe.button,{type:"button",...r,ref:e,onClick:be(t.onClick,()=>s.onOpenChange(!1))})});RA.displayName=AA;function qw(t){return t?"open":"closed"}var LA="DialogTitleWarning",[zZ,MA]=u5(LA,{contentName:ba,titleName:Ww,docsSlug:"dialog"}),zW=({titleId:t})=>{const e=MA(LA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return d.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},BW="DialogDescriptionWarning",HW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MA(BW).contentName}}.`;return d.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},DA=bA,WW=NA,OA=_A,Mm=SA,Dm=jA,Om=IA,Vm=PA,VA=RA;const Os=DA,qW=WW,GW=OA,FA=d.forwardRef(({className:t,...e},n)=>o.jsx(Mm,{ref:n,className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));FA.displayName=Mm.displayName;const ds=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(GW,{children:[o.jsx(FA,{}),o.jsxs(Dm,{ref:r,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(VA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(pc,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ds.displayName=Dm.displayName;const hs=({className:t,...e})=>o.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});hs.displayName="DialogHeader";const fr=d.forwardRef(({className:t,...e},n)=>o.jsx(Om,{ref:n,className:Le("text-lg font-semibold leading-none tracking-tight",t),...e}));fr.displayName=Om.displayName;const zr=d.forwardRef(({className:t,...e},n)=>o.jsx(Vm,{ref:n,className:Le("text-sm text-muted-foreground",t),...e}));zr.displayName=Vm.displayName;const $A=({isOpen:t,onVerified:e,onClose:n})=>{const[r,s]=d.useState(""),i=()=>{if(!r){z.error("Please enter your date of birth");return}const a=new Date,l=new Date(r);Math.floor((a.getTime()-l.getTime())/(365.25*24*60*60*1e3))>=21?(z.success("Age verification successful"),e()):z.error("You must be 21 or older to access this section")};return o.jsx(Os,{open:t,onOpenChange:n,children:o.jsxs(ds,{className:"sm:max-w-md",children:[o.jsxs(hs,{children:[o.jsxs(fr,{className:"flex items-center space-x-2",children:[o.jsx("span",{children:"🍷"}),o.jsx("span",{children:"Age Verification Required"})]}),o.jsx(zr,{children:"You must be 21 or older to access alcoholic beverages. Please verify your age to continue."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"birthdate",children:"Date of Birth"}),o.jsx(Be,{id:"birthdate",type:"date",value:r,onChange:a=>s(a.target.value),className:"mt-1"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(W,{variant:"outline",onClick:n,children:"Cancel"}),o.jsx(W,{onClick:i,children:"Verify Age"})]}),o.jsx("div",{className:"text-xs text-gray-500 text-center",children:o.jsx("p",{children:"By continuing, you confirm that you are of legal drinking age in your jurisdiction."})})]})]})})},Fm=({product:t,onClose:e,onAddToCart:n})=>t?o.jsx(Os,{open:!!t,onOpenChange:e,children:o.jsx(ds,{className:"sm:max-w-2xl",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:t.image,alt:t.name,className:"w-full h-64 md:h-80 object-cover rounded-lg"}),t.originalPrice&&o.jsxs(It,{className:"absolute top-2 left-2 bg-red-500",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(hs,{children:o.jsx(fr,{className:"text-xl",children:t.name})}),o.jsx("div",{className:"flex items-center space-x-2 mb-2",children:o.jsx(It,{variant:"secondary",children:t.category})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Rr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"font-medium",children:t.rating})]}),o.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[o.jsx(Pa,{className:"w-3 h-3 mr-1"}),t.deliveryTime]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-2xl font-bold",children:["₹",t.price]}),t.originalPrice&&o.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["₹",t.originalPrice]})]}),t.inStock?o.jsx(It,{variant:"outline",className:"text-green-600 border-green-600",children:"In Stock"}):o.jsx(It,{variant:"destructive",children:"Out of Stock"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold",children:"Product Features:"}),o.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[o.jsx("li",{children:"• High quality ingredients"}),o.jsx("li",{children:"• Fast delivery guaranteed"}),o.jsx("li",{children:"• Freshness assured"}),o.jsx("li",{children:"• Easy returns if not satisfied"})]})]}),o.jsxs(W,{className:"w-full",onClick:()=>{n(t),e()},disabled:!t.inStock,children:[o.jsx(Ds,{className:"w-4 h-4 mr-2"}),t.inStock?"Add to Cart":"Out of Stock"]})]})]})})}):null,KW=DA,QW=OA,UA=d.forwardRef(({className:t,...e},n)=>o.jsx(Mm,{className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));UA.displayName=Mm.displayName;const YW=km("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),zA=d.forwardRef(({side:t="right",className:e,children:n,...r},s)=>o.jsxs(QW,{children:[o.jsx(UA,{}),o.jsxs(Dm,{ref:s,className:Le(YW({side:t}),e),...r,children:[n,o.jsxs(VA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(pc,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zA.displayName=Dm.displayName;const BA=({className:t,...e})=>o.jsx("div",{className:Le("flex flex-col space-y-2 text-center sm:text-left",t),...e});BA.displayName="SheetHeader";const HA=d.forwardRef(({className:t,...e},n)=>o.jsx(Om,{ref:n,className:Le("text-lg font-semibold text-foreground",t),...e}));HA.displayName=Om.displayName;const WA=d.forwardRef(({className:t,...e},n)=>o.jsx(Vm,{ref:n,className:Le("text-sm text-muted-foreground",t),...e}));WA.displayName=Vm.displayName;var ZW="Separator",GC="horizontal",XW=["horizontal","vertical"],qA=d.forwardRef((t,e)=>{const{decorative:n,orientation:r=GC,...s}=t,i=JW(r)?r:GC,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(Oe.div,{"data-orientation":i,...l,...s,ref:e})});qA.displayName=ZW;function JW(t){return XW.includes(t)}var GA=qA;const Gw=d.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>o.jsx(GA,{ref:s,decorative:n,orientation:e,className:Le("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Gw.displayName=GA.displayName;const $m=({isOpen:t,onClose:e,cart:n,updateQuantity:r,totalPrice:s,onProceedToCheckout:i})=>{const{isDarkMode:a,toggleDarkMode:l}=Kt(),[c,u]=d.useState(""),[h,p]=d.useState(null),[m,g]=d.useState(0),[v,y]=d.useState(""),[x,b]=d.useState(!1),w=Object.values(n.reduce((R,C)=>(R[C.id]?R[C.id].quantity+=C.quantity:R[C.id]={...C},R),{})),N=Math.max(0,s-m+(s>299?0:29)),k=async()=>{y(""),b(!0),g(0),p(null);try{const R=kr(tn(Ve,"promocodes"),Pr("code","==",c.trim()),Pr("status","==","active")),C=await Xn(R);if(C.empty){y("Invalid or expired promo code."),b(!1);return}const _=C.docs[0].data();let j=0;_.discountType==="percentage"?j=Math.round(s*_.discountValue/100):_.discountType==="fixed"&&(j=_.discountValue),g(j),p(_),y("")}catch{y("Error checking promo code.")}finally{b(!1)}},A=()=>{p(null),g(0),u(""),y("")};return o.jsx(KW,{open:t,onOpenChange:e,children:o.jsxs(zA,{className:`w-full sm:max-w-lg flex flex-col ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-l`,children:[o.jsxs(BA,{children:[o.jsx(HA,{className:a?"text-white":"text-gray-800",children:"Shopping Cart"}),o.jsx(WA,{className:a?"text-gray-400":"text-gray-600",children:w.length===0?"Your cart is empty":`${w.length} item${w.length===1?"":"s"} in your cart`})]}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:w.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ds,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:a?"text-gray-400":"text-gray-500",children:"Your cart is empty"}),o.jsx(W,{onClick:()=>e(!1),className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white",children:"Start Shopping"})]}):o.jsx("div",{className:"space-y-4",children:w.map(R=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 border rounded-lg ${a?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx("img",{src:R.image,alt:R.name,className:"w-16 h-16 object-cover rounded-lg"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:`font-medium text-sm ${a?"text-white":"text-gray-800"}`,children:R.name}),o.jsxs("p",{className:`text-sm ${a?"text-gray-400":"text-gray-600"}`,children:["₹",R.price]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(W,{variant:"outline",size:"sm",onClick:()=>r(R.id,R.quantity-1),className:"w-8 h-8 p-0 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"-"}),o.jsx("span",{className:`text-sm font-medium w-8 text-center ${a?"text-white":"text-gray-800"}`,children:R.quantity}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>r(R.id,R.quantity+1),className:"w-8 h-8 p-0 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"+"})]})]}),o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>r(R.id,0),className:"text-red-500 hover:text-red-700",children:"×"})]},R.id))})}),w.length>0&&o.jsx("div",{className:`border-t pt-4 ${a?"border-gray-700":"border-gray-200"}`,children:o.jsxs("div",{className:"space-y-4",children:[h?o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsxs(It,{className:"bg-green-100 text-green-700 px-3 py-1 text-sm",children:[h.code," - ",h.discountType==="percentage"?`${h.discountValue}% off`:`₹${h.discountValue} off`]}),o.jsx(W,{size:"sm",variant:"outline",onClick:A,className:"text-red-500 border-red-300 hover:bg-red-50",children:"Remove"})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Be,{placeholder:"Enter promo code",className:"mb-2",value:c,onChange:R=>u(R.target.value),disabled:x}),o.jsx(W,{variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:k,disabled:x||!c.trim(),children:x?"Checking...":"Apply"})]}),v&&o.jsx("div",{className:"text-red-500 text-xs mb-2",children:v}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal"}),o.jsxs("span",{className:"text-gray-800",children:["₹",s.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),o.jsx("span",{className:"text-gray-800",children:s>299?"FREE":"₹29"})]}),s<299&&o.jsxs("p",{className:"text-xs text-green-600",children:["Add ₹",299-s," more for free delivery!"]}),o.jsx(Gw,{}),m>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-green-600",children:"Discount"}),o.jsxs("span",{className:"text-green-700",children:["-₹",m]})]}),o.jsxs("div",{className:"flex justify-between font-semibold",children:[o.jsx("span",{className:"text-gray-800",children:"Total"}),o.jsxs("span",{className:"text-orange-500",children:["₹",N.toFixed(2)]})]})]}),o.jsx(W,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold",onClick:()=>i({discountAmount:m,appliedPromo:h}),children:"Place Order"}),o.jsx(W,{variant:"outline",className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>{},children:"Clear Cart"})]})})]})})},eq=["Pizza","Milk","Bread","Eggs","Coke","Biscuits","Rice","Snacks","Juice","Soap"],KC=({isOpen:t=!0,onClose:e=()=>{},onProductSelect:n,onAddToCart:r,cart:s=[]})=>{const{isDarkMode:i,toggleDarkMode:a}=Kt(),[l,c]=d.useState(""),[u,h]=d.useState([]),[p,m]=d.useState([]),[g,v]=d.useState(!1),[y,x]=d.useState("all"),[b,w]=d.useState("all"),[N,k]=d.useState(!1),[A,R]=d.useState(""),[C,_]=d.useState(!1),j=d.useRef(null),T=d.useRef(null),I=d.useRef(null),[P,L]=d.useState(!1);d.useEffect(()=>{Z()},[]),d.useEffect(()=>{typeof window<"u"&&L(window.innerWidth>=768)},[]),d.useEffect(()=>{U()},[l,y,b,u]),d.useEffect(()=>{C&&j.current&&j.current.focus({preventScroll:!0})},[C]);const Z=async()=>{v(!0),R("");try{console.log("Loading products for UniversalSearch..."),await MP();const O=await tu("");if(console.log("Loaded products:",O.length),O.length===0){console.log("No products found with empty query, trying category-specific queries...");const[H,ie,q]=await Promise.all([tu("",Ue.FOOD),tu("",Ue.DAILY_ESSENTIAL),tu("",Ue.DRINKS)]);console.log("Food products:",H.length),console.log("Daily essential products:",ie.length),console.log("Drinks products:",q.length);const fe=[...H,...ie,...q];console.log("Combined products:",fe.length),fe.length===0?(console.log("Still no products found, using sample products as fallback..."),h([{id:"1",name:"Domino's Pizza",price:250,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"food",subcategory:"pizzas",description:"Delicious pizza with fresh toppings",deliveryTime:"20-25 mins",inStock:!0,isVeg:!1,discount:"20% OFF",tags:["pizza","italian","cheese","tomato"]},{id:"2",name:"Spice N Ice Biryani",price:220,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"food",subcategory:"biryani",description:"Aromatic biryani with tender meat",deliveryTime:"25-30 mins",inStock:!0,isVeg:!1,offer:"BUY1 GET1",tags:["biryani","rice","spicy","indian"]},{id:"3",name:"China Nation Noodles",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"food",subcategory:"chinese",description:"Stir-fried noodles with vegetables",deliveryTime:"15-20 mins",inStock:!0,isVeg:!0,tags:["noodles","chinese","vegetarian","stir-fry"]},{id:"4",name:"Classic Burger",price:150,rating:4.2,image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400",category:"food",subcategory:"burgers",description:"Juicy beef burger with fresh vegetables",deliveryTime:"18-22 mins",inStock:!0,isVeg:!1,discount:"15% OFF",tags:["burger","beef","fast-food","american"]},{id:"5",name:"Butter Chicken",price:280,rating:4.6,image:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400",category:"food",subcategory:"indian",description:"Creamy butter chicken with naan",deliveryTime:"30-35 mins",inStock:!0,isVeg:!1,tags:["chicken","indian","curry","butter"]},{id:"6",name:"Chocolate Cake",price:120,rating:4.4,image:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400",category:"food",subcategory:"desserts",description:"Rich chocolate cake with cream",deliveryTime:"20-25 mins",inStock:!0,isVeg:!0,tags:["cake","chocolate","dessert","sweet"]}]),R("Using sample products. Database connection may be unavailable.")):h(fe)}else console.log("Setting all products:",O.length),h(O)}catch(O){console.error("Error loading products:",O),R("Failed to load products. Please try again."),z.error("Failed to load products")}finally{v(!1)}},U=()=>{let O=u;if(typeof window<"u"&&window.innerWidth>=640&&!l.trim()){m([]);return}if(l.trim()){const H=l.toLowerCase();O=O.filter(ie=>ie.name.toLowerCase().includes(H))}y&&y!=="all"&&(O=O.filter(H=>H.category===y)),b&&b!=="all"&&(O=O.filter(H=>H.subcategory===b)),m(O)},F=O=>{n&&n(O),_(!1)},K=(O,H)=>{H.stopPropagation(),r&&(r(O),z.success(`${O.name} added to cart!`))},V=()=>{x("all"),w("all"),c("")},D=O=>{c(O),x("all"),w("all")},$=O=>{switch(O){case Ue.FOOD:return"Food";case Ue.DAILY_ESSENTIAL:return"Daily Essential";case Ue.DRINKS:return"Drinks";default:return O}},B=Object.values(bt).filter(O=>typeof O=="string"&&O.trim()!=="").filter((O,H,ie)=>ie.indexOf(O)===H);return b==="all"||B.includes(b),l.trim(),o.jsxs("div",{className:"relative flex-1 max-w-2xl",ref:T,children:[o.jsxs("div",{className:"relative w-full",children:[o.jsx(Be,{ref:j,value:l,onChange:O=>c(O.target.value),placeholder:"Search for products, restaurants, etc...",className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-purple-400 focus:ring-2 focus:ring-purple-100",autoFocus:P}),l&&o.jsx("div",{className:"absolute left-0 right-0 mt-2 bg-white shadow-lg rounded-xl z-20 max-h-72 overflow-y-auto border border-gray-100",children:p.length>0?p.map(O=>o.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 hover:bg-purple-50 cursor-pointer",onClick:()=>n&&n(O),children:[o.jsx("img",{src:O.image,alt:O.name,className:"w-10 h-10 rounded object-cover"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm text-gray-900",children:O.name}),o.jsxs("div",{className:"text-xs text-gray-500",children:["₹",O.price," • ",O.category]})]}),o.jsx(W,{size:"sm",onClick:H=>{H.stopPropagation(),r&&r(O)},children:o.jsx(cp,{className:"w-4 h-4"})})]},O.id)):o.jsx("div",{className:"px-4 py-3 text-gray-400 text-sm",children:"No results found."})})]}),C&&o.jsx("div",{ref:I,className:"z-50 max-h-[70vh] h-[60vh] overflow-y-auto overscroll-contain touch-action-none p-0 shadow-2xl border-0 w-screen max-w-sm left-1/2 -translate-x-1/2 mx-auto rounded-xl fixed top-[145px] sm:absolute sm:w-[400px] sm:max-w-md sm:left-1/2 sm:-translate-x-1/2 sm:overflow-visible sm:touch-auto sm:h-auto",style:window.innerWidth>=640?{top:"110%"}:{},children:o.jsxs("div",{className:`${i?"bg-gray-900":"bg-white"} rounded-xl overflow-hidden`,children:[o.jsx("div",{className:`p-4 border-b ${i?"border-gray-700 bg-gray-800":"border-gray-100 bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:`text-lg font-semibold ${i?"text-white":"text-gray-900"}`,children:l.trim()?`Search Results (${p.length})`:"Search Products"}),l.trim()&&o.jsx(W,{variant:"ghost",size:"sm",onClick:V,className:`text-xs ${i?"text-gray-400 hover:text-orange-400":"text-gray-600 hover:text-orange-500"}`,children:"Clear"})]})}),o.jsxs("div",{className:"p-4",children:[A&&o.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm",children:A}),l.trim()||typeof window<"u"&&window.innerWidth>=640?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 hidden sm:block",children:[o.jsx("h4",{className:`text-xs font-medium mb-1 ${i?"text-gray-300":"text-gray-600"}`,children:"Popular Searches"}),o.jsx("div",{className:"flex flex-nowrap gap-1",children:eq.slice(0,6).map(O=>o.jsx(W,{variant:"outline",size:"sm",onClick:()=>D(O),className:`px-2 py-0.5 text-[11px] rounded-full min-w-0 ${i?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:O},O))})]}),o.jsx("div",{children:g?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):p.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ei,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),o.jsx("p",{className:`text-base font-medium ${i?"text-gray-300":"text-gray-600"}`,children:"No products found"}),o.jsx("p",{className:`text-sm ${i?"text-gray-500":"text-gray-400"}`,children:"Try adjusting your search terms"})]}):o.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:[p.slice(0,10).map(O=>o.jsxs("div",{className:`flex items-center space-x-4 p-3 rounded-xl cursor-pointer transition-all duration-200 hover:shadow-md ${i?"hover:bg-gray-800":"hover:bg-gray-50"}`,onClick:()=>F(O),children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:O.image,alt:O.name,className:"w-16 h-16 object-cover rounded-lg",onError:H=>{H.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yNCAzMkMyNi4yMDkxIDMyIDI4IDMwLjIwOTEgMjggMjhDMjggMjUuNzkwOSAyNi4yMDkxIDI0IDI0IDI0QzIxLjc5MDkgMjQgMjAgMjUuNzkwOSAyMCAyOEMyMCAzMC4yMDkxIDIxLjc5MDkgMzIgMjQgMzJaIiBmaWxsPSIjOUI5QkEwIi8+Cjwvc3ZnPgo="}}),O.discount&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-orange-500 text-white px-1.5 py-0.5 rounded-full text-xs font-bold",children:O.discount})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-semibold text-base truncate ${i?"text-white":"text-gray-900"}`,children:O.name}),o.jsx("p",{className:`text-sm truncate mb-2 ${i?"text-gray-400":"text-gray-600"}`,children:O.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["₹",O.price]}),o.jsx(It,{variant:"secondary",className:`text-xs ${i?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:$(O.category)})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Rr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:`text-sm ${i?"text-gray-300":"text-gray-600"}`,children:O.rating})]})]})]}),o.jsxs(W,{size:"sm",onClick:H=>K(O,H),className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded-lg flex items-center space-x-1",children:[o.jsx(cp,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs",children:"Add"})]})]},O.id)),p.length>10&&o.jsx("div",{className:"text-center py-3",children:o.jsxs("p",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:["+",p.length-10," more results"]})})]})})]}):o.jsxs("div",{className:"hidden sm:block text-center py-8",children:[o.jsx(Ei,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:`text-lg font-medium ${i?"text-gray-300":"text-gray-600"}`,children:"Start typing to search"}),o.jsx("p",{className:`text-sm ${i?"text-gray-500":"text-gray-400"}`,children:"Search for products by name"})]})]})]})})]})},KA=d.createContext(void 0),Um=()=>{const t=d.useContext(KA);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},tq=({children:t})=>{const[e,n]=d.useState([]),[r,s]=d.useState(!1);d.useEffect(()=>{const m=localStorage.getItem("pickngo-cart");if(m)try{n(JSON.parse(m))}catch(g){console.error("Error loading cart from localStorage:",g)}},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(e))},[e]);const p={cart:e,addToCart:m=>{n(g=>g.find(y=>y.id===m.id)?g.map(y=>y.id===m.id?{...y,quantity:y.quantity+1}:y):[...g,{...m,quantity:1}]),setTimeout(()=>{s(!0)},100)},updateCartQuantity:(m,g)=>{n(v=>g<=0?v.filter(y=>y.id!==m):v.map(y=>y.id===m?{...y,quantity:g}:y))},removeFromCart:m=>{n(g=>g.filter(v=>v.id!==m))},clearCart:()=>{n([])},getTotalItems:()=>e.reduce((m,g)=>m+g.quantity,0),getTotalPrice:()=>e.reduce((m,g)=>m+g.price*g.quantity,0),isCartPopupOpen:r,setIsCartPopupOpen:s};return o.jsx(KA.Provider,{value:p,children:t})};var s0=["Enter"," "],nq=["ArrowDown","PageUp","Home"],QA=["ArrowUp","PageDown","End"],rq=[...nq,...QA],sq={ltr:[...s0,"ArrowRight"],rtl:[...s0,"ArrowLeft"]},iq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vd="Menu",[ad,oq,aq]=Im(Vd),[Aa,YA]=ir(Vd,[aq,tc,gc]),zm=tc(),ZA=gc(),[lq,Ra]=Aa(Vd),[cq,Fd]=Aa(Vd),XA=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,l=zm(e),[c,u]=d.useState(null),h=d.useRef(!1),p=Hs(i),m=mc(s);return d.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(f2,{...l,children:o.jsx(lq,{scope:e,open:n,onOpenChange:p,content:c,onContentChange:u,children:o.jsx(cq,{scope:e,onClose:d.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:m,modal:a,children:r})})})};XA.displayName=Vd;var uq="MenuAnchor",Kw=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=zm(n);return o.jsx(_x,{...s,...r,ref:e})});Kw.displayName=uq;var Qw="MenuPortal",[dq,JA]=Aa(Qw,{forceMount:void 0}),eR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ra(Qw,e);return o.jsx(dq,{scope:e,forceMount:n,children:o.jsx(Zr,{present:n||i.open,children:o.jsx(Qp,{asChild:!0,container:s,children:r})})})};eR.displayName=Qw;var qr="MenuContent",[hq,Yw]=Aa(qr),tR=d.forwardRef((t,e)=>{const n=JA(qr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ra(qr,t.__scopeMenu),a=Fd(qr,t.__scopeMenu);return o.jsx(ad.Provider,{scope:t.__scopeMenu,children:o.jsx(Zr,{present:r||i.open,children:o.jsx(ad.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(fq,{...s,ref:e}):o.jsx(pq,{...s,ref:e})})})})}),fq=d.forwardRef((t,e)=>{const n=Ra(qr,t.__scopeMenu),r=d.useRef(null),s=dt(e,r);return d.useEffect(()=>{const i=r.current;if(i)return Bw(i)},[]),o.jsx(Zw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:be(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),pq=d.forwardRef((t,e)=>{const n=Ra(qr,t.__scopeMenu);return o.jsx(Zw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),mq=da("MenuContent.ScrollLock"),Zw=d.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:m,onDismiss:g,disableOutsideScroll:v,...y}=t,x=Ra(qr,n),b=Fd(qr,n),w=zm(n),N=ZA(n),k=oq(n),[A,R]=d.useState(null),C=d.useRef(null),_=dt(e,C,x.onContentChange),j=d.useRef(0),T=d.useRef(""),I=d.useRef(0),P=d.useRef(null),L=d.useRef("right"),Z=d.useRef(0),U=v?Rm:d.Fragment,F=v?{as:mq,allowPinchZoom:!0}:void 0,K=D=>{var ee,ce;const $=T.current+D,B=k().filter(ve=>!ve.disabled),O=document.activeElement,H=(ee=B.find(ve=>ve.ref.current===O))==null?void 0:ee.textValue,ie=B.map(ve=>ve.textValue),q=jq(ie,$,H),fe=(ce=B.find(ve=>ve.textValue===q))==null?void 0:ce.ref.current;(function ve(X){T.current=X,window.clearTimeout(j.current),X!==""&&(j.current=window.setTimeout(()=>ve(""),1e3))})($),fe&&setTimeout(()=>fe.focus())};d.useEffect(()=>()=>window.clearTimeout(j.current),[]),zw();const V=d.useCallback(D=>{var B,O;return L.current===((B=P.current)==null?void 0:B.side)&&Iq(D,(O=P.current)==null?void 0:O.area)},[]);return o.jsx(hq,{scope:n,searchRef:T,onItemEnter:d.useCallback(D=>{V(D)&&D.preventDefault()},[V]),onItemLeave:d.useCallback(D=>{var $;V(D)||(($=C.current)==null||$.focus(),R(null))},[V]),onTriggerLeave:d.useCallback(D=>{V(D)&&D.preventDefault()},[V]),pointerGraceTimerRef:I,onPointerGraceIntentChange:d.useCallback(D=>{P.current=D},[]),children:o.jsx(U,{...F,children:o.jsx(Pm,{asChild:!0,trapped:s,onMountAutoFocus:be(i,D=>{var $;D.preventDefault(),($=C.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(bd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:m,onDismiss:g,children:o.jsx(Fw,{asChild:!0,...N,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:R,onEntryFocus:be(c,D=>{b.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Sx,{role:"menu","aria-orientation":"vertical","data-state":yR(x.open),"data-radix-menu-content":"",dir:b.dir,...w,...y,ref:_,style:{outline:"none",...y.style},onKeyDown:be(y.onKeyDown,D=>{const B=D.target.closest("[data-radix-menu-content]")===D.currentTarget,O=D.ctrlKey||D.altKey||D.metaKey,H=D.key.length===1;B&&(D.key==="Tab"&&D.preventDefault(),!O&&H&&K(D.key));const ie=C.current;if(D.target!==ie||!rq.includes(D.key))return;D.preventDefault();const fe=k().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);QA.includes(D.key)&&fe.reverse(),_q(fe)}),onBlur:be(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(j.current),T.current="")}),onPointerMove:be(t.onPointerMove,ld(D=>{const $=D.target,B=Z.current!==D.clientX;if(D.currentTarget.contains($)&&B){const O=D.clientX>Z.current?"right":"left";L.current=O,Z.current=D.clientX}}))})})})})})})});tR.displayName=qr;var gq="MenuGroup",Xw=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Oe.div,{role:"group",...r,ref:e})});Xw.displayName=gq;var yq="MenuLabel",nR=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Oe.div,{...r,ref:e})});nR.displayName=yq;var hp="MenuItem",QC="menu.itemSelect",Bm=d.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=d.useRef(null),a=Fd(hp,t.__scopeMenu),l=Yw(hp,t.__scopeMenu),c=dt(e,i),u=d.useRef(!1),h=()=>{const p=i.current;if(!n&&p){const m=new CustomEvent(QC,{bubbles:!0,cancelable:!0});p.addEventListener(QC,g=>r==null?void 0:r(g),{once:!0}),Hk(p,m),m.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(rR,{...s,ref:c,disabled:n,onClick:be(t.onClick,h),onPointerDown:p=>{var m;(m=t.onPointerDown)==null||m.call(t,p),u.current=!0},onPointerUp:be(t.onPointerUp,p=>{var m;u.current||(m=p.currentTarget)==null||m.click()}),onKeyDown:be(t.onKeyDown,p=>{const m=l.searchRef.current!=="";n||m&&p.key===" "||s0.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Bm.displayName=hp;var rR=d.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=Yw(hp,n),l=ZA(n),c=d.useRef(null),u=dt(e,c),[h,p]=d.useState(!1),[m,g]=d.useState("");return d.useEffect(()=>{const v=c.current;v&&g((v.textContent??"").trim())},[i.children]),o.jsx(ad.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:o.jsx($w,{asChild:!0,...l,focusable:!r,children:o.jsx(Oe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:be(t.onPointerMove,ld(v=>{r?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(t.onPointerLeave,ld(v=>a.onItemLeave(v))),onFocus:be(t.onFocus,()=>p(!0)),onBlur:be(t.onBlur,()=>p(!1))})})})}),vq="MenuCheckboxItem",sR=d.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return o.jsx(cR,{scope:t.__scopeMenu,checked:n,children:o.jsx(Bm,{role:"menuitemcheckbox","aria-checked":fp(n)?"mixed":n,...s,ref:e,"data-state":eb(n),onSelect:be(s.onSelect,()=>r==null?void 0:r(fp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});sR.displayName=vq;var iR="MenuRadioGroup",[xq,wq]=Aa(iR,{value:void 0,onValueChange:()=>{}}),oR=d.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Hs(r);return o.jsx(xq,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(Xw,{...s,ref:e})})});oR.displayName=iR;var aR="MenuRadioItem",lR=d.forwardRef((t,e)=>{const{value:n,...r}=t,s=wq(aR,t.__scopeMenu),i=n===s.value;return o.jsx(cR,{scope:t.__scopeMenu,checked:i,children:o.jsx(Bm,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":eb(i),onSelect:be(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});lR.displayName=aR;var Jw="MenuItemIndicator",[cR,bq]=Aa(Jw,{checked:!1}),uR=d.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=bq(Jw,n);return o.jsx(Zr,{present:r||fp(i.checked)||i.checked===!0,children:o.jsx(Oe.span,{...s,ref:e,"data-state":eb(i.checked)})})});uR.displayName=Jw;var Eq="MenuSeparator",dR=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});dR.displayName=Eq;var Nq="MenuArrow",hR=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=zm(n);return o.jsx(jx,{...s,...r,ref:e})});hR.displayName=Nq;var Cq="MenuSub",[BZ,fR]=Aa(Cq),ru="MenuSubTrigger",pR=d.forwardRef((t,e)=>{const n=Ra(ru,t.__scopeMenu),r=Fd(ru,t.__scopeMenu),s=fR(ru,t.__scopeMenu),i=Yw(ru,t.__scopeMenu),a=d.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},h=d.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return d.useEffect(()=>h,[h]),d.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),c(null)}},[l,c]),o.jsx(Kw,{asChild:!0,...u,children:o.jsx(rR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":yR(n.open),...t,ref:Wp(e,s.onTriggerChange),onClick:p=>{var m;(m=t.onClick)==null||m.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:be(t.onPointerMove,ld(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:be(t.onPointerLeave,ld(p=>{var g,v;h();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const y=(v=n.content)==null?void 0:v.dataset.side,x=y==="right",b=x?-5:5,w=m[x?"left":"right"],N=m[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+b,y:p.clientY},{x:w,y:m.top},{x:N,y:m.top},{x:N,y:m.bottom},{x:w,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:be(t.onKeyDown,p=>{var g;const m=i.searchRef.current!=="";t.disabled||m&&p.key===" "||sq[r.dir].includes(p.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),p.preventDefault())})})})});pR.displayName=ru;var mR="MenuSubContent",gR=d.forwardRef((t,e)=>{const n=JA(qr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ra(qr,t.__scopeMenu),a=Fd(qr,t.__scopeMenu),l=fR(mR,t.__scopeMenu),c=d.useRef(null),u=dt(e,c);return o.jsx(ad.Provider,{scope:t.__scopeMenu,children:o.jsx(Zr,{present:r||i.open,children:o.jsx(ad.Slot,{scope:t.__scopeMenu,children:o.jsx(Zw,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;a.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:be(t.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:be(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:be(t.onKeyDown,h=>{var g;const p=h.currentTarget.contains(h.target),m=iq[a.dir].includes(h.key);p&&m&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),h.preventDefault())})})})})})});gR.displayName=mR;function yR(t){return t?"open":"closed"}function fp(t){return t==="indeterminate"}function eb(t){return fp(t)?"indeterminate":t?"checked":"unchecked"}function _q(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Sq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function jq(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=Sq(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function kq(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,h=l.y,p=c.x,m=c.y;h>r!=m>r&&n<(p-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function Iq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return kq(n,e)}function ld(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Tq=XA,Pq=Kw,Aq=eR,Rq=tR,Lq=Xw,Mq=nR,Dq=Bm,Oq=sR,Vq=oR,Fq=lR,$q=uR,Uq=dR,zq=hR,Bq=pR,Hq=gR,Hm="DropdownMenu",[Wq,HZ]=ir(Hm,[YA]),or=YA(),[qq,vR]=Wq(Hm),xR=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=or(e),u=d.useRef(null),[h,p]=xs({prop:s,defaultProp:i??!1,onChange:a,caller:Hm});return o.jsx(qq,{scope:e,triggerId:Hr(),triggerRef:u,contentId:Hr(),open:h,onOpenChange:p,onOpenToggle:d.useCallback(()=>p(m=>!m),[p]),modal:l,children:o.jsx(Tq,{...c,open:h,onOpenChange:p,dir:r,modal:l,children:n})})};xR.displayName=Hm;var wR="DropdownMenuTrigger",bR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=vR(wR,n),a=or(n);return o.jsx(Pq,{asChild:!0,...a,children:o.jsx(Oe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Wp(e,i.triggerRef),onPointerDown:be(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:be(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});bR.displayName=wR;var Gq="DropdownMenuPortal",ER=t=>{const{__scopeDropdownMenu:e,...n}=t,r=or(e);return o.jsx(Aq,{...r,...n})};ER.displayName=Gq;var NR="DropdownMenuContent",CR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=vR(NR,n),i=or(n),a=d.useRef(!1);return o.jsx(Rq,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:be(t.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:be(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!s.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CR.displayName=NR;var Kq="DropdownMenuGroup",Qq=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Lq,{...s,...r,ref:e})});Qq.displayName=Kq;var Yq="DropdownMenuLabel",_R=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Mq,{...s,...r,ref:e})});_R.displayName=Yq;var Zq="DropdownMenuItem",SR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Dq,{...s,...r,ref:e})});SR.displayName=Zq;var Xq="DropdownMenuCheckboxItem",jR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Oq,{...s,...r,ref:e})});jR.displayName=Xq;var Jq="DropdownMenuRadioGroup",eG=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Vq,{...s,...r,ref:e})});eG.displayName=Jq;var tG="DropdownMenuRadioItem",kR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Fq,{...s,...r,ref:e})});kR.displayName=tG;var nG="DropdownMenuItemIndicator",IR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx($q,{...s,...r,ref:e})});IR.displayName=nG;var rG="DropdownMenuSeparator",TR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Uq,{...s,...r,ref:e})});TR.displayName=rG;var sG="DropdownMenuArrow",iG=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(zq,{...s,...r,ref:e})});iG.displayName=sG;var oG="DropdownMenuSubTrigger",PR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Bq,{...s,...r,ref:e})});PR.displayName=oG;var aG="DropdownMenuSubContent",AR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=or(n);return o.jsx(Hq,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AR.displayName=aG;var lG=xR,cG=bR,uG=ER,RR=CR,LR=_R,MR=SR,DR=jR,OR=kR,VR=IR,FR=TR,$R=PR,UR=AR;const Xi=lG,Ji=cG,dG=d.forwardRef(({className:t,inset:e,children:n,...r},s)=>o.jsxs($R,{ref:s,className:Le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(FP,{className:"ml-auto h-4 w-4"})]}));dG.displayName=$R.displayName;const hG=d.forwardRef(({className:t,...e},n)=>o.jsx(UR,{ref:n,className:Le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));hG.displayName=UR.displayName;const li=d.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(uG,{children:o.jsx(RR,{ref:r,sideOffset:e,className:Le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));li.displayName=RR.displayName;const vt=d.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(MR,{ref:r,className:Le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));vt.displayName=MR.displayName;const fG=d.forwardRef(({className:t,children:e,checked:n,...r},s)=>o.jsxs(DR,{ref:s,className:Le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(VR,{children:o.jsx(Md,{className:"h-4 w-4"})})}),e]}));fG.displayName=DR.displayName;const pG=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(OR,{ref:r,className:Le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(VR,{children:o.jsx($P,{className:"h-2 w-2 fill-current"})})}),e]}));pG.displayName=OR.displayName;const ci=d.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(LR,{ref:r,className:Le("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));ci.displayName=LR.displayName;const Nr=d.forwardRef(({className:t,...e},n)=>o.jsx(FR,{ref:n,className:Le("-mx-1 my-1 h-px bg-muted",t),...e}));Nr.displayName=FR.displayName;function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function mG(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gG(t){var e=mG(t,"string");return cd(e)=="symbol"?e:e+""}function re(t,e,n){return(e=gG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yy,YC;function yG(){if(YC)return yy;YC=1;var t=function(n,r,s,i,a,l,c,u){if(!n){var h;if(r===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[s,i,a,l,c,u],m=0;h=new Error(r.replace(/%s/g,function(){return p[m++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return yy=t,yy}var vG=yG(),xn=zR(vG),Je=d.createContext(null);function xG(){xn(!!d.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=d.useContext(Je);return xn(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function wG(t,e,n){return Object.keys(t).reduce(function(s,i){return e(s,t[i],i)},n)}function bG(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function EG(t,e,n,r){var s={},i=(a,l)=>{var c=n[l];c!==e[l]&&(s[l]=c,a(r,c))};return bG(t,i),s}function NG(t,e,n){var r=wG(n,function(i,a,l){return typeof t[l]=="function"&&i.push(google.maps.event.addListener(e,a,t[l])),i},[]);return r}function CG(t){google.maps.event.removeListener(t)}function it(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(CG)}function nt(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:s,instance:i}=t,a=NG(s,i,n);return EG(e,r,s,i),a}var ZC={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},XC={extraMapTypes(t,e){e.forEach(function(r,s){t.mapTypes.set(String(s),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function _G(t){var{children:e,options:n,id:r,mapContainerStyle:s,mapContainerClassName:i,center:a,onClick:l,onDblClick:c,onDrag:u,onDragEnd:h,onDragStart:p,onMouseMove:m,onMouseOut:g,onMouseOver:v,onMouseDown:y,onMouseUp:x,onRightClick:b,onCenterChanged:w,onLoad:N,onUnmount:k}=t,[A,R]=d.useState(null),C=d.useRef(null),[_,j]=d.useState(null),[T,I]=d.useState(null),[P,L]=d.useState(null),[Z,U]=d.useState(null),[F,K]=d.useState(null),[V,D]=d.useState(null),[$,B]=d.useState(null),[O,H]=d.useState(null),[ie,q]=d.useState(null),[fe,ee]=d.useState(null),[ce,ve]=d.useState(null),[X,ne]=d.useState(null);return d.useEffect(()=>{n&&A!==null&&A.setOptions(n)},[A,n]),d.useEffect(()=>{A!==null&&typeof a<"u"&&A.setCenter(a)},[A,a]),d.useEffect(()=>{A&&c&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(A,"dblclick",c)))},[c]),d.useEffect(()=>{A&&h&&(P!==null&&google.maps.event.removeListener(P),L(google.maps.event.addListener(A,"dragend",h)))},[h]),d.useEffect(()=>{A&&p&&(Z!==null&&google.maps.event.removeListener(Z),U(google.maps.event.addListener(A,"dragstart",p)))},[p]),d.useEffect(()=>{A&&y&&(F!==null&&google.maps.event.removeListener(F),K(google.maps.event.addListener(A,"mousedown",y)))},[y]),d.useEffect(()=>{A&&m&&(V!==null&&google.maps.event.removeListener(V),D(google.maps.event.addListener(A,"mousemove",m)))},[m]),d.useEffect(()=>{A&&g&&($!==null&&google.maps.event.removeListener($),B(google.maps.event.addListener(A,"mouseout",g)))},[g]),d.useEffect(()=>{A&&v&&(O!==null&&google.maps.event.removeListener(O),H(google.maps.event.addListener(A,"mouseover",v)))},[v]),d.useEffect(()=>{A&&x&&(ie!==null&&google.maps.event.removeListener(ie),q(google.maps.event.addListener(A,"mouseup",x)))},[x]),d.useEffect(()=>{A&&b&&(fe!==null&&google.maps.event.removeListener(fe),ee(google.maps.event.addListener(A,"rightclick",b)))},[b]),d.useEffect(()=>{A&&l&&(ce!==null&&google.maps.event.removeListener(ce),ve(google.maps.event.addListener(A,"click",l)))},[l]),d.useEffect(()=>{A&&u&&(X!==null&&google.maps.event.removeListener(X),ne(google.maps.event.addListener(A,"drag",u)))},[u]),d.useEffect(()=>{A&&w&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(A,"center_changed",w)))},[l]),d.useEffect(()=>{var se=C.current===null?null:new google.maps.Map(C.current,n);return R(se),se!==null&&N&&N(se),()=>{se!==null&&k&&k(se)}},[]),o.jsx("div",{id:r,ref:C,style:s,className:i,children:o.jsx(Je.Provider,{value:A,children:A!==null?e:null})})}d.memo(_G);class BR extends d.PureComponent{constructor(){super(...arguments),re(this,"state",{map:null}),re(this,"registeredEvents",[]),re(this,"mapRef",null),re(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),re(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),re(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),re(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=nt({updaterMap:XC,eventMap:ZC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:XC,eventMap:ZC,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),it(this.registeredEvents))}render(){return o.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:o.jsx(Je.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function JC(t,e,n,r,s,i,a){try{var l=t[i](a),c=l.value}catch(u){return void n(u)}l.done?e(c):Promise.resolve(c).then(r,s)}function HR(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function a(c){JC(i,r,s,a,l,"next",c)}function l(c){JC(i,r,s,a,l,"throw",c)}a(void 0)})}}function WR(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:s,region:i,libraries:a,channel:l,mapIds:c,authReferrerPolicy:u,apiUrl:h="https://maps.googleapis.com"}=t,p=[];return xn(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?p.push("key=".concat(e)):n&&p.push("client=".concat(n)),r&&p.push("v=".concat(r)),s&&p.push("language=".concat(s)),i&&p.push("region=".concat(i)),a&&a.length&&p.push("libraries=".concat(a.sort().join(","))),l&&p.push("channel=".concat(l)),c&&c.length&&p.push("map_ids=".concat(c.join(","))),u&&p.push("auth_referrer_policy=".concat(u)),p.push("loading=async"),p.push("callback=initMap"),"".concat(h,"/maps/api/js?").concat(p.join("&"))}var eo=typeof document<"u";function qR(t){var{url:e,id:n,nonce:r}=t;return eo?new Promise(function(i,a){var l=document.getElementById(n),c=window;if(l){var u=l.getAttribute("data-state");if(l.src===e&&u!=="error"){if(u==="ready")return i(n);var h=c.initMap,p=l.onerror;c.initMap=function(){h&&h(),i(n)},l.onerror=function(g){p&&p(g),a(g)};return}else l.remove()}var m=document.createElement("script");m.type="text/javascript",m.src=e,m.id=n,m.async=!0,m.nonce=r||"",m.onerror=function(v){m.setAttribute("data-state","error"),a(v)},c.initMap=function(){m.setAttribute("data-state","ready"),i(n)},document.head.appendChild(m)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function e_(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function tb(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(s,i){return e_(s)||Reflect.apply(e,t,[s,i]),s};var n=t.appendChild.bind(t);t.appendChild=function(s){return e_(s)||Reflect.apply(n,t,[s]),s}}}var Uc=!1;function GR(){return o.jsx("div",{children:"Loading..."})}var ud={id:"script-loader",version:"weekly"};class SG extends d.PureComponent{constructor(){super(...arguments),re(this,"check",null),re(this,"state",{loaded:!1}),re(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),re(this,"isCleaningUp",HR(function*(){function e(n){if(!Uc)n();else if(eo)var r=window.setInterval(function(){Uc||(window.clearInterval(r),n())},1)}return new Promise(e)})),re(this,"cleanup",()=>{Uc=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),re(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&tb(),xn(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:WR(this.props)};qR(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),re(this,"getRef",e=>{this.check=e})}componentDidMount(){if(eo){if(window.google&&window.google.maps&&!Uc){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),eo&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(eo){this.cleanup();var e=()=>{this.check||(delete window.google,Uc=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||o.jsx(GR,{})]})}}re(SG,"defaultProps",ud);function jG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function nb(t,e){if(t==null)return{};var n,r,s=jG(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var t_;function kG(t){var{id:e=ud.id,version:n=ud.version,nonce:r,googleMapsApiKey:s,googleMapsClientId:i,language:a,region:l,libraries:c,preventGoogleFontsLoading:u,channel:h,mapIds:p,authReferrerPolicy:m,apiUrl:g="https://maps.googleapis.com"}=t,v=d.useRef(!1),[y,x]=d.useState(!1),[b,w]=d.useState(void 0);d.useEffect(function(){return v.current=!0,()=>{v.current=!1}},[]),d.useEffect(function(){eo&&u&&tb()},[u]),d.useEffect(function(){y&&xn(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[y]);var N=WR({version:n,googleMapsApiKey:s,googleMapsClientId:i,language:a,region:l,libraries:c,channel:h,mapIds:p,authReferrerPolicy:m,apiUrl:g});d.useEffect(function(){if(!eo)return;function R(){v.current&&(x(!0),t_=N)}if(window.google&&window.google.maps&&t_===N){R();return}qR({id:e,url:N,nonce:r}).then(R).catch(function(_){v.current&&w(_),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(i||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(_)})},[e,N,r]);var k=d.useRef(void 0);return d.useEffect(function(){k.current&&c!==k.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),k.current=c},[c]),{isLoaded:y,loadError:b,url:N}}var IG=["loadingElement","onLoad","onError","onUnmount","children"],TG=o.jsx(GR,{});function PG(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:s,children:i}=t,a=nb(t,IG),{isLoaded:l,loadError:c}=kG(a);return d.useEffect(function(){l&&typeof n=="function"&&n()},[l,n]),d.useEffect(function(){c&&typeof r=="function"&&r(c)},[c,r]),d.useEffect(function(){return()=>{s&&s()}},[s]),l?i:e||TG}d.memo(PG);function AG(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(p){a(p)}}function c(h){try{u(r.throw(h))}catch(p){a(p)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,[])).next())})}function RG(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var LG=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},MG=RG(LG),n_="__googleMapsScriptId",il;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(il||(il={}));class zo{constructor(e){var{apiKey:n,authReferrerPolicy:r,channel:s,client:i,id:a=n_,language:l,libraries:c=[],mapIds:u,nonce:h,region:p,retries:m=3,url:g="https://maps.googleapis.com/maps/api/js",version:v}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=s,this.client=i,this.id=a||n_,this.language=l,this.libraries=c,this.mapIds=u,this.nonce=h,this.region=p,this.retries=m,this.url=g,this.version=v,zo.instance){if(!MG(this.options,zo.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(zo.instance.options)));return zo.instance}zo.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?il.FAILURE:this.done?il.SUCCESS:this.loading?il.LOADING:il.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(i=>!r[i]&&delete r[i]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(i=>{var a,l,c,u="The Google Maps JavaScript API",h="google",p="importLibrary",m="__ib__",g=document,v=window;v=v[h]||(v[h]={});var y=v.maps||(v.maps={}),x=new Set,b=new URLSearchParams,w=()=>a||(a=new Promise((N,k)=>AG(this,void 0,void 0,function*(){var A;yield l=g.createElement("script"),l.id=this.id,b.set("libraries",[...x]+"");for(c in i)b.set(c.replace(/[A-Z]/g,R=>"_"+R[0].toLowerCase()),i[c]);b.set("callback",h+".maps."+m),l.src=this.url+"?"+b,y[m]=N,l.onerror=()=>a=k(Error(u+" could not load.")),l.nonce=this.nonce||((A=g.querySelector("script[nonce]"))===null||A===void 0?void 0:A.nonce)||"",g.head.append(l)})));y[p]?console.warn(u+" only loads once. Ignoring:",i):y[p]=function(N){for(var k=arguments.length,A=new Array(k>1?k-1:0),R=1;R<k;R++)A[R-1]=arguments[R];return x.add(N)&&w().then(()=>y[p](N,...A))}})(r);var s=this.libraries.map(i=>this.importLibrary(i));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),i=>{var a=new ErrorEvent("error",{error:i});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var DG=["maps"];function KR(t){var{id:e=ud.id,version:n=ud.version,nonce:r,googleMapsApiKey:s,language:i,region:a,libraries:l=DG,preventGoogleFontsLoading:c,mapIds:u,authReferrerPolicy:h}=t,p=d.useRef(!1),[m,g]=d.useState(!1),[v,y]=d.useState(void 0);d.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]);var x=d.useMemo(()=>new zo({id:e,apiKey:s,version:n,libraries:l,language:i||"en",region:a||"US",mapIds:u||[],nonce:r||"",authReferrerPolicy:h||"origin"}),[e,s,n,l,i,a,u,r,h]);d.useEffect(function(){m||x.load().then(()=>{p.current&&g(!0)}).catch(N=>{y(N)})},[]),d.useEffect(()=>{eo&&c&&tb()},[c]);var b=d.useRef();return d.useEffect(()=>{b.current&&l!==b.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),b.current=l},[l]),{isLoaded:m,loadError:v}}function r_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var s_={},i_={options(t,e){t.setOptions(e)}};function OG(t){var{options:e,onLoad:n,onUnmount:r}=t,s=d.useContext(Je),[i,a]=d.useState(null);return d.useEffect(()=>{i!==null&&i.setMap(s)},[s]),d.useEffect(()=>{e&&i!==null&&i.setOptions(e)},[i,e]),d.useEffect(()=>{var l=new google.maps.TrafficLayer(pp(pp({},e),{},{map:s}));return a(l),n&&n(l),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}d.memo(OG);class VG extends d.PureComponent{constructor(){super(...arguments),re(this,"state",{trafficLayer:null}),re(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),re(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(pp(pp({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:i_,eventMap:s_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:i_,eventMap:s_,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),it(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}re(VG,"contextType",Je);function FG(t){var{onLoad:e,onUnmount:n}=t,r=d.useContext(Je),[s,i]=d.useState(null);return d.useEffect(()=>{s!==null&&s.setMap(r)},[r]),d.useEffect(()=>{var a=new google.maps.BicyclingLayer;return i(a),a.setMap(r),e&&e(a),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}d.memo(FG);class $G extends d.PureComponent{constructor(){super(...arguments),re(this,"state",{bicyclingLayer:null}),re(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}re($G,"contextType",Je);function UG(t){var{onLoad:e,onUnmount:n}=t,r=d.useContext(Je),[s,i]=d.useState(null);return d.useEffect(()=>{s!==null&&s.setMap(r)},[r]),d.useEffect(()=>{var a=new google.maps.TransitLayer;return i(a),a.setMap(r),e&&e(a),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}d.memo(UG);class zG extends d.PureComponent{constructor(){super(...arguments),re(this,"state",{transitLayer:null}),re(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}re(zG,"contextType",Je);function o_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var a_={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},l_={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function BG(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:s,onOverlayComplete:i,onPolygonComplete:a,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:h}=t,p=d.useContext(Je),[m,g]=d.useState(null),[v,y]=d.useState(null),[x,b]=d.useState(null),[w,N]=d.useState(null),[k,A]=d.useState(null),[R,C]=d.useState(null),[_,j]=d.useState(null);return d.useEffect(()=>{m!==null&&m.setMap(p)},[p]),d.useEffect(()=>{e&&m!==null&&m.setOptions(e)},[m,e]),d.useEffect(()=>{m!==null&&m.setDrawingMode(n??null)},[m,n]),d.useEffect(()=>{m&&r&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(m,"circlecomplete",r)))},[m,r]),d.useEffect(()=>{m&&s&&(x!==null&&google.maps.event.removeListener(x),b(google.maps.event.addListener(m,"markercomplete",s)))},[m,s]),d.useEffect(()=>{m&&i&&(w!==null&&google.maps.event.removeListener(w),N(google.maps.event.addListener(m,"overlaycomplete",i)))},[m,i]),d.useEffect(()=>{m&&a&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(m,"polygoncomplete",a)))},[m,a]),d.useEffect(()=>{m&&l&&(R!==null&&google.maps.event.removeListener(R),C(google.maps.event.addListener(m,"polylinecomplete",l)))},[m,l]),d.useEffect(()=>{m&&c&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(m,"rectanglecomplete",c)))},[m,c]),d.useEffect(()=>{xn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var T=new google.maps.drawing.DrawingManager(mp(mp({},e),{},{map:p}));return n&&T.setDrawingMode(n),r&&y(google.maps.event.addListener(T,"circlecomplete",r)),s&&b(google.maps.event.addListener(T,"markercomplete",s)),i&&N(google.maps.event.addListener(T,"overlaycomplete",i)),a&&A(google.maps.event.addListener(T,"polygoncomplete",a)),l&&C(google.maps.event.addListener(T,"polylinecomplete",l)),c&&j(google.maps.event.addListener(T,"rectanglecomplete",c)),g(T),u&&u(T),()=>{m!==null&&(v&&google.maps.event.removeListener(v),x&&google.maps.event.removeListener(x),w&&google.maps.event.removeListener(w),k&&google.maps.event.removeListener(k),R&&google.maps.event.removeListener(R),_&&google.maps.event.removeListener(_),h&&h(m),m.setMap(null))}},[]),null}d.memo(BG);class HG extends d.PureComponent{constructor(e){super(e),re(this,"registeredEvents",[]),re(this,"state",{drawingManager:null}),re(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),xn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(mp(mp({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:l_,eventMap:a_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:l_,eventMap:a_,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),it(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}re(HG,"contextType",Je);function c_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function El(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var u_={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},d_={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},gp={};function WG(t){var{position:e,options:n,clusterer:r,noClustererRedraw:s,children:i,draggable:a,visible:l,animation:c,clickable:u,cursor:h,icon:p,label:m,opacity:g,shape:v,title:y,zIndex:x,onClick:b,onDblClick:w,onDrag:N,onDragEnd:k,onDragStart:A,onMouseOut:R,onMouseOver:C,onMouseUp:_,onMouseDown:j,onRightClick:T,onClickableChanged:I,onCursorChanged:P,onAnimationChanged:L,onDraggableChanged:Z,onFlatChanged:U,onIconChanged:F,onPositionChanged:K,onShapeChanged:V,onTitleChanged:D,onVisibleChanged:$,onZindexChanged:B,onLoad:O,onUnmount:H}=t,ie=d.useContext(Je),[q,fe]=d.useState(null),[ee,ce]=d.useState(null),[ve,X]=d.useState(null),[ne,se]=d.useState(null),[ge,Me]=d.useState(null),[Ee,at]=d.useState(null),[ue,Fe]=d.useState(null),[We,_t]=d.useState(null),[rt,et]=d.useState(null),[$e,Qt]=d.useState(null),[sn,Qe]=d.useState(null),[Y,me]=d.useState(null),[G,xe]=d.useState(null),[ke,Ke]=d.useState(null),[ht,St]=d.useState(null),[At,$t]=d.useState(null),[wn,on]=d.useState(null),[Yt,ze]=d.useState(null),[Tt,lt]=d.useState(null),[kt,hn]=d.useState(null),[J,we]=d.useState(null),[Ie,Te]=d.useState(null);d.useEffect(()=>{q!==null&&q.setMap(ie)},[ie]),d.useEffect(()=>{typeof n<"u"&&q!==null&&q.setOptions(n)},[q,n]),d.useEffect(()=>{typeof a<"u"&&q!==null&&q.setDraggable(a)},[q,a]),d.useEffect(()=>{e&&q!==null&&q.setPosition(e)},[q,e]),d.useEffect(()=>{typeof l<"u"&&q!==null&&q.setVisible(l)},[q,l]),d.useEffect(()=>{q==null||q.setAnimation(c)},[q,c]),d.useEffect(()=>{q&&u!==void 0&&q.setClickable(u)},[q,u]),d.useEffect(()=>{q&&h!==void 0&&q.setCursor(h)},[q,h]),d.useEffect(()=>{q&&p!==void 0&&q.setIcon(p)},[q,p]),d.useEffect(()=>{q&&m!==void 0&&q.setLabel(m)},[q,m]),d.useEffect(()=>{q&&g!==void 0&&q.setOpacity(g)},[q,g]),d.useEffect(()=>{q&&v!==void 0&&q.setShape(v)},[q,v]),d.useEffect(()=>{q&&y!==void 0&&q.setTitle(y)},[q,y]),d.useEffect(()=>{q&&x!==void 0&&q.setZIndex(x)},[q,x]),d.useEffect(()=>{q&&w&&(ee!==null&&google.maps.event.removeListener(ee),ce(google.maps.event.addListener(q,"dblclick",w)))},[w]),d.useEffect(()=>{q&&k&&(ve!==null&&google.maps.event.removeListener(ve),X(google.maps.event.addListener(q,"dragend",k)))},[k]),d.useEffect(()=>{q&&A&&(ne!==null&&google.maps.event.removeListener(ne),se(google.maps.event.addListener(q,"dragstart",A)))},[A]),d.useEffect(()=>{q&&j&&(ge!==null&&google.maps.event.removeListener(ge),Me(google.maps.event.addListener(q,"mousedown",j)))},[j]),d.useEffect(()=>{q&&R&&(Ee!==null&&google.maps.event.removeListener(Ee),at(google.maps.event.addListener(q,"mouseout",R)))},[R]),d.useEffect(()=>{q&&C&&(ue!==null&&google.maps.event.removeListener(ue),Fe(google.maps.event.addListener(q,"mouseover",C)))},[C]),d.useEffect(()=>{q&&_&&(We!==null&&google.maps.event.removeListener(We),_t(google.maps.event.addListener(q,"mouseup",_)))},[_]),d.useEffect(()=>{q&&T&&(rt!==null&&google.maps.event.removeListener(rt),et(google.maps.event.addListener(q,"rightclick",T)))},[T]),d.useEffect(()=>{q&&b&&($e!==null&&google.maps.event.removeListener($e),Qt(google.maps.event.addListener(q,"click",b)))},[b]),d.useEffect(()=>{q&&N&&(sn!==null&&google.maps.event.removeListener(sn),Qe(google.maps.event.addListener(q,"drag",N)))},[N]),d.useEffect(()=>{q&&I&&(Y!==null&&google.maps.event.removeListener(Y),me(google.maps.event.addListener(q,"clickable_changed",I)))},[I]),d.useEffect(()=>{q&&P&&(G!==null&&google.maps.event.removeListener(G),xe(google.maps.event.addListener(q,"cursor_changed",P)))},[P]),d.useEffect(()=>{q&&L&&(ke!==null&&google.maps.event.removeListener(ke),Ke(google.maps.event.addListener(q,"animation_changed",L)))},[L]),d.useEffect(()=>{q&&Z&&(ht!==null&&google.maps.event.removeListener(ht),St(google.maps.event.addListener(q,"draggable_changed",Z)))},[Z]),d.useEffect(()=>{q&&U&&(At!==null&&google.maps.event.removeListener(At),$t(google.maps.event.addListener(q,"flat_changed",U)))},[U]),d.useEffect(()=>{q&&F&&(wn!==null&&google.maps.event.removeListener(wn),on(google.maps.event.addListener(q,"icon_changed",F)))},[F]),d.useEffect(()=>{q&&K&&(Yt!==null&&google.maps.event.removeListener(Yt),ze(google.maps.event.addListener(q,"position_changed",K)))},[K]),d.useEffect(()=>{q&&V&&(Tt!==null&&google.maps.event.removeListener(Tt),lt(google.maps.event.addListener(q,"shape_changed",V)))},[V]),d.useEffect(()=>{q&&D&&(kt!==null&&google.maps.event.removeListener(kt),hn(google.maps.event.addListener(q,"title_changed",D)))},[D]),d.useEffect(()=>{q&&$&&(J!==null&&google.maps.event.removeListener(J),we(google.maps.event.addListener(q,"visible_changed",$)))},[$]),d.useEffect(()=>{q&&B&&(Ie!==null&&google.maps.event.removeListener(Ie),Te(google.maps.event.addListener(q,"zindex_changed",B)))},[B]),d.useEffect(()=>{var Ye=El(El(El({},n||gp),r?gp:{map:ie}),{},{position:e}),je=new google.maps.Marker(Ye);return r?r.addMarker(je,!!s):je.setMap(ie),e&&je.setPosition(e),typeof l<"u"&&je.setVisible(l),typeof a<"u"&&je.setDraggable(a),typeof u<"u"&&je.setClickable(u),typeof h=="string"&&je.setCursor(h),p&&je.setIcon(p),typeof m<"u"&&je.setLabel(m),typeof g<"u"&&je.setOpacity(g),v&&je.setShape(v),typeof y=="string"&&je.setTitle(y),typeof x=="number"&&je.setZIndex(x),w&&ce(google.maps.event.addListener(je,"dblclick",w)),k&&X(google.maps.event.addListener(je,"dragend",k)),A&&se(google.maps.event.addListener(je,"dragstart",A)),j&&Me(google.maps.event.addListener(je,"mousedown",j)),R&&at(google.maps.event.addListener(je,"mouseout",R)),C&&Fe(google.maps.event.addListener(je,"mouseover",C)),_&&_t(google.maps.event.addListener(je,"mouseup",_)),T&&et(google.maps.event.addListener(je,"rightclick",T)),b&&Qt(google.maps.event.addListener(je,"click",b)),N&&Qe(google.maps.event.addListener(je,"drag",N)),I&&me(google.maps.event.addListener(je,"clickable_changed",I)),P&&xe(google.maps.event.addListener(je,"cursor_changed",P)),L&&Ke(google.maps.event.addListener(je,"animation_changed",L)),Z&&St(google.maps.event.addListener(je,"draggable_changed",Z)),U&&$t(google.maps.event.addListener(je,"flat_changed",U)),F&&on(google.maps.event.addListener(je,"icon_changed",F)),K&&ze(google.maps.event.addListener(je,"position_changed",K)),V&&lt(google.maps.event.addListener(je,"shape_changed",V)),D&&hn(google.maps.event.addListener(je,"title_changed",D)),$&&we(google.maps.event.addListener(je,"visible_changed",$)),B&&Te(google.maps.event.addListener(je,"zindex_changed",B)),fe(je),O&&O(je),()=>{ee!==null&&google.maps.event.removeListener(ee),ve!==null&&google.maps.event.removeListener(ve),ne!==null&&google.maps.event.removeListener(ne),ge!==null&&google.maps.event.removeListener(ge),Ee!==null&&google.maps.event.removeListener(Ee),ue!==null&&google.maps.event.removeListener(ue),We!==null&&google.maps.event.removeListener(We),rt!==null&&google.maps.event.removeListener(rt),$e!==null&&google.maps.event.removeListener($e),Y!==null&&google.maps.event.removeListener(Y),G!==null&&google.maps.event.removeListener(G),ke!==null&&google.maps.event.removeListener(ke),ht!==null&&google.maps.event.removeListener(ht),At!==null&&google.maps.event.removeListener(At),wn!==null&&google.maps.event.removeListener(wn),Yt!==null&&google.maps.event.removeListener(Yt),kt!==null&&google.maps.event.removeListener(kt),J!==null&&google.maps.event.removeListener(J),Ie!==null&&google.maps.event.removeListener(Ie),H&&H(je),r?r.removeMarker(je,!!s):je&&je.setMap(null)}},[]);var st=d.useMemo(()=>i?d.Children.map(i,Ye=>{if(!d.isValidElement(Ye))return Ye;var je=Ye;return d.cloneElement(je,{anchor:q})}):null,[i,q]);return o.jsx(o.Fragment,{children:st})||null}d.memo(WG);class yp extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[])}componentDidMount(){var e=this;return HR(function*(){var n=El(El(El({},e.props.options||gp),e.props.clusterer?gp:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=nt({updaterMap:d_,eventMap:u_,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:d_,eventMap:u_,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),it(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?d.Children.map(this.props.children,n=>{if(!d.isValidElement(n))return n;var r=n;return d.cloneElement(r,{anchor:this.marker})}):null;return e||null}}re(yp,"contextType",Je);var qG=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),s=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(s),this.timeOut=window.setTimeout(function(){var a=n.getMap();if(a!==null){"fitBounds"in a&&a.fitBounds(s);var l=a.getZoom()||0;r!==null&&l>r&&a.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,s,i,a;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),u=parseInt(((e=c[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((n=c[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),p=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(p!==null?"".concat(p.y,"px"):"0","; left: ").concat(p!==null?"".concat(p.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var m=document.createElement("img");m.alt=l,m.src=this.url,m.width=this.width,m.height=this.height,m.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(m.style.clip="rect(-".concat(h,"px, -").concat(u+this.width,"px, -").concat(h+this.height,", -").concat(u,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(g.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(g.innerHTML="".concat((a=this.sums)===null||a===void 0?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(m),this.div.appendChild(g),this.div.title=l,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),GG=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new qG(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,s=n;r<s.length;r++){var i=s[r],a=i.getPosition();a&&e.extend(a)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+r.lat())/s,(this.center.lng()*(s-1)+r.lng())/s),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var i=this.markers.length,a=this.markerClusterer.getMaxZoom(),l=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(a!==null&&typeof l<"u"&&l>a)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var c=0,u=this.markers;c<u.length;c++){var h=u[c];h.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof s<"u"&&s>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function KG(t,e){var n=t.length,r=n.toString().length,s=Math.min(r,e);return{text:n.toString(),index:s,title:""}}var QG=2e3,YG=500,ZG="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",XG="png",JG=[53,56,66,78,90],eK="cluster",QR=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||ZG,this.imageExtension=r.imageExtension||XG,this.imageSizes=r.imageSizes||JG,this.calculator=r.calculator||KG,this.batchSize=r.batchSize||QG,this.batchSizeIE=r.batchSizeIE||YG,this.clusterClass=r.clusterClass||eK,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var s=0,i=this.clusters;s<i.length;s++){var a=i[s];a.remove()}this.clusters=[];for(var l=0,c=this.listeners;l<c.length;l++){var u=c[l];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,s=e;r<s.length;r++){var i=s[r],a=i.getPosition();a&&n.extend(a)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];s&&this.pushMarkerTo(s)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,s=0,i=e;s<i.length;s++){var a=i[s];r=r||this.removeMarker_(a)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,s=e;r<s.length;r++){var i=s[r];i.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&e.extend(i)}if(s!==null){var a=n.fromDivPixelToLatLng(s);a!==null&&e.extend(a)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var s=r[n];s.remove()}this.clusters=[];for(var i=0,a=this.markers;i<a.length;i++){var l=a[i];l.isAdded=!1,e&&l.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,s=(n.lat()-e.lat())*Math.PI/180,i=(n.lng()-e.lng())*Math.PI/180,a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return r*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,s=null,i=0,a=this.clusters;i<a.length;i++){var l=a[i];n=l;var c=n.getCenter(),u=e.getPosition();if(c&&u){var h=this.distanceBetweenPoints(c,u);h<r&&(r=h,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new GG(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),s=r!==null&&("getBounds"in r)?r.getBounds():null,i=(r==null?void 0:r.getZoom())||0,a=i>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(a),c=Math.min(e+this.batchSize,this.markers.length),u=e;u<c;u++){var h=this.markers[u];h&&!h.isAdded&&this.isMarkerInBounds(h,l)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var p=0,m=this.clusters;p<m.length;p++){var g=m[p];g.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype){var a=i;this.prototype[a]=s.prototype[a]}return this}).apply(e,[n])},t}();function h_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function tK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Or={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},yt={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},nK={};function rK(t){var{children:e,options:n,averageCenter:r,batchSizeIE:s,calculator:i,clusterClass:a,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:h,imagePath:p,imageSizes:m,maxZoom:g,minimumClusterSize:v,styles:y,title:x,zoomOnClick:b,onClick:w,onClusteringBegin:N,onClusteringEnd:k,onMouseOver:A,onMouseOut:R,onLoad:C,onUnmount:_}=t,[j,T]=d.useState(null),I=d.useContext(Je),[P,L]=d.useState(null),[Z,U]=d.useState(null),[F,K]=d.useState(null),[V,D]=d.useState(null),[$,B]=d.useState(null);return d.useEffect(()=>{j&&R&&(V!==null&&google.maps.event.removeListener(V),D(google.maps.event.addListener(j,Or.onMouseOut,R)))},[R]),d.useEffect(()=>{j&&A&&($!==null&&google.maps.event.removeListener($),B(google.maps.event.addListener(j,Or.onMouseOver,A)))},[A]),d.useEffect(()=>{j&&w&&(P!==null&&google.maps.event.removeListener(P),L(google.maps.event.addListener(j,Or.onClick,w)))},[w]),d.useEffect(()=>{j&&N&&(Z!==null&&google.maps.event.removeListener(Z),U(google.maps.event.addListener(j,Or.onClusteringBegin,N)))},[N]),d.useEffect(()=>{j&&k&&(F!==null&&google.maps.event.removeListener(F),U(google.maps.event.addListener(j,Or.onClusteringEnd,k)))},[k]),d.useEffect(()=>{typeof r<"u"&&j!==null&&yt.averageCenter(j,r)},[j,r]),d.useEffect(()=>{typeof s<"u"&&j!==null&&yt.batchSizeIE(j,s)},[j,s]),d.useEffect(()=>{typeof i<"u"&&j!==null&&yt.calculator(j,i)},[j,i]),d.useEffect(()=>{typeof a<"u"&&j!==null&&yt.clusterClass(j,a)},[j,a]),d.useEffect(()=>{typeof l<"u"&&j!==null&&yt.enableRetinaIcons(j,l)},[j,l]),d.useEffect(()=>{typeof c<"u"&&j!==null&&yt.gridSize(j,c)},[j,c]),d.useEffect(()=>{typeof u<"u"&&j!==null&&yt.ignoreHidden(j,u)},[j,u]),d.useEffect(()=>{typeof h<"u"&&j!==null&&yt.imageExtension(j,h)},[j,h]),d.useEffect(()=>{typeof p<"u"&&j!==null&&yt.imagePath(j,p)},[j,p]),d.useEffect(()=>{typeof m<"u"&&j!==null&&yt.imageSizes(j,m)},[j,m]),d.useEffect(()=>{typeof g<"u"&&j!==null&&yt.maxZoom(j,g)},[j,g]),d.useEffect(()=>{typeof v<"u"&&j!==null&&yt.minimumClusterSize(j,v)},[j,v]),d.useEffect(()=>{typeof y<"u"&&j!==null&&yt.styles(j,y)},[j,y]),d.useEffect(()=>{typeof x<"u"&&j!==null&&yt.title(j,x)},[j,x]),d.useEffect(()=>{typeof b<"u"&&j!==null&&yt.zoomOnClick(j,b)},[j,b]),d.useEffect(()=>{if(I){var O=tK({},n||nK),H=new QR(I,[],O);return r&&yt.averageCenter(H,r),s&&yt.batchSizeIE(H,s),i&&yt.calculator(H,i),a&&yt.clusterClass(H,a),l&&yt.enableRetinaIcons(H,l),c&&yt.gridSize(H,c),u&&yt.ignoreHidden(H,u),h&&yt.imageExtension(H,h),p&&yt.imagePath(H,p),m&&yt.imageSizes(H,m),g&&yt.maxZoom(H,g),v&&yt.minimumClusterSize(H,v),y&&yt.styles(H,y),x&&yt.title(H,x),b&&yt.zoomOnClick(H,b),R&&D(google.maps.event.addListener(H,Or.onMouseOut,R)),A&&B(google.maps.event.addListener(H,Or.onMouseOver,A)),w&&L(google.maps.event.addListener(H,Or.onClick,w)),N&&U(google.maps.event.addListener(H,Or.onClusteringBegin,N)),k&&K(google.maps.event.addListener(H,Or.onClusteringEnd,k)),T(H),C&&C(H),()=>{V!==null&&google.maps.event.removeListener(V),$!==null&&google.maps.event.removeListener($),P!==null&&google.maps.event.removeListener(P),Z!==null&&google.maps.event.removeListener(Z),F!==null&&google.maps.event.removeListener(F),_&&_(H)}}},[]),j!==null&&e(j)||null}d.memo(rK);class sK extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{markerClusterer:null}),re(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new QR(this.context,[],this.props.options);this.registeredEvents=nt({updaterMap:yt,eventMap:Or,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:yt,eventMap:Or,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),it(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}re(sK,"contextType",Je);function f_(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var YR=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(h){h.returnValue=!1,h.preventDefault&&h.preventDefault(),e.enableEventPropagation||f_(h)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0,l=i;a<l.length;a++){var c=l[a];this.eventListeners.push(google.maps.event.addListener(this.div,c,f_))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,s=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var a=n.getDiv(),l=a.offsetWidth,c=a.offsetHeight,u=this.pixelOffset.width,h=this.pixelOffset.height,p=this.div.offsetWidth,m=this.div.offsetHeight,g=this.infoBoxClearance.width,v=this.infoBoxClearance.height,y=this.getProjection(),x=y.fromLatLngToContainerPixel(this.position);x!==null&&(x.x<-u+g?r=x.x+u-g:x.x+p+u+g>l&&(r=x.x+p+u+g-l),this.alignBottom?x.y<-h+v+m?s=x.y+h-v-m:x.y+h+v>c&&(s=x.y+h+v-c):x.y<-h+v?s=x.y+h-v:x.y+m+h+v>c&&(s=x.y+m+h+v-c)),r===0&&s===0||n.panBy(r,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();r.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=s.prototype[i]);return this}).apply(e,[n])},t}(),iK=["position"],oK=["position"];function p_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var m_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},g_={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},aK={};function lK(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:h,onLoad:p,onUnmount:m}=t,g=d.useContext(Je),[v,y]=d.useState(null),[x,b]=d.useState(null),[w,N]=d.useState(null),[k,A]=d.useState(null),[R,C]=d.useState(null),[_,j]=d.useState(null),T=d.useRef(null);return d.useEffect(()=>{g&&v!==null&&(v.close(),n?v.open(g,n):v.getPosition()&&v.open(g))},[g,v,n]),d.useEffect(()=>{r&&v!==null&&v.setOptions(r)},[v,r]),d.useEffect(()=>{if(s&&v!==null){var I=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);v.setPosition(I)}},[s]),d.useEffect(()=>{typeof i=="number"&&v!==null&&v.setZIndex(i)},[i]),d.useEffect(()=>{v&&a&&(x!==null&&google.maps.event.removeListener(x),b(google.maps.event.addListener(v,"closeclick",a)))},[a]),d.useEffect(()=>{v&&l&&(w!==null&&google.maps.event.removeListener(w),N(google.maps.event.addListener(v,"domready",l)))},[l]),d.useEffect(()=>{v&&c&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(v,"content_changed",c)))},[c]),d.useEffect(()=>{v&&u&&(R!==null&&google.maps.event.removeListener(R),C(google.maps.event.addListener(v,"position_changed",u)))},[u]),d.useEffect(()=>{v&&h&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(v,"zindex_changed",h)))},[h]),d.useEffect(()=>{if(g){var I=r||aK,{position:P}=I,L=nb(I,iK),Z;P&&!(P instanceof google.maps.LatLng)&&(Z=new google.maps.LatLng(P.lat,P.lng));var U=new YR(vp(vp({},L),Z?{position:Z}:{}));T.current=document.createElement("div"),y(U),a&&b(google.maps.event.addListener(U,"closeclick",a)),l&&N(google.maps.event.addListener(U,"domready",l)),c&&A(google.maps.event.addListener(U,"content_changed",c)),u&&C(google.maps.event.addListener(U,"position_changed",u)),h&&j(google.maps.event.addListener(U,"zindex_changed",h)),U.setContent(T.current),n?U.open(g,n):U.getPosition()?U.open(g):xn(!1,"You must provide either an anchor or a position prop for <InfoBox>."),p&&p(U)}return()=>{v!==null&&(x&&google.maps.event.removeListener(x),k&&google.maps.event.removeListener(k),w&&google.maps.event.removeListener(w),R&&google.maps.event.removeListener(R),_&&google.maps.event.removeListener(_),m&&m(v),v.close())}},[]),T.current?Yr.createPortal(d.Children.only(e),T.current):null}d.memo(lK);class cK extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",null),re(this,"state",{infoBox:null}),re(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):xn(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),re(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=nb(e,oK),s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));var i=new YR(vp(vp({},r),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=nt({updaterMap:g_,eventMap:m_,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:g_,eventMap:m_,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),it(this.registeredEvents),n.close())}render(){return this.containerElement?Yr.createPortal(d.Children.only(this.props.children),this.containerElement):null}}re(cK,"contextType",Je);var vy,y_;function uK(){return y_||(y_=1,vy=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),vy}var dK=uK(),v_=zR(dK),x_=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],xy=1,zc=8;class rb{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=r>>4;if(s!==xy)throw new Error("Got v".concat(s," data when expected v").concat(xy,"."));var i=x_[r&15];if(!i)throw new Error("Unrecognized array type.");var[a]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new rb(l,a,i,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=x_.indexOf(this.ArrayType),a=e*2*this.ArrayType.BYTES_PER_ELEMENT,l=e*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-l%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(r,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,zc,e),this.coords=new this.ArrayType(this.data,zc+l+c,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(zc+a+l+c),this.ids=new this.IndexArrayType(this.data,zc,e),this.coords=new this.ArrayType(this.data,zc+l+c,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(xy<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return i0(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:a,nodeSize:l}=this,c=[0,i.length-1,0],u=[];c.length;){var h=c.pop()||0,p=c.pop()||0,m=c.pop()||0;if(p-m<=l){for(var g=m;g<=p;g++){var v=a[2*g],y=a[2*g+1];v>=e&&v<=r&&y>=n&&y<=s&&u.push(i[g])}continue}var x=m+p>>1,b=a[2*x],w=a[2*x+1];b>=e&&b<=r&&w>=n&&w<=s&&u.push(i[x]),(h===0?e<=b:n<=w)&&(c.push(m),c.push(x-1),c.push(1-h)),(h===0?r>=b:s>=w)&&(c.push(x+1),c.push(p),c.push(1-h))}return u}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:i,nodeSize:a}=this,l=[0,s.length-1,0],c=[],u=r*r;l.length;){var h=l.pop()||0,p=l.pop()||0,m=l.pop()||0;if(p-m<=a){for(var g=m;g<=p;g++)w_(i[2*g],i[2*g+1],e,n)<=u&&c.push(s[g]);continue}var v=m+p>>1,y=i[2*v],x=i[2*v+1];w_(y,x,e,n)<=u&&c.push(s[v]),(h===0?e-r<=y:n-r<=x)&&(l.push(m),l.push(v-1),l.push(1-h)),(h===0?e+r>=y:n+r>=x)&&(l.push(v+1),l.push(p),l.push(1-h))}return c}}function i0(t,e,n,r,s,i){if(!(s-r<=n)){var a=r+s>>1;ZR(t,e,a,r,s,i),i0(t,e,n,r,a-1,1-i),i0(t,e,n,a+1,s,1-i)}}function ZR(t,e,n,r,s,i){for(;s>r;){if(s-r>600){var a=s-r+1,l=n-r+1,c=Math.log(a),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1),p=Math.max(r,Math.floor(n-l*u/a+h)),m=Math.min(s,Math.floor(n+(a-l)*u/a+h));ZR(t,e,n,p,m,i)}var g=e[2*n+i],v=r,y=s;for(Bc(t,e,r,n),e[2*s+i]>g&&Bc(t,e,r,s);v<y;){for(Bc(t,e,v,y),v++,y--;e[2*v+i]<g;)v++;for(;e[2*y+i]>g;)y--}e[2*r+i]===g?Bc(t,e,r,y):(y++,Bc(t,e,y,s)),y<=n&&(r=y+1),n<=y&&(s=y-1)}}function Bc(t,e,n,r){wy(t,n,r),wy(e,2*n,2*r),wy(e,2*n+1,2*r+1)}function wy(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function w_(t,e,n,r){var s=t-n,i=e-r;return s*s+i*i}var hK={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},b_=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Vo=2,Di=3,by=4,Ri=5,XR=6;class fK{constructor(e){this.options=Object.assign(Object.create(hK),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:s}=this.options;n&&console.time("total time");var i="prepare ".concat(e.length," points");n&&console.time(i),this.points=e;for(var a=[],l=0;l<e.length;l++){var c=e[l];if(c.geometry){var[u,h]=c.geometry.coordinates,p=b_(Vh(u)),m=b_(Fh(h));a.push(p,m,1/0,l,-1,1),this.options.reduce&&a.push(0)}}var g=this.trees[s+1]=this._createTree(a);n&&console.timeEnd(i);for(var v=s;v>=r;v--){var y=+Date.now();g=this.trees[v]=this._createTree(this._cluster(g,v)),n&&console.log("z%d: %d clusters in %dms",v,g.numItems,+Date.now()-y)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var l=this.getClusters([r,s,180,a],n),c=this.getClusters([-180,s,i,a],n);return l.concat(c)}var u=this.trees[this._limitZoom(n)],h=u.range(Vh(r),Fh(a),Vh(i),Fh(s)),p=u.data,m=[];for(var g of h){var v=this.stride*g;m.push(p[v+Ri]>1?E_(p,v,this.clusterProps):this.points[p[v+Di]])}return m}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(s);var a=i.data;if(n*this.stride>=a.length)throw new Error(s);var l=this.options.radius/(this.options.extent*Math.pow(2,r-1)),c=a[n*this.stride],u=a[n*this.stride+1],h=i.within(c,u,l),p=[];for(var m of h){var g=m*this.stride;a[g+by]===e&&p.push(a[g+Ri]>1?E_(a,g,this.clusterProps):this.points[a[g+Di]])}if(p.length===0)throw new Error(s);return p}getLeaves(e,n,r){n=n||10,r=r||0;var s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){var s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:a,radius:l}=this.options,c=l/a,u=(r-c)/i,h=(r+1+c)/i,p={features:[]};return this._addTileFeatures(s.range((n-c)/i,u,(n+1+c)/i,h),s.data,n,r,i,p),n===0&&this._addTileFeatures(s.range(1-c/i,u,1,h),s.data,i,r,i,p),n===i-1&&this._addTileFeatures(s.range(0,u,c/i,h),s.data,-1,r,i,p),p.features.length?p:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,i){var a=this.getChildren(n);for(var l of a){var c=l.properties;if(c&&c.cluster?i+c.point_count<=s?i+=c.point_count:i=this._appendLeaves(e,c.cluster_id,r,s,i):i<s?i++:e.push(l),e.length===r)break}return i}_createTree(e){for(var n=new rb(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,s,i,a){for(var l of e){var c=l*this.stride,u=n[c+Ri]>1,h=void 0,p=void 0,m=void 0;if(u)h=JR(n,c,this.clusterProps),p=n[c],m=n[c+1];else{var g=this.points[n[c+Di]];h=g.properties;var[v,y]=g.geometry.coordinates;p=Vh(v),m=Fh(y)}var x={type:1,geometry:[[Math.round(this.options.extent*(p*i-r)),Math.round(this.options.extent*(m*i-s))]],tags:h},b=void 0;u||this.options.generateId?b=n[c+Di]:b=this.points[n[c+Di]].id,b!==void 0&&(x.id=b),a.features.push(x)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:s,reduce:i,minPoints:a}=this.options,l=r/(s*Math.pow(2,n)),c=e.data,u=[],h=this.stride,p=0;p<c.length;p+=h)if(!(c[p+Vo]<=n)){c[p+Vo]=n;var m=c[p],g=c[p+1],v=e.within(c[p],c[p+1],l),y=c[p+Ri],x=y;for(var b of v){var w=b*h;c[w+Vo]>n&&(x+=c[w+Ri])}if(x>y&&x>=a){var N=m*y,k=g*y,A=void 0,R=-1,C=((p/h|0)<<5)+(n+1)+this.points.length;for(var _ of v){var j=_*h;if(!(c[j+Vo]<=n)){c[j+Vo]=n;var T=c[j+Ri];N+=c[j]*T,k+=c[j+1]*T,c[j+by]=C,i&&(A||(A=this._map(c,p,!0),R=this.clusterProps.length,this.clusterProps.push(A)),i(A,this._map(c,j)))}}c[p+by]=C,u.push(N/x,k/x,1/0,C,-1,x),i&&u.push(R)}else{for(var I=0;I<h;I++)u.push(c[p+I]);if(x>1)for(var P of v){var L=P*h;if(!(c[L+Vo]<=n)){c[L+Vo]=n;for(var Z=0;Z<h;Z++)u.push(c[L+Z])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Ri]>1){var s=this.clusterProps[e[n+XR]];return r?Object.assign({},s):s}var i=this.points[e[n+Di]].properties,a=this.options.map(i);return r&&a===i?Object.assign({},a):a}}function E_(t,e,n){return{type:"Feature",id:t[e+Di],properties:JR(t,e,n),geometry:{type:"Point",coordinates:[pK(t[e]),mK(t[e+1])]}}}function JR(t,e,n){var r=t[e+Ri],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,i=t[e+XR],a=i===-1?{}:Object.assign({},n[i]);return Object.assign(a,{cluster:!0,cluster_id:t[e+Di],point_count:r,point_count_abbreviated:s})}function Vh(t){return t/360+.5}function Fh(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function pK(t){return(t-.5)*360}function mK(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function gK(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class _r{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class o0{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(_r.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>_r.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(_r.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class yK{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return vK(n)}}var vK=t=>{var e=t.map(n=>new o0({position:_r.getPosition(n),markers:[n]}));return e};class xK extends yK{constructor(e){var{maxZoom:n,radius:r=60}=e,s=gK(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new fK(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!v_(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var s=this.markers.map(i=>{var a=_r.getPosition(i),l=[a.lng(),a.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{marker:i}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!v_(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:s}=e;if(s.cluster)return new o0({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:r,lng:n}});var i=s.marker;return new o0({markers:[i],position:_r.getPosition(i)})}}class wK{constructor(e,n){this.markers={sum:e.length};var r=n.map(i=>i.count),s=r.reduce((i,a)=>i+a,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class bK{render(e,n,r){var{count:s,position:i}=e,a=s>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(a,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),c="Cluster of ".concat(s," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+s;if(_r.isAdvancedMarkerAvailable(r)){var h=new DOMParser,p=h.parseFromString(l,"image/svg+xml").documentElement;p.setAttribute("transform","translate(0 25)");var m={map:r,position:i,zIndex:u,title:c,content:p};return new google.maps.marker.AdvancedMarkerElement(m)}var g={position:i,zIndex:u,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(g)}}function EK(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class sb{constructor(){EK(sb,google.maps.OverlayView)}}var _u;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(_u||(_u={}));var NK=(t,e,n)=>{n.fitBounds(e.bounds)};class CK extends sb{constructor(e){var{map:n,markers:r=[],algorithmOptions:s={},algorithm:i=new xK(s),renderer:a=new bK,onClusterClick:l=NK}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=a,this.onClusterClick=l,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(_r.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,_u.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var s=new Set;for(var i of n)i.markers.length==1&&s.add(i.markers[0]);var a=[];for(var l of this.clusters)l.marker!=null&&(l.markers.length==1?s.has(l.marker)||_r.setMap(l.marker,null):a.push(l.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>a.forEach(c=>_r.setMap(c,null)))}google.maps.event.trigger(this,_u.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>_r.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new wK(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(s=>_r.setMap(s,null)),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,_u.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),_r.setMap(r.marker,n)})}}function N_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function C_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _K(t){var e=xG(),[n,r]=d.useState(null);return d.useEffect(()=>{if(e&&n===null){var s=new CK(C_(C_({},t),{},{map:e}));r(s)}},[e]),n}function SK(t){var{children:e,options:n}=t,r=_K(n);return r!==null?e(r):null}d.memo(SK);var __={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},S_={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function jK(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:h,onLoad:p,onUnmount:m}=t,g=d.useContext(Je),[v,y]=d.useState(null),[x,b]=d.useState(null),[w,N]=d.useState(null),[k,A]=d.useState(null),[R,C]=d.useState(null),[_,j]=d.useState(null),T=d.useRef(null);return d.useEffect(()=>{v!==null&&(v.close(),n?v.open(g,n):v.getPosition()&&v.open(g))},[g,v,n]),d.useEffect(()=>{r&&v!==null&&v.setOptions(r)},[v,r]),d.useEffect(()=>{s&&v!==null&&v.setPosition(s)},[s]),d.useEffect(()=>{typeof i=="number"&&v!==null&&v.setZIndex(i)},[i]),d.useEffect(()=>{v&&a&&(x!==null&&google.maps.event.removeListener(x),b(google.maps.event.addListener(v,"closeclick",a)))},[a]),d.useEffect(()=>{v&&l&&(w!==null&&google.maps.event.removeListener(w),N(google.maps.event.addListener(v,"domready",l)))},[l]),d.useEffect(()=>{v&&c&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(v,"content_changed",c)))},[c]),d.useEffect(()=>{v&&u&&(R!==null&&google.maps.event.removeListener(R),C(google.maps.event.addListener(v,"position_changed",u)))},[u]),d.useEffect(()=>{v&&h&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(v,"zindex_changed",h)))},[h]),d.useEffect(()=>{var I=new google.maps.InfoWindow(r);return y(I),T.current=document.createElement("div"),a&&b(google.maps.event.addListener(I,"closeclick",a)),l&&N(google.maps.event.addListener(I,"domready",l)),c&&A(google.maps.event.addListener(I,"content_changed",c)),u&&C(google.maps.event.addListener(I,"position_changed",u)),h&&j(google.maps.event.addListener(I,"zindex_changed",h)),I.setContent(T.current),s&&I.setPosition(s),i&&I.setZIndex(i),n?I.open(g,n):I.getPosition()?I.open(g):xn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),p&&p(I),()=>{x&&google.maps.event.removeListener(x),k&&google.maps.event.removeListener(k),w&&google.maps.event.removeListener(w),R&&google.maps.event.removeListener(R),_&&google.maps.event.removeListener(_),m&&m(I),I.close()}},[]),T.current?Yr.createPortal(d.Children.only(e),T.current):null}d.memo(jK);class kK extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",null),re(this,"state",{infoWindow:null}),re(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):xn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),re(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=nt({updaterMap:S_,eventMap:__,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:S_,eventMap:__,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(it(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Yr.createPortal(d.Children.only(this.props.children),this.containerElement):null}}re(kK,"contextType",Je);function j_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var k_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},I_={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},IK={};function TK(t){var{options:e,draggable:n,editable:r,visible:s,path:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:g,onRightClick:v,onClick:y,onDrag:x,onLoad:b,onUnmount:w}=t,N=d.useContext(Je),[k,A]=d.useState(null),[R,C]=d.useState(null),[_,j]=d.useState(null),[T,I]=d.useState(null),[P,L]=d.useState(null),[Z,U]=d.useState(null),[F,K]=d.useState(null),[V,D]=d.useState(null),[$,B]=d.useState(null),[O,H]=d.useState(null),[ie,q]=d.useState(null),[fe,ee]=d.useState(null);return d.useEffect(()=>{k!==null&&k.setMap(N)},[N]),d.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),d.useEffect(()=>{typeof n<"u"&&k!==null&&k.setDraggable(n)},[k,n]),d.useEffect(()=>{typeof r<"u"&&k!==null&&k.setEditable(r)},[k,r]),d.useEffect(()=>{typeof s<"u"&&k!==null&&k.setVisible(s)},[k,s]),d.useEffect(()=>{typeof i<"u"&&k!==null&&k.setPath(i)},[k,i]),d.useEffect(()=>{k&&a&&(R!==null&&google.maps.event.removeListener(R),C(google.maps.event.addListener(k,"dblclick",a)))},[a]),d.useEffect(()=>{k&&l&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(k,"dragend",l)))},[l]),d.useEffect(()=>{k&&c&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(k,"dragstart",c)))},[c]),d.useEffect(()=>{k&&u&&(P!==null&&google.maps.event.removeListener(P),L(google.maps.event.addListener(k,"mousedown",u)))},[u]),d.useEffect(()=>{k&&h&&(Z!==null&&google.maps.event.removeListener(Z),U(google.maps.event.addListener(k,"mousemove",h)))},[h]),d.useEffect(()=>{k&&p&&(F!==null&&google.maps.event.removeListener(F),K(google.maps.event.addListener(k,"mouseout",p)))},[p]),d.useEffect(()=>{k&&m&&(V!==null&&google.maps.event.removeListener(V),D(google.maps.event.addListener(k,"mouseover",m)))},[m]),d.useEffect(()=>{k&&g&&($!==null&&google.maps.event.removeListener($),B(google.maps.event.addListener(k,"mouseup",g)))},[g]),d.useEffect(()=>{k&&v&&(O!==null&&google.maps.event.removeListener(O),H(google.maps.event.addListener(k,"rightclick",v)))},[v]),d.useEffect(()=>{k&&y&&(ie!==null&&google.maps.event.removeListener(ie),q(google.maps.event.addListener(k,"click",y)))},[y]),d.useEffect(()=>{k&&x&&(fe!==null&&google.maps.event.removeListener(fe),ee(google.maps.event.addListener(k,"drag",x)))},[x]),d.useEffect(()=>{var ce=new google.maps.Polyline(xp(xp({},e||IK),{},{map:N}));return i&&ce.setPath(i),typeof s<"u"&&ce.setVisible(s),typeof r<"u"&&ce.setEditable(r),typeof n<"u"&&ce.setDraggable(n),a&&C(google.maps.event.addListener(ce,"dblclick",a)),l&&j(google.maps.event.addListener(ce,"dragend",l)),c&&I(google.maps.event.addListener(ce,"dragstart",c)),u&&L(google.maps.event.addListener(ce,"mousedown",u)),h&&U(google.maps.event.addListener(ce,"mousemove",h)),p&&K(google.maps.event.addListener(ce,"mouseout",p)),m&&D(google.maps.event.addListener(ce,"mouseover",m)),g&&B(google.maps.event.addListener(ce,"mouseup",g)),v&&H(google.maps.event.addListener(ce,"rightclick",v)),y&&q(google.maps.event.addListener(ce,"click",y)),x&&ee(google.maps.event.addListener(ce,"drag",x)),A(ce),b&&b(ce),()=>{R!==null&&google.maps.event.removeListener(R),_!==null&&google.maps.event.removeListener(_),T!==null&&google.maps.event.removeListener(T),P!==null&&google.maps.event.removeListener(P),Z!==null&&google.maps.event.removeListener(Z),F!==null&&google.maps.event.removeListener(F),V!==null&&google.maps.event.removeListener(V),$!==null&&google.maps.event.removeListener($),O!==null&&google.maps.event.removeListener(O),ie!==null&&google.maps.event.removeListener(ie),w&&w(ce),ce.setMap(null)}},[]),null}d.memo(TK);class eL extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{polyline:null}),re(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(xp(xp({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:I_,eventMap:k_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:I_,eventMap:k_,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),it(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}re(eL,"contextType",Je);function T_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function P_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var A_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},R_={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function PK(t){var{options:e,draggable:n,editable:r,visible:s,path:i,paths:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseUp:v,onRightClick:y,onClick:x,onDrag:b,onLoad:w,onUnmount:N,onEdit:k}=t,A=d.useContext(Je),[R,C]=d.useState(null),[_,j]=d.useState(null),[T,I]=d.useState(null),[P,L]=d.useState(null),[Z,U]=d.useState(null),[F,K]=d.useState(null),[V,D]=d.useState(null),[$,B]=d.useState(null),[O,H]=d.useState(null),[ie,q]=d.useState(null),[fe,ee]=d.useState(null),[ce,ve]=d.useState(null);return d.useEffect(()=>{R!==null&&R.setMap(A)},[A]),d.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),d.useEffect(()=>{typeof n<"u"&&R!==null&&R.setDraggable(n)},[R,n]),d.useEffect(()=>{typeof r<"u"&&R!==null&&R.setEditable(r)},[R,r]),d.useEffect(()=>{typeof s<"u"&&R!==null&&R.setVisible(s)},[R,s]),d.useEffect(()=>{typeof i<"u"&&R!==null&&R.setPath(i)},[R,i]),d.useEffect(()=>{typeof a<"u"&&R!==null&&R.setPaths(a)},[R,a]),d.useEffect(()=>{R&&typeof l=="function"&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(R,"dblclick",l)))},[l]),d.useEffect(()=>{R&&(google.maps.event.addListener(R.getPath(),"insert_at",()=>{k==null||k(R)}),google.maps.event.addListener(R.getPath(),"set_at",()=>{k==null||k(R)}),google.maps.event.addListener(R.getPath(),"remove_at",()=>{k==null||k(R)}))},[R,k]),d.useEffect(()=>{R&&typeof c=="function"&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(R,"dragend",c)))},[c]),d.useEffect(()=>{R&&typeof u=="function"&&(P!==null&&google.maps.event.removeListener(P),L(google.maps.event.addListener(R,"dragstart",u)))},[u]),d.useEffect(()=>{R&&typeof h=="function"&&(Z!==null&&google.maps.event.removeListener(Z),U(google.maps.event.addListener(R,"mousedown",h)))},[h]),d.useEffect(()=>{R&&typeof p=="function"&&(F!==null&&google.maps.event.removeListener(F),K(google.maps.event.addListener(R,"mousemove",p)))},[p]),d.useEffect(()=>{R&&typeof m=="function"&&(V!==null&&google.maps.event.removeListener(V),D(google.maps.event.addListener(R,"mouseout",m)))},[m]),d.useEffect(()=>{R&&typeof g=="function"&&($!==null&&google.maps.event.removeListener($),B(google.maps.event.addListener(R,"mouseover",g)))},[g]),d.useEffect(()=>{R&&typeof v=="function"&&(O!==null&&google.maps.event.removeListener(O),H(google.maps.event.addListener(R,"mouseup",v)))},[v]),d.useEffect(()=>{R&&typeof y=="function"&&(ie!==null&&google.maps.event.removeListener(ie),q(google.maps.event.addListener(R,"rightclick",y)))},[y]),d.useEffect(()=>{R&&typeof x=="function"&&(fe!==null&&google.maps.event.removeListener(fe),ee(google.maps.event.addListener(R,"click",x)))},[x]),d.useEffect(()=>{R&&typeof b=="function"&&(ce!==null&&google.maps.event.removeListener(ce),ve(google.maps.event.addListener(R,"drag",b)))},[b]),d.useEffect(()=>{var X=new google.maps.Polygon(P_(P_({},e),{},{map:A}));return i&&X.setPath(i),a&&X.setPaths(a),typeof s<"u"&&X.setVisible(s),typeof r<"u"&&X.setEditable(r),typeof n<"u"&&X.setDraggable(n),l&&j(google.maps.event.addListener(X,"dblclick",l)),c&&I(google.maps.event.addListener(X,"dragend",c)),u&&L(google.maps.event.addListener(X,"dragstart",u)),h&&U(google.maps.event.addListener(X,"mousedown",h)),p&&K(google.maps.event.addListener(X,"mousemove",p)),m&&D(google.maps.event.addListener(X,"mouseout",m)),g&&B(google.maps.event.addListener(X,"mouseover",g)),v&&H(google.maps.event.addListener(X,"mouseup",v)),y&&q(google.maps.event.addListener(X,"rightclick",y)),x&&ee(google.maps.event.addListener(X,"click",x)),b&&ve(google.maps.event.addListener(X,"drag",b)),C(X),w&&w(X),()=>{_!==null&&google.maps.event.removeListener(_),T!==null&&google.maps.event.removeListener(T),P!==null&&google.maps.event.removeListener(P),Z!==null&&google.maps.event.removeListener(Z),F!==null&&google.maps.event.removeListener(F),V!==null&&google.maps.event.removeListener(V),$!==null&&google.maps.event.removeListener($),O!==null&&google.maps.event.removeListener(O),ie!==null&&google.maps.event.removeListener(ie),fe!==null&&google.maps.event.removeListener(fe),N&&N(X),X.setMap(null)}},[]),null}d.memo(PK);class AK extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=nt({updaterMap:R_,eventMap:A_,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:R_,eventMap:A_,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),it(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}re(AK,"contextType",Je);function L_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var M_={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},D_={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function RK(t){var{options:e,bounds:n,draggable:r,editable:s,visible:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:g,onRightClick:v,onClick:y,onDrag:x,onBoundsChanged:b,onLoad:w,onUnmount:N}=t,k=d.useContext(Je),[A,R]=d.useState(null),[C,_]=d.useState(null),[j,T]=d.useState(null),[I,P]=d.useState(null),[L,Z]=d.useState(null),[U,F]=d.useState(null),[K,V]=d.useState(null),[D,$]=d.useState(null),[B,O]=d.useState(null),[H,ie]=d.useState(null),[q,fe]=d.useState(null),[ee,ce]=d.useState(null),[ve,X]=d.useState(null);return d.useEffect(()=>{A!==null&&A.setMap(k)},[k]),d.useEffect(()=>{typeof e<"u"&&A!==null&&A.setOptions(e)},[A,e]),d.useEffect(()=>{typeof r<"u"&&A!==null&&A.setDraggable(r)},[A,r]),d.useEffect(()=>{typeof s<"u"&&A!==null&&A.setEditable(s)},[A,s]),d.useEffect(()=>{typeof i<"u"&&A!==null&&A.setVisible(i)},[A,i]),d.useEffect(()=>{typeof n<"u"&&A!==null&&A.setBounds(n)},[A,n]),d.useEffect(()=>{A&&a&&(C!==null&&google.maps.event.removeListener(C),_(google.maps.event.addListener(A,"dblclick",a)))},[a]),d.useEffect(()=>{A&&l&&(j!==null&&google.maps.event.removeListener(j),T(google.maps.event.addListener(A,"dragend",l)))},[l]),d.useEffect(()=>{A&&c&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(A,"dragstart",c)))},[c]),d.useEffect(()=>{A&&u&&(L!==null&&google.maps.event.removeListener(L),Z(google.maps.event.addListener(A,"mousedown",u)))},[u]),d.useEffect(()=>{A&&h&&(U!==null&&google.maps.event.removeListener(U),F(google.maps.event.addListener(A,"mousemove",h)))},[h]),d.useEffect(()=>{A&&p&&(K!==null&&google.maps.event.removeListener(K),V(google.maps.event.addListener(A,"mouseout",p)))},[p]),d.useEffect(()=>{A&&m&&(D!==null&&google.maps.event.removeListener(D),$(google.maps.event.addListener(A,"mouseover",m)))},[m]),d.useEffect(()=>{A&&g&&(B!==null&&google.maps.event.removeListener(B),O(google.maps.event.addListener(A,"mouseup",g)))},[g]),d.useEffect(()=>{A&&v&&(H!==null&&google.maps.event.removeListener(H),ie(google.maps.event.addListener(A,"rightclick",v)))},[v]),d.useEffect(()=>{A&&y&&(q!==null&&google.maps.event.removeListener(q),fe(google.maps.event.addListener(A,"click",y)))},[y]),d.useEffect(()=>{A&&x&&(ee!==null&&google.maps.event.removeListener(ee),ce(google.maps.event.addListener(A,"drag",x)))},[x]),d.useEffect(()=>{A&&b&&(ve!==null&&google.maps.event.removeListener(ve),X(google.maps.event.addListener(A,"bounds_changed",b)))},[b]),d.useEffect(()=>{var ne=new google.maps.Rectangle(wp(wp({},e),{},{map:k}));return typeof i<"u"&&ne.setVisible(i),typeof s<"u"&&ne.setEditable(s),typeof r<"u"&&ne.setDraggable(r),typeof n<"u"&&ne.setBounds(n),a&&_(google.maps.event.addListener(ne,"dblclick",a)),l&&T(google.maps.event.addListener(ne,"dragend",l)),c&&P(google.maps.event.addListener(ne,"dragstart",c)),u&&Z(google.maps.event.addListener(ne,"mousedown",u)),h&&F(google.maps.event.addListener(ne,"mousemove",h)),p&&V(google.maps.event.addListener(ne,"mouseout",p)),m&&$(google.maps.event.addListener(ne,"mouseover",m)),g&&O(google.maps.event.addListener(ne,"mouseup",g)),v&&ie(google.maps.event.addListener(ne,"rightclick",v)),y&&fe(google.maps.event.addListener(ne,"click",y)),x&&ce(google.maps.event.addListener(ne,"drag",x)),b&&X(google.maps.event.addListener(ne,"bounds_changed",b)),R(ne),w&&w(ne),()=>{C!==null&&google.maps.event.removeListener(C),j!==null&&google.maps.event.removeListener(j),I!==null&&google.maps.event.removeListener(I),L!==null&&google.maps.event.removeListener(L),U!==null&&google.maps.event.removeListener(U),K!==null&&google.maps.event.removeListener(K),D!==null&&google.maps.event.removeListener(D),B!==null&&google.maps.event.removeListener(B),H!==null&&google.maps.event.removeListener(H),q!==null&&google.maps.event.removeListener(q),ee!==null&&google.maps.event.removeListener(ee),ve!==null&&google.maps.event.removeListener(ve),N&&N(ne),ne.setMap(null)}},[]),null}d.memo(RK);class LK extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{rectangle:null}),re(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(wp(wp({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:D_,eventMap:M_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:D_,eventMap:M_,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),it(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}re(LK,"contextType",Je);function O_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var V_={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},F_={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},MK={};function DK(t){var{options:e,center:n,radius:r,draggable:s,editable:i,visible:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseUp:v,onRightClick:y,onClick:x,onDrag:b,onCenterChanged:w,onRadiusChanged:N,onLoad:k,onUnmount:A}=t,R=d.useContext(Je),[C,_]=d.useState(null),[j,T]=d.useState(null),[I,P]=d.useState(null),[L,Z]=d.useState(null),[U,F]=d.useState(null),[K,V]=d.useState(null),[D,$]=d.useState(null),[B,O]=d.useState(null),[H,ie]=d.useState(null),[q,fe]=d.useState(null),[ee,ce]=d.useState(null),[ve,X]=d.useState(null),[ne,se]=d.useState(null),[ge,Me]=d.useState(null);return d.useEffect(()=>{C!==null&&C.setMap(R)},[R]),d.useEffect(()=>{typeof e<"u"&&C!==null&&C.setOptions(e)},[C,e]),d.useEffect(()=>{typeof s<"u"&&C!==null&&C.setDraggable(s)},[C,s]),d.useEffect(()=>{typeof i<"u"&&C!==null&&C.setEditable(i)},[C,i]),d.useEffect(()=>{typeof a<"u"&&C!==null&&C.setVisible(a)},[C,a]),d.useEffect(()=>{typeof r=="number"&&C!==null&&C.setRadius(r)},[C,r]),d.useEffect(()=>{typeof n<"u"&&C!==null&&C.setCenter(n)},[C,n]),d.useEffect(()=>{C&&l&&(j!==null&&google.maps.event.removeListener(j),T(google.maps.event.addListener(C,"dblclick",l)))},[l]),d.useEffect(()=>{C&&c&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(C,"dragend",c)))},[c]),d.useEffect(()=>{C&&u&&(L!==null&&google.maps.event.removeListener(L),Z(google.maps.event.addListener(C,"dragstart",u)))},[u]),d.useEffect(()=>{C&&h&&(U!==null&&google.maps.event.removeListener(U),F(google.maps.event.addListener(C,"mousedown",h)))},[h]),d.useEffect(()=>{C&&p&&(K!==null&&google.maps.event.removeListener(K),V(google.maps.event.addListener(C,"mousemove",p)))},[p]),d.useEffect(()=>{C&&m&&(D!==null&&google.maps.event.removeListener(D),$(google.maps.event.addListener(C,"mouseout",m)))},[m]),d.useEffect(()=>{C&&g&&(B!==null&&google.maps.event.removeListener(B),O(google.maps.event.addListener(C,"mouseover",g)))},[g]),d.useEffect(()=>{C&&v&&(H!==null&&google.maps.event.removeListener(H),ie(google.maps.event.addListener(C,"mouseup",v)))},[v]),d.useEffect(()=>{C&&y&&(q!==null&&google.maps.event.removeListener(q),fe(google.maps.event.addListener(C,"rightclick",y)))},[y]),d.useEffect(()=>{C&&x&&(ee!==null&&google.maps.event.removeListener(ee),ce(google.maps.event.addListener(C,"click",x)))},[x]),d.useEffect(()=>{C&&b&&(ve!==null&&google.maps.event.removeListener(ve),X(google.maps.event.addListener(C,"drag",b)))},[b]),d.useEffect(()=>{C&&w&&(ne!==null&&google.maps.event.removeListener(ne),se(google.maps.event.addListener(C,"center_changed",w)))},[x]),d.useEffect(()=>{C&&N&&(ge!==null&&google.maps.event.removeListener(ge),Me(google.maps.event.addListener(C,"radius_changed",N)))},[N]),d.useEffect(()=>{var Ee=new google.maps.Circle(bp(bp({},e||MK),{},{map:R}));return typeof r=="number"&&Ee.setRadius(r),typeof n<"u"&&Ee.setCenter(n),typeof r=="number"&&Ee.setRadius(r),typeof a<"u"&&Ee.setVisible(a),typeof i<"u"&&Ee.setEditable(i),typeof s<"u"&&Ee.setDraggable(s),l&&T(google.maps.event.addListener(Ee,"dblclick",l)),c&&P(google.maps.event.addListener(Ee,"dragend",c)),u&&Z(google.maps.event.addListener(Ee,"dragstart",u)),h&&F(google.maps.event.addListener(Ee,"mousedown",h)),p&&V(google.maps.event.addListener(Ee,"mousemove",p)),m&&$(google.maps.event.addListener(Ee,"mouseout",m)),g&&O(google.maps.event.addListener(Ee,"mouseover",g)),v&&ie(google.maps.event.addListener(Ee,"mouseup",v)),y&&fe(google.maps.event.addListener(Ee,"rightclick",y)),x&&ce(google.maps.event.addListener(Ee,"click",x)),b&&X(google.maps.event.addListener(Ee,"drag",b)),w&&se(google.maps.event.addListener(Ee,"center_changed",w)),N&&Me(google.maps.event.addListener(Ee,"radius_changed",N)),_(Ee),k&&k(Ee),()=>{j!==null&&google.maps.event.removeListener(j),I!==null&&google.maps.event.removeListener(I),L!==null&&google.maps.event.removeListener(L),U!==null&&google.maps.event.removeListener(U),K!==null&&google.maps.event.removeListener(K),D!==null&&google.maps.event.removeListener(D),B!==null&&google.maps.event.removeListener(B),H!==null&&google.maps.event.removeListener(H),q!==null&&google.maps.event.removeListener(q),ee!==null&&google.maps.event.removeListener(ee),ne!==null&&google.maps.event.removeListener(ne),ge!==null&&google.maps.event.removeListener(ge),A&&A(Ee),Ee.setMap(null)}},[]),null}d.memo(DK);class OK extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{circle:null}),re(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(bp(bp({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:F_,eventMap:V_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:F_,eventMap:V_,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),it(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}re(OK,"contextType",Je);function $_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ep(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var U_={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},z_={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function VK(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:s,onMouseMove:i,onMouseOut:a,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:h,onRemoveFeature:p,onRemoveProperty:m,onSetGeometry:g,onSetProperty:v,onLoad:y,onUnmount:x}=t,b=d.useContext(Je),[w,N]=d.useState(null),[k,A]=d.useState(null),[R,C]=d.useState(null),[_,j]=d.useState(null),[T,I]=d.useState(null),[P,L]=d.useState(null),[Z,U]=d.useState(null),[F,K]=d.useState(null),[V,D]=d.useState(null),[$,B]=d.useState(null),[O,H]=d.useState(null),[ie,q]=d.useState(null),[fe,ee]=d.useState(null),[ce,ve]=d.useState(null);return d.useEffect(()=>{w!==null&&w.setMap(b)},[b]),d.useEffect(()=>{w&&r&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(w,"dblclick",r)))},[r]),d.useEffect(()=>{w&&s&&(R!==null&&google.maps.event.removeListener(R),C(google.maps.event.addListener(w,"mousedown",s)))},[s]),d.useEffect(()=>{w&&i&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(w,"mousemove",i)))},[i]),d.useEffect(()=>{w&&a&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(w,"mouseout",a)))},[a]),d.useEffect(()=>{w&&l&&(P!==null&&google.maps.event.removeListener(P),L(google.maps.event.addListener(w,"mouseover",l)))},[l]),d.useEffect(()=>{w&&c&&(Z!==null&&google.maps.event.removeListener(Z),U(google.maps.event.addListener(w,"mouseup",c)))},[c]),d.useEffect(()=>{w&&u&&(F!==null&&google.maps.event.removeListener(F),K(google.maps.event.addListener(w,"rightclick",u)))},[u]),d.useEffect(()=>{w&&n&&(V!==null&&google.maps.event.removeListener(V),D(google.maps.event.addListener(w,"click",n)))},[n]),d.useEffect(()=>{w&&h&&($!==null&&google.maps.event.removeListener($),B(google.maps.event.addListener(w,"addfeature",h)))},[h]),d.useEffect(()=>{w&&p&&(O!==null&&google.maps.event.removeListener(O),H(google.maps.event.addListener(w,"removefeature",p)))},[p]),d.useEffect(()=>{w&&m&&(ie!==null&&google.maps.event.removeListener(ie),q(google.maps.event.addListener(w,"removeproperty",m)))},[m]),d.useEffect(()=>{w&&g&&(fe!==null&&google.maps.event.removeListener(fe),ee(google.maps.event.addListener(w,"setgeometry",g)))},[g]),d.useEffect(()=>{w&&v&&(ce!==null&&google.maps.event.removeListener(ce),ve(google.maps.event.addListener(w,"setproperty",v)))},[v]),d.useEffect(()=>{if(b!==null){var X=new google.maps.Data(Ep(Ep({},e),{},{map:b}));r&&A(google.maps.event.addListener(X,"dblclick",r)),s&&C(google.maps.event.addListener(X,"mousedown",s)),i&&j(google.maps.event.addListener(X,"mousemove",i)),a&&I(google.maps.event.addListener(X,"mouseout",a)),l&&L(google.maps.event.addListener(X,"mouseover",l)),c&&U(google.maps.event.addListener(X,"mouseup",c)),u&&K(google.maps.event.addListener(X,"rightclick",u)),n&&D(google.maps.event.addListener(X,"click",n)),h&&B(google.maps.event.addListener(X,"addfeature",h)),p&&H(google.maps.event.addListener(X,"removefeature",p)),m&&q(google.maps.event.addListener(X,"removeproperty",m)),g&&ee(google.maps.event.addListener(X,"setgeometry",g)),v&&ve(google.maps.event.addListener(X,"setproperty",v)),N(X),y&&y(X)}return()=>{w&&(k!==null&&google.maps.event.removeListener(k),R!==null&&google.maps.event.removeListener(R),_!==null&&google.maps.event.removeListener(_),T!==null&&google.maps.event.removeListener(T),P!==null&&google.maps.event.removeListener(P),Z!==null&&google.maps.event.removeListener(Z),F!==null&&google.maps.event.removeListener(F),V!==null&&google.maps.event.removeListener(V),$!==null&&google.maps.event.removeListener($),O!==null&&google.maps.event.removeListener(O),ie!==null&&google.maps.event.removeListener(ie),fe!==null&&google.maps.event.removeListener(fe),ce!==null&&google.maps.event.removeListener(ce),x&&x(w),w.setMap(null))}},[]),null}d.memo(VK);class FK extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{data:null}),re(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Ep(Ep({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:z_,eventMap:U_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:z_,eventMap:U_,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),it(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}re(FK,"contextType",Je);function B_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function H_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var W_={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},q_={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class $K extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{kmlLayer:null}),re(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(H_(H_({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:q_,eventMap:W_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:q_,eventMap:W_,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),it(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}re($K,"contextType",Je);function tL(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function UK(t,e){return new e(t.lat,t.lng)}function zK(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function BK(t,e,n){return t instanceof e?t:n(t,e)}function HK(t,e,n){return t instanceof e?t:n(t,e)}function WK(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-s.x-e.x,"px"),height:"".concat(s.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function qK(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:s,y:i}=r;return{left:"".concat(s+e.x,"px"),top:"".concat(i+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function nL(t,e,n,r){return n!==void 0?WK(t,e,HK(n,google.maps.LatLngBounds,zK)):qK(t,e,BK(r,google.maps.LatLng,UK))}function GK(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function G_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function KK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QK(t,e,n,r,s){class i extends google.maps.OverlayView{constructor(l,c,u,h){super(),this.container=l,this.pane=c,this.position=u,this.bounds=h}onAdd(){var l,c=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];c==null||c.appendChild(this.container)}draw(){var l=this.getProjection(),c=KK({},this.container?tL(this.container,s):{x:0,y:0}),u=nL(l,c,this.bounds,this.position);for(var[h,p]of Object.entries(u))this.container.style[h]=p}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(t,e,n,r)}function K_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function YK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q_(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function Y_(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function ZK(t){var{position:e,bounds:n,mapPaneName:r,zIndex:s,onLoad:i,onUnmount:a,getPixelPositionOffset:l,children:c}=t,u=d.useContext(Je),h=d.useMemo(()=>{var m=document.createElement("div");return m.style.position="absolute",m},[]),p=d.useMemo(()=>QK(h,r,e,n,l),[h,r,e,n]);return d.useEffect(()=>(i==null||i(p),p==null||p.setMap(u),()=>{a==null||a(p),p==null||p.setMap(null)}),[u,p]),d.useEffect(()=>{h.style.zIndex="".concat(s)},[s,h]),Yr.createPortal(c,h)}d.memo(ZK);class yc extends d.PureComponent{constructor(e){super(e),re(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),re(this,"updatePane",()=>{var r=this.props.mapPaneName,s=this.overlayView.getPanes();xn(!!r,"OverlayView requires props.mapPaneName but got %s",r),s?this.setState({paneEl:s[r]}):this.setState({paneEl:null})}),re(this,"onAdd",()=>{var r,s;this.updatePane(),(r=(s=this.props).onLoad)===null||r===void 0||r.call(s,this.overlayView)}),re(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),s=YK({x:0,y:0},this.containerRef.current?tL(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=nL(r,s,this.props.bounds,this.props.position);if(!GK(i,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var a,l,c,u;this.setState({containerStyle:{top:(a=i.top)!==null&&a!==void 0?a:0,left:(l=i.left)!==null&&l!==void 0?l:0,width:(c=i.width)!==null&&c!==void 0?c:0,height:(u=i.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),re(this,"draw",()=>{this.onPositionElement()}),re(this,"onRemove",()=>{var r,s;this.setState(()=>({paneEl:null})),(r=(s=this.props).onUnmount)===null||r===void 0||r.call(s,this.overlayView)}),this.containerRef=d.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=Q_(e.position),r=Q_(this.props.position),s=Y_(e.bounds),i=Y_(this.props.bounds);(n!==r||s!==i)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Yr.createPortal(o.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:d.Children.only(this.props.children)}),e):null}}re(yc,"FLOAT_PANE","floatPane");re(yc,"MAP_PANE","mapPane");re(yc,"MARKER_LAYER","markerLayer");re(yc,"OVERLAY_LAYER","overlayLayer");re(yc,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");re(yc,"contextType",Je);function XK(){}function Z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function X_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z_(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var J_={onDblClick:"dblclick",onClick:"click"},eS={opacity(t,e){t.setOpacity(e)}};function JK(t){var{url:e,bounds:n,options:r,visible:s}=t,i=d.useContext(Je),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=d.useMemo(()=>new google.maps.GroundOverlay(e,a,r),[]);return d.useEffect(()=>{l!==null&&l.setMap(i)},[i]),d.useEffect(()=>{typeof e<"u"&&l!==null&&(l.set("url",e),l.setMap(i))},[l,e]),d.useEffect(()=>{typeof s<"u"&&l!==null&&l.setOpacity(s?1:0)},[l,s]),d.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&l!==null&&(l.set("bounds",c),l.setMap(i))},[l,n]),null}d.memo(JK);class rL extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{groundOverlay:null}),re(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){xn(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,X_(X_({},this.props.options),{},{map:this.context}));this.registeredEvents=nt({updaterMap:eS,eventMap:J_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:eS,eventMap:J_,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}re(rL,"defaultProps",{onLoad:XK});re(rL,"contextType",Je);function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Np(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var nS={},rS={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function eQ(t){var{data:e,onLoad:n,onUnmount:r,options:s}=t,i=d.useContext(Je),[a,l]=d.useState(null);return d.useEffect(()=>{google.maps.visualization||xn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),d.useEffect(()=>{xn(!!e,"data property is required in HeatmapLayer %s",e)},[e]),d.useEffect(()=>{a!==null&&a.setMap(i)},[i]),d.useEffect(()=>{s&&a!==null&&a.setOptions(s)},[a,s]),d.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(Np(Np({},s),{},{data:e,map:i}));return l(c),n&&n(c),()=>{a!==null&&(r&&r(a),a.setMap(null))}},[]),null}d.memo(eQ);class tQ extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{heatmapLayer:null}),re(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){xn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),xn(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Np(Np({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=nt({updaterMap:rS,eventMap:nS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){it(this.registeredEvents),this.registeredEvents=nt({updaterMap:rS,eventMap:nS,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),it(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}re(tQ,"contextType",Je);var sS={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},iS={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class nQ extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{streetViewPanorama:null}),re(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=nt({updaterMap:iS,eventMap:sS,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:iS,eventMap:sS,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),it(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}re(nQ,"contextType",Je);class rQ extends d.PureComponent{constructor(){super(...arguments),re(this,"state",{streetViewService:null}),re(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}re(rQ,"contextType",Je);var oS={onDirectionsChanged:"directions_changed"},aS={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class sQ extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{directionsRenderer:null}),re(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=nt({updaterMap:aS,eventMap:oS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:aS,eventMap:oS,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),it(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}re(sQ,"contextType",Je);var lS={onPlacesChanged:"places_changed"},cS={bounds(t,e){t.setBounds(e)}};class iQ extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",d.createRef()),re(this,"state",{searchBox:null}),re(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(xn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=nt({updaterMap:cS,eventMap:lS,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(it(this.registeredEvents),this.registeredEvents=nt({updaterMap:cS,eventMap:lS,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),it(this.registeredEvents))}render(){return o.jsx("div",{ref:this.containerElement,children:d.Children.only(this.props.children)})}}re(iQ,"contextType",Je);var uS={onPlaceChanged:"place_changed"},dS={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class sL extends d.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",d.createRef()),re(this,"state",{autocomplete:null}),re(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;xn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=nt({updaterMap:dS,eventMap:uS,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){it(this.registeredEvents),this.registeredEvents=nt({updaterMap:dS,eventMap:uS,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&it(this.registeredEvents)}render(){return o.jsx("div",{ref:this.containerElement,className:this.props.className,children:d.Children.only(this.props.children)})}}re(sL,"defaultProps",{className:""});re(sL,"contextType",Je);const vc=({isOpen:t,onClose:e,onLocationSelect:n,currentLocation:r})=>{const{isDarkMode:s}=Kt(),[i,a]=d.useState(null),[l,c]=d.useState(""),[u,h]=d.useState(!1),[p,m]=d.useState([]),[g,v]=d.useState(!1),[y,x]=d.useState(!1),[b,w]=d.useState(""),N=d.useRef(null),k=d.useRef(null),A=d.useRef(null),R=d.useRef(null),C="AIzaSyC0aUsBjWppu-5sSvme3Zz66Ts9aFKOYRs",_=["places"],j={width:"100%",height:"300px"},T={lat:22.5726,lng:88.3639},{isLoaded:I}=KR({googleMapsApiKey:C,libraries:_});d.useEffect(()=>{t&&(r?a(r):P())},[t,r]),d.useEffect(()=>{window.google&&window.google.maps&&I&&(k.current=new window.google.maps.places.AutocompleteService)},[I]),d.useEffect(()=>{if(!k.current||b.trim().length<3){m([]),v(!1);return}x(!0),k.current.getPlacePredictions({input:b,componentRestrictions:{country:"in"},types:["geocode","establishment"]},(U,F)=>{F===window.google.maps.places.PlacesServiceStatus.OK&&U?(m(U),v(!0)):(m([]),v(!1)),x(!1)})},[b,I]),d.useEffect(()=>{const U=F=>{N.current&&!N.current.contains(F.target)&&v(!1)};return document.addEventListener("click",U),()=>document.removeEventListener("click",U)},[]);const P=async()=>{h(!0);try{if(navigator.geolocation){const U=await new Promise((K,V)=>{navigator.geolocation.getCurrentPosition(K,V,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),F={lat:U.coords.latitude,lng:U.coords.longitude};a(F),z.success("Current location detected!")}else throw new Error("Geolocation not supported")}catch(U){console.error("Error getting location:",U),U instanceof GeolocationPositionError?U.code===1?z.error("Location access denied. Please enable location permissions."):U.code===2?z.error("Location unavailable. Please check your GPS settings."):U.code===3&&z.error("Location request timed out. Please try again."):z.error("Could not get your location. Please click on the map to select your location."),a({lat:22.5726,lng:88.3639})}finally{h(!1)}},L=async(U,F)=>{try{const V=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${U}&lon=${F}&zoom=18&addressdetails=1`)).json();V.display_name&&c(V.display_name)}catch(K){console.error("Error reverse geocoding:",K),c(`Lat: ${U.toFixed(6)}, Lng: ${F.toFixed(6)}`)}},Z=()=>{i&&l?(n({lat:i.lat,lng:i.lng,address:l}),e()):z.error("Please select a valid location")};return o.jsx(Os,{open:t,onOpenChange:e,children:o.jsxs(ds,{className:`max-w-2xl w-full ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsxs(hs,{children:[o.jsx(fr,{className:`text-xl font-bold ${s?"text-white":"text-gray-900"}`,children:"Select Delivery Location"}),o.jsx(zr,{className:s?"text-gray-400":"text-gray-600",children:"Click on the map or drag the marker to your exact delivery location"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Be,{ref:N,placeholder:"Search for an address...",className:`w-full ${s?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}`,autoComplete:"off",value:b,onChange:U=>{w(U.target.value),c(U.target.value),v(!0)},onFocus:()=>{p.length>0&&v(!0)}}),g&&p.length>0&&o.jsxs("div",{className:`absolute z-50 left-0 right-0 mt-1 bg-white border rounded shadow-lg max-h-60 overflow-y-auto ${s?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-200 text-gray-900"}`,children:[y&&o.jsx("div",{className:"p-2 text-sm",children:"Loading..."}),p.map((U,F)=>o.jsx("div",{className:"p-2 cursor-pointer hover:bg-orange-100 dark:hover:bg-gray-700 text-sm",onClick:()=>{w(U.description),c(U.description),v(!1),A.current&&U.place_id&&A.current.getDetails({placeId:U.place_id},(K,V)=>{if(V===window.google.maps.places.PlacesServiceStatus.OK&&K&&K.geometry&&K.geometry.location){const D=K.geometry.location.lat(),$=K.geometry.location.lng();a({lat:D,lng:$}),R.current&&R.current.panTo({lat:D,lng:$})}})},children:U.description},U.place_id||F))]})]}),o.jsx(W,{onClick:()=>{i&&L(i.lat,i.lng)},disabled:u,className:"bg-orange-500 hover:bg-orange-600 text-white",children:u?o.jsx(us,{className:"w-4 h-4 animate-spin"}):o.jsx(en,{className:"w-4 h-4"})})]}),o.jsxs(W,{onClick:P,disabled:u,variant:"outline",className:`w-full ${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(Xv,{className:"w-4 h-4 mr-2"}),u?"Getting location...":"Use Current Location"]}),o.jsxs("div",{className:"relative border rounded-lg overflow-hidden",children:[I&&o.jsx(BR,{mapContainerStyle:j,center:i||T,zoom:15,onLoad:U=>{R.current=U,A.current||(A.current=new window.google.maps.places.PlacesService(U))},onClick:U=>{var V,D;const F=(V=U.latLng)==null?void 0:V.lat(),K=(D=U.latLng)==null?void 0:D.lng();F&&K&&(a({lat:F,lng:K}),L(F,K))},options:{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1},children:i&&o.jsx(yp,{position:i,draggable:!0,onDragEnd:U=>{var V,D;const F=(V=U.latLng)==null?void 0:V.lat(),K=(D=U.latLng)==null?void 0:D.lng();F&&K&&(a({lat:F,lng:K}),L(F,K))}})}),o.jsxs("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 text-xs",children:[o.jsx("p",{className:"font-medium",children:"Map Instructions:"}),o.jsx("p",{children:"• Click anywhere to place marker"}),o.jsx("p",{children:"• Drag the marker to move it"})]}),i&&o.jsxs("div",{className:`absolute bottom-2 left-2 right-2 p-2 rounded ${s?"bg-gray-800 text-white":"bg-white text-gray-900"} shadow-lg`,children:[o.jsx("p",{className:"text-xs font-medium",children:"Selected Location:"}),o.jsx("p",{className:"text-xs opacity-75 mb-1",children:l||"Address not available"}),o.jsxs("p",{className:"text-xs opacity-75 font-mono",children:["📍 Lat: ",i.lat.toFixed(6),", Lng: ",i.lng.toFixed(6)]})]})]}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsxs(W,{variant:"outline",onClick:e,className:`${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(pc,{className:"w-4 h-4 mr-2"}),"Cancel"]}),o.jsxs(W,{onClick:Z,disabled:!i,className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(Md,{className:"w-4 h-4 mr-2"}),"Confirm Location"]})]})]})]})})},xc=()=>{const[t,e]=d.useState({isBanned:!1,isLoading:!0}),[n,r]=d.useState(null),s=async a=>{var l,c;try{const u=await wa(Nt(Ve,"users",a));if(u.exists()){const h=u.data(),p=h.isBanned||!1,m=h.banReason||"",g=(l=h.banDate)==null?void 0:l.toDate(),v=(c=h.banExpiry)==null?void 0:c.toDate();let y=p;v&&new Date>v&&(y=!1,await i(a,!1)),e({isBanned:y,banReason:m,banDate:g,banExpiry:v,isLoading:!1}),y&&z.error(`Your account has been suspended. Reason: ${m||"Violation of terms of service"}`)}else e({isBanned:!1,isLoading:!1})}catch(u){console.error("Error checking ban status:",u),e({isBanned:!1,isLoading:!1})}},i=async(a,l,c,u)=>{try{const h=Nt(Ve,"users",a);await An(h,{isBanned:l,banReason:c||"",banDate:l?new Date:null,banExpiry:u||null,updatedAt:new Date})}catch(h){console.error("Error updating ban status:",h)}};return d.useEffect(()=>{const a=kd(Et,l=>{if(r(l),l){s(l.uid);const c=Nt(Ve,"users",l.uid),u=PP(c,h=>{var p,m;if(h.exists()){const g=h.data(),v=g.isBanned||!1,y=g.banReason||"",x=(p=g.banDate)==null?void 0:p.toDate(),b=(m=g.banExpiry)==null?void 0:m.toDate();let w=v;b&&new Date>b&&(w=!1,i(l.uid,!1)),e({isBanned:w,banReason:y,banDate:x,banExpiry:b,isLoading:!1}),w&&z.error(`Your account has been suspended. Reason: ${y||"Violation of terms of service"}`)}else e({isBanned:!1,isLoading:!1})});return()=>u()}else e({isBanned:!1,isLoading:!1})});return()=>a()},[]),d.useEffect(()=>{if(!n)return;const a=setInterval(()=>{s(n.uid)},6e4);return()=>clearInterval(a)},[n]),{banStatus:t,user:n,checkBanStatus:()=>n&&s(n.uid),updateBanStatus:(a,l,c)=>n&&i(n.uid,a,l,c)}};function ib(t){const e=d.useRef({value:t,previous:t});return d.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ob="Radio",[oQ,iL]=ir(ob),[aQ,lQ]=oQ(ob),oL=d.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:a,value:l="on",onCheck:c,form:u,...h}=t,[p,m]=d.useState(null),g=dt(e,x=>m(x)),v=d.useRef(!1),y=p?u||!!p.closest("form"):!0;return o.jsxs(aQ,{scope:n,checked:s,disabled:a,children:[o.jsx(Oe.button,{type:"button",role:"radio","aria-checked":s,"data-state":uL(s),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:g,onClick:be(t.onClick,x=>{s||c==null||c(),y&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),y&&o.jsx(cL,{control:p,bubbles:!v.current,name:r,value:l,checked:s,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});oL.displayName=ob;var aL="RadioIndicator",lL=d.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=lQ(aL,n);return o.jsx(Zr,{present:r||i.checked,children:o.jsx(Oe.span,{"data-state":uL(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});lL.displayName=aL;var cQ="RadioBubbleInput",cL=d.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=d.useRef(null),l=dt(a,i),c=ib(n),u=Ex(e);return d.useEffect(()=>{const h=a.current;if(!h)return;const p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&g){const v=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(v)}},[c,n,r]),o.jsx(Oe.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cL.displayName=cQ;function uL(t){return t?"checked":"unchecked"}var uQ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Wm="RadioGroup",[dQ,WZ]=ir(Wm,[gc,iL]),dL=gc(),hL=iL(),[hQ,fQ]=dQ(Wm),fL=d.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:p,...m}=t,g=dL(n),v=mc(u),[y,x]=xs({prop:i,defaultProp:s??null,onChange:p,caller:Wm});return o.jsx(hQ,{scope:n,name:r,required:a,disabled:l,value:y,onValueChange:x,children:o.jsx(Fw,{asChild:!0,...g,orientation:c,dir:v,loop:h,children:o.jsx(Oe.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...m,ref:e})})})});fL.displayName=Wm;var pL="RadioGroupItem",mL=d.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=fQ(pL,n),a=i.disabled||r,l=dL(n),c=hL(n),u=d.useRef(null),h=dt(e,u),p=i.value===s.value,m=d.useRef(!1);return d.useEffect(()=>{const g=y=>{uQ.includes(y.key)&&(m.current=!0)},v=()=>m.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),o.jsx($w,{asChild:!0,...l,focusable:!a,active:p,children:o.jsx(oL,{disabled:a,required:i.required,checked:p,...c,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:be(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:be(s.onFocus,()=>{var g;m.current&&((g=u.current)==null||g.click())})})})});mL.displayName=pL;var pQ="RadioGroupIndicator",gL=d.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=hL(n);return o.jsx(lL,{...s,...r,ref:e})});gL.displayName=pQ;var yL=fL,vL=mL,mQ=gL;const Cp=d.forwardRef(({className:t,...e},n)=>o.jsx(yL,{className:Le("grid gap-2",t),...e,ref:n}));Cp.displayName=yL.displayName;const ol=d.forwardRef(({className:t,...e},n)=>o.jsx(vL,{ref:n,className:Le("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(mQ,{className:"flex items-center justify-center",children:o.jsx($P,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ol.displayName=vL.displayName;const gQ=({subtotal:t,deliveryCharge:e,gstRate:n,isDarkMode:r,discountAmount:s=0,appliedPromo:i})=>{const a=Math.round((t-s+e)*(n/100)),l=Math.max(0,t-s+e+a);return o.jsxs("div",{className:`space-y-1 p-2 rounded-lg ${r?"bg-gray-800":"bg-gray-50"}`,children:[o.jsx("h3",{className:`font-semibold text-sm mb-1 ${r?"text-white":"text-gray-900"}`,children:"Price Breakdown"}),o.jsxs("div",{className:"grid grid-cols-2 gap-y-1 text-xs",children:[o.jsx("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:"Subtotal"}),o.jsxs("span",{className:`text-right ${r?"text-white":"text-gray-900"}`,children:["₹",t]}),o.jsx("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:"Delivery Charge"}),o.jsxs("span",{className:`text-right ${r?"text-white":"text-gray-900"}`,children:["₹",e]}),s>0&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-green-600",children:["Discount",i!=null&&i.code?` (${i.code})`:""]}),o.jsxs("span",{className:"text-right text-green-700",children:["-₹",s]})]}),o.jsxs("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:["GST (",n,"%)"]}),o.jsxs("span",{className:`text-right ${r?"text-white":"text-gray-900"}`,children:["₹",a]}),o.jsx("span",{className:"col-span-2",children:o.jsx(Gw,{className:r?"bg-gray-700":"bg-gray-300"})}),o.jsx("span",{className:`font-semibold text-sm ${r?"text-white":"text-gray-900"}`,children:"Total"}),o.jsxs("span",{className:"font-bold text-base text-orange-500 text-right",children:["₹",l]})]}),o.jsx("div",{className:`text-[10px] mt-1 ${r?"text-gray-500":"text-gray-400"}`,children:"* Delivery charge may vary based on distance and time"})]})},qm=({isOpen:t,onClose:e,onPlaceOrder:n,totalPrice:r,user:s,discountAmount:i=0,appliedPromo:a})=>{const{isDarkMode:l,toggleDarkMode:c}=Kt(),{banStatus:u}=xc(),{selectedAddress:h,setSelectedAddress:p}=ig(),[m,g]=d.useState(1),[v,y]=d.useState([]),[x,b]=d.useState(null),[w,N]=d.useState("cod"),[k,A]=d.useState(0),[R,C]=d.useState(""),[_,j]=d.useState(!1),[T,I]=d.useState(""),[P,L]=d.useState(!1),[Z,U]=d.useState(!1),[F,K]=d.useState(null),[V,D]=d.useState({name:"",phone:"",landmark:""}),[$,B]=d.useState({name:"",phone:"",landmark:""}),O=r-i>299?0:40,H=5,ie=Math.round((r-i+O)*(H/100)),q=Math.max(0,r-i+O+ie+k);d.useEffect(()=>{t&&u.isBanned&&(z.error("Your account has been suspended. You cannot place orders."),e())},[t,u.isBanned,e]),d.useEffect(()=>{t&&s?(fe(s.uid),b(h||null)):(g(1),b(null),N("cod"),A(0),C(""),I(""),L(!1),U(!1),K(null))},[t,s,h]);const fe=async ue=>{j(!0);try{const Fe=tn(Ve,"addresses"),We=kr(Fe,Pr("userId","==",ue)),rt=(await Xn(We)).docs.map(et=>{const $e=et.data();return{id:et.id,type:$e.type,name:$e.name,address:$e.address,city:$e.city,state:$e.state,pincode:$e.pincode,phone:$e.phone,email:$e.email,isDefault:$e.isDefault}});rt.sort((et,$e)=>et.isDefault&&!$e.isDefault?-1:!et.isDefault&&$e.isDefault?1:0),y(rt),b(et=>et||rt.find($e=>$e.isDefault)||rt[0]||null)}catch(Fe){console.error("Error loading addresses: ",Fe),z.error("Failed to load addresses.")}finally{j(!1)}},ee=ue=>{A(ue),C("")},ce=ue=>{const Fe=ue.target.value;C(Fe),A(Number(Fe)||0)},ve=ue=>{const We=ue.target.value.replace(/\D/g,"").slice(0,10);I(We)},X=async()=>{if(!x||!T||T.length!==10){z.error("Please enter a valid 10-digit phone number.");return}try{await An(Nt(Ve,"addresses",x.id),{phone:T});const ue={...x,phone:T};b(ue),p(ue),y(Fe=>Fe.map(We=>We.id===x.id?ue:We)),L(!1),I(""),z.success("Phone number added successfully!"),g(2)}catch(ue){console.error("Error saving phone number:",ue),z.error("Failed to save phone number. Please try again.")}},ne=()=>{if(F&&!x){let ue={name:"",phone:"",landmark:""};if(V.name.trim()||(ue.name="Name is required"),V.phone.match(/^\d{10}$/)||(ue.phone="Valid 10-digit phone required"),V.landmark.trim()||(ue.landmark="Landmark is required"),B(ue),ue.name||ue.phone||ue.landmark)return}if(!x&&!F){z.error("Please select a delivery address or location.");return}if(x&&(!x.phone||x.phone.trim()==="")){L(!0),I(x.phone||"");return}g(2)},se=async()=>{if(F&&!x){let ue={name:"",phone:"",landmark:""};if(V.name.trim()||(ue.name="Name is required"),V.phone.match(/^\d{10}$/)||(ue.phone="Valid 10-digit phone required"),V.landmark.trim()||(ue.landmark="Landmark is required"),B(ue),ue.name||ue.phone||ue.landmark)return;const Fe={type:"other",name:V.name,address:F.address,city:"",state:"",pincode:"",phone:V.phone,email:(s==null?void 0:s.email)||"",isDefault:!0,landmark:V.landmark,userId:s==null?void 0:s.uid,createdAt:new Date};try{const We=tn(Ve,"addresses"),_t=kr(We,Pr("userId","==",s.uid)),et=(await Xn(_t)).docs.map(sn=>An(Nt(Ve,"addresses",sn.id),{isDefault:!1}));await Promise.all(et);const $e=await Es(We,Fe),Qt={...Fe,id:$e.id};await fe(s.uid),b(Qt),p(Qt),z.success("Location saved as your default address!"),n({address:Qt,paymentMethod:w,tip:k,finalTotal:q,location:F,discountAmount:i,appliedPromo:a})}catch{z.error("Failed to save address. Please try again.");return}return}if(!x){z.error("Please select a delivery address."),g(1);return}if(!x.phone||x.phone.trim()===""){L(!0),I(x.phone||"");return}n({address:x,paymentMethod:w,tip:k,finalTotal:q,location:F,discountAmount:i,appliedPromo:a})},ge=ue=>{K(ue),b(null),U(!1),z.success("Location selected successfully!")},Me=ue=>{switch(ue){case"home":return o.jsx(Dw,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(Lw,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(od,{className:"w-5 h-5 text-gray-500"})}},Ee=ue=>{b(ue),p(ue)},at=()=>{if(P)return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(fr,{className:`text-xl font-bold mb-2 ${l?"text-white":"text-gray-800"}`,children:"Add Phone Number"}),o.jsx(zr,{className:l?"text-gray-400":"text-gray-600",children:"Please add a phone number to your selected address to continue with the order"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:`p-4 border rounded-lg ${l?"border-gray-600 bg-gray-700":"border-gray-200 bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Me((x==null?void 0:x.type)||""),o.jsx("h3",{className:`font-semibold capitalize ${l?"text-white":"text-gray-900"}`,children:x==null?void 0:x.type}),(x==null?void 0:x.isDefault)&&o.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),o.jsx("p",{className:`text-sm ${l?"text-gray-400":"text-gray-600"}`,children:`${x==null?void 0:x.name}, ${x==null?void 0:x.address}, ${x==null?void 0:x.city}, ${x==null?void 0:x.state} - ${x==null?void 0:x.pincode}`})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Re,{htmlFor:"phone",className:`block text-sm font-medium ${l?"text-white":"text-gray-700"}`,children:"Phone Number *"}),o.jsxs("div",{className:"relative",children:[o.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(Be,{id:"phone",type:"tel",placeholder:"Enter 10-digit phone number",value:T,onChange:ve,className:`pl-10 h-12 text-base ${l?"bg-gray-700 text-white border-gray-600 placeholder-gray-400":"bg-white text-gray-900 border-gray-300"}`,maxLength:10})]}),o.jsx("p",{className:`text-xs ${l?"text-gray-400":"text-gray-500"}`,children:"This number will be used for delivery updates"})]})]})]});switch(m){case 1:return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(fr,{className:`text-xl font-bold mb-2 ${l?"text-white":"text-gray-800"}`,children:"Select Delivery Address"}),o.jsx(zr,{className:l?"text-gray-400":"text-gray-600",children:"Choose where you'd like your order delivered"})]}),o.jsxs(W,{onClick:()=>U(!0),variant:"outline",className:`w-full ${l?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(en,{className:"w-4 h-4 mr-2"}),F?"Change Location":"Set Delivery Location"]}),F&&o.jsxs("div",{className:`p-3 border rounded-lg ${l?"border-gray-600 bg-gray-700":"border-gray-200 bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(en,{className:"w-4 h-4 text-orange-500"}),o.jsx("span",{className:`text-sm font-medium ${l?"text-white":"text-gray-900"}`,children:"Selected Location"})]}),o.jsx("p",{className:`text-xs ${l?"text-gray-400":"text-gray-600"} mb-1`,children:F.address}),o.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["📍 Lat: ",F.lat.toFixed(6),", Lng: ",F.lng.toFixed(6)]})]}),F&&!x&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(Re,{htmlFor:"map-name",className:`block text-sm font-medium ${l?"text-white":"text-gray-700"}`,children:"Full Name *"}),o.jsx(Be,{id:"map-name",value:V.name,onChange:ue=>D(Fe=>({...Fe,name:ue.target.value})),placeholder:"Enter your full name",className:l?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}),$.name&&o.jsx("p",{className:"text-red-500 text-xs",children:$.name}),o.jsx(Re,{htmlFor:"map-phone",className:`block text-sm font-medium ${l?"text-white":"text-gray-700"}`,children:"Phone Number *"}),o.jsx(Be,{id:"map-phone",value:V.phone,onChange:ue=>D(Fe=>({...Fe,phone:ue.target.value.replace(/\D/g,"").slice(0,10)})),placeholder:"Enter 10-digit phone number",maxLength:10,className:l?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}),$.phone&&o.jsx("p",{className:"text-red-500 text-xs",children:$.phone}),o.jsx(Re,{htmlFor:"map-landmark",className:`block text-sm font-medium ${l?"text-white":"text-gray-700"}`,children:"Landmark *"}),o.jsx(Be,{id:"map-landmark",value:V.landmark,onChange:ue=>D(Fe=>({...Fe,landmark:ue.target.value})),placeholder:"Enter a nearby landmark",className:l?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}),$.landmark&&o.jsx("p",{className:"text-red-500 text-xs",children:$.landmark})]}),_?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):o.jsx(Cp,{value:x==null?void 0:x.id,onValueChange:ue=>Ee(v.find(Fe=>Fe.id===ue)||null),children:o.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:v.map(ue=>o.jsxs(Re,{htmlFor:ue.id,className:`flex items-start space-x-3 p-4 border rounded-xl cursor-pointer hover:border-orange-500 transition-colors ${l?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(ol,{value:ue.id,id:ue.id,className:"mt-1"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Me(ue.type),o.jsx("h3",{className:`font-semibold capitalize ${l?"text-white":"text-gray-900"}`,children:ue.type}),ue.isDefault&&o.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),o.jsx("p",{className:`text-sm leading-relaxed ${l?"text-gray-400":"text-gray-600"}`,children:`${ue.name}, ${ue.address}, ${ue.city}, ${ue.state} - ${ue.pincode}`}),ue.phone&&o.jsxs("p",{className:`text-xs mt-1 ${l?"text-gray-400":"text-gray-500"}`,children:["📞 ",ue.phone]}),!ue.phone&&o.jsx("p",{className:"text-xs mt-1 text-orange-500",children:"⚠️ Phone number required"})]})]},ue.id))})}),v.length===0&&!_&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:`mb-4 ${l?"text-gray-400":"text-gray-500"}`,children:"No addresses found"}),o.jsx(W,{variant:"outline",onClick:()=>window.location.href="/address",className:"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Add New Address"})]})]});case 2:return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(fr,{className:`text-xl font-bold mb-0 ${l?"text-white":"text-gray-800"}`,children:"Payment & Tip"}),o.jsx(zr,{className:`text-sm ${l?"text-gray-400":"text-gray-600"}`,children:"Choose your payment method and add a tip"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{children:[o.jsx("h4",{className:`font-semibold mb-1 text-base ${l?"text-white":"text-gray-900"}`,children:"Payment Method"}),o.jsx(Cp,{value:w,onValueChange:N,children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Re,{htmlFor:"cod",className:`flex items-center gap-2 p-2 border rounded cursor-pointer hover:border-orange-500 transition-colors ${l?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(ol,{value:"cod",id:"cod"}),o.jsx(xH,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`font-medium text-sm leading-tight ${l?"text-white":"text-gray-800"}`,children:"Cash on Delivery"}),o.jsx("span",{className:`text-xs leading-tight ${l?"text-gray-400":"text-gray-500"}`,children:"Pay when you receive your order"})]})]}),o.jsxs(Re,{htmlFor:"upi",className:`flex items-center gap-2 p-2 border rounded cursor-pointer hover:border-orange-500 transition-colors ${l?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(ol,{value:"upi",id:"upi"}),o.jsx(aH,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`font-medium text-sm leading-tight ${l?"text-white":"text-gray-800"}`,children:"UPI"}),o.jsx("span",{className:`text-xs leading-tight ${l?"text-gray-400":"text-gray-500"}`,children:"Pay using UPI apps"})]})]}),o.jsxs(Re,{htmlFor:"card",className:`flex items-center gap-2 p-2 border rounded cursor-pointer hover:border-orange-500 transition-colors ${l?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(ol,{value:"card",id:"card"}),o.jsx(nH,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`font-medium text-sm leading-tight ${l?"text-white":"text-gray-800"}`,children:"Credit/Debit Card"}),o.jsx("span",{className:`text-xs leading-tight ${l?"text-gray-400":"text-gray-500"}`,children:"Pay with your card"})]})]})]})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:`font-semibold text-xs ${l?"text-white":"text-gray-900"}`,children:"Add a Tip"}),o.jsx("span",{className:`text-[11px] ${l?"text-gray-400":"text-gray-600"}`,children:"Show appreciation to your delivery partner"}),o.jsx("div",{className:"grid grid-cols-3 gap-1 mb-1",children:[10,20,50].map(ue=>o.jsxs(W,{variant:k===ue?"default":"outline",onClick:()=>ee(ue),className:`h-8 text-sm px-2 ${k===ue?"bg-orange-500 hover:bg-orange-600 text-white":"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white"}`,children:["₹",ue]},ue))}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Be,{type:"number",placeholder:"Custom amount",value:R,onChange:ce,className:`flex-1 h-8 text-sm px-2 ${l?"bg-gray-700 text-white border-gray-600 placeholder-gray-400":"bg-white text-gray-900 border-gray-300"}`}),o.jsx("span",{className:`text-sm ${l?"text-gray-400":"text-gray-500"}`,children:"₹"})]})]})]})]});default:return null}};return o.jsxs(o.Fragment,{children:[o.jsx(Os,{open:t,onOpenChange:e,children:o.jsx(ds,{className:`max-w-xl w-full sm:w-[90vw] h-screen max-h-screen p-0 overflow-hidden rounded-2xl shadow-2xl ${l?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:o.jsxs("div",{className:"flex flex-col h-full max-h-screen",children:[o.jsx(hs,{className:"px-4 pt-4 pb-2 sm:px-8 sm:pt-6 sm:pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(fr,{className:`text-2xl font-bold ${l?"text-white":"text-gray-900"}`,children:P?"Add Phone Number":"Checkout"}),o.jsx(zr,{className:l?"text-gray-400":"text-gray-600",children:P?"Required for delivery":`Step ${m} of 2`})]}),o.jsx(W,{variant:"ghost",size:"icon",onClick:c,className:l?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:l?o.jsx(Vw,{className:"w-5 h-5"}):o.jsx(lp,{className:"w-5 h-5"})})]})}),o.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto scrollbar-none px-4 pb-20 pt-2 sm:px-8 sm:pb-16",style:{scrollbarWidth:"none"},children:at()}),o.jsxs("div",{className:`sticky bottom-0 left-0 right-0 z-20 px-4 pt-3 pb-3 border-t shadow-lg rounded-b-2xl ${l?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} sm:px-8`,children:[!P&&o.jsx("div",{className:"mb-2",children:o.jsx(gQ,{subtotal:r,deliveryCharge:O,gstRate:H,isDarkMode:l,discountAmount:i,appliedPromo:a})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[!P&&o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:`text-sm ${l?"text-gray-400":"text-gray-600"}`,children:["Total: ",o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["₹",q.toFixed(2)]})]})}),o.jsx("div",{className:"flex space-x-3",children:P?o.jsxs(o.Fragment,{children:[o.jsxs(W,{variant:"outline",onClick:()=>L(!1),className:`${l?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} min-h-[44px] min-w-[100px]`,children:[o.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsxs(W,{onClick:X,disabled:T.length!==10,className:"bg-orange-500 hover:bg-orange-600 text-white min-h-[44px] min-w-[120px] text-base disabled:opacity-50",children:["Save & Continue",o.jsx(ap,{className:"w-4 h-4 ml-2"})]})]}):o.jsxs(o.Fragment,{children:[m>1&&o.jsxs(W,{variant:"outline",onClick:()=>g(m-1),className:`${l?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} min-h-[44px] min-w-[100px]`,children:[o.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Back"]}),m<2?o.jsxs(W,{onClick:ne,disabled:!(x||F),className:"bg-orange-500 hover:bg-orange-600 text-white min-h-[44px] min-w-[120px] text-base",children:["Continue",o.jsx(ap,{className:"w-4 h-4 ml-2"})]}):o.jsx(W,{onClick:se,className:"bg-orange-500 hover:bg-orange-600 text-white min-h-[44px] min-w-[120px] text-base",children:"Place Order"})]})})]})]})]})})}),o.jsx(vc,{isOpen:Z,onClose:()=>U(!1),onLocationSelect:ge,currentLocation:F?{lat:F.lat,lng:F.lng}:void 0})]})},Gm=({cart:t,totalPrice:e,onCheckout:n,onDelete:r,onViewMenu:s,isDarkMode:i,buttonLabel:a="Checkout",className:l=""})=>{if(!t||t.length===0)return null;const c=t[0],u=t.reduce((h,p)=>h+(p.quantity||1),0);return o.jsx("div",{className:`md:hidden fixed left-0 right-0 bottom-0 z-50 flex justify-center items-end pointer-events-none mb-1.5 ${l}`,children:o.jsxs("div",{className:`flex items-center w-[98vw] max-w-xl rounded-2xl shadow-xl px-2.5 py-2 border pointer-events-auto gap-2 sm:gap-3
          ${i?"bg-gray-800/90 border-gray-700 backdrop-blur-md":"bg-white/90 border-gray-200 backdrop-blur-md"}`,style:{minHeight:64},children:[o.jsx("img",{src:c.image,alt:c.name,className:`w-11 h-11 sm:w-12 sm:h-12 rounded-xl object-cover border ${i?"border-gray-700":"border-gray-300"}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:`font-bold text-sm sm:text-base truncate ${i?"text-white":"text-gray-900"}`,children:c.name}),o.jsx("button",{className:`text-xs sm:text-sm underline truncate ${i?"text-gray-300":"text-gray-500"} hover:text-pickngo-orange-500`,onClick:s,tabIndex:-1,type:"button",children:"View Full Menu"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center font-bold rounded-xl px-3 py-2 sm:px-5 focus:outline-none transition-colors text-xs sm:text-sm
            ${i?"bg-rose-600 hover:bg-rose-700 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,onClick:n,style:{minWidth:90},children:[o.jsxs("span",{className:"font-semibold whitespace-nowrap",children:[u," item",u>1?"s":""," | ₹",e]}),o.jsx("span",{className:"text-sm sm:text-base font-bold",children:a})]}),o.jsx("button",{className:`ml-1 sm:ml-2 w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center rounded-full focus:outline-none transition-colors
            ${i?"bg-rose-900/60 hover:bg-rose-900 text-white":"bg-rose-100 hover:bg-rose-200 text-rose-500"}`,onClick:r,"aria-label":"Clear Cart",children:o.jsx(Dd,{className:"w-5 h-5"})})]})})},yQ=({isOpen:t,onClose:e,userId:n})=>{const{isDarkMode:r}=Kt(),{selectedAddress:s,setSelectedAddress:i}=ig(),[a,l]=d.useState([]),[c,u]=d.useState(null),[h,p]=d.useState(!1),[m,g]=d.useState(!1),[v,y]=d.useState(null),[x,b]=d.useState({}),[w,N]=d.useState(!1),[k,A]=d.useState(null);d.useEffect(()=>{t&&n&&R(n)},[t,n]),d.useEffect(()=>{t&&u((s==null?void 0:s.id)||null)},[t,s]);const R=async U=>{p(!0);try{const F=tn(Ve,"addresses"),K=kr(F,Pr("userId","==",U)),D=(await Xn(K)).docs.map(B=>{const O=B.data();return{id:B.id,type:O.type,name:O.name,address:O.address,city:O.city,state:O.state,pincode:O.pincode,phone:O.phone,email:O.email,isDefault:O.isDefault}});D.sort((B,O)=>B.isDefault&&!O.isDefault?-1:!B.isDefault&&O.isDefault?1:0),l(D);let $=null;try{const B=localStorage.getItem("pickngo-selected-address");if(B){const O=JSON.parse(B);$=D.find(H=>H.id===O.id)}}catch{}if(!$&&s&&($=D.find(B=>B.id===s.id)),$)u($.id),i($);else if(D.length>0){const B=D.find(O=>O.isDefault)||D[0];u(B.id),i(B),localStorage.setItem("pickngo-selected-address",JSON.stringify(B))}}catch{}finally{p(!1)}},C=U=>{switch(U){case"home":return o.jsx(Dw,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(Lw,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(od,{className:"w-5 h-5 text-gray-500"})}},_=U=>{u(U);const F=a.find(K=>K.id===U);F&&(i(F),localStorage.setItem("pickngo-selected-address",JSON.stringify(F)))},j=async U=>{if(!n)return;let F="",K="",V="";try{const B=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${U.lat}&lon=${U.lng}`)).json();F=B.address.city||B.address.town||B.address.village||"",K=B.address.state||"",V=B.address.postcode||""}catch{}const D={type:"other",name:"",address:U.address,city:F,state:K,pincode:V,isDefault:!0,userId:n,createdAt:new Date};try{const $=tn(Ve,"addresses"),B=kr($,Pr("userId","==",n)),H=(await Xn(B)).docs.map(fe=>An(Nt(Ve,"addresses",fe.id),{isDefault:!1}));await Promise.all(H);const ie=await Es($,D),q={...D,id:ie.id};i(q),u(q.id),localStorage.setItem("pickngo-selected-address",JSON.stringify(q)),g(!1),e()}catch{g(!1),e()}},T=async U=>{if(n)try{if(await Aw(Nt(Ve,"addresses",U)),(s==null?void 0:s.id)===U){const F=a.filter(K=>K.id!==U);F.length>0?(i(F[0]),u(F[0].id),localStorage.setItem("pickngo-selected-address",JSON.stringify(F[0]))):(i(null),u(null),localStorage.removeItem("pickngo-selected-address"))}l(F=>F.filter(K=>K.id!==U))}catch{}},I=U=>{y(U.id),b({...U})},P=(U,F)=>{b(K=>({...K,[U]:F}))},L=async()=>{var F;if(!n||!v)return;const U=["address","city","state","pincode","type"];for(const K of U)if(!x[K]||typeof x[K]=="string"&&((F=x[K])==null?void 0:F.trim())===""){A(`Please fill in the ${K} field.`);return}N(!0),A(null);try{const K=Nt(Ve,"addresses",v),V=Object.fromEntries(Object.entries(x).filter(([D,$])=>$!==void 0));if(await An(K,V),l(D=>D.map($=>$.id===v?{...$,...V}:$)),(s==null?void 0:s.id)===v){const D={...s,...V};i(D),localStorage.setItem("pickngo-selected-address",JSON.stringify(D))}y(null),b({})}catch(K){A("Failed to save. Please try again."),console.error("Firestore update error:",K)}finally{N(!1)}},Z=()=>{y(null),b({})};return o.jsx(Os,{open:t,onOpenChange:e,children:o.jsxs(ds,{className:`max-w-lg w-full ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} p-0`,children:[o.jsxs(hs,{className:"pt-6 px-6",children:[o.jsx(fr,{className:`text-xl font-bold mb-2 ${r?"text-white":"text-gray-900"}`,children:"Select Delivery Address"}),o.jsx(zr,{className:r?"text-gray-400":"text-gray-600",children:"Choose where you'd like your order delivered"})]}),o.jsxs("div",{className:"px-6 pb-6",children:[o.jsxs(W,{onClick:()=>g(!0),variant:"outline",className:`w-full mb-4 ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(en,{className:"w-4 h-4 mr-2"}),"Set Delivery Location"]}),h?o.jsx("div",{className:"flex justify-center items-center py-8",children:o.jsx(us,{className:"w-6 h-6 animate-spin text-orange-500"})}):a.length===0?o.jsx("div",{className:"text-center text-gray-400 py-8",children:"No saved addresses found."}):o.jsx(Cp,{value:c||"",onValueChange:_,children:o.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:a.map(U=>o.jsxs(Re,{htmlFor:U.id,className:`relative flex items-start space-x-3 p-4 border rounded-xl cursor-pointer hover:border-orange-500 transition-colors ${r?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,style:{alignItems:"center"},children:[o.jsx(ol,{value:U.id,id:U.id,className:"mt-1"}),o.jsx("div",{className:"flex-1 min-w-0",children:v===U.id?o.jsxs("form",{className:"flex flex-col gap-2 w-full max-w-full",onSubmit:F=>{F.preventDefault(),L()},children:[o.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:o.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:x.phone||"",onChange:F=>P("phone",F.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"Phone",required:!0,maxLength:10})}),o.jsx("input",{className:"w-full border rounded px-2 py-1 text-sm",value:x.address||"",onChange:F=>P("address",F.target.value),placeholder:"Address",required:!0}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[o.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:x.city||"",onChange:F=>P("city",F.target.value),placeholder:"City",required:!0}),o.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:x.state||"",onChange:F=>P("state",F.target.value),placeholder:"State",required:!0}),o.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:x.pincode||"",onChange:F=>P("pincode",F.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"Pincode",required:!0,maxLength:10})]}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("select",{className:"flex-1 border rounded px-2 py-1 text-sm min-w-0",value:x.type||"other",onChange:F=>P("type",F.target.value),children:[o.jsx("option",{value:"home",children:"Home"}),o.jsx("option",{value:"work",children:"Work"}),o.jsx("option",{value:"other",children:"Other"})]})}),k&&o.jsx("div",{className:"text-xs text-red-500",children:k}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{type:"button",onClick:Z,className:"px-3 py-1 rounded bg-gray-200 text-gray-700 hover:bg-gray-300 text-xs",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-orange-500 text-white hover:bg-orange-600 text-xs",disabled:w,children:w?"Saving...":"Save"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[C(U.type),o.jsx("h3",{className:`font-semibold capitalize ${r?"text-white":"text-gray-900"}`,children:U.type}),U.isDefault&&o.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),o.jsx("p",{className:`text-sm leading-relaxed ${r?"text-gray-400":"text-gray-600"}`,children:`${U.name}, ${U.address}, ${U.city}, ${U.state} - ${U.pincode}`}),U.phone&&o.jsxs("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-500"}`,children:["📞 ",U.phone]}),!U.phone&&o.jsx("p",{className:"text-xs mt-1 text-orange-500",children:"⚠️ Phone number required"})]})}),v!==U.id&&o.jsx("button",{type:"button",onClick:F=>{F.stopPropagation(),I(U)},className:"absolute top-4 right-12 p-2 rounded-full hover:bg-blue-100 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit address",style:{zIndex:2},children:o.jsx(cH,{className:"w-5 h-5"})}),o.jsx("button",{type:"button",onClick:F=>{F.stopPropagation(),T(U.id)},className:"absolute top-4 right-4 p-2 rounded-full hover:bg-red-100 text-red-600 hover:text-red-800 transition-colors",title:"Delete address",style:{zIndex:2},children:o.jsx(Dd,{className:"w-5 h-5"})}),c===U.id&&o.jsx(Md,{className:"w-5 h-5 text-orange-500 ml-2 mt-1"})]},U.id))})}),o.jsx(vc,{isOpen:m,onClose:()=>g(!1),onLocationSelect:j})]})]})})};function vQ(t){return Object.prototype.toString.call(t)==="[object Object]"}function hS(t){return vQ(t)||Array.isArray(t)}function xQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function ab(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:n.every(a=>{const l=t[a],c=e[a];return typeof l=="function"?`${l}`==`${c}`:!hS(l)||!hS(c)?l===c:ab(l,c)})}function fS(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function wQ(t,e){if(t.length!==e.length)return!1;const n=fS(t),r=fS(e);return n.every((s,i)=>{const a=r[i];return ab(s,a)})}function lb(t){return typeof t=="number"}function a0(t){return typeof t=="string"}function Km(t){return typeof t=="boolean"}function pS(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ht(t){return Math.abs(t)}function cb(t){return Math.sign(t)}function Su(t,e){return Ht(t-e)}function bQ(t,e){if(t===0||e===0||Ht(t)<=Ht(e))return 0;const n=Su(Ht(t),Ht(e));return Ht(n/t)}function EQ(t){return Math.round(t*100)/100}function dd(t){return hd(t).map(Number)}function ms(t){return t[$d(t)]}function $d(t){return Math.max(0,t.length-1)}function ub(t,e){return e===$d(t)}function mS(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function hd(t){return Object.keys(t)}function xL(t,e){return[t,e].reduce((n,r)=>(hd(r).forEach(s=>{const i=n[s],a=r[s],l=pS(i)&&pS(a);n[s]=l?xL(i,a):a}),n),{})}function l0(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function NQ(t,e){const n={start:r,center:s,end:i};function r(){return 0}function s(c){return i(c)/2}function i(c){return e-c}function a(c,u){return a0(t)?n[t](c):t(e,c,u)}return{measure:a}}function fd(){let t=[];function e(s,i,a,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,a,l),c=()=>s.removeEventListener(i,a,l);else{const u=s;u.addListener(a),c=()=>u.removeListener(a)}return t.push(c),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function CQ(t,e,n,r){const s=fd(),i=1e3/60;let a=null,l=0,c=0;function u(){s.add(t,"visibilitychange",()=>{t.hidden&&v()})}function h(){g(),s.clear()}function p(x){if(!c)return;a||(a=x,n(),n());const b=x-a;for(a=x,l+=b;l>=i;)n(),l-=i;const w=l/i;r(w),c&&(c=e.requestAnimationFrame(p))}function m(){c||(c=e.requestAnimationFrame(p))}function g(){e.cancelAnimationFrame(c),a=null,l=0,c=0}function v(){a=null,l=0}return{init:u,destroy:h,start:m,stop:g,update:n,render:r}}function _Q(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",i=r?"x":"y",a=!r&&n?-1:1,l=h(),c=p();function u(v){const{height:y,width:x}=v;return r?y:x}function h(){return r?"top":n?"right":"left"}function p(){return r?"bottom":n?"left":"right"}function m(v){return v*a}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:m}}function Ea(t=0,e=0){const n=Ht(t-e);function r(u){return u<t}function s(u){return u>e}function i(u){return r(u)||s(u)}function a(u){return i(u)?r(u)?t:e:u}function l(u){return n?u-n*Math.ceil((u-e)/n):u}return{length:n,max:e,min:t,constrain:a,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:l}}function wL(t,e,n){const{constrain:r}=Ea(0,t),s=t+1;let i=a(e);function a(m){return n?Ht((s+m)%s):r(m)}function l(){return i}function c(m){return i=a(m),p}function u(m){return h().set(l()+m)}function h(){return wL(t,l(),n)}const p={get:l,set:c,add:u,clone:h};return p}function SQ(t,e,n,r,s,i,a,l,c,u,h,p,m,g,v,y,x,b,w){const{cross:N,direction:k}=t,A=["INPUT","SELECT","TEXTAREA"],R={passive:!1},C=fd(),_=fd(),j=Ea(50,225).constrain(g.measure(20)),T={mouse:300,touch:400},I={mouse:500,touch:600},P=v?43:25;let L=!1,Z=0,U=0,F=!1,K=!1,V=!1,D=!1;function $(se){if(!w)return;function ge(Ee){(Km(w)||w(se,Ee))&&fe(Ee)}const Me=e;C.add(Me,"dragstart",Ee=>Ee.preventDefault(),R).add(Me,"touchmove",()=>{},R).add(Me,"touchend",()=>{}).add(Me,"touchstart",ge).add(Me,"mousedown",ge).add(Me,"touchcancel",ce).add(Me,"contextmenu",ce).add(Me,"click",ve,!0)}function B(){C.clear(),_.clear()}function O(){const se=D?n:e;_.add(se,"touchmove",ee,R).add(se,"touchend",ce).add(se,"mousemove",ee,R).add(se,"mouseup",ce)}function H(se){const ge=se.nodeName||"";return A.includes(ge)}function ie(){return(v?I:T)[D?"mouse":"touch"]}function q(se,ge){const Me=p.add(cb(se)*-1),Ee=h.byDistance(se,!v).distance;return v||Ht(se)<j?Ee:x&&ge?Ee*.5:h.byIndex(Me.get(),0).distance}function fe(se){const ge=l0(se,r);D=ge,V=v&&ge&&!se.buttons&&L,L=Su(s.get(),a.get())>=2,!(ge&&se.button!==0)&&(H(se.target)||(F=!0,i.pointerDown(se),u.useFriction(0).useDuration(0),s.set(a),O(),Z=i.readPoint(se),U=i.readPoint(se,N),m.emit("pointerDown")))}function ee(se){if(!l0(se,r)&&se.touches.length>=2)return ce(se);const Me=i.readPoint(se),Ee=i.readPoint(se,N),at=Su(Me,Z),ue=Su(Ee,U);if(!K&&!D&&(!se.cancelable||(K=at>ue,!K)))return ce(se);const Fe=i.pointerMove(se);at>y&&(V=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(k(Fe)),se.preventDefault()}function ce(se){const Me=h.byDistance(0,!1).index!==p.get(),Ee=i.pointerUp(se)*ie(),at=q(k(Ee),Me),ue=bQ(Ee,at),Fe=P-10*ue,We=b+ue/50;K=!1,F=!1,_.clear(),u.useDuration(Fe).useFriction(We),c.distance(at,!v),D=!1,m.emit("pointerUp")}function ve(se){V&&(se.stopPropagation(),se.preventDefault(),V=!1)}function X(){return F}return{init:$,destroy:B,pointerDown:X}}function jQ(t,e){let r,s;function i(p){return p.timeStamp}function a(p,m){const v=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(l0(p,e)?p:p.touches[0])[v]}function l(p){return r=p,s=p,a(p)}function c(p){const m=a(p)-a(s),g=i(p)-i(r)>170;return s=p,g&&(r=p),m}function u(p){if(!r||!s)return 0;const m=a(s)-a(r),g=i(p)-i(r),v=i(p)-i(s)>170,y=m/g;return g&&!v&&Ht(y)>.1?y:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:a}}function kQ(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:a}=n;return{top:r,right:s+i,bottom:r+a,left:s,width:i,height:a}}return{measure:t}}function IQ(t){function e(r){return t*(r/100)}return{measure:e}}function TQ(t,e,n,r,s,i,a){const l=[t].concat(r);let c,u,h=[],p=!1;function m(x){return s.measureSize(a.measure(x))}function g(x){if(!i)return;u=m(t),h=r.map(m);function b(w){for(const N of w){if(p)return;const k=N.target===t,A=r.indexOf(N.target),R=k?u:h[A],C=m(k?t:r[A]);if(Ht(C-R)>=.5){x.reInit(),e.emit("resize");break}}}c=new ResizeObserver(w=>{(Km(i)||i(x,w))&&b(w)}),n.requestAnimationFrame(()=>{l.forEach(w=>c.observe(w))})}function v(){p=!0,c&&c.disconnect()}return{init:g,destroy:v}}function PQ(t,e,n,r,s,i){let a=0,l=0,c=s,u=i,h=t.get(),p=0;function m(){const R=r.get()-t.get(),C=!c;let _=0;return C?(a=0,n.set(r),t.set(r),_=R):(n.set(t),a+=R/c,a*=u,h+=a,t.add(a),_=h-p),l=cb(_),p=h,A}function g(){const R=r.get()-e.get();return Ht(R)<.001}function v(){return c}function y(){return l}function x(){return a}function b(){return N(s)}function w(){return k(i)}function N(R){return c=R,A}function k(R){return u=R,A}const A={direction:y,duration:v,velocity:x,seek:m,settled:g,useBaseFriction:w,useBaseDuration:b,useFriction:k,useDuration:N};return A}function AQ(t,e,n,r,s){const i=s.measure(10),a=s.measure(50),l=Ea(.1,.99);let c=!1;function u(){return!(c||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function h(g){if(!u())return;const v=t.reachedMin(e.get())?"min":"max",y=Ht(t[v]-e.get()),x=n.get()-e.get(),b=l.constrain(y/a);n.subtract(x*b),!g&&Ht(x)<i&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function p(g){c=!g}return{shouldConstrain:u,constrain:h,toggleActive:p}}function RQ(t,e,n,r,s){const i=Ea(-e+t,0),a=p(),l=h(),c=m();function u(v,y){return Su(v,y)<=1}function h(){const v=a[0],y=ms(a),x=a.lastIndexOf(v),b=a.indexOf(y)+1;return Ea(x,b)}function p(){return n.map((v,y)=>{const{min:x,max:b}=i,w=i.constrain(v),N=!y,k=ub(n,y);return N?b:k||u(x,w)?x:u(b,w)?b:w}).map(v=>parseFloat(v.toFixed(3)))}function m(){if(e<=t+s)return[i.max];if(r==="keepSnaps")return a;const{min:v,max:y}=l;return a.slice(v,y)}return{snapsContained:c,scrollContainLimit:l}}function LQ(t,e,n){const r=e[0],s=n?r-t:ms(e);return{limit:Ea(s,r)}}function MQ(t,e,n,r){const i=e.min+.1,a=e.max+.1,{reachedMin:l,reachedMax:c}=Ea(i,a);function u(m){return m===1?c(n.get()):m===-1?l(n.get()):!1}function h(m){if(!u(m))return;const g=t*(m*-1);r.forEach(v=>v.add(g))}return{loop:h}}function DQ(t){const{max:e,length:n}=t;function r(i){const a=i-e;return n?a/-n:0}return{get:r}}function OQ(t,e,n,r,s){const{startEdge:i,endEdge:a}=t,{groupSlides:l}=s,c=p().map(e.measure),u=m(),h=g();function p(){return l(r).map(y=>ms(y)[a]-y[0][i]).map(Ht)}function m(){return r.map(y=>n[i]-y[i]).map(y=>-Ht(y))}function g(){return l(u).map(y=>y[0]).map((y,x)=>y+c[x])}return{snaps:u,snapsAligned:h}}function VQ(t,e,n,r,s,i){const{groupSlides:a}=s,{min:l,max:c}=r,u=h();function h(){const m=a(i),g=!t||e==="keepSnaps";return n.length===1?[i]:g?m:m.slice(l,c).map((v,y,x)=>{const b=!y,w=ub(x,y);if(b){const N=ms(x[0])+1;return mS(N)}if(w){const N=$d(i)-ms(x)[0]+1;return mS(N,ms(x)[0])}return v})}return{slideRegistry:u}}function FQ(t,e,n,r,s){const{reachedAny:i,removeOffset:a,constrain:l}=r;function c(v){return v.concat().sort((y,x)=>Ht(y)-Ht(x))[0]}function u(v){const y=t?a(v):l(v),x=e.map((w,N)=>({diff:h(w-y,0),index:N})).sort((w,N)=>Ht(w.diff)-Ht(N.diff)),{index:b}=x[0];return{index:b,distance:y}}function h(v,y){const x=[v,v+n,v-n];if(!t)return v;if(!y)return c(x);const b=x.filter(w=>cb(w)===y);return b.length?c(b):ms(x)-n}function p(v,y){const x=e[v]-s.get(),b=h(x,y);return{index:v,distance:b}}function m(v,y){const x=s.get()+v,{index:b,distance:w}=u(x),N=!t&&i(x);if(!y||N)return{index:b,distance:v};const k=e[b]-w,A=v+h(k,0);return{index:b,distance:A}}return{byDistance:m,byIndex:p,shortcut:h}}function $Q(t,e,n,r,s,i,a){function l(p){const m=p.distance,g=p.index!==e.get();i.add(m),m&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),g&&(n.set(e.get()),e.set(p.index),a.emit("select"))}function c(p,m){const g=s.byDistance(p,m);l(g)}function u(p,m){const g=e.clone().set(p),v=s.byIndex(g.get(),m);l(v)}return{distance:c,index:u}}function UQ(t,e,n,r,s,i,a,l){const c={passive:!0,capture:!0};let u=0;function h(g){if(!l)return;function v(y){if(new Date().getTime()-u>10)return;a.emit("slideFocusStart"),t.scrollLeft=0;const w=n.findIndex(N=>N.includes(y));lb(w)&&(s.useDuration(0),r.index(w,0),a.emit("slideFocus"))}i.add(document,"keydown",p,!1),e.forEach((y,x)=>{i.add(y,"focus",b=>{(Km(l)||l(g,b))&&v(x)},c)})}function p(g){g.code==="Tab"&&(u=new Date().getTime())}return{init:h}}function su(t){let e=t;function n(){return e}function r(c){e=a(c)}function s(c){e+=a(c)}function i(c){e-=a(c)}function a(c){return lb(c)?c:c.get()}return{get:n,set:r,add:s,subtract:i}}function bL(t,e){const n=t.scroll==="x"?a:l,r=e.style;let s=null,i=!1;function a(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(i)return;const g=EQ(t.direction(m));g!==s&&(r.transform=n(g),s=g)}function u(m){i=!m}function h(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:h,to:c,toggleActive:u}}function zQ(t,e,n,r,s,i,a,l,c){const h=dd(s),p=dd(s).reverse(),m=b().concat(w());function g(C,_){return C.reduce((j,T)=>j-s[T],_)}function v(C,_){return C.reduce((j,T)=>g(j,_)>0?j.concat([T]):j,[])}function y(C){return i.map((_,j)=>({start:_-r[j]+.5+C,end:_+e-.5+C}))}function x(C,_,j){const T=y(_);return C.map(I=>{const P=j?0:-n,L=j?n:0,Z=j?"end":"start",U=T[I][Z];return{index:I,loopPoint:U,slideLocation:su(-1),translate:bL(t,c[I]),target:()=>l.get()>U?P:L}})}function b(){const C=a[0],_=v(p,C);return x(_,n,!1)}function w(){const C=e-a[0]-1,_=v(h,C);return x(_,-n,!0)}function N(){return m.every(({index:C})=>{const _=h.filter(j=>j!==C);return g(_,e)<=.1})}function k(){m.forEach(C=>{const{target:_,translate:j,slideLocation:T}=C,I=_();I!==T.get()&&(j.to(I),T.set(I))})}function A(){m.forEach(C=>C.translate.clear())}return{canLoop:N,clear:A,loop:k,loopPoints:m}}function BQ(t,e,n){let r,s=!1;function i(c){if(!n)return;function u(h){for(const p of h)if(p.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(h=>{s||(Km(n)||n(c,h))&&u(h)}),r.observe(t,{childList:!0})}function a(){r&&r.disconnect(),s=!0}return{init:i,destroy:a}}function HQ(t,e,n,r){const s={};let i=null,a=null,l,c=!1;function u(){l=new IntersectionObserver(v=>{c||(v.forEach(y=>{const x=e.indexOf(y.target);s[x]=y}),i=null,a=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>l.observe(v))}function h(){l&&l.disconnect(),c=!0}function p(v){return hd(s).reduce((y,x)=>{const b=parseInt(x),{isIntersecting:w}=s[b];return(v&&w||!v&&!w)&&y.push(b),y},[])}function m(v=!0){if(v&&i)return i;if(!v&&a)return a;const y=p(v);return v&&(i=y),v||(a=y),y}return{init:u,destroy:h,get:m}}function WQ(t,e,n,r,s,i){const{measureSize:a,startEdge:l,endEdge:c}=t,u=n[0]&&s,h=v(),p=y(),m=n.map(a),g=x();function v(){if(!u)return 0;const w=n[0];return Ht(e[l]-w[l])}function y(){if(!u)return 0;const w=i.getComputedStyle(ms(r));return parseFloat(w.getPropertyValue(`margin-${c}`))}function x(){return n.map((w,N,k)=>{const A=!N,R=ub(k,N);return A?m[N]+h:R?m[N]+p:k[N+1][l]-w[l]}).map(Ht)}return{slideSizes:m,slideSizesWithGaps:g,startGap:h,endGap:p}}function qQ(t,e,n,r,s,i,a,l,c){const{startEdge:u,endEdge:h,direction:p}=t,m=lb(n);function g(b,w){return dd(b).filter(N=>N%w===0).map(N=>b.slice(N,N+w))}function v(b){return b.length?dd(b).reduce((w,N,k)=>{const A=ms(w)||0,R=A===0,C=N===$d(b),_=s[u]-i[A][u],j=s[u]-i[N][h],T=!r&&R?p(a):0,I=!r&&C?p(l):0,P=Ht(j-I-(_+T));return k&&P>e+c&&w.push(N),C&&w.push(b.length),w},[]).map((w,N,k)=>{const A=Math.max(k[N-1]||0);return b.slice(A,w)}):[]}function y(b){return m?g(b,n):v(b)}return{groupSlides:y}}function GQ(t,e,n,r,s,i,a){const{align:l,axis:c,direction:u,startIndex:h,loop:p,duration:m,dragFree:g,dragThreshold:v,inViewThreshold:y,slidesToScroll:x,skipSnaps:b,containScroll:w,watchResize:N,watchSlides:k,watchDrag:A,watchFocus:R}=i,C=2,_=kQ(),j=_.measure(e),T=n.map(_.measure),I=_Q(c,u),P=I.measureSize(j),L=IQ(P),Z=NQ(l,P),U=!p&&!!w,F=p||!!w,{slideSizes:K,slideSizesWithGaps:V,startGap:D,endGap:$}=WQ(I,j,T,n,F,s),B=qQ(I,P,x,p,j,T,D,$,C),{snaps:O,snapsAligned:H}=OQ(I,Z,j,T,B),ie=-ms(O)+ms(V),{snapsContained:q,scrollContainLimit:fe}=RQ(P,ie,H,w,C),ee=U?q:H,{limit:ce}=LQ(ie,ee,p),ve=wL($d(ee),h,p),X=ve.clone(),ne=dd(n),se=({dragHandler:xe,scrollBody:ke,scrollBounds:Ke,options:{loop:ht}})=>{ht||Ke.constrain(xe.pointerDown()),ke.seek()},ge=({scrollBody:xe,translate:ke,location:Ke,offsetLocation:ht,previousLocation:St,scrollLooper:At,slideLooper:$t,dragHandler:wn,animation:on,eventHandler:Yt,scrollBounds:ze,options:{loop:Tt}},lt)=>{const kt=xe.settled(),hn=!ze.shouldConstrain(),J=Tt?kt:kt&&hn,we=J&&!wn.pointerDown();we&&on.stop();const Ie=Ke.get()*lt+St.get()*(1-lt);ht.set(Ie),Tt&&(At.loop(xe.direction()),$t.loop()),ke.to(ht.get()),we&&Yt.emit("settle"),J||Yt.emit("scroll")},Me=CQ(r,s,()=>se(G),xe=>ge(G,xe)),Ee=.68,at=ee[ve.get()],ue=su(at),Fe=su(at),We=su(at),_t=su(at),rt=PQ(ue,We,Fe,_t,m,Ee),et=FQ(p,ee,ie,ce,_t),$e=$Q(Me,ve,X,rt,et,_t,a),Qt=DQ(ce),sn=fd(),Qe=HQ(e,n,a,y),{slideRegistry:Y}=VQ(U,w,ee,fe,B,ne),me=UQ(t,n,Y,$e,rt,sn,a,R),G={ownerDocument:r,ownerWindow:s,eventHandler:a,containerRect:j,slideRects:T,animation:Me,axis:I,dragHandler:SQ(I,t,r,s,_t,jQ(I,s),ue,Me,$e,rt,et,ve,a,L,g,v,b,Ee,A),eventStore:sn,percentOfView:L,index:ve,indexPrevious:X,limit:ce,location:ue,offsetLocation:We,previousLocation:Fe,options:i,resizeHandler:TQ(e,a,s,n,I,N,_),scrollBody:rt,scrollBounds:AQ(ce,We,_t,rt,L),scrollLooper:MQ(ie,ce,We,[ue,We,Fe,_t]),scrollProgress:Qt,scrollSnapList:ee.map(Qt.get),scrollSnaps:ee,scrollTarget:et,scrollTo:$e,slideLooper:zQ(I,P,ie,K,V,O,ee,We,n),slideFocus:me,slidesHandler:BQ(e,a,k),slidesInView:Qe,slideIndexes:ne,slideRegistry:Y,slidesToScroll:B,target:_t,translate:bL(I,e)};return G}function KQ(){let t={},e;function n(u){e=u}function r(u){return t[u]||[]}function s(u){return r(u).forEach(h=>h(e,u)),c}function i(u,h){return t[u]=r(u).concat([h]),c}function a(u,h){return t[u]=r(u).filter(p=>p!==h),c}function l(){t={}}const c={init:n,emit:s,off:a,on:i,clear:l};return c}const QQ={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function YQ(t){function e(i,a){return xL(i,a||{})}function n(i){const a=i.breakpoints||{},l=hd(a).filter(c=>t.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>e(c,u),{});return e(i,l)}function r(i){return i.map(a=>hd(a.breakpoints||{})).reduce((a,l)=>a.concat(l),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function ZQ(t){let e=[];function n(i,a){return e=a.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),e.forEach(l=>l.init(i,t)),a.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function r(){e=e.filter(i=>i.destroy())}return{init:n,destroy:r}}function _p(t,e,n){const r=t.ownerDocument,s=r.defaultView,i=YQ(s),a=ZQ(i),l=fd(),c=KQ(),{mergeOptions:u,optionsAtMedia:h,optionsMediaQueries:p}=i,{on:m,off:g,emit:v}=c,y=I;let x=!1,b,w=u(QQ,_p.globalOptions),N=u(w),k=[],A,R,C;function _(){const{container:ne,slides:se}=N;R=(a0(ne)?t.querySelector(ne):ne)||t.children[0];const Me=a0(se)?R.querySelectorAll(se):se;C=[].slice.call(Me||R.children)}function j(ne){const se=GQ(t,R,C,r,s,ne,c);if(ne.loop&&!se.slideLooper.canLoop()){const ge=Object.assign({},ne,{loop:!1});return j(ge)}return se}function T(ne,se){x||(w=u(w,ne),N=h(w),k=se||k,_(),b=j(N),p([w,...k.map(({options:ge})=>ge)]).forEach(ge=>l.add(ge,"change",I)),N.active&&(b.translate.to(b.location.get()),b.animation.init(),b.slidesInView.init(),b.slideFocus.init(X),b.eventHandler.init(X),b.resizeHandler.init(X),b.slidesHandler.init(X),b.options.loop&&b.slideLooper.loop(),R.offsetParent&&C.length&&b.dragHandler.init(X),A=a.init(X,k)))}function I(ne,se){const ge=B();P(),T(u({startIndex:ge},ne),se),c.emit("reInit")}function P(){b.dragHandler.destroy(),b.eventStore.clear(),b.translate.clear(),b.slideLooper.clear(),b.resizeHandler.destroy(),b.slidesHandler.destroy(),b.slidesInView.destroy(),b.animation.destroy(),a.destroy(),l.clear()}function L(){x||(x=!0,l.clear(),P(),c.emit("destroy"),c.clear())}function Z(ne,se,ge){!N.active||x||(b.scrollBody.useBaseFriction().useDuration(se===!0?0:N.duration),b.scrollTo.index(ne,ge||0))}function U(ne){const se=b.index.add(1).get();Z(se,ne,-1)}function F(ne){const se=b.index.add(-1).get();Z(se,ne,1)}function K(){return b.index.add(1).get()!==B()}function V(){return b.index.add(-1).get()!==B()}function D(){return b.scrollSnapList}function $(){return b.scrollProgress.get(b.offsetLocation.get())}function B(){return b.index.get()}function O(){return b.indexPrevious.get()}function H(){return b.slidesInView.get()}function ie(){return b.slidesInView.get(!1)}function q(){return A}function fe(){return b}function ee(){return t}function ce(){return R}function ve(){return C}const X={canScrollNext:K,canScrollPrev:V,containerNode:ce,internalEngine:fe,destroy:L,off:g,on:m,emit:v,plugins:q,previousScrollSnap:O,reInit:y,rootNode:ee,scrollNext:U,scrollPrev:F,scrollProgress:$,scrollSnapList:D,scrollTo:Z,selectedScrollSnap:B,slideNodes:ve,slidesInView:H,slidesNotInView:ie};return T(e,n),setTimeout(()=>c.emit("init"),0),X}_p.globalOptions=void 0;function db(t={},e=[]){const n=d.useRef(t),r=d.useRef(e),[s,i]=d.useState(),[a,l]=d.useState(),c=d.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return d.useEffect(()=>{ab(n.current,t)||(n.current=t,c())},[t,c]),d.useEffect(()=>{wQ(r.current,e)||(r.current=e,c())},[e,c]),d.useEffect(()=>{if(xQ()&&a){_p.globalOptions=db.globalOptions;const u=_p(a,n.current,r.current);return i(u),()=>u.destroy()}else i(void 0)},[a,i]),[l,s]}db.globalOptions=void 0;const EL=d.createContext(null);function Qm(){const t=d.useContext(EL);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const c0=d.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:s,children:i,...a},l)=>{const[c,u]=db({...e,axis:t==="horizontal"?"x":"y"},r),[h,p]=d.useState(!1),[m,g]=d.useState(!1),v=d.useCallback(w=>{w&&(p(w.canScrollPrev()),g(w.canScrollNext()))},[]),y=d.useCallback(()=>{u==null||u.scrollPrev()},[u]),x=d.useCallback(()=>{u==null||u.scrollNext()},[u]),b=d.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),y()):w.key==="ArrowRight"&&(w.preventDefault(),x())},[y,x]);return d.useEffect(()=>{!u||!n||n(u)},[u,n]),d.useEffect(()=>{if(u)return v(u),u.on("reInit",v),u.on("select",v),()=>{u==null||u.off("select",v)}},[u,v]),o.jsx(EL.Provider,{value:{carouselRef:c,api:u,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:x,canScrollPrev:h,canScrollNext:m},children:o.jsx("div",{ref:l,onKeyDownCapture:b,className:Le("relative",s),role:"region","aria-roledescription":"carousel",...a,children:i})})});c0.displayName="Carousel";const u0=d.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:s}=Qm();return o.jsx("div",{ref:r,className:"overflow-hidden",children:o.jsx("div",{ref:n,className:Le("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});u0.displayName="CarouselContent";const d0=d.forwardRef(({className:t,...e},n)=>{const{orientation:r}=Qm();return o.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:Le("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});d0.displayName="CarouselItem";const h0=d.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollPrev:a,canScrollPrev:l}=Qm();return o.jsxs(W,{ref:s,variant:e,size:n,className:Le("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:a,...r,children:[o.jsx(Dn,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Previous slide"})]})});h0.displayName="CarouselPrevious";const f0=d.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollNext:a,canScrollNext:l}=Qm();return o.jsxs(W,{ref:s,variant:e,size:n,className:Le("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:a,...r,children:[o.jsx(ap,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Next slide"})]})});f0.displayName="CarouselNext";const XQ=()=>{const t=_n(),[e,n]=d.useState([]),[r,s]=d.useState([]),[i,a]=d.useState(!0),[l,c]=d.useState(!0);d.useEffect(()=>{(async()=>{try{const v=(await _o(Ue.FOOD)).filter(y=>y.subcategory!=="all").slice(0,12);n(v)}catch(g){console.error("Error fetching food categories:",g)}finally{a(!1)}})()},[]),d.useEffect(()=>{(async()=>{try{const v=(await _o(Ue.DAILY_ESSENTIAL)).filter(y=>y.subcategory!=="all").slice(0,8);s(v)}catch(g){console.error("Error fetching essential categories:",g)}finally{c(!1)}})()},[]);const u=m=>{t("/food",{state:{category:m.subcategory}})},h=m=>{t("/daily-essential",{state:{subcategory:m.subcategory}})},p=(m,g="text-6xl")=>m.icon?m.icon.startsWith("http")||m.icon.startsWith("data:")?o.jsx("img",{src:m.icon,alt:m.displayName||m.name,className:"w-full h-full object-cover",onError:v=>{var y;v.currentTarget.style.display="none",(y=v.currentTarget.nextElementSibling)==null||y.classList.remove("hidden")}}):o.jsx("span",{className:`${g} flex items-center justify-center w-full h-full`,children:m.icon}):o.jsx("span",{className:`${g} flex items-center justify-center w-full h-full`,children:"📦"});return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"hidden md:block container mx-auto py-12",children:[o.jsx("h2",{className:"text-3xl font-bold mb-6",children:"What's on your mind?"}),i?o.jsx("div",{className:"flex justify-center items-center h-48",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):o.jsxs(c0,{opts:{align:"start",loop:!0},children:[o.jsx(u0,{children:e.map((m,g)=>o.jsx(d0,{className:"basis-auto",children:o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>u(m),children:[o.jsx("div",{className:"w-36 h-36 rounded-full mx-auto bg-gray-100 hover:bg-gray-200 transition-colors overflow-hidden",children:p(m,"text-6xl")}),o.jsx("p",{className:"mt-2 font-semibold",children:m.displayName||m.name})]})},m.id||g))}),o.jsx(h0,{}),o.jsx(f0,{})]})]}),o.jsxs("div",{className:"hidden md:block container mx-auto py-12",children:[o.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Shop groceries on Instamart"}),l?o.jsx("div",{className:"flex justify-center items-center h-48",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):o.jsxs(c0,{opts:{align:"start",loop:!0},children:[o.jsx(u0,{children:r.map((m,g)=>o.jsx(d0,{className:"basis-1/5",children:o.jsx(Pe,{className:"overflow-hidden cursor-pointer group",onClick:()=>h(m),children:o.jsxs(Ae,{className:"p-0",children:[o.jsx("div",{className:"w-full h-48 bg-gray-100 transition-transform duration-300 group-hover:scale-105 overflow-hidden",children:p(m,"text-8xl")}),o.jsx("div",{className:"p-4",children:o.jsx("p",{className:"font-semibold text-center",children:m.displayName||m.name})})]})})},m.id||g))}),o.jsx(h0,{}),o.jsx(f0,{})]})]})]})},JQ=()=>{var hn;const t=_n(),{isDarkMode:e,toggleDarkMode:n}=Kt(),{selectedAddress:r}=ig(),{cart:s,addToCart:i,updateCartQuantity:a,removeFromCart:l,clearCart:c,getTotalItems:u,getTotalPrice:h,isCartPopupOpen:p,setIsCartPopupOpen:m}=Um(),{banStatus:g}=xc(),[v,y]=d.useState("food"),[x,b]=d.useState(""),[w,N]=d.useState("grid"),[k,A]=d.useState([0,1e3]),[R,C]=d.useState("Fetching location..."),[_,j]=d.useState(!1),[T,I]=d.useState(!1),[P,L]=d.useState(null),[Z,U]=d.useState(!1),[F,K]=d.useState(null),[V,D]=d.useState(!1),[$,B]=d.useState(!1),[O,H]=d.useState(!1),[ie,q]=d.useState(!1),[fe,ee]=d.useState(!0),[ce,ve]=d.useState([]),[X,ne]=d.useState([]),[se,ge]=d.useState([]),[Me,Ee]=d.useState([]),[at,ue]=d.useState([]),[Fe,We]=d.useState([]),[_t,rt]=d.useState(!1),[et,$e]=d.useState({city:"",pincode:"",display:"Fetching location..."}),[Qt,sn]=d.useState(!1),[Qe,Y]=d.useState(0),[me,G]=d.useState(null),[xe,ke]=d.useState(!1),Ke=d.useRef(null);d.useEffect(()=>{(async()=>{const we=await _o(Ue.FOOD);Ee(we)})()},[]),d.useEffect(()=>{(async()=>{const we=await _o(Ue.DAILY_ESSENTIAL);ue(we)})()},[]),d.useEffect(()=>{(async()=>{We(await WB(4))})()},[]);const ht=ce.filter(J=>J.name.toLowerCase().includes(x.toLowerCase())),St=()=>{y("wine"),Z?t("/drinks"):H(!0)},At=J=>{console.log("handleFoodClick called with category:",J),y("food"),t("/food",{state:{category:J}})},$t=()=>{y("essentials"),t("/daily-essential")},wn=async J=>{const{address:we,paymentMethod:Ie,tip:Te,location:st}=J;if(g.isBanned){z.error("Your account has been suspended. You cannot place orders."),q(!1);return}if(!P){z.error("Please log in to place an order."),j(!0);return}if(!we.phone||we.phone.trim()===""){z.error("Please add a phone number to your address before placing the order.");return}let Ye=null;if(st)Ye={lat:st.lat,lng:st.lng},z.success("Using selected delivery location!");else{z.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const zt=await new Promise((On,qd)=>{navigator.geolocation.getCurrentPosition(On,qd,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});Ye={lat:zt.coords.latitude,lng:zt.coords.longitude},z.dismiss(),z.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(zt){console.error("Error getting location:",zt),z.dismiss(),zt.code===1?z.error("Location access denied. Please enable location permissions for accurate tracking."):zt.code===2?z.error("Location unavailable. Please check your GPS settings."):zt.code===3?z.error("Location request timed out. Please try again."):z.error("Could not get your location. Using approximate location."),Ye={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const je=25,fn=Math.random()*10+5,Sn=Math.round(je+fn),og=new Date(Date.now()+Sn*60*1e3),La=s.reduce((zt,On)=>zt+On.price*On.quantity,0),_s=La-(J.discountAmount||0)>299?0:40,Bd=5,Hd=Math.round((La-(J.discountAmount||0)+_s)*(Bd/100)),Ma=Math.max(0,La-(J.discountAmount||0)+_s+Hd+(J.tip||0)),Wd={name:we.name||P.displayName||"User",email:we.email||P.email||"",phone:we.phone},bc={userId:P.uid,userInfo:Wd,items:s,subtotal:La,deliveryFee:_s,gstRate:Bd,gstAmount:Hd,discountAmount:J.discountAmount||0,appliedPromo:J.appliedPromo||null,totalPrice:Ma,tip:J.tip||0,deliveryAddress:Object.fromEntries(Object.entries(we).filter(([zt,On])=>On!=null)),paymentMethod:Ie,status:"pending",createdAt:new Date,estimatedDeliveryTime:og,estimatedMinutes:Sn,userLocation:Ye,selectedLocationAddress:(st==null?void 0:st.address)||null};try{await Kl(async()=>{const zt=await Es(tn(Ve,"orders"),bc);await An(Nt(Ve,"orders",zt.id),{orderId:zt.id}),z.success("Order placed successfully!"),c(),q(!1),t(`/current-order/${zt.id}`)})}catch(zt){console.error("Error placing order:",zt),zt.code==="permission-denied"?z.error("Access denied. Please check your permissions."):zt.code==="unavailable"?z.error("Firebase service is temporarily unavailable. Please try again later."):z.error("Failed to place order. Please check your connection and try again.")}},on=J=>{switch(J.category){case"food":t("/food");break;case"drinks":t("/drinks");break;case"daily_essential":t("/daily-essential");break}z.success(`Selected ${J.name}`)};d.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async Ie=>{const{latitude:Te,longitude:st}=Ie.coords;console.log("Detected coordinates:",{latitude:Te,longitude:st});try{const je=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${Te}&lon=${st}`)).json();je&&je.display_name?C(je.display_name):C("Location not found")}catch(Ye){console.error("Error fetching location:",Ye),C("Could not fetch location")}},Ie=>{C("Location access denied"),console.error("Geolocation error:",Ie)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):C("Geolocation not supported"),localStorage.getItem("pickngo-cart"),localStorage.getItem("pickngo-age-verified")&&U(!0);const we=kd(Et,Ie=>{L(Ie),I(!!Ie)});return()=>we()},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(s))},[s]),d.useEffect(()=>{(async()=>{await MP(),ve(await wl("food")),ne(await wl("Drinks")),ge(await wl("Daily Essential"))})()},[]);const Yt=async()=>{try{await OI(Et),z.success("Signed out successfully")}catch{z.error("Failed to sign out")}},ze=(J=0,we=null)=>{if(!P){z.error("You must be logged in to place an order."),j(!0);return}if(s.length===0){z.error("Your cart is empty.");return}Y(J),G(we),D(!1),q(!0)},Tt=J=>{C(J.address),B(!1),z.success("Location selected successfully!")};d.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async J=>{const{latitude:we,longitude:Ie}=J.coords;try{const st=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${we}&lon=${Ie}`)).json(),Ye=st.address.city||st.address.town||st.address.village||"",je=st.address.postcode||"";$e({city:Ye,pincode:je,display:Ye&&je?`${Ye}, ${je}`:Ye||je||"Location not found"})}catch{$e({city:"",pincode:"",display:"Location not found"})}},J=>{$e({city:"",pincode:"",display:"Location not found"})}):$e({city:"",pincode:"",display:"Location not found"})},[]);const lt=Me.filter(J=>J.subcategory!=="all"),kt=J=>{const Ie=(J.preparationTime||J.deliveryTime||"").match(/(\d+)/);return Ie?parseInt(Ie[1],10):999};return console.log("foodItems:",ce),o.jsxs("div",{className:`min-h-screen w-full overflow-x-hidden ${e?"bg-gray-900 text-white":"bg-white text-gray-900"}`,children:[o.jsx("header",{className:`hidden md:block sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("img",{src:"/logo.jpg",alt:"PickNGo Logo",className:"h-12 w-auto object-contain"})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(en,{className:"w-5 h-5 text-orange-500"}),o.jsx("div",{className:"min-w-0",children:o.jsx("h3",{className:`font-medium text-sm truncate ${e?"text-white":"text-gray-900"}`,children:et.display})})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 ml-auto pr-6",children:[o.jsx(W,{variant:"ghost",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",onClick:()=>z.info("Download our mobile app!"),children:"Download App"}),o.jsx(W,{variant:"ghost",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",onClick:()=>t("/help-center"),children:"Help Center"}),o.jsx(W,{variant:"ghost",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",onClick:()=>t("/about-us"),children:"About Us"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsxs(W,{variant:"outline",className:`flex items-center space-x-2 relative ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(Ds,{className:"w-5 h-5"}),u()>0&&o.jsx(It,{className:"absolute -top-2 -right-2 bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:u()})]})}),o.jsxs(li,{className:`w-80 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(ci,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Shopping Cart"}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:[u()," items"]})]})}),o.jsx(Nr,{className:e?"bg-gray-700":"bg-gray-200"}),s.length===0?o.jsxs("div",{className:"p-4 text-center",children:[o.jsx(Ds,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"})]}):o.jsx("div",{className:"max-h-60 overflow-y-auto",children:s.map(J=>o.jsxs("div",{className:"flex items-center space-x-3 p-3 border-b border-gray-100 dark:border-gray-700",children:[o.jsx("img",{src:J.image,alt:J.name,className:"w-12 h-12 object-cover rounded",onError:we=>{we.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yNCAzMkMyNi4yMDkxIDMyIDI4IDMwLjIwOTEgMjggMjhDMjggMjUuNzkwOSAyNi4yMDkxIDI0IDI0IDI0QzIxLjc5MDkgMjQgMjAgMjUuNzkwOSAyMCAyOEMyMCAzMC4yMDkxIDIxLjc5MDkgMzIgMjQgMzJaIiBmaWxsPSIjOUI5QkEwIi8+Cjwvc3ZnPgo="}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-medium text-sm truncate ${e?"text-white":"text-gray-900"}`,children:J.name}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:["₹",J.price," × ",J.quantity]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>a(J.id,Math.max(0,J.quantity-1)),className:"w-6 h-6 p-0",children:"-"}),o.jsx("span",{className:`text-sm ${e?"text-white":"text-gray-900"}`,children:J.quantity}),o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>a(J.id,J.quantity+1),className:"w-6 h-6 p-0",children:"+"})]})]},J.id))}),s.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(Nr,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-lg font-bold text-orange-500",children:["₹",h()]})]}),o.jsx(W,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold",onClick:()=>ze(),children:"Place Order"})]})]})]})]}),T?o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsxs(W,{variant:"outline",className:`flex items-center space-x-2 ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(zi,{className:"w-5 h-5"}),o.jsx("span",{children:(P==null?void 0:P.displayName)||((hn=P==null?void 0:P.email)==null?void 0:hn.split("@")[0])||"My Account"})]})}),o.jsxs(li,{className:`w-56 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(ci,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:`text-sm font-medium leading-none ${e?"text-white":"text-gray-900"}`,children:(P==null?void 0:P.displayName)||(P==null?void 0:P.email)||"User"}),o.jsx("p",{className:`text-xs leading-none ${e?"text-gray-400":"text-gray-500"}`,children:P==null?void 0:P.email})]})}),o.jsx(Nr,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs(vt,{onClick:()=>t("/profile"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(zi,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs(vt,{onClick:()=>t("/past-orders"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(As,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Past Orders"})]}),o.jsxs(vt,{onClick:()=>rt(!0),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(en,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Saved Address"})]}),o.jsxs(vt,{onClick:()=>t("/settings"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(Jv,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]}),o.jsx(Nr,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsx(vt,{onClick:()=>z.info("Download our mobile app!"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"Download App"})}),o.jsx(vt,{onClick:()=>t("/help-center"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"Help Center"})}),o.jsx(vt,{onClick:()=>t("/about-us"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"About Us"})}),o.jsxs(vt,{onClick:Yt,className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(RC,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]}):o.jsx(W,{className:"bg-orange-500 hover:bg-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:()=>j(!0),children:"Sign In"}),o.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:e?o.jsx(Vw,{className:"w-5 h-5"}):o.jsx(lp,{className:"w-5 h-5"})})]})]})})}),o.jsx("header",{className:`md:hidden sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("img",{src:"/food-tray-arrow.jpg",alt:"PickNGo Delivery Logo",className:"h-10 w-10 object-contain",style:{minWidth:36}})}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(en,{className:"w-4 h-4 text-orange-500"}),o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx("h3",{className:`font-medium text-xs truncate ${e?"text-white":"text-gray-900"}`,children:et.display})})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsxs(W,{variant:"ghost",size:"icon",className:`relative ${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,children:[o.jsx(Ds,{className:"w-5 h-5"}),u()>0&&o.jsx(It,{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:u()})]})}),o.jsxs(li,{className:`w-72 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(ci,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Cart"}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:[u()," items"]})]})}),o.jsx(Nr,{className:e?"bg-gray-700":"bg-gray-200"}),s.length===0?o.jsxs("div",{className:"p-4 text-center",children:[o.jsx(Ds,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"})]}):o.jsx("div",{className:"max-h-48 overflow-y-auto",children:s.map(J=>o.jsxs("div",{className:"flex items-center space-x-3 p-3 border-b border-gray-100 dark:border-gray-700",children:[o.jsx("img",{src:J.image,alt:J.name,className:"w-10 h-10 object-cover rounded",onError:we=>{we.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yNCAzMkMyNi4yMDkxIDMyIDI4IDMwLjIwOTEgMjggMjhDMjggMjUuNzkwOSAyNi4yMDkxIDI0IDI0IDI0QzIxLjc5MDkgMjQgMjAgMjUuNzkwOSAyMCAyOEMyMCAzMC4yMDkxIDIxLjc5MDkgMzIgMjQgMzJaIiBmaWxsPSIjOUI5QkEwIi8+Cjwvc3ZnPgo="}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-medium text-sm truncate ${e?"text-white":"text-gray-900"}`,children:J.name}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:["₹",J.price," × ",J.quantity]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>a(J.id,Math.max(0,J.quantity-1)),className:"w-5 h-5 p-0",children:"-"}),o.jsx("span",{className:`text-xs ${e?"text-white":"text-gray-900"}`,children:J.quantity}),o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>a(J.id,J.quantity+1),className:"w-5 h-5 p-0",children:"+"})]})]},J.id))}),s.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(Nr,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-lg font-bold text-orange-500",children:["₹",h()]})]}),o.jsx(W,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold",onClick:()=>ze(),children:"Place Order"})]})]})]})]}),T?o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsx(W,{variant:"ghost",size:"icon",className:`${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,children:o.jsx(zi,{className:"w-5 h-5"})})}),o.jsxs(li,{className:`w-56 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(ci,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:`text-sm font-medium leading-none ${e?"text-white":"text-gray-900"}`,children:(P==null?void 0:P.displayName)||(P==null?void 0:P.email)||"User"}),o.jsx("p",{className:`text-xs leading-none ${e?"text-gray-400":"text-gray-500"}`,children:P==null?void 0:P.email})]})}),o.jsx(Nr,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs(vt,{onClick:()=>t("/profile"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(zi,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs(vt,{onClick:()=>t("/past-orders"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(As,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Past Orders"})]}),o.jsxs(vt,{onClick:()=>rt(!0),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(en,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Saved Address"})]}),o.jsxs(vt,{onClick:()=>t("/settings"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(Jv,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]}),o.jsx(Nr,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsx(vt,{onClick:()=>z.info("Download our mobile app!"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"Download App"})}),o.jsx(vt,{onClick:()=>t("/help-center"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"Help Center"})}),o.jsx(vt,{onClick:()=>t("/about-us"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:o.jsx("span",{children:"About Us"})}),o.jsxs(vt,{onClick:Yt,className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(RC,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]}):o.jsx(W,{variant:"ghost",size:"icon",className:`${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,onClick:()=>j(!0),children:o.jsx(zi,{className:"w-5 h-5"})})]})]})})}),o.jsxs("main",{className:"pb-20 md:pb-0",children:[o.jsxs("div",{className:"md:hidden",children:[o.jsxs("div",{className:"relative w-full min-h-[340px] bg-gradient-to-br from-pickngo-orange-500 via-pickngo-red-400 to-pickngo-red-500 rounded-b-3xl pb-6",children:[o.jsx("div",{className:"flex justify-center pt-4",children:o.jsx("span",{className:"bg-pickngo-orange-100 text-pickngo-orange-700 text-xs font-semibold px-4 py-1 rounded-full shadow",children:"🚚 Free delivery on orders over $25"})}),o.jsxs("div",{className:"flex flex-col items-center text-center mt-4 px-4",children:[o.jsxs("h1",{className:"text-2xl font-bold text-white leading-tight mb-1",children:["Everything You Need",o.jsx("br",{})," ",o.jsx("span",{className:"text-pickngo-orange-200",children:"Delivered Fast"})]}),o.jsx("p",{className:"text-white/90 text-sm mb-4",children:"From fresh groceries to hot meals - get it all in minutes"})]}),o.jsxs("div",{className:"flex justify-center gap-2 mb-4 flex-wrap px-4",children:[o.jsx("span",{className:"bg-orange-400/30 border border-orange-400/40 backdrop-blur-md text-white text-xs font-semibold px-3 py-1 rounded-full shadow-sm",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)"},children:"Groceries"}),o.jsx("span",{className:"bg-orange-400/30 border border-orange-400/40 backdrop-blur-md text-white text-xs font-semibold px-3 py-1 rounded-full shadow-sm",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)"},children:"Restaurants"}),o.jsx("span",{className:"bg-orange-400/30 border border-orange-400/40 backdrop-blur-md text-white text-xs font-semibold px-3 py-1 rounded-full shadow-sm",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)"},children:"Alcohol"})]}),o.jsxs("div",{className:"mx-4 bg-white rounded-2xl shadow-lg p-4 flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(en,{className:"w-4 h-4 text-purple-500"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Delivering to"}),o.jsx("span",{className:"text-xs font-bold text-gray-900",children:r?`${(r.label||r.type||"ADDRESS").toUpperCase()}${r.pincode?", "+r.pincode:""}`:et.display})]}),o.jsx("button",{className:"text-xs text-purple-600 font-semibold",onClick:()=>rt(!0),children:"Change"})]}),o.jsx("div",{className:"w-full",children:o.jsx(KC,{onProductSelect:on,onAddToCart:i,cart:s})}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsxs("div",{className:"flex-1 bg-orange-50 rounded-xl flex flex-col items-center py-2",children:[o.jsx(Rh,{className:"w-5 h-5 text-orange-400 mb-1"}),o.jsx("span",{className:"text-xs font-bold text-orange-700",children:"10min Delivery"}),o.jsx("span",{className:"text-[10px] text-orange-400",children:"Express"})]}),o.jsxs("div",{className:"flex-1 bg-green-50 rounded-xl flex flex-col items-center py-2",children:[o.jsx(AC,{className:"w-5 h-5 text-green-500 mb-1"}),o.jsx("span",{className:"text-xs font-bold text-green-700",children:"Fresh Grocery"}),o.jsx("span",{className:"text-[10px] text-green-500",children:"Farm to door"})]}),o.jsxs("div",{className:"flex-1 bg-yellow-50 rounded-xl flex flex-col items-center py-2",children:[o.jsx(PC,{className:"w-5 h-5 text-yellow-500 mb-1"}),o.jsx("span",{className:"text-xs font-bold text-yellow-700",children:"Hot Food"}),o.jsx("span",{className:"text-[10px] text-yellow-500",children:"Ready now"})]})]})]})]}),o.jsxs("div",{className:"mx-4 mt-8 md:hidden",children:[o.jsx("h2",{className:"text-lg font-bold text-pickngo-orange-700 mb-4",children:"Popular Cuisines"}),o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",style:{scrollbarWidth:"none",msOverflowStyle:"none"},ref:Ke,children:lt.map((J,we)=>o.jsxs("button",{className:"flex flex-col items-center min-w-[90px] w-24 bg-pickngo-orange-50 rounded-full py-3 px-2 focus:outline-none",onClick:()=>At(J.subcategory),children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-pickngo-orange-100 flex items-center justify-center mb-1 overflow-hidden",children:J.icon&&(J.icon.startsWith("http")||J.icon.startsWith("data:"))?o.jsx("img",{src:J.icon,alt:J.displayName||J.name,className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-4xl",children:J.icon})}),o.jsx("span",{className:"text-xs font-semibold text-gray-900 mt-1 truncate w-full text-center dark:text-white",children:J.displayName||J.name})]},J.id+"-"+we))})]}),o.jsxs("div",{className:"mx-2 mt-6 rounded-2xl p-4 bg-gradient-to-br from-pickngo-orange-400 via-pickngo-red-400 to-pickngo-red-500 shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"font-semibold text-sm text-white flex items-center gap-1",children:[o.jsx(Rh,{className:"w-4 h-4 text-yellow-300"}),"Trending Now"]}),o.jsxs("span",{className:"text-xs text-yellow-200 font-bold",children:["Hot ",o.jsx("span",{className:"ml-1",children:"🔥"})]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:(()=>{const J=Array.from(new Map(Fe.filter(Te=>(Te.category||"").toLowerCase()!=="drinks").map(Te=>[`${(Te.name||"").toLowerCase()}|${(Te.category||"").toLowerCase()}`,Te])).values()),we=[{name:"Pizza",image:"https://img.icons8.com/color/48/000000/pizza.png",hike:"+12%"},{name:"Fresh Fruits",image:"https://img.icons8.com/color/48/000000/apple.png",hike:"+18%"},{name:"Dairy Products",image:"https://img.icons8.com/color/48/000000/milk-bottle.png",hike:"+25%"},{name:"Coffee",image:"https://img.icons8.com/color/48/000000/coffee.png",hike:"+22%"}],Ie=J.slice(0,4);for(;Ie.length<4;){const Te=we[Ie.length];Ie.push({id:`fallback-${Ie.length}`,name:Te.name,image:Te.image,hike:Te.hike})}return Ie.map((Te,st)=>o.jsxs("div",{className:"bg-white/20 rounded-xl px-3 py-2 flex items-center gap-2 text-xs font-semibold text-white",children:[o.jsx("img",{src:Te.image,alt:Te.name,className:"w-6 h-6 rounded object-cover"}),o.jsx("span",{className:"truncate",children:Te.name}),o.jsx("span",{className:"ml-auto text-green-200 font-bold",children:Te.hike||`+${18+st*3}%`})]},Te.id||Te.name||st))})()})]}),o.jsxs("div",{className:"mx-4 mt-4 flex justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow flex flex-col items-center py-3",children:[o.jsx("span",{className:"text-lg font-bold text-pickngo-orange-500",children:"500+"}),o.jsx("span",{className:"text-[11px] text-pickngo-orange-700 font-semibold",children:"Stores"})]}),o.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow flex flex-col items-center py-3",children:[o.jsx("span",{className:"text-lg font-bold text-pickngo-orange-500",children:"15 min"}),o.jsx("span",{className:"text-[11px] text-pickngo-orange-700 font-semibold",children:"Avg Delivery"})]}),o.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow flex flex-col items-center py-3",children:[o.jsx("span",{className:"text-lg font-bold text-pickngo-orange-500",children:"4.8"}),o.jsx("span",{className:"text-[11px] text-pickngo-orange-700 font-semibold",children:"Rating"})]}),o.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow flex flex-col items-center py-3",children:[o.jsx("span",{className:"text-lg font-bold text-pickngo-orange-500",children:"24/7"}),o.jsx("span",{className:"text-[11px] text-pickngo-orange-700 font-semibold",children:"Available"})]})]}),o.jsx("div",{className:"mx-4 mt-8",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("button",{className:"bg-pickngo-orange-100 text-pickngo-orange-800 rounded-2xl p-6 flex flex-col items-start shadow min-h-[90px]",children:[o.jsx("span",{className:"text-2xl mb-2",children:"🍽️"}),o.jsx("span",{className:"font-bold text-base",children:"FEAST MODE"}),o.jsx("span",{className:"text-xs opacity-80 mt-1",children:"65% OFF Every 30 Mins"})]}),o.jsxs("button",{className:"bg-pickngo-red-100 text-pickngo-red-700 rounded-2xl p-6 flex flex-col items-start shadow min-h-[90px]",children:[o.jsx("span",{className:"text-2xl mb-2",children:"⚡"}),o.jsx("span",{className:"font-bold text-base",children:"FLASH DEALS"}),o.jsx("span",{className:"text-xs opacity-80 mt-1",children:"Dishes From ₹49"})]}),o.jsxs("button",{className:"bg-pickngo-orange-50 text-pickngo-orange-700 rounded-2xl p-6 flex flex-col items-start shadow min-h-[90px]",children:[o.jsx("span",{className:"text-2xl mb-2",children:"%"}),o.jsx("span",{className:"font-bold text-base",children:"DISCOUNTS"}),o.jsx("span",{className:"text-xs opacity-80 mt-1",children:"Up To 60% OFF"})]}),o.jsxs("button",{className:"bg-pickngo-red-50 text-pickngo-red-700 rounded-2xl p-6 flex flex-col items-start shadow min-h-[90px]",children:[o.jsx("span",{className:"text-2xl mb-2",children:"⚡"}),o.jsx("span",{className:"font-bold text-base",children:"Bolt"}),o.jsx("span",{className:"text-xs opacity-80 mt-1",children:"Food In 10 Mins"})]})]})}),o.jsxs("div",{className:"mx-4 mt-10 md:hidden",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Fast delivery"}),ht.length>4&&o.jsx("button",{className:"text-xs text-blue-600 font-semibold",onClick:()=>ke(J=>!J),children:xe?"Show less":"See all"})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:ht.slice().sort((J,we)=>kt(J)-kt(we)).slice(0,xe?ht.length:4).map(J=>o.jsxs("div",{className:"bg-white rounded-2xl shadow p-4 flex flex-col gap-2 min-h-[110px]",children:[o.jsx("img",{src:J.image,alt:J.name,className:"w-full h-24 rounded-xl object-cover mb-2"}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 rounded px-2 py-0.5 font-semibold",children:["₹",J.price," for two"]}),o.jsx("button",{className:"p-1 rounded-full hover:bg-gray-100",children:o.jsx(Gs,{className:"w-4 h-4 text-gray-400"})})]}),o.jsx("div",{className:"font-bold text-base text-gray-900 mt-2 truncate",children:J.name}),o.jsx("div",{className:"text-xs text-gray-500 truncate mt-1",children:J.category})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsxs("span",{className:"flex items-center text-xs text-green-600 font-bold",children:[o.jsx(Rr,{className:"w-3 h-3 mr-0.5"}),J.rating]}),o.jsxs("span",{className:"text-xs text-gray-400",children:["• ",J.deliveryTime]})]})]}),o.jsx("button",{className:"mt-2 w-full bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold py-1.5 rounded-full text-sm transition",onClick:()=>i(J),children:"Add to Cart"})]},J.id))})]})]}),o.jsx("div",{className:`hidden md:block py-16 ${e?"bg-gray-800":"bg-gray-100"}`,children:o.jsxs("div",{className:"container mx-auto text-center",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:"Your daily essentials, delivered in minutes."}),r?o.jsx("div",{className:"mb-4",children:o.jsxs(It,{className:"bg-orange-100 text-orange-700 px-4 py-2 text-sm",children:["🎯 Delivering to: ",r.city||"",r.city&&r.state?", ":"",r.state||"",(r.city||r.state)&&r.pincode?", ":"",r.pincode||""]})}):et.city||et.pincode?o.jsx("div",{className:"mb-4",children:o.jsxs(It,{className:"bg-orange-100 text-orange-700 px-4 py-2 text-sm",children:["🎯 Delivering to: ",et.city,et.city&&et.pincode?", ":"",et.pincode]})}):o.jsx("div",{className:"mb-4",children:o.jsx(It,{className:"bg-orange-100 text-orange-700 px-4 py-2 text-sm",children:"🎯 Delivering to: Not selected"})}),o.jsx("p",{className:`text-lg mb-8 ${e?"text-gray-300":"text-gray-600"}`,children:"Order food, groceries, and more from the best places near you."}),o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(KC,{isOpen:!0,onClose:()=>{},onProductSelect:on,onAddToCart:i,cart:s})})}),o.jsxs("div",{className:"flex justify-center gap-8 mt-12",children:[o.jsxs("div",{className:"flex-1 max-w-xs bg-orange-50 rounded-2xl shadow p-8 flex flex-col items-center",children:[o.jsx(Rh,{className:"w-10 h-10 text-orange-400 mb-2"}),o.jsx("span",{className:"text-xl font-bold text-orange-700 mb-1",children:"10min Delivery"}),o.jsx("span",{className:"text-sm text-orange-400",children:"Express"})]}),o.jsxs("div",{className:"flex-1 max-w-xs bg-green-50 rounded-2xl shadow p-8 flex flex-col items-center",children:[o.jsx(AC,{className:"w-10 h-10 text-green-500 mb-2"}),o.jsx("span",{className:"text-xl font-bold text-green-700 mb-1",children:"Fresh Grocery"}),o.jsx("span",{className:"text-sm text-green-500",children:"Farm to door"})]}),o.jsxs("div",{className:"flex-1 max-w-xs bg-yellow-50 rounded-2xl shadow p-8 flex flex-col items-center",children:[o.jsx(PC,{className:"w-10 h-10 text-yellow-500 mb-2"}),o.jsx("span",{className:"text-xl font-bold text-yellow-700 mb-1",children:"Hot Food"}),o.jsx("span",{className:"text-sm text-yellow-500",children:"Ready now"})]})]}),o.jsxs("div",{className:"flex justify-center gap-8 mt-12",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden flex-1 max-w-sm flex flex-col",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800",alt:"Food Delivery",className:"w-full h-56 object-cover"}),o.jsxs("div",{className:"p-8 flex flex-col flex-1",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-900 dark:text-white",children:"Food Delivery"}),o.jsx("p",{className:"text-gray-600 mb-6 flex-1",children:"From the best local restaurants"}),o.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-6 rounded-full self-start",onClick:()=>t("/food"),children:"Order Now"})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden flex-1 max-w-sm flex flex-col",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1502741338009-cac2772e18bc?w=800",alt:"Instamart",className:"w-full h-56 object-cover"}),o.jsxs("div",{className:"p-8 flex flex-col flex-1",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-900 dark:text-white",children:"Instamart"}),o.jsx("p",{className:"text-gray-600 mb-6 flex-1",children:"Instant Grocery Delivery"}),o.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-6 rounded-full self-start",onClick:()=>t("/daily-essential"),children:"Shop Now"})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden flex-1 max-w-sm flex flex-col",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800",alt:"Dineout & Drinks",className:"w-full h-56 object-cover"}),o.jsxs("div",{className:"p-8 flex flex-col flex-1",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-900 dark:text-white",children:"Dineout & Drinks"}),o.jsx("p",{className:"text-gray-600 mb-6 flex-1",children:"Eat out or get drinks delivered"}),o.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-6 rounded-full self-start",onClick:St,children:"Explore Now"})]})]})]}),o.jsxs("div",{className:"mt-12",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("span",{className:"font-semibold text-xl text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(Rh,{className:"w-6 h-6 text-yellow-400"}),"Trending Now"]})}),o.jsx("div",{className:"grid grid-cols-4 gap-6",children:(()=>{const J=Array.from(new Map(Fe.filter(Te=>(Te.category||"").toLowerCase()!=="drinks").map(Te=>[`${(Te.name||"").toLowerCase()}|${(Te.category||"").toLowerCase()}`,Te])).values()),we=[{name:"Pizza",image:"https://img.icons8.com/color/48/000000/pizza.png",hike:"+12%"},{name:"Fresh Fruits",image:"https://img.icons8.com/color/48/000000/apple.png",hike:"+18%"},{name:"Dairy Products",image:"https://img.icons8.com/color/48/000000/milk-bottle.png",hike:"+25%"},{name:"Coffee",image:"https://img.icons8.com/color/48/000000/coffee.png",hike:"+22%"}],Ie=J.slice(0,4);for(;Ie.length<4;){const Te=we[Ie.length];Ie.push({id:`fallback-${Ie.length}`,name:Te.name,image:Te.image,hike:Te.hike})}return Ie.map((Te,st)=>o.jsxs("div",{className:"bg-white rounded-2xl px-6 py-6 flex flex-col items-center gap-2 shadow",children:[o.jsx("img",{src:Te.image,alt:Te.name,className:"w-16 h-16 rounded-full object-cover mb-2"}),o.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-white",children:Te.name}),o.jsx("span",{className:"text-green-600 font-bold",children:Te.hike||`+${18+st*3}%`})]},Te.id||Te.name||st))})()})]})]})}),o.jsx(XQ,{})]}),o.jsx("div",{className:`md:hidden fixed bottom-0 left-0 right-0 backdrop-blur-md border-t z-50 ${e?"bg-gray-900/80 border-gray-700":"bg-white/80 border-gray-200"}`,children:o.jsxs("div",{className:`grid ${T?"grid-cols-4":"grid-cols-3"} h-16`,children:[o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="food"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:()=>At("all"),children:[o.jsx("span",{className:"text-2xl",children:"🥪"}),o.jsx("span",{className:"text-xs font-medium",children:"Food"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="essentials"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:$t,children:[o.jsx("span",{className:"text-2xl",children:"🛒"}),o.jsx("span",{className:"text-xs font-medium",children:"Daily Essential"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="wine"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:St,children:[o.jsx("span",{className:"text-2xl",children:"🍷"}),o.jsx("span",{className:"text-xs font-medium",children:"Wine Stores"})]}),T&&o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="reorder"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:()=>t("/past-orders"),children:[o.jsx(oH,{className:"w-6 h-6"}),o.jsx("span",{className:"text-xs font-medium",children:"Reorder"})]})]})}),o.jsx(Gm,{cart:s,totalPrice:h(),onCheckout:()=>D(!0),onDelete:()=>c(),onViewMenu:()=>D(!0),isDarkMode:e,buttonLabel:"Checkout",className:"bottom-16"}),o.jsx(HH,{isOpen:_,onClose:()=>j(!1),onLoginSuccess:()=>I(!0)}),o.jsx($A,{isOpen:O,onVerified:()=>{U(!0),localStorage.setItem("pickngo-age-verified","true"),H(!1),t("/drinks"),z.success("Age verified! Welcome to wine stores.")},onClose:()=>H(!1)}),o.jsx(Fm,{product:F,onClose:()=>K(null),onAddToCart:i}),o.jsx($m,{isOpen:V,onClose:()=>D(!1),cart:s,updateQuantity:a,totalPrice:h(),onProceedToCheckout:({discountAmount:J,appliedPromo:we})=>{Y(J||0),G(we||null),D(!1),q(!0)}}),o.jsx(qm,{isOpen:ie,onClose:()=>q(!1),onPlaceOrder:wn,totalPrice:h(),user:P,discountAmount:Qe,appliedPromo:me}),o.jsxs("footer",{className:`${e?"bg-gray-900 text-white":"bg-gray-100 text-gray-900"} mt-20`,children:[o.jsx("div",{className:"md:hidden",children:o.jsxs("div",{className:"container mx-auto px-6 py-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-2xl",children:"🚀"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"PickNGo"})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:"Your trusted partner for quick food delivery, grocery shopping, and daily essentials."})]}),o.jsxs("div",{className:"space-y-4 mb-8",children:[o.jsx("h4",{className:"text-lg font-semibold text-pickngo-orange-500 text-center",children:"Quick Links"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(W,{variant:"outline",className:"h-10 rounded-lg",onClick:()=>t("/help-center"),children:[o.jsx("span",{className:"text-sm mr-2",children:"❓"}),"Help Center"]}),o.jsxs(W,{variant:"outline",className:"h-10 rounded-lg",onClick:()=>t("/contact-us"),children:[o.jsx("span",{className:"text-sm mr-2",children:"📞"}),"Contact Us"]}),o.jsxs(W,{variant:"outline",className:"h-10 rounded-lg",onClick:()=>t("/track-order"),children:[o.jsx("span",{className:"text-sm mr-2",children:"📦"}),"Track Order"]}),o.jsxs(W,{variant:"outline",className:"h-10 rounded-lg",onClick:()=>t("/about-us"),children:[o.jsx("span",{className:"text-sm mr-2",children:"ℹ️"}),"About Us"]}),o.jsxs(W,{variant:"outline",className:"h-10 rounded-lg",onClick:()=>t("/careers"),children:[o.jsx("span",{className:"text-sm mr-2",children:"💼"}),"Careers"]}),o.jsxs(W,{variant:"outline",className:"h-10 rounded-lg",onClick:()=>t("/privacy-policy"),children:[o.jsx("span",{className:"text-sm mr-2",children:"🔒"}),"Privacy Policy"]})]})]}),o.jsxs("div",{className:"space-y-4 mb-8",children:[o.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-6 text-center text-white shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-center mb-3",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-3xl",children:"📱"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h4",{className:"text-lg font-bold",children:"Get Our Mobile App"}),o.jsx("p",{className:"text-sm text-orange-100",children:"Faster ordering & exclusive offers"})]})]}),o.jsxs(W,{onClick:()=>z.success("Download link sent to your device!"),className:"bg-white text-orange-600 hover:bg-orange-50 font-semibold px-8 py-3 rounded-xl shadow-md",children:[o.jsx("span",{className:"mr-2",children:"⬇️"}),"Download App"]})]}),o.jsxs("div",{className:"text-center mt-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-pickngo-orange-500 mb-4",children:"Connect with us"}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx(W,{variant:"outline",size:"sm",className:"rounded-full w-12 h-12 p-0 bg-white border-orange-300 text-orange-600 hover:bg-orange-50 hover:border-orange-400",onClick:()=>z.info("Follow us on Instagram!"),children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),o.jsx(W,{variant:"outline",size:"sm",className:"rounded-full w-12 h-12 p-0 bg-white border-orange-300 text-orange-600 hover:bg-orange-50 hover:border-orange-400",onClick:()=>z.info("Follow us on Facebook!"),children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),o.jsx(W,{variant:"outline",size:"sm",className:"rounded-full w-12 h-12 p-0 bg-white border-orange-300 text-orange-600 hover:bg-orange-50 hover:border-orange-400",onClick:()=>z.info("Follow us on Twitter!"),children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),o.jsx(W,{variant:"outline",size:"sm",className:"rounded-full w-12 h-12 p-0 bg-white border-orange-300 text-orange-600 hover:bg-orange-50 hover:border-orange-400",onClick:()=>z.info("Follow us on LinkedIn!"),children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})})]})]})]})]})}),o.jsx("div",{className:"hidden md:block",children:o.jsx("div",{className:"container mx-auto px-4 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"PickNGo"})}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Your trusted partner for quick food delivery, grocery shopping, and daily essentials."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-pickngo-orange-500",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>At("all"),children:"Food Delivery"})}),o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:$t,children:"Grocery Delivery"})}),o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:St,children:"Wine & Drinks"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-pickngo-orange-500",children:"Support"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/help-center"),children:"Help Center"})}),o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/contact-us"),children:"Contact Us"})}),o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/track-order"),children:"Track Order"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-pickngo-orange-500",children:"Company"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/about-us"),children:"About Us"})}),o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/careers"),children:"Careers"})}),o.jsx("li",{children:o.jsx(W,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/privacy-policy"),children:"Privacy Policy"})})]})]})]})})}),o.jsx("div",{className:`border-t ${e?"border-gray-800":"border-gray-300"}`,children:o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"md:hidden text-center space-y-4 py-4 mb-20",children:[o.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-600"} px-4`,children:"© 2024 PickNGo. All rights reserved."}),o.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-600"} px-4`,children:"Made with ❤️ in India"})]}),o.jsxs("div",{className:"hidden md:flex flex-row justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"© 2024 PickNGo. All rights reserved."}),o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"•"}),o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Made with ❤️ in India"})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsx(W,{variant:"ghost",size:"sm",className:`${e?"text-gray-400 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"}`,onClick:()=>z.info("Download our mobile app!"),children:"Download App"}),o.jsx(W,{variant:"ghost",size:"sm",className:`${e?"text-gray-400 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"}`,onClick:()=>z.info("Newsletter subscription coming soon!"),children:"Newsletter"})]})]})]})})]}),o.jsx(vc,{isOpen:$,onClose:()=>B(!1),onLocationSelect:Tt}),o.jsx(yQ,{isOpen:_t,onClose:()=>rt(!1),userId:(P==null?void 0:P.uid)||null})]})},hb=({isVisible:t,searchQuery:e,results:n,onAddToCart:r,onClose:s,isDarkMode:i})=>!t||!e.trim()?null:o.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-32",onClick:s,children:o.jsxs("div",{className:`relative w-full max-w-md mx-4 max-h-[70vh] overflow-hidden rounded-2xl shadow-2xl z-10 ${i?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"}`,onClick:a=>a.stopPropagation(),children:[o.jsxs("div",{className:`sticky top-0 z-10 px-4 py-3 border-b ${i?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:`font-semibold ${i?"text-white":"text-gray-900"}`,children:"Search Results"}),o.jsx(W,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0",children:"×"})]}),o.jsxs("p",{className:`text-sm mt-1 ${i?"text-gray-400":"text-gray-600"}`,children:["Found ",n.length," result",n.length!==1?"s":"",' for "',e,'"']})]}),o.jsx("div",{className:"overflow-y-auto max-h-[calc(70vh-80px)]",children:n.length===0?o.jsx("div",{className:"p-6 text-center",children:o.jsxs("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:['No products found for "',e,'"']})}):o.jsx("div",{className:"p-2",children:n.map(a=>o.jsx(Pe,{className:`mb-2 border-0 shadow-sm ${i?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} transition-colors`,children:o.jsx(Ae,{className:"p-3",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx("img",{src:a.image,alt:a.name,className:"w-16 h-16 rounded-lg object-cover"}),o.jsx("div",{className:"absolute top-1 right-1 bg-white/80 backdrop-blur-sm rounded-full p-0.5",children:o.jsx(Gs,{className:"w-3 h-3 text-gray-700"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-semibold text-sm truncate ${i?"text-white":"text-gray-900"}`,children:a.name}),o.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[o.jsx(Rr,{className:"w-3 h-3 text-green-500 fill-green-500"}),o.jsxs("span",{className:"text-xs text-gray-500",children:[a.rating," (500+)"]})]}),o.jsx("p",{className:`text-xs mt-1 truncate ${i?"text-gray-400":"text-gray-600"}`,children:a.description}),o.jsxs("div",{className:`font-bold text-sm mt-1 ${i?"text-orange-400":"text-orange-600"}`,children:["₹",a.price]})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(W,{onClick:()=>r(a),size:"sm",className:"h-8 w-8 p-0 rounded-full bg-orange-500 hover:bg-orange-600 text-white",children:o.jsx(cp,{className:"w-4 h-4"})})})]})})},a.id))})})]})}),eY=()=>{var me;const t=_n(),e=rm(),{isDarkMode:n,toggleDarkMode:r}=Kt(),[s,i]=d.useState(""),[a,l]=d.useState("All"),[c,u]=d.useState(null),{cart:h,addToCart:p,updateCartQuantity:m,removeFromCart:g,clearCart:v,getTotalItems:y,getTotalPrice:x}=Um(),[b,w]=d.useState([]),[N,k]=d.useState([]),[A,R]=d.useState(!0),[C,_]=d.useState(!0),[j,T]=d.useState(!1),[I,P]=d.useState(null),[L,Z]=d.useState(!1),[U,F]=d.useState(!1),[K,V]=d.useState(!1),[D,$]=d.useState("relevance"),[B,O]=d.useState(!1),[H,ie]=d.useState("all"),[q,fe]=d.useState(!1),[ee,ce]=d.useState(null),[ve,X]=d.useState("grid"),[ne,se]=d.useState("All"),{banStatus:ge}=xc(),[Me,Ee]=d.useState(!1),[at,ue]=d.useState(!1),Fe=d.useMemo(()=>{let G=[...b];switch(a!=="all"&&a!=="All"&&(G=G.filter(xe=>(xe.subcategory||"").trim().toLowerCase()===(a||"").trim().toLowerCase())),s&&(G=G.filter(xe=>xe.name.toLowerCase().includes(s.toLowerCase()))),H==="veg"?G=G.filter(xe=>xe.isVeg===!0):H==="non-veg"&&(G=G.filter(xe=>xe.isVeg===!1)),D){case"price-asc":G.sort((xe,ke)=>xe.price-ke.price);break;case"price-desc":G.sort((xe,ke)=>ke.price-xe.price);break;case"rating":G.sort((xe,ke)=>(ke.rating||0)-(xe.rating||0));break}return G},[b,a,s,H,D]),We=Array.from(new Map(Fe.map(G=>[`${G.name}-${G.price}`,G])).values()),_t=d.useMemo(()=>s.trim()?We.filter(G=>G.name.toLowerCase().includes(s.toLowerCase())||G.description.toLowerCase().includes(s.toLowerCase())).slice(0,10):[],[We,s]),rt=y(),et=x(),$e=G=>{p(G),V(!0)},Qt=async()=>{_(!0);try{const G=await _o(Ue.FOOD);k(G)}catch(G){console.error("Error loading food categories:",G),z.error("Failed to load categories")}finally{_(!1)}},sn=async()=>{R(!0);try{const G=await wl(Ue.FOOD);w(G)}catch(G){console.error("Error loading food products:",G),z.error("Failed to load products")}finally{R(!1)}};d.useEffect(()=>{Qt(),sn()},[]),d.useEffect(()=>{var G;(G=e.state)!=null&&G.category&&N.some(ke=>ke.name===e.state.category||ke.subcategory===e.state.category)&&l(e.state.category)},[(me=e.state)==null?void 0:me.category,N]),d.useEffect(()=>{const G=kd(Et,xe=>{P(xe),Ee(!!xe)});return()=>G()},[]),d.useEffect(()=>{console.log("Categories:",N)},[N]);const Qe=async G=>{const{address:xe,paymentMethod:ke,tip:Ke,finalTotal:ht,location:St}=G;if(ge.isBanned){z.error("Your account has been suspended. You cannot place orders."),Z(!1);return}if(!I){z.error("Please log in to place an order.");return}if(!xe.phone||xe.phone.trim()===""){z.error("Please add a phone number to your address before placing the order.");return}let At=null;if(St)At={lat:St.lat,lng:St.lng},z.success("Using selected delivery location!");else{z.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const lt=await new Promise((kt,hn)=>{navigator.geolocation.getCurrentPosition(kt,hn,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});At={lat:lt.coords.latitude,lng:lt.coords.longitude},z.dismiss(),z.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(lt){console.error("Error getting location:",lt),z.dismiss(),lt.code===1?z.error("Location access denied. Please enable location permissions for accurate tracking."):lt.code===2?z.error("Location unavailable. Please check your GPS settings."):lt.code===3?z.error("Location request timed out. Please try again."):z.error("Could not get your location. Using approximate location."),At={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const $t=25,wn=Math.random()*10+5,on=Math.round($t+wn),Yt=new Date(Date.now()+on*60*1e3),ze={name:xe.name||I.displayName||"User",email:xe.email||I.email||"",phone:xe.phone},Tt={userId:I.uid,userInfo:ze,items:h,totalPrice:ht,tip:Ke,deliveryAddress:Object.fromEntries(Object.entries(xe).filter(([lt,kt])=>kt!=null)),paymentMethod:ke,status:"pending",createdAt:new Date,estimatedDeliveryTime:Yt,estimatedMinutes:on,userLocation:At,selectedLocationAddress:(St==null?void 0:St.address)||null};try{await Kl(async()=>{const lt=await Es(tn(Ve,"orders"),Tt);await An(Nt(Ve,"orders",lt.id),{orderId:lt.id}),z.success("Order placed successfully!"),v(),Z(!1),t(`/current-order/${lt.id}`)})}catch(lt){console.error("Error placing order:",lt),lt.code==="permission-denied"?z.error("Access denied. Please check your permissions."):lt.code==="unavailable"?z.error("Firebase service is temporarily unavailable. Please try again later."):z.error("Failed to place order. Please check your connection and try again.")}},Y=G=>{ce(G),fe(!1)};return ne==="All"||b.filter(G=>G.subcategory===ne),o.jsxs("div",{className:`min-h-screen ${n?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-40 ${n?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:n?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Dn,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${n?"text-white":"text-gray-900"}`,children:"Offers"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(W,{onClick:()=>O(!B),variant:"ghost",size:"icon",className:n?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Ei,{className:"w-5 h-5"})}),o.jsxs(W,{onClick:()=>F(!0),variant:"ghost",size:"icon",className:"relative",children:[o.jsx(Ds,{className:"w-5 h-5"}),rt>0&&o.jsx(It,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:rt})]})]})]})})}),B&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx(Be,{placeholder:"Search for food...",value:s,onChange:G=>{i(G.target.value),ue(G.target.value.trim().length>0)},onFocus:()=>{s.trim().length>0&&ue(!0)},className:`w-full ${n?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-1 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsx(W,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(li,{className:`z-50 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ci,{children:"Sort Options"}),o.jsx(Nr,{}),o.jsx(vt,{onClick:()=>$("relevance"),children:"Relevance"}),o.jsx(vt,{onClick:()=>$("price-asc"),children:"Price: Low to High"}),o.jsx(vt,{onClick:()=>$("price-desc"),children:"Price: High to Low"}),o.jsx(vt,{onClick:()=>$("rating"),children:"Rating"})]})]}),o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsx(W,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Veg/Non-Veg"})}),o.jsxs(li,{className:`z-50 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ci,{children:"Dietary"}),o.jsx(Nr,{}),o.jsx(vt,{onClick:()=>ie("all"),children:"All"}),o.jsx(vt,{onClick:()=>ie("veg"),children:"Veg"}),o.jsx(vt,{onClick:()=>ie("non-veg"),children:"Non-Veg"})]})]})]})})}),o.jsx("div",{className:"py-4 mt-[0px] mb-[15px] md:mt-0",children:o.jsxs("div",{className:"flex items-center space-x-4 overflow-x-auto px-2 md:justify-center md:space-x-8 scrollbar-none py-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",overflowY:"visible",marginTop:15,marginBottom:15},children:[o.jsxs("button",{onClick:()=>l("All"),className:"flex flex-col items-center focus:outline-none md:hidden",children:[o.jsx("div",{className:`w-20 h-20 rounded-full overflow-hidden border-4 transition-all duration-200 ${a==="All"?"border-orange-500 shadow-lg":"border-transparent"}`,style:{boxShadow:a==="All"?"0 0 0 4px rgba(255, 115, 0, 0.2)":void 0},children:o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:"🍽️"})})}),o.jsx("span",{className:"mt-2 text-sm font-medium text-center whitespace-nowrap",children:"All"})]}),(()=>{const G=new Set;return N.filter(ke=>{if(!ke.name||ke.name.trim()===""||ke.name==="🥐"||ke.name==="📦"||ke.name.includes("http")||ke.name.includes("unsplash"))return!1;const Ke=ke.subcategory||ke.id||ke.name;return G.has(Ke)?!1:(G.add(Ke),!0)}).map(ke=>{let Ke=null;if(ke.image)Ke=o.jsx("img",{src:ke.image,alt:ke.name,className:"w-full h-full object-cover"});else if(ke.logo)Ke=o.jsx("img",{src:ke.logo,alt:ke.name,className:"w-full h-full object-cover"});else if(ke.icon&&typeof ke.icon=="string")ke.icon.startsWith("http")||ke.icon.startsWith("data:")?Ke=o.jsx("img",{src:ke.icon,alt:ke.name,className:"w-full h-full object-cover"}):Ke=o.jsx("span",{className:"text-4xl flex items-center justify-center w-full h-full",children:ke.icon});else return null;return o.jsxs("button",{onClick:()=>l(ke.subcategory),className:"flex flex-col items-center focus:outline-none",children:[o.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 rounded-full overflow-hidden border-4 transition-all duration-200 ${a===ke.subcategory?"border-orange-500 shadow-lg":"border-transparent"}`,style:{boxShadow:a===ke.subcategory?"0 0 0 4px rgba(255, 115, 0, 0.2)":void 0},children:Ke}),o.jsx("span",{className:"mt-2 text-sm md:text-base font-medium text-center whitespace-nowrap",children:ke.name})]},ke.id||ke.name)})})()]})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:[o.jsx("div",{className:"block md:hidden space-y-4",children:We.map(G=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:G.image,alt:G.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(Gs,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ₹",G.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${n?"text-white":"text-gray-900"}`,children:G.name}),o.jsx(W,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Ql,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(Rr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[G.rating," (500+) • 20-25 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:G.description}),o.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar • 2.2 km"}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:`font-bold text-lg mb-1 ${n?"text-orange-400":"text-orange-600"}`,children:["₹",G.price]}),o.jsx(W,{onClick:()=>$e(G),size:"sm",className:n?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:n?"default":"outline",children:"Add to cart"})]})]})]},G.id))}),o.jsx("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:We.map(G=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${n?"border border-gray-700":"border border-gray-200"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:G.image,alt:G.name,className:"w-full h-48 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(Gs,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ₹",G.price]})]}),o.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h3",{className:`font-bold text-lg truncate ${n?"text-white":"text-gray-900"}`,children:G.name}),o.jsx(W,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Ql,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-1",children:[o.jsx(Rr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[G.rating," (500+) • 20-25 mins"]})]}),o.jsx("p",{className:`text-sm mb-1 truncate ${n?"text-gray-400":"text-gray-600"}`,children:G.description}),o.jsx("p",{className:`text-sm mb-2 truncate ${n?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar • 2.2 km"}),o.jsxs("div",{className:`font-bold text-lg mb-2 ${n?"text-orange-400":"text-orange-600"}`,children:["₹",G.price]}),o.jsx(W,{onClick:()=>$e(G),size:"sm",className:n?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:n?"default":"outline",children:"Add to cart"})]})]},G.id))})]}),o.jsx(Gm,{cart:h,totalPrice:et,onCheckout:()=>F(!0),onDelete:()=>{v(),z.success("Cart cleared!")},onViewMenu:()=>F(!0),isDarkMode:n,buttonLabel:"Checkout",className:"!bottom-0"}),o.jsx($m,{isOpen:U,onClose:()=>F(!1),cart:h,updateQuantity:m,totalPrice:x(),onProceedToCheckout:()=>{if(!I){z.error("You must be logged in to place an order.");return}Z(!0)}}),c&&o.jsx(Fm,{product:c,onClose:()=>u(null),onAddToCart:p}),L&&o.jsx(qm,{isOpen:L,onClose:()=>Z(!1),onPlaceOrder:Qe,totalPrice:et,user:I}),o.jsx(vc,{isOpen:q,onClose:()=>fe(!1),onLocationSelect:Y}),o.jsx(hb,{isVisible:at,searchQuery:s,results:_t,onAddToCart:$e,onClose:()=>ue(!1),isDarkMode:n})]})},tY=()=>{var sn,Qe;const t=_n(),{isDarkMode:e,toggleDarkMode:n}=Kt(),[r,s]=d.useState(""),[i,a]=d.useState("All"),[l,c]=d.useState(null),{cart:u,addToCart:h,updateCartQuantity:p,removeFromCart:m,clearCart:g,getTotalItems:v,getTotalPrice:y,isCartPopupOpen:x,setIsCartPopupOpen:b}=Um(),[w,N]=d.useState([]),[k,A]=d.useState([]),[R,C]=d.useState(!0),[_,j]=d.useState(!0),[T,I]=d.useState(!1),[P,L]=d.useState(null),[Z,U]=d.useState(!1),[F,K]=d.useState("relevance"),[V,D]=d.useState(!1),[$,B]=d.useState(!1),O=rm(),[H,ie]=d.useState(!1),[q,fe]=d.useState(null),[ee,ce]=d.useState("grid"),{banStatus:ve}=xc(),[X,ne]=d.useState(!1),[se,ge]=d.useState(!1),Me=d.useMemo(()=>{let Y=[...w];switch(i!=="all"&&i!=="All"&&(Y=Y.filter(me=>me.subcategory&&me.subcategory.trim().toLowerCase()===i.trim().toLowerCase())),r&&(Y=Y.filter(me=>me.name.toLowerCase().includes(r.toLowerCase()))),F){case"price-asc":Y.sort((me,G)=>me.price-G.price);break;case"price-desc":Y.sort((me,G)=>G.price-me.price);break;case"rating":Y.sort((me,G)=>(G.rating||0)-(me.rating||0));break}return Y},[w,i,r,F]),Ee=d.useMemo(()=>{const Y=new Map;for(const me of Me){const G=`${me.name}-${me.price}`;Y.has(G)||Y.set(G,me)}return Array.from(Y.values())},[Me]),at=d.useMemo(()=>r.trim()?Ee.filter(Y=>Y.name.toLowerCase().includes(r.toLowerCase())||Y.description.toLowerCase().includes(r.toLowerCase())).slice(0,10):[],[Ee,r]),ue=u.reduce((Y,me)=>Y+me.quantity,0),Fe=u.reduce((Y,me)=>Y+me.price*me.quantity,0),We=Y=>{h(Y)},_t=async()=>{j(!0);try{const Y=await _o(Ue.DAILY_ESSENTIAL);A(Y)}catch(Y){console.error("Error loading daily essential categories:",Y),z.error("Failed to load categories")}finally{j(!1)}},rt=async()=>{C(!0);try{const Y=await wl(Ue.DAILY_ESSENTIAL);N(Y)}catch(Y){console.error("Error loading daily essential products:",Y),z.error("Failed to load products")}finally{C(!1)}};d.useEffect(()=>{_t(),rt()},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(u))},[u]),d.useEffect(()=>{const Y=kd(Et,me=>{L(me),ne(!!me)});return()=>Y()},[]),d.useEffect(()=>{var Y,me;(Y=O.state)!=null&&Y.subcategory?a(O.state.subcategory):(me=O.state)!=null&&me.category&&k.some(xe=>xe.name===O.state.category||xe.subcategory===O.state.category)&&a(O.state.category)},[(sn=O.state)==null?void 0:sn.subcategory,(Qe=O.state)==null?void 0:Qe.category,k]),d.useEffect(()=>{console.log("Categories:",k)},[k]);const et=async Y=>{const{address:me,paymentMethod:G,tip:xe,finalTotal:ke,location:Ke}=Y;if(ve.isBanned){z.error("Your account has been suspended. You cannot place orders."),U(!1);return}if(!P){z.error("Please log in to place an order.");return}if(!me.phone||me.phone.trim()===""){z.error("Please add a phone number to your address before placing the order.");return}let ht=null;if(Ke)ht={lat:Ke.lat,lng:Ke.lng},z.success("Using selected delivery location!");else{z.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const ze=await new Promise((Tt,lt)=>{navigator.geolocation.getCurrentPosition(Tt,lt,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});ht={lat:ze.coords.latitude,lng:ze.coords.longitude},z.dismiss(),z.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(ze){console.error("Error getting location:",ze),z.dismiss(),ze.code===1?z.error("Location access denied. Please enable location permissions for accurate tracking."):ze.code===2?z.error("Location unavailable. Please check your GPS settings."):ze.code===3?z.error("Location request timed out. Please try again."):z.error("Could not get your location. Using approximate location."),ht={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const St=25,At=Math.random()*10+5,$t=Math.round(St+At),wn=new Date(Date.now()+$t*60*1e3),on={name:me.name||P.displayName||"User",email:me.email||P.email||"",phone:me.phone},Yt={userId:P.uid,userInfo:on,items:u,totalPrice:ke,tip:xe,deliveryAddress:Object.fromEntries(Object.entries(me).filter(([ze,Tt])=>Tt!=null)),paymentMethod:G,status:"pending",createdAt:new Date,estimatedDeliveryTime:wn,estimatedMinutes:$t,userLocation:ht,selectedLocationAddress:(Ke==null?void 0:Ke.address)||null};try{await Kl(async()=>{const ze=await Es(tn(Ve,"orders"),Yt);await An(Nt(Ve,"orders",ze.id),{orderId:ze.id}),z.success("Order placed successfully!"),g(),U(!1),t(`/current-order/${ze.id}`)})}catch(ze){console.error("Error placing order:",ze),ze.code==="permission-denied"?z.error("Access denied. Please check your permissions."):ze.code==="unavailable"?z.error("Firebase service is temporarily unavailable. Please try again later."):z.error("Failed to place order. Please check your connection and try again.")}},$e=Y=>{fe(Y),ie(!1)},Qt=()=>{if(!P){z.error("You must be logged in to place an order.");return}U(!0)};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-40 ${e?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Dn,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Daily Essentials"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(W,{onClick:()=>D(!V),variant:"ghost",size:"icon",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Ei,{className:"w-5 h-5"})}),o.jsxs(W,{onClick:()=>B(!0),variant:"ghost",size:"icon",className:"relative",children:[o.jsx(Ds,{className:"w-5 h-5"}),ue>0&&o.jsx(It,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:ue})]})]})]})})}),V&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx(Be,{placeholder:"Search for essentials...",value:r,onChange:Y=>{s(Y.target.value),ge(Y.target.value.trim().length>0)},onFocus:()=>{r.trim().length>0&&ge(!0)},className:`w-full ${e?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-2 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsx(W,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(li,{className:`z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ci,{children:"Sort Options"}),o.jsx(Nr,{}),o.jsx(vt,{onClick:()=>K("relevance"),children:"Relevance"}),o.jsx(vt,{onClick:()=>K("price-asc"),children:"Price: Low to High"}),o.jsx(vt,{onClick:()=>K("price-desc"),children:"Price: High to Low"}),o.jsx(vt,{onClick:()=>K("rating"),children:"Rating"})]})]})})})}),o.jsx("div",{className:"py-4 mt-[0px] mb-[15px] md:mt-0",children:o.jsxs("div",{className:"flex items-center space-x-4 overflow-x-auto px-2 md:justify-center md:space-x-8 scrollbar-none py-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",overflowY:"visible",marginTop:15,marginBottom:15},children:[o.jsxs("button",{onClick:()=>a("All"),className:"flex flex-col items-center focus:outline-none md:hidden",children:[o.jsx("div",{className:`w-20 h-20 rounded-full overflow-hidden border-4 transition-all duration-200 ${i==="All"?"border-orange-500 shadow-lg":"border-transparent"}`,style:{boxShadow:i==="All"?"0 0 0 4px rgba(255, 115, 0, 0.2)":void 0},children:o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:"🛒"})})}),o.jsx("span",{className:"mt-2 text-sm font-medium text-center whitespace-nowrap",children:"All"})]}),(()=>{const Y=new Set;return k.filter(G=>{if(!G.name||G.name.trim()===""||G.name==="🥐"||G.name==="📦"||G.name.includes("http")||G.name.includes("unsplash"))return!1;const xe=G.subcategory||G.id||G.name;return Y.has(xe)?!1:(Y.add(xe),!0)}).map(G=>{let xe=null;if(G.image)xe=o.jsx("img",{src:G.image,alt:G.name,className:"w-full h-full object-cover"});else if(G.logo)xe=o.jsx("img",{src:G.logo,alt:G.name,className:"w-full h-full object-cover"});else if(G.icon&&typeof G.icon=="string")G.icon.startsWith("http")||G.icon.startsWith("data:")?xe=o.jsx("img",{src:G.icon,alt:G.name,className:"w-full h-full object-cover"}):xe=o.jsx("span",{className:"text-4xl flex items-center justify-center w-full h-full",children:G.icon});else return null;return o.jsxs("button",{onClick:()=>a(G.subcategory),className:"flex flex-col items-center focus:outline-none",children:[o.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 rounded-full overflow-hidden border-4 transition-all duration-200 ${i===G.subcategory?"border-orange-500 shadow-lg":"border-transparent"}`,style:{boxShadow:i===G.subcategory?"0 0 0 4px rgba(255, 115, 0, 0.2)":void 0},children:xe}),o.jsx("span",{className:"mt-2 text-sm md:text-base font-medium text-center whitespace-nowrap",children:G.name})]},G.id||G.name)})})()]})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:[o.jsx("div",{className:"block md:hidden space-y-4",children:Ee.map(Y=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:Y.image,alt:Y.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(Gs,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ₹",Y.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${e?"text-white":"text-gray-900"}`,children:Y.name}),o.jsx(W,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Ql,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(Rr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[Y.rating," (500+) • 20-25 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:Y.description}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar • 2.2 km"}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:`font-bold text-lg mb-1 ${e?"text-orange-400":"text-orange-600"}`,children:["₹",Y.price]}),o.jsx(W,{onClick:()=>We(Y),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]})]},Y.id))}),o.jsx("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Ee.map(Y=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${e?"border border-gray-700":"border border-gray-200"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:Y.image,alt:Y.name,className:"w-full h-48 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(Gs,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ₹",Y.price]})]}),o.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h3",{className:`font-bold text-lg truncate ${e?"text-white":"text-gray-900"}`,children:Y.name}),o.jsx(W,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Ql,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-1",children:[o.jsx(Rr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[Y.rating," (500+) • 20-25 mins"]})]}),o.jsx("p",{className:`text-sm mb-1 truncate ${e?"text-gray-400":"text-gray-600"}`,children:Y.description}),o.jsx("p",{className:`text-sm mb-2 truncate ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar • 2.2 km"}),o.jsxs("div",{className:`font-bold text-lg mb-2 ${e?"text-orange-400":"text-orange-600"}`,children:["₹",Y.price]}),o.jsx(W,{onClick:()=>We(Y),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]},Y.id))})]}),o.jsx(Gm,{cart:u,totalPrice:y(),onCheckout:()=>B(!0),onDelete:g,onViewMenu:()=>B(!0),isDarkMode:e,buttonLabel:"Checkout",className:"block md:hidden !bottom-0"}),l&&o.jsx(Fm,{product:l,onClose:()=>c(null),onAddToCart:We}),Z&&o.jsx(qm,{isOpen:Z,onClose:()=>U(!1),onPlaceOrder:et,totalPrice:Fe,user:P}),o.jsx($m,{isOpen:$,onClose:()=>B(!1),cart:u,updateQuantity:p,totalPrice:y(),onProceedToCheckout:Qt}),o.jsx(vc,{isOpen:H,onClose:()=>ie(!1),onLocationSelect:$e}),o.jsx(hb,{isVisible:se,searchQuery:r,results:at,onAddToCart:We,onClose:()=>ge(!1),isDarkMode:e})]})},nY=()=>{const t=_n(),{isDarkMode:e,toggleDarkMode:n}=Kt(),[r,s]=d.useState(""),[i,a]=d.useState("All"),[l,c]=d.useState(null),{cart:u,addToCart:h,updateCartQuantity:p,removeFromCart:m,clearCart:g,getTotalItems:v,getTotalPrice:y,isCartPopupOpen:x,setIsCartPopupOpen:b}=Um(),{banStatus:w}=xc(),[N,k]=d.useState(!1),[A,R]=d.useState(!1),[C,_]=d.useState([]),[j,T]=d.useState([]),[I,P]=d.useState(!0),[L,Z]=d.useState(!0),[U,F]=d.useState(!1),[K,V]=d.useState(!1),[D,$]=d.useState(null),[B,O]=d.useState(!1),[H,ie]=d.useState("relevance"),[q,fe]=d.useState(!1),[ee,ce]=d.useState(!1),[ve,X]=d.useState(null),[ne,se]=d.useState("grid"),[ge,Me]=d.useState("All"),[Ee,at]=d.useState(!1),ue=d.useMemo(()=>{let Y=[...C];switch(i!=="all"&&i!=="All"&&(Y=Y.filter(me=>me.subcategory&&me.subcategory.trim().toLowerCase()===i.trim().toLowerCase())),r&&(Y=Y.filter(me=>me.name.toLowerCase().includes(r.toLowerCase()))),H){case"price-asc":Y.sort((me,G)=>me.price-G.price);break;case"price-desc":Y.sort((me,G)=>G.price-me.price);break;case"rating":Y.sort((me,G)=>(G.rating||0)-(me.rating||0));break}return Y},[C,i,r,H]),Fe=d.useMemo(()=>{const Y=new Map;for(const me of ue){const G=`${me.name}-${me.price}`;Y.has(G)||Y.set(G,me)}return Array.from(Y.values())},[ue]),We=d.useMemo(()=>r.trim()?Fe.filter(Y=>Y.name.toLowerCase().includes(r.toLowerCase())||Y.description.toLowerCase().includes(r.toLowerCase())).slice(0,10):[],[Fe,r]),_t=u.reduce((Y,me)=>Y+me.quantity,0),rt=u.reduce((Y,me)=>Y+me.price*me.quantity,0),et=Y=>{if(!N){R(!0);return}h(Y)},$e=async()=>{Z(!0);try{const Y=await _o(Ue.DRINKS);T(Y)}catch(Y){console.error("Error loading drinks categories:",Y),z.error("Failed to load categories")}finally{Z(!1)}},Qt=async()=>{P(!0);try{const Y=await wl(Ue.DRINKS);_(Y)}catch(Y){console.error("Error loading drinks products:",Y),z.error("Failed to load products")}finally{P(!1)}};d.useEffect(()=>{$e(),Qt(),localStorage.getItem("pickngo-age-verified")?k(!0):R(!0);const me=kd(Et,G=>{$(G)});return()=>me()},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(u))},[u]);const sn=async Y=>{const{address:me,paymentMethod:G,tip:xe,finalTotal:ke,location:Ke}=Y;if(w.isBanned){z.error("Your account has been suspended. You cannot place orders."),O(!1);return}if(!D){z.error("Please log in to place an order.");return}if(!me.phone||me.phone.trim()===""){z.error("Please add a phone number to your address before placing the order.");return}let ht=null;if(Ke)ht={lat:Ke.lat,lng:Ke.lng},z.success("Using selected delivery location!");else{z.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const ze=await new Promise((Tt,lt)=>{navigator.geolocation.getCurrentPosition(Tt,lt,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});ht={lat:ze.coords.latitude,lng:ze.coords.longitude},z.dismiss(),z.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(ze){console.error("Error getting location:",ze),z.dismiss(),ze.code===1?z.error("Location access denied. Please enable location permissions for accurate tracking."):ze.code===2?z.error("Location unavailable. Please check your GPS settings."):ze.code===3?z.error("Location request timed out. Please try again."):z.error("Could not get your location. Using approximate location."),ht={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const St=25,At=Math.random()*10+5,$t=Math.round(St+At),wn=new Date(Date.now()+$t*60*1e3),on={name:me.name||D.displayName||"User",email:me.email||D.email||"",phone:me.phone},Yt={userId:D.uid,userInfo:on,items:u,totalPrice:ke,tip:xe,deliveryAddress:Object.fromEntries(Object.entries(me).filter(([ze,Tt])=>Tt!=null)),paymentMethod:G,status:"pending",createdAt:new Date,estimatedDeliveryTime:wn,estimatedMinutes:$t,userLocation:ht,selectedLocationAddress:(Ke==null?void 0:Ke.address)||null};try{await Kl(async()=>{const ze=await Es(tn(Ve,"orders"),Yt);await An(Nt(Ve,"orders",ze.id),{orderId:ze.id}),z.success("Order placed successfully!"),g(),O(!1),t(`/current-order/${ze.id}`)})}catch(ze){console.error("Error placing order:",ze),ze.code==="permission-denied"?z.error("Access denied. Please check your permissions."):ze.code==="unavailable"?z.error("Firebase service is temporarily unavailable. Please try again later."):z.error("Failed to place order. Please check your connection and try again.")}};d.useEffect(()=>{console.log("Categories:",j)},[j]);const Qe=Y=>{X(Y),ce(!1)};return ge==="All"||C.filter(Y=>Y.subcategory===ge),o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-40 ${e?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Dn,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Drinks"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(W,{onClick:()=>fe(!q),variant:"ghost",size:"icon",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Ei,{className:"w-5 h-5"})}),o.jsxs(W,{onClick:()=>V(!0),variant:"ghost",size:"icon",className:"relative",children:[o.jsx(Ds,{className:"w-5 h-5"}),_t>0&&o.jsx(It,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:_t})]})]})]})})}),q&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx(Be,{placeholder:"Search for drinks...",value:r,onChange:Y=>{s(Y.target.value),at(Y.target.value.trim().length>0)},onFocus:()=>{r.trim().length>0&&at(!0)},className:`w-full ${e?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-2 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsx(W,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(li,{className:`z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ci,{children:"Sort Options"}),o.jsx(Nr,{}),o.jsx(vt,{onClick:()=>ie("relevance"),children:"Relevance"}),o.jsx(vt,{onClick:()=>ie("price-asc"),children:"Price: Low to High"}),o.jsx(vt,{onClick:()=>ie("price-desc"),children:"Price: High to Low"}),o.jsx(vt,{onClick:()=>ie("rating"),children:"Rating"})]})]})})})}),o.jsx("div",{className:"py-4 mt-[0px] mb-[15px] md:mt-0",children:o.jsx("div",{className:"flex items-center space-x-4 overflow-x-auto px-2 md:justify-center md:space-x-8 scrollbar-none py-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",overflowY:"visible",marginTop:15,marginBottom:15},children:(()=>{const Y=new Set;return j.filter(G=>{if(!G.name||G.name.trim()===""||G.name==="🥐"||G.name==="📦"||G.name.includes("http")||G.name.includes("unsplash"))return!1;const xe=G.subcategory||G.id||G.name;return Y.has(xe)?!1:(Y.add(xe),!0)}).map(G=>{let xe=null;if(G.image)xe=o.jsx("img",{src:G.image,alt:G.name,className:"w-full h-full object-cover"});else if(G.logo)xe=o.jsx("img",{src:G.logo,alt:G.name,className:"w-full h-full object-cover"});else if(G.icon&&typeof G.icon=="string")G.icon.startsWith("http")||G.icon.startsWith("data:")?xe=o.jsx("img",{src:G.icon,alt:G.name,className:"w-full h-full object-cover"}):xe=o.jsx("span",{className:"text-4xl flex items-center justify-center w-full h-full",children:G.icon});else return null;const ke=G.name==="All"||G.subcategory==="All",Ke=ke?"All":G.subcategory,ht=ke?i==="All":i===G.subcategory;return o.jsxs("button",{onClick:()=>a(Ke),className:"flex flex-col items-center focus:outline-none",children:[o.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 rounded-full overflow-hidden border-4 transition-all duration-200 ${ht?"border-orange-500 shadow-lg":"border-transparent"}`,style:{boxShadow:ht?"0 0 0 4px rgba(255, 115, 0, 0.2)":void 0},children:xe}),o.jsx("span",{className:"mt-2 text-sm md:text-base font-medium text-center whitespace-nowrap",children:G.name})]},G.id||G.name)})})()})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:[o.jsx("div",{className:"block md:hidden space-y-4",children:Fe.map(Y=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:Y.image,alt:Y.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(Gs,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ₹",Y.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${e?"text-white":"text-gray-900"}`,children:Y.name}),o.jsx(W,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Ql,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(Rr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[Y.rating," (500+) • 20-25 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:Y.description}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar • 2.2 km"}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:`font-bold text-lg mb-1 ${e?"text-orange-400":"text-orange-600"}`,children:["₹",Y.price]}),o.jsx(W,{onClick:()=>et(Y),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]})]},Y.id))}),o.jsx("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Fe.map(Y=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${e?"border border-gray-700":"border border-gray-200"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:Y.image,alt:Y.name,className:"w-full h-48 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(Gs,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ₹",Y.price]})]}),o.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h3",{className:`font-bold text-lg truncate ${e?"text-white":"text-gray-900"}`,children:Y.name}),o.jsx(W,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Ql,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-1",children:[o.jsx(Rr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[Y.rating," (500+) • 20-25 mins"]})]}),o.jsx("p",{className:`text-sm mb-1 truncate ${e?"text-gray-400":"text-gray-600"}`,children:Y.description}),o.jsx("p",{className:`text-sm mb-2 truncate ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar • 2.2 km"}),o.jsxs("div",{className:`font-bold text-lg mb-2 ${e?"text-orange-400":"text-orange-600"}`,children:["₹",Y.price]}),o.jsx(W,{onClick:()=>et(Y),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]},Y.id))})]}),o.jsx(Gm,{cart:u,totalPrice:y(),onCheckout:()=>V(!0),onDelete:g,onViewMenu:()=>V(!0),isDarkMode:e,buttonLabel:"Checkout",className:"block md:hidden !bottom-0"}),o.jsx($m,{isOpen:K,onClose:()=>V(!1),cart:u,updateQuantity:p,totalPrice:y(),onProceedToCheckout:()=>{if(!D){z.error("You must be logged in to place an order.");return}O(!0)}}),l&&o.jsx(Fm,{product:l,onClose:()=>c(null),onAddToCart:h}),B&&o.jsx(qm,{isOpen:B,onClose:()=>O(!1),onPlaceOrder:sn,totalPrice:rt,user:D}),o.jsx($A,{isOpen:A,onClose:()=>R(!1),onVerified:()=>{k(!0),R(!1),localStorage.setItem("pickngo-age-verified","true")}}),o.jsx(vc,{isOpen:ee,onClose:()=>ce(!1),onLocationSelect:Qe}),o.jsx(hb,{isVisible:Ee,searchQuery:r,results:We,onAddToCart:et,onClose:()=>at(!1),isDarkMode:e})]})},rY=()=>{const t=_n(),{isDarkMode:e,toggleDarkMode:n}=Kt(),[r,s]=d.useState(null),[i,a]=d.useState(!1),[l,c]=d.useState(!1),[u,h]=d.useState({displayName:"",email:"",phone:"",address:"",city:"",state:"",pincode:""});d.useEffect(()=>{const g=Et.onAuthStateChanged(async v=>{if(v){s(v);try{const y=await wa(Nt(Ve,"users",v.uid));if(y.exists()){const x=y.data();h({displayName:x.displayName||v.displayName||"",email:v.email||"",phone:x.phone||v.phoneNumber||"",address:x.address||"",city:x.city||"",state:x.state||"",pincode:x.pincode||""})}else h({displayName:v.displayName||"",email:v.email||"",phone:v.phoneNumber||"",address:"",city:"",state:"",pincode:""})}catch(y){console.error("Error fetching user data:",y),z.error("Failed to load profile data")}}else t("/")});return()=>g()},[t]);const p=async()=>{if(r){c(!0);try{await DI(r,{displayName:u.displayName});const g=Nt(Ve,"users",r.uid);await TP(g,{displayName:u.displayName,email:u.email,phone:u.phone,address:u.address,city:u.city,state:u.state,pincode:u.pincode,updatedAt:new Date},{merge:!0}),z.success("Profile updated successfully!"),a(!1)}catch(g){console.error("Error updating profile:",g),z.error("Failed to update profile")}finally{c(!1)}}},m=()=>{h({displayName:(r==null?void 0:r.displayName)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phoneNumber)||"",address:"",city:"",state:"",pincode:""}),a(!1)};return r?o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Dn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Profile"})]}),i?o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(W,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-orange-500",onClick:m,disabled:l,children:[o.jsx(pc,{className:"w-4 h-4 mr-1"}),"Cancel"]}),o.jsxs(W,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:p,disabled:l,children:[o.jsx(uH,{className:"w-4 h-4 mr-1"}),l?"Saving...":"Save"]})]}):o.jsx("div",{className:"flex space-x-2",children:o.jsxs(W,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-orange-500",onClick:()=>a(!0),children:[o.jsx(Ow,{className:"w-4 h-4 mr-1"}),"Edit"]})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx(Pe,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:o.jsx(Ae,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center",children:o.jsx(zi,{className:"w-10 h-10 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:u.displayName||"User"}),o.jsx("p",{className:"text-gray-600",children:u.email}),i&&o.jsxs(W,{variant:"ghost",size:"sm",className:"mt-2 text-orange-500 hover:text-orange-600",children:[o.jsx(VP,{className:"w-4 h-4 mr-1"}),"Change Photo"]})]})]})})}),o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(xt,{children:o.jsx(wt,{className:"text-gray-800",children:"Personal Information"})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"displayName",className:"text-gray-700",children:"Full Name"}),o.jsx(Be,{id:"displayName",value:u.displayName,onChange:g=>h({...u,displayName:g.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"email",className:"text-gray-700",children:"Email"}),o.jsx(Be,{id:"email",value:u.email,disabled:!0,className:"mt-1 bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsx(Be,{id:"phone",value:u.phone,onChange:g=>h({...u,phone:g.target.value}),disabled:!i,className:"mt-1"})]})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"address",className:"text-gray-700",children:"Address"}),o.jsx(Be,{id:"address",value:u.address,onChange:g=>h({...u,address:g.target.value}),disabled:!i,className:"mt-1",placeholder:"Street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"city",className:"text-gray-700",children:"City"}),o.jsx(Be,{id:"city",value:u.city,onChange:g=>h({...u,city:g.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"state",className:"text-gray-700",children:"State"}),o.jsx(Be,{id:"state",value:u.state,onChange:g=>h({...u,state:g.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"pincode",className:"text-gray-700",children:"Pincode"}),o.jsx(Be,{id:"pincode",value:u.pincode,onChange:g=>h({...u,pincode:g.target.value}),disabled:!i,className:"mt-1"})]})]})]})]})]})]}):o.jsx("div",{children:"Loading..."})},sY=()=>{const t=_n(),{isDarkMode:e,toggleDarkMode:n}=Kt(),[r,s]=d.useState(null),[i,a]=d.useState([]),[l,c]=d.useState(!0),[u,h]=d.useState(kC());d.useEffect(()=>{const y=Et.onAuthStateChanged(async b=>{b?(s(b),await p(b.uid)):t("/")}),x=()=>{const b=kC();h(b),b&&r&&p(r.uid)};return window.addEventListener("online",x),window.addEventListener("offline",x),()=>{y(),window.removeEventListener("online",x),window.removeEventListener("offline",x)}},[t,r]);const p=async y=>{c(!0);try{if(!u){z.error("You are offline. Please check your internet connection."),c(!1);return}await Kl(async()=>{const x=tn(Ve,"orders"),b=kr(x,Pr("userId","==",y)),w=await Xn(b),N=[];w.forEach(k=>{N.push({id:k.id,...k.data()})}),N.sort((k,A)=>{var _,j;const R=(_=k.createdAt)!=null&&_.toDate?k.createdAt.toDate():0;return((j=A.createdAt)!=null&&j.toDate?A.createdAt.toDate():0)-R}),a(N)})}catch(x){console.error("Error loading orders:",x),x.code==="permission-denied"?z.error("Access denied. Please check your permissions."):x.code==="unavailable"?z.error("Firebase service is temporarily unavailable. Please try again later."):z.error("Failed to load orders. Please check your connection and try again.")}finally{c(!1)}},m=async()=>{if(r)try{if(!u){z.error("You are offline. Please check your internet connection.");return}await Kl(async()=>{const y={userId:r.uid,date:new Date().toISOString().split("T")[0],status:"delivered",total:450,items:[{name:"Domino's Pizza",quantity:1,price:250},{name:"Coca Cola",quantity:2,price:100}],deliveryAddress:"White Building, Midnapore, West Bengal",deliveryTime:"20-25 mins",createdAt:FB()};await Es(tn(Ve,"orders"),y),z.success("Sample order created!"),await p(r.uid)})}catch(y){console.error("Error creating sample order:",y),y.code==="permission-denied"?z.error("Access denied. Please check your permissions."):y.code==="unavailable"?z.error("Firebase service is temporarily unavailable. Please try again later."):z.error("Failed to create sample order. Please check your connection and try again.")}},g=y=>{switch(y){case"delivered":return"bg-green-500";case"cancelled":return"bg-red-500";case"processing":return"bg-yellow-500";default:return"bg-gray-500"}},v=y=>{switch(y){case"delivered":return o.jsx(nu,{className:"w-4 h-4"});case"cancelled":return o.jsx(eH,{className:"w-4 h-4"});case"processing":return o.jsx(Pa,{className:"w-4 h-4"});default:return o.jsx(As,{className:"w-4 h-4"})}};return r?o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Dn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Past Orders"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[u?o.jsx(EH,{className:"w-4 h-4 text-orange-500"}):o.jsx(bH,{className:"w-4 h-4 text-red-500"}),o.jsx("span",{className:`text-xs ${u?"text-orange-500":"text-red-500"}`,children:u?"Online":"Offline"})]}),i.length===0&&o.jsx(W,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:m,children:"Create Sample Order"})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:l?o.jsx(Pe,{className:"bg-white border border-gray-200",children:o.jsxs(Ae,{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):i.length===0?o.jsx(Pe,{className:"bg-white border border-gray-200",children:o.jsxs(Ae,{className:"p-8 text-center",children:[o.jsx(As,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800",children:"No Orders Yet"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Start shopping to see your order history here"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{onClick:()=>t("/"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:"Start Shopping"}),o.jsx(W,{variant:"outline",onClick:m,className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Create Sample Order"})]})]})}):o.jsxs("div",{className:"space-y-4",children:[i.filter(y=>y.status!=="delivered"&&y.status!=="cancelled").length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 text-orange-500 flex items-center",children:[o.jsx(ls,{className:"w-5 h-5 mr-2"}),"Current Orders"]}),o.jsx("div",{className:"space-y-4",children:i.filter(y=>y.status!=="delivered"&&y.status!=="cancelled").map(y=>{var x,b;return o.jsxs(Pe,{className:"bg-white border border-orange-200 shadow-sm",children:[o.jsx(xt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(wt,{className:"text-gray-800",children:["Order #",y.id.slice(-6)]}),o.jsx("p",{className:"text-gray-600 text-sm",children:(x=y.createdAt)!=null&&x.toDate?y.createdAt.toDate().toLocaleDateString():y.date})]}),o.jsx(It,{className:"bg-orange-500 text-white",children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ls,{className:"w-4 h-4"}),o.jsx("span",{className:"capitalize",children:y.status})]})})]})}),o.jsxs(Ae,{children:[o.jsx("div",{className:"space-y-2",children:y.items.map((w,N)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(As,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:w.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",w.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["₹",w.price]})]},N))}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg mt-3",children:[o.jsx(en,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:typeof y.deliveryAddress=="string"?y.deliveryAddress:(b=y.deliveryAddress)!=null&&b.address?`${y.deliveryAddress.address}, ${y.deliveryAddress.city}, ${y.deliveryAddress.state} - ${y.deliveryAddress.pincode}`:"Address not available"})]}),o.jsxs("div",{className:"space-y-3 p-3 bg-orange-50 rounded-lg mt-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ls,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Delivery Time: ",y.deliveryTime||"20-25 mins"]})]}),y.paymentMethod&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 text-orange-500",children:"💳"}),o.jsxs("span",{className:"text-sm text-gray-600 capitalize",children:["Payment: ",y.paymentMethod==="cod"?"Cash on Delivery":y.paymentMethod.toUpperCase()]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-orange-200",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["₹",y.totalPrice||y.total||0]})]})]}),o.jsxs("div",{className:"flex space-x-2 mt-4",children:[o.jsxs(W,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>t(`/current-order/${y.id}`),children:[o.jsx(ls,{className:"w-4 h-4 mr-2"}),"Track Order"]}),o.jsxs(W,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(vr,{className:"w-4 h-4 mr-2"}),"Call Support"]})]})]})]},`current-${y.id}`)})})]}),i.filter(y=>y.status==="delivered"||y.status==="cancelled").length>0&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:[o.jsx(As,{className:"w-5 h-5 mr-2"}),"Past Orders"]}),o.jsx("div",{className:"space-y-4",children:i.filter(y=>y.status==="delivered"||y.status==="cancelled").map(y=>{var x,b;return o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(xt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(wt,{className:"text-gray-800",children:["Order #",y.id.slice(-6)]}),o.jsx("p",{className:"text-gray-600 text-sm",children:(x=y.createdAt)!=null&&x.toDate?y.createdAt.toDate().toLocaleDateString():y.date})]}),o.jsx(It,{className:`${g(y.status)} text-white`,children:o.jsxs("div",{className:"flex items-center space-x-1",children:[v(y.status),o.jsx("span",{className:"capitalize",children:y.status})]})})]})}),o.jsxs(Ae,{children:[o.jsx("div",{className:"space-y-2",children:y.items.map((w,N)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(As,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:w.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",w.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["₹",w.price]})]},N))}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg mt-3",children:[o.jsx(en,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:typeof y.deliveryAddress=="string"?y.deliveryAddress:(b=y.deliveryAddress)!=null&&b.address?`${y.deliveryAddress.address}, ${y.deliveryAddress.city}, ${y.deliveryAddress.state} - ${y.deliveryAddress.pincode}`:"Address not available"})]}),o.jsxs("div",{className:"space-y-3 p-3 bg-orange-50 rounded-lg mt-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ls,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Delivery Time: ",y.deliveryTime||"20-25 mins"]})]}),y.paymentMethod&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 text-orange-500",children:"💳"}),o.jsxs("span",{className:"text-sm text-gray-600 capitalize",children:["Payment: ",y.paymentMethod==="cod"?"Cash on Delivery":y.paymentMethod.toUpperCase()]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),o.jsxs("span",{className:"text-gray-800",children:["₹",y.totalPrice||y.total||0]})]}),y.tip&&y.tip>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Tip:"}),o.jsxs("span",{className:"text-gray-800",children:["₹",y.tip]})]}),y.totalPrice&&y.totalPrice>299?o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee:"}),o.jsx("span",{className:"text-orange-500",children:"FREE"})]}):y.totalPrice&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee:"}),o.jsx("span",{className:"text-gray-800",children:"₹29"})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-orange-200",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["₹",y.totalPrice||y.total||0]})]})]})]}),o.jsxs("div",{className:"flex space-x-2 mt-4",children:[y.status!=="delivered"&&y.status!=="cancelled"&&o.jsxs(W,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>t(`/current-order/${y.id}`),children:[o.jsx(ls,{className:"w-4 h-4 mr-2"}),"Track Order"]}),o.jsxs(W,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Rate Order"]}),o.jsxs(W,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(As,{className:"w-4 h-4 mr-2"}),"Reorder"]})]})]})]},y.id)})})]})]})})]}):o.jsx("div",{children:"Loading..."})};var fb="Progress",pb=100,[iY,qZ]=ir(fb),[oY,aY]=iY(fb),NL=d.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=lY,...a}=t;(s||s===0)&&!gS(s)&&console.error(cY(`${s}`,"Progress"));const l=gS(s)?s:pb;r!==null&&!yS(r,l)&&console.error(uY(`${r}`,"Progress"));const c=yS(r,l)?r:null,u=Sp(c)?i(c,l):void 0;return o.jsx(oY,{scope:n,value:c,max:l,children:o.jsx(Oe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Sp(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":SL(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});NL.displayName=fb;var CL="ProgressIndicator",_L=d.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=aY(CL,n);return o.jsx(Oe.div,{"data-state":SL(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});_L.displayName=CL;function lY(t,e){return`${Math.round(t/e*100)}%`}function SL(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Sp(t){return typeof t=="number"}function gS(t){return Sp(t)&&!isNaN(t)&&t>0}function yS(t,e){return Sp(t)&&!isNaN(t)&&t<=e&&t>=0}function cY(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${pb}\`.`}function uY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${pb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var jL=NL,dY=_L;const kL=d.forwardRef(({className:t,value:e,...n},r)=>o.jsx(jL,{ref:r,className:Le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(dY,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));kL.displayName=jL.displayName;const hY=()=>{var K,V;const t=_n(),{orderId:e}=BV(),{isDarkMode:n,toggleDarkMode:r}=Kt(),[s,i]=d.useState(null),[a,l]=d.useState(null),[c,u]=d.useState(!0),[h,p]=d.useState(1),[m,g]=d.useState({minutes:0,seconds:0}),[v,y]=d.useState(0),x="AIzaSyC0aUsBjWppu-5sSvme3Zz66Ts9aFKOYRs",b={width:"100%",height:"300px"},w={lat:22.5726,lng:88.3639},{isLoaded:N}=KR({googleMapsApiKey:x,libraries:["places"]}),k={dominos:{lat:22.5726,lng:88.3639,name:"Domino's Pizza",address:"Park Street, Kolkata",icon:"🍕"},spice_n_ice:{lat:22.5726+.005,lng:88.3639+.005,name:"Spice N Ice",address:"Esplanade, Kolkata",icon:"🍽️"},china_nation:{lat:22.5726-.003,lng:88.3639-.003,name:"China Nation",address:"Chowringhee, Kolkata",icon:"🥢"},default:{lat:22.5726,lng:88.3639,name:"Restaurant",address:"Kolkata",icon:"🏪"}};d.useEffect(()=>{const D=Et.onAuthStateChanged(async $=>{$?(i($),e&&await A(e)):t("/")});return()=>D()},[t,e]);const A=async D=>{u(!0);try{const $=Nt(Ve,"orders",D);return PP($,O=>{if(O.exists()){const H={id:O.id,...O.data()};l(H),H.status&&P(H.status),setTimeout(async()=>{await R(H)},100)}else z.error("Order not found"),t("/past-orders");u(!1)})}catch($){console.error("Error loading order:",$),z.error("Failed to load order"),u(!1)}},R=async D=>{if(!N)return;const $=T(D),B=D.userLocation||{lat:22.5726,lng:88.3639},[O,H]=await Promise.all([I($.lat,$.lng),I(B.lat,B.lng)]);$.address=O,($.lat+B.lat)/2,($.lng+B.lng)/2;const ie=C($.lat,$.lng,B.lat,B.lng);y(ie)},C=(D,$,B,O)=>{const ie=(B-D)*Math.PI/180,q=(O-$)*Math.PI/180,fe=Math.sin(ie/2)*Math.sin(ie/2)+Math.cos(D*Math.PI/180)*Math.cos(B*Math.PI/180)*Math.sin(q/2)*Math.sin(q/2);return 6371*(2*Math.atan2(Math.sqrt(fe),Math.sqrt(1-fe)))};d.useEffect(()=>{if(!(a!=null&&a.estimatedDeliveryTime))return;const D=setInterval(()=>{const $=new Date().getTime(),O=(a.estimatedDeliveryTime.toDate?a.estimatedDeliveryTime.toDate().getTime():new Date(a.estimatedDeliveryTime).getTime())-$;if(O>0){const H=Math.floor(O/6e4),ie=Math.floor(O%(1e3*60)/1e3);g({minutes:H,seconds:ie})}else g({minutes:0,seconds:0}),a.status!=="delivered"&&_("delivered")},1e3);return()=>clearInterval(D)},[a]);const _=async D=>{if(e)try{const $=Nt(Ve,"orders",e);await An($,{status:D})}catch($){console.error("Error updating order status:",$)}},j=D=>{if(!D||D.length===0)return"default";const $=D[0].name.toLowerCase();return $.includes("domino")||$.includes("pizza")?"dominos":$.includes("spice")||$.includes("ice")?"spice_n_ice":$.includes("china")||$.includes("nation")?"china_nation":"default"},T=D=>{if(!D||!D.items)return k.default;const $=D.userLocation||{lat:22.5726,lng:88.3639},B=j(D.items),O={dominos:{name:"Domino's Pizza",address:"Nearby Location",icon:"🍕",offset:{lat:.002,lng:.003}},spice_n_ice:{name:"Spice N Ice",address:"Local Restaurant",icon:"🍽️",offset:{lat:-.001,lng:.002}},china_nation:{name:"China Nation",address:"Chinese Restaurant",icon:"🥢",offset:{lat:.003,lng:-.001}},default:{name:"Local Restaurant",address:"Nearby Location",icon:"🏪",offset:{lat:.001,lng:.001}}},H=O[B]||O.default;return{lat:$.lat+H.offset.lat,lng:$.lng+H.offset.lng,name:H.name,address:H.address,icon:H.icon}},I=async(D,$)=>{try{const O=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${D}&lon=${$}&zoom=18&addressdetails=1`)).json();if(O&&O.display_name){const H=O.display_name.split(", "),ie=H[0]||"Nearby Location",q=H[H.length-3]||"Your Area";return`${ie}, ${q}`}}catch(B){console.error("Error getting address:",B)}return"Nearby Location"},P=D=>{switch(D){case"pending":p(1);break;case"confirmed":p(2);break;case"preparing":p(3);break;case"out_for_delivery":p(4);break;case"delivered":p(5);break;default:p(1)}},L=D=>{const $=[{title:"Order Placed",description:"Your order has been received",icon:"📋",color:"text-blue-400"},{title:"Order Confirmed",description:"Restaurant has confirmed your order",icon:"✅",color:"text-green-400"},{title:"Preparing",description:"Your food is being prepared",icon:"👨‍🍳",color:"text-yellow-400"},{title:"Out for Delivery",description:"Your order is on the way",icon:"🚚",color:"text-pickngo-orange-400"},{title:"Delivered",description:"Enjoy your meal!",icon:"🎉",color:"text-green-500"}];return $[D-1]||$[0]},Z=()=>{var D;return a?typeof a.deliveryAddress=="string"?a.deliveryAddress:(D=a.deliveryAddress)!=null&&D.address?`${a.deliveryAddress.address}, ${a.deliveryAddress.city}, ${a.deliveryAddress.state} - ${a.deliveryAddress.pincode}`:"Address not available":""};if(d.useEffect(()=>()=>{},[]),!s)return o.jsx("div",{children:"Loading..."});if(c)return o.jsx("div",{className:"min-h-screen bg-white text-gray-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{children:"Loading order details..."})]})});if(!a)return o.jsx("div",{className:"min-h-screen bg-white text-gray-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{children:"Order not found"}),o.jsx(W,{onClick:()=>t("/past-orders"),className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white",children:"Go to Past Orders"})]})});const U=T(a),F=L(h);return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/past-orders"),children:o.jsx(Dn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-gray-800 font-bold text-lg",children:["Order #",a.id.slice(-6)]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(pH,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-orange-500 font-semibold",children:[m.minutes,"m ",m.seconds,"s left"]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs(It,{className:"bg-orange-500 text-white",children:[o.jsx(Pa,{className:"w-4 h-4 mr-1"}),v.toFixed(1)," km away"]})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-4",children:[o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(xt,{children:o.jsxs(wt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(en,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Live Tracking"})]})}),o.jsxs(Ae,{children:[N&&a&&o.jsxs(BR,{mapContainerStyle:b,center:a.userLocation||w,zoom:14,options:{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1},children:[o.jsx(yp,{position:k[j(a.items||[])]||k.default,label:"R"}),a.userLocation&&o.jsx(yp,{position:a.userLocation,label:"U"}),a.userLocation&&o.jsx(eL,{path:[k[j(a.items||[])]||k.default,a.userLocation],options:{strokeColor:"#3b82f6",strokeWeight:4,strokeOpacity:.7}})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Distance"}),o.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[v.toFixed(1)," km"]})]}),o.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Est. Time"}),o.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[m.minutes,"m ",m.seconds,"s"]})]})]})]})]}),o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsxs(xt,{children:[o.jsxs(wt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:F.icon}),o.jsx("span",{className:"text-orange-500",children:F.title})]}),o.jsx("p",{className:"text-gray-600",children:F.description})]}),o.jsx(Ae,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Progress"}),o.jsxs("span",{className:"text-gray-800",children:[Math.round(h/5*100),"%"]})]}),o.jsx(kL,{value:h/5*100,className:"h-2"})]}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(D=>o.jsxs("div",{className:`flex flex-col items-center p-2 rounded-lg transition-all duration-300 ${D<=h?"bg-orange-100 scale-105":"bg-gray-100"}`,children:[o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs transition-all duration-300 ${D<=h?"bg-orange-500 shadow-lg text-white":"bg-gray-300 text-gray-600"}`,children:D<h?"✓":D}),o.jsx("span",{className:"text-xs mt-1 text-center text-gray-600",children:L(D).title.split(" ")[0]})]},D))})]})})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(xt,{children:o.jsxs(wt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:U.icon}),o.jsx("span",{children:"Restaurant"})]})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:U.name}),o.jsx("p",{className:"text-gray-600",children:U.address})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(W,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(vr,{className:"w-4 h-4 mr-2"}),"Call Restaurant"]}),o.jsxs(W,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Xv,{className:"w-4 h-4 mr-2"}),"Directions"]})]})]})]}),o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(xt,{children:o.jsxs(wt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(ls,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Delivery Address"})]})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsx("div",{children:o.jsx("p",{className:"text-gray-600",children:Z()})}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(W,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(vr,{className:"w-4 h-4 mr-2"}),"Call Delivery"]}),o.jsxs(W,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Xv,{className:"w-4 h-4 mr-2"}),"Track Order"]})]})]})]})]}),o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(xt,{children:o.jsx(wt,{className:"text-gray-800",children:"Order Items"})}),o.jsxs(Ae,{children:[o.jsx("div",{className:"space-y-3",children:(K=a.items)==null?void 0:K.map((D,$)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-orange-600 text-sm",children:"🍽️"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:D.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",D.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["₹",D.price]})]},$))}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Subtotal:"}),o.jsxs("span",{className:"text-gray-800 font-medium",children:["₹",a.subtotal||0]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Delivery Fee:"}),o.jsxs("span",{className:"text-gray-800 font-medium",children:["₹",a.deliveryFee!==void 0?a.deliveryFee:0]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["GST (",a.gstRate||5,"%):"]}),o.jsxs("span",{className:"text-gray-800 font-medium",children:["₹",a.gstAmount!==void 0?a.gstAmount:0]})]}),a.discountAmount>0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-green-600 text-sm",children:["Discount",(V=a.appliedPromo)!=null&&V.code?` (${a.appliedPromo.code})`:"",":"]}),o.jsxs("span",{className:"text-green-700 font-medium",children:["-₹",a.discountAmount]})]}),a.tip>0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Tip:"}),o.jsxs("span",{className:"text-gray-800 font-medium",children:["₹",a.tip]})]}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["₹",a.totalPrice||a.total||0]})]})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mb-6",children:[o.jsx(W,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>t("/past-orders"),children:"View All Orders"}),o.jsx(W,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>t("/"),children:"Order Again"})]})]})]})};var Ym="Switch",[fY,GZ]=ir(Ym),[pY,mY]=fY(Ym),IL=d.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:h,...p}=t,[m,g]=d.useState(null),v=dt(e,N=>g(N)),y=d.useRef(!1),x=m?h||!!m.closest("form"):!0,[b,w]=xs({prop:s,defaultProp:i??!1,onChange:u,caller:Ym});return o.jsxs(pY,{scope:n,checked:b,disabled:l,children:[o.jsx(Oe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":RL(b),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:v,onClick:be(t.onClick,N=>{w(k=>!k),x&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})}),x&&o.jsx(AL,{control:m,bubbles:!y.current,name:r,value:c,checked:b,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});IL.displayName=Ym;var TL="SwitchThumb",PL=d.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=mY(TL,n);return o.jsx(Oe.span,{"data-state":RL(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});PL.displayName=TL;var gY="SwitchBubbleInput",AL=d.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=d.useRef(null),l=dt(a,i),c=ib(n),u=Ex(e);return d.useEffect(()=>{const h=a.current;if(!h)return;const p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&g){const v=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(v)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});AL.displayName=gY;function RL(t){return t?"checked":"unchecked"}var LL=IL,yY=PL;const iu=d.forwardRef(({className:t,...e},n)=>o.jsx(LL,{className:Le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(yY,{className:Le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));iu.displayName=LL.displayName;function vS(t,[e,n]){return Math.min(n,Math.max(e,t))}var vY=[" ","Enter","ArrowUp","ArrowDown"],xY=[" ","Enter"],Na="Select",[Zm,Xm,wY]=Im(Na),[wc,KZ]=ir(Na,[wY,tc]),Jm=tc(),[bY,Ro]=wc(Na),[EY,NY]=wc(Na),ML=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:p,disabled:m,required:g,form:v}=t,y=Jm(e),[x,b]=d.useState(null),[w,N]=d.useState(null),[k,A]=d.useState(!1),R=mc(u),[C,_]=xs({prop:r,defaultProp:s??!1,onChange:i,caller:Na}),[j,T]=xs({prop:a,defaultProp:l,onChange:c,caller:Na}),I=d.useRef(null),P=x?v||!!x.closest("form"):!0,[L,Z]=d.useState(new Set),U=Array.from(L).map(F=>F.props.value).join(";");return o.jsx(f2,{...y,children:o.jsxs(bY,{required:g,scope:e,trigger:x,onTriggerChange:b,valueNode:w,onValueNodeChange:N,valueNodeHasChildren:k,onValueNodeHasChildrenChange:A,contentId:Hr(),value:j,onValueChange:T,open:C,onOpenChange:_,dir:R,triggerPointerDownPosRef:I,disabled:m,children:[o.jsx(Zm.Provider,{scope:e,children:o.jsx(EY,{scope:t.__scopeSelect,onNativeOptionAdd:d.useCallback(F=>{Z(K=>new Set(K).add(F))},[]),onNativeOptionRemove:d.useCallback(F=>{Z(K=>{const V=new Set(K);return V.delete(F),V})},[]),children:n})}),P?o.jsxs(iM,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:p,value:j,onChange:F=>T(F.target.value),disabled:m,form:v,children:[j===void 0?o.jsx("option",{value:""}):null,Array.from(L)]},U):null]})})};ML.displayName=Na;var DL="SelectTrigger",OL=d.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Jm(n),a=Ro(DL,n),l=a.disabled||r,c=dt(e,a.onTriggerChange),u=Xm(n),h=d.useRef("touch"),[p,m,g]=aM(y=>{const x=u().filter(N=>!N.disabled),b=x.find(N=>N.value===a.value),w=lM(x,y,b);w!==void 0&&a.onValueChange(w.value)}),v=y=>{l||(a.onOpenChange(!0),g()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return o.jsx(_x,{asChild:!0,...i,children:o.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":oM(a.value)?"":void 0,...s,ref:c,onClick:be(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&v(y)}),onPointerDown:be(s.onPointerDown,y=>{h.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:be(s.onKeyDown,y=>{const x=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(x&&y.key===" ")&&vY.includes(y.key)&&(v(),y.preventDefault())})})})});OL.displayName=DL;var VL="SelectValue",FL=d.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=Ro(VL,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,p=dt(e,c.onValueNodeChange);return Ln(()=>{u(h)},[u,h]),o.jsx(Oe.span,{...l,ref:p,style:{pointerEvents:"none"},children:oM(c.value)?o.jsx(o.Fragment,{children:a}):i})});FL.displayName=VL;var CY="SelectIcon",$L=d.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Oe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});$L.displayName=CY;var _Y="SelectPortal",UL=t=>o.jsx(Qp,{asChild:!0,...t});UL.displayName=_Y;var Ca="SelectContent",zL=d.forwardRef((t,e)=>{const n=Ro(Ca,t.__scopeSelect),[r,s]=d.useState();if(Ln(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Yr.createPortal(o.jsx(BL,{scope:t.__scopeSelect,children:o.jsx(Zm.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(HL,{...t,ref:e})});zL.displayName=Ca;var ts=10,[BL,Lo]=wc(Ca),SY="SelectContentImpl",jY=da("SelectContent.RemoveScroll"),HL=d.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:x,...b}=t,w=Ro(Ca,n),[N,k]=d.useState(null),[A,R]=d.useState(null),C=dt(e,ee=>k(ee)),[_,j]=d.useState(null),[T,I]=d.useState(null),P=Xm(n),[L,Z]=d.useState(!1),U=d.useRef(!1);d.useEffect(()=>{if(N)return Bw(N)},[N]),zw();const F=d.useCallback(ee=>{const[ce,...ve]=P().map(se=>se.ref.current),[X]=ve.slice(-1),ne=document.activeElement;for(const se of ee)if(se===ne||(se==null||se.scrollIntoView({block:"nearest"}),se===ce&&A&&(A.scrollTop=0),se===X&&A&&(A.scrollTop=A.scrollHeight),se==null||se.focus(),document.activeElement!==ne))return},[P,A]),K=d.useCallback(()=>F([_,N]),[F,_,N]);d.useEffect(()=>{L&&K()},[L,K]);const{onOpenChange:V,triggerPointerDownPosRef:D}=w;d.useEffect(()=>{if(N){let ee={x:0,y:0};const ce=X=>{var ne,se;ee={x:Math.abs(Math.round(X.pageX)-(((ne=D.current)==null?void 0:ne.x)??0)),y:Math.abs(Math.round(X.pageY)-(((se=D.current)==null?void 0:se.y)??0))}},ve=X=>{ee.x<=10&&ee.y<=10?X.preventDefault():N.contains(X.target)||V(!1),document.removeEventListener("pointermove",ce),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",ve,{capture:!0})}}},[N,V,D]),d.useEffect(()=>{const ee=()=>V(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[V]);const[$,B]=aM(ee=>{const ce=P().filter(ne=>!ne.disabled),ve=ce.find(ne=>ne.ref.current===document.activeElement),X=lM(ce,ee,ve);X&&setTimeout(()=>X.ref.current.focus())}),O=d.useCallback((ee,ce,ve)=>{const X=!U.current&&!ve;(w.value!==void 0&&w.value===ce||X)&&(j(ee),X&&(U.current=!0))},[w.value]),H=d.useCallback(()=>N==null?void 0:N.focus(),[N]),ie=d.useCallback((ee,ce,ve)=>{const X=!U.current&&!ve;(w.value!==void 0&&w.value===ce||X)&&I(ee)},[w.value]),q=r==="popper"?p0:WL,fe=q===p0?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:x}:{};return o.jsx(BL,{scope:n,content:N,viewport:A,onViewportChange:R,itemRefCallback:O,selectedItem:_,onItemLeave:H,itemTextRefCallback:ie,focusSelectedItem:K,selectedItemText:T,position:r,isPositioned:L,searchRef:$,children:o.jsx(Rm,{as:jY,allowPinchZoom:!0,children:o.jsx(Pm,{asChild:!0,trapped:w.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:be(s,ee=>{var ce;(ce=w.trigger)==null||ce.focus({preventScroll:!0}),ee.preventDefault()}),children:o.jsx(bd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(q,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ee=>ee.preventDefault(),...b,...fe,onPlaced:()=>Z(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:be(b.onKeyDown,ee=>{const ce=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!ce&&ee.key.length===1&&B(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let X=P().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const ne=ee.target,se=X.indexOf(ne);X=X.slice(se+1)}setTimeout(()=>F(X)),ee.preventDefault()}})})})})})})});HL.displayName=SY;var kY="SelectItemAlignedPosition",WL=d.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ro(Ca,n),a=Lo(Ca,n),[l,c]=d.useState(null),[u,h]=d.useState(null),p=dt(e,C=>h(C)),m=Xm(n),g=d.useRef(!1),v=d.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:b,focusSelectedItem:w}=a,N=d.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&y&&x&&b){const C=i.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),j=i.valueNode.getBoundingClientRect(),T=b.getBoundingClientRect();if(i.dir!=="rtl"){const ne=T.left-_.left,se=j.left-ne,ge=C.left-se,Me=C.width+ge,Ee=Math.max(Me,_.width),at=window.innerWidth-ts,ue=vS(se,[ts,Math.max(ts,at-Ee)]);l.style.minWidth=Me+"px",l.style.left=ue+"px"}else{const ne=_.right-T.right,se=window.innerWidth-j.right-ne,ge=window.innerWidth-C.right-se,Me=C.width+ge,Ee=Math.max(Me,_.width),at=window.innerWidth-ts,ue=vS(se,[ts,Math.max(ts,at-Ee)]);l.style.minWidth=Me+"px",l.style.right=ue+"px"}const I=m(),P=window.innerHeight-ts*2,L=y.scrollHeight,Z=window.getComputedStyle(u),U=parseInt(Z.borderTopWidth,10),F=parseInt(Z.paddingTop,10),K=parseInt(Z.borderBottomWidth,10),V=parseInt(Z.paddingBottom,10),D=U+F+L+V+K,$=Math.min(x.offsetHeight*5,D),B=window.getComputedStyle(y),O=parseInt(B.paddingTop,10),H=parseInt(B.paddingBottom,10),ie=C.top+C.height/2-ts,q=P-ie,fe=x.offsetHeight/2,ee=x.offsetTop+fe,ce=U+F+ee,ve=D-ce;if(ce<=ie){const ne=I.length>0&&x===I[I.length-1].ref.current;l.style.bottom="0px";const se=u.clientHeight-y.offsetTop-y.offsetHeight,ge=Math.max(q,fe+(ne?H:0)+se+K),Me=ce+ge;l.style.height=Me+"px"}else{const ne=I.length>0&&x===I[0].ref.current;l.style.top="0px";const ge=Math.max(ie,U+y.offsetTop+(ne?O:0)+fe)+ve;l.style.height=ge+"px",y.scrollTop=ce-ie+y.offsetTop}l.style.margin=`${ts}px 0`,l.style.minHeight=$+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,l,u,y,x,b,i.dir,r]);Ln(()=>N(),[N]);const[k,A]=d.useState();Ln(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const R=d.useCallback(C=>{C&&v.current===!0&&(N(),w==null||w(),v.current=!1)},[N,w]);return o.jsx(TY,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:R,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:o.jsx(Oe.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});WL.displayName=kY;var IY="SelectPopperPosition",p0=d.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ts,...i}=t,a=Jm(n);return o.jsx(Sx,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});p0.displayName=IY;var[TY,mb]=wc(Ca,{}),m0="SelectViewport",qL=d.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Lo(m0,n),a=mb(m0,n),l=dt(e,i.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Zm.Slot,{scope:n,children:o.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:be(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&p){const g=Math.abs(c.current-h.scrollTop);if(g>0){const v=window.innerHeight-ts*2,y=parseFloat(p.style.minHeight),x=parseFloat(p.style.height),b=Math.max(y,x);if(b<v){const w=b+g,N=Math.min(v,w),k=w-N;p.style.height=N+"px",p.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});qL.displayName=m0;var GL="SelectGroup",[PY,AY]=wc(GL),RY=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Hr();return o.jsx(PY,{scope:n,id:s,children:o.jsx(Oe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});RY.displayName=GL;var KL="SelectLabel",QL=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=AY(KL,n);return o.jsx(Oe.div,{id:s.id,...r,ref:e})});QL.displayName=KL;var jp="SelectItem",[LY,YL]=wc(jp),ZL=d.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=Ro(jp,n),c=Lo(jp,n),u=l.value===r,[h,p]=d.useState(i??""),[m,g]=d.useState(!1),v=dt(e,w=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,w,r,s)}),y=Hr(),x=d.useRef("touch"),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(LY,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:d.useCallback(w=>{p(N=>N||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(Zm.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(Oe.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:be(a.onFocus,()=>g(!0)),onBlur:be(a.onBlur,()=>g(!1)),onClick:be(a.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:be(a.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:be(a.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:be(a.onPointerMove,w=>{var N;x.current=w.pointerType,s?(N=c.onItemLeave)==null||N.call(c):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(a.onPointerLeave,w=>{var N;w.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:be(a.onKeyDown,w=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&w.key===" "||(xY.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});ZL.displayName=jp;var ou="SelectItemText",XL=d.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=Ro(ou,n),l=Lo(ou,n),c=YL(ou,n),u=NY(ou,n),[h,p]=d.useState(null),m=dt(e,b=>p(b),c.onItemTextChange,b=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,b,c.value,c.disabled)}),g=h==null?void 0:h.textContent,v=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=u;return Ln(()=>(y(v),()=>x(v)),[y,x,v]),o.jsxs(o.Fragment,{children:[o.jsx(Oe.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Yr.createPortal(i.children,a.valueNode):null]})});XL.displayName=ou;var JL="SelectItemIndicator",eM=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return YL(JL,n).isSelected?o.jsx(Oe.span,{"aria-hidden":!0,...r,ref:e}):null});eM.displayName=JL;var g0="SelectScrollUpButton",tM=d.forwardRef((t,e)=>{const n=Lo(g0,t.__scopeSelect),r=mb(g0,t.__scopeSelect),[s,i]=d.useState(!1),a=dt(e,r.onScrollButtonChange);return Ln(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(rM,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});tM.displayName=g0;var y0="SelectScrollDownButton",nM=d.forwardRef((t,e)=>{const n=Lo(y0,t.__scopeSelect),r=mb(y0,t.__scopeSelect),[s,i]=d.useState(!1),a=dt(e,r.onScrollButtonChange);return Ln(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(rM,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});nM.displayName=y0;var rM=d.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Lo("SelectScrollButton",n),a=d.useRef(null),l=Xm(n),c=d.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Ln(()=>{var h;const u=l().find(p=>p.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(Oe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:be(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:be(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:be(s.onPointerLeave,()=>{c()})})}),MY="SelectSeparator",sM=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Oe.div,{"aria-hidden":!0,...r,ref:e})});sM.displayName=MY;var v0="SelectArrow",DY=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Jm(n),i=Ro(v0,n),a=Lo(v0,n);return i.open&&a.position==="popper"?o.jsx(jx,{...s,...r,ref:e}):null});DY.displayName=v0;var OY="SelectBubbleInput",iM=d.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=d.useRef(null),i=dt(r,s),a=ib(e);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&h){const p=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(p)}},[a,e]),o.jsx(Oe.select,{...n,style:{...p2,...n.style},ref:i,defaultValue:e})});iM.displayName=OY;function oM(t){return t===""||t===void 0}function aM(t){const e=Hs(t),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function lM(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=VY(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function VY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var FY=ML,cM=OL,$Y=FL,UY=$L,zY=UL,uM=zL,BY=qL,dM=QL,hM=ZL,HY=XL,WY=eM,fM=tM,pM=nM,mM=sM;const eg=FY,tg=$Y,Ud=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(cM,{ref:r,className:Le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-0 focus-visible:ring-0 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(UY,{asChild:!0,children:o.jsx(Mw,{className:"h-4 w-4 opacity-50"})})]}));Ud.displayName=cM.displayName;const gM=d.forwardRef(({className:t,...e},n)=>o.jsx(fM,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(JB,{className:"h-4 w-4"})}));gM.displayName=fM.displayName;const yM=d.forwardRef(({className:t,...e},n)=>o.jsx(pM,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(Mw,{className:"h-4 w-4"})}));yM.displayName=pM.displayName;const zd=d.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(zY,{children:o.jsxs(uM,{ref:s,className:Le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(gM,{}),o.jsx(BY,{className:Le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(yM,{})]})}));zd.displayName=uM.displayName;const qY=d.forwardRef(({className:t,...e},n)=>o.jsx(dM,{ref:n,className:Le("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));qY.displayName=dM.displayName;const cn=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(hM,{ref:r,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(WY,{children:o.jsx(Md,{className:"h-4 w-4"})})}),o.jsx(HY,{children:e})]}));cn.displayName=hM.displayName;const GY=d.forwardRef(({className:t,...e},n)=>o.jsx(mM,{ref:n,className:Le("-mx-1 my-1 h-px bg-muted",t),...e}));GY.displayName=mM.displayName;const KY=()=>{const t=_n(),{isDarkMode:e,setDarkMode:n}=Kt(),[r,s]=d.useState(null),[i,a]=d.useState(!0),[l,c]=d.useState({notifications:!0,language:"en",sound:!0,emailNotifications:!0,pushNotifications:!0}),[u,h]=d.useState(!1),[p,m]=d.useState(!1),[g,v]=d.useState(!1),[y,x]=d.useState(!1),[b,w]=d.useState(""),[N,k]=d.useState(""),[A,R]=d.useState(""),[C,_]=d.useState(!1),[j,T]=d.useState(!1),[I,P]=d.useState(!1),[L,Z]=d.useState(!1),[U,F]=d.useState(""),[K,V]=d.useState(!1),[D,$]=d.useState(!1),[B,O]=d.useState(!1);d.useEffect(()=>{const X=Et.onAuthStateChanged(async ne=>{if(ne){s(ne),await H(ne.uid);const se=await wa(Nt(Ve,"users",ne.uid));if(se.exists()){const ge=se.data();$(ge.twoFactorEnabled||!1)}}else t("/")});return()=>X()},[t]);const H=async X=>{a(!0);try{const ne=await wa(Nt(Ve,"users",X));if(ne.exists()){const se=ne.data();se.settings&&(c(se.settings),se.settings.darkMode!==void 0&&n(se.settings.darkMode))}}catch(ne){console.error("Error loading settings:",ne),z.error("Failed to load settings")}finally{a(!1)}},ie=async(X,ne)=>{if(r)try{const se={...l,[X]:ne};c(se);const ge=Nt(Ve,"users",r.uid);await An(ge,{settings:se,updatedAt:new Date}),X==="pushNotifications"&&ne&&await fe(),X==="sound"&&ne&&new Audio("/notification.mp3").play().catch(()=>{}),z.success(`${X.replace(/([A-Z])/g," $1").toLowerCase()} updated`)}catch(se){console.error("Error updating settings:",se),z.error("Failed to update settings"),c(ge=>({...ge,[X]:!ne}))}},q=async X=>{if(n(X),!!r)try{const ne={...l,darkMode:X};c(ne);const se=Nt(Ve,"users",r.uid);await An(se,{settings:ne,updatedAt:new Date}),z.success(`Dark mode ${X?"enabled":"disabled"}`)}catch(ne){console.error("Error updating dark mode:",ne),z.error("Failed to update dark mode")}},fe=async()=>{"Notification"in window&&await Notification.requestPermission()!=="granted"&&(z.error("Notification permission denied"),c(ne=>({...ne,pushNotifications:!1})))},ee=async X=>{if(X.preventDefault(),N!==A){z.error("New passwords do not match");return}if(N.length<6){z.error("Password must be at least 6 characters long");return}Z(!0);try{const ne=ka.credential(r.email,b);await J8(r,ne),await r$(r,N),z.success("Password updated successfully"),h(!1),w(""),k(""),R("")}catch(ne){console.error("Error changing password:",ne),ne.code==="auth/wrong-password"?z.error("Current password is incorrect"):ne.code==="auth/weak-password"?z.error("New password is too weak"):z.error("Failed to update password")}finally{Z(!1)}},ce=async()=>{O(!0);try{const X=Nt(Ve,"users",r.uid);await An(X,{twoFactorEnabled:!0,updatedAt:new Date}),$(!0),z.success("Two-factor authentication enabled"),x(!1)}catch(X){console.error("Error setting up 2FA:",X),z.error("Failed to setup two-factor authentication")}finally{O(!1)}},ve=async()=>{if(U!=="DELETE"){z.error("Please type DELETE to confirm");return}V(!0);try{const X=Nt(Ve,"users",r.uid);await Aw(X),await a$(r),z.success("Account deleted successfully"),t("/")}catch(X){console.error("Error deleting account:",X),z.error("Failed to delete account. Please try again.")}finally{V(!1)}};return r?o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Dn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Settings"})]})})})}),o.jsx("div",{className:"container mx-auto px-4 py-6 space-y-6",children:i?o.jsx(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:o.jsxs(Ae,{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading settings..."})]})}):o.jsxs(o.Fragment,{children:[o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(xt,{children:o.jsxs(wt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(IC,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Notifications"})]})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(IC,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Re,{className:"text-gray-800",children:"Push Notifications"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Receive notifications on your device"})]})]}),o.jsx(iu,{checked:l.pushNotifications,onCheckedChange:X=>ie("pushNotifications",X)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ks,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Re,{className:"text-gray-800",children:"Email Notifications"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Receive updates via email"})]})]}),o.jsx(iu,{checked:l.emailNotifications,onCheckedChange:X=>ie("emailNotifications",X)})]})]})]}),o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(xt,{children:o.jsxs(wt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(lp,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Appearance"})]})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[e?o.jsx(lp,{className:"w-5 h-5 text-gray-500"}):o.jsx(Vw,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Re,{className:"text-gray-800",children:"Dark Mode"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Use dark theme"})]})]}),o.jsx(iu,{checked:e,onCheckedChange:q})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(zP,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Re,{className:"text-gray-800",children:"Language"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Choose your preferred language"})]})]}),o.jsxs(eg,{value:l.language,onValueChange:X=>ie("language",X),children:[o.jsx(Ud,{className:"w-32 bg-white border-gray-300",children:o.jsx(tg,{})}),o.jsxs(zd,{children:[o.jsx(cn,{value:"en",children:"English"}),o.jsx(cn,{value:"hi",children:"Hindi"}),o.jsx(cn,{value:"bn",children:"Bengali"})]})]})]})]})]}),o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(xt,{children:o.jsxs(wt,{className:"text-gray-800 flex items-center space-x-2",children:[l.sound?o.jsx(LC,{className:"w-5 h-5 text-orange-500"}):o.jsx(vH,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Sound & Vibration"})]})}),o.jsx(Ae,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(LC,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Re,{className:"text-gray-800",children:"Sound Effects"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Play sounds for notifications"})]})]}),o.jsx(iu,{checked:l.sound,onCheckedChange:X=>ie("sound",X)})]})})]}),o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(xt,{children:o.jsxs(wt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(ia,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Privacy & Security"})]})}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs(W,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>h(!0),children:[o.jsx(BP,{className:"w-4 h-4 mr-2"}),"Change Password"]}),o.jsxs(W,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>x(!0),children:[o.jsx(up,{className:"w-4 h-4 mr-2"}),"Two-Factor Authentication",D&&o.jsx("span",{className:"ml-2 text-orange-500",children:"✓ Enabled"})]}),o.jsxs(W,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>m(!0),children:[o.jsx(ia,{className:"w-4 h-4 mr-2"}),"Privacy Policy"]})]})]}),o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(xt,{children:o.jsx(wt,{className:"text-gray-800",children:"Account"})}),o.jsx(Ae,{className:"space-y-4",children:o.jsxs(W,{variant:"outline",className:"w-full justify-start text-red-500 border-red-500 hover:bg-red-500 hover:text-white",onClick:()=>v(!0),children:[o.jsx(Dd,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})}),o.jsx(Os,{open:u,onOpenChange:h,children:o.jsxs(ds,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(hs,{children:[o.jsx(fr,{className:"text-gray-900",children:"Change Password"}),o.jsx(zr,{className:"text-gray-600",children:"Enter your current password and choose a new one."})]}),o.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"currentPassword",className:"text-gray-900",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Be,{id:"currentPassword",type:C?"text":"password",value:b,onChange:X=>w(X.target.value),className:"pr-10",required:!0}),o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>_(!C),children:C?o.jsx(uf,{className:"h-4 w-4"}):o.jsx(Cu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"newPassword",className:"text-gray-900",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Be,{id:"newPassword",type:j?"text":"password",value:N,onChange:X=>k(X.target.value),className:"pr-10",required:!0}),o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>T(!j),children:j?o.jsx(uf,{className:"h-4 w-4"}):o.jsx(Cu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"confirmPassword",className:"text-gray-900",children:"Confirm New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Be,{id:"confirmPassword",type:I?"text":"password",value:A,onChange:X=>R(X.target.value),className:"pr-10",required:!0}),o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>P(!I),children:I?o.jsx(uf,{className:"h-4 w-4"}):o.jsx(Cu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(W,{type:"button",variant:"outline",onClick:()=>h(!1),className:"flex-1",children:"Cancel"}),o.jsx(W,{type:"submit",disabled:L,className:"flex-1",children:L?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Password"})]})]})]})}),o.jsx(Os,{open:p,onOpenChange:m,children:o.jsxs(ds,{className:"bg-white/95 backdrop-blur-md border-gray-700 max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsx(hs,{children:o.jsx(fr,{className:"text-gray-900",children:"Privacy Policy"})}),o.jsxs("div",{className:"space-y-4 text-gray-700",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"PickNGo Privacy Policy"}),o.jsx("p",{className:"text-sm",children:"This Privacy Policy describes how PickNGo collects, uses, and protects your personal information."}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Information We Collect"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Account information (name, email, phone number)"}),o.jsx("li",{children:"Order history and preferences"}),o.jsx("li",{children:"Location data for delivery services"}),o.jsx("li",{children:"Device information and usage analytics"})]}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"How We Use Your Information"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Process and deliver your orders"}),o.jsx("li",{children:"Send order updates and notifications"}),o.jsx("li",{children:"Improve our services and user experience"}),o.jsx("li",{children:"Provide customer support"})]}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Data Security"}),o.jsx("p",{className:"text-sm",children:"We implement industry-standard security measures to protect your personal information. Your data is encrypted and stored securely."}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Your Rights"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Access and update your personal information"}),o.jsx("li",{children:"Delete your account and associated data"}),o.jsx("li",{children:"Opt-out of marketing communications"}),o.jsx("li",{children:"Request data portability"})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Last updated: ",new Date().toLocaleDateString()]})]}),o.jsx(W,{onClick:()=>m(!1),className:"w-full",children:"Close"})]})}),o.jsx(Os,{open:y,onOpenChange:x,children:o.jsxs(ds,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(hs,{children:[o.jsx(fr,{className:"text-gray-900",children:"Two-Factor Authentication"}),o.jsx(zr,{className:"text-gray-600",children:D?"Two-factor authentication is currently enabled for your account.":"Add an extra layer of security to your account with two-factor authentication."})]}),o.jsxs("div",{className:"space-y-4",children:[D?o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ia,{className:"w-8 h-8 text-green-600"})}),o.jsx("p",{className:"text-gray-700",children:"Your account is protected with 2FA"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(up,{className:"w-8 h-8 text-blue-600"})}),o.jsx("p",{className:"text-gray-700",children:"Enable two-factor authentication for enhanced security"})]}),o.jsx(W,{onClick:ce,disabled:B,className:"w-full",children:B?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"mr-2 h-4 w-4 animate-spin"}),"Setting up 2FA..."]}):"Enable 2FA"})]}),o.jsx(W,{variant:"outline",onClick:()=>x(!1),className:"w-full",children:"Close"})]})]})}),o.jsx(Os,{open:g,onOpenChange:v,children:o.jsxs(ds,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(hs,{children:[o.jsx(fr,{className:"text-red-600",children:"Delete Account"}),o.jsx(zr,{className:"text-gray-600",children:"This action cannot be undone. All your data will be permanently deleted."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[o.jsxs("p",{className:"text-red-800 text-sm",children:[o.jsx("strong",{children:"Warning:"})," Deleting your account will:"]}),o.jsxs("ul",{className:"text-red-700 text-sm mt-2 space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Permanently delete all your personal data"}),o.jsx("li",{children:"Cancel any active orders"}),o.jsx("li",{children:"Remove your order history"}),o.jsx("li",{children:"Delete your saved addresses and preferences"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Re,{htmlFor:"deleteConfirmation",className:"text-gray-900",children:'Type "DELETE" to confirm'}),o.jsx(Be,{id:"deleteConfirmation",value:U,onChange:X=>F(X.target.value),placeholder:"DELETE",className:"text-center font-mono"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(W,{variant:"outline",onClick:()=>v(!1),className:"flex-1",children:"Cancel"}),o.jsx(W,{variant:"destructive",onClick:ve,disabled:U!=="DELETE"||K,className:"flex-1",children:K?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Account"})]})]})]})})]}):o.jsx("div",{children:"Loading..."})},QY=()=>{const t=_n(),{isDarkMode:e,toggleDarkMode:n}=Kt(),{selectedAddress:r,setSelectedAddress:s}=ig(),[i,a]=d.useState(null),[l,c]=d.useState([]),[u,h]=d.useState(!1),[p,m]=d.useState(null),[g,v]=d.useState(!0),[y,x]=d.useState(null),[b,w]=d.useState({type:"home",name:"",phone:"",address:"",landmark:"",city:"",state:"",pincode:"",isDefault:!1});d.useEffect(()=>{const I=Et.onAuthStateChanged(async P=>{P?(a(P),await N(P.uid)):t("/")});return()=>I()},[t]),d.useEffect(()=>{const I=l.find(P=>P.isDefault);I&&x(I.id)},[l]);const N=async I=>{v(!0);try{const P=tn(Ve,"addresses"),L=kr(P,Pr("userId","==",I)),Z=await Xn(L),U=[];Z.forEach(F=>{U.push({id:F.id,...F.data()})}),U.sort((F,K)=>{var $,B;if(F.isDefault&&!K.isDefault)return-1;if(!F.isDefault&&K.isDefault)return 1;const V=($=F.createdAt)!=null&&$.toDate?F.createdAt.toDate():0;return((B=K.createdAt)!=null&&B.toDate?K.createdAt.toDate():0)-V}),c(U)}catch(P){console.error("Error loading addresses:",P),z.error("Failed to load addresses")}finally{v(!1)}},k=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async I=>{const{latitude:P,longitude:L}=I.coords;try{const U=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${P}&lon=${L}`)).json();if(U&&U.address){const F=U.address;w({type:"other",name:F.road||"Current Location",phone:"",address:`${F.road||""}, ${F.suburb||""}`,landmark:"",city:F.city||F.town||F.village,state:F.state,pincode:F.postcode,isDefault:!1}),m(null),h(!0)}else z.error("Could not determine address from location.")}catch(Z){console.error("Error fetching address:",Z),z.error("Could not fetch address from location.")}},I=>{console.error("Geolocation error:",I),z.error("Could not access your location.")}):z.error("Geolocation is not supported by your browser.")},A=()=>{w({type:"home",name:"",phone:"",address:"",landmark:"",city:"",state:"",pincode:"",isDefault:!1}),m(null)},R=async()=>{if(i){if(!b.name||!b.phone||!b.address||!b.city||!b.state||!b.pincode){z.error("Please fill in all required fields");return}try{if(p){const I=Nt(Ve,"addresses",p.id);await An(I,{...b,updatedAt:new Date}),z.success("Address updated successfully!")}else{const I={...b,userId:i.uid,createdAt:new Date};await Es(tn(Ve,"addresses"),I),z.success("Address added successfully!")}h(!1),A(),await N(i.uid)}catch(I){console.error("Error saving address:",I),z.error("Failed to save address")}}},C=I=>{m(I),w(I),h(!0)},_=async I=>{if(i&&confirm("Are you sure you want to delete this address?"))try{await Aw(Nt(Ve,"addresses",I)),z.success("Address deleted successfully!"),await N(i.uid)}catch(P){console.error("Error deleting address:",P),z.error("Failed to delete address")}},j=async I=>{if(i)try{const P=tn(Ve,"addresses"),L=kr(P,Pr("userId","==",i.uid)),U=(await Xn(L)).docs.map(K=>An(K.ref,{isDefault:!1}));await Promise.all(U),await An(Nt(Ve,"addresses",I),{isDefault:!0});const F=l.find(K=>K.id===I);F&&s(F),z.success("Default address updated!"),await N(i.uid),x(I)}catch(P){console.error("Error setting default address:",P),z.error("Failed to update default address")}},T=I=>{switch(I){case"home":return o.jsx(Dw,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(Lw,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(od,{className:"w-5 h-5 text-gray-500"})}};return i?o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Dn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"My Addresses"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Manage your delivery addresses"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[o.jsxs(Os,{open:u,onOpenChange:h,children:[o.jsx(qW,{asChild:!0,children:o.jsxs(W,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(cp,{className:"w-4 h-4 mr-2"}),"Add New Address"]})}),o.jsxs(ds,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsxs(hs,{children:[o.jsx(fr,{className:e?"text-white":"text-gray-900",children:p?"Edit Address":"Add New Address"}),o.jsx(zr,{className:e?"text-gray-300":"text-gray-600",children:p?"Update your address details":"Add a new delivery address"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"type",className:e?"text-white":"text-gray-900",children:"Address Type"}),o.jsxs(eg,{value:b.type,onValueChange:I=>w(P=>({...P,type:I})),children:[o.jsx(Ud,{className:`${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:o.jsx(tg,{})}),o.jsxs(zd,{className:e?"bg-gray-700 border-gray-600":"bg-white border-gray-300",children:[o.jsx(cn,{value:"home",children:"Home"}),o.jsx(cn,{value:"work",children:"Work"}),o.jsx(cn,{value:"other",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"name",className:e?"text-white":"text-gray-900",children:"Full Name *"}),o.jsx(Be,{id:"name",value:b.name,onChange:I=>w(P=>({...P,name:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"phone",className:e?"text-white":"text-gray-900",children:"Phone Number *"}),o.jsx(Be,{id:"phone",value:b.phone,onChange:I=>w(P=>({...P,phone:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your phone number"})]})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"address",className:e?"text-white":"text-gray-900",children:"Address *"}),o.jsx(Be,{id:"address",value:b.address,onChange:I=>w(P=>({...P,address:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your address"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"landmark",className:e?"text-white":"text-gray-900",children:"Landmark"}),o.jsx(Be,{id:"landmark",value:b.landmark,onChange:I=>w(P=>({...P,landmark:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter a nearby landmark (optional)"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"city",className:e?"text-white":"text-gray-900",children:"City *"}),o.jsx(Be,{id:"city",value:b.city,onChange:I=>w(P=>({...P,city:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter city"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"state",className:e?"text-white":"text-gray-900",children:"State *"}),o.jsx(Be,{id:"state",value:b.state,onChange:I=>w(P=>({...P,state:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter state"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"pincode",className:e?"text-white":"text-gray-900",children:"Pincode *"}),o.jsx(Be,{id:"pincode",value:b.pincode,onChange:I=>w(P=>({...P,pincode:I.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter pincode"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"isDefault",checked:b.isDefault,onChange:I=>w(P=>({...P,isDefault:I.target.checked})),className:"rounded"}),o.jsx(Re,{htmlFor:"isDefault",className:e?"text-white":"text-gray-900",children:"Set as default address"})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx(W,{variant:"outline",onClick:()=>h(!1),className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx(W,{onClick:R,className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:p?"Update Address":"Add Address"})]})]})]})]}),o.jsxs(W,{variant:"outline",onClick:k,className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:[o.jsx(en,{className:"w-4 h-4 mr-2"}),"Use Current Location"]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Be,{placeholder:"Try JP Nagar, Siri Gardenia, etc.",className:`pl-10 h-12 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h2",{className:"text-xs font-semibold mb-2 text-gray-400",children:"SAVED ADDRESSES"}),g?o.jsx("p",{className:e?"text-gray-300":"text-gray-600",children:"Loading addresses..."}):l.length===0?o.jsx("p",{className:e?"text-gray-300":"text-gray-600",children:"No saved addresses."}):o.jsx("div",{className:"space-y-4",children:l.map(I=>o.jsxs("div",{className:`border rounded-lg p-4 transition-colors ${e?"border-gray-700 hover:bg-gray-800":"border-gray-200 hover:bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[o.jsx("div",{className:"mt-1",children:T(I.type)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h3",{className:`font-bold capitalize ${e?"text-white":"text-gray-900"}`,children:I.type}),(r==null?void 0:r.id)===I.id&&o.jsxs(It,{className:"bg-pickngo-orange-100 text-pickngo-orange-700 text-xs",children:[o.jsx(Md,{className:"w-3 h-3 mr-1"}),"CURRENTLY SELECTED"]}),I.isDefault&&o.jsxs(It,{className:"bg-green-100 text-green-700 text-xs",children:[o.jsx(Rr,{className:"w-3 h-3 mr-1"}),"DEFAULT"]})]}),o.jsx("p",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:I.name}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:I.phone}),o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:[I.address,", ",I.city,", ",I.state," - ",I.pincode]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>C(I),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Ow,{className:"w-4 h-4"})}),o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>_(I.id),className:e?"text-gray-300 hover:text-red-400":"text-gray-600 hover:text-red-500",children:o.jsx(Dd,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[!I.isDefault&&o.jsx(W,{variant:"outline",size:"sm",onClick:()=>j(I.id),className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Set as Default"}),o.jsx(W,{size:"sm",onClick:()=>{s(I),z.success("Address selected successfully!")},className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:"Use This Address"})]})]},I.id))})]})]})]}):o.jsx("div",{className:"text-center p-8",children:"Loading..."})},YY=()=>{const t=_n(),{isDarkMode:e}=Kt();return o.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-6xl font-bold text-gray-800 dark:text-white mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8",children:"Page not found"}),o.jsx(W,{onClick:()=>t("/"),className:"bg-blue-600 hover:bg-blue-700",children:"Go Home"})]})})},ZY=[{name:"For You",icon:o.jsx(UP,{className:"w-6 h-6"})},{name:"Grocery",icon:o.jsx("img",{src:"https://img.icons8.com/color/48/grocery-bag.png",alt:"grocery",className:"w-8 h-8"})},{name:"Fashion",icon:o.jsx(dH,{className:"w-6 h-6"})},{name:"Appliances",icon:o.jsx(gH,{className:"w-6 h-6"})},{name:"Mobiles",icon:o.jsx(up,{className:"w-6 h-6"})},{name:"Electronics",icon:o.jsx(tH,{className:"w-6 h-6"})},{name:"Smart Gadgets",icon:o.jsx(wH,{className:"w-6 h-6"})},{name:"Home",icon:o.jsx(hH,{className:"w-6 h-6"})},{name:"Beauty & Personal Care",icon:o.jsx(sH,{className:"w-6 h-6"})}],XY=t=>t.icon?t.icon.startsWith("http")||t.icon.startsWith("data:")?o.jsx("img",{src:t.icon,alt:t.displayName||t.name,className:"w-full h-full object-contain p-2",onError:e=>{var n;e.currentTarget.style.display="none",(n=e.currentTarget.nextElementSibling)==null||n.classList.remove("hidden")}}):o.jsx("span",{className:"text-3xl flex items-center justify-center w-full h-full",children:t.icon}):o.jsx("span",{className:"text-3xl flex items-center justify-center w-full h-full",children:"📦"}),JY=({categories:t,onSubcategoryClick:e})=>{const n=t.filter(c=>c.subcategory==="staples"),r=t.filter(c=>c.subcategory==="snacks"),s=t.filter(c=>c.subcategory==="beverages"),i=t.filter(c=>c.subcategory==="personal_care"),a=t.filter(c=>c.subcategory==="household"),l=[{title:"Staples",items:n},{title:"Snacks & Beverages",items:[...r,...s]},{title:"Personal Care",items:i},{title:"Household",items:a}].filter(c=>c.items.length>0);return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-blue-600 dark:text-blue-400 flex items-center",children:["Grocery ",o.jsx(FP,{className:"w-6 h-6"})]}),o.jsx("img",{src:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=200",alt:"Grocery Banner",className:"rounded-lg h-12 object-cover"})]}),l.map((c,u)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:c.title}),o.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-6",children:c.items.map((h,p)=>o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>e(h.subcategory),children:[o.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full w-20 h-20 mx-auto flex items-center justify-center overflow-hidden mb-2",children:XY(h)}),o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:h.displayName||h.name})]},h.id||p))})]},u))]})},eZ=({categoryName:t})=>o.jsxs("div",{className:"text-center p-8 flex flex-col items-center justify-center h-full",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 dark:text-white",children:t}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Products coming soon!"})]}),tZ=()=>{const t=_n(),{isDarkMode:e,toggleDarkMode:n}=Kt(),[r,s]=d.useState("Grocery"),[i,a]=d.useState([]),[l,c]=d.useState(!0);d.useEffect(()=>{(async()=>{try{const g=(await _o(Ue.DAILY_ESSENTIAL)).filter(v=>v.subcategory!=="all");a(g)}catch(m){console.error("Error fetching grocery categories:",m)}finally{c(!1)}})()},[]);const u=p=>{t("/daily-essential",{state:{subcategory:p}})},h=()=>{switch(r){case"Grocery":return l?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):o.jsx(JY,{categories:i,onSubcategoryClick:u});default:return o.jsx(eZ,{categoryName:r})}};return o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"All Categories"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Ei,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(VP,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(Ds,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})]})]})}),o.jsxs("div",{className:"flex",children:[o.jsx("aside",{className:"w-28 bg-gray-50 dark:bg-gray-800 h-screen-minus-header fixed top-16 left-0 overflow-y-auto pb-16",children:o.jsx("nav",{children:o.jsx("ul",{children:ZY.map((p,m)=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>s(p.name),className:`w-full text-center p-3 text-sm font-medium border-l-4 ${r===p.name?"border-blue-500 bg-white dark:bg-gray-700 text-blue-500 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx("div",{className:"text-2xl mb-1 mx-auto flex justify-center items-center h-8",children:p.icon}),o.jsx("span",{className:"text-xs",children:p.name})]})},m))})})}),o.jsx("main",{className:"ml-28 p-4 flex-1 mb-16",children:h()})]})]})};var ng="Collapsible",[nZ,vM]=ir(ng),[rZ,gb]=nZ(ng),xM=d.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:a,...l}=t,[c,u]=xs({prop:r,defaultProp:s??!1,onChange:a,caller:ng});return o.jsx(rZ,{scope:n,disabled:i,contentId:Hr(),open:c,onOpenToggle:d.useCallback(()=>u(h=>!h),[u]),children:o.jsx(Oe.div,{"data-state":vb(c),"data-disabled":i?"":void 0,...l,ref:e})})});xM.displayName=ng;var wM="CollapsibleTrigger",bM=d.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=gb(wM,n);return o.jsx(Oe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":vb(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:be(t.onClick,s.onOpenToggle)})});bM.displayName=wM;var yb="CollapsibleContent",EM=d.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=gb(yb,t.__scopeCollapsible);return o.jsx(Zr,{present:n||s.open,children:({present:i})=>o.jsx(sZ,{...r,ref:e,present:i})})});EM.displayName=yb;var sZ=d.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,a=gb(yb,n),[l,c]=d.useState(r),u=d.useRef(null),h=dt(e,u),p=d.useRef(0),m=p.current,g=d.useRef(0),v=g.current,y=a.open||l,x=d.useRef(y),b=d.useRef(void 0);return d.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),Ln(()=>{const w=u.current;if(w){b.current=b.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const N=w.getBoundingClientRect();p.current=N.height,g.current=N.width,x.current||(w.style.transitionDuration=b.current.transitionDuration,w.style.animationName=b.current.animationName),c(r)}},[a.open,r]),o.jsx(Oe.div,{"data-state":vb(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...i,ref:h,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:y&&s})});function vb(t){return t?"open":"closed"}var iZ=xM,oZ=bM,aZ=EM,Cs="Accordion",lZ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[xb,cZ,uZ]=Im(Cs),[rg,QZ]=ir(Cs,[uZ,vM]),wb=vM(),NM=de.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return o.jsx(xb.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?o.jsx(pZ,{...i,ref:e}):o.jsx(fZ,{...s,ref:e})})});NM.displayName=Cs;var[CM,dZ]=rg(Cs),[_M,hZ]=rg(Cs,{collapsible:!1}),fZ=de.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...a}=t,[l,c]=xs({prop:n,defaultProp:r??"",onChange:s,caller:Cs});return o.jsx(CM,{scope:t.__scopeAccordion,value:de.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:de.useCallback(()=>i&&c(""),[i,c]),children:o.jsx(_M,{scope:t.__scopeAccordion,collapsible:i,children:o.jsx(SM,{...a,ref:e})})})}),pZ=de.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[a,l]=xs({prop:n,defaultProp:r??[],onChange:s,caller:Cs}),c=de.useCallback(h=>l((p=[])=>[...p,h]),[l]),u=de.useCallback(h=>l((p=[])=>p.filter(m=>m!==h)),[l]);return o.jsx(CM,{scope:t.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:o.jsx(_M,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(SM,{...i,ref:e})})})}),[mZ,sg]=rg(Cs),SM=de.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...a}=t,l=de.useRef(null),c=dt(l,e),u=cZ(n),p=mc(s)==="ltr",m=be(t.onKeyDown,g=>{var _;if(!lZ.includes(g.key))return;const v=g.target,y=u().filter(j=>{var T;return!((T=j.ref.current)!=null&&T.disabled)}),x=y.findIndex(j=>j.ref.current===v),b=y.length;if(x===-1)return;g.preventDefault();let w=x;const N=0,k=b-1,A=()=>{w=x+1,w>k&&(w=N)},R=()=>{w=x-1,w<N&&(w=k)};switch(g.key){case"Home":w=N;break;case"End":w=k;break;case"ArrowRight":i==="horizontal"&&(p?A():R());break;case"ArrowDown":i==="vertical"&&A();break;case"ArrowLeft":i==="horizontal"&&(p?R():A());break;case"ArrowUp":i==="vertical"&&R();break}const C=w%b;(_=y[C].ref.current)==null||_.focus()});return o.jsx(mZ,{scope:n,disabled:r,direction:s,orientation:i,children:o.jsx(xb.Slot,{scope:n,children:o.jsx(Oe.div,{...a,"data-orientation":i,ref:c,onKeyDown:r?void 0:m})})})}),kp="AccordionItem",[gZ,bb]=rg(kp),jM=de.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=sg(kp,n),a=dZ(kp,n),l=wb(n),c=Hr(),u=r&&a.value.includes(r)||!1,h=i.disabled||t.disabled;return o.jsx(gZ,{scope:n,open:u,disabled:h,triggerId:c,children:o.jsx(iZ,{"data-orientation":i.orientation,"data-state":RM(u),...l,...s,ref:e,disabled:h,open:u,onOpenChange:p=>{p?a.onItemOpen(r):a.onItemClose(r)}})})});jM.displayName=kp;var kM="AccordionHeader",IM=de.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=sg(Cs,n),i=bb(kM,n);return o.jsx(Oe.h3,{"data-orientation":s.orientation,"data-state":RM(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});IM.displayName=kM;var x0="AccordionTrigger",TM=de.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=sg(Cs,n),i=bb(x0,n),a=hZ(x0,n),l=wb(n);return o.jsx(xb.ItemSlot,{scope:n,children:o.jsx(oZ,{"aria-disabled":i.open&&!a.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...r,ref:e})})});TM.displayName=x0;var PM="AccordionContent",AM=de.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=sg(Cs,n),i=bb(PM,n),a=wb(n);return o.jsx(aZ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});AM.displayName=PM;function RM(t){return t?"open":"closed"}var yZ=NM,vZ=jM,xZ=IM,LM=TM,MM=AM;const xS=yZ,DM=d.forwardRef(({className:t,...e},n)=>o.jsx(vZ,{ref:n,className:Le("border-b",t),...e}));DM.displayName="AccordionItem";const OM=d.forwardRef(({className:t,children:e,...n},r)=>o.jsx(xZ,{className:"flex",children:o.jsxs(LM,{ref:r,className:Le("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,o.jsx(Mw,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));OM.displayName=LM.displayName;const VM=d.forwardRef(({className:t,children:e,...n},r)=>o.jsx(MM,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:Le("pb-4 pt-0",t),children:e})}));VM.displayName=MM.displayName;const wZ=()=>{const t=_n(),{isDarkMode:e,toggleDarkMode:n}=Kt(),[r,s]=d.useState(""),i=[{category:"Ordering",questions:[{question:"How do I place an order?",answer:"To place an order, simply browse our menu, add items to your cart, and proceed to checkout. You can choose your delivery address, payment method, and add a tip before confirming your order."},{question:"What payment methods do you accept?",answer:"We accept Cash on Delivery (COD), UPI, and Credit/Debit Cards. All online payments are secure and encrypted."},{question:"Can I modify or cancel my order?",answer:"You can modify or cancel your order within 5 minutes of placing it. After that, please contact our customer support team."},{question:"What is the minimum order amount?",answer:"There is no minimum order amount, but orders above ₹299 qualify for free delivery. Orders below ₹299 have a delivery fee of ₹29."}]},{category:"Delivery",questions:[{question:"How long does delivery take?",answer:"Delivery typically takes 25-35 minutes depending on your location and current order volume. You can track your order in real-time through our app."},{question:"Do you deliver to my area?",answer:"We deliver to most areas within our service radius. Enter your address during checkout to check if we deliver to your location."},{question:"Can I schedule delivery for later?",answer:"Currently, we offer immediate delivery only. We are working on scheduled delivery options for future updates."},{question:"What if my order is delayed?",answer:"If your order is delayed, you will receive real-time updates. For significant delays, we may offer compensation or a refund."}]},{category:"Account & App",questions:[{question:"How do I create an account?",answer:"You can create an account using your email address or sign up with Google. This allows you to save addresses, track orders, and view order history."},{question:"I forgot my password. How do I reset it?",answer:'Click on "Forgot Password" on the login screen and enter your email address. You will receive a password reset link.'},{question:"How do I update my delivery address?",answer:"Go to your Profile > Address section to add, edit, or remove delivery addresses. You can also set a default address."},{question:"Is my personal information secure?",answer:"Yes, we use industry-standard encryption to protect your personal information. We never share your data with third parties without your consent."}]},{category:"Refunds & Issues",questions:[{question:"What is your refund policy?",answer:"We offer full refunds for incorrect orders, missing items, or quality issues. Contact our support team within 24 hours of delivery."},{question:"What if my food arrives cold or damaged?",answer:"If your food arrives in poor condition, please contact us immediately. We will arrange a replacement or provide a full refund."},{question:"How do I report a missing item?",answer:"Contact our customer support team with your order number and details of the missing item. We will arrange a refund or replacement."},{question:"Can I get a refund for late delivery?",answer:"For deliveries significantly delayed beyond our estimated time, we may offer partial refunds or credits as compensation."}]}],a=[{title:"Track Your Order",icon:"🚚",description:"Real-time order tracking"},{title:"Payment Issues",icon:"💳",description:"Payment problems and solutions"},{title:"Delivery Problems",icon:"📦",description:"Delivery delays and issues"},{title:"Account Access",icon:"🔐",description:"Login and account issues"},{title:"Menu & Pricing",icon:"🍽️",description:"Menu items and pricing"},{title:"App Problems",icon:"📱",description:"Technical app issues"}],l=[{title:"Customer Support",description:"24/7 customer service",icon:o.jsx(vr,{className:"w-6 h-6"}),action:"Call Now",value:"+91 98765 43210"},{title:"Email Support",description:"Get help via email",icon:o.jsx(Ks,{className:"w-6 h-6"}),action:"Send Email",value:"support@pickngo.com"},{title:"Live Chat",description:"Chat with our team",icon:o.jsx(Zv,{className:"w-6 h-6"}),action:"Start Chat",value:"Available 24/7"}],c=i.map(u=>({...u,questions:u.questions.filter(h=>h.question.toLowerCase().includes(r.toLowerCase())||h.answer.toLowerCase().includes(r.toLowerCase()))})).filter(u=>u.questions.length>0);return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Dn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Help Center"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Get help and support"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Be,{placeholder:"Search for help topics...",value:r,onChange:u=>s(u.target.value),className:`pl-10 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`})]})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:`text-xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Popular Topics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map((u,h)=>o.jsx(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:border-pickngo-orange-500 transition-colors cursor-pointer`,children:o.jsxs(Ae,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-3xl mb-2",children:u.icon}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:u.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:u.description})]})},h))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Contact Us"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.map((u,h)=>o.jsx(Pe,{className:"bg-white border border-gray-200",children:o.jsxs(Ae,{className:"p-6 text-center",children:[o.jsx("div",{className:"flex justify-center mb-3",children:o.jsx("div",{className:"p-3 bg-pickngo-orange-100 rounded-full",children:u.icon})}),o.jsx("h3",{className:"font-semibold mb-2 text-gray-800",children:u.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.description}),o.jsx("p",{className:"text-sm font-medium mb-3 text-gray-800",children:u.value}),o.jsx(W,{variant:"outline",className:"w-full border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:u.action})]})},h))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Frequently Asked Questions"}),c.length>0?o.jsx(xS,{type:"single",collapsible:!0,className:"space-y-4",children:c.map((u,h)=>o.jsxs(Pe,{className:"bg-white border border-gray-200",children:[o.jsx(xt,{children:o.jsxs(wt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(TC,{className:"w-5 h-5"}),o.jsx("span",{children:u.category}),o.jsx(It,{variant:"secondary",className:"bg-pickngo-orange-100 text-pickngo-orange-800",children:u.questions.length})]})}),o.jsx(Ae,{children:o.jsx(xS,{type:"single",collapsible:!0,className:"space-y-2",children:u.questions.map((p,m)=>o.jsxs(DM,{value:`${h}-${m}`,className:"border-gray-200",children:[o.jsx(OM,{className:"text-left hover:no-underline text-gray-800",children:o.jsx("span",{className:"font-medium",children:p.question})}),o.jsx(VM,{className:"text-gray-600 pt-2",children:p.answer})]},m))})})]},h))}):o.jsx(Pe,{className:"bg-white border border-gray-200",children:o.jsxs(Ae,{className:"p-8 text-center",children:[o.jsx(TC,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"No results found"}),o.jsx("p",{className:"text-gray-600",children:"Try searching with different keywords"})]})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(W,{onClick:()=>t("/current-order"),className:"h-16 text-lg bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(Pa,{className:"w-5 h-5 mr-2"}),"Track My Order"]}),o.jsxs(W,{onClick:()=>t("/past-orders"),variant:"outline",className:"h-16 text-lg border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(en,{className:"w-5 h-5 mr-2"}),"View Order History"]})]})]}),o.jsx(Pe,{className:"bg-white border border-gray-200",children:o.jsxs(Ae,{className:"p-6 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Still need help?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Our customer support team is available 24/7 to assist you with any questions or concerns."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(W,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(vr,{className:"w-4 h-4 mr-2"}),"Call Support"]}),o.jsxs(W,{variant:"outline",className:"border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Send Email"]})]})]})})]})]})},Eb=d.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:Le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus-visible:outline-none focus:ring-0 focus-visible:ring-0 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Eb.displayName="Textarea";const bZ=()=>{const t=_n(),{isDarkMode:e,toggleDarkMode:n}=Kt(),[r,s]=d.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,a]=d.useState(!1),l=[{title:"Customer Support",description:"24/7 customer service",icon:o.jsx(vr,{className:"w-6 h-6"}),value:"+91 98765 43210",action:"Call Now",color:"bg-green-600"},{title:"Email Support",description:"Get help via email",icon:o.jsx(Ks,{className:"w-6 h-6"}),value:"support@pickngo.com",action:"Send Email",color:"bg-blue-600"},{title:"Live Chat",description:"Chat with our team",icon:o.jsx(Zv,{className:"w-6 h-6"}),value:"Available 24/7",action:"Start Chat",color:"bg-purple-600"},{title:"Office Address",description:"Visit our office",icon:o.jsx(en,{className:"w-6 h-6"}),value:"123 Food Street, Kolkata, WB 700001",action:"Get Directions",color:"bg-orange-600"}],c=[{day:"Monday - Friday",hours:"9:00 AM - 10:00 PM"},{day:"Saturday",hours:"10:00 AM - 11:00 PM"},{day:"Sunday",hours:"10:00 AM - 9:00 PM"}],u=(p,m)=>{s(g=>({...g,[p]:m}))},h=async p=>{p.preventDefault(),a(!0),await new Promise(m=>setTimeout(m,2e3)),z.success("Message sent successfully! We will get back to you soon."),s({name:"",email:"",phone:"",subject:"",message:""}),a(!1)};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Dn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Contact Us"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Get in touch with our team"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:`text-2xl font-bold mb-6 text-center ${e?"text-white":"text-gray-800"}`,children:"Get in Touch"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map((p,m)=>o.jsx(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:border-pickngo-orange-500 transition-colors`,children:o.jsxs(Ae,{className:"p-6 text-center",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${p.color}`,children:p.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:p.title}),o.jsx("p",{className:`text-sm mb-3 ${e?"text-gray-300":"text-gray-600"}`,children:p.description}),o.jsx("p",{className:`text-sm font-medium mb-4 ${e?"text-white":"text-gray-800"}`,children:p.value}),o.jsx(W,{variant:"outline",className:"w-full border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:p.action})]})},m))})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(xt,{children:o.jsxs(wt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(od,{className:"w-5 h-5"}),o.jsx("span",{children:"Send us a Message"})]})}),o.jsx(Ae,{children:o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"name",className:e?"text-white":"text-gray-800",children:"Full Name *"}),o.jsx(Be,{id:"name",value:r.name,onChange:p=>u("name",p.target.value),required:!0,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"email",className:e?"text-white":"text-gray-800",children:"Email Address *"}),o.jsx(Be,{id:"email",type:"email",value:r.email,onChange:p=>u("email",p.target.value),required:!0,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your email"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"phone",className:e?"text-white":"text-gray-800",children:"Phone Number"}),o.jsx(Be,{id:"phone",type:"tel",value:r.phone,onChange:p=>u("phone",p.target.value),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your phone number"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"subject",className:e?"text-white":"text-gray-800",children:"Subject *"}),o.jsxs(eg,{value:r.subject,onValueChange:p=>u("subject",p),children:[o.jsx(Ud,{className:`${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:o.jsx(tg,{placeholder:"Select a subject"})}),o.jsxs(zd,{children:[o.jsx(cn,{value:"general",children:"General Inquiry"}),o.jsx(cn,{value:"order",children:"Order Issue"}),o.jsx(cn,{value:"delivery",children:"Delivery Problem"}),o.jsx(cn,{value:"payment",children:"Payment Issue"}),o.jsx(cn,{value:"technical",children:"Technical Support"}),o.jsx(cn,{value:"feedback",children:"Feedback"}),o.jsx(cn,{value:"complaint",children:"Complaint"}),o.jsx(cn,{value:"other",children:"Other"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"message",className:e?"text-white":"text-gray-800",children:"Message *"}),o.jsx(Eb,{id:"message",value:r.message,onChange:p=>u("message",p.target.value),required:!0,rows:5,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Tell us how we can help you..."})]}),o.jsx(W,{type:"submit",className:"w-full bg-pickngo-orange-500 hover:bg-pickngo-orange-600",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(od,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(xt,{children:o.jsxs(wt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(Pa,{className:"w-5 h-5"}),o.jsx("span",{children:"Business Hours"})]})}),o.jsxs(Ae,{children:[o.jsx("div",{className:"space-y-3",children:c.map((p,m)=>o.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[o.jsx("span",{className:`font-medium ${e?"text-white":"text-gray-800"}`,children:p.day}),o.jsx("span",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:p.hours})]},m))}),o.jsx("div",{className:"mt-4 p-3 bg-pickngo-orange-100 rounded-lg",children:o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:[o.jsx("strong",{children:"Note:"})," Customer support is available 24/7 for urgent issues."]})})]})]}),o.jsxs(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(xt,{children:o.jsxs(wt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(en,{className:"w-5 h-5"}),o.jsx("span",{children:"Office Location"})]})}),o.jsx(Ae,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"space-y-2",children:o.jsxs("p",{className:`text-gray-600 ${e?"text-gray-300":"text-gray-800"}`,children:[o.jsx("strong",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"PickNGo Headquarters"}),o.jsx("br",{}),"123 Food Street",o.jsx("br",{}),"Park Street Area",o.jsx("br",{}),"Kolkata, West Bengal 700001",o.jsx("br",{}),"India"]})}),o.jsxs(W,{variant:"outline",className:"w-full border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(en,{className:"w-4 h-4 mr-2"}),"Get Directions"]})]})})]}),o.jsxs(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(xt,{children:o.jsx(wt,{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Response Time"})}),o.jsx(Ae,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Phone Support"}),o.jsx(It,{className:"bg-green-600",children:"Immediate"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Live Chat"}),o.jsx(It,{className:"bg-green-600",children:"Within 2 min"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Email Support"}),o.jsx(It,{className:"bg-yellow-600",children:"Within 24 hours"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Contact Form"}),o.jsx(It,{className:"bg-yellow-600",children:"Within 24 hours"})]})]})})]})]})]}),o.jsx("div",{className:"mt-8",children:o.jsx(Pe,{className:`${e?"bg-red-900 border-red-800":"bg-red-50 border-red-200"}`,children:o.jsxs(Ae,{className:"p-6 text-center",children:[o.jsx("h3",{className:`text-lg font-semibold mb-2 ${e?"text-white":"text-red-800"}`,children:"Emergency Support"}),o.jsx("p",{className:`text-red-700 ${e?"text-gray-300":"text-gray-600"} mb-4`,children:"For urgent issues like food safety concerns or delivery emergencies"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(W,{className:`${e?"bg-red-800 hover:bg-red-900":"bg-red-600 hover:bg-red-700"}`,children:[o.jsx(vr,{className:"w-4 h-4 mr-2"}),"Emergency Hotline: +91 98765 43211"]}),o.jsxs(W,{variant:"outline",className:`${e?"border-red-800 text-red-800 hover:bg-red-800 hover:text-white":"border-red-500 text-red-600 hover:bg-red-600 hover:text-white"}`,children:[o.jsx(Zv,{className:"w-4 h-4 mr-2"}),"Emergency Chat"]})]})]})})})]})]})},EZ=()=>{const t=_n(),{isDarkMode:e,toggleDarkMode:n}=Kt(),[r,s]=d.useState("orderId"),[i,a]=d.useState(""),[l,c]=d.useState(!1),[u,h]=d.useState(null),p={id:"ORD123456789",status:"out_for_delivery",items:[{name:"Domino's Pizza Margherita",quantity:1,price:299},{name:"Coca Cola",quantity:2,price:60},{name:"Garlic Bread",quantity:1,price:120}],totalPrice:539,deliveryAddress:{name:"John Doe",address:"123 Main Street",city:"Kolkata",state:"West Bengal",pincode:"700001"},estimatedDeliveryTime:new Date(Date.now()+15*60*1e3),currentStep:4,deliveryPerson:{name:"Rahul Kumar",phone:"+91 98765 43210",vehicle:"Bike - KA-01-AB-1234"},timeline:[{step:1,title:"Order Placed",description:"Your order has been received",time:new Date(Date.now()-45*60*1e3),completed:!0,icon:"📋"},{step:2,title:"Order Confirmed",description:"Restaurant has confirmed your order",time:new Date(Date.now()-40*60*1e3),completed:!0,icon:"✅"},{step:3,title:"Preparing",description:"Your food is being prepared",time:new Date(Date.now()-30*60*1e3),completed:!0,icon:"👨‍🍳"},{step:4,title:"Out for Delivery",description:"Your order is on the way",time:new Date(Date.now()-5*60*1e3),completed:!0,icon:"🚚"},{step:5,title:"Delivered",description:"Enjoy your meal!",time:null,completed:!1,icon:"🎉"}]},m=async()=>{if(!i.trim()){z.error("Please enter your tracking information");return}c(!0),await new Promise(y=>setTimeout(y,2e3)),i.toLowerCase().includes("123")||i.toLowerCase().includes("98765")?(h(p),z.success("Order found!")):(h(null),z.error("Order not found. Please check your tracking information.")),c(!1)},g=y=>{switch(y){case"pending":return"bg-yellow-600";case"confirmed":return"bg-blue-600";case"preparing":return"bg-orange-600";case"out_for_delivery":return"bg-purple-600";case"delivered":return"bg-green-600";case"cancelled":return"bg-red-600";default:return"bg-gray-600"}},v=y=>{switch(y){case"pending":return"Pending";case"confirmed":return"Confirmed";case"preparing":return"Preparing";case"out_for_delivery":return"Out for Delivery";case"delivered":return"Delivered";case"cancelled":return"Cancelled";default:return"Unknown"}};return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Dn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Track Order"})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(xt,{children:o.jsx(wt,{className:"text-gray-800",children:"Track Your Order"})}),o.jsx(Ae,{children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"orderId",className:"text-gray-700",children:"Order ID"}),o.jsx(Be,{id:"orderId",type:"text",placeholder:"Enter order ID",value:i,onChange:y=>a(y.target.value),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsx(Be,{id:"phone",type:"tel",placeholder:"Enter phone number",value:i,onChange:y=>a(y.target.value),className:"mt-1"})]})]}),o.jsx(W,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white",disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(us,{className:"w-4 h-4 mr-2 animate-spin"}),"Searching..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Track Order"]})})]})})]}),u&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(xt,{children:o.jsxs(wt,{className:"flex items-center justify-between text-gray-800",children:[o.jsxs("span",{children:["Order #",u.id]}),o.jsx(It,{className:g(u.status),children:v(u.status)})]})}),o.jsx(Ae,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:"📦"}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Order Items"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[u.items.length," items"]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:"💰"}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Total Amount"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["₹",u.totalPrice]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:"⏰"}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Estimated Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:u.estimatedDeliveryTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})]}),o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(xt,{children:o.jsx(wt,{className:"text-gray-800",children:"Delivery Timeline"})}),o.jsx(Ae,{children:o.jsx("div",{className:"space-y-4",children:u.timeline.map((y,x)=>o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm ${y.completed?"bg-orange-500":"bg-gray-300"}`,children:y.completed?"✓":x+1}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${y.completed?"text-gray-800":"text-gray-500"}`,children:y.title}),o.jsx("p",{className:`text-sm ${y.completed?"text-gray-600":"text-gray-400"}`,children:y.description}),y.time&&o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:y.time})]})]},x))})})]}),o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(xt,{children:o.jsx(wt,{className:"text-gray-800",children:"Order Items"})}),o.jsx(Ae,{children:o.jsx("div",{className:"space-y-3",children:u.items.map((y,x)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(As,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:y.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",y.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["₹",y.price]})]},x))})})]}),o.jsxs(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(xt,{children:o.jsx(wt,{className:"text-gray-800",children:"Delivery Address"})}),o.jsx(Ae,{children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(en,{className:"w-5 h-5 text-orange-500 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-800",children:u.deliveryAddress.name}),o.jsxs("p",{className:"text-gray-600",children:[u.deliveryAddress.address,", ",u.deliveryAddress.city,", ",u.deliveryAddress.state," - ",u.deliveryAddress.pincode]})]})]})})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(W,{onClick:()=>t(`/current-order/${u.id}`),className:"flex-1 bg-orange-500 hover:bg-orange-600",children:[o.jsx(ls,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),o.jsxs(W,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Contact Support"]})]})]}),!u&&!l&&o.jsx(Pe,{className:"bg-white border border-gray-200 shadow-sm",children:o.jsxs(Ae,{className:"p-8 text-center",children:[o.jsx(As,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Track Your Order"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Enter your order ID or phone number to track your order status"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{onClick:()=>t("/past-orders"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:"View Order History"}),o.jsx(W,{variant:"outline",onClick:()=>t("/contact-us"),className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Need Help?"})]})]})})]})]})},NZ=()=>{const t=_n(),{isDarkMode:e,toggleDarkMode:n}=Kt(),r=[{label:"Happy Customers",value:"50,000+",icon:"😊"},{label:"Cities Served",value:"25+",icon:"🏙️"},{label:"Restaurant Partners",value:"500+",icon:"🍽️"},{label:"Orders Delivered",value:"1M+",icon:"📦"}],s=[{title:"Quality First",description:"We never compromise on food quality and safety standards.",icon:o.jsx(QB,{className:"w-8 h-8"}),color:"bg-yellow-600"},{title:"Customer Satisfaction",description:"Your satisfaction is our top priority. We go above and beyond to exceed expectations.",icon:o.jsx(Gs,{className:"w-8 h-8"}),color:"bg-red-600"},{title:"Fast Delivery",description:"We promise to deliver your food fresh and hot within 30 minutes.",icon:o.jsx(ls,{className:"w-8 h-8"}),color:"bg-green-600"},{title:"Trust & Safety",description:"Your safety and trust are paramount. We maintain the highest hygiene standards.",icon:o.jsx(ia,{className:"w-8 h-8"}),color:"bg-blue-600"}],i=[{name:"Rahul Sharma",position:"CEO & Founder",image:"👨‍💼",description:"Former food industry executive with 15+ years of experience"},{name:"Priya Patel",position:"CTO",image:"👩‍💻",description:"Tech enthusiast leading our digital transformation"},{name:"Amit Kumar",position:"Head of Operations",image:"👨‍🔧",description:"Operations expert ensuring smooth delivery logistics"},{name:"Neha Singh",position:"Head of Customer Experience",image:"👩‍💼",description:"Customer advocate focused on exceptional service"}],a=[{year:"2023",title:"Best Food Delivery App",description:"Awarded by FoodTech India",icon:"🏆"},{year:"2023",title:"Fastest Growing Startup",description:"Recognized by Startup India",icon:"📈"},{year:"2022",title:"Customer Choice Award",description:"Highest rated delivery app",icon:"⭐"},{year:"2022",title:"Innovation in Logistics",description:"Awarded by Logistics India",icon:"🚀"}],l=[{year:"2020",title:"Company Founded",description:"Started with a vision to revolutionize food delivery"},{year:"2021",title:"First 1000 Orders",description:"Reached our first major milestone"},{year:"2022",title:"Expanded to 10 Cities",description:"Grew our presence across major cities"},{year:"2023",title:"1 Million Orders",description:"Celebrated delivering 1 million orders"}];return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Dn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"About Us"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Learn more about PickNGo"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Revolutionizing Food Delivery"}),o.jsx("p",{className:`text-xl max-w-3xl mx-auto ${e?"text-gray-300":"text-gray-600"}`,children:"At PickNGo, we believe that great food should be accessible to everyone, delivered fresh and fast. We're on a mission to connect people with their favorite restaurants through technology and exceptional service."})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:r.map((c,u)=>o.jsx(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Ae,{className:"p-6",children:[o.jsx("div",{className:"text-3xl mb-2",children:c.icon}),o.jsx("div",{className:`text-2xl font-bold mb-1 ${e?"text-white":"text-gray-800"}`,children:c.value}),o.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:c.label})]})},u))}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[o.jsxs(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(xt,{children:o.jsxs(wt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(fH,{className:"w-5 h-5"}),o.jsx("span",{children:"Our Mission"})]})}),o.jsx(Ae,{children:o.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:"To provide the fastest, most reliable food delivery service while maintaining the highest standards of food quality, customer service, and safety. We strive to make ordering food as simple as possible while ensuring every meal arrives fresh and delicious."})})]}),o.jsxs(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(xt,{children:o.jsxs(wt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(Rr,{className:"w-5 h-5"}),o.jsx("span",{children:"Our Vision"})]})}),o.jsx(Ae,{children:o.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:"To become the most trusted and preferred food delivery platform in India, known for our commitment to quality, speed, and customer satisfaction. We envision a future where everyone can enjoy their favorite food delivered to their doorstep within minutes."})})]})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Values"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((c,u)=>o.jsx(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Ae,{className:"p-6",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${c.color}`,children:c.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:c.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})},u))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Leadership Team"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((c,u)=>o.jsx(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Ae,{className:"p-6",children:[o.jsx("div",{className:"text-4xl mb-3",children:c.image}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:c.name}),o.jsx("p",{className:"text-pickngo-orange-500 mb-2",children:c.position}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})},u))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Awards & Recognition"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map((c,u)=>o.jsx(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:o.jsx(Ae,{className:"p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"text-3xl",children:c.icon}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(It,{variant:"secondary",className:"bg-pickngo-orange-100 text-pickngo-orange-800",children:c.year}),o.jsx("h3",{className:`font-semibold ${e?"text-white":"text-gray-800"}`,children:c.title})]}),o.jsx("p",{className:`${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})]})})},u))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Journey"}),o.jsx("div",{className:"space-y-6",children:l.map((c,u)=>o.jsx(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:o.jsx(Ae,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(It,{className:"bg-pickngo-orange-500",children:c.year})}),o.jsxs("div",{children:[o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:c.title}),o.jsx("p",{className:`${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})]})})},u))})]}),o.jsxs(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(xt,{children:o.jsx(wt,{className:`text-center ${e?"text-white":"text-gray-800"}`,children:"Get in Touch"})}),o.jsx(Ae,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[o.jsxs("div",{children:[o.jsx(en,{className:"w-6 h-6 mx-auto mb-2 text-pickngo-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Address"}),o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:["123 Food Street",o.jsx("br",{}),"Park Street Area",o.jsx("br",{}),"Kolkata, WB 700001"]})]}),o.jsxs("div",{children:[o.jsx(vr,{className:"w-6 h-6 mx-auto mb-2 text-pickngo-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Phone"}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"+91 98765 43210"})]}),o.jsxs("div",{children:[o.jsx(Ks,{className:"w-6 h-6 mx-auto mb-2 text-pickngo-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Email"}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"hello@pickngo.com"})]})]})})]}),o.jsx("div",{className:"text-center mt-8",children:o.jsx(W,{onClick:()=>t("/"),className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-lg px-8 py-3",children:"Start Ordering Now"})})]})]})},CZ=()=>{const t=_n(),{isDarkMode:e,toggleDarkMode:n}=Kt(),[r,s]=d.useState(null),[i,a]=d.useState(!1),[l,c]=d.useState({name:"",email:"",phone:"",position:"",experience:"",coverLetter:"",resume:null}),u=[{id:1,title:"Senior React Developer",department:"Engineering",location:"Kolkata, WB",type:"Full-time",experience:"3-5 years",salary:"₹8-15 LPA",description:"We are looking for a passionate React developer to join our team and help build amazing user experiences.",requirements:["Strong proficiency in React, TypeScript, and modern JavaScript","Experience with state management (Redux, Zustand)","Knowledge of responsive design and CSS frameworks","Experience with testing frameworks (Jest, React Testing Library)","Good understanding of REST APIs and GraphQL"],responsibilities:["Develop and maintain high-quality React applications","Collaborate with design and product teams","Write clean, maintainable, and well-documented code","Participate in code reviews and technical discussions","Mentor junior developers"]},{id:2,title:"Product Manager",department:"Product",location:"Remote",type:"Full-time",experience:"2-4 years",salary:"₹10-18 LPA",description:"Join our product team to help shape the future of food delivery and create amazing user experiences.",requirements:["Experience in product management or related field","Strong analytical and problem-solving skills","Excellent communication and collaboration abilities","Experience with agile methodologies","Knowledge of user research and data analysis"],responsibilities:["Define product strategy and roadmap","Gather and analyze user feedback","Work with engineering and design teams","Monitor product metrics and KPIs","Drive product launches and iterations"]},{id:3,title:"UI/UX Designer",department:"Design",location:"Mumbai, MH",type:"Full-time",experience:"2-4 years",salary:"₹6-12 LPA",description:"Create beautiful and intuitive user interfaces that delight our customers and drive business growth.",requirements:["Strong portfolio showcasing UI/UX work","Proficiency in design tools (Figma, Sketch, Adobe Creative Suite)","Understanding of user-centered design principles","Experience with mobile app design","Knowledge of design systems and component libraries"],responsibilities:["Design user interfaces and user experiences","Create wireframes, prototypes, and high-fidelity designs","Conduct user research and usability testing","Collaborate with product and engineering teams","Maintain and evolve our design system"]},{id:4,title:"Operations Manager",department:"Operations",location:"Delhi, NCR",type:"Full-time",experience:"3-6 years",salary:"₹8-15 LPA",description:"Lead our operations team to ensure smooth delivery operations and excellent customer service.",requirements:["Experience in operations management or logistics","Strong leadership and team management skills","Excellent problem-solving and decision-making abilities","Experience with process optimization","Knowledge of supply chain management"],responsibilities:["Manage day-to-day operations","Optimize delivery processes and efficiency","Lead and mentor operations team","Monitor and improve service quality","Develop and implement operational strategies"]},{id:5,title:"Marketing Specialist",department:"Marketing",location:"Bangalore, KA",type:"Full-time",experience:"1-3 years",salary:"₹5-10 LPA",description:"Help us grow our brand and reach more customers through creative marketing campaigns.",requirements:["Experience in digital marketing or related field","Knowledge of social media marketing and content creation","Experience with marketing analytics and tools","Creative thinking and strong communication skills","Understanding of customer acquisition and retention"],responsibilities:["Develop and execute marketing campaigns","Create engaging content for social media","Analyze marketing performance and optimize campaigns","Collaborate with creative and product teams","Manage brand presence across channels"]}],h=[{title:"Health & Wellness",description:"Comprehensive health insurance and wellness programs",icon:o.jsx(Gs,{className:"w-6 h-6"}),color:"bg-red-600"},{title:"Learning & Growth",description:"Continuous learning opportunities and career development",icon:o.jsx(iH,{className:"w-6 h-6"}),color:"bg-blue-600"},{title:"Flexible Work",description:"Remote work options and flexible working hours",icon:o.jsx(zP,{className:"w-6 h-6"}),color:"bg-green-600"},{title:"Team Events",description:"Regular team building activities and social events",icon:o.jsx(yH,{className:"w-6 h-6"}),color:"bg-purple-600"}],p=v=>{s(v),c(y=>({...y,position:v.title})),a(!0)},m=async v=>{v.preventDefault(),await new Promise(y=>setTimeout(y,2e3)),z.success("Application submitted successfully! We will get back to you soon."),a(!1),c({name:"",email:"",phone:"",position:"",experience:"",coverLetter:"",resume:null})},g=(v,y)=>{c(x=>({...x,[v]:y}))};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Dn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Careers"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Join our amazing team"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Join Our Team"}),o.jsx("p",{className:`text-xl max-w-3xl mx-auto ${e?"text-gray-300":"text-gray-600"}`,children:"Be part of a team that's revolutionizing food delivery. We're looking for passionate individuals who want to make a difference and grow with us."})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Why Work With Us"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((v,y)=>o.jsx(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Ae,{className:"p-6",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${v.color}`,children:v.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:v.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:v.description})]})},y))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Open Positions"}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.map(v=>o.jsxs(Pe,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:shadow-lg transition-shadow`,children:[o.jsx(xt,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(wt,{className:`text-xl ${e?"text-white":"text-gray-800"}`,children:v.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:v.department})]}),o.jsx(It,{className:"bg-pickngo-orange-500",children:v.type})]})}),o.jsxs(Ae,{children:[o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(en,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:v.location})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Pa,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:v.experience})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(rH,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:v.salary})]})]}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:v.description})]}),o.jsx(W,{onClick:()=>p(v),className:"w-full bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:"Apply Now"})]})]},v.id))})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs(Pe,{className:"bg-white border border-gray-200 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(xt,{children:o.jsxs(wt,{className:"flex items-center justify-between text-gray-800",children:[o.jsxs("span",{children:["Apply for ",r==null?void 0:r.title]}),o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>a(!1),className:"text-gray-600 hover:text-pickngo-orange-500",children:"✕"})]})}),o.jsx(Ae,{children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"name",className:"text-gray-800",children:"Full Name *"}),o.jsx(Be,{id:"name",value:l.name,onChange:v=>g("name",v.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"email",className:"text-gray-800",children:"Email Address *"}),o.jsx(Be,{id:"email",type:"email",value:l.email,onChange:v=>g("email",v.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your email"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"phone",className:"text-gray-800",children:"Phone Number *"}),o.jsx(Be,{id:"phone",type:"tel",value:l.phone,onChange:v=>g("phone",v.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your phone number"})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"experience",className:"text-gray-800",children:"Years of Experience *"}),o.jsxs(eg,{value:l.experience,onValueChange:v=>g("experience",v),children:[o.jsx(Ud,{className:"bg-white border-gray-300 text-gray-800",children:o.jsx(tg,{placeholder:"Select experience level"})}),o.jsxs(zd,{children:[o.jsx(cn,{value:"0-1",children:"0-1 years"}),o.jsx(cn,{value:"1-3",children:"1-3 years"}),o.jsx(cn,{value:"3-5",children:"3-5 years"}),o.jsx(cn,{value:"5-8",children:"5-8 years"}),o.jsx(cn,{value:"8+",children:"8+ years"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"coverLetter",className:"text-gray-800",children:"Cover Letter *"}),o.jsx(Eb,{id:"coverLetter",value:l.coverLetter,onChange:v=>g("coverLetter",v.target.value),required:!0,rows:5,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Tell us why you're interested in this position and what makes you a great fit..."})]}),o.jsxs("div",{children:[o.jsx(Re,{htmlFor:"resume",className:"text-gray-800",children:"Resume/CV *"}),o.jsx(Be,{id:"resume",type:"file",accept:".pdf,.doc,.docx",onChange:v=>g("resume",v.target.files[0]),required:!0,className:"bg-white border-gray-300 text-gray-800 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-pickngo-orange-500 file:text-white hover:file:bg-pickngo-orange-600"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted formats: PDF, DOC, DOCX (Max 5MB)"})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(W,{type:"submit",className:"flex-1 bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:"Submit Application"}),o.jsx(W,{type:"button",variant:"outline",onClick:()=>a(!1),className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"})]})]})})]})}),o.jsx(Pe,{className:"bg-white border border-gray-200",children:o.jsxs(Ae,{className:"p-8 text-center",children:[o.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Don't see a perfect fit?"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"We're always looking for talented individuals to join our team. Send us your resume and we'll keep you in mind for future opportunities."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(W,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Send Resume"]}),o.jsxs(W,{variant:"outline",className:"border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(vr,{className:"w-4 h-4 mr-2"}),"Contact HR"]})]})]})})]})]})},_Z=()=>{const t=_n(),{isDarkMode:e,toggleDarkMode:n}=Kt(),[r,s]=d.useState("overview");return o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Dn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Privacy Policy"}),o.jsx("p",{className:"text-sm text-gray-600",children:"How we protect your data"})]})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[o.jsx("div",{className:"mb-6 p-4 bg-pickngo-orange-50 border border-pickngo-orange-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(OP,{className:"w-5 h-5 text-pickngo-orange-600"}),o.jsx("span",{className:"text-sm font-medium text-pickngo-orange-800",children:"Last updated: December 15, 2024"})]})}),o.jsx(Pe,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Ae,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Introduction"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"At PickNGo Instant Grub, we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our food delivery service."}),o.jsx("p",{className:"text-gray-600",children:"By using our service, you agree to the collection and use of information in accordance with this policy."})]})}),o.jsx(Pe,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Ae,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Information We Collect"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(zi,{className:"w-5 h-5 mr-2 text-pickngo-orange-500"}),"Personal Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"Name and contact information (email, phone number)"}),o.jsx("li",{children:"Delivery address and location data"}),o.jsx("li",{children:"Payment information (processed securely through our payment partners)"}),o.jsx("li",{children:"Account credentials and profile information"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(up,{className:"w-5 h-5 mr-2 text-pickngo-orange-500"}),"Device and Usage Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"Device type, operating system, and browser information"}),o.jsx("li",{children:"IP address and general location data"}),o.jsx("li",{children:"App usage patterns and preferences"}),o.jsx("li",{children:"Order history and delivery preferences"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(en,{className:"w-5 h-5 mr-2 text-pickngo-orange-500"}),"Location Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"GPS location for delivery services"}),o.jsx("li",{children:"Address book contacts (with permission)"}),o.jsx("li",{children:"Real-time location tracking during delivery"})]})]})]})]})}),o.jsx(Pe,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Ae,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"How We Use Your Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(ls,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Service Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Process orders and coordinate deliveries"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(ia,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Security"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Prevent fraud and ensure account security"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(lH,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Communication"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Send order updates and support messages"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(XB,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Analytics"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Improve our service and user experience"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(UP,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Personalization"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Provide relevant recommendations"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(Jv,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Account Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage your account and preferences"})]})]})]})]})]})}),o.jsx(Pe,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Ae,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Information Sharing"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We do not sell, trade, or rent your personal information to third parties. We may share your information only in the following circumstances:"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full mt-1",children:o.jsx(ZB,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Restaurant Partners"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Share order details with restaurants to fulfill your orders"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full mt-1",children:o.jsx(ls,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Delivery Partners"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Provide necessary information to delivery drivers"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full mt-1",children:o.jsx(ia,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Legal Requirements"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Comply with applicable laws and regulations"})]})]})]})]})}),o.jsx(Pe,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Ae,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Data Security"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We implement industry-standard security measures to protect your personal information:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(nu,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"SSL encryption for data transmission"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(nu,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Secure payment processing"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(nu,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Regular security audits"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(nu,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Access controls and authentication"})]})]})]})}),o.jsx(Pe,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Ae,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Your Rights"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"You have the following rights regarding your personal information:"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(Cu,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Access"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request access to your personal data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(Ow,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Correction"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request correction of inaccurate data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(Dd,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Deletion"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request deletion of your personal data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(YB,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Objection"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Object to processing of your data"})]})]})]})]})}),o.jsx(Pe,{className:"bg-white border border-gray-200",children:o.jsxs(Ae,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Contact Us"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ks,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"privacy@pickngo.com"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(vr,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"+1 (555) 123-4567"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(en,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"123 Food Street, Delivery City, DC 12345"})]})]})]})})]})]})},SZ=({children:t})=>{const{banStatus:e,user:n}=xc(),{isDarkMode:r}=Kt();if(n&&e.isBanned){const s=async()=>{try{await OI(Et),z.success("Signed out successfully")}catch(c){console.error("Error signing out:",c),z.error("Failed to sign out")}},i=c=>c?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(c):"Unknown",a=!e.banExpiry,l=e.banExpiry&&new Date>e.banExpiry;return o.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 ${r?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:o.jsxs(Pe,{className:`max-w-md w-full ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsxs(xt,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx(ia,{className:"w-8 h-8 text-red-600"})}),o.jsx(wt,{className:`text-xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Account Suspended"})]}),o.jsxs(Ae,{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:`text-sm ${r?"text-gray-300":"text-gray-600"} mb-4`,children:"Your account has been suspended due to a violation of our terms of service."}),e.banReason&&o.jsx("div",{className:`p-3 rounded-lg mb-4 ${r?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"} border`,children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(mH,{className:"w-4 h-4 text-orange-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-gray-900"}`,children:"Reason:"}),o.jsx("p",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:e.banReason})]})]})}),o.jsx("div",{className:`p-3 rounded-lg mb-4 ${r?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"} border`,children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Pa,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-gray-900"}`,children:a?"Permanent Ban":"Temporary Ban"}),o.jsxs("p",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:["Banned on: ",i(e.banDate)]}),e.banExpiry&&o.jsxs("p",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:["Expires: ",i(e.banExpiry)]})]})]})}),l&&o.jsx("div",{className:`p-3 rounded-lg mb-4 ${r?"bg-green-900 border-green-700":"bg-green-50 border-green-200"} border`,children:o.jsx("p",{className:`text-sm font-medium text-green-600 ${r?"text-green-400":"text-green-700"}`,children:"✅ Your ban has expired! You can now use the app normally."})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(W,{onClick:s,variant:"outline",className:`w-full ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(pc,{className:"w-4 h-4 mr-2"}),"Sign Out"]}),!a&&!l&&o.jsx("p",{className:`text-xs text-center ${r?"text-gray-400":"text-gray-500"}`,children:"Your account will be automatically restored when the ban expires."})]})]})]})})}return e.isLoading?o.jsx("div",{className:`min-h-screen flex items-center justify-center ${r?"bg-gray-900":"bg-gray-50"}`,children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Checking account status..."})]})}):o.jsx(o.Fragment,{children:t})},jZ=new uV,FM=d.createContext(void 0),Kt=()=>{const t=d.useContext(FM);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},$M=d.createContext(void 0),ig=()=>{const t=d.useContext($M);if(!t)throw new Error("useSelectedAddress must be used within a SelectedAddressProvider");return t},kZ=({children:t})=>{const[e,n]=d.useState(!1);d.useEffect(()=>{const c=localStorage.getItem("darkMode")==="true";n(c),r(c)},[]);const r=l=>{l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},s=()=>{const l=!e;n(l),localStorage.setItem("darkMode",l.toString()),r(l),Et.currentUser&&a(Et.currentUser.uid,l)},i=l=>{n(l),localStorage.setItem("darkMode",l.toString()),r(l),Et.currentUser&&a(Et.currentUser.uid,l)},a=async(l,c)=>{try{const u=Nt(Ve,"users",l);await An(u,{"settings.darkMode":c,updatedAt:new Date})}catch(u){console.error("Error updating theme in Firestore:",u)}};return o.jsx(FM.Provider,{value:{isDarkMode:e,toggleDarkMode:s,setDarkMode:i},children:t})},IZ=()=>{const[t,e]=d.useState(()=>{const a=localStorage.getItem("pickngo-selected-address");return a?JSON.parse(a):null}),[n,r]=d.useState(!1);d.useEffect(()=>{(async()=>{try{await zB(),await HB(),console.log("Firebase data initialized successfully")}catch(l){console.error("Error initializing Firebase data:",l)}})()},[]),d.useEffect(()=>{t?localStorage.setItem("pickngo-selected-address",JSON.stringify(t)):localStorage.removeItem("pickngo-selected-address")},[t]),d.useEffect(()=>{(async()=>{try{const l=await z$(Et);l&&(z.success("Google sign-in successful!"),await s(l.user))}catch(l){console.error("Google sign-in redirect error:",l),z.error("Google sign-in failed. Please try again.")}})()},[]),d.useEffect(()=>{const a=Et.onAuthStateChanged(async l=>{l?await s(l):r(!1)});return()=>a()},[]);const s=async a=>{var l;try{const c=await wa(Nt(Ve,"users",a.uid));(!c.exists()||!((l=c.data())!=null&&l.isOnboarded))&&r(!0)}catch(c){console.error("Error checking user onboarding status:",c)}},i=()=>{r(!1)};return o.jsx(hV,{client:jZ,children:o.jsx(kZ,{children:o.jsx($M.Provider,{value:{selectedAddress:t,setSelectedAddress:e},children:o.jsxs(tq,{children:[o.jsxs($3,{children:[o.jsx(c5,{position:"bottom-right"}),o.jsx(lF,{children:o.jsx(SZ,{children:o.jsxs(iF,{children:[o.jsx(bn,{path:"/",element:o.jsx(JQ,{})}),o.jsx(bn,{path:"/food",element:o.jsx(eY,{})}),o.jsx(bn,{path:"/daily-essential",element:o.jsx(tY,{})}),o.jsx(bn,{path:"/drinks",element:o.jsx(nY,{})}),o.jsx(bn,{path:"/all-categories",element:o.jsx(tZ,{})}),o.jsx(bn,{path:"/profile",element:o.jsx(rY,{})}),o.jsx(bn,{path:"/past-orders",element:o.jsx(sY,{})}),o.jsx(bn,{path:"/current-order/:orderId",element:o.jsx(hY,{})}),o.jsx(bn,{path:"/settings",element:o.jsx(KY,{})}),o.jsx(bn,{path:"/address",element:o.jsx(QY,{})}),o.jsx(bn,{path:"/help-center",element:o.jsx(wZ,{})}),o.jsx(bn,{path:"/contact-us",element:o.jsx(bZ,{})}),o.jsx(bn,{path:"/track-order",element:o.jsx(EZ,{})}),o.jsx(bn,{path:"/about-us",element:o.jsx(NZ,{})}),o.jsx(bn,{path:"/careers",element:o.jsx(CZ,{})}),o.jsx(bn,{path:"/privacy-policy",element:o.jsx(_Z,{})}),o.jsx(bn,{path:"*",element:o.jsx(YY,{})})]})})})]}),o.jsx(dA,{isOpen:n,onComplete:i})]})})})})};zk(document.getElementById("root")).render(o.jsx(IZ,{}));
