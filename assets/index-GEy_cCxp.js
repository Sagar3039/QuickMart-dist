var Xb=t=>{throw TypeError(t)};var wy=(t,e,n)=>e.has(t)||Xb("Cannot "+n);var ie=(t,e,n)=>(wy(t,e,"read from private field"),n?n.call(t):e.get(t)),pt=(t,e,n)=>e.has(t)?Xb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Qe=(t,e,n,r)=>(wy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Gn=(t,e,n)=>(wy(t,e,"access private method"),n);var Df=(t,e,n,r)=>({set _(s){Qe(t,e,s,n)},get _(){return ie(t,e,r)}});function JM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var eD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lS={exports:{}},Hp={},cS={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh=Symbol.for("react.element"),tD=Symbol.for("react.portal"),nD=Symbol.for("react.fragment"),rD=Symbol.for("react.strict_mode"),sD=Symbol.for("react.profiler"),iD=Symbol.for("react.provider"),oD=Symbol.for("react.context"),aD=Symbol.for("react.forward_ref"),lD=Symbol.for("react.suspense"),cD=Symbol.for("react.memo"),uD=Symbol.for("react.lazy"),Jb=Symbol.iterator;function dD(t){return t===null||typeof t!="object"?null:(t=Jb&&t[Jb]||t["@@iterator"],typeof t=="function"?t:null)}var uS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dS=Object.assign,hS={};function su(t,e,n){this.props=t,this.context=e,this.refs=hS,this.updater=n||uS}su.prototype.isReactComponent={};su.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};su.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fS(){}fS.prototype=su.prototype;function kx(t,e,n){this.props=t,this.context=e,this.refs=hS,this.updater=n||uS}var Px=kx.prototype=new fS;Px.constructor=kx;dS(Px,su.prototype);Px.isPureReactComponent=!0;var e1=Array.isArray,mS=Object.prototype.hasOwnProperty,Ix={current:null},pS={key:!0,ref:!0,__self:!0,__source:!0};function gS(t,e,n){var r,s={},i=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)mS.call(e,r)&&!pS.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];s.children=d}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Oh,type:t,key:i,ref:l,props:s,_owner:Ix.current}}function hD(t,e){return{$$typeof:Oh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Oh}function fD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var t1=/\/+/g;function by(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fD(""+t.key):e.toString(36)}function mm(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Oh:case tD:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+by(l,0):r,e1(s)?(n="",t!=null&&(n=t.replace(t1,"$&/")+"/"),mm(s,e,n,"",function(h){return h})):s!=null&&(jx(s)&&(s=hD(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(t1,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",e1(t))for(var c=0;c<t.length;c++){i=t[c];var d=r+by(i,c);l+=mm(i,e,n,d,s)}else if(d=dD(t),typeof d=="function")for(t=d.call(t),c=0;!(i=t.next()).done;)i=i.value,d=r+by(i,c++),l+=mm(i,e,n,d,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Lf(t,e,n){if(t==null)return t;var r=[],s=0;return mm(t,r,"","",function(i){return e.call(n,i,s++)}),r}function mD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pr={current:null},pm={transition:null},pD={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:pm,ReactCurrentOwner:Ix};function yS(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:Lf,forEach:function(t,e,n){Lf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lf(t,function(){e++}),e},toArray:function(t){return Lf(t,function(e){return e})||[]},only:function(t){if(!jx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};it.Component=su;it.Fragment=nD;it.Profiler=sD;it.PureComponent=kx;it.StrictMode=rD;it.Suspense=lD;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pD;it.act=yS;it.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dS({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=Ix.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(d in e)mS.call(e,d)&&!pS.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&c!==void 0?c[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Oh,type:t.type,key:s,ref:i,props:r,_owner:l}};it.createContext=function(t){return t={$$typeof:oD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iD,_context:t},t.Consumer=t};it.createElement=gS;it.createFactory=function(t){var e=gS.bind(null,t);return e.type=t,e};it.createRef=function(){return{current:null}};it.forwardRef=function(t){return{$$typeof:aD,render:t}};it.isValidElement=jx;it.lazy=function(t){return{$$typeof:uD,_payload:{_status:-1,_result:t},_init:mD}};it.memo=function(t,e){return{$$typeof:cD,type:t,compare:e===void 0?null:e}};it.startTransition=function(t){var e=pm.transition;pm.transition={};try{t()}finally{pm.transition=e}};it.unstable_act=yS;it.useCallback=function(t,e){return pr.current.useCallback(t,e)};it.useContext=function(t){return pr.current.useContext(t)};it.useDebugValue=function(){};it.useDeferredValue=function(t){return pr.current.useDeferredValue(t)};it.useEffect=function(t,e){return pr.current.useEffect(t,e)};it.useId=function(){return pr.current.useId()};it.useImperativeHandle=function(t,e,n){return pr.current.useImperativeHandle(t,e,n)};it.useInsertionEffect=function(t,e){return pr.current.useInsertionEffect(t,e)};it.useLayoutEffect=function(t,e){return pr.current.useLayoutEffect(t,e)};it.useMemo=function(t,e){return pr.current.useMemo(t,e)};it.useReducer=function(t,e,n){return pr.current.useReducer(t,e,n)};it.useRef=function(t){return pr.current.useRef(t)};it.useState=function(t){return pr.current.useState(t)};it.useSyncExternalStore=function(t,e,n){return pr.current.useSyncExternalStore(t,e,n)};it.useTransition=function(){return pr.current.useTransition()};it.version="18.3.1";cS.exports=it;var _=cS.exports;const fe=Cx(_),Ax=JM({__proto__:null,default:fe},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gD=_,yD=Symbol.for("react.element"),vD=Symbol.for("react.fragment"),xD=Object.prototype.hasOwnProperty,_D=gD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wD={key:!0,ref:!0,__self:!0,__source:!0};function vS(t,e,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)xD.call(e,r)&&!wD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:yD,type:t,key:i,ref:l,props:s,_owner:_D.current}}Hp.Fragment=vD;Hp.jsx=vS;Hp.jsxs=vS;lS.exports=Hp;var o=lS.exports,xS={exports:{}},Qr={},_S={exports:{}},wS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,H){var G=$.length;$.push(H);e:for(;0<G;){var te=G-1>>>1,ne=$[te];if(0<s(ne,H))$[te]=H,$[G]=ne,G=te;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var H=$[0],G=$.pop();if(G!==H){$[0]=G;e:for(var te=0,ne=$.length,ce=ne>>>1;te<ce;){var ge=2*(te+1)-1,be=$[ge],_e=ge+1,oe=$[_e];if(0>s(be,G))_e<ne&&0>s(oe,be)?($[te]=oe,$[_e]=G,te=_e):($[te]=be,$[ge]=G,te=ge);else if(_e<ne&&0>s(oe,G))$[te]=oe,$[_e]=G,te=_e;else break e}}return H}function s($,H){var G=$.sortIndex-H.sortIndex;return G!==0?G:$.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,g=null,y=3,w=!1,N=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C($){for(var H=n(h);H!==null;){if(H.callback===null)r(h);else if(H.startTime<=$)r(h),H.sortIndex=H.expirationTime,e(d,H);else break;H=n(h)}}function R($){if(v=!1,C($),!N)if(n(d)!==null)N=!0,Y(F);else{var H=n(h);H!==null&&J(R,H.startTime-$)}}function F($,H){N=!1,v&&(v=!1,E(I),I=-1),w=!0;var G=y;try{for(C(H),g=n(d);g!==null&&(!(g.expirationTime>H)||$&&!z());){var te=g.callback;if(typeof te=="function"){g.callback=null,y=g.priorityLevel;var ne=te(g.expirationTime<=H);H=t.unstable_now(),typeof ne=="function"?g.callback=ne:g===n(d)&&r(d),C(H)}else r(d);g=n(d)}if(g!==null)var ce=!0;else{var ge=n(h);ge!==null&&J(R,ge.startTime-H),ce=!1}return ce}finally{g=null,y=G,w=!1}}var U=!1,j=null,I=-1,A=5,D=-1;function z(){return!(t.unstable_now()-D<A)}function B(){if(j!==null){var $=t.unstable_now();D=$;var H=!0;try{H=j(!0,$)}finally{H?O():(U=!1,j=null)}}else U=!1}var O;if(typeof T=="function")O=function(){T(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,me=Q.port2;Q.port1.onmessage=B,O=function(){me.postMessage(null)}}else O=function(){S(B,0)};function Y($){j=$,U||(U=!0,O())}function J($,H){I=S(function(){$(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){N||w||(N=!0,Y(F))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function($){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var G=y;y=H;try{return $()}finally{y=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,H){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=y;y=$;try{return H()}finally{y=G}},t.unstable_scheduleCallback=function($,H,G){var te=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?te+G:te):G=te,$){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=G+ne,$={id:p++,callback:H,priorityLevel:$,startTime:G,expirationTime:ne,sortIndex:-1},G>te?($.sortIndex=G,e(h,$),n(d)===null&&$===n(h)&&(v?(E(I),I=-1):v=!0,J(R,G-te))):($.sortIndex=ne,e(d,$),N||w||(N=!0,Y(F))),$},t.unstable_shouldYield=z,t.unstable_wrapCallback=function($){var H=y;return function(){var G=y;y=H;try{return $.apply(this,arguments)}finally{y=G}}}})(wS);_S.exports=wS;var bD=_S.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ED=_,Zr=bD;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bS=new Set,Zd={};function yl(t,e){Oc(t,e),Oc(t+"Capture",e)}function Oc(t,e){for(Zd[t]=e,t=0;t<e.length;t++)bS.add(e[t])}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ev=Object.prototype.hasOwnProperty,ND=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n1={},r1={};function TD(t){return Ev.call(r1,t)?!0:Ev.call(n1,t)?!1:ND.test(t)?r1[t]=!0:(n1[t]=!0,!1)}function SD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CD(t,e,n,r){if(e===null||typeof e>"u"||SD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gr(t,e,n,r,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var Fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fn[t]=new gr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fn[e]=new gr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fn[t]=new gr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fn[t]=new gr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fn[t]=new gr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fn[t]=new gr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fn[t]=new gr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fn[t]=new gr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fn[t]=new gr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rx=/[\-:]([a-z])/g;function Mx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rx,Mx);Fn[e]=new gr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rx,Mx);Fn[e]=new gr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rx,Mx);Fn[e]=new gr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fn[t]=new gr(t,1,!1,t.toLowerCase(),null,!1,!1)});Fn.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fn[t]=new gr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dx(t,e,n,r){var s=Fn.hasOwnProperty(e)?Fn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CD(e,n,s,r)&&(n=null),r||s===null?TD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var oo=ED.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Of=Symbol.for("react.element"),tc=Symbol.for("react.portal"),nc=Symbol.for("react.fragment"),Lx=Symbol.for("react.strict_mode"),Nv=Symbol.for("react.profiler"),ES=Symbol.for("react.provider"),NS=Symbol.for("react.context"),Ox=Symbol.for("react.forward_ref"),Tv=Symbol.for("react.suspense"),Sv=Symbol.for("react.suspense_list"),Vx=Symbol.for("react.memo"),Eo=Symbol.for("react.lazy"),TS=Symbol.for("react.offscreen"),s1=Symbol.iterator;function td(t){return t===null||typeof t!="object"?null:(t=s1&&t[s1]||t["@@iterator"],typeof t=="function"?t:null)}var Gt=Object.assign,Ey;function hd(t){if(Ey===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ey=e&&e[1]||""}return`
`+Ey+t}var Ny=!1;function Ty(t,e){if(!t||Ny)return"";Ny=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,c=i.length-1;1<=l&&0<=c&&s[l]!==i[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==i[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==i[c]){var d=`
`+s[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=c);break}}}finally{Ny=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hd(t):""}function kD(t){switch(t.tag){case 5:return hd(t.type);case 16:return hd("Lazy");case 13:return hd("Suspense");case 19:return hd("SuspenseList");case 0:case 2:case 15:return t=Ty(t.type,!1),t;case 11:return t=Ty(t.type.render,!1),t;case 1:return t=Ty(t.type,!0),t;default:return""}}function Cv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nc:return"Fragment";case tc:return"Portal";case Nv:return"Profiler";case Lx:return"StrictMode";case Tv:return"Suspense";case Sv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NS:return(t.displayName||"Context")+".Consumer";case ES:return(t._context.displayName||"Context")+".Provider";case Ox:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vx:return e=t.displayName||null,e!==null?e:Cv(t.type)||"Memo";case Eo:e=t._payload,t=t._init;try{return Cv(t(e))}catch{}}return null}function PD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cv(e);case 8:return e===Lx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function na(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ID(t){var e=SS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vf(t){t._valueTracker||(t._valueTracker=ID(t))}function CS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=SS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Um(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kv(t,e){var n=e.checked;return Gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function i1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=na(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kS(t,e){e=e.checked,e!=null&&Dx(t,"checked",e,!1)}function Pv(t,e){kS(t,e);var n=na(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Iv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Iv(t,e.type,na(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function o1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Iv(t,e,n){(e!=="number"||Um(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fd=Array.isArray;function fc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+na(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function jv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return Gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function a1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(pe(92));if(fd(n)){if(1<n.length)throw Error(pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:na(n)}}function PS(t,e){var n=na(e.value),r=na(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function l1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Av(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ff,jS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ff=Ff||document.createElement("div"),Ff.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ff.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jD=["Webkit","ms","Moz","O"];Object.keys(Pd).forEach(function(t){jD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pd[e]=Pd[t]})});function AS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pd.hasOwnProperty(t)&&Pd[t]?(""+e).trim():e+"px"}function RS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=AS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var AD=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rv(t,e){if(e){if(AD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function Mv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dv=null;function Fx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lv=null,mc=null,pc=null;function c1(t){if(t=zh(t)){if(typeof Lv!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=Qp(e),Lv(t.stateNode,t.type,e))}}function MS(t){mc?pc?pc.push(t):pc=[t]:mc=t}function DS(){if(mc){var t=mc,e=pc;if(pc=mc=null,c1(t),e)for(t=0;t<e.length;t++)c1(e[t])}}function LS(t,e){return t(e)}function OS(){}var Sy=!1;function VS(t,e,n){if(Sy)return t(e,n);Sy=!0;try{return LS(t,e,n)}finally{Sy=!1,(mc!==null||pc!==null)&&(OS(),DS())}}function Yd(t,e){var n=t.stateNode;if(n===null)return null;var r=Qp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pe(231,e,typeof n));return n}var Ov=!1;if(Qi)try{var nd={};Object.defineProperty(nd,"passive",{get:function(){Ov=!0}}),window.addEventListener("test",nd,nd),window.removeEventListener("test",nd,nd)}catch{Ov=!1}function RD(t,e,n,r,s,i,l,c,d){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var Id=!1,$m=null,qm=!1,Vv=null,MD={onError:function(t){Id=!0,$m=t}};function DD(t,e,n,r,s,i,l,c,d){Id=!1,$m=null,RD.apply(MD,arguments)}function LD(t,e,n,r,s,i,l,c,d){if(DD.apply(this,arguments),Id){if(Id){var h=$m;Id=!1,$m=null}else throw Error(pe(198));qm||(qm=!0,Vv=h)}}function vl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function FS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function u1(t){if(vl(t)!==t)throw Error(pe(188))}function OD(t){var e=t.alternate;if(!e){if(e=vl(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return u1(s),t;if(i===r)return u1(s),e;i=i.sibling}throw Error(pe(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,r=i;break}if(c===r){l=!0,r=s,n=i;break}c=c.sibling}if(!l){for(c=i.child;c;){if(c===n){l=!0,n=i,r=s;break}if(c===r){l=!0,r=i,n=s;break}c=c.sibling}if(!l)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?t:e}function zS(t){return t=OD(t),t!==null?BS(t):null}function BS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BS(t);if(e!==null)return e;t=t.sibling}return null}var US=Zr.unstable_scheduleCallback,d1=Zr.unstable_cancelCallback,VD=Zr.unstable_shouldYield,FD=Zr.unstable_requestPaint,sn=Zr.unstable_now,zD=Zr.unstable_getCurrentPriorityLevel,zx=Zr.unstable_ImmediatePriority,$S=Zr.unstable_UserBlockingPriority,Hm=Zr.unstable_NormalPriority,BD=Zr.unstable_LowPriority,qS=Zr.unstable_IdlePriority,Wp=null,pi=null;function UD(t){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(Wp,t,void 0,(t.current.flags&128)===128)}catch{}}var Fs=Math.clz32?Math.clz32:HD,$D=Math.log,qD=Math.LN2;function HD(t){return t>>>=0,t===0?32:31-($D(t)/qD|0)|0}var zf=64,Bf=4194304;function md(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var c=l&~s;c!==0?r=md(c):(i&=l,i!==0&&(r=md(i)))}else l=n&~s,l!==0?r=md(l):i!==0&&(r=md(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fs(e),s=1<<n,r|=t[n],e&=~s;return r}function WD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Fs(i),c=1<<l,d=s[l];d===-1?(!(c&n)||c&r)&&(s[l]=WD(c,e)):d<=e&&(t.expiredLanes|=c),i&=~c}}function Fv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HS(){var t=zf;return zf<<=1,!(zf&4194240)&&(zf=64),t}function Cy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fs(e),t[e]=n}function KD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Fs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Bx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var wt=0;function WS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var GS,Ux,KS,ZS,QS,zv=!1,Uf=[],Uo=null,$o=null,qo=null,Xd=new Map,Jd=new Map,So=[],ZD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h1(t,e){switch(t){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":Xd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jd.delete(e.pointerId)}}function rd(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=zh(e),e!==null&&Ux(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function QD(t,e,n,r,s){switch(e){case"focusin":return Uo=rd(Uo,t,e,n,r,s),!0;case"dragenter":return $o=rd($o,t,e,n,r,s),!0;case"mouseover":return qo=rd(qo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Xd.set(i,rd(Xd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Jd.set(i,rd(Jd.get(i)||null,t,e,n,r,s)),!0}return!1}function YS(t){var e=Ra(t.target);if(e!==null){var n=vl(e);if(n!==null){if(e=n.tag,e===13){if(e=FS(n),e!==null){t.blockedOn=e,QS(t.priority,function(){KS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dv=r,n.target.dispatchEvent(r),Dv=null}else return e=zh(n),e!==null&&Ux(e),t.blockedOn=n,!1;e.shift()}return!0}function f1(t,e,n){gm(t)&&n.delete(e)}function YD(){zv=!1,Uo!==null&&gm(Uo)&&(Uo=null),$o!==null&&gm($o)&&($o=null),qo!==null&&gm(qo)&&(qo=null),Xd.forEach(f1),Jd.forEach(f1)}function sd(t,e){t.blockedOn===e&&(t.blockedOn=null,zv||(zv=!0,Zr.unstable_scheduleCallback(Zr.unstable_NormalPriority,YD)))}function eh(t){function e(s){return sd(s,t)}if(0<Uf.length){sd(Uf[0],t);for(var n=1;n<Uf.length;n++){var r=Uf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Uo!==null&&sd(Uo,t),$o!==null&&sd($o,t),qo!==null&&sd(qo,t),Xd.forEach(e),Jd.forEach(e),n=0;n<So.length;n++)r=So[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<So.length&&(n=So[0],n.blockedOn===null);)YS(n),n.blockedOn===null&&So.shift()}var gc=oo.ReactCurrentBatchConfig,Gm=!0;function XD(t,e,n,r){var s=wt,i=gc.transition;gc.transition=null;try{wt=1,$x(t,e,n,r)}finally{wt=s,gc.transition=i}}function JD(t,e,n,r){var s=wt,i=gc.transition;gc.transition=null;try{wt=4,$x(t,e,n,r)}finally{wt=s,gc.transition=i}}function $x(t,e,n,r){if(Gm){var s=Bv(t,e,n,r);if(s===null)Oy(t,e,r,Km,n),h1(t,r);else if(QD(s,t,e,n,r))r.stopPropagation();else if(h1(t,r),e&4&&-1<ZD.indexOf(t)){for(;s!==null;){var i=zh(s);if(i!==null&&GS(i),i=Bv(t,e,n,r),i===null&&Oy(t,e,r,Km,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Oy(t,e,r,null,n)}}var Km=null;function Bv(t,e,n,r){if(Km=null,t=Fx(r),t=Ra(t),t!==null)if(e=vl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=FS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Km=t,null}function XS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zD()){case zx:return 1;case $S:return 4;case Hm:case BD:return 16;case qS:return 536870912;default:return 16}default:return 16}}var Lo=null,qx=null,ym=null;function JS(){if(ym)return ym;var t,e=qx,n=e.length,r,s="value"in Lo?Lo.value:Lo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[i-r];r++);return ym=s.slice(t,1<r?1-r:void 0)}function vm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $f(){return!0}function m1(){return!1}function Yr(t){function e(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$f:m1,this.isPropagationStopped=m1,this}return Gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$f)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$f)},persist:function(){},isPersistent:$f}),e}var iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hx=Yr(iu),Fh=Gt({},iu,{view:0,detail:0}),eL=Yr(Fh),ky,Py,id,Gp=Gt({},Fh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==id&&(id&&t.type==="mousemove"?(ky=t.screenX-id.screenX,Py=t.screenY-id.screenY):Py=ky=0,id=t),ky)},movementY:function(t){return"movementY"in t?t.movementY:Py}}),p1=Yr(Gp),tL=Gt({},Gp,{dataTransfer:0}),nL=Yr(tL),rL=Gt({},Fh,{relatedTarget:0}),Iy=Yr(rL),sL=Gt({},iu,{animationName:0,elapsedTime:0,pseudoElement:0}),iL=Yr(sL),oL=Gt({},iu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aL=Yr(oL),lL=Gt({},iu,{data:0}),g1=Yr(lL),cL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dL[t])?!!e[t]:!1}function Wx(){return hL}var fL=Gt({},Fh,{key:function(t){if(t.key){var e=cL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wx,charCode:function(t){return t.type==="keypress"?vm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mL=Yr(fL),pL=Gt({},Gp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y1=Yr(pL),gL=Gt({},Fh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wx}),yL=Yr(gL),vL=Gt({},iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),xL=Yr(vL),_L=Gt({},Gp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wL=Yr(_L),bL=[9,13,27,32],Gx=Qi&&"CompositionEvent"in window,jd=null;Qi&&"documentMode"in document&&(jd=document.documentMode);var EL=Qi&&"TextEvent"in window&&!jd,eC=Qi&&(!Gx||jd&&8<jd&&11>=jd),v1=" ",x1=!1;function tC(t,e){switch(t){case"keyup":return bL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rc=!1;function NL(t,e){switch(t){case"compositionend":return nC(e);case"keypress":return e.which!==32?null:(x1=!0,v1);case"textInput":return t=e.data,t===v1&&x1?null:t;default:return null}}function TL(t,e){if(rc)return t==="compositionend"||!Gx&&tC(t,e)?(t=JS(),ym=qx=Lo=null,rc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eC&&e.locale!=="ko"?null:e.data;default:return null}}var SL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SL[t.type]:e==="textarea"}function rC(t,e,n,r){MS(r),e=Zm(e,"onChange"),0<e.length&&(n=new Hx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ad=null,th=null;function CL(t){mC(t,0)}function Kp(t){var e=oc(t);if(CS(e))return t}function kL(t,e){if(t==="change")return e}var sC=!1;if(Qi){var jy;if(Qi){var Ay="oninput"in document;if(!Ay){var w1=document.createElement("div");w1.setAttribute("oninput","return;"),Ay=typeof w1.oninput=="function"}jy=Ay}else jy=!1;sC=jy&&(!document.documentMode||9<document.documentMode)}function b1(){Ad&&(Ad.detachEvent("onpropertychange",iC),th=Ad=null)}function iC(t){if(t.propertyName==="value"&&Kp(th)){var e=[];rC(e,th,t,Fx(t)),VS(CL,e)}}function PL(t,e,n){t==="focusin"?(b1(),Ad=e,th=n,Ad.attachEvent("onpropertychange",iC)):t==="focusout"&&b1()}function IL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kp(th)}function jL(t,e){if(t==="click")return Kp(e)}function AL(t,e){if(t==="input"||t==="change")return Kp(e)}function RL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Us=typeof Object.is=="function"?Object.is:RL;function nh(t,e){if(Us(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ev.call(e,s)||!Us(t[s],e[s]))return!1}return!0}function E1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function N1(t,e){var n=E1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E1(n)}}function oC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aC(){for(var t=window,e=Um();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Um(t.document)}return e}function Kx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ML(t){var e=aC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oC(n.ownerDocument.documentElement,n)){if(r!==null&&Kx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=N1(n,i);var l=N1(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DL=Qi&&"documentMode"in document&&11>=document.documentMode,sc=null,Uv=null,Rd=null,$v=!1;function T1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$v||sc==null||sc!==Um(r)||(r=sc,"selectionStart"in r&&Kx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rd&&nh(Rd,r)||(Rd=r,r=Zm(Uv,"onSelect"),0<r.length&&(e=new Hx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sc)))}function qf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ic={animationend:qf("Animation","AnimationEnd"),animationiteration:qf("Animation","AnimationIteration"),animationstart:qf("Animation","AnimationStart"),transitionend:qf("Transition","TransitionEnd")},Ry={},lC={};Qi&&(lC=document.createElement("div").style,"AnimationEvent"in window||(delete ic.animationend.animation,delete ic.animationiteration.animation,delete ic.animationstart.animation),"TransitionEvent"in window||delete ic.transitionend.transition);function Zp(t){if(Ry[t])return Ry[t];if(!ic[t])return t;var e=ic[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lC)return Ry[t]=e[n];return t}var cC=Zp("animationend"),uC=Zp("animationiteration"),dC=Zp("animationstart"),hC=Zp("transitionend"),fC=new Map,S1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ha(t,e){fC.set(t,e),yl(e,[t])}for(var My=0;My<S1.length;My++){var Dy=S1[My],LL=Dy.toLowerCase(),OL=Dy[0].toUpperCase()+Dy.slice(1);ha(LL,"on"+OL)}ha(cC,"onAnimationEnd");ha(uC,"onAnimationIteration");ha(dC,"onAnimationStart");ha("dblclick","onDoubleClick");ha("focusin","onFocus");ha("focusout","onBlur");ha(hC,"onTransitionEnd");Oc("onMouseEnter",["mouseout","mouseover"]);Oc("onMouseLeave",["mouseout","mouseover"]);Oc("onPointerEnter",["pointerout","pointerover"]);Oc("onPointerLeave",["pointerout","pointerover"]);yl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yl("onBeforeInput",["compositionend","keypress","textInput","paste"]);yl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VL=new Set("cancel close invalid load scroll toggle".split(" ").concat(pd));function C1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LD(r,e,void 0,t),t.currentTarget=null}function mC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var l=r.length-1;0<=l;l--){var c=r[l],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==i&&s.isPropagationStopped())break e;C1(s,c,h),i=d}else for(l=0;l<r.length;l++){if(c=r[l],d=c.instance,h=c.currentTarget,c=c.listener,d!==i&&s.isPropagationStopped())break e;C1(s,c,h),i=d}}}if(qm)throw t=Vv,qm=!1,Vv=null,t}function Mt(t,e){var n=e[Kv];n===void 0&&(n=e[Kv]=new Set);var r=t+"__bubble";n.has(r)||(pC(e,t,2,!1),n.add(r))}function Ly(t,e,n){var r=0;e&&(r|=4),pC(n,t,r,e)}var Hf="_reactListening"+Math.random().toString(36).slice(2);function rh(t){if(!t[Hf]){t[Hf]=!0,bS.forEach(function(n){n!=="selectionchange"&&(VL.has(n)||Ly(n,!1,t),Ly(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hf]||(e[Hf]=!0,Ly("selectionchange",!1,e))}}function pC(t,e,n,r){switch(XS(e)){case 1:var s=XD;break;case 4:s=JD;break;default:s=$x}n=s.bind(null,e,n,t),s=void 0,!Ov||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Oy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;c!==null;){if(l=Ra(c),l===null)return;if(d=l.tag,d===5||d===6){r=i=l;continue e}c=c.parentNode}}r=r.return}VS(function(){var h=i,p=Fx(n),g=[];e:{var y=fC.get(t);if(y!==void 0){var w=Hx,N=t;switch(t){case"keypress":if(vm(n)===0)break e;case"keydown":case"keyup":w=mL;break;case"focusin":N="focus",w=Iy;break;case"focusout":N="blur",w=Iy;break;case"beforeblur":case"afterblur":w=Iy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=p1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=nL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=yL;break;case cC:case uC:case dC:w=iL;break;case hC:w=xL;break;case"scroll":w=eL;break;case"wheel":w=wL;break;case"copy":case"cut":case"paste":w=aL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=y1}var v=(e&4)!==0,S=!v&&t==="scroll",E=v?y!==null?y+"Capture":null:y;v=[];for(var T=h,C;T!==null;){C=T;var R=C.stateNode;if(C.tag===5&&R!==null&&(C=R,E!==null&&(R=Yd(T,E),R!=null&&v.push(sh(T,R,C)))),S)break;T=T.return}0<v.length&&(y=new w(y,N,null,n,p),g.push({event:y,listeners:v}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",y&&n!==Dv&&(N=n.relatedTarget||n.fromElement)&&(Ra(N)||N[Yi]))break e;if((w||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,w?(N=n.relatedTarget||n.toElement,w=h,N=N?Ra(N):null,N!==null&&(S=vl(N),N!==S||N.tag!==5&&N.tag!==6)&&(N=null)):(w=null,N=h),w!==N)){if(v=p1,R="onMouseLeave",E="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(v=y1,R="onPointerLeave",E="onPointerEnter",T="pointer"),S=w==null?y:oc(w),C=N==null?y:oc(N),y=new v(R,T+"leave",w,n,p),y.target=S,y.relatedTarget=C,R=null,Ra(p)===h&&(v=new v(E,T+"enter",N,n,p),v.target=C,v.relatedTarget=S,R=v),S=R,w&&N)t:{for(v=w,E=N,T=0,C=v;C;C=Gl(C))T++;for(C=0,R=E;R;R=Gl(R))C++;for(;0<T-C;)v=Gl(v),T--;for(;0<C-T;)E=Gl(E),C--;for(;T--;){if(v===E||E!==null&&v===E.alternate)break t;v=Gl(v),E=Gl(E)}v=null}else v=null;w!==null&&k1(g,y,w,v,!1),N!==null&&S!==null&&k1(g,S,N,v,!0)}}e:{if(y=h?oc(h):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var F=kL;else if(_1(y))if(sC)F=AL;else{F=IL;var U=PL}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(F=jL);if(F&&(F=F(t,h))){rC(g,F,n,p);break e}U&&U(t,y,h),t==="focusout"&&(U=y._wrapperState)&&U.controlled&&y.type==="number"&&Iv(y,"number",y.value)}switch(U=h?oc(h):window,t){case"focusin":(_1(U)||U.contentEditable==="true")&&(sc=U,Uv=h,Rd=null);break;case"focusout":Rd=Uv=sc=null;break;case"mousedown":$v=!0;break;case"contextmenu":case"mouseup":case"dragend":$v=!1,T1(g,n,p);break;case"selectionchange":if(DL)break;case"keydown":case"keyup":T1(g,n,p)}var j;if(Gx)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else rc?tC(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(eC&&n.locale!=="ko"&&(rc||I!=="onCompositionStart"?I==="onCompositionEnd"&&rc&&(j=JS()):(Lo=p,qx="value"in Lo?Lo.value:Lo.textContent,rc=!0)),U=Zm(h,I),0<U.length&&(I=new g1(I,t,null,n,p),g.push({event:I,listeners:U}),j?I.data=j:(j=nC(n),j!==null&&(I.data=j)))),(j=EL?NL(t,n):TL(t,n))&&(h=Zm(h,"onBeforeInput"),0<h.length&&(p=new g1("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:h}),p.data=j))}mC(g,e)})}function sh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yd(t,n),i!=null&&r.unshift(sh(t,i,s)),i=Yd(t,e),i!=null&&r.push(sh(t,i,s))),t=t.return}return r}function Gl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k1(t,e,n,r,s){for(var i=e._reactName,l=[];n!==null&&n!==r;){var c=n,d=c.alternate,h=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&h!==null&&(c=h,s?(d=Yd(n,i),d!=null&&l.unshift(sh(n,d,c))):s||(d=Yd(n,i),d!=null&&l.push(sh(n,d,c)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var FL=/\r\n?/g,zL=/\u0000|\uFFFD/g;function P1(t){return(typeof t=="string"?t:""+t).replace(FL,`
`).replace(zL,"")}function Wf(t,e,n){if(e=P1(e),P1(t)!==e&&n)throw Error(pe(425))}function Qm(){}var qv=null,Hv=null;function Wv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gv=typeof setTimeout=="function"?setTimeout:void 0,BL=typeof clearTimeout=="function"?clearTimeout:void 0,I1=typeof Promise=="function"?Promise:void 0,UL=typeof queueMicrotask=="function"?queueMicrotask:typeof I1<"u"?function(t){return I1.resolve(null).then(t).catch($L)}:Gv;function $L(t){setTimeout(function(){throw t})}function Vy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),eh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);eh(e)}function Ho(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ou=Math.random().toString(36).slice(2),ci="__reactFiber$"+ou,ih="__reactProps$"+ou,Yi="__reactContainer$"+ou,Kv="__reactEvents$"+ou,qL="__reactListeners$"+ou,HL="__reactHandles$"+ou;function Ra(t){var e=t[ci];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yi]||n[ci]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j1(t);t!==null;){if(n=t[ci])return n;t=j1(t)}return e}t=n,n=t.parentNode}return null}function zh(t){return t=t[ci]||t[Yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function Qp(t){return t[ih]||null}var Zv=[],ac=-1;function fa(t){return{current:t}}function Lt(t){0>ac||(t.current=Zv[ac],Zv[ac]=null,ac--)}function jt(t,e){ac++,Zv[ac]=t.current,t.current=e}var ra={},sr=fa(ra),Cr=fa(!1),Ya=ra;function Vc(t,e){var n=t.type.contextTypes;if(!n)return ra;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function kr(t){return t=t.childContextTypes,t!=null}function Ym(){Lt(Cr),Lt(sr)}function A1(t,e,n){if(sr.current!==ra)throw Error(pe(168));jt(sr,e),jt(Cr,n)}function gC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(pe(108,PD(t)||"Unknown",s));return Gt({},n,r)}function Xm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ra,Ya=sr.current,jt(sr,t),jt(Cr,Cr.current),!0}function R1(t,e,n){var r=t.stateNode;if(!r)throw Error(pe(169));n?(t=gC(t,e,Ya),r.__reactInternalMemoizedMergedChildContext=t,Lt(Cr),Lt(sr),jt(sr,t)):Lt(Cr),jt(Cr,n)}var zi=null,Yp=!1,Fy=!1;function yC(t){zi===null?zi=[t]:zi.push(t)}function WL(t){Yp=!0,yC(t)}function ma(){if(!Fy&&zi!==null){Fy=!0;var t=0,e=wt;try{var n=zi;for(wt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zi=null,Yp=!1}catch(s){throw zi!==null&&(zi=zi.slice(t+1)),US(zx,ma),s}finally{wt=e,Fy=!1}}return null}var lc=[],cc=0,Jm=null,ep=0,us=[],ds=0,Xa=null,$i=1,qi="";function Ia(t,e){lc[cc++]=ep,lc[cc++]=Jm,Jm=t,ep=e}function vC(t,e,n){us[ds++]=$i,us[ds++]=qi,us[ds++]=Xa,Xa=t;var r=$i;t=qi;var s=32-Fs(r)-1;r&=~(1<<s),n+=1;var i=32-Fs(e)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,$i=1<<32-Fs(e)+s|n<<s|r,qi=i+t}else $i=1<<i|n<<s|r,qi=t}function Zx(t){t.return!==null&&(Ia(t,1),vC(t,1,0))}function Qx(t){for(;t===Jm;)Jm=lc[--cc],lc[cc]=null,ep=lc[--cc],lc[cc]=null;for(;t===Xa;)Xa=us[--ds],us[ds]=null,qi=us[--ds],us[ds]=null,$i=us[--ds],us[ds]=null}var Wr=null,qr=null,zt=!1,Ls=null;function xC(t,e){var n=ms(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function M1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wr=t,qr=Ho(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wr=t,qr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xa!==null?{id:$i,overflow:qi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ms(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wr=t,qr=null,!0):!1;default:return!1}}function Qv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yv(t){if(zt){var e=qr;if(e){var n=e;if(!M1(t,e)){if(Qv(t))throw Error(pe(418));e=Ho(n.nextSibling);var r=Wr;e&&M1(t,e)?xC(r,n):(t.flags=t.flags&-4097|2,zt=!1,Wr=t)}}else{if(Qv(t))throw Error(pe(418));t.flags=t.flags&-4097|2,zt=!1,Wr=t}}}function D1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wr=t}function Gf(t){if(t!==Wr)return!1;if(!zt)return D1(t),zt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wv(t.type,t.memoizedProps)),e&&(e=qr)){if(Qv(t))throw _C(),Error(pe(418));for(;e;)xC(t,e),e=Ho(e.nextSibling)}if(D1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qr=Ho(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qr=null}}else qr=Wr?Ho(t.stateNode.nextSibling):null;return!0}function _C(){for(var t=qr;t;)t=Ho(t.nextSibling)}function Fc(){qr=Wr=null,zt=!1}function Yx(t){Ls===null?Ls=[t]:Ls.push(t)}var GL=oo.ReactCurrentBatchConfig;function od(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var c=s.refs;l===null?delete c[i]:c[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,t))}return t}function Kf(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function L1(t){var e=t._init;return e(t._payload)}function wC(t){function e(E,T){if(t){var C=E.deletions;C===null?(E.deletions=[T],E.flags|=16):C.push(T)}}function n(E,T){if(!t)return null;for(;T!==null;)e(E,T),T=T.sibling;return null}function r(E,T){for(E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function s(E,T){return E=Zo(E,T),E.index=0,E.sibling=null,E}function i(E,T,C){return E.index=C,t?(C=E.alternate,C!==null?(C=C.index,C<T?(E.flags|=2,T):C):(E.flags|=2,T)):(E.flags|=1048576,T)}function l(E){return t&&E.alternate===null&&(E.flags|=2),E}function c(E,T,C,R){return T===null||T.tag!==6?(T=Wy(C,E.mode,R),T.return=E,T):(T=s(T,C),T.return=E,T)}function d(E,T,C,R){var F=C.type;return F===nc?p(E,T,C.props.children,R,C.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Eo&&L1(F)===T.type)?(R=s(T,C.props),R.ref=od(E,T,C),R.return=E,R):(R=Tm(C.type,C.key,C.props,null,E.mode,R),R.ref=od(E,T,C),R.return=E,R)}function h(E,T,C,R){return T===null||T.tag!==4||T.stateNode.containerInfo!==C.containerInfo||T.stateNode.implementation!==C.implementation?(T=Gy(C,E.mode,R),T.return=E,T):(T=s(T,C.children||[]),T.return=E,T)}function p(E,T,C,R,F){return T===null||T.tag!==7?(T=Wa(C,E.mode,R,F),T.return=E,T):(T=s(T,C),T.return=E,T)}function g(E,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Wy(""+T,E.mode,C),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Of:return C=Tm(T.type,T.key,T.props,null,E.mode,C),C.ref=od(E,null,T),C.return=E,C;case tc:return T=Gy(T,E.mode,C),T.return=E,T;case Eo:var R=T._init;return g(E,R(T._payload),C)}if(fd(T)||td(T))return T=Wa(T,E.mode,C,null),T.return=E,T;Kf(E,T)}return null}function y(E,T,C,R){var F=T!==null?T.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return F!==null?null:c(E,T,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Of:return C.key===F?d(E,T,C,R):null;case tc:return C.key===F?h(E,T,C,R):null;case Eo:return F=C._init,y(E,T,F(C._payload),R)}if(fd(C)||td(C))return F!==null?null:p(E,T,C,R,null);Kf(E,C)}return null}function w(E,T,C,R,F){if(typeof R=="string"&&R!==""||typeof R=="number")return E=E.get(C)||null,c(T,E,""+R,F);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Of:return E=E.get(R.key===null?C:R.key)||null,d(T,E,R,F);case tc:return E=E.get(R.key===null?C:R.key)||null,h(T,E,R,F);case Eo:var U=R._init;return w(E,T,C,U(R._payload),F)}if(fd(R)||td(R))return E=E.get(C)||null,p(T,E,R,F,null);Kf(T,R)}return null}function N(E,T,C,R){for(var F=null,U=null,j=T,I=T=0,A=null;j!==null&&I<C.length;I++){j.index>I?(A=j,j=null):A=j.sibling;var D=y(E,j,C[I],R);if(D===null){j===null&&(j=A);break}t&&j&&D.alternate===null&&e(E,j),T=i(D,T,I),U===null?F=D:U.sibling=D,U=D,j=A}if(I===C.length)return n(E,j),zt&&Ia(E,I),F;if(j===null){for(;I<C.length;I++)j=g(E,C[I],R),j!==null&&(T=i(j,T,I),U===null?F=j:U.sibling=j,U=j);return zt&&Ia(E,I),F}for(j=r(E,j);I<C.length;I++)A=w(j,E,I,C[I],R),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?I:A.key),T=i(A,T,I),U===null?F=A:U.sibling=A,U=A);return t&&j.forEach(function(z){return e(E,z)}),zt&&Ia(E,I),F}function v(E,T,C,R){var F=td(C);if(typeof F!="function")throw Error(pe(150));if(C=F.call(C),C==null)throw Error(pe(151));for(var U=F=null,j=T,I=T=0,A=null,D=C.next();j!==null&&!D.done;I++,D=C.next()){j.index>I?(A=j,j=null):A=j.sibling;var z=y(E,j,D.value,R);if(z===null){j===null&&(j=A);break}t&&j&&z.alternate===null&&e(E,j),T=i(z,T,I),U===null?F=z:U.sibling=z,U=z,j=A}if(D.done)return n(E,j),zt&&Ia(E,I),F;if(j===null){for(;!D.done;I++,D=C.next())D=g(E,D.value,R),D!==null&&(T=i(D,T,I),U===null?F=D:U.sibling=D,U=D);return zt&&Ia(E,I),F}for(j=r(E,j);!D.done;I++,D=C.next())D=w(j,E,I,D.value,R),D!==null&&(t&&D.alternate!==null&&j.delete(D.key===null?I:D.key),T=i(D,T,I),U===null?F=D:U.sibling=D,U=D);return t&&j.forEach(function(B){return e(E,B)}),zt&&Ia(E,I),F}function S(E,T,C,R){if(typeof C=="object"&&C!==null&&C.type===nc&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Of:e:{for(var F=C.key,U=T;U!==null;){if(U.key===F){if(F=C.type,F===nc){if(U.tag===7){n(E,U.sibling),T=s(U,C.props.children),T.return=E,E=T;break e}}else if(U.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Eo&&L1(F)===U.type){n(E,U.sibling),T=s(U,C.props),T.ref=od(E,U,C),T.return=E,E=T;break e}n(E,U);break}else e(E,U);U=U.sibling}C.type===nc?(T=Wa(C.props.children,E.mode,R,C.key),T.return=E,E=T):(R=Tm(C.type,C.key,C.props,null,E.mode,R),R.ref=od(E,T,C),R.return=E,E=R)}return l(E);case tc:e:{for(U=C.key;T!==null;){if(T.key===U)if(T.tag===4&&T.stateNode.containerInfo===C.containerInfo&&T.stateNode.implementation===C.implementation){n(E,T.sibling),T=s(T,C.children||[]),T.return=E,E=T;break e}else{n(E,T);break}else e(E,T);T=T.sibling}T=Gy(C,E.mode,R),T.return=E,E=T}return l(E);case Eo:return U=C._init,S(E,T,U(C._payload),R)}if(fd(C))return N(E,T,C,R);if(td(C))return v(E,T,C,R);Kf(E,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,T!==null&&T.tag===6?(n(E,T.sibling),T=s(T,C),T.return=E,E=T):(n(E,T),T=Wy(C,E.mode,R),T.return=E,E=T),l(E)):n(E,T)}return S}var zc=wC(!0),bC=wC(!1),tp=fa(null),np=null,uc=null,Xx=null;function Jx(){Xx=uc=np=null}function e_(t){var e=tp.current;Lt(tp),t._currentValue=e}function Xv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yc(t,e){np=t,Xx=uc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sr=!0),t.firstContext=null)}function xs(t){var e=t._currentValue;if(Xx!==t)if(t={context:t,memoizedValue:e,next:null},uc===null){if(np===null)throw Error(pe(308));uc=t,np.dependencies={lanes:0,firstContext:t}}else uc=uc.next=t;return e}var Ma=null;function t_(t){Ma===null?Ma=[t]:Ma.push(t)}function EC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,t_(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xi(t,r)}function Xi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var No=!1;function n_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ki(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,mt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Xi(t,n)}return s=r.interleaved,s===null?(e.next=e,t_(r)):(e.next=s.next,s.next=e),r.interleaved=e,Xi(t,n)}function xm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bx(t,n)}}function O1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rp(t,e,n,r){var s=t.updateQueue;No=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var d=c,h=d.next;d.next=null,l===null?i=h:l.next=h,l=d;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==l&&(c===null?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=d))}if(i!==null){var g=s.baseState;l=0,p=h=d=null,c=i;do{var y=c.lane,w=c.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var N=t,v=c;switch(y=e,w=n,v.tag){case 1:if(N=v.payload,typeof N=="function"){g=N.call(w,g,y);break e}g=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=v.payload,y=typeof N=="function"?N.call(w,g,y):N,y==null)break e;g=Gt({},g,y);break e;case 2:No=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[c]:y.push(c))}else w={eventTime:w,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(h=p=w,d=g):p=p.next=w,l|=y;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;y=c,c=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(p===null&&(d=g),s.baseState=d,s.firstBaseUpdate=h,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);el|=l,t.lanes=l,t.memoizedState=g}}function V1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(pe(191,s));s.call(r)}}}var Bh={},gi=fa(Bh),oh=fa(Bh),ah=fa(Bh);function Da(t){if(t===Bh)throw Error(pe(174));return t}function r_(t,e){switch(jt(ah,e),jt(oh,t),jt(gi,Bh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Av(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Av(e,t)}Lt(gi),jt(gi,e)}function Bc(){Lt(gi),Lt(oh),Lt(ah)}function TC(t){Da(ah.current);var e=Da(gi.current),n=Av(e,t.type);e!==n&&(jt(oh,t),jt(gi,n))}function s_(t){oh.current===t&&(Lt(gi),Lt(oh))}var qt=fa(0);function sp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zy=[];function i_(){for(var t=0;t<zy.length;t++)zy[t]._workInProgressVersionPrimary=null;zy.length=0}var _m=oo.ReactCurrentDispatcher,By=oo.ReactCurrentBatchConfig,Ja=0,Wt=null,yn=null,kn=null,ip=!1,Md=!1,lh=0,KL=0;function Kn(){throw Error(pe(321))}function o_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Us(t[n],e[n]))return!1;return!0}function a_(t,e,n,r,s,i){if(Ja=i,Wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_m.current=t===null||t.memoizedState===null?XL:JL,t=n(r,s),Md){i=0;do{if(Md=!1,lh=0,25<=i)throw Error(pe(301));i+=1,kn=yn=null,e.updateQueue=null,_m.current=eO,t=n(r,s)}while(Md)}if(_m.current=op,e=yn!==null&&yn.next!==null,Ja=0,kn=yn=Wt=null,ip=!1,e)throw Error(pe(300));return t}function l_(){var t=lh!==0;return lh=0,t}function ri(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Wt.memoizedState=kn=t:kn=kn.next=t,kn}function _s(){if(yn===null){var t=Wt.alternate;t=t!==null?t.memoizedState:null}else t=yn.next;var e=kn===null?Wt.memoizedState:kn.next;if(e!==null)kn=e,yn=t;else{if(t===null)throw Error(pe(310));yn=t,t={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},kn===null?Wt.memoizedState=kn=t:kn=kn.next=t}return kn}function ch(t,e){return typeof e=="function"?e(t):e}function Uy(t){var e=_s(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=yn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var c=l=null,d=null,h=i;do{var p=h.lane;if((Ja&p)===p)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=g,l=r):d=d.next=g,Wt.lanes|=p,el|=p}h=h.next}while(h!==null&&h!==i);d===null?l=r:d.next=c,Us(r,e.memoizedState)||(Sr=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Wt.lanes|=i,el|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $y(t){var e=_s(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);Us(i,e.memoizedState)||(Sr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function SC(){}function CC(t,e){var n=Wt,r=_s(),s=e(),i=!Us(r.memoizedState,s);if(i&&(r.memoizedState=s,Sr=!0),r=r.queue,c_(IC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||kn!==null&&kn.memoizedState.tag&1){if(n.flags|=2048,uh(9,PC.bind(null,n,r,s,e),void 0,null),Pn===null)throw Error(pe(349));Ja&30||kC(n,e,s)}return s}function kC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PC(t,e,n,r){e.value=n,e.getSnapshot=r,jC(e)&&AC(t)}function IC(t,e,n){return n(function(){jC(e)&&AC(t)})}function jC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Us(t,n)}catch{return!0}}function AC(t){var e=Xi(t,1);e!==null&&zs(e,t,1,-1)}function F1(t){var e=ri();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ch,lastRenderedState:t},e.queue=t,t=t.dispatch=YL.bind(null,Wt,t),[e.memoizedState,t]}function uh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function RC(){return _s().memoizedState}function wm(t,e,n,r){var s=ri();Wt.flags|=t,s.memoizedState=uh(1|e,n,void 0,r===void 0?null:r)}function Xp(t,e,n,r){var s=_s();r=r===void 0?null:r;var i=void 0;if(yn!==null){var l=yn.memoizedState;if(i=l.destroy,r!==null&&o_(r,l.deps)){s.memoizedState=uh(e,n,i,r);return}}Wt.flags|=t,s.memoizedState=uh(1|e,n,i,r)}function z1(t,e){return wm(8390656,8,t,e)}function c_(t,e){return Xp(2048,8,t,e)}function MC(t,e){return Xp(4,2,t,e)}function DC(t,e){return Xp(4,4,t,e)}function LC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OC(t,e,n){return n=n!=null?n.concat([t]):null,Xp(4,4,LC.bind(null,e,t),n)}function u_(){}function VC(t,e){var n=_s();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&o_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FC(t,e){var n=_s();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&o_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zC(t,e,n){return Ja&21?(Us(n,e)||(n=HS(),Wt.lanes|=n,el|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sr=!0),t.memoizedState=n)}function ZL(t,e){var n=wt;wt=n!==0&&4>n?n:4,t(!0);var r=By.transition;By.transition={};try{t(!1),e()}finally{wt=n,By.transition=r}}function BC(){return _s().memoizedState}function QL(t,e,n){var r=Ko(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UC(t))$C(e,n);else if(n=EC(t,e,n,r),n!==null){var s=fr();zs(n,t,r,s),qC(n,e,r)}}function YL(t,e,n){var r=Ko(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UC(t))$C(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,c=i(l,n);if(s.hasEagerState=!0,s.eagerState=c,Us(c,l)){var d=e.interleaved;d===null?(s.next=s,t_(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}n=EC(t,e,s,r),n!==null&&(s=fr(),zs(n,t,r,s),qC(n,e,r))}}function UC(t){var e=t.alternate;return t===Wt||e!==null&&e===Wt}function $C(t,e){Md=ip=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bx(t,n)}}var op={readContext:xs,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},XL={readContext:xs,useCallback:function(t,e){return ri().memoizedState=[t,e===void 0?null:e],t},useContext:xs,useEffect:z1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wm(4194308,4,LC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wm(4194308,4,t,e)},useInsertionEffect:function(t,e){return wm(4,2,t,e)},useMemo:function(t,e){var n=ri();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ri();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QL.bind(null,Wt,t),[r.memoizedState,t]},useRef:function(t){var e=ri();return t={current:t},e.memoizedState=t},useState:F1,useDebugValue:u_,useDeferredValue:function(t){return ri().memoizedState=t},useTransition:function(){var t=F1(!1),e=t[0];return t=ZL.bind(null,t[1]),ri().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Wt,s=ri();if(zt){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=e(),Pn===null)throw Error(pe(349));Ja&30||kC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,z1(IC.bind(null,r,i,t),[t]),r.flags|=2048,uh(9,PC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ri(),e=Pn.identifierPrefix;if(zt){var n=qi,r=$i;n=(r&~(1<<32-Fs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JL={readContext:xs,useCallback:VC,useContext:xs,useEffect:c_,useImperativeHandle:OC,useInsertionEffect:MC,useLayoutEffect:DC,useMemo:FC,useReducer:Uy,useRef:RC,useState:function(){return Uy(ch)},useDebugValue:u_,useDeferredValue:function(t){var e=_s();return zC(e,yn.memoizedState,t)},useTransition:function(){var t=Uy(ch)[0],e=_s().memoizedState;return[t,e]},useMutableSource:SC,useSyncExternalStore:CC,useId:BC,unstable_isNewReconciler:!1},eO={readContext:xs,useCallback:VC,useContext:xs,useEffect:c_,useImperativeHandle:OC,useInsertionEffect:MC,useLayoutEffect:DC,useMemo:FC,useReducer:$y,useRef:RC,useState:function(){return $y(ch)},useDebugValue:u_,useDeferredValue:function(t){var e=_s();return yn===null?e.memoizedState=t:zC(e,yn.memoizedState,t)},useTransition:function(){var t=$y(ch)[0],e=_s().memoizedState;return[t,e]},useMutableSource:SC,useSyncExternalStore:CC,useId:BC,unstable_isNewReconciler:!1};function js(t,e){if(t&&t.defaultProps){e=Gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jp={isMounted:function(t){return(t=t._reactInternals)?vl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fr(),s=Ko(t),i=Ki(r,s);i.payload=e,n!=null&&(i.callback=n),e=Wo(t,i,s),e!==null&&(zs(e,t,s,r),xm(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fr(),s=Ko(t),i=Ki(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Wo(t,i,s),e!==null&&(zs(e,t,s,r),xm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fr(),r=Ko(t),s=Ki(n,r);s.tag=2,e!=null&&(s.callback=e),e=Wo(t,s,r),e!==null&&(zs(e,t,r,n),xm(e,t,r))}};function B1(t,e,n,r,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,l):e.prototype&&e.prototype.isPureReactComponent?!nh(n,r)||!nh(s,i):!0}function HC(t,e,n){var r=!1,s=ra,i=e.contextType;return typeof i=="object"&&i!==null?i=xs(i):(s=kr(e)?Ya:sr.current,r=e.contextTypes,i=(r=r!=null)?Vc(t,s):ra),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function U1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jp.enqueueReplaceState(e,e.state,null)}function e0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},n_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xs(i):(i=kr(e)?Ya:sr.current,s.context=Vc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Jv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Jp.enqueueReplaceState(s,s.state,null),rp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Uc(t,e){try{var n="",r=e;do n+=kD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function qy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function t0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tO=typeof WeakMap=="function"?WeakMap:Map;function WC(t,e,n){n=Ki(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lp||(lp=!0,d0=r),t0(t,e)},n}function GC(t,e,n){n=Ki(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){t0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){t0(t,e),typeof r!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function $1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=pO.bind(null,t,e,n),e.then(t,t))}function q1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function H1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ki(-1,1),e.tag=2,Wo(n,e,1))),n.lanes|=1),t)}var nO=oo.ReactCurrentOwner,Sr=!1;function dr(t,e,n,r){e.child=t===null?bC(e,null,n,r):zc(e,t.child,n,r)}function W1(t,e,n,r,s){n=n.render;var i=e.ref;return yc(e,s),r=a_(t,e,n,r,i,s),n=l_(),t!==null&&!Sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ji(t,e,s)):(zt&&n&&Zx(e),e.flags|=1,dr(t,e,r,s),e.child)}function G1(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!v_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,KC(t,e,i,r,s)):(t=Tm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:nh,n(l,r)&&t.ref===e.ref)return Ji(t,e,s)}return e.flags|=1,t=Zo(i,r),t.ref=e.ref,t.return=e,e.child=t}function KC(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(nh(i,r)&&t.ref===e.ref)if(Sr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Sr=!0);else return e.lanes=t.lanes,Ji(t,e,s)}return n0(t,e,n,r,s)}function ZC(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(hc,Ur),Ur|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jt(hc,Ur),Ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,jt(hc,Ur),Ur|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,jt(hc,Ur),Ur|=r;return dr(t,e,s,n),e.child}function QC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function n0(t,e,n,r,s){var i=kr(n)?Ya:sr.current;return i=Vc(e,i),yc(e,s),n=a_(t,e,n,r,i,s),r=l_(),t!==null&&!Sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ji(t,e,s)):(zt&&r&&Zx(e),e.flags|=1,dr(t,e,n,s),e.child)}function K1(t,e,n,r,s){if(kr(n)){var i=!0;Xm(e)}else i=!1;if(yc(e,s),e.stateNode===null)bm(t,e),HC(e,n,r),e0(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,c=e.memoizedProps;l.props=c;var d=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=xs(h):(h=kr(n)?Ya:sr.current,h=Vc(e,h));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||d!==h)&&U1(e,l,r,h),No=!1;var y=e.memoizedState;l.state=y,rp(e,r,l,s),d=e.memoizedState,c!==r||y!==d||Cr.current||No?(typeof p=="function"&&(Jv(e,n,p,r),d=e.memoizedState),(c=No||B1(e,n,c,r,y,d,h))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),l.props=r,l.state=d,l.context=h,r=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,NC(t,e),c=e.memoizedProps,h=e.type===e.elementType?c:js(e.type,c),l.props=h,g=e.pendingProps,y=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=xs(d):(d=kr(n)?Ya:sr.current,d=Vc(e,d));var w=n.getDerivedStateFromProps;(p=typeof w=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==g||y!==d)&&U1(e,l,r,d),No=!1,y=e.memoizedState,l.state=y,rp(e,r,l,s);var N=e.memoizedState;c!==g||y!==N||Cr.current||No?(typeof w=="function"&&(Jv(e,n,w,r),N=e.memoizedState),(h=No||B1(e,n,h,r,y,N,d)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,N,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,N,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=N),l.props=r,l.state=N,l.context=d,r=h):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return r0(t,e,n,r,i,s)}function r0(t,e,n,r,s,i){QC(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&R1(e,n,!1),Ji(t,e,i);r=e.stateNode,nO.current=e;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=zc(e,t.child,null,i),e.child=zc(e,null,c,i)):dr(t,e,c,i),e.memoizedState=r.state,s&&R1(e,n,!0),e.child}function YC(t){var e=t.stateNode;e.pendingContext?A1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&A1(t,e.context,!1),r_(t,e.containerInfo)}function Z1(t,e,n,r,s){return Fc(),Yx(s),e.flags|=256,dr(t,e,n,r),e.child}var s0={dehydrated:null,treeContext:null,retryLane:0};function i0(t){return{baseLanes:t,cachePool:null,transitions:null}}function XC(t,e,n){var r=e.pendingProps,s=qt.current,i=!1,l=(e.flags&128)!==0,c;if((c=l)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),jt(qt,s&1),t===null)return Yv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,i?(r=e.mode,i=e.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ng(l,r,0,null),t=Wa(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=i0(n),e.memoizedState=s0,t):d_(e,l));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return rO(t,e,l,r,c,s,n);if(i){i=r.fallback,l=e.mode,s=t.child,c=s.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=Zo(s,d),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=Zo(c,i):(i=Wa(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l=l===null?i0(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=s0,r}return i=t.child,t=i.sibling,r=Zo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function d_(t,e){return e=ng({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zf(t,e,n,r){return r!==null&&Yx(r),zc(e,t.child,null,n),t=d_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rO(t,e,n,r,s,i,l){if(n)return e.flags&256?(e.flags&=-257,r=qy(Error(pe(422))),Zf(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ng({mode:"visible",children:r.children},s,0,null),i=Wa(i,s,l,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&zc(e,t.child,null,l),e.child.memoizedState=i0(l),e.memoizedState=s0,i);if(!(e.mode&1))return Zf(t,e,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(pe(419)),r=qy(i,r,void 0),Zf(t,e,l,r)}if(c=(l&t.childLanes)!==0,Sr||c){if(r=Pn,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xi(t,s),zs(r,t,s,-1))}return y_(),r=qy(Error(pe(421))),Zf(t,e,l,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qr=Ho(s.nextSibling),Wr=e,zt=!0,Ls=null,t!==null&&(us[ds++]=$i,us[ds++]=qi,us[ds++]=Xa,$i=t.id,qi=t.overflow,Xa=e),e=d_(e,r.children),e.flags|=4096,e)}function Q1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xv(t.return,e,n)}function Hy(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function JC(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(dr(t,e,r.children,n),r=qt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q1(t,n,e);else if(t.tag===19)Q1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(jt(qt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&sp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Hy(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&sp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Hy(e,!0,n,null,i);break;case"together":Hy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ji(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),el|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,n=Zo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sO(t,e,n){switch(e.tag){case 3:YC(e),Fc();break;case 5:TC(e);break;case 1:kr(e.type)&&Xm(e);break;case 4:r_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;jt(tp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(jt(qt,qt.current&1),e.flags|=128,null):n&e.child.childLanes?XC(t,e,n):(jt(qt,qt.current&1),t=Ji(t,e,n),t!==null?t.sibling:null);jt(qt,qt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JC(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),jt(qt,qt.current),r)break;return null;case 22:case 23:return e.lanes=0,ZC(t,e,n)}return Ji(t,e,n)}var ek,o0,tk,nk;ek=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};o0=function(){};tk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Da(gi.current);var i=null;switch(n){case"input":s=kv(t,s),r=kv(t,r),i=[];break;case"select":s=Gt({},s,{value:void 0}),r=Gt({},r,{value:void 0}),i=[];break;case"textarea":s=jv(t,s),r=jv(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qm)}Rv(n,r);var l;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var c=s[h];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Zd.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var d=r[h];if(c=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(l in c)!c.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&c[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(i||(i=[]),i.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(i=i||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Zd.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Mt("scroll",t),i||c===d||(i=[])):(i=i||[]).push(h,d))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};nk=function(t,e,n,r){n!==r&&(e.flags|=4)};function ad(t,e){if(!zt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iO(t,e,n){var r=e.pendingProps;switch(Qx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(e),null;case 1:return kr(e.type)&&Ym(),Zn(e),null;case 3:return r=e.stateNode,Bc(),Lt(Cr),Lt(sr),i_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ls!==null&&(m0(Ls),Ls=null))),o0(t,e),Zn(e),null;case 5:s_(e);var s=Da(ah.current);if(n=e.type,t!==null&&e.stateNode!=null)tk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pe(166));return Zn(e),null}if(t=Da(gi.current),Gf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ci]=e,r[ih]=i,t=(e.mode&1)!==0,n){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(s=0;s<pd.length;s++)Mt(pd[s],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":i1(r,i),Mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Mt("invalid",r);break;case"textarea":a1(r,i),Mt("invalid",r)}Rv(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&Wf(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Wf(r.textContent,c,t),s=["children",""+c]):Zd.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Mt("scroll",r)}switch(n){case"input":Vf(r),o1(r,i,!0);break;case"textarea":Vf(r),l1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Qm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[ci]=e,t[ih]=r,ek(t,e,!1,!1),e.stateNode=t;e:{switch(l=Mv(n,r),n){case"dialog":Mt("cancel",t),Mt("close",t),s=r;break;case"iframe":case"object":case"embed":Mt("load",t),s=r;break;case"video":case"audio":for(s=0;s<pd.length;s++)Mt(pd[s],t);s=r;break;case"source":Mt("error",t),s=r;break;case"img":case"image":case"link":Mt("error",t),Mt("load",t),s=r;break;case"details":Mt("toggle",t),s=r;break;case"input":i1(t,r),s=kv(t,r),Mt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Gt({},r,{value:void 0}),Mt("invalid",t);break;case"textarea":a1(t,r),s=jv(t,r),Mt("invalid",t);break;default:s=r}Rv(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var d=c[i];i==="style"?RS(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&jS(t,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Qd(t,d):typeof d=="number"&&Qd(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zd.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Mt("scroll",t):d!=null&&Dx(t,i,d,l))}switch(n){case"input":Vf(t),o1(t,r,!1);break;case"textarea":Vf(t),l1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+na(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?fc(t,!!r.multiple,i,!1):r.defaultValue!=null&&fc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zn(e),null;case 6:if(t&&e.stateNode!=null)nk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pe(166));if(n=Da(ah.current),Da(gi.current),Gf(e)){if(r=e.stateNode,n=e.memoizedProps,r[ci]=e,(i=r.nodeValue!==n)&&(t=Wr,t!==null))switch(t.tag){case 3:Wf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ci]=e,e.stateNode=r}return Zn(e),null;case 13:if(Lt(qt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zt&&qr!==null&&e.mode&1&&!(e.flags&128))_C(),Fc(),e.flags|=98560,i=!1;else if(i=Gf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(pe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pe(317));i[ci]=e}else Fc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zn(e),i=!1}else Ls!==null&&(m0(Ls),Ls=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qt.current&1?vn===0&&(vn=3):y_())),e.updateQueue!==null&&(e.flags|=4),Zn(e),null);case 4:return Bc(),o0(t,e),t===null&&rh(e.stateNode.containerInfo),Zn(e),null;case 10:return e_(e.type._context),Zn(e),null;case 17:return kr(e.type)&&Ym(),Zn(e),null;case 19:if(Lt(qt),i=e.memoizedState,i===null)return Zn(e),null;if(r=(e.flags&128)!==0,l=i.rendering,l===null)if(r)ad(i,!1);else{if(vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=sp(t),l!==null){for(e.flags|=128,ad(i,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return jt(qt,qt.current&1|2),e.child}t=t.sibling}i.tail!==null&&sn()>$c&&(e.flags|=128,r=!0,ad(i,!1),e.lanes=4194304)}else{if(!r)if(t=sp(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ad(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!zt)return Zn(e),null}else 2*sn()-i.renderingStartTime>$c&&n!==1073741824&&(e.flags|=128,r=!0,ad(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=sn(),e.sibling=null,n=qt.current,jt(qt,r?n&1|2:n&1),e):(Zn(e),null);case 22:case 23:return g_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ur&1073741824&&(Zn(e),e.subtreeFlags&6&&(e.flags|=8192)):Zn(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function oO(t,e){switch(Qx(e),e.tag){case 1:return kr(e.type)&&Ym(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bc(),Lt(Cr),Lt(sr),i_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return s_(e),null;case 13:if(Lt(qt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));Fc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lt(qt),null;case 4:return Bc(),null;case 10:return e_(e.type._context),null;case 22:case 23:return g_(),null;case 24:return null;default:return null}}var Qf=!1,Jn=!1,aO=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function dc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Jt(t,e,r)}else n.current=null}function a0(t,e,n){try{n()}catch(r){Jt(t,e,r)}}var Y1=!1;function lO(t,e){if(qv=Gm,t=aC(),Kx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,c=-1,d=-1,h=0,p=0,g=t,y=null;t:for(;;){for(var w;g!==n||s!==0&&g.nodeType!==3||(c=l+s),g!==i||r!==0&&g.nodeType!==3||(d=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(w=g.firstChild)!==null;)y=g,g=w;for(;;){if(g===t)break t;if(y===n&&++h===s&&(c=l),y===i&&++p===r&&(d=l),(w=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=w}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hv={focusedElem:t,selectionRange:n},Gm=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var v=N.memoizedProps,S=N.memoizedState,E=e.stateNode,T=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:js(e.type,v),S);E.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(R){Jt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return N=Y1,Y1=!1,N}function Dd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&a0(e,n,i)}s=s.next}while(s!==r)}}function eg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function l0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rk(t){var e=t.alternate;e!==null&&(t.alternate=null,rk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ci],delete e[ih],delete e[Kv],delete e[qL],delete e[HL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sk(t){return t.tag===5||t.tag===3||t.tag===4}function X1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function c0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qm));else if(r!==4&&(t=t.child,t!==null))for(c0(t,e,n),t=t.sibling;t!==null;)c0(t,e,n),t=t.sibling}function u0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(u0(t,e,n),t=t.sibling;t!==null;)u0(t,e,n),t=t.sibling}var Mn=null,Ds=!1;function yo(t,e,n){for(n=n.child;n!==null;)ik(t,e,n),n=n.sibling}function ik(t,e,n){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(Wp,n)}catch{}switch(n.tag){case 5:Jn||dc(n,e);case 6:var r=Mn,s=Ds;Mn=null,yo(t,e,n),Mn=r,Ds=s,Mn!==null&&(Ds?(t=Mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mn.removeChild(n.stateNode));break;case 18:Mn!==null&&(Ds?(t=Mn,n=n.stateNode,t.nodeType===8?Vy(t.parentNode,n):t.nodeType===1&&Vy(t,n),eh(t)):Vy(Mn,n.stateNode));break;case 4:r=Mn,s=Ds,Mn=n.stateNode.containerInfo,Ds=!0,yo(t,e,n),Mn=r,Ds=s;break;case 0:case 11:case 14:case 15:if(!Jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&a0(n,e,l),s=s.next}while(s!==r)}yo(t,e,n);break;case 1:if(!Jn&&(dc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Jt(n,e,c)}yo(t,e,n);break;case 21:yo(t,e,n);break;case 22:n.mode&1?(Jn=(r=Jn)||n.memoizedState!==null,yo(t,e,n),Jn=r):yo(t,e,n);break;default:yo(t,e,n)}}function J1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aO),e.forEach(function(r){var s=yO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ks(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 5:Mn=c.stateNode,Ds=!1;break e;case 3:Mn=c.stateNode.containerInfo,Ds=!0;break e;case 4:Mn=c.stateNode.containerInfo,Ds=!0;break e}c=c.return}if(Mn===null)throw Error(pe(160));ik(i,l,s),Mn=null,Ds=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(h){Jt(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ok(e,t),e=e.sibling}function ok(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ks(e,t),ni(t),r&4){try{Dd(3,t,t.return),eg(3,t)}catch(v){Jt(t,t.return,v)}try{Dd(5,t,t.return)}catch(v){Jt(t,t.return,v)}}break;case 1:ks(e,t),ni(t),r&512&&n!==null&&dc(n,n.return);break;case 5:if(ks(e,t),ni(t),r&512&&n!==null&&dc(n,n.return),t.flags&32){var s=t.stateNode;try{Qd(s,"")}catch(v){Jt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&kS(s,i),Mv(c,l);var h=Mv(c,i);for(l=0;l<d.length;l+=2){var p=d[l],g=d[l+1];p==="style"?RS(s,g):p==="dangerouslySetInnerHTML"?jS(s,g):p==="children"?Qd(s,g):Dx(s,p,g,h)}switch(c){case"input":Pv(s,i);break;case"textarea":PS(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?fc(s,!!i.multiple,w,!1):y!==!!i.multiple&&(i.defaultValue!=null?fc(s,!!i.multiple,i.defaultValue,!0):fc(s,!!i.multiple,i.multiple?[]:"",!1))}s[ih]=i}catch(v){Jt(t,t.return,v)}}break;case 6:if(ks(e,t),ni(t),r&4){if(t.stateNode===null)throw Error(pe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Jt(t,t.return,v)}}break;case 3:if(ks(e,t),ni(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eh(e.containerInfo)}catch(v){Jt(t,t.return,v)}break;case 4:ks(e,t),ni(t);break;case 13:ks(e,t),ni(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(m_=sn())),r&4&&J1(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Jn=(h=Jn)||p,ks(e,t),Jn=h):ks(e,t),ni(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(Pe=t,p=t.child;p!==null;){for(g=Pe=p;Pe!==null;){switch(y=Pe,w=y.child,y.tag){case 0:case 11:case 14:case 15:Dd(4,y,y.return);break;case 1:dc(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(v){Jt(r,n,v)}}break;case 5:dc(y,y.return);break;case 22:if(y.memoizedState!==null){tE(g);continue}}w!==null?(w.return=y,Pe=w):tE(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=g.stateNode,d=g.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=AS("display",l))}catch(v){Jt(t,t.return,v)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(v){Jt(t,t.return,v)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ks(e,t),ni(t),r&4&&J1(t);break;case 21:break;default:ks(e,t),ni(t)}}function ni(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sk(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Qd(s,""),r.flags&=-33);var i=X1(t);u0(t,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,c=X1(t);c0(t,c,l);break;default:throw Error(pe(161))}}catch(d){Jt(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cO(t,e,n){Pe=t,ak(t)}function ak(t,e,n){for(var r=(t.mode&1)!==0;Pe!==null;){var s=Pe,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Qf;if(!l){var c=s.alternate,d=c!==null&&c.memoizedState!==null||Jn;c=Qf;var h=Jn;if(Qf=l,(Jn=d)&&!h)for(Pe=s;Pe!==null;)l=Pe,d=l.child,l.tag===22&&l.memoizedState!==null?nE(s):d!==null?(d.return=l,Pe=d):nE(s);for(;i!==null;)Pe=i,ak(i),i=i.sibling;Pe=s,Qf=c,Jn=h}eE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Pe=i):eE(t)}}function eE(t){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jn||eg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:js(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&V1(e,i,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}V1(e,l,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&eh(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Jn||e.flags&512&&l0(e)}catch(y){Jt(e,e.return,y)}}if(e===t){Pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Pe=n;break}Pe=e.return}}function tE(t){for(;Pe!==null;){var e=Pe;if(e===t){Pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Pe=n;break}Pe=e.return}}function nE(t){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{eg(4,e)}catch(d){Jt(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(d){Jt(e,s,d)}}var i=e.return;try{l0(e)}catch(d){Jt(e,i,d)}break;case 5:var l=e.return;try{l0(e)}catch(d){Jt(e,l,d)}}}catch(d){Jt(e,e.return,d)}if(e===t){Pe=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Pe=c;break}Pe=e.return}}var uO=Math.ceil,ap=oo.ReactCurrentDispatcher,h_=oo.ReactCurrentOwner,ps=oo.ReactCurrentBatchConfig,mt=0,Pn=null,un=null,Vn=0,Ur=0,hc=fa(0),vn=0,dh=null,el=0,tg=0,f_=0,Ld=null,Er=null,m_=0,$c=1/0,Fi=null,lp=!1,d0=null,Go=null,Yf=!1,Oo=null,cp=0,Od=0,h0=null,Em=-1,Nm=0;function fr(){return mt&6?sn():Em!==-1?Em:Em=sn()}function Ko(t){return t.mode&1?mt&2&&Vn!==0?Vn&-Vn:GL.transition!==null?(Nm===0&&(Nm=HS()),Nm):(t=wt,t!==0||(t=window.event,t=t===void 0?16:XS(t.type)),t):1}function zs(t,e,n,r){if(50<Od)throw Od=0,h0=null,Error(pe(185));Vh(t,n,r),(!(mt&2)||t!==Pn)&&(t===Pn&&(!(mt&2)&&(tg|=n),vn===4&&Co(t,Vn)),Pr(t,r),n===1&&mt===0&&!(e.mode&1)&&($c=sn()+500,Yp&&ma()))}function Pr(t,e){var n=t.callbackNode;GD(t,e);var r=Wm(t,t===Pn?Vn:0);if(r===0)n!==null&&d1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&d1(n),e===1)t.tag===0?WL(rE.bind(null,t)):yC(rE.bind(null,t)),UL(function(){!(mt&6)&&ma()}),n=null;else{switch(WS(r)){case 1:n=zx;break;case 4:n=$S;break;case 16:n=Hm;break;case 536870912:n=qS;break;default:n=Hm}n=pk(n,lk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lk(t,e){if(Em=-1,Nm=0,mt&6)throw Error(pe(327));var n=t.callbackNode;if(vc()&&t.callbackNode!==n)return null;var r=Wm(t,t===Pn?Vn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=up(t,r);else{e=r;var s=mt;mt|=2;var i=uk();(Pn!==t||Vn!==e)&&(Fi=null,$c=sn()+500,Ha(t,e));do try{fO();break}catch(c){ck(t,c)}while(!0);Jx(),ap.current=i,mt=s,un!==null?e=0:(Pn=null,Vn=0,e=vn)}if(e!==0){if(e===2&&(s=Fv(t),s!==0&&(r=s,e=f0(t,s))),e===1)throw n=dh,Ha(t,0),Co(t,r),Pr(t,sn()),n;if(e===6)Co(t,r);else{if(s=t.current.alternate,!(r&30)&&!dO(s)&&(e=up(t,r),e===2&&(i=Fv(t),i!==0&&(r=i,e=f0(t,i))),e===1))throw n=dh,Ha(t,0),Co(t,r),Pr(t,sn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(pe(345));case 2:ja(t,Er,Fi);break;case 3:if(Co(t,r),(r&130023424)===r&&(e=m_+500-sn(),10<e)){if(Wm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){fr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Gv(ja.bind(null,t,Er,Fi),e);break}ja(t,Er,Fi);break;case 4:if(Co(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-Fs(r);i=1<<l,l=e[l],l>s&&(s=l),r&=~i}if(r=s,r=sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uO(r/1960))-r,10<r){t.timeoutHandle=Gv(ja.bind(null,t,Er,Fi),r);break}ja(t,Er,Fi);break;case 5:ja(t,Er,Fi);break;default:throw Error(pe(329))}}}return Pr(t,sn()),t.callbackNode===n?lk.bind(null,t):null}function f0(t,e){var n=Ld;return t.current.memoizedState.isDehydrated&&(Ha(t,e).flags|=256),t=up(t,e),t!==2&&(e=Er,Er=n,e!==null&&m0(e)),t}function m0(t){Er===null?Er=t:Er.push.apply(Er,t)}function dO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Us(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Co(t,e){for(e&=~f_,e&=~tg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fs(e),r=1<<n;t[n]=-1,e&=~r}}function rE(t){if(mt&6)throw Error(pe(327));vc();var e=Wm(t,0);if(!(e&1))return Pr(t,sn()),null;var n=up(t,e);if(t.tag!==0&&n===2){var r=Fv(t);r!==0&&(e=r,n=f0(t,r))}if(n===1)throw n=dh,Ha(t,0),Co(t,e),Pr(t,sn()),n;if(n===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ja(t,Er,Fi),Pr(t,sn()),null}function p_(t,e){var n=mt;mt|=1;try{return t(e)}finally{mt=n,mt===0&&($c=sn()+500,Yp&&ma())}}function tl(t){Oo!==null&&Oo.tag===0&&!(mt&6)&&vc();var e=mt;mt|=1;var n=ps.transition,r=wt;try{if(ps.transition=null,wt=1,t)return t()}finally{wt=r,ps.transition=n,mt=e,!(mt&6)&&ma()}}function g_(){Ur=hc.current,Lt(hc)}function Ha(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BL(n)),un!==null)for(n=un.return;n!==null;){var r=n;switch(Qx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ym();break;case 3:Bc(),Lt(Cr),Lt(sr),i_();break;case 5:s_(r);break;case 4:Bc();break;case 13:Lt(qt);break;case 19:Lt(qt);break;case 10:e_(r.type._context);break;case 22:case 23:g_()}n=n.return}if(Pn=t,un=t=Zo(t.current,null),Vn=Ur=e,vn=0,dh=null,f_=tg=el=0,Er=Ld=null,Ma!==null){for(e=0;e<Ma.length;e++)if(n=Ma[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}Ma=null}return t}function ck(t,e){do{var n=un;try{if(Jx(),_m.current=op,ip){for(var r=Wt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ip=!1}if(Ja=0,kn=yn=Wt=null,Md=!1,lh=0,h_.current=null,n===null||n.return===null){vn=1,dh=e,un=null;break}e:{var i=t,l=n.return,c=n,d=e;if(e=Vn,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,p=c,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var w=q1(l);if(w!==null){w.flags&=-257,H1(w,l,c,i,e),w.mode&1&&$1(i,h,e),e=w,d=h;var N=e.updateQueue;if(N===null){var v=new Set;v.add(d),e.updateQueue=v}else N.add(d);break e}else{if(!(e&1)){$1(i,h,e),y_();break e}d=Error(pe(426))}}else if(zt&&c.mode&1){var S=q1(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),H1(S,l,c,i,e),Yx(Uc(d,c));break e}}i=d=Uc(d,c),vn!==4&&(vn=2),Ld===null?Ld=[i]:Ld.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=WC(i,d,e);O1(i,E);break e;case 1:c=d;var T=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof T.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Go===null||!Go.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=GC(i,c,e);O1(i,R);break e}}i=i.return}while(i!==null)}hk(n)}catch(F){e=F,un===n&&n!==null&&(un=n=n.return);continue}break}while(!0)}function uk(){var t=ap.current;return ap.current=op,t===null?op:t}function y_(){(vn===0||vn===3||vn===2)&&(vn=4),Pn===null||!(el&268435455)&&!(tg&268435455)||Co(Pn,Vn)}function up(t,e){var n=mt;mt|=2;var r=uk();(Pn!==t||Vn!==e)&&(Fi=null,Ha(t,e));do try{hO();break}catch(s){ck(t,s)}while(!0);if(Jx(),mt=n,ap.current=r,un!==null)throw Error(pe(261));return Pn=null,Vn=0,vn}function hO(){for(;un!==null;)dk(un)}function fO(){for(;un!==null&&!VD();)dk(un)}function dk(t){var e=mk(t.alternate,t,Ur);t.memoizedProps=t.pendingProps,e===null?hk(t):un=e,h_.current=null}function hk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oO(n,e),n!==null){n.flags&=32767,un=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vn=6,un=null;return}}else if(n=iO(n,e,Ur),n!==null){un=n;return}if(e=e.sibling,e!==null){un=e;return}un=e=t}while(e!==null);vn===0&&(vn=5)}function ja(t,e,n){var r=wt,s=ps.transition;try{ps.transition=null,wt=1,mO(t,e,n,r)}finally{ps.transition=s,wt=r}return null}function mO(t,e,n,r){do vc();while(Oo!==null);if(mt&6)throw Error(pe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(KD(t,i),t===Pn&&(un=Pn=null,Vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yf||(Yf=!0,pk(Hm,function(){return vc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ps.transition,ps.transition=null;var l=wt;wt=1;var c=mt;mt|=4,h_.current=null,lO(t,n),ok(n,t),ML(Hv),Gm=!!qv,Hv=qv=null,t.current=n,cO(n),FD(),mt=c,wt=l,ps.transition=i}else t.current=n;if(Yf&&(Yf=!1,Oo=t,cp=s),i=t.pendingLanes,i===0&&(Go=null),UD(n.stateNode),Pr(t,sn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(lp)throw lp=!1,t=d0,d0=null,t;return cp&1&&t.tag!==0&&vc(),i=t.pendingLanes,i&1?t===h0?Od++:(Od=0,h0=t):Od=0,ma(),null}function vc(){if(Oo!==null){var t=WS(cp),e=ps.transition,n=wt;try{if(ps.transition=null,wt=16>t?16:t,Oo===null)var r=!1;else{if(t=Oo,Oo=null,cp=0,mt&6)throw Error(pe(331));var s=mt;for(mt|=4,Pe=t.current;Pe!==null;){var i=Pe,l=i.child;if(Pe.flags&16){var c=i.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for(Pe=h;Pe!==null;){var p=Pe;switch(p.tag){case 0:case 11:case 15:Dd(8,p,i)}var g=p.child;if(g!==null)g.return=p,Pe=g;else for(;Pe!==null;){p=Pe;var y=p.sibling,w=p.return;if(rk(p),p===h){Pe=null;break}if(y!==null){y.return=w,Pe=y;break}Pe=w}}}var N=i.alternate;if(N!==null){var v=N.child;if(v!==null){N.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}Pe=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,Pe=l;else e:for(;Pe!==null;){if(i=Pe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dd(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,Pe=E;break e}Pe=i.return}}var T=t.current;for(Pe=T;Pe!==null;){l=Pe;var C=l.child;if(l.subtreeFlags&2064&&C!==null)C.return=l,Pe=C;else e:for(l=T;Pe!==null;){if(c=Pe,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:eg(9,c)}}catch(F){Jt(c,c.return,F)}if(c===l){Pe=null;break e}var R=c.sibling;if(R!==null){R.return=c.return,Pe=R;break e}Pe=c.return}}if(mt=s,ma(),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(Wp,t)}catch{}r=!0}return r}finally{wt=n,ps.transition=e}}return!1}function sE(t,e,n){e=Uc(n,e),e=WC(t,e,1),t=Wo(t,e,1),e=fr(),t!==null&&(Vh(t,1,e),Pr(t,e))}function Jt(t,e,n){if(t.tag===3)sE(t,t,n);else for(;e!==null;){if(e.tag===3){sE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Go===null||!Go.has(r))){t=Uc(n,t),t=GC(e,t,1),e=Wo(e,t,1),t=fr(),e!==null&&(Vh(e,1,t),Pr(e,t));break}}e=e.return}}function pO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fr(),t.pingedLanes|=t.suspendedLanes&n,Pn===t&&(Vn&n)===n&&(vn===4||vn===3&&(Vn&130023424)===Vn&&500>sn()-m_?Ha(t,0):f_|=n),Pr(t,e)}function fk(t,e){e===0&&(t.mode&1?(e=Bf,Bf<<=1,!(Bf&130023424)&&(Bf=4194304)):e=1);var n=fr();t=Xi(t,e),t!==null&&(Vh(t,e,n),Pr(t,n))}function gO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fk(t,n)}function yO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(e),fk(t,n)}var mk;mk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cr.current)Sr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sr=!1,sO(t,e,n);Sr=!!(t.flags&131072)}else Sr=!1,zt&&e.flags&1048576&&vC(e,ep,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bm(t,e),t=e.pendingProps;var s=Vc(e,sr.current);yc(e,n),s=a_(null,e,r,t,s,n);var i=l_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kr(r)?(i=!0,Xm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,n_(e),s.updater=Jp,e.stateNode=s,s._reactInternals=e,e0(e,r,t,n),e=r0(null,e,r,!0,i,n)):(e.tag=0,zt&&i&&Zx(e),dr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bm(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=xO(r),t=js(r,t),s){case 0:e=n0(null,e,r,t,n);break e;case 1:e=K1(null,e,r,t,n);break e;case 11:e=W1(null,e,r,t,n);break e;case 14:e=G1(null,e,r,js(r.type,t),n);break e}throw Error(pe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:js(r,s),n0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:js(r,s),K1(t,e,r,s,n);case 3:e:{if(YC(e),t===null)throw Error(pe(387));r=e.pendingProps,i=e.memoizedState,s=i.element,NC(t,e),rp(e,r,null,n);var l=e.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Uc(Error(pe(423)),e),e=Z1(t,e,r,n,s);break e}else if(r!==s){s=Uc(Error(pe(424)),e),e=Z1(t,e,r,n,s);break e}else for(qr=Ho(e.stateNode.containerInfo.firstChild),Wr=e,zt=!0,Ls=null,n=bC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fc(),r===s){e=Ji(t,e,n);break e}dr(t,e,r,n)}e=e.child}return e;case 5:return TC(e),t===null&&Yv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,Wv(r,s)?l=null:i!==null&&Wv(r,i)&&(e.flags|=32),QC(t,e),dr(t,e,l,n),e.child;case 6:return t===null&&Yv(e),null;case 13:return XC(t,e,n);case 4:return r_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zc(e,null,r,n):dr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:js(r,s),W1(t,e,r,s,n);case 7:return dr(t,e,e.pendingProps,n),e.child;case 8:return dr(t,e,e.pendingProps.children,n),e.child;case 12:return dr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,jt(tp,r._currentValue),r._currentValue=l,i!==null)if(Us(i.value,l)){if(i.children===s.children&&!Cr.current){e=Ji(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){l=i.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(i.tag===1){d=Ki(-1,n&-n),d.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?d.next=d:(d.next=p.next,p.next=d),h.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Xv(i.return,n,e),c.lanes|=n;break}d=d.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(pe(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Xv(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}dr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,yc(e,n),s=xs(s),r=r(s),e.flags|=1,dr(t,e,r,n),e.child;case 14:return r=e.type,s=js(r,e.pendingProps),s=js(r.type,s),G1(t,e,r,s,n);case 15:return KC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:js(r,s),bm(t,e),e.tag=1,kr(r)?(t=!0,Xm(e)):t=!1,yc(e,n),HC(e,r,s),e0(e,r,s,n),r0(null,e,r,!0,t,n);case 19:return JC(t,e,n);case 22:return ZC(t,e,n)}throw Error(pe(156,e.tag))};function pk(t,e){return US(t,e)}function vO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(t,e,n,r){return new vO(t,e,n,r)}function v_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xO(t){if(typeof t=="function")return v_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ox)return 11;if(t===Vx)return 14}return 2}function Zo(t,e){var n=t.alternate;return n===null?(n=ms(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tm(t,e,n,r,s,i){var l=2;if(r=t,typeof t=="function")v_(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case nc:return Wa(n.children,s,i,e);case Lx:l=8,s|=8;break;case Nv:return t=ms(12,n,e,s|2),t.elementType=Nv,t.lanes=i,t;case Tv:return t=ms(13,n,e,s),t.elementType=Tv,t.lanes=i,t;case Sv:return t=ms(19,n,e,s),t.elementType=Sv,t.lanes=i,t;case TS:return ng(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ES:l=10;break e;case NS:l=9;break e;case Ox:l=11;break e;case Vx:l=14;break e;case Eo:l=16,r=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=ms(l,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Wa(t,e,n,r){return t=ms(7,t,r,e),t.lanes=n,t}function ng(t,e,n,r){return t=ms(22,t,r,e),t.elementType=TS,t.lanes=n,t.stateNode={isHidden:!1},t}function Wy(t,e,n){return t=ms(6,t,null,e),t.lanes=n,t}function Gy(t,e,n){return e=ms(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _O(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cy(0),this.expirationTimes=Cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function x_(t,e,n,r,s,i,l,c,d){return t=new _O(t,e,n,c,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ms(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},n_(i),t}function wO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gk(t){if(!t)return ra;t=t._reactInternals;e:{if(vl(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var n=t.type;if(kr(n))return gC(t,n,e)}return e}function yk(t,e,n,r,s,i,l,c,d){return t=x_(n,r,!0,t,s,i,l,c,d),t.context=gk(null),n=t.current,r=fr(),s=Ko(n),i=Ki(r,s),i.callback=e??null,Wo(n,i,s),t.current.lanes=s,Vh(t,s,r),Pr(t,r),t}function rg(t,e,n,r){var s=e.current,i=fr(),l=Ko(s);return n=gk(n),e.context===null?e.context=n:e.pendingContext=n,e=Ki(i,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wo(s,e,l),t!==null&&(zs(t,s,l,i),xm(t,s,l)),l}function dp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function __(t,e){iE(t,e),(t=t.alternate)&&iE(t,e)}function bO(){return null}var vk=typeof reportError=="function"?reportError:function(t){console.error(t)};function w_(t){this._internalRoot=t}sg.prototype.render=w_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));rg(t,e,null,null)};sg.prototype.unmount=w_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tl(function(){rg(null,t,null,null)}),e[Yi]=null}};function sg(t){this._internalRoot=t}sg.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<So.length&&e!==0&&e<So[n].priority;n++);So.splice(n,0,t),n===0&&YS(t)}};function b_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ig(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oE(){}function EO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=dp(l);i.call(h)}}var l=yk(e,r,t,0,null,!1,!1,"",oE);return t._reactRootContainer=l,t[Yi]=l.current,rh(t.nodeType===8?t.parentNode:t),tl(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var h=dp(d);c.call(h)}}var d=x_(t,0,!1,null,null,!1,!1,"",oE);return t._reactRootContainer=d,t[Yi]=d.current,rh(t.nodeType===8?t.parentNode:t),tl(function(){rg(e,d,n,r)}),d}function og(t,e,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var c=s;s=function(){var d=dp(l);c.call(d)}}rg(e,l,t,s)}else l=EO(n,e,t,s,r);return dp(l)}GS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=md(e.pendingLanes);n!==0&&(Bx(e,n|1),Pr(e,sn()),!(mt&6)&&($c=sn()+500,ma()))}break;case 13:tl(function(){var r=Xi(t,1);if(r!==null){var s=fr();zs(r,t,1,s)}}),__(t,1)}};Ux=function(t){if(t.tag===13){var e=Xi(t,134217728);if(e!==null){var n=fr();zs(e,t,134217728,n)}__(t,134217728)}};KS=function(t){if(t.tag===13){var e=Ko(t),n=Xi(t,e);if(n!==null){var r=fr();zs(n,t,e,r)}__(t,e)}};ZS=function(){return wt};QS=function(t,e){var n=wt;try{return wt=t,e()}finally{wt=n}};Lv=function(t,e,n){switch(e){case"input":if(Pv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Qp(r);if(!s)throw Error(pe(90));CS(r),Pv(r,s)}}}break;case"textarea":PS(t,n);break;case"select":e=n.value,e!=null&&fc(t,!!n.multiple,e,!1)}};LS=p_;OS=tl;var NO={usingClientEntryPoint:!1,Events:[zh,oc,Qp,MS,DS,p_]},ld={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TO={bundleType:ld.bundleType,version:ld.version,rendererPackageName:ld.rendererPackageName,rendererConfig:ld.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zS(t),t===null?null:t.stateNode},findFiberByHostInstance:ld.findFiberByHostInstance||bO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xf.isDisabled&&Xf.supportsFiber)try{Wp=Xf.inject(TO),pi=Xf}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NO;Qr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b_(e))throw Error(pe(200));return wO(t,e,null,n)};Qr.createRoot=function(t,e){if(!b_(t))throw Error(pe(299));var n=!1,r="",s=vk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=x_(t,1,!1,null,null,n,!1,r,s),t[Yi]=e.current,rh(t.nodeType===8?t.parentNode:t),new w_(e)};Qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=zS(e),t=t===null?null:t.stateNode,t};Qr.flushSync=function(t){return tl(t)};Qr.hydrate=function(t,e,n){if(!ig(e))throw Error(pe(200));return og(null,t,e,!0,n)};Qr.hydrateRoot=function(t,e,n){if(!b_(t))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=vk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=yk(e,null,t,1,n??null,s,!1,i,l),t[Yi]=e.current,rh(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new sg(e)};Qr.render=function(t,e,n){if(!ig(e))throw Error(pe(200));return og(null,t,e,!1,n)};Qr.unmountComponentAtNode=function(t){if(!ig(t))throw Error(pe(40));return t._reactRootContainer?(tl(function(){og(null,null,t,!1,function(){t._reactRootContainer=null,t[Yi]=null})}),!0):!1};Qr.unstable_batchedUpdates=p_;Qr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ig(n))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return og(t,e,n,!1,r)};Qr.version="18.3.1-next-f1338f8080-20240426";function xk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xk)}catch(t){console.error(t)}}xk(),xS.exports=Qr;var xl=xS.exports;const _k=Cx(xl);var wk,aE=xl;wk=aE.createRoot,aE.hydrateRoot;const SO=1,CO=1e6;let Ky=0;function kO(){return Ky=(Ky+1)%Number.MAX_SAFE_INTEGER,Ky.toString()}const Zy=new Map,lE=t=>{if(Zy.has(t))return;const e=setTimeout(()=>{Zy.delete(t),Vd({type:"REMOVE_TOAST",toastId:t})},CO);Zy.set(t,e)},PO=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,SO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?lE(n):t.toasts.forEach(r=>{lE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Sm=[];let Cm={toasts:[]};function Vd(t){Cm=PO(Cm,t),Sm.forEach(e=>{e(Cm)})}function IO({...t}){const e=kO(),n=s=>Vd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Vd({type:"DISMISS_TOAST",toastId:e});return Vd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function jO(){const[t,e]=_.useState(Cm);return _.useEffect(()=>(Sm.push(e),()=>{const n=Sm.indexOf(e);n>-1&&Sm.splice(n,1)}),[t]),{...t,toast:IO,dismiss:n=>Vd({type:"DISMISS_TOAST",toastId:n})}}function xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function cE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ag(...t){return e=>{let n=!1;const r=t.map(s=>{const i=cE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():cE(t[s],null)}}}}function rt(...t){return _.useCallback(ag(...t),t)}function AO(t,e){const n=_.createContext(e),r=i=>{const{children:l,...c}=i,d=_.useMemo(()=>c,Object.values(c));return o.jsx(n.Provider,{value:d,children:l})};r.displayName=t+"Provider";function s(i){const l=_.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function or(t,e=[]){let n=[];function r(i,l){const c=_.createContext(l),d=n.length;n=[...n,l];const h=g=>{var E;const{scope:y,children:w,...N}=g,v=((E=y==null?void 0:y[t])==null?void 0:E[d])||c,S=_.useMemo(()=>N,Object.values(N));return o.jsx(v.Provider,{value:S,children:w})};h.displayName=i+"Provider";function p(g,y){var v;const w=((v=y==null?void 0:y[t])==null?void 0:v[d])||c,N=_.useContext(w);if(N)return N;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,p]}const s=()=>{const i=n.map(l=>_.createContext(l));return function(c){const d=(c==null?void 0:c[t])||i;return _.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[r,RO(s,...e)]}function RO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((c,{useScope:d,scopeName:h})=>{const g=d(i)[`__scope${h}`];return{...c,...g}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function nl(t){const e=DO(t),n=_.forwardRef((r,s)=>{const{children:i,...l}=r,c=_.Children.toArray(i),d=c.find(OO);if(d){const h=d.props.children,p=c.map(g=>g===d?_.Children.count(h)>1?_.Children.only(null):_.isValidElement(h)?h.props.children:null:g);return o.jsx(e,{...l,ref:s,children:_.isValidElement(h)?_.cloneElement(h,void 0,p):null})}return o.jsx(e,{...l,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var MO=nl("Slot");function DO(t){const e=_.forwardRef((n,r)=>{const{children:s,...i}=n;if(_.isValidElement(s)){const l=FO(s),c=VO(i,s.props);return s.type!==_.Fragment&&(c.ref=r?ag(r,l):l),_.cloneElement(s,c)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var bk=Symbol("radix.slottable");function LO(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=bk,e}function OO(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bk}function VO(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function FO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Uh(t){const e=t+"CollectionProvider",[n,r]=or(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:S,children:E}=v,T=fe.useRef(null),C=fe.useRef(new Map).current;return o.jsx(s,{scope:S,itemMap:C,collectionRef:T,children:E})};l.displayName=e;const c=t+"CollectionSlot",d=nl(c),h=fe.forwardRef((v,S)=>{const{scope:E,children:T}=v,C=i(c,E),R=rt(S,C.collectionRef);return o.jsx(d,{ref:R,children:T})});h.displayName=c;const p=t+"CollectionItemSlot",g="data-radix-collection-item",y=nl(p),w=fe.forwardRef((v,S)=>{const{scope:E,children:T,...C}=v,R=fe.useRef(null),F=rt(S,R),U=i(p,E);return fe.useEffect(()=>(U.itemMap.set(R,{ref:R,...C}),()=>void U.itemMap.delete(R))),o.jsx(y,{[g]:"",ref:F,children:T})});w.displayName=p;function N(v){const S=i(t+"CollectionConsumer",v);return fe.useCallback(()=>{const T=S.collectionRef.current;if(!T)return[];const C=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((U,j)=>C.indexOf(U.ref.current)-C.indexOf(j.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:l,Slot:h,ItemSlot:w},N,r]}var zO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Re=zO.reduce((t,e)=>{const n=nl(`Primitive.${e}`),r=_.forwardRef((s,i)=>{const{asChild:l,...c}=s,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function E_(t,e){t&&xl.flushSync(()=>t.dispatchEvent(e))}function jr(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function BO(t,e=globalThis==null?void 0:globalThis.document){const n=jr(t);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var UO="DismissableLayer",p0="dismissableLayer.update",$O="dismissableLayer.pointerDownOutside",qO="dismissableLayer.focusOutside",uE,Ek=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),au=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...d}=t,h=_.useContext(Ek),[p,g]=_.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=_.useState({}),N=rt(e,j=>g(j)),v=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(S),T=p?v.indexOf(p):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,R=T>=E,F=WO(j=>{const I=j.target,A=[...h.branches].some(D=>D.contains(I));!R||A||(s==null||s(j),l==null||l(j),j.defaultPrevented||c==null||c())},y),U=GO(j=>{const I=j.target;[...h.branches].some(D=>D.contains(I))||(i==null||i(j),l==null||l(j),j.defaultPrevented||c==null||c())},y);return BO(j=>{T===h.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&c&&(j.preventDefault(),c()))},y),_.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(uE=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),dE(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=uE)}},[p,y,n,h]),_.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),dE())},[p,h]),_.useEffect(()=>{const j=()=>w({});return document.addEventListener(p0,j),()=>document.removeEventListener(p0,j)},[]),o.jsx(Re.div,{...d,ref:N,style:{pointerEvents:C?R?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,U.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,F.onPointerDownCapture)})});au.displayName=UO;var HO="DismissableLayerBranch",Nk=_.forwardRef((t,e)=>{const n=_.useContext(Ek),r=_.useRef(null),s=rt(e,r);return _.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Re.div,{...t,ref:s})});Nk.displayName=HO;function WO(t,e=globalThis==null?void 0:globalThis.document){const n=jr(t),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let d=function(){Tk($O,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function GO(t,e=globalThis==null?void 0:globalThis.document){const n=jr(t),r=_.useRef(!1);return _.useEffect(()=>{const s=i=>{i.target&&!r.current&&Tk(qO,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function dE(){const t=new CustomEvent(p0);document.dispatchEvent(t)}function Tk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?E_(s,i):s.dispatchEvent(i)}var KO=au,ZO=Nk,In=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},QO="Portal",$h=_.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,i]=_.useState(!1);In(()=>i(!0),[]);const l=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?_k.createPortal(o.jsx(Re.div,{...r,ref:e}),l):null});$h.displayName=QO;function YO(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var Xr=t=>{const{present:e,children:n}=t,r=XO(e),s=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),i=rt(r.ref,JO(s));return typeof n=="function"||r.isPresent?_.cloneElement(s,{ref:i}):null};Xr.displayName="Presence";function XO(t){const[e,n]=_.useState(),r=_.useRef(null),s=_.useRef(t),i=_.useRef("none"),l=t?"mounted":"unmounted",[c,d]=YO(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const h=Jf(r.current);i.current=c==="mounted"?h:"none"},[c]),In(()=>{const h=r.current,p=s.current;if(p!==t){const y=i.current,w=Jf(h);t?d("MOUNT"):w==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(p&&y!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),In(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=w=>{const v=Jf(r.current).includes(w.animationName);if(w.target===e&&v&&(d("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},y=w=>{w.target===e&&(i.current=Jf(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:_.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Jf(t){return(t==null?void 0:t.animationName)||"none"}function JO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var e5=Ax[" useInsertionEffect ".trim().toString()]||In;function ws({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,l]=t5({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:s;{const p=_.useRef(t!==void 0);_.useEffect(()=>{const g=p.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const h=_.useCallback(p=>{var g;if(c){const y=n5(p)?p(t):p;y!==t&&((g=l.current)==null||g.call(l,y))}else i(p)},[c,t,i,l]);return[d,h]}function t5({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),s=_.useRef(n),i=_.useRef(e);return e5(()=>{i.current=e},[e]),_.useEffect(()=>{var l;s.current!==n&&((l=i.current)==null||l.call(i,n),s.current=n)},[n,s]),[n,r,i]}function n5(t){return typeof t=="function"}var Sk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),r5="VisuallyHidden",lg=_.forwardRef((t,e)=>o.jsx(Re.span,{...t,ref:e,style:{...Sk,...t.style}}));lg.displayName=r5;var s5=lg,N_="ToastProvider",[T_,i5,o5]=Uh("Toast"),[Ck,pQ]=or("Toast",[o5]),[a5,cg]=Ck(N_),kk=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:l}=t,[c,d]=_.useState(null),[h,p]=_.useState(0),g=_.useRef(!1),y=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${N_}\`. Expected non-empty \`string\`.`),o.jsx(T_.Provider,{scope:e,children:o.jsx(a5,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:h,viewport:c,onViewportChange:d,onToastAdd:_.useCallback(()=>p(w=>w+1),[]),onToastRemove:_.useCallback(()=>p(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:y,children:l})})};kk.displayName=N_;var Pk="ToastViewport",l5=["F8"],g0="toast.viewportPause",y0="toast.viewportResume",Ik=_.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=l5,label:s="Notifications ({hotkey})",...i}=t,l=cg(Pk,n),c=i5(n),d=_.useRef(null),h=_.useRef(null),p=_.useRef(null),g=_.useRef(null),y=rt(e,g,l.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=l.toastCount>0;_.useEffect(()=>{const S=E=>{var C;r.length!==0&&r.every(R=>E[R]||E.code===R)&&((C=g.current)==null||C.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),_.useEffect(()=>{const S=d.current,E=g.current;if(N&&S&&E){const T=()=>{if(!l.isClosePausedRef.current){const U=new CustomEvent(g0);E.dispatchEvent(U),l.isClosePausedRef.current=!0}},C=()=>{if(l.isClosePausedRef.current){const U=new CustomEvent(y0);E.dispatchEvent(U),l.isClosePausedRef.current=!1}},R=U=>{!S.contains(U.relatedTarget)&&C()},F=()=>{S.contains(document.activeElement)||C()};return S.addEventListener("focusin",T),S.addEventListener("focusout",R),S.addEventListener("pointermove",T),S.addEventListener("pointerleave",F),window.addEventListener("blur",T),window.addEventListener("focus",C),()=>{S.removeEventListener("focusin",T),S.removeEventListener("focusout",R),S.removeEventListener("pointermove",T),S.removeEventListener("pointerleave",F),window.removeEventListener("blur",T),window.removeEventListener("focus",C)}}},[N,l.isClosePausedRef]);const v=_.useCallback(({tabbingDirection:S})=>{const T=c().map(C=>{const R=C.ref.current,F=[R,...w5(R)];return S==="forwards"?F:F.reverse()});return(S==="forwards"?T.reverse():T).flat()},[c]);return _.useEffect(()=>{const S=g.current;if(S){const E=T=>{var F,U,j;const C=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!C){const I=document.activeElement,A=T.shiftKey;if(T.target===S&&A){(F=h.current)==null||F.focus();return}const B=v({tabbingDirection:A?"backwards":"forwards"}),O=B.findIndex(Q=>Q===I);Qy(B.slice(O+1))?T.preventDefault():A?(U=h.current)==null||U.focus():(j=p.current)==null||j.focus()}};return S.addEventListener("keydown",E),()=>S.removeEventListener("keydown",E)}},[c,v]),o.jsxs(ZO,{ref:d,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&o.jsx(v0,{ref:h,onFocusFromOutsideViewport:()=>{const S=v({tabbingDirection:"forwards"});Qy(S)}}),o.jsx(T_.Slot,{scope:n,children:o.jsx(Re.ol,{tabIndex:-1,...i,ref:y})}),N&&o.jsx(v0,{ref:p,onFocusFromOutsideViewport:()=>{const S=v({tabbingDirection:"backwards"});Qy(S)}})]})});Ik.displayName=Pk;var jk="ToastFocusProxy",v0=_.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=cg(jk,n);return o.jsx(lg,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{var h;const c=l.relatedTarget;!((h=i.viewport)!=null&&h.contains(c))&&r()}})});v0.displayName=jk;var qh="Toast",c5="toast.swipeStart",u5="toast.swipeMove",d5="toast.swipeCancel",h5="toast.swipeEnd",Ak=_.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...l}=t,[c,d]=ws({prop:r,defaultProp:s??!0,onChange:i,caller:qh});return o.jsx(Xr,{present:n||c,children:o.jsx(p5,{open:c,...l,ref:e,onClose:()=>d(!1),onPause:jr(t.onPause),onResume:jr(t.onResume),onSwipeStart:xe(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(t.onSwipeMove,h=>{const{x:p,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:xe(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(t.onSwipeEnd,h=>{const{x:p,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});Ak.displayName=qh;var[f5,m5]=Ck(qh,{onClose(){}}),p5=_.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:l,onEscapeKeyDown:c,onPause:d,onResume:h,onSwipeStart:p,onSwipeMove:g,onSwipeCancel:y,onSwipeEnd:w,...N}=t,v=cg(qh,n),[S,E]=_.useState(null),T=rt(e,Q=>E(Q)),C=_.useRef(null),R=_.useRef(null),F=s||v.duration,U=_.useRef(0),j=_.useRef(F),I=_.useRef(0),{onToastAdd:A,onToastRemove:D}=v,z=jr(()=>{var me;(S==null?void 0:S.contains(document.activeElement))&&((me=v.viewport)==null||me.focus()),l()}),B=_.useCallback(Q=>{!Q||Q===1/0||(window.clearTimeout(I.current),U.current=new Date().getTime(),I.current=window.setTimeout(z,Q))},[z]);_.useEffect(()=>{const Q=v.viewport;if(Q){const me=()=>{B(j.current),h==null||h()},Y=()=>{const J=new Date().getTime()-U.current;j.current=j.current-J,window.clearTimeout(I.current),d==null||d()};return Q.addEventListener(g0,Y),Q.addEventListener(y0,me),()=>{Q.removeEventListener(g0,Y),Q.removeEventListener(y0,me)}}},[v.viewport,F,d,h,B]),_.useEffect(()=>{i&&!v.isClosePausedRef.current&&B(F)},[i,F,v.isClosePausedRef,B]),_.useEffect(()=>(A(),()=>D()),[A,D]);const O=_.useMemo(()=>S?Fk(S):null,[S]);return v.viewport?o.jsxs(o.Fragment,{children:[O&&o.jsx(g5,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),o.jsx(f5,{scope:n,onClose:z,children:xl.createPortal(o.jsx(T_.ItemSlot,{scope:n,children:o.jsx(KO,{asChild:!0,onEscapeKeyDown:xe(c,()=>{v.isFocusedToastEscapeKeyDownRef.current||z(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...N,ref:T,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xe(t.onKeyDown,Q=>{Q.key==="Escape"&&(c==null||c(Q.nativeEvent),Q.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:xe(t.onPointerDown,Q=>{Q.button===0&&(C.current={x:Q.clientX,y:Q.clientY})}),onPointerMove:xe(t.onPointerMove,Q=>{if(!C.current)return;const me=Q.clientX-C.current.x,Y=Q.clientY-C.current.y,J=!!R.current,$=["left","right"].includes(v.swipeDirection),H=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,G=$?H(0,me):0,te=$?0:H(0,Y),ne=Q.pointerType==="touch"?10:2,ce={x:G,y:te},ge={originalEvent:Q,delta:ce};J?(R.current=ce,em(u5,g,ge,{discrete:!1})):hE(ce,v.swipeDirection,ne)?(R.current=ce,em(c5,p,ge,{discrete:!1}),Q.target.setPointerCapture(Q.pointerId)):(Math.abs(me)>ne||Math.abs(Y)>ne)&&(C.current=null)}),onPointerUp:xe(t.onPointerUp,Q=>{const me=R.current,Y=Q.target;if(Y.hasPointerCapture(Q.pointerId)&&Y.releasePointerCapture(Q.pointerId),R.current=null,C.current=null,me){const J=Q.currentTarget,$={originalEvent:Q,delta:me};hE(me,v.swipeDirection,v.swipeThreshold)?em(h5,w,$,{discrete:!0}):em(d5,y,$,{discrete:!0}),J.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),g5=t=>{const{__scopeToast:e,children:n,...r}=t,s=cg(qh,e),[i,l]=_.useState(!1),[c,d]=_.useState(!1);return x5(()=>l(!0)),_.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:o.jsx($h,{asChild:!0,children:o.jsx(lg,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},y5="ToastTitle",Rk=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Re.div,{...r,ref:e})});Rk.displayName=y5;var v5="ToastDescription",Mk=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Re.div,{...r,ref:e})});Mk.displayName=v5;var Dk="ToastAction",Lk=_.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(Vk,{altText:n,asChild:!0,children:o.jsx(S_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Dk}\`. Expected non-empty \`string\`.`),null)});Lk.displayName=Dk;var Ok="ToastClose",S_=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=m5(Ok,n);return o.jsx(Vk,{asChild:!0,children:o.jsx(Re.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,s.onClose)})})});S_.displayName=Ok;var Vk=_.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return o.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Fk(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),_5(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...Fk(r))}}),e}function em(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?E_(s,i):s.dispatchEvent(i)}var hE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function x5(t=()=>{}){const e=jr(t);In(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function _5(t){return t.nodeType===t.ELEMENT_NODE}function w5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Qy(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var b5=kk,zk=Ik,Bk=Ak,Uk=Rk,$k=Mk,qk=Lk,Hk=S_;function Wk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Wk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Gk(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Wk(t))&&(r&&(r+=" "),r+=e);return r}const fE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,mE=Gk,Hh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return mE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(h=>{const p=n==null?void 0:n[h],g=i==null?void 0:i[h];if(p===null)return null;const y=fE(p)||fE(g);return s[h][y]}),c=n&&Object.entries(n).reduce((h,p)=>{let[g,y]=p;return y===void 0||(h[g]=y),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:g,className:y,...w}=p;return Object.entries(w).every(N=>{let[v,S]=N;return Array.isArray(S)?S.includes({...i,...c}[v]):{...i,...c}[v]===S})?[...h,g,y]:h},[]);return mE(t,l,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...c},d)=>_.createElement("svg",{ref:d,...N5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Kk("lucide",s),...c},[...l.map(([h,p])=>_.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const n=_.forwardRef(({className:r,...s},i)=>_.createElement(T5,{ref:i,iconNode:e,className:Kk(`lucide-${E5(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=we("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=we("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=we("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=we("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=we("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=we("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=we("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=we("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=we("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=we("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=we("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=we("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=we("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=we("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=we("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=we("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=we("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=we("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=we("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=we("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=we("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=we("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=we("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=we("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=we("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=we("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=we("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=we("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=we("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=we("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=we("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=we("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=we("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=we("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=we("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=we("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=we("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=we("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=we("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),R_="-",t3=t=>{const e=r3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(R_);return c[0]===""&&c.length!==1&&c.shift(),iP(c,e)||n3(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},iP=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?iP(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(R_);return(l=e.validators.find(({validator:c})=>c(i)))==null?void 0:l.classGroupId},_E=/^\[(.+)\]$/,n3=t=>{if(_E.test(t)){const e=_E.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},r3=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return i3(Object.entries(t.classGroups),n).forEach(([i,l])=>{b0(l,r,i,e)}),r},b0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:wE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(s3(s)){b0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,l])=>{b0(l,wE(e,i),n,r)})})},wE=(t,e)=>{let n=t;return e.split(R_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},s3=t=>t.isThemeGetter,i3=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,c])=>[e+l,c])):i);return[n,s]}):t,o3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,l)=>{n.set(i,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){n.has(i)?n.set(i,l):s(i,l)}}},oP="!",a3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,l=c=>{const d=[];let h=0,p=0,g;for(let S=0;S<c.length;S++){let E=c[S];if(h===0){if(E===s&&(r||c.slice(S,S+i)===e)){d.push(c.slice(p,S)),p=S+i;continue}if(E==="/"){g=S;continue}}E==="["?h++:E==="]"&&h--}const y=d.length===0?c:c.substring(p),w=y.startsWith(oP),N=w?y.substring(1):y,v=g&&g>p?g-p:void 0;return{modifiers:d,hasImportantModifier:w,baseClassName:N,maybePostfixModifierPosition:v}};return n?c=>n({className:c,parseClassName:l}):l},l3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},c3=t=>({cache:o3(t.cacheSize),parseClassName:a3(t),...t3(t)}),u3=/\s+/,d3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],l=t.trim().split(u3);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{modifiers:p,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:w}=n(h);let N=!!w,v=r(N?y.substring(0,w):y);if(!v){if(!N){c=h+(c.length>0?" "+c:c);continue}if(v=r(y),!v){c=h+(c.length>0?" "+c:c);continue}N=!1}const S=l3(p).join(":"),E=g?S+oP:S,T=E+v;if(i.includes(T))continue;i.push(T);const C=s(v,N);for(let R=0;R<C.length;++R){const F=C[R];i.push(E+F)}c=h+(c.length>0?" "+c:c)}return c};function h3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aP(e))&&(r&&(r+=" "),r+=n);return r}const aP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=aP(t[r]))&&(n&&(n+=" "),n+=e);return n};function f3(t,...e){let n,r,s,i=l;function l(d){const h=e.reduce((p,g)=>g(p),t());return n=c3(h),r=n.cache.get,s=n.cache.set,i=c,c(d)}function c(d){const h=r(d);if(h)return h;const p=d3(d,n);return s(d,p),p}return function(){return i(h3.apply(null,arguments))}}const Rt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lP=/^\[(?:([a-z-]+):)?(.+)\]$/i,m3=/^\d+\/\d+$/,p3=new Set(["px","full","screen"]),g3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,y3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,v3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,x3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Li=t=>_c(t)||p3.has(t)||m3.test(t),vo=t=>uu(t,"length",k3),_c=t=>!!t&&!Number.isNaN(Number(t)),Yy=t=>uu(t,"number",_c),cd=t=>!!t&&Number.isInteger(Number(t)),w3=t=>t.endsWith("%")&&_c(t.slice(0,-1)),Xe=t=>lP.test(t),xo=t=>g3.test(t),b3=new Set(["length","size","percentage"]),E3=t=>uu(t,b3,cP),N3=t=>uu(t,"position",cP),T3=new Set(["image","url"]),S3=t=>uu(t,T3,I3),C3=t=>uu(t,"",P3),ud=()=>!0,uu=(t,e,n)=>{const r=lP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},k3=t=>y3.test(t)&&!v3.test(t),cP=()=>!1,P3=t=>x3.test(t),I3=t=>_3.test(t),j3=()=>{const t=Rt("colors"),e=Rt("spacing"),n=Rt("blur"),r=Rt("brightness"),s=Rt("borderColor"),i=Rt("borderRadius"),l=Rt("borderSpacing"),c=Rt("borderWidth"),d=Rt("contrast"),h=Rt("grayscale"),p=Rt("hueRotate"),g=Rt("invert"),y=Rt("gap"),w=Rt("gradientColorStops"),N=Rt("gradientColorStopPositions"),v=Rt("inset"),S=Rt("margin"),E=Rt("opacity"),T=Rt("padding"),C=Rt("saturate"),R=Rt("scale"),F=Rt("sepia"),U=Rt("skew"),j=Rt("space"),I=Rt("translate"),A=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",Xe,e],B=()=>[Xe,e],O=()=>["",Li,vo],Q=()=>["auto",_c,Xe],me=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Xe],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[_c,Xe];return{cacheSize:500,separator:":",theme:{colors:[ud],spacing:[Li,vo],blur:["none","",xo,Xe],brightness:te(),borderColor:[t],borderRadius:["none","","full",xo,Xe],borderSpacing:B(),borderWidth:O(),contrast:te(),grayscale:H(),hueRotate:te(),invert:H(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[w3,vo],inset:z(),margin:z(),opacity:te(),padding:B(),saturate:te(),scale:te(),sepia:H(),skew:te(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[xo]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...me(),Xe]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cd,Xe]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",cd,Xe]}],"grid-cols":[{"grid-cols":[ud]}],"col-start-end":[{col:["auto",{span:["full",cd,Xe]},Xe]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[ud]}],"row-start-end":[{row:["auto",{span:[cd,Xe]},Xe]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,e]}],"min-w":[{"min-w":[Xe,e,"min","max","fit"]}],"max-w":[{"max-w":[Xe,e,"none","full","min","max","fit","prose",{screen:[xo]},xo]}],h:[{h:[Xe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xo,vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yy]}],"font-family":[{font:[ud]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",_c,Yy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Li,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Li,vo]}],"underline-offset":[{"underline-offset":["auto",Li,Xe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...me(),N3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",E3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},S3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Li,Xe]}],"outline-w":[{outline:[Li,vo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Li,vo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xo,C3]}],"shadow-color":[{shadow:[ud]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",xo,Xe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[g]}],saturate:[{saturate:[C]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[cd,Xe]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Li,vo,Yy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},A3=f3(j3);function je(...t){return A3(Gk(t))}const R3=b5,uP=_.forwardRef(({className:t,...e},n)=>o.jsx(zk,{ref:n,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));uP.displayName=zk.displayName;const M3=Hh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dP=_.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(Bk,{ref:r,className:je(M3({variant:e}),t),...n}));dP.displayName=Bk.displayName;const D3=_.forwardRef(({className:t,...e},n)=>o.jsx(qk,{ref:n,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));D3.displayName=qk.displayName;const hP=_.forwardRef(({className:t,...e},n)=>o.jsx(Hk,{ref:n,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(cu,{className:"h-4 w-4"})}));hP.displayName=Hk.displayName;const fP=_.forwardRef(({className:t,...e},n)=>o.jsx(Uk,{ref:n,className:je("text-sm font-semibold",t),...e}));fP.displayName=Uk.displayName;const mP=_.forwardRef(({className:t,...e},n)=>o.jsx($k,{ref:n,className:je("text-sm opacity-90",t),...e}));mP.displayName=$k.displayName;function L3(){const{toasts:t}=jO();return o.jsxs(R3,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return o.jsxs(dP,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(fP,{children:n}),r&&o.jsx(mP,{children:r})]}),s,o.jsx(hP,{})]},e)}),o.jsx(uP,{})]})}var bE=["light","dark"],O3="(prefers-color-scheme: dark)",V3=_.createContext(void 0),F3={setTheme:t=>{},themes:[]},z3=()=>{var t;return(t=_.useContext(V3))!=null?t:F3};_.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:l,attrs:c,nonce:d})=>{let h=i==="system",p=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(N=>`'${N}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,g=s?bE.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",y=(N,v=!1,S=!0)=>{let E=l?l[N]:N,T=v?N+"|| ''":`'${E}'`,C="";return s&&S&&!v&&bE.includes(N)&&(C+=`d.style.colorScheme = '${N}';`),n==="class"?v||E?C+=`c.add(${T})`:C+="null":E&&(C+=`d[s](n,${T})`),C},w=t?`!function(){${p}${y(t)}}()`:r?`!function(){try{${p}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${O3}',m=window.matchMedia(t);if(m.media!==t||m.matches){${y("dark")}}else{${y("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${y(l?"x[e]":"e",!0)}}${h?"":"else{"+y(i,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${e}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${y(l?"x[e]":"e",!0)}}else{${y(i,!1,!1)};}${g}}catch(t){}}();`;return _.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:w}})});var B3=t=>{switch(t){case"success":return q3;case"info":return W3;case"warning":return H3;case"error":return G3;default:return null}},U3=Array(12).fill(0),$3=({visible:t,className:e})=>fe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},fe.createElement("div",{className:"sonner-spinner"},U3.map((n,r)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),q3=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),H3=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),W3=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),G3=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),K3=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Z3=()=>{let[t,e]=fe.useState(document.hidden);return fe.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},E0=1,Q3=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:E0++,l=this.toasts.find(d=>d.id===i),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...e,id:i,title:r}),{...d,...e,id:i,dismissible:c,title:r}):d):this.addToast({title:r,...s,dismissible:c,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,l,c=s.then(async h=>{if(l=["resolve",h],fe.isValidElement(h))i=!1,this.create({id:r,type:"default",message:h});else if(X3(h)&&!h.ok){i=!1;let p=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description;this.create({id:r,type:"error",message:p,description:g})}else if(n.success!==void 0){i=!1;let p=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description;this.create({id:r,type:"success",message:p,description:g})}}).catch(async h=>{if(l=["reject",h],n.error!==void 0){i=!1;let p=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description;this.create({id:r,type:"error",message:p,description:g})}}).finally(()=>{var h;i&&(this.dismiss(r),r=void 0),(h=n.finally)==null||h.call(n)}),d=()=>new Promise((h,p)=>c.then(()=>l[0]==="reject"?p(l[1]):h(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||E0++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},wr=new Q3,Y3=(t,e)=>{let n=(e==null?void 0:e.id)||E0++;return wr.addToast({title:t,...e,id:n}),n},X3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",J3=Y3,e6=()=>wr.toasts,t6=()=>wr.getActiveToasts(),re=Object.assign(J3,{success:wr.success,info:wr.info,warning:wr.warning,error:wr.error,custom:wr.custom,message:wr.message,promise:wr.promise,dismiss:wr.dismiss,loading:wr.loading},{getHistory:e6,getToasts:t6});function n6(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}n6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function tm(t){return t.label!==void 0}var r6=3,s6="32px",i6="16px",EE=4e3,o6=356,a6=14,l6=20,c6=200;function Ps(...t){return t.filter(Boolean).join(" ")}function u6(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var d6=t=>{var e,n,r,s,i,l,c,d,h,p,g;let{invert:y,toast:w,unstyled:N,interacting:v,setHeights:S,visibleToasts:E,heights:T,index:C,toasts:R,expanded:F,removeToast:U,defaultRichColors:j,closeButton:I,style:A,cancelButtonStyle:D,actionButtonStyle:z,className:B="",descriptionClassName:O="",duration:Q,position:me,gap:Y,loadingIcon:J,expandByDefault:$,classNames:H,icons:G,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:ne}=t,[ce,ge]=fe.useState(null),[be,_e]=fe.useState(null),[oe,Ie]=fe.useState(!1),[Oe,de]=fe.useState(!1),[he,se]=fe.useState(!1),[Ae,Ye]=fe.useState(!1),[dt,vt]=fe.useState(!1),[bt,Zt]=fe.useState(0),[Bt,mn]=fe.useState(0),en=fe.useRef(w.duration||Q||EE),Mr=fe.useRef(null),tn=fe.useRef(null),ye=C===0,$e=C+1<=E,Ke=w.type,Ue=w.dismissible!==!1,ar=w.className||"",$n=w.descriptionClassName||"",Qt=fe.useMemo(()=>T.findIndex(Ve=>Ve.toastId===w.id)||0,[T,w.id]),qn=fe.useMemo(()=>{var Ve;return(Ve=w.closeButton)!=null?Ve:I},[w.closeButton,I]),jn=fe.useMemo(()=>w.duration||Q||EE,[w.duration,Q]),Hn=fe.useRef(0),An=fe.useRef(0),At=fe.useRef(0),vr=fe.useRef(null),[Dr,Ti]=me.split("-"),Qs=fe.useMemo(()=>T.reduce((Ve,tt,yt)=>yt>=Qt?Ve:Ve+tt.height,0),[T,Qt]),Ys=Z3(),Lr=w.invert||y,Or=Ke==="loading";An.current=fe.useMemo(()=>Qt*Y+Qs,[Qt,Qs]),fe.useEffect(()=>{en.current=jn},[jn]),fe.useEffect(()=>{Ie(!0)},[]),fe.useEffect(()=>{let Ve=tn.current;if(Ve){let tt=Ve.getBoundingClientRect().height;return mn(tt),S(yt=>[{toastId:w.id,height:tt,position:w.position},...yt]),()=>S(yt=>yt.filter(pn=>pn.toastId!==w.id))}},[S,w.id]),fe.useLayoutEffect(()=>{if(!oe)return;let Ve=tn.current,tt=Ve.style.height;Ve.style.height="auto";let yt=Ve.getBoundingClientRect().height;Ve.style.height=tt,mn(yt),S(pn=>pn.find(En=>En.toastId===w.id)?pn.map(En=>En.toastId===w.id?{...En,height:yt}:En):[{toastId:w.id,height:yt,position:w.position},...pn])},[oe,w.title,w.description,S,w.id]);let Rn=fe.useCallback(()=>{de(!0),Zt(An.current),S(Ve=>Ve.filter(tt=>tt.toastId!==w.id)),setTimeout(()=>{U(w)},c6)},[w,U,S,An]);fe.useEffect(()=>{if(w.promise&&Ke==="loading"||w.duration===1/0||w.type==="loading")return;let Ve;return F||v||ne&&Ys?(()=>{if(At.current<Hn.current){let tt=new Date().getTime()-Hn.current;en.current=en.current-tt}At.current=new Date().getTime()})():en.current!==1/0&&(Hn.current=new Date().getTime(),Ve=setTimeout(()=>{var tt;(tt=w.onAutoClose)==null||tt.call(w,w),Rn()},en.current)),()=>clearTimeout(Ve)},[F,v,w,Ke,ne,Ys,Rn]),fe.useEffect(()=>{w.delete&&Rn()},[Rn,w.delete]);function Vr(){var Ve,tt,yt;return G!=null&&G.loading?fe.createElement("div",{className:Ps(H==null?void 0:H.loader,(Ve=w==null?void 0:w.classNames)==null?void 0:Ve.loader,"sonner-loader"),"data-visible":Ke==="loading"},G.loading):J?fe.createElement("div",{className:Ps(H==null?void 0:H.loader,(tt=w==null?void 0:w.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":Ke==="loading"},J):fe.createElement($3,{className:Ps(H==null?void 0:H.loader,(yt=w==null?void 0:w.classNames)==null?void 0:yt.loader),visible:Ke==="loading"})}return fe.createElement("li",{tabIndex:0,ref:tn,className:Ps(B,ar,H==null?void 0:H.toast,(e=w==null?void 0:w.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[Ke],(n=w==null?void 0:w.classNames)==null?void 0:n[Ke]),"data-sonner-toast":"","data-rich-colors":(r=w.richColors)!=null?r:j,"data-styled":!(w.jsx||w.unstyled||N),"data-mounted":oe,"data-promise":!!w.promise,"data-swiped":dt,"data-removed":Oe,"data-visible":$e,"data-y-position":Dr,"data-x-position":Ti,"data-index":C,"data-front":ye,"data-swiping":he,"data-dismissible":Ue,"data-type":Ke,"data-invert":Lr,"data-swipe-out":Ae,"data-swipe-direction":be,"data-expanded":!!(F||$&&oe),style:{"--index":C,"--toasts-before":C,"--z-index":R.length-C,"--offset":`${Oe?bt:An.current}px`,"--initial-height":$?"auto":`${Bt}px`,...A,...w.style},onDragEnd:()=>{se(!1),ge(null),vr.current=null},onPointerDown:Ve=>{Or||!Ue||(Mr.current=new Date,Zt(An.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(se(!0),vr.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,tt,yt,pn;if(Ae||!Ue)return;vr.current=null;let En=Number(((Ve=tn.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),kt=Number(((tt=tn.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),es=new Date().getTime()-((yt=Mr.current)==null?void 0:yt.getTime()),gn=ce==="x"?En:kt,Wn=Math.abs(gn)/es;if(Math.abs(gn)>=l6||Wn>.11){Zt(An.current),(pn=w.onDismiss)==null||pn.call(w,w),_e(ce==="x"?En>0?"right":"left":kt>0?"down":"up"),Rn(),Ye(!0),vt(!1);return}se(!1),ge(null)},onPointerMove:Ve=>{var tt,yt,pn,En;if(!vr.current||!Ue||((tt=window.getSelection())==null?void 0:tt.toString().length)>0)return;let kt=Ve.clientY-vr.current.y,es=Ve.clientX-vr.current.x,gn=(yt=t.swipeDirections)!=null?yt:u6(me);!ce&&(Math.abs(es)>1||Math.abs(kt)>1)&&ge(Math.abs(es)>Math.abs(kt)?"x":"y");let Wn={x:0,y:0};ce==="y"?(gn.includes("top")||gn.includes("bottom"))&&(gn.includes("top")&&kt<0||gn.includes("bottom")&&kt>0)&&(Wn.y=kt):ce==="x"&&(gn.includes("left")||gn.includes("right"))&&(gn.includes("left")&&es<0||gn.includes("right")&&es>0)&&(Wn.x=es),(Math.abs(Wn.x)>0||Math.abs(Wn.y)>0)&&vt(!0),(pn=tn.current)==null||pn.style.setProperty("--swipe-amount-x",`${Wn.x}px`),(En=tn.current)==null||En.style.setProperty("--swipe-amount-y",`${Wn.y}px`)}},qn&&!w.jsx?fe.createElement("button",{"aria-label":te,"data-disabled":Or,"data-close-button":!0,onClick:Or||!Ue?()=>{}:()=>{var Ve;Rn(),(Ve=w.onDismiss)==null||Ve.call(w,w)},className:Ps(H==null?void 0:H.closeButton,(s=w==null?void 0:w.classNames)==null?void 0:s.closeButton)},(i=G==null?void 0:G.close)!=null?i:K3):null,w.jsx||_.isValidElement(w.title)?w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title:fe.createElement(fe.Fragment,null,Ke||w.icon||w.promise?fe.createElement("div",{"data-icon":"",className:Ps(H==null?void 0:H.icon,(l=w==null?void 0:w.classNames)==null?void 0:l.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||Vr():null,w.type!=="loading"?w.icon||(G==null?void 0:G[Ke])||B3(Ke):null):null,fe.createElement("div",{"data-content":"",className:Ps(H==null?void 0:H.content,(c=w==null?void 0:w.classNames)==null?void 0:c.content)},fe.createElement("div",{"data-title":"",className:Ps(H==null?void 0:H.title,(d=w==null?void 0:w.classNames)==null?void 0:d.title)},typeof w.title=="function"?w.title():w.title),w.description?fe.createElement("div",{"data-description":"",className:Ps(O,$n,H==null?void 0:H.description,(h=w==null?void 0:w.classNames)==null?void 0:h.description)},typeof w.description=="function"?w.description():w.description):null),_.isValidElement(w.cancel)?w.cancel:w.cancel&&tm(w.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||D,onClick:Ve=>{var tt,yt;tm(w.cancel)&&Ue&&((yt=(tt=w.cancel).onClick)==null||yt.call(tt,Ve),Rn())},className:Ps(H==null?void 0:H.cancelButton,(p=w==null?void 0:w.classNames)==null?void 0:p.cancelButton)},w.cancel.label):null,_.isValidElement(w.action)?w.action:w.action&&tm(w.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||z,onClick:Ve=>{var tt,yt;tm(w.action)&&((yt=(tt=w.action).onClick)==null||yt.call(tt,Ve),!Ve.defaultPrevented&&Rn())},className:Ps(H==null?void 0:H.actionButton,(g=w==null?void 0:w.classNames)==null?void 0:g.actionButton)},w.action.label):null))};function NE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function h6(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,l=i?"--mobile-offset":"--offset",c=i?i6:s6;function d(h){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${l}-${h}`]=c:n[`${l}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):d(c)}),n}var f6=_.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:l,className:c,offset:d,mobileOffset:h,theme:p="light",richColors:g,duration:y,style:w,visibleToasts:N=r6,toastOptions:v,dir:S=NE(),gap:E=a6,loadingIcon:T,icons:C,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:F}=t,[U,j]=fe.useState([]),I=fe.useMemo(()=>Array.from(new Set([r].concat(U.filter(ne=>ne.position).map(ne=>ne.position)))),[U,r]),[A,D]=fe.useState([]),[z,B]=fe.useState(!1),[O,Q]=fe.useState(!1),[me,Y]=fe.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=fe.useRef(null),$=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=fe.useRef(null),G=fe.useRef(!1),te=fe.useCallback(ne=>{j(ce=>{var ge;return(ge=ce.find(be=>be.id===ne.id))!=null&&ge.delete||wr.dismiss(ne.id),ce.filter(({id:be})=>be!==ne.id)})},[]);return fe.useEffect(()=>wr.subscribe(ne=>{if(ne.dismiss){j(ce=>ce.map(ge=>ge.id===ne.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{_k.flushSync(()=>{j(ce=>{let ge=ce.findIndex(be=>be.id===ne.id);return ge!==-1?[...ce.slice(0,ge),{...ce[ge],...ne},...ce.slice(ge+1)]:[ne,...ce]})})})}),[]),fe.useEffect(()=>{if(p!=="system"){Y(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:ce})=>{Y(ce?"dark":"light")})}catch{ne.addListener(({matches:ge})=>{try{Y(ge?"dark":"light")}catch(be){console.error(be)}})}},[p]),fe.useEffect(()=>{U.length<=1&&B(!1)},[U]),fe.useEffect(()=>{let ne=ce=>{var ge,be;s.every(_e=>ce[_e]||ce.code===_e)&&(B(!0),(ge=J.current)==null||ge.focus()),ce.code==="Escape"&&(document.activeElement===J.current||(be=J.current)!=null&&be.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[s]),fe.useEffect(()=>{if(J.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,G.current=!1)}},[J.current]),fe.createElement("section",{ref:e,"aria-label":`${R} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((ne,ce)=>{var ge;let[be,_e]=ne.split("-");return U.length?fe.createElement("ol",{key:ne,dir:S==="auto"?NE():S,tabIndex:-1,ref:J,className:c,"data-sonner-toaster":!0,"data-theme":me,"data-y-position":be,"data-lifted":z&&U.length>1&&!i,"data-x-position":_e,style:{"--front-toast-height":`${((ge=A[0])==null?void 0:ge.height)||0}px`,"--width":`${o6}px`,"--gap":`${E}px`,...w,...h6(d,h)},onBlur:oe=>{G.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(G.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||G.current||(G.current=!0,H.current=oe.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{O||B(!1)},onDragEnd:()=>B(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},U.filter(oe=>!oe.position&&ce===0||oe.position===ne).map((oe,Ie)=>{var Oe,de;return fe.createElement(d6,{key:oe.id,icons:C,index:Ie,toast:oe,defaultRichColors:g,duration:(Oe=v==null?void 0:v.duration)!=null?Oe:y,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:N,closeButton:(de=v==null?void 0:v.closeButton)!=null?de:l,interacting:O,position:ne,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:te,toasts:U.filter(he=>he.position==oe.position),heights:A.filter(he=>he.position==oe.position),setHeights:D,expandByDefault:i,gap:E,loadingIcon:T,expanded:z,pauseWhenPageIsHidden:F,swipeDirections:t.swipeDirections})})):null}))});const pP=({...t})=>{const{theme:e="system"}=z3();return o.jsx(f6,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var m6=Ax[" useId ".trim().toString()]||(()=>{}),p6=0;function gs(t){const[e,n]=_.useState(m6());return In(()=>{n(r=>r??String(p6++))},[t]),e?`radix-${e}`:""}const g6=["top","right","bottom","left"],sa=Math.min,$r=Math.max,fp=Math.round,nm=Math.floor,yi=t=>({x:t,y:t}),y6={left:"right",right:"left",bottom:"top",top:"bottom"},v6={start:"end",end:"start"};function N0(t,e,n){return $r(t,sa(e,n))}function eo(t,e){return typeof t=="function"?t(e):t}function to(t){return t.split("-")[0]}function du(t){return t.split("-")[1]}function M_(t){return t==="x"?"y":"x"}function D_(t){return t==="y"?"height":"width"}function di(t){return["top","bottom"].includes(to(t))?"y":"x"}function L_(t){return M_(di(t))}function x6(t,e,n){n===void 0&&(n=!1);const r=du(t),s=L_(t),i=D_(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=mp(l)),[l,mp(l)]}function _6(t){const e=mp(t);return[T0(t),e,T0(e)]}function T0(t){return t.replace(/start|end/g,e=>v6[e])}function w6(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:l;default:return[]}}function b6(t,e,n,r){const s=du(t);let i=w6(to(t),n==="start",r);return s&&(i=i.map(l=>l+"-"+s),e&&(i=i.concat(i.map(T0)))),i}function mp(t){return t.replace(/left|right|bottom|top/g,e=>y6[e])}function E6(t){return{top:0,right:0,bottom:0,left:0,...t}}function gP(t){return typeof t!="number"?E6(t):{top:t,right:t,bottom:t,left:t}}function pp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function TE(t,e,n){let{reference:r,floating:s}=t;const i=di(e),l=L_(e),c=D_(l),d=to(e),h=i==="y",p=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,y=r[c]/2-s[c]/2;let w;switch(d){case"top":w={x:p,y:r.y-s.height};break;case"bottom":w={x:p,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:g};break;case"left":w={x:r.x-s.width,y:g};break;default:w={x:r.x,y:r.y}}switch(du(e)){case"start":w[l]-=y*(n&&h?-1:1);break;case"end":w[l]+=y*(n&&h?-1:1);break}return w}const N6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:l}=n,c=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:g}=TE(h,r,d),y=r,w={},N=0;for(let v=0;v<c.length;v++){const{name:S,fn:E}=c[v],{x:T,y:C,data:R,reset:F}=await E({x:p,y:g,initialPlacement:r,placement:y,strategy:s,middlewareData:w,rects:h,platform:l,elements:{reference:t,floating:e}});p=T??p,g=C??g,w={...w,[S]:{...w[S],...R}},F&&N<=50&&(N++,typeof F=="object"&&(F.placement&&(y=F.placement),F.rects&&(h=F.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):F.rects),{x:p,y:g}=TE(h,y,d)),v=-1)}return{x:p,y:g,placement:y,strategy:s,middlewareData:w}};async function fh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:l,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:y=!1,padding:w=0}=eo(e,t),N=gP(w),S=c[y?g==="floating"?"reference":"floating":g],E=pp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:h,rootBoundary:p,strategy:d})),T=g==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),R=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},F=pp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:C,strategy:d}):T);return{top:(E.top-F.top+N.top)/R.y,bottom:(F.bottom-E.bottom+N.bottom)/R.y,left:(E.left-F.left+N.left)/R.x,right:(F.right-E.right+N.right)/R.x}}const T6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:l,elements:c,middlewareData:d}=e,{element:h,padding:p=0}=eo(t,e)||{};if(h==null)return{};const g=gP(p),y={x:n,y:r},w=L_(s),N=D_(w),v=await l.getDimensions(h),S=w==="y",E=S?"top":"left",T=S?"bottom":"right",C=S?"clientHeight":"clientWidth",R=i.reference[N]+i.reference[w]-y[w]-i.floating[N],F=y[w]-i.reference[w],U=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let j=U?U[C]:0;(!j||!await(l.isElement==null?void 0:l.isElement(U)))&&(j=c.floating[C]||i.floating[N]);const I=R/2-F/2,A=j/2-v[N]/2-1,D=sa(g[E],A),z=sa(g[T],A),B=D,O=j-v[N]-z,Q=j/2-v[N]/2+I,me=N0(B,Q,O),Y=!d.arrow&&du(s)!=null&&Q!==me&&i.reference[N]/2-(Q<B?D:z)-v[N]/2<0,J=Y?Q<B?Q-B:Q-O:0;return{[w]:y[w]+J,data:{[w]:me,centerOffset:Q-me-J,...Y&&{alignmentOffset:J}},reset:Y}}}),S6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:l,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:v=!0,...S}=eo(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=to(s),T=di(c),C=to(c)===c,R=await(d.isRTL==null?void 0:d.isRTL(h.floating)),F=y||(C||!v?[mp(c)]:_6(c)),U=N!=="none";!y&&U&&F.push(...b6(c,v,N,R));const j=[c,...F],I=await fh(e,S),A=[];let D=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&A.push(I[E]),g){const Q=x6(s,l,R);A.push(I[Q[0]],I[Q[1]])}if(D=[...D,{placement:s,overflows:A}],!A.every(Q=>Q<=0)){var z,B;const Q=(((z=i.flip)==null?void 0:z.index)||0)+1,me=j[Q];if(me&&(!(g==="alignment"?T!==di(me):!1)||D.every($=>$.overflows[0]>0&&di($.placement)===T)))return{data:{index:Q,overflows:D},reset:{placement:me}};let Y=(B=D.filter(J=>J.overflows[0]<=0).sort((J,$)=>J.overflows[1]-$.overflows[1])[0])==null?void 0:B.placement;if(!Y)switch(w){case"bestFit":{var O;const J=(O=D.filter($=>{if(U){const H=di($.placement);return H===T||H==="y"}return!0}).map($=>[$.placement,$.overflows.filter(H=>H>0).reduce((H,G)=>H+G,0)]).sort(($,H)=>$[1]-H[1])[0])==null?void 0:O[0];J&&(Y=J);break}case"initialPlacement":Y=c;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function SE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CE(t){return g6.some(e=>t[e]>=0)}const C6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=eo(t,e);switch(r){case"referenceHidden":{const i=await fh(e,{...s,elementContext:"reference"}),l=SE(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:CE(l)}}}case"escaped":{const i=await fh(e,{...s,altBoundary:!0}),l=SE(i,n.floating);return{data:{escapedOffsets:l,escaped:CE(l)}}}default:return{}}}}};async function k6(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=to(n),c=du(n),d=di(n)==="y",h=["left","top"].includes(l)?-1:1,p=i&&d?-1:1,g=eo(e,t);let{mainAxis:y,crossAxis:w,alignmentAxis:N}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof N=="number"&&(w=c==="end"?N*-1:N),d?{x:w*p,y:y*h}:{x:y*h,y:w*p}}const P6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:l,middlewareData:c}=e,d=await k6(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:l}}}}},I6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:c={fn:S=>{let{x:E,y:T}=S;return{x:E,y:T}}},...d}=eo(t,e),h={x:n,y:r},p=await fh(e,d),g=di(to(s)),y=M_(g);let w=h[y],N=h[g];if(i){const S=y==="y"?"top":"left",E=y==="y"?"bottom":"right",T=w+p[S],C=w-p[E];w=N0(T,w,C)}if(l){const S=g==="y"?"top":"left",E=g==="y"?"bottom":"right",T=N+p[S],C=N-p[E];N=N0(T,N,C)}const v=c.fn({...e,[y]:w,[g]:N});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[y]:i,[g]:l}}}}}},j6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=eo(t,e),p={x:n,y:r},g=di(s),y=M_(g);let w=p[y],N=p[g];const v=eo(c,e),S=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const C=y==="y"?"height":"width",R=i.reference[y]-i.floating[C]+S.mainAxis,F=i.reference[y]+i.reference[C]-S.mainAxis;w<R?w=R:w>F&&(w=F)}if(h){var E,T;const C=y==="y"?"width":"height",R=["top","left"].includes(to(s)),F=i.reference[g]-i.floating[C]+(R&&((E=l.offset)==null?void 0:E[g])||0)+(R?0:S.crossAxis),U=i.reference[g]+i.reference[C]+(R?0:((T=l.offset)==null?void 0:T[g])||0)-(R?S.crossAxis:0);N<F?N=F:N>U&&(N=U)}return{[y]:w,[g]:N}}}},A6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:l,elements:c}=e,{apply:d=()=>{},...h}=eo(t,e),p=await fh(e,h),g=to(s),y=du(s),w=di(s)==="y",{width:N,height:v}=i.floating;let S,E;g==="top"||g==="bottom"?(S=g,E=y===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(E=g,S=y==="end"?"top":"bottom");const T=v-p.top-p.bottom,C=N-p.left-p.right,R=sa(v-p[S],T),F=sa(N-p[E],C),U=!e.middlewareData.shift;let j=R,I=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=T),U&&!y){const D=$r(p.left,0),z=$r(p.right,0),B=$r(p.top,0),O=$r(p.bottom,0);w?I=N-2*(D!==0||z!==0?D+z:$r(p.left,p.right)):j=v-2*(B!==0||O!==0?B+O:$r(p.top,p.bottom))}await d({...e,availableWidth:I,availableHeight:j});const A=await l.getDimensions(c.floating);return N!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function dg(){return typeof window<"u"}function hu(t){return yP(t)?(t.nodeName||"").toLowerCase():"#document"}function Kr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ni(t){var e;return(e=(yP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yP(t){return dg()?t instanceof Node||t instanceof Kr(t).Node:!1}function qs(t){return dg()?t instanceof Element||t instanceof Kr(t).Element:!1}function bi(t){return dg()?t instanceof HTMLElement||t instanceof Kr(t).HTMLElement:!1}function kE(t){return!dg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Kr(t).ShadowRoot}function Wh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Hs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function R6(t){return["table","td","th"].includes(hu(t))}function hg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function O_(t){const e=V_(),n=qs(t)?Hs(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function M6(t){let e=ia(t);for(;bi(e)&&!qc(e);){if(O_(e))return e;if(hg(e))return null;e=ia(e)}return null}function V_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qc(t){return["html","body","#document"].includes(hu(t))}function Hs(t){return Kr(t).getComputedStyle(t)}function fg(t){return qs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ia(t){if(hu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kE(t)&&t.host||Ni(t);return kE(e)?e.host:e}function vP(t){const e=ia(t);return qc(e)?t.ownerDocument?t.ownerDocument.body:t.body:bi(e)&&Wh(e)?e:vP(e)}function mh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=vP(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),l=Kr(s);if(i){const c=S0(l);return e.concat(l,l.visualViewport||[],Wh(s)?s:[],c&&n?mh(c):[])}return e.concat(s,mh(s,[],n))}function S0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xP(t){const e=Hs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=bi(t),i=s?t.offsetWidth:n,l=s?t.offsetHeight:r,c=fp(n)!==i||fp(r)!==l;return c&&(n=i,r=l),{width:n,height:r,$:c}}function F_(t){return qs(t)?t:t.contextElement}function wc(t){const e=F_(t);if(!bi(e))return yi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=xP(e);let l=(i?fp(n.width):n.width)/r,c=(i?fp(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const D6=yi(0);function _P(t){const e=Kr(t);return!V_()||!e.visualViewport?D6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function L6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Kr(t)?!1:e}function rl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=F_(t);let l=yi(1);e&&(r?qs(r)&&(l=wc(r)):l=wc(t));const c=L6(i,n,r)?_P(i):yi(0);let d=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,p=s.width/l.x,g=s.height/l.y;if(i){const y=Kr(i),w=r&&qs(r)?Kr(r):r;let N=y,v=S0(N);for(;v&&r&&w!==N;){const S=wc(v),E=v.getBoundingClientRect(),T=Hs(v),C=E.left+(v.clientLeft+parseFloat(T.paddingLeft))*S.x,R=E.top+(v.clientTop+parseFloat(T.paddingTop))*S.y;d*=S.x,h*=S.y,p*=S.x,g*=S.y,d+=C,h+=R,N=Kr(v),v=S0(N)}}return pp({width:p,height:g,x:d,y:h})}function z_(t,e){const n=fg(t).scrollLeft;return e?e.left+n:rl(Ni(t)).left+n}function wP(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:z_(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function O6(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",l=Ni(r),c=e?hg(e.floating):!1;if(r===l||c&&i)return n;let d={scrollLeft:0,scrollTop:0},h=yi(1);const p=yi(0),g=bi(r);if((g||!g&&!i)&&((hu(r)!=="body"||Wh(l))&&(d=fg(r)),bi(r))){const w=rl(r);h=wc(r),p.x=w.x+r.clientLeft,p.y=w.y+r.clientTop}const y=l&&!g&&!i?wP(l,d,!0):yi(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+p.x+y.x,y:n.y*h.y-d.scrollTop*h.y+p.y+y.y}}function V6(t){return Array.from(t.getClientRects())}function F6(t){const e=Ni(t),n=fg(t),r=t.ownerDocument.body,s=$r(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=$r(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+z_(t);const c=-n.scrollTop;return Hs(r).direction==="rtl"&&(l+=$r(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:l,y:c}}function z6(t,e){const n=Kr(t),r=Ni(t),s=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,c=0,d=0;if(s){i=s.width,l=s.height;const h=V_();(!h||h&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:i,height:l,x:c,y:d}}function B6(t,e){const n=rl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=bi(t)?wc(t):yi(1),l=t.clientWidth*i.x,c=t.clientHeight*i.y,d=s*i.x,h=r*i.y;return{width:l,height:c,x:d,y:h}}function PE(t,e,n){let r;if(e==="viewport")r=z6(t,n);else if(e==="document")r=F6(Ni(t));else if(qs(e))r=B6(e,n);else{const s=_P(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return pp(r)}function bP(t,e){const n=ia(t);return n===e||!qs(n)||qc(n)?!1:Hs(n).position==="fixed"||bP(n,e)}function U6(t,e){const n=e.get(t);if(n)return n;let r=mh(t,[],!1).filter(c=>qs(c)&&hu(c)!=="body"),s=null;const i=Hs(t).position==="fixed";let l=i?ia(t):t;for(;qs(l)&&!qc(l);){const c=Hs(l),d=O_(l);!d&&c.position==="fixed"&&(s=null),(i?!d&&!s:!d&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Wh(l)&&!d&&bP(t,l))?r=r.filter(p=>p!==l):s=c,l=ia(l)}return e.set(t,r),r}function $6(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?hg(e)?[]:U6(e,this._c):[].concat(n),r],c=l[0],d=l.reduce((h,p)=>{const g=PE(e,p,s);return h.top=$r(g.top,h.top),h.right=sa(g.right,h.right),h.bottom=sa(g.bottom,h.bottom),h.left=$r(g.left,h.left),h},PE(e,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function q6(t){const{width:e,height:n}=xP(t);return{width:e,height:n}}function H6(t,e,n){const r=bi(e),s=Ni(e),i=n==="fixed",l=rl(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const d=yi(0);function h(){d.x=z_(s)}if(r||!r&&!i)if((hu(e)!=="body"||Wh(s))&&(c=fg(e)),r){const w=rl(e,!0,i,e);d.x=w.x+e.clientLeft,d.y=w.y+e.clientTop}else s&&h();i&&!r&&s&&h();const p=s&&!r&&!i?wP(s,c):yi(0),g=l.left+c.scrollLeft-d.x-p.x,y=l.top+c.scrollTop-d.y-p.y;return{x:g,y,width:l.width,height:l.height}}function Xy(t){return Hs(t).position==="static"}function IE(t,e){if(!bi(t)||Hs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ni(t)===n&&(n=n.ownerDocument.body),n}function EP(t,e){const n=Kr(t);if(hg(t))return n;if(!bi(t)){let s=ia(t);for(;s&&!qc(s);){if(qs(s)&&!Xy(s))return s;s=ia(s)}return n}let r=IE(t,e);for(;r&&R6(r)&&Xy(r);)r=IE(r,e);return r&&qc(r)&&Xy(r)&&!O_(r)?n:r||M6(t)||n}const W6=async function(t){const e=this.getOffsetParent||EP,n=this.getDimensions,r=await n(t.floating);return{reference:H6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function G6(t){return Hs(t).direction==="rtl"}const K6={convertOffsetParentRelativeRectToViewportRelativeRect:O6,getDocumentElement:Ni,getClippingRect:$6,getOffsetParent:EP,getElementRects:W6,getClientRects:V6,getDimensions:q6,getScale:wc,isElement:qs,isRTL:G6};function NP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Z6(t,e){let n=null,r;const s=Ni(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const h=t.getBoundingClientRect(),{left:p,top:g,width:y,height:w}=h;if(c||e(),!y||!w)return;const N=nm(g),v=nm(s.clientWidth-(p+y)),S=nm(s.clientHeight-(g+w)),E=nm(p),C={rootMargin:-N+"px "+-v+"px "+-S+"px "+-E+"px",threshold:$r(0,sa(1,d))||1};let R=!0;function F(U){const j=U[0].intersectionRatio;if(j!==d){if(!R)return l();j?l(!1,j):r=setTimeout(()=>{l(!1,1e-7)},1e3)}j===1&&!NP(h,t.getBoundingClientRect())&&l(),R=!1}try{n=new IntersectionObserver(F,{...C,root:s.ownerDocument})}catch{n=new IntersectionObserver(F,C)}n.observe(t)}return l(!0),i}function Q6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=F_(t),p=s||i?[...h?mh(h):[],...mh(e)]:[];p.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const g=h&&c?Z6(h,n):null;let y=-1,w=null;l&&(w=new ResizeObserver(E=>{let[T]=E;T&&T.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var C;(C=w)==null||C.observe(e)})),n()}),h&&!d&&w.observe(h),w.observe(e));let N,v=d?rl(t):null;d&&S();function S(){const E=rl(t);v&&!NP(v,E)&&n(),v=E,N=requestAnimationFrame(S)}return n(),()=>{var E;p.forEach(T=>{s&&T.removeEventListener("scroll",n),i&&T.removeEventListener("resize",n)}),g==null||g(),(E=w)==null||E.disconnect(),w=null,d&&cancelAnimationFrame(N)}}const Y6=P6,X6=I6,J6=S6,eV=A6,tV=C6,jE=T6,nV=j6,rV=(t,e,n)=>{const r=new Map,s={platform:K6,...n},i={...s.platform,_c:r};return N6(t,e,{...s,platform:i})};var sV=typeof document<"u",iV=function(){},Pm=sV?_.useLayoutEffect:iV;function gp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!gp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!gp(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function TP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function AE(t,e){const n=TP(t);return Math.round(e*n)/n}function Jy(t){const e=_.useRef(t);return Pm(()=>{e.current=t}),e}function oV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[p,g]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,w]=_.useState(r);gp(y,r)||w(r);const[N,v]=_.useState(null),[S,E]=_.useState(null),T=_.useCallback($=>{$!==U.current&&(U.current=$,v($))},[]),C=_.useCallback($=>{$!==j.current&&(j.current=$,E($))},[]),R=i||N,F=l||S,U=_.useRef(null),j=_.useRef(null),I=_.useRef(p),A=d!=null,D=Jy(d),z=Jy(s),B=Jy(h),O=_.useCallback(()=>{if(!U.current||!j.current)return;const $={placement:e,strategy:n,middleware:y};z.current&&($.platform=z.current),rV(U.current,j.current,$).then(H=>{const G={...H,isPositioned:B.current!==!1};Q.current&&!gp(I.current,G)&&(I.current=G,xl.flushSync(()=>{g(G)}))})},[y,e,n,z,B]);Pm(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g($=>({...$,isPositioned:!1})))},[h]);const Q=_.useRef(!1);Pm(()=>(Q.current=!0,()=>{Q.current=!1}),[]),Pm(()=>{if(R&&(U.current=R),F&&(j.current=F),R&&F){if(D.current)return D.current(R,F,O);O()}},[R,F,O,D,A]);const me=_.useMemo(()=>({reference:U,floating:j,setReference:T,setFloating:C}),[T,C]),Y=_.useMemo(()=>({reference:R,floating:F}),[R,F]),J=_.useMemo(()=>{const $={position:n,left:0,top:0};if(!Y.floating)return $;const H=AE(Y.floating,p.x),G=AE(Y.floating,p.y);return c?{...$,transform:"translate("+H+"px, "+G+"px)",...TP(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:G}},[n,c,Y.floating,p.x,p.y]);return _.useMemo(()=>({...p,update:O,refs:me,elements:Y,floatingStyles:J}),[p,O,me,Y,J])}const aV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?jE({element:r.current,padding:s}).fn(n):{}:r?jE({element:r,padding:s}).fn(n):{}}}},lV=(t,e)=>({...Y6(t),options:[t,e]}),cV=(t,e)=>({...X6(t),options:[t,e]}),uV=(t,e)=>({...nV(t),options:[t,e]}),dV=(t,e)=>({...J6(t),options:[t,e]}),hV=(t,e)=>({...eV(t),options:[t,e]}),fV=(t,e)=>({...tV(t),options:[t,e]}),mV=(t,e)=>({...aV(t),options:[t,e]});var pV="Arrow",SP=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(Re.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});SP.displayName=pV;var gV=SP;function B_(t){const[e,n]=_.useState(void 0);return In(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,c;if("borderBoxSize"in i){const d=i.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,c=h.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var U_="Popper",[CP,fu]=or(U_),[yV,kP]=CP(U_),PP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=_.useState(null);return o.jsx(yV,{scope:e,anchor:r,onAnchorChange:s,children:n})};PP.displayName=U_;var IP="PopperAnchor",jP=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=kP(IP,n),l=_.useRef(null),c=rt(e,l);return _.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:o.jsx(Re.div,{...s,ref:c})});jP.displayName=IP;var $_="PopperContent",[vV,xV]=CP($_),AP=_.forwardRef((t,e)=>{var oe,Ie,Oe,de,he,se;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:w="optimized",onPlaced:N,...v}=t,S=kP($_,n),[E,T]=_.useState(null),C=rt(e,Ae=>T(Ae)),[R,F]=_.useState(null),U=B_(R),j=(U==null?void 0:U.width)??0,I=(U==null?void 0:U.height)??0,A=r+(i!=="center"?"-"+i:""),D=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},z=Array.isArray(h)?h:[h],B=z.length>0,O={padding:D,boundary:z.filter(wV),altBoundary:B},{refs:Q,floatingStyles:me,placement:Y,isPositioned:J,middlewareData:$}=oV({strategy:"fixed",placement:A,whileElementsMounted:(...Ae)=>Q6(...Ae,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[lV({mainAxis:s+I,alignmentAxis:l}),d&&cV({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?uV():void 0,...O}),d&&dV({...O}),hV({...O,apply:({elements:Ae,rects:Ye,availableWidth:dt,availableHeight:vt})=>{const{width:bt,height:Zt}=Ye.reference,Bt=Ae.floating.style;Bt.setProperty("--radix-popper-available-width",`${dt}px`),Bt.setProperty("--radix-popper-available-height",`${vt}px`),Bt.setProperty("--radix-popper-anchor-width",`${bt}px`),Bt.setProperty("--radix-popper-anchor-height",`${Zt}px`)}}),R&&mV({element:R,padding:c}),bV({arrowWidth:j,arrowHeight:I}),y&&fV({strategy:"referenceHidden",...O})]}),[H,G]=DP(Y),te=jr(N);In(()=>{J&&(te==null||te())},[J,te]);const ne=(oe=$.arrow)==null?void 0:oe.x,ce=(Ie=$.arrow)==null?void 0:Ie.y,ge=((Oe=$.arrow)==null?void 0:Oe.centerOffset)!==0,[be,_e]=_.useState();return In(()=>{E&&_e(window.getComputedStyle(E).zIndex)},[E]),o.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:J?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(de=$.transformOrigin)==null?void 0:de.x,(he=$.transformOrigin)==null?void 0:he.y].join(" "),...((se=$.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(vV,{scope:n,placedSide:H,onArrowChange:F,arrowX:ne,arrowY:ce,shouldHideArrow:ge,children:o.jsx(Re.div,{"data-side":H,"data-align":G,...v,ref:C,style:{...v.style,animation:J?void 0:"none"}})})})});AP.displayName=$_;var RP="PopperArrow",_V={top:"bottom",right:"left",bottom:"top",left:"right"},MP=_.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=xV(RP,r),l=_V[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(gV,{...s,ref:n,style:{...s.style,display:"block"}})})});MP.displayName=RP;function wV(t){return t!==null}var bV=t=>({name:"transformOrigin",options:t,fn(e){var S,E,T;const{placement:n,rects:r,middlewareData:s}=e,l=((S=s.arrow)==null?void 0:S.centerOffset)!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[h,p]=DP(n),g={start:"0%",center:"50%",end:"100%"}[p],y=(((E=s.arrow)==null?void 0:E.x)??0)+c/2,w=(((T=s.arrow)==null?void 0:T.y)??0)+d/2;let N="",v="";return h==="bottom"?(N=l?g:`${y}px`,v=`${-d}px`):h==="top"?(N=l?g:`${y}px`,v=`${r.floating.height+d}px`):h==="right"?(N=`${-d}px`,v=l?g:`${w}px`):h==="left"&&(N=`${r.floating.width+d}px`,v=l?g:`${w}px`),{data:{x:N,y:v}}}});function DP(t){const[e,n="center"]=t.split("-");return[e,n]}var LP=PP,q_=jP,H_=AP,W_=MP,[mg,yQ]=or("Tooltip",[fu]),G_=fu(),OP="TooltipProvider",EV=700,RE="tooltip.open",[NV,VP]=mg(OP),FP=t=>{const{__scopeTooltip:e,delayDuration:n=EV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,l=_.useRef(!0),c=_.useRef(!1),d=_.useRef(0);return _.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),o.jsx(NV,{scope:e,isOpenDelayedRef:l,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:_.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:i})};FP.displayName=OP;var zP="Tooltip",[vQ,pg]=mg(zP),C0="TooltipTrigger",TV=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=pg(C0,n),i=VP(C0,n),l=G_(n),c=_.useRef(null),d=rt(e,c,s.onTriggerChange),h=_.useRef(!1),p=_.useRef(!1),g=_.useCallback(()=>h.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),o.jsx(q_,{asChild:!0,...l,children:o.jsx(Re.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:d,onPointerMove:xe(t.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:xe(t.onFocus,()=>{h.current||s.onOpen()}),onBlur:xe(t.onBlur,s.onClose),onClick:xe(t.onClick,s.onClose)})})});TV.displayName=C0;var SV="TooltipPortal",[xQ,CV]=mg(SV,{forceMount:void 0}),Hc="TooltipContent",BP=_.forwardRef((t,e)=>{const n=CV(Hc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,l=pg(Hc,t.__scopeTooltip);return o.jsx(Xr,{present:r||l.open,children:l.disableHoverableContent?o.jsx(UP,{side:s,...i,ref:e}):o.jsx(kV,{side:s,...i,ref:e})})}),kV=_.forwardRef((t,e)=>{const n=pg(Hc,t.__scopeTooltip),r=VP(Hc,t.__scopeTooltip),s=_.useRef(null),i=rt(e,s),[l,c]=_.useState(null),{trigger:d,onClose:h}=n,p=s.current,{onPointerInTransitChange:g}=r,y=_.useCallback(()=>{c(null),g(!1)},[g]),w=_.useCallback((N,v)=>{const S=N.currentTarget,E={x:N.clientX,y:N.clientY},T=RV(E,S.getBoundingClientRect()),C=MV(E,T),R=DV(v.getBoundingClientRect()),F=OV([...C,...R]);c(F),g(!0)},[g]);return _.useEffect(()=>()=>y(),[y]),_.useEffect(()=>{if(d&&p){const N=S=>w(S,p),v=S=>w(S,d);return d.addEventListener("pointerleave",N),p.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",N),p.removeEventListener("pointerleave",v)}}},[d,p,w,y]),_.useEffect(()=>{if(l){const N=v=>{const S=v.target,E={x:v.clientX,y:v.clientY},T=(d==null?void 0:d.contains(S))||(p==null?void 0:p.contains(S)),C=!LV(E,l);T?y():C&&(y(),h())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[d,p,l,h,y]),o.jsx(UP,{...t,ref:i})}),[PV,IV]=mg(zP,{isInside:!1}),jV=LO("TooltipContent"),UP=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...c}=t,d=pg(Hc,n),h=G_(n),{onClose:p}=d;return _.useEffect(()=>(document.addEventListener(RE,p),()=>document.removeEventListener(RE,p)),[p]),_.useEffect(()=>{if(d.trigger){const g=y=>{const w=y.target;w!=null&&w.contains(d.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,p]),o.jsx(au,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:o.jsxs(H_,{"data-state":d.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(jV,{children:r}),o.jsx(PV,{scope:n,isInside:!0,children:o.jsx(s5,{id:d.contentId,role:"tooltip",children:s||r})})]})})});BP.displayName=Hc;var $P="TooltipArrow",AV=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=G_(n);return IV($P,n).isInside?null:o.jsx(W_,{...s,...r,ref:e})});AV.displayName=$P;function RV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function MV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function DV(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function LV(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const c=e[i],d=e[l],h=c.x,p=c.y,g=d.x,y=d.y;p>r!=y>r&&n<(g-h)*(r-p)/(y-p)+h&&(s=!s)}return s}function OV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),VV(e)}function VV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],l=e[e.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var FV=FP,qP=BP;const zV=FV,BV=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(qP,{ref:r,sideOffset:e,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));BV.displayName=qP.displayName;var gg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yg=typeof window>"u"||"Deno"in globalThis;function As(){}function UV(t,e){return typeof t=="function"?t(e):t}function $V(t){return typeof t=="number"&&t>=0&&t!==1/0}function qV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function k0(t,e){return typeof t=="function"?t(e):t}function HV(t,e){return typeof t=="function"?t(e):t}function ME(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:l,stale:c}=t;if(l){if(r){if(e.queryHash!==K_(l,e.options))return!1}else if(!gh(e.queryKey,l))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||i&&!i(e))}function DE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ph(e.options.mutationKey)!==ph(i))return!1}else if(!gh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function K_(t,e){return((e==null?void 0:e.queryKeyHashFn)||ph)(t)}function ph(t){return JSON.stringify(t,(e,n)=>P0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function gh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>gh(t[n],e[n])):!1}function HP(t,e){if(t===e)return t;const n=LE(t)&&LE(e);if(n||P0(t)&&P0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),l=i.length,c=n?[]:{},d=new Set(r);let h=0;for(let p=0;p<l;p++){const g=n?p:i[p];(!n&&d.has(g)||n)&&t[g]===void 0&&e[g]===void 0?(c[g]=void 0,h++):(c[g]=HP(t[g],e[g]),c[g]===t[g]&&t[g]!==void 0&&h++)}return s===l&&h===s?t:c}return e}function LE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function P0(t){if(!OE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!OE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function OE(t){return Object.prototype.toString.call(t)==="[object Object]"}function WV(t){return new Promise(e=>{setTimeout(e,t)})}function GV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?HP(t,e):e}function KV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function ZV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Z_=Symbol();function WP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Z_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Fa,jo,Pc,eS,QV=(eS=class extends gg{constructor(){super();pt(this,Fa);pt(this,jo);pt(this,Pc);Qe(this,Pc,e=>{if(!yg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ie(this,jo)||this.setEventListener(ie(this,Pc))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,jo))==null||e.call(this),Qe(this,jo,void 0))}setEventListener(e){var n;Qe(this,Pc,e),(n=ie(this,jo))==null||n.call(this),Qe(this,jo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ie(this,Fa)!==e&&(Qe(this,Fa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ie(this,Fa)=="boolean"?ie(this,Fa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fa=new WeakMap,jo=new WeakMap,Pc=new WeakMap,eS),GP=new QV,Ic,Ao,jc,tS,YV=(tS=class extends gg{constructor(){super();pt(this,Ic,!0);pt(this,Ao);pt(this,jc);Qe(this,jc,e=>{if(!yg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ie(this,Ao)||this.setEventListener(ie(this,jc))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,Ao))==null||e.call(this),Qe(this,Ao,void 0))}setEventListener(e){var n;Qe(this,jc,e),(n=ie(this,Ao))==null||n.call(this),Qe(this,Ao,e(this.setOnline.bind(this)))}setOnline(e){ie(this,Ic)!==e&&(Qe(this,Ic,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ie(this,Ic)}},Ic=new WeakMap,Ao=new WeakMap,jc=new WeakMap,tS),yp=new YV;function XV(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function JV(t){return Math.min(1e3*2**t,3e4)}function KP(t){return(t??"online")==="online"?yp.isOnline():!0}var ZP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ev(t){return t instanceof ZP}function QP(t){let e=!1,n=0,r=!1,s;const i=XV(),l=v=>{var S;r||(y(new ZP(v)),(S=t.abort)==null||S.call(t))},c=()=>{e=!0},d=()=>{e=!1},h=()=>GP.isFocused()&&(t.networkMode==="always"||yp.isOnline())&&t.canRun(),p=()=>KP(t.networkMode)&&t.canRun(),g=v=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,v),s==null||s(),i.resolve(v))},y=v=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,v),s==null||s(),i.reject(v))},w=()=>new Promise(v=>{var S;s=E=>{(r||h())&&v(E)},(S=t.onPause)==null||S.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),N=()=>{if(r)return;let v;const S=n===0?t.initialPromise:void 0;try{v=S??t.fn()}catch(E){v=Promise.reject(E)}Promise.resolve(v).then(g).catch(E=>{var U;if(r)return;const T=t.retry??(yg?0:3),C=t.retryDelay??JV,R=typeof C=="function"?C(n,E):C,F=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,E);if(e||!F){y(E);return}n++,(U=t.onFail)==null||U.call(t,n,E),WV(R).then(()=>h()?void 0:w()).then(()=>{e?y(E):N()})})};return{promise:i,cancel:l,continue:()=>(s==null||s(),i),cancelRetry:c,continueRetry:d,canStart:p,start:()=>(p()?N():w().then(N),i)}}var eF=t=>setTimeout(t,0);function tF(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=eF;const i=c=>{e?t.push(c):s(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var hr=tF(),za,nS,YP=(nS=class{constructor(){pt(this,za)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$V(this.gcTime)&&Qe(this,za,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(yg?1/0:5*60*1e3))}clearGcTimeout(){ie(this,za)&&(clearTimeout(ie(this,za)),Qe(this,za,void 0))}},za=new WeakMap,nS),Ac,Ba,cs,Ua,Yn,Dh,$a,Rs,Oi,rS,nF=(rS=class extends YP{constructor(n){super();pt(this,Rs);pt(this,Ac);pt(this,Ba);pt(this,cs);pt(this,Ua);pt(this,Yn);pt(this,Dh);pt(this,$a);Qe(this,$a,!1),Qe(this,Dh,n.defaultOptions),this.setOptions(n.options),this.observers=[],Qe(this,Ua,n.client),Qe(this,cs,ie(this,Ua).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Qe(this,Ac,sF(this.options)),this.state=n.state??ie(this,Ac),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=ie(this,Yn))==null?void 0:n.promise}setOptions(n){this.options={...ie(this,Dh),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,cs).remove(this)}setData(n,r){const s=GV(this.state.data,n,this.options);return Gn(this,Rs,Oi).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Gn(this,Rs,Oi).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=ie(this,Yn))==null?void 0:s.promise;return(i=ie(this,Yn))==null||i.cancel(n),r?r.then(As).catch(As):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,Ac))}isActive(){return this.observers.some(n=>HV(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Z_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>k0(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!qV(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=ie(this,Yn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=ie(this,Yn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),ie(this,cs).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(ie(this,Yn)&&(ie(this,$a)?ie(this,Yn).cancel({revert:!0}):ie(this,Yn).cancelRetry()),this.scheduleGc()),ie(this,cs).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Gn(this,Rs,Oi).call(this,{type:"invalidate"})}fetch(n,r){var p,g,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ie(this,Yn))return ie(this,Yn).continueRetry(),ie(this,Yn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const w=this.observers.find(N=>N.options.queryFn);w&&this.setOptions(w.options)}const s=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(Qe(this,$a,!0),s.signal)})},l=()=>{const w=WP(this.options,r),v=(()=>{const S={client:ie(this,Ua),queryKey:this.queryKey,meta:this.meta};return i(S),S})();return Qe(this,$a,!1),this.options.persister?this.options.persister(w,v,this):w(v)},d=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ie(this,Ua),state:this.state,fetchFn:l};return i(w),w})();(p=this.options.behavior)==null||p.onFetch(d,this),Qe(this,Ba,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=d.fetchOptions)==null?void 0:g.meta))&&Gn(this,Rs,Oi).call(this,{type:"fetch",meta:(y=d.fetchOptions)==null?void 0:y.meta});const h=w=>{var N,v,S,E;ev(w)&&w.silent||Gn(this,Rs,Oi).call(this,{type:"error",error:w}),ev(w)||((v=(N=ie(this,cs).config).onError)==null||v.call(N,w,this),(E=(S=ie(this,cs).config).onSettled)==null||E.call(S,this.state.data,w,this)),this.scheduleGc()};return Qe(this,Yn,QP({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,abort:s.abort.bind(s),onSuccess:w=>{var N,v,S,E;if(w===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(T){h(T);return}(v=(N=ie(this,cs).config).onSuccess)==null||v.call(N,w,this),(E=(S=ie(this,cs).config).onSettled)==null||E.call(S,w,this.state.error,this),this.scheduleGc()},onError:h,onFail:(w,N)=>{Gn(this,Rs,Oi).call(this,{type:"failed",failureCount:w,error:N})},onPause:()=>{Gn(this,Rs,Oi).call(this,{type:"pause"})},onContinue:()=>{Gn(this,Rs,Oi).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),ie(this,Yn).start()}},Ac=new WeakMap,Ba=new WeakMap,cs=new WeakMap,Ua=new WeakMap,Yn=new WeakMap,Dh=new WeakMap,$a=new WeakMap,Rs=new WeakSet,Oi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...rF(s.data,this.options),fetchMeta:n.meta??null};case"success":return Qe(this,Ba,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return ev(i)&&i.revert&&ie(this,Ba)?{...ie(this,Ba),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),hr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ie(this,cs).notify({query:this,type:"updated",action:n})})},rS);function rF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function sF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ii,sS,iF=(sS=class extends gg{constructor(e={}){super();pt(this,ii);this.config=e,Qe(this,ii,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??K_(s,n);let l=this.get(i);return l||(l=new nF({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){ie(this,ii).has(e.queryHash)||(ie(this,ii).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ie(this,ii).get(e.queryHash);n&&(e.destroy(),n===e&&ie(this,ii).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){hr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ie(this,ii).get(e)}getAll(){return[...ie(this,ii).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ME(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>ME(e,r)):n}notify(e){hr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){hr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){hr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ii=new WeakMap,sS),oi,ur,qa,ai,wo,iS,oF=(iS=class extends YP{constructor(n){super();pt(this,ai);pt(this,oi);pt(this,ur);pt(this,qa);this.mutationId=n.mutationId,Qe(this,ur,n.mutationCache),Qe(this,oi,[]),this.state=n.state||aF(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){ie(this,oi).includes(n)||(ie(this,oi).push(n),this.clearGcTimeout(),ie(this,ur).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Qe(this,oi,ie(this,oi).filter(r=>r!==n)),this.scheduleGc(),ie(this,ur).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){ie(this,oi).length||(this.state.status==="pending"?this.scheduleGc():ie(this,ur).remove(this))}continue(){var n;return((n=ie(this,qa))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var l,c,d,h,p,g,y,w,N,v,S,E,T,C,R,F,U,j,I,A;const r=()=>{Gn(this,ai,wo).call(this,{type:"continue"})};Qe(this,qa,QP({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(D,z)=>{Gn(this,ai,wo).call(this,{type:"failed",failureCount:D,error:z})},onPause:()=>{Gn(this,ai,wo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,ur).canRun(this)}));const s=this.state.status==="pending",i=!ie(this,qa).canStart();try{if(s)r();else{Gn(this,ai,wo).call(this,{type:"pending",variables:n,isPaused:i}),await((c=(l=ie(this,ur).config).onMutate)==null?void 0:c.call(l,n,this));const z=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,n));z!==this.state.context&&Gn(this,ai,wo).call(this,{type:"pending",context:z,variables:n,isPaused:i})}const D=await ie(this,qa).start();return await((g=(p=ie(this,ur).config).onSuccess)==null?void 0:g.call(p,D,n,this.state.context,this)),await((w=(y=this.options).onSuccess)==null?void 0:w.call(y,D,n,this.state.context)),await((v=(N=ie(this,ur).config).onSettled)==null?void 0:v.call(N,D,null,this.state.variables,this.state.context,this)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,D,null,n,this.state.context)),Gn(this,ai,wo).call(this,{type:"success",data:D}),D}catch(D){try{throw await((C=(T=ie(this,ur).config).onError)==null?void 0:C.call(T,D,n,this.state.context,this)),await((F=(R=this.options).onError)==null?void 0:F.call(R,D,n,this.state.context)),await((j=(U=ie(this,ur).config).onSettled)==null?void 0:j.call(U,void 0,D,this.state.variables,this.state.context,this)),await((A=(I=this.options).onSettled)==null?void 0:A.call(I,void 0,D,n,this.state.context)),D}finally{Gn(this,ai,wo).call(this,{type:"error",error:D})}}finally{ie(this,ur).runNext(this)}}},oi=new WeakMap,ur=new WeakMap,qa=new WeakMap,ai=new WeakSet,wo=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),hr.batch(()=>{ie(this,oi).forEach(s=>{s.onMutationUpdate(n)}),ie(this,ur).notify({mutation:this,type:"updated",action:n})})},iS);function aF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bi,Ms,Lh,oS,lF=(oS=class extends gg{constructor(e={}){super();pt(this,Bi);pt(this,Ms);pt(this,Lh);this.config=e,Qe(this,Bi,new Set),Qe(this,Ms,new Map),Qe(this,Lh,0)}build(e,n,r){const s=new oF({mutationCache:this,mutationId:++Df(this,Lh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){ie(this,Bi).add(e);const n=rm(e);if(typeof n=="string"){const r=ie(this,Ms).get(n);r?r.push(e):ie(this,Ms).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ie(this,Bi).delete(e)){const n=rm(e);if(typeof n=="string"){const r=ie(this,Ms).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&ie(this,Ms).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=rm(e);if(typeof n=="string"){const r=ie(this,Ms).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=rm(e);if(typeof n=="string"){const s=(r=ie(this,Ms).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){hr.batch(()=>{ie(this,Bi).forEach(e=>{this.notify({type:"removed",mutation:e})}),ie(this,Bi).clear(),ie(this,Ms).clear()})}getAll(){return Array.from(ie(this,Bi))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>DE(n,r))}findAll(e={}){return this.getAll().filter(n=>DE(e,n))}notify(e){hr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return hr.batch(()=>Promise.all(e.map(n=>n.continue().catch(As))))}},Bi=new WeakMap,Ms=new WeakMap,Lh=new WeakMap,oS);function rm(t){var e;return(e=t.options.scope)==null?void 0:e.id}function VE(t){return{onFetch:(e,n)=>{var p,g,y,w,N;const r=e.options,s=(y=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,i=((w=e.state.data)==null?void 0:w.pages)||[],l=((N=e.state.data)==null?void 0:N.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let v=!1;const S=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=WP(e.options,e.fetchOptions),T=async(C,R,F)=>{if(v)return Promise.reject();if(R==null&&C.pages.length)return Promise.resolve(C);const j=(()=>{const z={client:e.client,queryKey:e.queryKey,pageParam:R,direction:F?"backward":"forward",meta:e.options.meta};return S(z),z})(),I=await E(j),{maxPages:A}=e.options,D=F?ZV:KV;return{pages:D(C.pages,I,A),pageParams:D(C.pageParams,R,A)}};if(s&&i.length){const C=s==="backward",R=C?cF:FE,F={pages:i,pageParams:l},U=R(r,F);c=await T(F,U,C)}else{const C=t??i.length;do{const R=d===0?l[0]??r.initialPageParam:FE(r,c);if(d>0&&R==null)break;c=await T(c,R),d++}while(d<C)}return c};e.options.persister?e.fetchFn=()=>{var v,S;return(S=(v=e.options).persister)==null?void 0:S.call(v,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function FE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function cF(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xt,Ro,Mo,Rc,Mc,Do,Dc,Lc,aS,uF=(aS=class{constructor(t={}){pt(this,Xt);pt(this,Ro);pt(this,Mo);pt(this,Rc);pt(this,Mc);pt(this,Do);pt(this,Dc);pt(this,Lc);Qe(this,Xt,t.queryCache||new iF),Qe(this,Ro,t.mutationCache||new lF),Qe(this,Mo,t.defaultOptions||{}),Qe(this,Rc,new Map),Qe(this,Mc,new Map),Qe(this,Do,0)}mount(){Df(this,Do)._++,ie(this,Do)===1&&(Qe(this,Dc,GP.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,Xt).onFocus())})),Qe(this,Lc,yp.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,Xt).onOnline())})))}unmount(){var t,e;Df(this,Do)._--,ie(this,Do)===0&&((t=ie(this,Dc))==null||t.call(this),Qe(this,Dc,void 0),(e=ie(this,Lc))==null||e.call(this),Qe(this,Lc,void 0))}isFetching(t){return ie(this,Xt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ie(this,Ro).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ie(this,Xt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ie(this,Xt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(k0(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ie(this,Xt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=ie(this,Xt).get(r.queryHash),i=s==null?void 0:s.state.data,l=UV(e,i);if(l!==void 0)return ie(this,Xt).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return hr.batch(()=>ie(this,Xt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ie(this,Xt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ie(this,Xt);hr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ie(this,Xt);return hr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=hr.batch(()=>ie(this,Xt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(As).catch(As)}invalidateQueries(t,e={}){return hr.batch(()=>(ie(this,Xt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=hr.batch(()=>ie(this,Xt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(As)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(As)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ie(this,Xt).build(this,e);return n.isStaleByTime(k0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(As).catch(As)}fetchInfiniteQuery(t){return t.behavior=VE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(As).catch(As)}ensureInfiniteQueryData(t){return t.behavior=VE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return yp.isOnline()?ie(this,Ro).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,Xt)}getMutationCache(){return ie(this,Ro)}getDefaultOptions(){return ie(this,Mo)}setDefaultOptions(t){Qe(this,Mo,t)}setQueryDefaults(t,e){ie(this,Rc).set(ph(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ie(this,Rc).values()],n={};return e.forEach(r=>{gh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ie(this,Mc).set(ph(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ie(this,Mc).values()],n={};return e.forEach(r=>{gh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ie(this,Mo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=K_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Z_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ie(this,Mo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ie(this,Xt).clear(),ie(this,Ro).clear()}},Xt=new WeakMap,Ro=new WeakMap,Mo=new WeakMap,Rc=new WeakMap,Mc=new WeakMap,Do=new WeakMap,Dc=new WeakMap,Lc=new WeakMap,aS),dF=_.createContext(void 0),hF=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(dF.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(this,arguments)}var Fo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fo||(Fo={}));const zE="popstate";function fF(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:l,hash:c}=r.location;return I0("",{pathname:i,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:JP(s)}return pF(e,n,null,t)}function xn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mF(){return Math.random().toString(36).substr(2,8)}function BE(t,e){return{usr:t.state,key:t.key,idx:e}}function I0(t,e,n,r){return n===void 0&&(n=null),yh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mu(e):e,{state:n,key:e&&e.key||r||mF()})}function JP(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function mu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function pF(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,c=Fo.Pop,d=null,h=p();h==null&&(h=0,l.replaceState(yh({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function g(){c=Fo.Pop;let S=p(),E=S==null?null:S-h;h=S,d&&d({action:c,location:v.location,delta:E})}function y(S,E){c=Fo.Push;let T=I0(v.location,S,E);h=p()+1;let C=BE(T,h),R=v.createHref(T);try{l.pushState(C,"",R)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(R)}i&&d&&d({action:c,location:v.location,delta:1})}function w(S,E){c=Fo.Replace;let T=I0(v.location,S,E);h=p();let C=BE(T,h),R=v.createHref(T);l.replaceState(C,"",R),i&&d&&d({action:c,location:v.location,delta:0})}function N(S){let E=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof S=="string"?S:JP(S);return T=T.replace(/ $/,"%20"),xn(E,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,E)}let v={get action(){return c},get location(){return t(s,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(zE,g),d=S,()=>{s.removeEventListener(zE,g),d=null}},createHref(S){return e(s,S)},createURL:N,encodeLocation(S){let E=N(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:w,go(S){return l.go(S)}};return v}var UE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(UE||(UE={}));function gF(t,e,n){return n===void 0&&(n="/"),yF(t,e,n)}function yF(t,e,n,r){let s=typeof e=="string"?mu(e):e,i=nI(s.pathname||"/",n);if(i==null)return null;let l=eI(t);vF(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=IF(i);c=CF(l[d],h)}return c}function eI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,l,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(xn(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=Ga([r,d.relativePath]),p=n.concat(d);i.children&&i.children.length>0&&(xn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),eI(i.children,e,p,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:TF(h,i.index),routesMeta:p})};return t.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,l);else for(let d of tI(i.path))s(i,l,d)}),e}function tI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=tI(r.join("/")),c=[];return c.push(...l.map(d=>d===""?i:[i,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function vF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xF=/^:[\w-]+$/,_F=3,wF=2,bF=1,EF=10,NF=-2,$E=t=>t==="*";function TF(t,e){let n=t.split("/"),r=n.length;return n.some($E)&&(r+=NF),e&&(r+=wF),n.filter(s=>!$E(s)).reduce((s,i)=>s+(xF.test(i)?_F:i===""?bF:EF),r)}function SF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function CF(t,e,n){let{routesMeta:r}=t,s={},i="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=kF({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),y=d.route;if(!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Ga([i,g.pathname]),pathnameBase:LF(Ga([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=Ga([i,g.pathnameBase]))}return l}function kF(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PF(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,p,g)=>{let{paramName:y,isOptional:w}=p;if(y==="*"){let v=c[g]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const N=c[g];return w&&!N?h[y]=void 0:h[y]=(N||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:t}}function PF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),XP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function IF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return XP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?mu(t):t;return{pathname:n?n.startsWith("/")?n:AF(n,e):e,search:OF(r),hash:VF(s)}}function AF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function tv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function MF(t,e){let n=RF(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function DF(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=mu(t):(s=yh({},t),xn(!s.pathname||!s.pathname.includes("?"),tv("?","pathname","search",s)),xn(!s.pathname||!s.pathname.includes("#"),tv("#","pathname","hash",s)),xn(!s.search||!s.search.includes("#"),tv("#","search","hash",s)));let i=t===""||s.pathname==="",l=i?"/":s.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}c=g>=0?e[g]:"/"}let d=jF(s,c),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}const Ga=t=>t.join("/").replace(/\/\/+/g,"/"),LF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rI=["post","put","patch","delete"];new Set(rI);const zF=["get",...rI];new Set(zF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vh.apply(this,arguments)}const Q_=_.createContext(null),BF=_.createContext(null),vg=_.createContext(null),xg=_.createContext(null),_l=_.createContext({outlet:null,matches:[],isDataRoute:!1}),sI=_.createContext(null);function _g(){return _.useContext(xg)!=null}function Y_(){return _g()||xn(!1),_.useContext(xg).location}function iI(t){_.useContext(vg).static||_.useLayoutEffect(t)}function Un(){let{isDataRoute:t}=_.useContext(_l);return t?t9():UF()}function UF(){_g()||xn(!1);let t=_.useContext(Q_),{basename:e,future:n,navigator:r}=_.useContext(vg),{matches:s}=_.useContext(_l),{pathname:i}=Y_(),l=JSON.stringify(MF(s,n.v7_relativeSplatPath)),c=_.useRef(!1);return iI(()=>{c.current=!0}),_.useCallback(function(h,p){if(p===void 0&&(p={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let g=DF(h,JSON.parse(l),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ga([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,l,i,t])}function $F(){let{matches:t}=_.useContext(_l),e=t[t.length-1];return e?e.params:{}}function qF(t,e){return HF(t,e)}function HF(t,e,n,r){_g()||xn(!1);let{navigator:s}=_.useContext(vg),{matches:i}=_.useContext(_l),l=i[i.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=Y_(),p;if(e){var g;let S=typeof e=="string"?mu(e):e;d==="/"||(g=S.pathname)!=null&&g.startsWith(d)||xn(!1),p=S}else p=h;let y=p.pathname||"/",w=y;if(d!=="/"){let S=d.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let N=gF(t,{pathname:w}),v=QF(N&&N.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Ga([d,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:Ga([d,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&v?_.createElement(xg.Provider,{value:{location:vh({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Fo.Pop}},v):v}function WF(){let t=e9(),e=FF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:s},n):null,null)}const GF=_.createElement(WF,null);class KF extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(_l.Provider,{value:this.props.routeContext},_.createElement(sI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZF(t){let{routeContext:e,match:n,children:r}=t,s=_.useContext(Q_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(_l.Provider,{value:e},r)}function QF(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);p>=0||xn(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:y,errors:w}=n,N=g.route.loader&&y[g.route.id]===void 0&&(!w||w[g.route.id]===void 0);if(g.route.lazy||N){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,g,y)=>{let w,N=!1,v=null,S=null;n&&(w=c&&g.route.id?c[g.route.id]:void 0,v=g.route.errorElement||GF,d&&(h<0&&y===0?(n9("route-fallback"),N=!0,S=null):h===y&&(N=!0,S=g.route.hydrateFallbackElement||null)));let E=e.concat(l.slice(0,y+1)),T=()=>{let C;return w?C=v:N?C=S:g.route.Component?C=_.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=p,_.createElement(ZF,{match:g,routeContext:{outlet:p,matches:E,isDataRoute:n!=null},children:C})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?_.createElement(KF,{location:n.location,revalidation:n.revalidation,component:v,error:w,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):T()},null)}var oI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oI||{}),aI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(aI||{});function YF(t){let e=_.useContext(Q_);return e||xn(!1),e}function XF(t){let e=_.useContext(BF);return e||xn(!1),e}function JF(t){let e=_.useContext(_l);return e||xn(!1),e}function lI(t){let e=JF(),n=e.matches[e.matches.length-1];return n.route.id||xn(!1),n.route.id}function e9(){var t;let e=_.useContext(sI),n=XF(),r=lI();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function t9(){let{router:t}=YF(oI.UseNavigateStable),e=lI(aI.UseNavigateStable),n=_.useRef(!1);return iI(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,vh({fromRouteId:e},i)))},[t,e])}const qE={};function n9(t,e,n){qE[t]||(qE[t]=!0)}function r9(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Sn(t){xn(!1)}function s9(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Fo.Pop,navigator:i,static:l=!1,future:c}=t;_g()&&xn(!1);let d=e.replace(/^\/*/,"/"),h=_.useMemo(()=>({basename:d,navigator:i,static:l,future:vh({v7_relativeSplatPath:!1},c)}),[d,c,i,l]);typeof r=="string"&&(r=mu(r));let{pathname:p="/",search:g="",hash:y="",state:w=null,key:N="default"}=r,v=_.useMemo(()=>{let S=nI(p,d);return S==null?null:{location:{pathname:S,search:g,hash:y,state:w,key:N},navigationType:s}},[d,p,g,y,w,N,s]);return v==null?null:_.createElement(vg.Provider,{value:h},_.createElement(xg.Provider,{children:n,value:v}))}function i9(t){let{children:e,location:n}=t;return qF(j0(e),n)}new Promise(()=>{});function j0(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,s)=>{if(!_.isValidElement(r))return;let i=[...e,s];if(r.type===_.Fragment){n.push.apply(n,j0(r.props.children,i));return}r.type!==Sn&&xn(!1),!r.props.index||!r.props.children||xn(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=j0(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const o9="6";try{window.__reactRouterVersion=o9}catch{}const a9="startTransition",HE=Ax[a9];function l9(t){let{basename:e,children:n,future:r,window:s}=t,i=_.useRef();i.current==null&&(i.current=fF({window:s,v5Compat:!0}));let l=i.current,[c,d]=_.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},p=_.useCallback(g=>{h&&HE?HE(()=>d(g)):d(g)},[d,h]);return _.useLayoutEffect(()=>l.listen(p),[l,p]),_.useEffect(()=>r9(r),[r]),_.createElement(s9,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}var WE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(WE||(WE={}));var GE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(GE||(GE={}));const c9=()=>{};var KE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},u9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(i&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const i=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},uI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,p=i>>2,g=(i&3)<<4|c>>4;let y=(c&15)<<2|h>>6,w=h&63;d||(w=64,l||(y=64)),r.push(n[p],n[g],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||h==null||g==null)throw new d9;const y=i<<2|c>>4;if(r.push(y),h!==64){const w=c<<4&240|h>>2;if(r.push(w),g!==64){const N=h<<6&192|g;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class d9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h9=function(t){const e=cI(t);return uI.encodeByteArray(e,!0)},vp=function(t){return h9(t).replace(/\./g,"")},dI=function(t){try{return uI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=()=>f9().__FIREBASE_DEFAULTS__,p9=()=>{if(typeof process>"u"||typeof KE>"u")return;const t=KE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},g9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dI(t[1]);return e&&JSON.parse(e)},wg=()=>{try{return c9()||m9()||p9()||g9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hI=t=>{var e,n;return(n=(e=wg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},y9=t=>{const e=hI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fI=()=>{var t;return(t=wg())===null||t===void 0?void 0:t.config},mI=t=>{var e;return(e=wg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){return t.endsWith(".cloudworkstations.dev")}async function pI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vp(JSON.stringify(n)),vp(JSON.stringify(l)),""].join(".")}const zd={};function _9(){const t={prod:[],emulator:[]};for(const e of Object.keys(zd))zd[e]?t.emulator.push(e):t.prod.push(e);return t}function w9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ZE=!1;function gI(t,e){if(typeof window>"u"||typeof document>"u"||!pu(window.location.host)||zd[t]===e||zd[t]||ZE)return;zd[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",i=_9().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function d(y,w){y.setAttribute("width","24"),y.setAttribute("id",w),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{ZE=!0,l()},y}function p(y,w){y.setAttribute("id",w),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=w9(r),w=n("text"),N=document.getElementById(w)||document.createElement("span"),v=n("learnmore"),S=document.getElementById(v)||document.createElement("a"),E=n("preprendIcon"),T=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const C=y.element;c(C),p(S,v);const R=h();d(T,E),C.append(T,N,S,R),document.body.appendChild(C)}i?(N.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ir())}function E9(){var t;const e=(t=wg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C9(){const t=ir();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k9(){return!E9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P9(){try{return typeof indexedDB=="object"}catch{return!1}}function I9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="FirebaseError";class ao extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=j9,Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gh.prototype.create)}}class Gh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?A9(i,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new ao(s,c,r)}}function A9(t,e){return t.replace(R9,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const R9=/\{\$([^}]+)}/g;function M9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],l=e[s];if(QE(i)&&QE(l)){if(!sl(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function QE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function vd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function D9(t,e){const n=new L9(t,e);return n.subscribe.bind(n)}class L9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");O9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=nv),s.error===void 0&&(s.error=nv),s.complete===void 0&&(s.complete=nv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class il{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new v9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z9(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const l=this.instances.get(s);return l&&e(l,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F9(t){return t===Aa?void 0:t}function z9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new V9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const U9={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},$9=at.INFO,q9={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},H9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=q9[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X_{constructor(e){this.name=e,this._logLevel=$9,this._logHandler=H9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const W9=(t,e)=>e.some(n=>t instanceof n);let YE,XE;function G9(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K9(){return XE||(XE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yI=new WeakMap,A0=new WeakMap,vI=new WeakMap,rv=new WeakMap,J_=new WeakMap;function Z9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",l)},i=()=>{n(Qo(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&yI.set(n,t)}).catch(()=>{}),J_.set(e,t),e}function Q9(t){if(A0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",l),t.removeEventListener("abort",l)},i=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",l),t.addEventListener("abort",l)});A0.set(t,e)}let R0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return A0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Y9(t){R0=t(R0)}function X9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sv(this),e,...n);return vI.set(r,e.sort?e.sort():[e]),Qo(r)}:K9().includes(t)?function(...e){return t.apply(sv(this),e),Qo(yI.get(this))}:function(...e){return Qo(t.apply(sv(this),e))}}function J9(t){return typeof t=="function"?X9(t):(t instanceof IDBTransaction&&Q9(t),W9(t,G9())?new Proxy(t,R0):t)}function Qo(t){if(t instanceof IDBRequest)return Z9(t);if(rv.has(t))return rv.get(t);const e=J9(t);return e!==t&&(rv.set(t,e),J_.set(e,t)),e}const sv=t=>J_.get(t);function e8(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(t,e),c=Qo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Qo(l.result),d.oldVersion,d.newVersion,Qo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{i&&d.addEventListener("close",()=>i()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const t8=["get","getKey","getAll","getAllKeys","count"],n8=["put","add","delete","clear"],iv=new Map;function JE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iv.get(e))return iv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=n8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||t8.includes(n)))return;const i=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&d.done]))[0]};return iv.set(e,i),i}Y9(t=>({...t,get:(e,n,r)=>JE(e,n)||t.get(e,n,r),has:(e,n)=>!!JE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const M0="@firebase/app",eN="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new X_("@firebase/app"),i8="@firebase/app-compat",o8="@firebase/analytics-compat",a8="@firebase/analytics",l8="@firebase/app-check-compat",c8="@firebase/app-check",u8="@firebase/auth",d8="@firebase/auth-compat",h8="@firebase/database",f8="@firebase/data-connect",m8="@firebase/database-compat",p8="@firebase/functions",g8="@firebase/functions-compat",y8="@firebase/installations",v8="@firebase/installations-compat",x8="@firebase/messaging",_8="@firebase/messaging-compat",w8="@firebase/performance",b8="@firebase/performance-compat",E8="@firebase/remote-config",N8="@firebase/remote-config-compat",T8="@firebase/storage",S8="@firebase/storage-compat",C8="@firebase/firestore",k8="@firebase/ai",P8="@firebase/firestore-compat",I8="firebase",j8="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="[DEFAULT]",A8={[M0]:"fire-core",[i8]:"fire-core-compat",[a8]:"fire-analytics",[o8]:"fire-analytics-compat",[c8]:"fire-app-check",[l8]:"fire-app-check-compat",[u8]:"fire-auth",[d8]:"fire-auth-compat",[h8]:"fire-rtdb",[f8]:"fire-data-connect",[m8]:"fire-rtdb-compat",[p8]:"fire-fn",[g8]:"fire-fn-compat",[y8]:"fire-iid",[v8]:"fire-iid-compat",[x8]:"fire-fcm",[_8]:"fire-fcm-compat",[w8]:"fire-perf",[b8]:"fire-perf-compat",[E8]:"fire-rc",[N8]:"fire-rc-compat",[T8]:"fire-gcs",[S8]:"fire-gcs-compat",[C8]:"fire-fst",[P8]:"fire-fst-compat",[k8]:"fire-vertex","fire-js":"fire-js",[I8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=new Map,R8=new Map,L0=new Map;function tN(t,e){try{t.container.addComponent(e)}catch(n){no.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wc(t){const e=t.name;if(L0.has(e))return no.debug(`There were multiple attempts to register component ${e}.`),!1;L0.set(e,t);for(const n of xp.values())tN(n,t);for(const n of R8.values())tN(n,t);return!0}function ew(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new Gh("app","Firebase",M8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new il("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=j8;function xI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:D0,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Yo.create("bad-app-name",{appName:String(s)});if(n||(n=fI()),!n)throw Yo.create("no-options");const i=xp.get(s);if(i){if(sl(n,i.options)&&sl(r,i.config))return i;throw Yo.create("duplicate-app",{appName:s})}const l=new B9(s);for(const d of L0.values())l.addComponent(d);const c=new D8(n,r,l);return xp.set(s,c),c}function _I(t=D0){const e=xp.get(t);if(!e&&t===D0&&fI())return xI();if(!e)throw Yo.create("no-app",{appName:t});return e}function Xo(t,e,n){var r;let s=(r=A8[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),no.warn(c.join(" "));return}Wc(new il(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8="firebase-heartbeat-database",O8=1,xh="firebase-heartbeat-store";let ov=null;function wI(){return ov||(ov=e8(L8,O8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yo.create("idb-open",{originalErrorMessage:t.message})})),ov}async function V8(t){try{const n=(await wI()).transaction(xh),r=await n.objectStore(xh).get(bI(t));return await n.done,r}catch(e){if(e instanceof ao)no.warn(e.message);else{const n=Yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});no.warn(n.message)}}}async function nN(t,e){try{const r=(await wI()).transaction(xh,"readwrite");await r.objectStore(xh).put(e,bI(t)),await r.done}catch(n){if(n instanceof ao)no.warn(n.message);else{const r=Yo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});no.warn(r.message)}}}function bI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=1024,z8=30;class B8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>z8){const l=q8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){no.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rN(),{heartbeatsToSend:r,unsentEntries:s}=U8(this._heartbeatsCache.heartbeats),i=vp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return no.warn(n),""}}}function rN(){return new Date().toISOString().substring(0,10)}function U8(t,e=F8){const n=[];let r=t.slice();for(const s of t){const i=n.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),sN(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),sN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P9()?I9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sN(t){return vp(JSON.stringify({version:2,heartbeats:t})).length}function q8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){Wc(new il("platform-logger",e=>new r8(e),"PRIVATE")),Wc(new il("heartbeat",e=>new B8(e),"PRIVATE")),Xo(M0,eN,t),Xo(M0,eN,"esm2017"),Xo("fire-js","")}H8("");var W8="firebase",G8="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo(W8,G8,"app");var ui=function(){return ui=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ui.apply(this,arguments)};function Kh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function K8(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function EI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z8=EI,NI=new Gh("auth","Firebase",EI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=new X_("@firebase/auth");function Q8(t,...e){_p.logLevel<=at.WARN&&_p.warn(`Auth (${yu}): ${t}`,...e)}function Im(t,...e){_p.logLevel<=at.ERROR&&_p.error(`Auth (${yu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,...e){throw nw(t,...e)}function Ir(t,...e){return nw(t,...e)}function tw(t,e,n){const r=Object.assign(Object.assign({},Z8()),{[e]:n});return new Gh("auth","Firebase",r).create(e,{appName:t.name})}function vi(t){return tw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&bs(t,"argument-error"),tw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NI.create(t,...e)}function Te(t,e,...n){if(!t)throw nw(e,...n)}function Hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Im(e),new Error(e)}function ro(t,e){t||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TI(){return iN()==="http:"||iN()==="https:"}function iN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TI()||T9()||"connection"in navigator)?navigator.onLine:!0}function J8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ro(n>e,"Short delay should be less than long delay!"),this.isMobile=b9()||S9()}get(){return X8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t,e){ro(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nz=new Zh(3e4,6e4);function Ar(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rr(t,e,n,r,s={}){return CI(t,s,async()=>{let i={},l={};r&&(e==="GET"?l=r:i={body:JSON.stringify(r)});const c=gu(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},i);return N9()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&pu(t.emulatorConfig.host)&&(h.credentials="include"),SI.fetch()(await kI(t,t.config.apiHost,n,c),h)})}async function CI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ez),e);try{const s=new sz(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw xd(t,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const c=i.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw xd(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw xd(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw xd(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw tw(t,p,h);bs(t,p)}}catch(s){if(s instanceof ao)throw s;bs(t,"network-request-failed",{message:String(s)})}}async function ya(t,e,n,r,s={}){const i=await Rr(t,e,n,r,s);return"mfaPendingCredential"in i&&bs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function kI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,l=i.config.emulator?rw(t.config,s):`${t.config.apiScheme}://${s}`;return tz.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(l).toString():l}function rz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),nz.get())})}}function xd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ir(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t){return t!==void 0&&t.getResponse!==void 0}function aN(t){return t!==void 0&&t.enterprise!==void 0}class PI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iz(t){return(await Rr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function II(t,e){return Rr(t,"GET","/v2/recaptchaConfig",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(t,e){return Rr(t,"POST","/v1/accounts:delete",e)}async function wp(t,e){return Rr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function az(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),s=sw(r);Te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,l=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Bd(av(s.auth_time)),issuedAtTime:Bd(av(s.iat)),expirationTime:Bd(av(s.exp)),signInProvider:l||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function av(t){return Number(t)*1e3}function sw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Im("JWT malformed, contained fewer than 3 sections"),null;try{const s=dI(n);return s?JSON.parse(s):(Im("Failed to decode base64 JWT payload"),null)}catch(s){return Im("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function lN(t){const e=sw(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ao&&lz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bd(this.lastLoginAt),this.creationTime=Bd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ol(t,wp(n,{idToken:r}));Te(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const l=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?jI(i.providerUserInfo):[],c=dz(t.providerData,l),d=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),p=d?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new V0(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function uz(t){const e=Ot(t);await bp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function jI(t){return t.map(e=>{var{providerId:n}=e,r=Kh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(t,e){const n=await CI(t,{},async()=>{const r=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,l=await kI(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&pu(t.emulatorConfig.host)&&(d.credentials="include"),SI.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fz(t,e){return Rr(t,"POST","/v2/accounts:revokeToken",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=lN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await hz(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,l=new bc;return r&&(Te(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),i&&(Te(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bc,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Os{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Kh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new V0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ol(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return az(this,e)}reload(){return uz(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(vi(this.auth));const e=await this.getIdToken();return await ol(this,oz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,l,c,d,h,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,w=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,N=(l=n.photoURL)!==null&&l!==void 0?l:void 0,v=(c=n.tenantId)!==null&&c!==void 0?c:void 0,S=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,E=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:C,emailVerified:R,isAnonymous:F,providerData:U,stsTokenManager:j}=n;Te(C&&j,e,"internal-error");const I=bc.fromJSON(this.name,j);Te(typeof C=="string",e,"internal-error"),_o(g,e.name),_o(y,e.name),Te(typeof R=="boolean",e,"internal-error"),Te(typeof F=="boolean",e,"internal-error"),_o(w,e.name),_o(N,e.name),_o(v,e.name),_o(S,e.name),_o(E,e.name),_o(T,e.name);const A=new Os({uid:C,auth:e,email:y,emailVerified:R,displayName:g,isAnonymous:F,photoURL:N,phoneNumber:w,tenantId:v,stsTokenManager:I,createdAt:E,lastLoginAt:T});return U&&Array.isArray(U)&&(A.providerData=U.map(D=>Object.assign({},D))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new bc;s.updateFromServerResponse(n);const i=new Os({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await bp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Te(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?jI(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new bc;c.updateFromIdToken(r);const d=new Os({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new V0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=new Map;function Wi(t){ro(t instanceof Function,"Expected a class definition");let e=cN.get(t);return e?(ro(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AI.type="NONE";const uN=AI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t,e,n){return`firebase:${t}:${e}:${n}`}class Ec{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=jm(this.userKey,s.apiKey,i),this.fullPersistenceKey=jm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wp(this.auth,{idToken:e}).catch(()=>{});return n?Os._fromGetAccountInfoResponse(this.auth,n,e):null}return Os._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ec(Wi(uN),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Wi(uN);const l=jm(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const y=await wp(e,{idToken:p}).catch(()=>{});if(!y)break;g=await Os._fromGetAccountInfoResponse(e,y,p)}else g=Os._fromJSON(e,p);h!==i&&(c=g),i=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new Ec(i,e,r):(i=d[0],c&&await i._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(l)}catch{}})),new Ec(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VI(e))return"Blackberry";if(FI(e))return"Webos";if(MI(e))return"Safari";if((e.includes("chrome/")||DI(e))&&!e.includes("edge/"))return"Chrome";if(OI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RI(t=ir()){return/firefox\//i.test(t)}function MI(t=ir()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DI(t=ir()){return/crios\//i.test(t)}function LI(t=ir()){return/iemobile/i.test(t)}function OI(t=ir()){return/android/i.test(t)}function VI(t=ir()){return/blackberry/i.test(t)}function FI(t=ir()){return/webos/i.test(t)}function iw(t=ir()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mz(t=ir()){var e;return iw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pz(){return C9()&&document.documentMode===10}function zI(t=ir()){return iw(t)||OI(t)||FI(t)||VI(t)||/windows phone/i.test(t)||LI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t,e=[]){let n;switch(t){case"Browser":n=dN(ir());break;case"Worker":n=`${dN(ir())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((l,c)=>{try{const d=e(i);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yz(t,e={}){return Rr(t,"GET","/v2/passwordPolicy",Ar(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=6;class xz{constructor(e){var n,r,s,i;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:vz,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(i=d.containsUppercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hN(this),this.idTokenSubscription=new hN(this),this.beforeStateQueue=new gz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ec.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wp(this,{idToken:e}),r=await Os._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(s=d.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(vi(this));const n=e?Ot(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yz(this),n=new xz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Ec.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(c,this,"internal-error"),c.then(()=>{l||i(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Q8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Jr(t){return Ot(t)}class hN{constructor(e){this.auth=e,this.observer=null,this.addObserver=D9(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wz(t){Qh=t}function ow(t){return Qh.loadJS(t)}function bz(){return Qh.recaptchaV2Script}function Ez(){return Qh.recaptchaEnterpriseScript}function Nz(){return Qh.gapiScript}function UI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=500,Sz=6e4,sm=1e12;class Cz{constructor(e){this.auth=e,this.counter=sm,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Iz(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||sm;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||sm;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||sm;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class kz{constructor(){this.enterprise=new Pz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Pz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Iz{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;Te(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=jz(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Sz)},Tz))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function jz(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const Az="recaptcha-enterprise",Ud="NO_RECAPTCHA";class $I{constructor(e){this.type=Az,this.auth=Jr(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(l,c)=>{II(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new PI(d);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function s(i,l,c){const d=window.grecaptcha;aN(d)?d.enterprise.ready(()=>{d.enterprise.execute(i,{action:e}).then(h=>{l(h)}).catch(()=>{l(Ud)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kz().execute("siteKey",{action:"verify"}):new Promise((i,l)=>{r(this.auth).then(c=>{if(!n&&aN(window.grecaptcha))s(c,i,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Ez();d.length!==0&&(d+=c),ow(d).then(()=>{s(c,i,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function dd(t,e,n,r=!1,s=!1){const i=new $I(t);let l;if(s)l=Ud;else try{l=await i.verify(n)}catch{l=await i.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Nc(t,e,n,r,s){var i,l;if(s==="EMAIL_PASSWORD_PROVIDER")if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await dd(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await dd(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)});else if(s==="PHONE_PROVIDER")if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const c=await dd(t,e,n);return r(t,c).catch(async d=>{var h;if(((h=t._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const p=await dd(t,e,n,!1,!0);return r(t,p)}return Promise.reject(d)})}else{const c=await dd(t,e,n,!1,!0);return r(t,c)}else return Promise.reject(s+" provider is not supported.")}async function Rz(t){const e=Jr(t),n=await II(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new PI(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new $I(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t,e){const n=ew(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(sl(i,e??{}))return s;bs(s,"already-initialized")}return n.initialize({options:e})}function Dz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Lz(t,e,n){const r=Jr(t);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=qI(e),{host:l,port:c}=Oz(e),d=c===null?"":`:${c}`,h={url:`${i}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(sl(h,r.config.emulator)&&sl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,pu(l)?(pI(`${i}//${l}${d}`),gI("Auth",!0)):Vz()}function qI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Oz(t){const e=qI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:fN(r.substr(i.length+1))}}else{const[i,l]=r.split(":");return{host:i,port:fN(l)}}}function fN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Vz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function Fz(t,e){return Rr(t,"POST","/v1/accounts:update",e)}async function zz(t,e){return Rr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bz(t,e){return ya(t,"POST","/v1/accounts:signInWithPassword",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(t,e){return ya(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))}async function $z(t,e){return ya(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends bg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new _h(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _h(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nc(e,n,"signInWithPassword",Bz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Uz(e,{email:this._email,oobCode:this._password});default:bs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nc(e,r,"signUpPassword",zz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return $z(e,{idToken:n,email:this._email,oobCode:this._password});default:bs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t,e){return ya(t,"POST","/v1/accounts:signInWithIdp",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz="http://localhost";class al extends bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Kh(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new al(r,s);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tc(e,n)}buildRequest(){const e={requestUri:qz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(t,e){return Rr(t,"POST","/v1/accounts:sendVerificationCode",Ar(t,e))}async function Hz(t,e){return ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Ar(t,e))}async function Wz(t,e){const n=await ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Ar(t,e));if(n.temporaryProof)throw xd(t,"account-exists-with-different-credential",n);return n}const Gz={USER_NOT_FOUND:"user-not-found"};async function Kz(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Ar(t,n),Gz)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends bg{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ka({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ka({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Hz(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Wz(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Kz(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i}=e;return!r&&!n&&!s&&!i?null:new Ka({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Qz(t){const e=yd(vd(t)).link,n=e?yd(vd(e)).deep_link_id:null,r=yd(vd(t)).deep_link_id;return(r?yd(vd(r)).link:null)||r||n||e||t}class aw{constructor(e){var n,r,s,i,l,c;const d=yd(vd(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(r=d.oobCode)!==null&&r!==void 0?r:null,g=Zz((s=d.mode)!==null&&s!==void 0?s:null);Te(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(i=d.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=Qz(e);try{return new aw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.providerId=wl.PROVIDER_ID}static credential(e,n){return _h._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=aw.parseLink(n);return Te(r,"argument-error"),_h._fromEmailAndCode(e,r.code,r.tenantId)}}wl.PROVIDER_ID="password";wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends lw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Yh{constructor(){super("facebook.com")}static credential(e){return al._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Yh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return al._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ui.credential(n,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends Yh{constructor(){super("github.com")}static credential(e){return al._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Po.credential(e.oauthAccessToken)}catch{return null}}}Po.GITHUB_SIGN_IN_METHOD="github.com";Po.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Yh{constructor(){super("twitter.com")}static credential(e,n){return al._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Io.credential(n,r)}catch{return null}}}Io.TWITTER_SIGN_IN_METHOD="twitter.com";Io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(t,e){return ya(t,"POST","/v1/accounts:signUp",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Os._fromIdTokenResponse(e,r,s),l=pN(r);return new ll({user:i,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=pN(r);return new ll({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function pN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends ao{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ep.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ep(e,n,r,s)}}function HI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ep._fromErrorAndOperation(t,i,e,r):i})}async function Xz(t,e,n=!1){const r=await ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ll._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(t,e,n=!1){const{auth:r}=t;if(Nr(r.app))return Promise.reject(vi(r));const s="reauthenticate";try{const i=await ol(t,HI(r,s,e,t),n);Te(i.idToken,r,"internal-error");const l=sw(i.idToken);Te(l,r,"internal-error");const{sub:c}=l;return Te(t.uid===c,r,"user-mismatch"),ll._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&bs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(t,e,n=!1){if(Nr(t.app))return Promise.reject(vi(t));const r="signIn",s=await HI(t,r,e),i=await ll._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function KI(t,e){return GI(Jr(t),e)}async function Jz(t,e){return WI(Ot(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(t){const e=Jr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eB(t,e,n){if(Nr(t.app))return Promise.reject(vi(t));const r=Jr(t),l=await Nc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yz,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&ZI(t),d}),c=await ll._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function tB(t,e,n){return Nr(t.app)?Promise.reject(vi(t)):KI(Ot(t),wl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ZI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nB(t,e){return Rr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ot(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await ol(r,nB(r.auth,i));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function rB(t,e){return sB(Ot(t),null,e)}async function sB(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const l=await ol(t,Fz(r,i));await t._updateTokensIfNecessary(l,!0)}function iB(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function oB(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function aB(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function lB(t){return Ot(t).signOut()}async function cB(t){return Ot(t).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e){return Rr(t,"POST","/v2/accounts/mfaEnrollment:start",Ar(t,e))}const Np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Np,"1"),this.storage.removeItem(Np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=1e3,dB=10;class XI extends YI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},i=this.storage.getItem(r);pz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,dB):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XI.type="LOCAL";const hB=XI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI extends YI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JI.type="SESSION";const e2=JI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Eg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async h=>h(n.origin,i)),d=await fB(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,l;return new Promise((c,d)=>{const h=cw("",20);s.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(y.data.response);break;default:clearTimeout(p),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return window}function pB(t){cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(){return typeof cn().WorkerGlobalScope<"u"&&typeof cn().importScripts=="function"}async function gB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vB(){return uw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firebaseLocalStorageDb",xB=1,Tp="firebaseLocalStorage",n2="fbase_key";class Xh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ng(t,e){return t.transaction([Tp],e?"readwrite":"readonly").objectStore(Tp)}function _B(){const t=indexedDB.deleteDatabase(t2);return new Xh(t).toPromise()}function F0(){const t=indexedDB.open(t2,xB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tp,{keyPath:n2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tp)?e(r):(r.close(),await _B(),e(await F0()))})})}async function yN(t,e,n){const r=Ng(t,!0).put({[n2]:e,value:n});return new Xh(r).toPromise()}async function wB(t,e){const n=Ng(t,!1).get(e),r=await new Xh(n).toPromise();return r===void 0?null:r.value}function vN(t,e){const n=Ng(t,!0).delete(e);return new Xh(n).toPromise()}const bB=800,EB=3;class r2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await F0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>EB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eg._getInstance(vB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gB(),!this.activeServiceWorker)return;this.sender=new mB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await F0();return await yN(e,Np,"1"),await vN(e,Np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Ng(s,!1).getAll();return new Xh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r2.type="LOCAL";const NB=r2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e){return Rr(t,"POST","/v2/accounts/mfaSignIn:start",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=UI("rcb"),TB=new Zh(3e4,6e4);class SB{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=cn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Te(CB(n),e,"argument-error"),this.shouldResolveImmediately(n)&&oN(cn().grecaptcha)?Promise.resolve(cn().grecaptcha):new Promise((r,s)=>{const i=cn().setTimeout(()=>{s(Ir(e,"network-request-failed"))},TB.get());cn()[lv]=()=>{cn().clearTimeout(i),delete cn()[lv];const c=cn().grecaptcha;if(!c||!oN(c)){s(Ir(e,"internal-error"));return}const d=c.render;c.render=(h,p)=>{const g=d(h,p);return this.counter++,g},this.hostLanguage=n,r(c)};const l=`${bz()}?${gu({onload:lv,render:"explicit",hl:n})}`;ow(l).catch(()=>{clearTimeout(i),s(Ir(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=cn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function CB(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class kB{async load(e){return new Cz(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="recaptcha",PB={theme:"light",type:"image"};class IB{constructor(e,n,r=Object.assign({},PB)){this.parameters=r,this.type=$d,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jr(e),this.isInvisible=this.parameters.size==="invisible",Te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;Te(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kB:new SB,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(s=>{const i=l=>{l&&(this.tokenChangeListeners.delete(i),s(l))};this.tokenChangeListeners.add(i),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=cn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Te(TI()&&!uw(),this.auth,"internal-error"),await jB(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await iz(this.auth);Te(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function jB(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Ka._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function _N(t,e,n){if(Nr(t.app))return Promise.reject(vi(t));const r=Jr(t),s=await s2(r,e,Ot(n));return new AB(s,i=>KI(r,i))}async function s2(t,e,n){var r;if(!t._getRecaptchaConfig())try{await Rz(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const i=s.session;if("phoneNumber"in s){Te(i.type==="enroll",t,"internal-error");const l={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Nc(t,l,"mfaSmsEnrollment",async(p,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===Ud){Te((n==null?void 0:n.type)===$d,p,"argument-error");const y=await cv(p,g,n);return gN(p,y)}return gN(p,g)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneSessionInfo.sessionInfo}else{Te(i.type==="signin",t,"internal-error");const l=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;Te(l,t,"missing-multi-factor-info");const c={mfaPendingCredential:i.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Nc(t,c,"mfaSmsSignIn",async(g,y)=>{if(y.phoneSignInInfo.captchaResponse===Ud){Te((n==null?void 0:n.type)===$d,g,"argument-error");const w=await cv(g,y,n);return xN(g,w)}return xN(g,y)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Nc(t,i,"sendVerificationCode",async(h,p)=>{if(p.captchaResponse===Ud){Te((n==null?void 0:n.type)===$d,h,"argument-error");const g=await cv(h,p,n);return mN(h,g)}return mN(h,p)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{n==null||n._reset()}}async function cv(t,e,n){Te(n.type===$d,t,"argument-error");const r=await n.verify();Te(typeof r=="string",t,"argument-error");const s=Object.assign({},e);if("phoneEnrollmentInfo"in s){const i=s.phoneEnrollmentInfo.phoneNumber,l=s.phoneEnrollmentInfo.captchaResponse,c=s.phoneEnrollmentInfo.clientType,d=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:r,captchaResponse:l,clientType:c,recaptchaVersion:d}}),s}else if("phoneSignInInfo"in s){const i=s.phoneSignInInfo.captchaResponse,l=s.phoneSignInInfo.clientType,c=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:i,clientType:l,recaptchaVersion:c}}),s}else return Object.assign(s,{recaptchaToken:r}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.providerId=Za.PROVIDER_ID,this.auth=Jr(e)}verifyPhoneNumber(e,n){return s2(this.auth,e,Ot(n))}static credential(e,n){return Ka._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Za.credentialFromTaggedObject(n)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Ka._fromTokenResponse(n,r):null}}Za.PROVIDER_ID="phone";Za.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t,e){return e?Wi(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RB(t){return GI(t.auth,new dw(t),t.bypassAuthState)}function MB(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),WI(n,new dw(t),t.bypassAuthState)}async function DB(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Xz(n,new dw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RB;case"linkViaPopup":case"linkViaRedirect":return DB;case"reauthViaPopup":case"reauthViaRedirect":return MB;default:bs(this.auth,"internal-error")}}resolve(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB=new Zh(2e3,1e4);async function OB(t,e,n){if(Nr(t.app))return Promise.reject(Ir(t,"operation-not-supported-in-this-environment"));const r=Jr(t);Y8(t,e,lw);const s=i2(r,n);return new La(r,"signInViaPopup",e,s).executeNotNull()}class La extends o2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ro(this.filter.length===1,"Popup operations only handle one event");const e=cw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LB.get())};e()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB="pendingRedirect",Am=new Map;class FB extends o2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Am.get(this.auth._key());if(!e){try{const r=await zB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Am.set(this.auth._key(),e)}return this.bypassAuthState||Am.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zB(t,e){const n=$B(e),r=UB(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function BB(t,e){Am.set(t._key(),e)}function UB(t){return Wi(t._redirectPersistence)}function $B(t){return jm(VB,t.config.apiKey,t.name)}async function qB(t,e){return await Jr(t)._initializationPromise,a2(t,e,!1)}async function a2(t,e,n=!1){if(Nr(t.app))return Promise.reject(vi(t));const r=Jr(t),s=i2(r,e),l=await new FB(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=10*60*1e3;class WB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!l2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HB&&this.cachedEventUids.clear(),this.cachedEventUids.has(wN(e))}saveEventToCache(e){this.cachedEventUids.add(wN(e)),this.lastProcessedEventTime=Date.now()}}function wN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function l2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KB(t,e={}){return Rr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QB=/^https?/;async function YB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KB(t);for(const n of e)try{if(XB(n))return}catch{}bs(t,"unauthorized-domain")}function XB(t){const e=O0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!QB.test(n))return!1;if(ZB.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=new Zh(3e4,6e4);function bN(){const t=cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eU(t){return new Promise((e,n)=>{var r,s,i;function l(){bN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bN(),n(Ir(t,"network-request-failed"))},timeout:JB.get()})}if(!((s=(r=cn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=cn().gapi)===null||i===void 0)&&i.load)l();else{const c=UI("iframefcb");return cn()[c]=()=>{gapi.load?l():n(Ir(t,"network-request-failed"))},ow(`${Nz()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Rm=null,e})}let Rm=null;function tU(t){return Rm=Rm||eU(t),Rm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=new Zh(5e3,15e3),rU="__/auth/iframe",sU="emulator/auth/iframe",iU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aU(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rw(e,sU):`https://${t.config.authDomain}/${rU}`,r={apiKey:e.apiKey,appName:t.name,v:yu},s=oU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${gu(r).slice(1)}`}async function lU(t){const e=await tU(t),n=cn().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:aU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const l=Ir(t,"network-request-failed"),c=cn().setTimeout(()=>{i(l)},nU.get());function d(){cn().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uU=500,dU=600,hU="_blank",fU="http://localhost";class EN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mU(t,e,n,r=uU,s=dU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},cU),{width:r.toString(),height:s.toString(),top:i,left:l}),h=ir().toLowerCase();n&&(c=DI(h)?hU:n),RI(h)&&(e=e||fU,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[w,N])=>`${y}${w}=${N},`,"");if(mz(h)&&c!=="_self")return pU(e||"",c),new EN(null);const g=window.open(e||"",c,p);Te(g,t,"popup-blocked");try{g.focus()}catch{}return new EN(g)}function pU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="__/auth/handler",yU="emulator/auth/handler",vU=encodeURIComponent("fac");async function NN(t,e,n,r,s,i){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yu,eventId:s};if(e instanceof lw){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",M9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof Yh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),h=d?`#${vU}=${encodeURIComponent(d)}`:"";return`${xU(t)}?${gu(c).slice(1)}${h}`}function xU({config:t}){return t.emulator?rw(t,yU):`https://${t.authDomain}/${gU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="webStorageSupport";class _U{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e2,this._completeRedirectFn=a2,this._overrideRedirectResult=BB}async _openPopup(e,n,r,s){var i;ro((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const l=await NN(e,n,r,O0(),s);return mU(e,l,cw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await NN(e,n,r,O0(),s);return pB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ro(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lU(e),r=new WB(e);return n.register("authEvent",s=>(Te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uv,{type:uv},s=>{var i;const l=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[uv];l!==void 0&&n(!!l),bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zI()||MI()||iw()}}const wU=_U;var TN="@firebase/auth",SN="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NU(t){Wc(new il("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Te(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BI(t)},h=new _z(r,s,i,d);return Dz(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wc(new il("auth-internal",e=>{const n=Jr(e.getProvider("auth").getImmediate());return(r=>new bU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xo(TN,SN,EU(t)),Xo(TN,SN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=5*60,SU=mI("authIdTokenMaxAge")||TU;let CN=null;const CU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SU)return;const s=n==null?void 0:n.token;CN!==s&&(CN=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function kU(t=_I()){const e=ew(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Mz(t,{popupRedirectResolver:wU,persistence:[NB,hB,e2]}),r=mI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const l=CU(i.toString());oB(n,l,()=>l(n.currentUser)),iB(n,c=>l(c))}}const s=hI("auth");return s&&Lz(n,`http://${s}`),n}function PU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ir("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",PU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NU("Browser");var kN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jo,c2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,I){function A(){}A.prototype=I.prototype,j.D=I.prototype,j.prototype=new A,j.prototype.constructor=j,j.C=function(D,z,B){for(var O=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)O[Q-2]=arguments[Q];return I.prototype[z].apply(D,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,I,A){A||(A=0);var D=Array(16);if(typeof I=="string")for(var z=0;16>z;++z)D[z]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(z=0;16>z;++z)D[z]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=j.g[0],A=j.g[1],z=j.g[2];var B=j.g[3],O=I+(B^A&(z^B))+D[0]+3614090360&4294967295;I=A+(O<<7&4294967295|O>>>25),O=B+(z^I&(A^z))+D[1]+3905402710&4294967295,B=I+(O<<12&4294967295|O>>>20),O=z+(A^B&(I^A))+D[2]+606105819&4294967295,z=B+(O<<17&4294967295|O>>>15),O=A+(I^z&(B^I))+D[3]+3250441966&4294967295,A=z+(O<<22&4294967295|O>>>10),O=I+(B^A&(z^B))+D[4]+4118548399&4294967295,I=A+(O<<7&4294967295|O>>>25),O=B+(z^I&(A^z))+D[5]+1200080426&4294967295,B=I+(O<<12&4294967295|O>>>20),O=z+(A^B&(I^A))+D[6]+2821735955&4294967295,z=B+(O<<17&4294967295|O>>>15),O=A+(I^z&(B^I))+D[7]+4249261313&4294967295,A=z+(O<<22&4294967295|O>>>10),O=I+(B^A&(z^B))+D[8]+1770035416&4294967295,I=A+(O<<7&4294967295|O>>>25),O=B+(z^I&(A^z))+D[9]+2336552879&4294967295,B=I+(O<<12&4294967295|O>>>20),O=z+(A^B&(I^A))+D[10]+4294925233&4294967295,z=B+(O<<17&4294967295|O>>>15),O=A+(I^z&(B^I))+D[11]+2304563134&4294967295,A=z+(O<<22&4294967295|O>>>10),O=I+(B^A&(z^B))+D[12]+1804603682&4294967295,I=A+(O<<7&4294967295|O>>>25),O=B+(z^I&(A^z))+D[13]+4254626195&4294967295,B=I+(O<<12&4294967295|O>>>20),O=z+(A^B&(I^A))+D[14]+2792965006&4294967295,z=B+(O<<17&4294967295|O>>>15),O=A+(I^z&(B^I))+D[15]+1236535329&4294967295,A=z+(O<<22&4294967295|O>>>10),O=I+(z^B&(A^z))+D[1]+4129170786&4294967295,I=A+(O<<5&4294967295|O>>>27),O=B+(A^z&(I^A))+D[6]+3225465664&4294967295,B=I+(O<<9&4294967295|O>>>23),O=z+(I^A&(B^I))+D[11]+643717713&4294967295,z=B+(O<<14&4294967295|O>>>18),O=A+(B^I&(z^B))+D[0]+3921069994&4294967295,A=z+(O<<20&4294967295|O>>>12),O=I+(z^B&(A^z))+D[5]+3593408605&4294967295,I=A+(O<<5&4294967295|O>>>27),O=B+(A^z&(I^A))+D[10]+38016083&4294967295,B=I+(O<<9&4294967295|O>>>23),O=z+(I^A&(B^I))+D[15]+3634488961&4294967295,z=B+(O<<14&4294967295|O>>>18),O=A+(B^I&(z^B))+D[4]+3889429448&4294967295,A=z+(O<<20&4294967295|O>>>12),O=I+(z^B&(A^z))+D[9]+568446438&4294967295,I=A+(O<<5&4294967295|O>>>27),O=B+(A^z&(I^A))+D[14]+3275163606&4294967295,B=I+(O<<9&4294967295|O>>>23),O=z+(I^A&(B^I))+D[3]+4107603335&4294967295,z=B+(O<<14&4294967295|O>>>18),O=A+(B^I&(z^B))+D[8]+1163531501&4294967295,A=z+(O<<20&4294967295|O>>>12),O=I+(z^B&(A^z))+D[13]+2850285829&4294967295,I=A+(O<<5&4294967295|O>>>27),O=B+(A^z&(I^A))+D[2]+4243563512&4294967295,B=I+(O<<9&4294967295|O>>>23),O=z+(I^A&(B^I))+D[7]+1735328473&4294967295,z=B+(O<<14&4294967295|O>>>18),O=A+(B^I&(z^B))+D[12]+2368359562&4294967295,A=z+(O<<20&4294967295|O>>>12),O=I+(A^z^B)+D[5]+4294588738&4294967295,I=A+(O<<4&4294967295|O>>>28),O=B+(I^A^z)+D[8]+2272392833&4294967295,B=I+(O<<11&4294967295|O>>>21),O=z+(B^I^A)+D[11]+1839030562&4294967295,z=B+(O<<16&4294967295|O>>>16),O=A+(z^B^I)+D[14]+4259657740&4294967295,A=z+(O<<23&4294967295|O>>>9),O=I+(A^z^B)+D[1]+2763975236&4294967295,I=A+(O<<4&4294967295|O>>>28),O=B+(I^A^z)+D[4]+1272893353&4294967295,B=I+(O<<11&4294967295|O>>>21),O=z+(B^I^A)+D[7]+4139469664&4294967295,z=B+(O<<16&4294967295|O>>>16),O=A+(z^B^I)+D[10]+3200236656&4294967295,A=z+(O<<23&4294967295|O>>>9),O=I+(A^z^B)+D[13]+681279174&4294967295,I=A+(O<<4&4294967295|O>>>28),O=B+(I^A^z)+D[0]+3936430074&4294967295,B=I+(O<<11&4294967295|O>>>21),O=z+(B^I^A)+D[3]+3572445317&4294967295,z=B+(O<<16&4294967295|O>>>16),O=A+(z^B^I)+D[6]+76029189&4294967295,A=z+(O<<23&4294967295|O>>>9),O=I+(A^z^B)+D[9]+3654602809&4294967295,I=A+(O<<4&4294967295|O>>>28),O=B+(I^A^z)+D[12]+3873151461&4294967295,B=I+(O<<11&4294967295|O>>>21),O=z+(B^I^A)+D[15]+530742520&4294967295,z=B+(O<<16&4294967295|O>>>16),O=A+(z^B^I)+D[2]+3299628645&4294967295,A=z+(O<<23&4294967295|O>>>9),O=I+(z^(A|~B))+D[0]+4096336452&4294967295,I=A+(O<<6&4294967295|O>>>26),O=B+(A^(I|~z))+D[7]+1126891415&4294967295,B=I+(O<<10&4294967295|O>>>22),O=z+(I^(B|~A))+D[14]+2878612391&4294967295,z=B+(O<<15&4294967295|O>>>17),O=A+(B^(z|~I))+D[5]+4237533241&4294967295,A=z+(O<<21&4294967295|O>>>11),O=I+(z^(A|~B))+D[12]+1700485571&4294967295,I=A+(O<<6&4294967295|O>>>26),O=B+(A^(I|~z))+D[3]+2399980690&4294967295,B=I+(O<<10&4294967295|O>>>22),O=z+(I^(B|~A))+D[10]+4293915773&4294967295,z=B+(O<<15&4294967295|O>>>17),O=A+(B^(z|~I))+D[1]+2240044497&4294967295,A=z+(O<<21&4294967295|O>>>11),O=I+(z^(A|~B))+D[8]+1873313359&4294967295,I=A+(O<<6&4294967295|O>>>26),O=B+(A^(I|~z))+D[15]+4264355552&4294967295,B=I+(O<<10&4294967295|O>>>22),O=z+(I^(B|~A))+D[6]+2734768916&4294967295,z=B+(O<<15&4294967295|O>>>17),O=A+(B^(z|~I))+D[13]+1309151649&4294967295,A=z+(O<<21&4294967295|O>>>11),O=I+(z^(A|~B))+D[4]+4149444226&4294967295,I=A+(O<<6&4294967295|O>>>26),O=B+(A^(I|~z))+D[11]+3174756917&4294967295,B=I+(O<<10&4294967295|O>>>22),O=z+(I^(B|~A))+D[2]+718787259&4294967295,z=B+(O<<15&4294967295|O>>>17),O=A+(B^(z|~I))+D[9]+3951481745&4294967295,j.g[0]=j.g[0]+I&4294967295,j.g[1]=j.g[1]+(z+(O<<21&4294967295|O>>>11))&4294967295,j.g[2]=j.g[2]+z&4294967295,j.g[3]=j.g[3]+B&4294967295}r.prototype.u=function(j,I){I===void 0&&(I=j.length);for(var A=I-this.blockSize,D=this.B,z=this.h,B=0;B<I;){if(z==0)for(;B<=A;)s(this,j,B),B+=this.blockSize;if(typeof j=="string"){for(;B<I;)if(D[z++]=j.charCodeAt(B++),z==this.blockSize){s(this,D),z=0;break}}else for(;B<I;)if(D[z++]=j[B++],z==this.blockSize){s(this,D),z=0;break}}this.h=z,this.o+=I},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var I=1;I<j.length-8;++I)j[I]=0;var A=8*this.o;for(I=j.length-8;I<j.length;++I)j[I]=A&255,A/=256;for(this.u(j),j=Array(16),I=A=0;4>I;++I)for(var D=0;32>D;D+=8)j[A++]=this.g[I]>>>D&255;return j};function i(j,I){var A=c;return Object.prototype.hasOwnProperty.call(A,j)?A[j]:A[j]=I(j)}function l(j,I){this.h=I;for(var A=[],D=!0,z=j.length-1;0<=z;z--){var B=j[z]|0;D&&B==I||(A[z]=B,D=!1)}this.g=A}var c={};function d(j){return-128<=j&&128>j?i(j,function(I){return new l([I|0],0>I?-1:0)}):new l([j|0],0>j?-1:0)}function h(j){if(isNaN(j)||!isFinite(j))return g;if(0>j)return S(h(-j));for(var I=[],A=1,D=0;j>=A;D++)I[D]=j/A|0,A*=4294967296;return new l(I,0)}function p(j,I){if(j.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(j.charAt(0)=="-")return S(p(j.substring(1),I));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(I,8)),D=g,z=0;z<j.length;z+=8){var B=Math.min(8,j.length-z),O=parseInt(j.substring(z,z+B),I);8>B?(B=h(Math.pow(I,B)),D=D.j(B).add(h(O))):(D=D.j(A),D=D.add(h(O)))}return D}var g=d(0),y=d(1),w=d(16777216);t=l.prototype,t.m=function(){if(v(this))return-S(this).m();for(var j=0,I=1,A=0;A<this.g.length;A++){var D=this.i(A);j+=(0<=D?D:4294967296+D)*I,I*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(N(this))return"0";if(v(this))return"-"+S(this).toString(j);for(var I=h(Math.pow(j,6)),A=this,D="";;){var z=R(A,I).g;A=E(A,z.j(I));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(j);if(A=z,N(A))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function N(j){if(j.h!=0)return!1;for(var I=0;I<j.g.length;I++)if(j.g[I]!=0)return!1;return!0}function v(j){return j.h==-1}t.l=function(j){return j=E(this,j),v(j)?-1:N(j)?0:1};function S(j){for(var I=j.g.length,A=[],D=0;D<I;D++)A[D]=~j.g[D];return new l(A,~j.h).add(y)}t.abs=function(){return v(this)?S(this):this},t.add=function(j){for(var I=Math.max(this.g.length,j.g.length),A=[],D=0,z=0;z<=I;z++){var B=D+(this.i(z)&65535)+(j.i(z)&65535),O=(B>>>16)+(this.i(z)>>>16)+(j.i(z)>>>16);D=O>>>16,B&=65535,O&=65535,A[z]=O<<16|B}return new l(A,A[A.length-1]&-2147483648?-1:0)};function E(j,I){return j.add(S(I))}t.j=function(j){if(N(this)||N(j))return g;if(v(this))return v(j)?S(this).j(S(j)):S(S(this).j(j));if(v(j))return S(this.j(S(j)));if(0>this.l(w)&&0>j.l(w))return h(this.m()*j.m());for(var I=this.g.length+j.g.length,A=[],D=0;D<2*I;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var z=0;z<j.g.length;z++){var B=this.i(D)>>>16,O=this.i(D)&65535,Q=j.i(z)>>>16,me=j.i(z)&65535;A[2*D+2*z]+=O*me,T(A,2*D+2*z),A[2*D+2*z+1]+=B*me,T(A,2*D+2*z+1),A[2*D+2*z+1]+=O*Q,T(A,2*D+2*z+1),A[2*D+2*z+2]+=B*Q,T(A,2*D+2*z+2)}for(D=0;D<I;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=I;D<2*I;D++)A[D]=0;return new l(A,0)};function T(j,I){for(;(j[I]&65535)!=j[I];)j[I+1]+=j[I]>>>16,j[I]&=65535,I++}function C(j,I){this.g=j,this.h=I}function R(j,I){if(N(I))throw Error("division by zero");if(N(j))return new C(g,g);if(v(j))return I=R(S(j),I),new C(S(I.g),S(I.h));if(v(I))return I=R(j,S(I)),new C(S(I.g),I.h);if(30<j.g.length){if(v(j)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var A=y,D=I;0>=D.l(j);)A=F(A),D=F(D);var z=U(A,1),B=U(D,1);for(D=U(D,2),A=U(A,2);!N(D);){var O=B.add(D);0>=O.l(j)&&(z=z.add(A),B=O),D=U(D,1),A=U(A,1)}return I=E(j,z.j(I)),new C(z,I)}for(z=g;0<=j.l(I);){for(A=Math.max(1,Math.floor(j.m()/I.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=h(A),O=B.j(I);v(O)||0<O.l(j);)A-=D,B=h(A),O=B.j(I);N(B)&&(B=y),z=z.add(B),j=E(j,O)}return new C(z,j)}t.A=function(j){return R(this,j).h},t.and=function(j){for(var I=Math.max(this.g.length,j.g.length),A=[],D=0;D<I;D++)A[D]=this.i(D)&j.i(D);return new l(A,this.h&j.h)},t.or=function(j){for(var I=Math.max(this.g.length,j.g.length),A=[],D=0;D<I;D++)A[D]=this.i(D)|j.i(D);return new l(A,this.h|j.h)},t.xor=function(j){for(var I=Math.max(this.g.length,j.g.length),A=[],D=0;D<I;D++)A[D]=this.i(D)^j.i(D);return new l(A,this.h^j.h)};function F(j){for(var I=j.g.length+1,A=[],D=0;D<I;D++)A[D]=j.i(D)<<1|j.i(D-1)>>>31;return new l(A,j.h)}function U(j,I){var A=I>>5;I%=32;for(var D=j.g.length-A,z=[],B=0;B<D;B++)z[B]=0<I?j.i(B+A)>>>I|j.i(B+A+1)<<32-I:j.i(B+A);return new l(z,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,c2=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Jo=l}).apply(typeof kN<"u"?kN:typeof self<"u"?self:typeof window<"u"?window:{});var im=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u2,_d,d2,Mm,z0,h2,f2,m2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,P){return f==Array.prototype||f==Object.prototype||(f[b]=P.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof im=="object"&&im];for(var b=0;b<f.length;++b){var P=f[b];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var P=r;f=f.split(".");for(var V=0;V<f.length-1;V++){var W=f[V];if(!(W in P))break e;P=P[W]}f=f[f.length-1],V=P[f],b=b(V),b!=V&&b!=null&&e(P,f,{configurable:!0,writable:!0,value:b})}}function i(f,b){f instanceof String&&(f+="");var P=0,V=!1,W={next:function(){if(!V&&P<f.length){var ee=P++;return{value:b(ee,f[ee]),done:!1}}return V=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(f){return f||function(){return i(this,function(b,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function h(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function p(f,b,P){return f.call.apply(f.bind,arguments)}function g(f,b,P){if(!f)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,V),f.apply(b,W)}}return function(){return f.apply(b,arguments)}}function y(f,b,P){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function w(f,b){var P=Array.prototype.slice.call(arguments,1);return function(){var V=P.slice();return V.push.apply(V,arguments),f.apply(this,V)}}function N(f,b){function P(){}P.prototype=b.prototype,f.aa=b.prototype,f.prototype=new P,f.prototype.constructor=f,f.Qb=function(V,W,ee){for(var ve=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)ve[_t-2]=arguments[_t];return b.prototype[W].apply(V,ve)}}function v(f){const b=f.length;if(0<b){const P=Array(b);for(let V=0;V<b;V++)P[V]=f[V];return P}return[]}function S(f,b){for(let P=1;P<arguments.length;P++){const V=arguments[P];if(d(V)){const W=f.length||0,ee=V.length||0;f.length=W+ee;for(let ve=0;ve<ee;ve++)f[W+ve]=V[ve]}else f.push(V)}}class E{constructor(b,P){this.i=b,this.j=P,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function T(f){return/^[\s\xa0]*$/.test(f)}function C(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function R(f){return R[" "](f),f}R[" "]=function(){};var F=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function U(f,b,P){for(const V in f)b.call(P,f[V],V,f)}function j(f,b){for(const P in f)b.call(void 0,f[P],P,f)}function I(f){const b={};for(const P in f)b[P]=f[P];return b}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(f,b){let P,V;for(let W=1;W<arguments.length;W++){V=arguments[W];for(P in V)f[P]=V[P];for(let ee=0;ee<A.length;ee++)P=A[ee],Object.prototype.hasOwnProperty.call(V,P)&&(f[P]=V[P])}}function z(f){var b=1;f=f.split(":");const P=[];for(;0<b&&f.length;)P.push(f.shift()),b--;return f.length&&P.push(f.join(":")),P}function B(f){c.setTimeout(()=>{throw f},0)}function O(){var f=H;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class Q{constructor(){this.h=this.g=null}add(b,P){const V=me.get();V.set(b,P),this.h?this.h.next=V:this.g=V,this.h=V}}var me=new E(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(b,P){this.h=b,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let J,$=!1,H=new Q,G=()=>{const f=c.Promise.resolve(void 0);J=()=>{f.then(te)}};var te=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(P){B(P)}var b=me;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}$=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};c.addEventListener("test",P,b),c.removeEventListener("test",P,b)}catch{}return f}();function be(f,b){if(ce.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var P=this.type=f.type,V=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(F){e:{try{R(b.nodeName);var W=!0;break e}catch{}W=!1}W||(b=null)}}else P=="mouseover"?b=f.fromElement:P=="mouseout"&&(b=f.toElement);this.relatedTarget=b,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:_e[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&be.aa.h.call(this)}}N(be,ce);var _e={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function Oe(f,b,P,V,W){this.listener=f,this.proxy=null,this.src=b,this.type=P,this.capture=!!V,this.ha=W,this.key=++Ie,this.da=this.fa=!1}function de(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function he(f){this.src=f,this.g={},this.h=0}he.prototype.add=function(f,b,P,V,W){var ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);var ve=Ae(f,b,V,W);return-1<ve?(b=f[ve],P||(b.fa=!1)):(b=new Oe(b,this.src,ee,!!V,W),b.fa=P,f.push(b)),b};function se(f,b){var P=b.type;if(P in f.g){var V=f.g[P],W=Array.prototype.indexOf.call(V,b,void 0),ee;(ee=0<=W)&&Array.prototype.splice.call(V,W,1),ee&&(de(b),f.g[P].length==0&&(delete f.g[P],f.h--))}}function Ae(f,b,P,V){for(var W=0;W<f.length;++W){var ee=f[W];if(!ee.da&&ee.listener==b&&ee.capture==!!P&&ee.ha==V)return W}return-1}var Ye="closure_lm_"+(1e6*Math.random()|0),dt={};function vt(f,b,P,V,W){if(Array.isArray(b)){for(var ee=0;ee<b.length;ee++)vt(f,b[ee],P,V,W);return null}return P=$e(P),f&&f[oe]?f.K(b,P,h(V)?!!V.capture:!1,W):bt(f,b,P,!1,V,W)}function bt(f,b,P,V,W,ee){if(!b)throw Error("Invalid event type");var ve=h(W)?!!W.capture:!!W,_t=tn(f);if(_t||(f[Ye]=_t=new he(f)),P=_t.add(b,P,V,ve,ee),P.proxy)return P;if(V=Zt(),P.proxy=V,V.src=f,V.listener=P,f.addEventListener)ge||(W=ve),W===void 0&&(W=!1),f.addEventListener(b.toString(),V,W);else if(f.attachEvent)f.attachEvent(en(b.toString()),V);else if(f.addListener&&f.removeListener)f.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Zt(){function f(P){return b.call(f.src,f.listener,P)}const b=Mr;return f}function Bt(f,b,P,V,W){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)Bt(f,b[ee],P,V,W);else V=h(V)?!!V.capture:!!V,P=$e(P),f&&f[oe]?(f=f.i,b=String(b).toString(),b in f.g&&(ee=f.g[b],P=Ae(ee,P,V,W),-1<P&&(de(ee[P]),Array.prototype.splice.call(ee,P,1),ee.length==0&&(delete f.g[b],f.h--)))):f&&(f=tn(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Ae(b,P,V,W)),(P=-1<f?b[f]:null)&&mn(P))}function mn(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[oe])se(b.i,f);else{var P=f.type,V=f.proxy;b.removeEventListener?b.removeEventListener(P,V,f.capture):b.detachEvent?b.detachEvent(en(P),V):b.addListener&&b.removeListener&&b.removeListener(V),(P=tn(b))?(se(P,f),P.h==0&&(P.src=null,b[Ye]=null)):de(f)}}}function en(f){return f in dt?dt[f]:dt[f]="on"+f}function Mr(f,b){if(f.da)f=!0;else{b=new be(b,this);var P=f.listener,V=f.ha||f.src;f.fa&&mn(f),f=P.call(V,b)}return f}function tn(f){return f=f[Ye],f instanceof he?f:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function $e(f){return typeof f=="function"?f:(f[ye]||(f[ye]=function(b){return f.handleEvent(b)}),f[ye])}function Ke(){ne.call(this),this.i=new he(this),this.M=this,this.F=null}N(Ke,ne),Ke.prototype[oe]=!0,Ke.prototype.removeEventListener=function(f,b,P,V){Bt(this,f,b,P,V)};function Ue(f,b){var P,V=f.F;if(V)for(P=[];V;V=V.F)P.push(V);if(f=f.M,V=b.type||b,typeof b=="string")b=new ce(b,f);else if(b instanceof ce)b.target=b.target||f;else{var W=b;b=new ce(V,f),D(b,W)}if(W=!0,P)for(var ee=P.length-1;0<=ee;ee--){var ve=b.g=P[ee];W=ar(ve,V,!0,b)&&W}if(ve=b.g=f,W=ar(ve,V,!0,b)&&W,W=ar(ve,V,!1,b)&&W,P)for(ee=0;ee<P.length;ee++)ve=b.g=P[ee],W=ar(ve,V,!1,b)&&W}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var P=f.g[b],V=0;V<P.length;V++)de(P[V]);delete f.g[b],f.h--}}this.F=null},Ke.prototype.K=function(f,b,P,V){return this.i.add(String(f),b,!1,P,V)},Ke.prototype.L=function(f,b,P,V){return this.i.add(String(f),b,!0,P,V)};function ar(f,b,P,V){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var W=!0,ee=0;ee<b.length;++ee){var ve=b[ee];if(ve&&!ve.da&&ve.capture==P){var _t=ve.listener,on=ve.ha||ve.src;ve.fa&&se(f.i,ve),W=_t.call(on,V)!==!1&&W}}return W&&!V.defaultPrevented}function $n(f,b,P){if(typeof f=="function")P&&(f=y(f,P));else if(f&&typeof f.handleEvent=="function")f=y(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:c.setTimeout(f,b||0)}function Qt(f){f.g=$n(()=>{f.g=null,f.i&&(f.i=!1,Qt(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class qn extends ne{constructor(b,P){super(),this.m=b,this.l=P,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Qt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jn(f){ne.call(this),this.h=f,this.g={}}N(jn,ne);var Hn=[];function An(f){U(f.g,function(b,P){this.g.hasOwnProperty(P)&&mn(b)},f),f.g={}}jn.prototype.N=function(){jn.aa.N.call(this),An(this)},jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var At=c.JSON.stringify,vr=c.JSON.parse,Dr=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Ti(){}Ti.prototype.h=null;function Qs(f){return f.h||(f.h=f.i())}function Ys(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Or(){ce.call(this,"d")}N(Or,ce);function Rn(){ce.call(this,"c")}N(Rn,ce);var Vr={},Ve=null;function tt(){return Ve=Ve||new Ke}Vr.La="serverreachability";function yt(f){ce.call(this,Vr.La,f)}N(yt,ce);function pn(f){const b=tt();Ue(b,new yt(b))}Vr.STAT_EVENT="statevent";function En(f,b){ce.call(this,Vr.STAT_EVENT,f),this.stat=b}N(En,ce);function kt(f){const b=tt();Ue(b,new En(b,f))}Vr.Ma="timingevent";function es(f,b){ce.call(this,Vr.Ma,f),this.size=b}N(es,ce);function gn(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},b)}function Wn(){this.g=!0}Wn.prototype.xa=function(){this.g=!1};function ts(f,b,P,V,W,ee){f.info(function(){if(f.g)if(ee)for(var ve="",_t=ee.split("&"),on=0;on<_t.length;on++){var ht=_t[on].split("=");if(1<ht.length){var Nt=ht[0];ht=ht[1];var $t=Nt.split("_");ve=2<=$t.length&&$t[1]=="type"?ve+(Nt+"="+ht+"&"):ve+(Nt+"=redacted&")}}else ve=null;else ve=ee;return"XMLHTTP REQ ("+V+") [attempt "+W+"]: "+b+`
`+P+`
`+ve})}function Me(f,b,P,V,W,ee,ve){f.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+W+"]: "+b+`
`+P+`
`+ee+" "+ve})}function Si(f,b,P,V){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+uf(f,P)+(V?" "+V:"")})}function cf(f,b){f.info(function(){return"TIMEOUT: "+b})}Wn.prototype.info=function(){};function uf(f,b){if(!f.g)return b;if(!b)return null;try{var P=JSON.parse(b);if(P){for(f=0;f<P.length;f++)if(Array.isArray(P[f])){var V=P[f];if(!(2>V.length)){var W=V[1];if(Array.isArray(W)&&!(1>W.length)){var ee=W[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ve=1;ve<W.length;ve++)W[ve]=""}}}}return At(P)}catch{return b}}var Ea={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cl;function Es(){}N(Es,Ti),Es.prototype.g=function(){return new XMLHttpRequest},Es.prototype.i=function(){return{}},Cl=new Es;function Ns(f,b,P,V){this.j=f,this.i=b,this.l=P,this.R=V||1,this.U=new jn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new df}function df(){this.i=null,this.g="",this.h=!1}var hf={},ku={};function Pu(f,b,P){f.L=1,f.v=rs(Yt(b)),f.m=P,f.P=!0,Iu(f,null)}function Iu(f,b){f.F=Date.now(),Pl(f),f.A=Yt(f.v);var P=f.A,V=f.R;Array.isArray(V)||(V=[String(V)]),pf(P.i,"t",V),f.C=0,P=f.j.J,f.h=new df,f.g=bf(f.j,P?b:null,!f.m),0<f.O&&(f.M=new qn(y(f.Y,f,f.g),f.O)),b=f.U,P=f.g,V=f.ca;var W="readystatechange";Array.isArray(W)||(W&&(Hn[0]=W.toString()),W=Hn);for(var ee=0;ee<W.length;ee++){var ve=vt(P,W[ee],V||b.handleEvent,!1,b.h||b);if(!ve)break;b.g[ve.key]=ve}b=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),pn(),ts(f.i,f.u,f.A,f.l,f.R,f.m)}Ns.prototype.ca=function(f){f=f.target;const b=this.M;b&&lr(f)==3?b.j():this.Y(f)},Ns.prototype.Y=function(f){try{if(f==this.g)e:{const $t=lr(this.g);var b=this.g.Ba();const po=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Wu(this.g)))){this.J||$t!=4||b==7||(b==8||0>=po?pn(3):pn(2)),ju(this);var P=this.g.Z();this.X=P;t:if(ff(this)){var V=Wu(this.g);f="";var W=V.length,ee=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ci(this),Na(this);var ve="";break t}this.h.i=new c.TextDecoder}for(b=0;b<W;b++)this.h.h=!0,f+=this.h.i.decode(V[b],{stream:!(ee&&b==W-1)});V.length=0,this.h.g+=f,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=P==200,Me(this.i,this.u,this.A,this.l,this.R,$t,P),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,on=this.g;if((_t=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(_t)){var ht=_t;break t}}ht=null}if(P=ht)Si(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ta(this,P);else{this.o=!1,this.s=3,kt(12),Ci(this),Na(this);break e}}if(this.P){P=!0;let nn;for(;!this.J&&this.C<ve.length;)if(nn=kl(this,ve),nn==ku){$t==4&&(this.s=4,kt(14),P=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==hf){this.s=4,kt(15),Si(this.i,this.l,ve,"[Invalid Chunk]"),P=!1;break}else Si(this.i,this.l,nn,null),Ta(this,nn);if(ff(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||ve.length!=0||this.h.h||(this.s=1,kt(16),P=!1),this.o=this.o&&P,!P)Si(this.i,this.l,ve,"[Invalid Chunked Response]"),Ci(this),Na(this);else if(0<ve.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Vl(Nt),Nt.M=!0,kt(11))}}else Si(this.i,this.l,ve,null),Ta(this,ve);$t==4&&Ci(this),this.o&&!this.J&&($t==4?Ku(this.j,this):(this.o=!1,Pl(this)))}else my(this.g),P==400&&0<ve.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Ci(this),Na(this)}}}catch{}finally{}};function ff(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function kl(f,b){var P=f.C,V=b.indexOf(`
`,P);return V==-1?ku:(P=Number(b.substring(P,V)),isNaN(P)?hf:(V+=1,V+P>b.length?ku:(b=b.slice(V,V+P),f.C=V+P,b)))}Ns.prototype.cancel=function(){this.J=!0,Ci(this)};function Pl(f){f.S=Date.now()+f.I,mf(f,f.I)}function mf(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=gn(y(f.ba,f),b)}function ju(f){f.B&&(c.clearTimeout(f.B),f.B=null)}Ns.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(cf(this.i,this.A),this.L!=2&&(pn(),kt(17)),Ci(this),this.s=2,Na(this)):mf(this,this.S-f)};function Na(f){f.j.G==0||f.J||Ku(f.j,f)}function Ci(f){ju(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,An(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function Ta(f,b){try{var P=f.j;if(P.G!=0&&(P.g==f||ot(P.h,f))){if(!f.K&&ot(P.h,f)&&P.G==3){try{var V=P.Da.g.parse(b)}catch{V=null}if(Array.isArray(V)&&V.length==3){var W=V;if(W[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<f.F)zl(P),Ll(P);else break e;Ol(P),kt(18)}}else P.za=W[1],0<P.za-P.T&&37500>W[2]&&P.F&&P.v==0&&!P.C&&(P.C=gn(y(P.Za,P),6e3));if(1>=lo(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Ai(P,11)}else if((f.K||P.g==f)&&zl(P),!T(b))for(W=P.Da.g.parse(b),b=0;b<W.length;b++){let ht=W[b];if(P.T=ht[0],ht=ht[1],P.G==2)if(ht[0]=="c"){P.K=ht[1],P.ia=ht[2];const Nt=ht[3];Nt!=null&&(P.la=Nt,P.j.info("VER="+P.la));const $t=ht[4];$t!=null&&(P.Aa=$t,P.j.info("SVER="+P.Aa));const po=ht[5];po!=null&&typeof po=="number"&&0<po&&(V=1.5*po,P.L=V,P.j.info("backChannelRequestTimeoutMs_="+V)),V=P;const nn=f.g;if(nn){const Ul=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ul){var ee=V.h;ee.g||Ul.indexOf("spdy")==-1&&Ul.indexOf("quic")==-1&&Ul.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(St(ee,ee.h),ee.h=null))}if(V.D){const ei=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;ei&&(V.ya=ei,qe(V.I,V.D,ei))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-f.F,P.j.info("Handshake RTT: "+P.R+"ms")),V=P;var ve=f;if(V.qa=Bl(V,V.J?V.ia:null,V.W),ve.K){Ca(V.h,ve);var _t=ve,on=V.L;on&&(_t.I=on),_t.B&&(ju(_t),Pl(_t)),V.g=ve}else Cs(V);0<P.i.length&&mo(P)}else ht[0]!="stop"&&ht[0]!="close"||Ai(P,7);else P.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Ai(P,7):Dl(P):ht[0]!="noop"&&P.l&&P.l.ta(ht),P.v=0)}}pn(4)}catch{}}var Sa=class{constructor(f,b){this.g=f,this.map=b}};function Au(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ru(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function lo(f){return f.h?1:f.g?f.g.size:0}function ot(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function St(f,b){f.g?f.g.add(b):f.h=b}function Ca(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Au.prototype.cancel=function(){if(this.i=ki(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ki(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const P of f.g.values())b=b.concat(P.D);return b}return v(f.i)}function co(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var b=[],P=f.length,V=0;V<P;V++)b.push(f[V]);return b}b=[],P=0;for(V in f)b[P++]=f[V];return b}function Mu(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var b=[];f=f.length;for(var P=0;P<f;P++)b.push(P);return b}b=[],P=0;for(const V in f)b[P++]=V;return b}}}function Ze(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var P=Mu(f),V=co(f),W=V.length,ee=0;ee<W;ee++)b.call(void 0,V[ee],P&&P[ee],f)}var Vt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Du(f,b){if(f){f=f.split("&");for(var P=0;P<f.length;P++){var V=f[P].indexOf("="),W=null;if(0<=V){var ee=f[P].substring(0,V);W=f[P].substring(V+1)}else ee=f[P];b(ee,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function ns(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ns){this.h=f.h,Il(this,f.j),this.o=f.o,this.g=f.g,Pi(this,f.s),this.l=f.l;var b=f.i,P=new Ii;P.i=b.i,b.g&&(P.g=new Map(b.g),P.h=b.h),Xs(this,P),this.m=f.m}else f&&(b=String(f).match(Vt))?(this.h=!1,Il(this,b[1]||"",!0),this.o=Ts(b[2]||""),this.g=Ts(b[3]||"",!0),Pi(this,b[4]),this.l=Ts(b[5]||"",!0),Xs(this,b[6]||"",!0),this.m=Ts(b[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}ns.prototype.toString=function(){var f=[],b=this.j;b&&f.push(Ss(b,uo,!0),":");var P=this.g;return(P||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Ss(b,uo,!0),"@"),f.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&f.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&f.push("/"),f.push(Ss(P,P.charAt(0)=="/"?Vu:Ou,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",Ss(P,Fu)),f.join("")};function Yt(f){return new ns(f)}function Il(f,b,P){f.j=P?Ts(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Pi(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function Xs(f,b,P){b instanceof Ii?(f.i=b,ss(f.i,f.h)):(P||(b=Ss(b,jl)),f.i=new Ii(b,f.h))}function qe(f,b,P){f.i.set(b,P)}function rs(f){return qe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ts(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ss(f,b,P){return typeof f=="string"?(f=encodeURI(f).replace(b,Lu),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Lu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var uo=/[#\/\?@]/g,Ou=/[#\?:]/g,Vu=/[#\?]/g,jl=/[#\?@]/g,Fu=/#/g;function Ii(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Fr(f){f.g||(f.g=new Map,f.h=0,f.i&&Du(f.i,function(b,P){f.add(decodeURIComponent(b.replace(/\+/g," ")),P)}))}t=Ii.prototype,t.add=function(f,b){Fr(this),this.i=null,f=Fe(this,f);var P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(b),this.h+=1,this};function zu(f,b){Fr(f),b=Fe(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Al(f,b){return Fr(f),b=Fe(f,b),f.g.has(b)}t.forEach=function(f,b){Fr(this),this.g.forEach(function(P,V){P.forEach(function(W){f.call(b,W,V,this)},this)},this)},t.na=function(){Fr(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),P=[];for(let V=0;V<b.length;V++){const W=f[V];for(let ee=0;ee<W.length;ee++)P.push(b[V])}return P},t.V=function(f){Fr(this);let b=[];if(typeof f=="string")Al(this,f)&&(b=b.concat(this.g.get(Fe(this,f))));else{f=Array.from(this.g.values());for(let P=0;P<f.length;P++)b=b.concat(f[P])}return b},t.set=function(f,b){return Fr(this),this.i=null,f=Fe(this,f),Al(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function pf(f,b,P){zu(f,b),0<P.length&&(f.i=null,f.g.set(Fe(f,b),v(P)),f.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var P=0;P<b.length;P++){var V=b[P];const ee=encodeURIComponent(String(V)),ve=this.V(V);for(V=0;V<ve.length;V++){var W=ee;ve[V]!==""&&(W+="="+encodeURIComponent(String(ve[V]))),f.push(W)}}return this.i=f.join("&")};function Fe(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function ss(f,b){b&&!f.j&&(Fr(f),f.i=null,f.g.forEach(function(P,V){var W=V.toLowerCase();V!=W&&(zu(this,V),pf(this,W,P))},f)),f.j=b}function Et(f,b){const P=new Wn;if(c.Image){const V=new Image;V.onload=w(is,P,"TestLoadImage: loaded",!0,b,V),V.onerror=w(is,P,"TestLoadImage: error",!1,b,V),V.onabort=w(is,P,"TestLoadImage: abort",!1,b,V),V.ontimeout=w(is,P,"TestLoadImage: timeout",!1,b,V),c.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=f}else b(!1)}function gf(f,b){const P=new Wn,V=new AbortController,W=setTimeout(()=>{V.abort(),is(P,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:V.signal}).then(ee=>{clearTimeout(W),ee.ok?is(P,"TestPingServer: ok",!0,b):is(P,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(W),is(P,"TestPingServer: error",!1,b)})}function is(f,b,P,V,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),V(P)}catch{}}function Bu(){this.g=new Dr}function Uu(f,b,P){const V=P||"";try{Ze(f,function(W,ee){let ve=W;h(W)&&(ve=At(W)),b.push(V+ee+"="+encodeURIComponent(ve))})}catch(W){throw b.push(V+"type="+encodeURIComponent("_badmap")),W}}function os(f){this.l=f.Ub||null,this.j=f.eb||!1}N(os,Ti),os.prototype.g=function(){return new ho(this.l,this.j)},os.prototype.i=function(f){return function(){return f}}({});function ho(f,b){Ke.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ho,Ke),t=ho.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,zr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||c).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ut(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fo(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function fo(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Ut(this):zr(this),this.readyState==3&&fo(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Ut(this))},t.Qa=function(f){this.g&&(this.response=f,Ut(this))},t.ga=function(){this.g&&Ut(this)};function Ut(f){f.readyState=4,f.l=null,f.j=null,f.v=null,zr(f)}t.setRequestHeader=function(f,b){this.u.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var P=b.next();!P.done;)P=P.value,f.push(P[0]+": "+P[1]),P=b.next();return f.join(`\r
`)};function zr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function $u(f){let b="";return U(f,function(P,V){b+=V,b+=":",b+=P,b+=`\r
`}),b}function Rl(f,b,P){e:{for(V in P){var V=!1;break e}V=!0}V||(P=$u(P),typeof f=="string"?P!=null&&encodeURIComponent(String(P)):qe(f,b,P))}function Ft(f){Ke.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ft,Ke);var yf=/^https?$/i,qu=["POST","PUT"];t=Ft.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,b,P,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cl.g(),this.v=this.o?Qs(this.o):Qs(Cl),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ee){vf(this,ee);return}if(f=P||"",P=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var W in V)P.set(W,V[W]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ee of V.keys())P.set(ee,V.get(ee));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(P.keys()).find(ee=>ee.toLowerCase()=="content-type"),W=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(qu,b,void 0))||V||W||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ve]of P)this.g.setRequestHeader(ee,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xr(this),this.u=!0,this.g.send(f),this.u=!1}catch(ee){vf(this,ee)}};function vf(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,Hu(f),Ml(f)}function Hu(f){f.A||(f.A=!0,Ue(f,"complete"),Ue(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ue(this,"complete"),Ue(this,"abort"),Ml(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ml(this,!0)),Ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?st(this):this.bb())},t.bb=function(){st(this)};function st(f){if(f.h&&typeof l<"u"&&(!f.v[1]||lr(f)!=4||f.Z()!=2)){if(f.u&&lr(f)==4)$n(f.Ea,0,f);else if(Ue(f,"readystatechange"),lr(f)==4){f.h=!1;try{const ve=f.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var P;if(!(P=b)){var V;if(V=ve===0){var W=String(f.D).match(Vt)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),V=!yf.test(W?W.toLowerCase():"")}P=V}if(P)Ue(f,"complete"),Ue(f,"success");else{f.m=6;try{var ee=2<lr(f)?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.Z()+"]",Hu(f)}}finally{Ml(f)}}}}function Ml(f,b){if(f.g){xr(f);const P=f.g,V=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||Ue(f,"ready");try{P.onreadystatechange=V}catch{}}}function xr(f){f.I&&(c.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function lr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),vr(b)}};function Wu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function my(f){const b={};f=(f.g&&2<=lr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<f.length;V++){if(T(f[V]))continue;var P=z(f[V]);const W=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ee=b[W]||[];b[W]=ee,ee.push(P)}j(b,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(f,b,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||b}function xf(f){this.Aa=0,this.i=[],this.j=new Wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ji("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ji("baseRetryDelayMs",5e3,f),this.cb=ji("retryDelaySeedMs",1e4,f),this.Wa=ji("forwardChannelMaxRetries",2,f),this.wa=ji("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Au(f&&f.concurrentRequestLimit),this.Da=new Bu,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xf.prototype,t.la=8,t.G=1,t.connect=function(f,b,P,V){kt(0),this.W=f,this.H=b||{},P&&V!==void 0&&(this.H.OSID=P,this.H.OAID=V),this.F=this.X,this.I=Bl(this,null,this.W),mo(this)};function Dl(f){if(_f(f),f.G==3){var b=f.U++,P=Yt(f.I);if(qe(P,"SID",f.K),qe(P,"RID",b),qe(P,"TYPE","terminate"),ka(f,P),b=new Ns(f,f.j,b),b.L=2,b.v=rs(Yt(P)),P=!1,c.navigator&&c.navigator.sendBeacon)try{P=c.navigator.sendBeacon(b.v.toString(),"")}catch{}!P&&c.Image&&(new Image().src=b.v,P=!0),P||(b.g=bf(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Pl(b)}wf(f)}function Ll(f){f.g&&(Vl(f),f.g.cancel(),f.g=null)}function _f(f){Ll(f),f.u&&(c.clearTimeout(f.u),f.u=null),zl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function mo(f){if(!Ru(f.h)&&!f.s){f.s=!0;var b=f.Ga;J||G(),$||(J(),$=!0),H.add(b,f),f.B=0}}function py(f,b){return lo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=gn(y(f.Ga,f,b),Zu(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const W=new Ns(this,this.j,f);let ee=this.o;if(this.S&&(ee?(ee=I(ee),D(ee,this.S)):ee=this.S),this.m!==null||this.O||(W.H=ee,ee=null),this.P)e:{for(var b=0,P=0;P<this.i.length;P++){t:{var V=this.i[P];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(b+=V,4096<b){b=P;break e}if(b===4096||P===this.i.length-1){b=P+1;break e}}b=1e3}else b=1e3;b=Gu(this,W,b),P=Yt(this.I),qe(P,"RID",f),qe(P,"CVER",22),this.D&&qe(P,"X-HTTP-Session-Id",this.D),ka(this,P),ee&&(this.O?b="headers="+encodeURIComponent(String($u(ee)))+"&"+b:this.m&&Rl(P,this.m,ee)),St(this.h,W),this.Ua&&qe(P,"TYPE","init"),this.P?(qe(P,"$req",b),qe(P,"SID","null"),W.T=!0,Pu(W,P,null)):Pu(W,P,b),this.G=2}}else this.G==3&&(f?Br(this,f):this.i.length==0||Ru(this.h)||Br(this))};function Br(f,b){var P;b?P=b.l:P=f.U++;const V=Yt(f.I);qe(V,"SID",f.K),qe(V,"RID",P),qe(V,"AID",f.T),ka(f,V),f.m&&f.o&&Rl(V,f.m,f.o),P=new Ns(f,f.j,P,f.B+1),f.m===null&&(P.H=f.o),b&&(f.i=b.D.concat(f.i)),b=Gu(f,P,1e3),P.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),St(f.h,P),Pu(P,V,b)}function ka(f,b){f.H&&U(f.H,function(P,V){qe(b,V,P)}),f.l&&Ze({},function(P,V){qe(b,V,P)})}function Gu(f,b,P){P=Math.min(f.i.length,P);var V=f.l?y(f.l.Na,f.l,f):null;e:{var W=f.i;let ee=-1;for(;;){const ve=["count="+P];ee==-1?0<P?(ee=W[0].g,ve.push("ofs="+ee)):ee=0:ve.push("ofs="+ee);let _t=!0;for(let on=0;on<P;on++){let ht=W[on].g;const Nt=W[on].map;if(ht-=ee,0>ht)ee=Math.max(0,W[on].g-100),_t=!1;else try{Uu(Nt,ve,"req"+ht+"_")}catch{V&&V(Nt)}}if(_t){V=ve.join("&");break e}}}return f=f.i.splice(0,P),b.D=f,V}function Cs(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;J||G(),$||(J(),$=!0),H.add(b,f),f.v=0}}function Ol(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=gn(y(f.Fa,f),Zu(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Fl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=gn(y(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Ll(this),Fl(this))};function Vl(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Fl(f){f.g=new Ns(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=Yt(f.qa);qe(b,"RID","rpc"),qe(b,"SID",f.K),qe(b,"AID",f.T),qe(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&qe(b,"TO",f.ja),qe(b,"TYPE","xmlhttp"),ka(f,b),f.m&&f.o&&Rl(b,f.m,f.o),f.L&&(f.g.I=f.L);var P=f.g;f=f.ia,P.L=1,P.v=rs(Yt(b)),P.m=null,P.P=!0,Iu(P,f)}t.Za=function(){this.C!=null&&(this.C=null,Ll(this),Ol(this),kt(19))};function zl(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Ku(f,b){var P=null;if(f.g==b){zl(f),Vl(f),f.g=null;var V=2}else if(ot(f.h,b))P=b.D,Ca(f.h,b),V=1;else return;if(f.G!=0){if(b.o)if(V==1){P=b.m?b.m.length:0,b=Date.now()-b.F;var W=f.B;V=tt(),Ue(V,new es(V,P)),mo(f)}else Cs(f);else if(W=b.s,W==3||W==0&&0<b.X||!(V==1&&py(f,b)||V==2&&Ol(f)))switch(P&&0<P.length&&(b=f.h,b.i=b.i.concat(P)),W){case 1:Ai(f,5);break;case 4:Ai(f,10);break;case 3:Ai(f,6);break;default:Ai(f,2)}}}function Zu(f,b){let P=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(P*=2),P*b}function Ai(f,b){if(f.j.info("Error code "+b),b==2){var P=y(f.fb,f),V=f.Xa;const W=!V;V=new ns(V||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Il(V,"https"),rs(V),W?Et(V.toString(),P):gf(V.toString(),P)}else kt(2);f.G=0,f.l&&f.l.sa(b),wf(f),_f(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function wf(f){if(f.G=0,f.ka=[],f.l){const b=ki(f.h);(b.length!=0||f.i.length!=0)&&(S(f.ka,b),S(f.ka,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.ra()}}function Bl(f,b,P){var V=P instanceof ns?Yt(P):new ns(P);if(V.g!="")b&&(V.g=b+"."+V.g),Pi(V,V.s);else{var W=c.location;V=W.protocol,b=b?b+"."+W.hostname:W.hostname,W=+W.port;var ee=new ns(null);V&&Il(ee,V),b&&(ee.g=b),W&&Pi(ee,W),P&&(ee.l=P),V=ee}return P=f.D,b=f.ya,P&&b&&qe(V,P,b),qe(V,"VER",f.la),ka(f,V),V}function bf(f,b,P){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new Ft(new os({eb:P})):new Ft(f.pa),b.Ha(f.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}t=Qu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pa(){}Pa.prototype.g=function(f,b){return new Nn(f,b)};function Nn(f,b){Ke.call(this),this.g=new xf(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!T(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!T(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new as(this)}N(Nn,Ke),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){Dl(this.g)},Nn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var P={};P.__data__=f,f=P}else this.u&&(P={},P.__data__=At(f),f=P);b.i.push(new Sa(b.Ya++,f)),b.G==3&&mo(b)},Nn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,Nn.aa.N.call(this)};function Js(f){Or.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const P in b){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}N(Js,Or);function Ef(){Rn.call(this),this.status=1}N(Ef,Rn);function as(f){this.g=f}N(as,Qu),as.prototype.ua=function(){Ue(this.g,"a")},as.prototype.ta=function(f){Ue(this.g,new Js(f))},as.prototype.sa=function(f){Ue(this.g,new Ef)},as.prototype.ra=function(){Ue(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,m2=function(){return new Pa},f2=function(){return tt()},h2=Vr,z0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,Mm=Ea,Sl.COMPLETE="complete",d2=Sl,Ys.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,_d=Ys,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,u2=Ft}).apply(typeof im<"u"?im:typeof self<"u"?self:typeof window<"u"?window:{});const PN="@firebase/firestore",IN="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new X_("@firebase/firestore");function Yl(){return cl.logLevel}function Ne(t,...e){if(cl.logLevel<=at.DEBUG){const n=e.map(hw);cl.debug(`Firestore (${vu}): ${t}`,...n)}}function so(t,...e){if(cl.logLevel<=at.ERROR){const n=e.map(hw);cl.error(`Firestore (${vu}): ${t}`,...n)}}function Gc(t,...e){if(cl.logLevel<=at.WARN){const n=e.map(hw);cl.warn(`Firestore (${vu}): ${t}`,...n)}}function hw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,p2(t,r,n)}function p2(t,e,n){let r=`FIRESTORE (${vu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw so(r),new Error(r)}function xt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||p2(e,s,r)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ao{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xn.UNAUTHENTICATED))}shutdown(){}}class jU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AU{constructor(e){this.t=e,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let i=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zi,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=i;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new g2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new Xn(e)}}class RU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new RU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xt(this.o===void 0,3512);const r=i=>{i.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.m;return this.m=i.token,Ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=LU(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function B0(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return et(r,s);{const i=y2(),l=OU(i.encode(AN(t,n)),i.encode(AN(e,n)));return l!==0?l:et(r,s)}}n+=r>65535?2:1}return et(t.length,e.length)}function AN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function OU(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return et(t[n],e[n]);return et(t.length,e.length)}function Kc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=-62135596800,MN=1e6;class _n{static now(){return _n.fromMillis(Date.now())}static fromDate(e){return _n.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*MN);return new _n(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RN)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MN}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-RN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new _n(0,0))}static max(){return new We(new _n(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="__name__";class si{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=si.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return et(e.length,n.length)}static compareSegments(e,n){const r=si.isNumericId(e),s=si.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?si.extractNumericId(e).compare(si.extractNumericId(n)):B0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jo.fromString(e.substring(4,e.length-2))}}class Dt extends si{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const VU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends si{construct(e,n,r){return new On(e,n,r)}static isValidIdentifier(e){return VU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DN}static keyField(){return new On([DN])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Se(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Se(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Se(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(i(),s++)}if(i(),l)throw new Se(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new On(n)}static emptyPath(){return new On([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Dt.fromString(e))}static fromName(e){return new De(Dt.fromString(e).popFirst(5))}static empty(){return new De(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=-1;function FU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=We.fromTimestamp(r===1e9?new _n(n+1,0):new _n(n,r));return new oa(s,De.empty(),e)}function zU(t){return new oa(t.readTime,t.key,wh)}class oa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new oa(We.min(),De.empty(),wh)}static max(){return new oa(We.max(),De.empty(),wh)}}function BU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $U{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==UU)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let s=0,i=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++i,l&&i===s&&n()},d=>r(d))}),l=!0,i===s&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(s=>s?le.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new le((r,s)=>{const i=e.length,l=new Array(i);let c=0;for(let d=0;d<i;d++){const h=d;n(e[h]).next(p=>{l[h]=p,++c,c===i&&r(l)},p=>s(p))}})}static doWhile(e,n){return new le((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function qU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _u(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Tg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=-1;function Sg(t){return t==null}function Sp(t){return t===0&&1/t==-1/0}function HU(t){return typeof t=="number"&&Number.isInteger(t)&&!Sp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="";function WU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LN(e)),e=GU(t.get(n),e);return LN(e)}function GU(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case x2:n+="";break;default:n+=i}}return n}function LN(t){return t+x2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function va(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new om(this.root,e,this.comparator,!1)}getReverseIterator(){return new om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new om(this.root,e,this.comparator,!0)}}class om{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Dn.RED,this.left=s??Dn.EMPTY,this.right=i??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Dn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Dn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VN(this.data.getIterator())}getIteratorFrom(e){return new VN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class VN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new Hr([])}unionWith(e){let n=new wn(On.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new w2("Invalid base64 string: "+i):i}}(e);return new Bn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i}(e);return new Bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const KU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(t){if(xt(!!t,39018),typeof t=="string"){let e=0;const n=KU.exec(t);if(xt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rn(t.seconds),nanos:rn(t.nanos)}}function rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function la(t){return typeof t=="string"?Bn.fromBase64String(t):Bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="server_timestamp",E2="__type__",N2="__previous_value__",T2="__local_write_time__";function mw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[E2])===null||n===void 0?void 0:n.stringValue)===b2}function Cg(t){const e=t.mapValue.fields[N2];return mw(e)?Cg(e):e}function bh(t){const e=aa(t.mapValue.fields[T2].timestampValue);return new _n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,n,r,s,i,l,c,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=p}}const Cp="(default)";class Eh{constructor(e,n){this.projectId=e,this.database=n||Cp}static empty(){return new Eh("","")}get isDefaultDatabase(){return this.database===Cp}isEqual(e){return e instanceof Eh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="__type__",QU="__max__",am={mapValue:{}},C2="__vector__",kp="value";function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mw(t)?4:XU(t)?9007199254740991:YU(t)?10:11:Be(28295,{value:t})}function Ei(t,e){if(t===e)return!0;const n=ca(t);if(n!==ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bh(t).isEqual(bh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=aa(s.timestampValue),c=aa(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return la(s.bytesValue).isEqual(la(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return rn(s.geoPointValue.latitude)===rn(i.geoPointValue.latitude)&&rn(s.geoPointValue.longitude)===rn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return rn(s.integerValue)===rn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=rn(s.doubleValue),c=rn(i.doubleValue);return l===c?Sp(l)===Sp(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Kc(t.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(s,i){const l=s.mapValue.fields||{},c=i.mapValue.fields||{};if(ON(l)!==ON(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Ei(l[d],c[d])))return!1;return!0}(t,e);default:return Be(52216,{left:t})}}function Nh(t,e){return(t.values||[]).find(n=>Ei(n,e))!==void 0}function Zc(t,e){if(t===e)return 0;const n=ca(t),r=ca(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(i,l){const c=rn(i.integerValue||i.doubleValue),d=rn(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return FN(t.timestampValue,e.timestampValue);case 4:return FN(bh(t),bh(e));case 5:return B0(t.stringValue,e.stringValue);case 6:return function(i,l){const c=la(i),d=la(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const p=et(c[h],d[h]);if(p!==0)return p}return et(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,l){const c=et(rn(i.latitude),rn(l.latitude));return c!==0?c:et(rn(i.longitude),rn(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zN(t.arrayValue,e.arrayValue);case 10:return function(i,l){var c,d,h,p;const g=i.fields||{},y=l.fields||{},w=(c=g[kp])===null||c===void 0?void 0:c.arrayValue,N=(d=y[kp])===null||d===void 0?void 0:d.arrayValue,v=et(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((p=N==null?void 0:N.values)===null||p===void 0?void 0:p.length)||0);return v!==0?v:zN(w,N)}(t.mapValue,e.mapValue);case 11:return function(i,l){if(i===am.mapValue&&l===am.mapValue)return 0;if(i===am.mapValue)return 1;if(l===am.mapValue)return-1;const c=i.fields||{},d=Object.keys(c),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const y=B0(d[g],p[g]);if(y!==0)return y;const w=Zc(c[d[g]],h[p[g]]);if(w!==0)return w}return et(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Be(23264,{Pe:n})}}function FN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=aa(t),r=aa(e),s=et(n.seconds,r.seconds);return s!==0?s:et(n.nanos,r.nanos)}function zN(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Zc(n[s],r[s]);if(i)return i}return et(n.length,r.length)}function Qc(t){return U0(t)}function U0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=aa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return la(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=U0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${U0(n.fields[l])}`;return s+"}"}(t.mapValue):Be(61005,{value:t})}function Dm(t){switch(ca(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cg(t);return e?16+Dm(e):16;case 5:return 2*t.stringValue.length;case 6:return la(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Dm(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return va(r.fields,(i,l)=>{s+=i.length+Dm(l)}),s}(t.mapValue);default:throw Be(13486,{value:t})}}function BN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $0(t){return!!t&&"integerValue"in t}function pw(t){return!!t&&"arrayValue"in t}function UN(t){return!!t&&"nullValue"in t}function $N(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lm(t){return!!t&&"mapValue"in t}function YU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[S2])===null||n===void 0?void 0:n.stringValue)===C2}function qd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return va(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.value=e}static empty(){return new Tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qd(n)}setAll(e){let n=On.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=qd(l):s.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Lm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Lm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){va(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Tr(qd(this.value))}}function k2(t){const e=[];return va(t.fields,(n,r)=>{const s=new On([n]);if(Lm(r)){const i=k2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const l of i)e.push(s.child(l))}else e.push(s)}),new Hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r,s,i,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=c}static newInvalidDocument(e){return new er(e,0,We.min(),We.min(),We.min(),Tr.empty(),0)}static newFoundDocument(e,n,r,s){return new er(e,1,n,We.min(),r,s,0)}static newNoDocument(e,n){return new er(e,2,n,We.min(),We.min(),Tr.empty(),0)}static newUnknownDocument(e,n){return new er(e,3,n,We.min(),We.min(),Tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){this.position=e,this.inclusive=n}}function qN(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],l=t.position[s];if(i.field.isKeyField()?r=De.comparator(De.fromName(l.referenceValue),n.key):r=Zc(l,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function HN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function JU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{}class dn extends P2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new t7(e,n,r):n==="array-contains"?new s7(e,r):n==="in"?new i7(e,r):n==="not-in"?new o7(e,r):n==="array-contains-any"?new a7(e,r):new dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new n7(e,r):new r7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zc(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(Zc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ws extends P2{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ws(e,n)}matches(e){return I2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function I2(t){return t.op==="and"}function j2(t){return e7(t)&&I2(t)}function e7(t){for(const e of t.filters)if(e instanceof Ws)return!1;return!0}function q0(t){if(t instanceof dn)return t.field.canonicalString()+t.op.toString()+Qc(t.value);if(j2(t))return t.filters.map(e=>q0(e)).join(",");{const e=t.filters.map(n=>q0(n)).join(",");return`${t.op}(${e})`}}function A2(t,e){return t instanceof dn?function(r,s){return s instanceof dn&&r.op===s.op&&r.field.isEqual(s.field)&&Ei(r.value,s.value)}(t,e):t instanceof Ws?function(r,s){return s instanceof Ws&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,l,c)=>i&&A2(l,s.filters[c]),!0):!1}(t,e):void Be(19439)}function R2(t){return t instanceof dn?function(n){return`${n.field.canonicalString()} ${n.op} ${Qc(n.value)}`}(t):t instanceof Ws?function(n){return n.op.toString()+" {"+n.getFilters().map(R2).join(" ,")+"}"}(t):"Filter"}class t7 extends dn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class n7 extends dn{constructor(e,n){super(e,"in",n),this.keys=M2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class r7 extends dn{constructor(e,n){super(e,"not-in",n),this.keys=M2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function M2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>De.fromName(r.referenceValue))}class s7 extends dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pw(n)&&Nh(n.arrayValue,this.value)}}class i7 extends dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nh(this.value.arrayValue,n)}}class o7 extends dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nh(this.value.arrayValue,n)}}class a7 extends dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e,n=null,r=[],s=[],i=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=c,this.Ie=null}}function WN(t,e=null,n=[],r=[],s=null,i=null,l=null){return new l7(t,e,n,r,s,i,l)}function gw(t){const e=He(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>q0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Sg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qc(r)).join(",")),e.Ie=n}return e.Ie}function yw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!A2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HN(t.startAt,e.startAt)&&HN(t.endAt,e.endAt)}function H0(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n=null,r=[],s=[],i=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=c,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function c7(t,e,n,r,s,i,l,c){return new wu(t,e,n,r,s,i,l,c)}function kg(t){return new wu(t)}function GN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D2(t){return t.collectionGroup!==null}function Hd(t){const e=He(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new wn(On.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Th(i,r))}),n.has(On.keyField().canonicalString())||e.Ee.push(new Th(On.keyField(),r))}return e.Ee}function xi(t){const e=He(t);return e.de||(e.de=u7(e,Hd(t))),e.de}function u7(t,e){if(t.limitType==="F")return WN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Th(s.field,i)});const n=t.endAt?new Pp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pp(t.startAt.position,t.startAt.inclusive):null;return WN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function W0(t,e){const n=t.filters.concat([e]);return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function G0(t,e,n){return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pg(t,e){return yw(xi(t),xi(e))&&t.limitType===e.limitType}function L2(t){return`${gw(xi(t))}|lt:${t.limitType}`}function Xl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>R2(s)).join(", ")}]`),Sg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Qc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Qc(s)).join(",")),`Target(${r})`}(xi(t))}; limitType=${t.limitType})`}function Ig(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):De.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Hd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,d){const h=qN(l,c,d);return l.inclusive?h<=0:h<0}(r.startAt,Hd(r),s)||r.endAt&&!function(l,c,d){const h=qN(l,c,d);return l.inclusive?h>=0:h>0}(r.endAt,Hd(r),s))}(t,e)}function d7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function O2(t){return(e,n)=>{let r=!1;for(const s of Hd(t)){const i=h7(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function h7(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):function(i,l,c){const d=l.data.field(i),h=c.data.field(i);return d!==null&&h!==null?Zc(d,h):Be(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return _2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=new Kt(De.comparator);function io(){return f7}const V2=new Kt(De.comparator);function wd(...t){let e=V2;for(const n of t)e=e.insert(n.key,n);return e}function F2(t){let e=V2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oa(){return Wd()}function z2(){return Wd()}function Wd(){return new bl(t=>t.toString(),(t,e)=>t.isEqual(e))}const m7=new Kt(De.comparator),p7=new wn(De.comparator);function lt(...t){let e=p7;for(const n of t)e=e.add(n);return e}const g7=new wn(et);function y7(){return g7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sp(e)?"-0":e}}function B2(t){return{integerValue:""+t}}function v7(t,e){return HU(e)?B2(e):vw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this._=void 0}}function x7(t,e,n){return t instanceof Sh?function(s,i){const l={fields:{[E2]:{stringValue:b2},[T2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&mw(i)&&(i=Cg(i)),i&&(l.fields[N2]=i),{mapValue:l}}(n,e):t instanceof Ch?$2(t,e):t instanceof kh?q2(t,e):function(s,i){const l=U2(s,i),c=KN(l)+KN(s.Re);return $0(l)&&$0(s.Re)?B2(c):vw(s.serializer,c)}(t,e)}function _7(t,e,n){return t instanceof Ch?$2(t,e):t instanceof kh?q2(t,e):n}function U2(t,e){return t instanceof Ip?function(r){return $0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Sh extends jg{}class Ch extends jg{constructor(e){super(),this.elements=e}}function $2(t,e){const n=H2(e);for(const r of t.elements)n.some(s=>Ei(s,r))||n.push(r);return{arrayValue:{values:n}}}class kh extends jg{constructor(e){super(),this.elements=e}}function q2(t,e){let n=H2(e);for(const r of t.elements)n=n.filter(s=>!Ei(s,r));return{arrayValue:{values:n}}}class Ip extends jg{constructor(e,n){super(),this.serializer=e,this.Re=n}}function KN(t){return rn(t.integerValue||t.doubleValue)}function H2(t){return pw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e,n){this.field=e,this.transform=n}}function b7(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ch&&s instanceof Ch||r instanceof kh&&s instanceof kh?Kc(r.elements,s.elements,Ei):r instanceof Ip&&s instanceof Ip?Ei(r.Re,s.Re):r instanceof Sh&&s instanceof Sh}(t.transform,e.transform)}class E7{constructor(e,n){this.version=e,this.transformResults=n}}class ys{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Om(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ag{}function W2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xw(t.key,ys.none()):new Jh(t.key,t.data,ys.none());{const n=t.data,r=Tr.empty();let s=new wn(On.comparator);for(let i of e.fields)if(!s.has(i)){let l=n.field(i);l===null&&i.length>1&&(i=i.popLast(),l=n.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new xa(t.key,r,new Hr(s.toArray()),ys.none())}}function N7(t,e,n){t instanceof Jh?function(s,i,l){const c=s.value.clone(),d=QN(s.fieldTransforms,i,l.transformResults);c.setAll(d),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof xa?function(s,i,l){if(!Om(s.precondition,i))return void i.convertToUnknownDocument(l.version);const c=QN(s.fieldTransforms,i,l.transformResults),d=i.data;d.setAll(G2(s)),d.setAll(c),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Gd(t,e,n,r){return t instanceof Jh?function(i,l,c,d){if(!Om(i.precondition,l))return c;const h=i.value.clone(),p=YN(i.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof xa?function(i,l,c,d){if(!Om(i.precondition,l))return c;const h=YN(i.fieldTransforms,d,l),p=l.data;return p.setAll(G2(i)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(i,l,c){return Om(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function T7(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=U2(r.transform,s||null);i!=null&&(n===null&&(n=Tr.empty()),n.set(r.field,i))}return n||null}function ZN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Kc(r,s,(i,l)=>b7(i,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jh extends Ag{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xa extends Ag{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function G2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function QN(t,e,n){const r=new Map;xt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],l=i.transform,c=e.data.field(i.field);r.set(i.field,_7(l,c,n[s]))}return r}function YN(t,e,n){const r=new Map;for(const s of t){const i=s.transform,l=n.data.field(s.field);r.set(s.field,x7(i,l,e))}return r}class xw extends Ag{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S7 extends Ag{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&N7(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=z2();return this.mutations.forEach(s=>{const i=e.get(s.key),l=i.overlayedDocument;let c=this.applyToLocalView(l,i.mutatedFields);c=n.has(s.key)?null:c;const d=W2(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(We.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lt())}isEqual(e){return this.batchId===e.batchId&&Kc(this.mutations,e.mutations,(n,r)=>ZN(n,r))&&Kc(this.baseMutations,e.baseMutations,(n,r)=>ZN(n,r))}}class _w{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return m7}();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new _w(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k7=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,ft;function I7(t){switch(t){case ae.OK:return Be(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function K2(t){if(t===void 0)return so("GRPC error has no .code"),ae.UNKNOWN;switch(t){case ln.OK:return ae.OK;case ln.CANCELLED:return ae.CANCELLED;case ln.UNKNOWN:return ae.UNKNOWN;case ln.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case ln.INTERNAL:return ae.INTERNAL;case ln.UNAVAILABLE:return ae.UNAVAILABLE;case ln.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case ln.NOT_FOUND:return ae.NOT_FOUND;case ln.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case ln.ABORTED:return ae.ABORTED;case ln.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case ln.DATA_LOSS:return ae.DATA_LOSS;default:return Be(39323,{code:t})}}(ft=ln||(ln={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=new Jo([4294967295,4294967295],0);function XN(t){const e=y2().encode(t),n=new c2;return n.update(e),new Uint8Array(n.digest())}function JN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Jo([n,r],0),new Jo([s,i],0)]}class ww{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bd(`Invalid padding: ${n}`);if(r<0)throw new bd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bd(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Jo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Jo.fromNumber(r)));return s.compare(j7)===1&&(s=new Jo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=XN(e),[r,s]=JN(n);for(let i=0;i<this.hashCount;i++){const l=this.we(r,s,i);if(!this.be(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new ww(i,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const n=XN(e),[r,s]=JN(n);for(let i=0;i<this.hashCount;i++){const l=this.we(r,s,i);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ef.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rg(We.min(),s,new Kt(et),io(),lt())}}class ef{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ef(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class Z2{constructor(e,n){this.targetId=e,this.Ce=n}}class Q2{constructor(e,n,r=Bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class eT{constructor(){this.Fe=0,this.Me=tT(),this.xe=Bn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=lt(),n=lt(),r=lt();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Be(38017,{changeType:i})}}),new ef(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=tT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,xt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class A7{constructor(e){this.ze=e,this.je=new Map,this.He=io(),this.Je=lm(),this.Ye=lm(),this.Ze=new Kt(et)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(H0(i))if(r===0){const l=new De(i.path);this.tt(n,l,er.newNoDocument(l,We.min()))}else xt(r===1,20013,{expectedCount:r});else{const l=this.ut(n);if(l!==r){const c=this.ct(e),d=c?this.lt(c,e,l):1;if(d!==0){this.st(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let l,c;try{l=la(r).toUint8Array()}catch(d){if(d instanceof w2)return Gc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new ww(l,s,i)}catch(d){return Gc(d instanceof bd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,l)=>{const c=this._t(l);if(c){if(i.current&&H0(c.target)){const d=new De(c.target.path);this.Et(d).has(l)||this.dt(l,d)||this.tt(l,d,er.newNoDocument(d,e))}i.Le&&(n.set(l,i.qe()),i.Qe())}});let r=lt();this.Ye.forEach((i,l)=>{let c=!0;l.forEachWhile(d=>{const h=this._t(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.He.forEach((i,l)=>l.setReadTime(e));const s=new Rg(e,n,this.Ze,this.He,r);return this.He=io(),this.Je=lm(),this.Ye=lm(),this.Ze=new Kt(et),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new eT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new wn(et),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new wn(et),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new eT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function lm(){return new Kt(De.comparator)}function tT(){return new Kt(De.comparator)}const R7={asc:"ASCENDING",desc:"DESCENDING"},M7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D7={and:"AND",or:"OR"};class L7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function K0(t,e){return t.useProto3Json||Sg(e)?e:{value:e}}function jp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O7(t,e){return jp(t,e.toTimestamp())}function _i(t){return xt(!!t,49232),We.fromTimestamp(function(n){const r=aa(n);return new _n(r.seconds,r.nanos)}(t))}function bw(t,e){return Z0(t,e).canonicalString()}function Z0(t,e){const n=function(s){return new Dt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function X2(t){const e=Dt.fromString(t);return xt(rj(e),10190,{key:e.toString()}),e}function Q0(t,e){return bw(t.databaseId,e.path)}function dv(t,e){const n=X2(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(ej(n))}function J2(t,e){return bw(t.databaseId,e)}function V7(t){const e=X2(t);return e.length===4?Dt.emptyPath():ej(e)}function Y0(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ej(t){return xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function nT(t,e,n){return{name:Q0(t,e),fields:n.value.mapValue.fields}}function F7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Be(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,p){return h.useProto3Json?(xt(p===void 0||typeof p=="string",58123),Bn.fromBase64String(p||"")):(xt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Bn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const p=h.code===void 0?ae.UNKNOWN:K2(h.code);return new Se(p,h.message||"")}(l);n=new Q2(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=dv(t,r.document.name),i=_i(r.document.updateTime),l=r.document.createTime?_i(r.document.createTime):We.min(),c=new Tr({mapValue:{fields:r.document.fields}}),d=er.newFoundDocument(s,i,l,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Vm(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=dv(t,r.document),i=r.readTime?_i(r.readTime):We.min(),l=er.newNoDocument(s,i),c=r.removedTargetIds||[];n=new Vm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=dv(t,r.document),i=r.removedTargetIds||[];n=new Vm([],i,s,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,l=new P7(s,i),c=r.targetId;n=new Z2(c,l)}}return n}function z7(t,e){let n;if(e instanceof Jh)n={update:nT(t,e.key,e.value)};else if(e instanceof xw)n={delete:Q0(t,e.key)};else if(e instanceof xa)n={update:nT(t,e.key,e.data),updateMask:Z7(e.fieldMask)};else{if(!(e instanceof S7))return Be(16599,{ft:e.type});n={verify:Q0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const c=l.transform;if(c instanceof Sh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ch)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof kh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ip)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Be(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:O7(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Be(27497)}(t,e.precondition)),n}function B7(t,e){return t&&t.length>0?(xt(e!==void 0,14353),t.map(n=>function(s,i){let l=s.updateTime?_i(s.updateTime):_i(i);return l.isEqual(We.min())&&(l=_i(i)),new E7(l,s.transformResults||[])}(n,e))):[]}function U7(t,e){return{documents:[J2(t,e.path)]}}function $7(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=J2(t,s);const i=function(h){if(h.length!==0)return nj(Ws.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const l=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:Jl(y.field),direction:W7(y.dir)}}(p))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=K0(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:s}}function q7(t){let e=V7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xt(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=function(g){const y=tj(g);return y instanceof Ws&&j2(y)?y.getFilters():[y]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(y=>function(N){return new Th(ec(N.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(g){let y;return y=typeof g=="object"?g.value:g,Sg(y)?null:y}(n.limit));let d=null;n.startAt&&(d=function(g){const y=!!g.before,w=g.values||[];return new Pp(w,y)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const y=!g.before,w=g.values||[];return new Pp(w,y)}(n.endAt)),c7(e,s,l,i,c,"F",d,h)}function H7(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ec(n.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ec(n.unaryFilter.field);return dn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ec(n.unaryFilter.field);return dn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ec(n.unaryFilter.field);return dn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(t):t.fieldFilter!==void 0?function(n){return dn.create(ec(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ws.create(n.compositeFilter.filters.map(r=>tj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(n.compositeFilter.op))}(t):Be(30097,{filter:t})}function W7(t){return R7[t]}function G7(t){return M7[t]}function K7(t){return D7[t]}function Jl(t){return{fieldPath:t.canonicalString()}}function ec(t){return On.fromServerFormat(t.fieldPath)}function nj(t){return t instanceof dn?function(n){if(n.op==="=="){if($N(n.value))return{unaryFilter:{field:Jl(n.field),op:"IS_NAN"}};if(UN(n.value))return{unaryFilter:{field:Jl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($N(n.value))return{unaryFilter:{field:Jl(n.field),op:"IS_NOT_NAN"}};if(UN(n.value))return{unaryFilter:{field:Jl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jl(n.field),op:G7(n.op),value:n.value}}}(t):t instanceof Ws?function(n){const r=n.getFilters().map(s=>nj(s));return r.length===1?r[0]:{compositeFilter:{op:K7(n.op),filters:r}}}(t):Be(54877,{filter:t})}function Z7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,r,s,i=We.min(),l=We.min(),c=Bn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new zo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e){this.wt=e}}function Y7(t){const e=q7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?G0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(){this.Cn=new J7}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(oa.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(oa.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class J7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new wn(Dt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sj=41943040;class br{static withCacheSize(e){return new br(e,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(sj,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Yc(0)}static lr(){return new Yc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="LruGarbageCollector",e$=1048576;function iT([t,e],[n,r]){const s=et(t,n);return s===0?et(e,r):s}class t${constructor(e){this.Er=e,this.buffer=new wn(iT),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class n${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ne(sT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_u(n)?Ne(sT,"Ignoring IndexedDB error during garbage collection: ",n):await xu(n)}await this.mr(3e5)})}}class r${constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Tg.le);const r=new t$(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(rT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rT):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,l,c,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,n))).next(g=>(i=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Yl()<=at.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${i} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g})))}}function s$(t,e){return new r$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.changes=new bl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Gd(r.mutation,s,Hr.empty(),_n.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=lt()){const s=Oa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let l=wd();return i.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Oa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,lt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let i=io();const l=Wd(),c=function(){return Wd()}();return n.forEach((d,h)=>{const p=r.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof xa)?i=i.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Gd(p.mutation,h,p.mutation.getFieldMask(),_n.now())):l.set(h.key,Hr.empty())}),this.recalculateAndSaveOverlays(e,i).next(d=>(d.forEach((h,p)=>l.set(h,p)),n.forEach((h,p)=>{var g;return c.set(h,new o$(p,(g=l.get(h))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Wd();let s=new Kt((l,c)=>l-c),i=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let p=r.get(d)||Hr.empty();p=c.applyToLocalView(h,p),r.set(d,p);const g=(s.get(c.batchId)||lt()).add(d);s=s.insert(c.batchId,g)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,p=d.value,g=z2();p.forEach(y=>{if(!i.has(y)){const w=W2(n.get(y),r.get(y));w!==null&&g.set(y,w),i=i.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return le.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return De.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):D2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):le.resolve(Oa());let c=wh,d=i;return l.next(h=>le.forEach(h,(p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),i.get(p)?le.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{d=d.insert(p,y)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,d,h,lt())).next(p=>({batchId:c,changes:F2(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(r=>{let s=wd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let l=wd();return this.indexManager.getCollectionParents(e,i).next(c=>le.forEach(c,d=>{const h=function(g,y){return new wu(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(p=>{p.forEach((g,y)=>{l=l.insert(g,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(l=>{i.forEach((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,er.newInvalidDocument(p)))});let c=wd();return l.forEach((d,h)=>{const p=i.get(d);p!==void 0&&Gd(p.mutation,h,Hr.empty(),_n.now()),Ig(n,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return le.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:_i(s.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:Y7(s.bundledQuery),readTime:_i(s.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(){this.overlays=new Kt(De.comparator),this.Qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oa();return le.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const s=Oa(),i=n.length+1,l=new De(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&d.largestBatchId>r&&s.set(d.getKey(),d)}return le.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Kt((h,p)=>h-p);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=i.get(h.largestBatchId);p===null&&(p=Oa(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Oa(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,p)=>c.set(h,p)),!(c.size()>=s)););return le.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new k7(n,r));let i=this.Qr.get(n);i===void 0&&(i=lt(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.$r=new wn(Cn.Ur),this.Kr=new wn(Cn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Cn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Cn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new De(new Dt([])),r=new Cn(n,e),s=new Cn(n,e+1),i=[];return this.Kr.forEachInRange([r,s],l=>{this.zr(l),i.push(l.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new De(new Dt([])),r=new Cn(n,e),s=new Cn(n,e+1);let i=lt();return this.Kr.forEachInRange([r,s],l=>{i=i.add(l.key)}),i}containsKey(e){const n=new Cn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Cn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return De.comparator(e.key,n.key)||et(e.Zr,n.Zr)}static Wr(e,n){return et(e.Zr,n.Zr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new wn(Cn.Ur)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new C7(i,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Xr=this.Xr.add(new Cn(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return le.resolve(l)}lookupMutationBatch(e,n){return le.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return le.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?fw:this.nr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Cn(n,0),s=new Cn(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],l=>{const c=this.ei(l.Zr);i.push(c)}),le.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(et);return n.forEach(s=>{const i=new Cn(s,0),l=new Cn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,l],c=>{r=r.add(c.Zr)})}),le.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;De.isDocumentKey(i)||(i=i.child(""));const l=new Cn(new De(i),0);let c=new wn(et);return this.Xr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(d.Zr)),!0)},l),le.resolve(this.ni(c))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return le.forEach(n.mutations,s=>{const i=new Cn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Cn(n,0),s=this.Xr.firstAfterOrEqual(r);return le.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e){this.ii=e,this.docs=function(){return new Kt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,l=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():er.newInvalidDocument(n))}getEntries(e,n){let r=io();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():er.newInvalidDocument(s))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=io();const l=n.path,c=new De(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||BU(zU(p),r)<=0||(s.has(p.key)||Ig(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Be(9500)}si(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new f$(this)}getSize(e){return le.resolve(this.size)}}class f$ extends i${constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e){this.persistence=e,this.oi=new bl(n=>gw(n),yw),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this._i=0,this.ai=new Ew,this.targetCount=0,this.ui=Yc.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),le.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Yc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Tr(n),le.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.oi.delete(l),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),le.waitFor(i).next(()=>s)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(l=>{i.push(s.markPotentiallyOrphaned(e,l))}),le.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n){this.ci={},this.overlays={},this.li=new Tg(0),this.hi=!1,this.hi=!0,this.Pi=new u$,this.referenceDelegate=e(this),this.Ti=new m$(this),this.indexManager=new X7,this.remoteDocumentCache=function(s){return new h$(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Q7(n),this.Ei=new l$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new d$(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const s=new p$(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return le.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class p$ extends $U{constructor(e){super(),this.currentSequenceNumber=e}}class Nw{constructor(e){this.persistence=e,this.Vi=new Ew,this.mi=null}static fi(e){return new Nw(e)}get gi(){if(this.mi)return this.mi;throw Be(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.gi,r=>{const s=De.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,We.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return le.or([()=>le.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Ap{constructor(e,n){this.persistence=e,this.yi=new bl(r=>WU(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=s$(this,n)}static fi(e,n){return new Ap(e,n)}di(){}Ai(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return le.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?le.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,l=>this.Dr(e,l,n).next(c=>{c||(r++,i.removeEntry(l,We.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),le.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dm(e.data.value)),n}Dr(e,n,r){return le.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return le.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=lt(),s=lt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Tw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return k9()?8:qU(ir())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(l=>{i.result=l}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(l=>{i.result=l})}).next(()=>{if(i.result)return;const l=new g$;return this.Ss(e,n,l).next(c=>{if(i.result=c,this.fs)return this.Ds(e,n,l,c.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Yl()<=at.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Xl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),le.resolve()):(Yl()<=at.DEBUG&&Ne("QueryEngine","Query:",Xl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Yl()<=at.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Xl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(n))):le.resolve())}ws(e,n){if(GN(n))return le.resolve(null);let r=xi(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=G0(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const l=lt(...i);return this.ys.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.vs(n,c);return this.Cs(n,h,l,d.readTime)?this.ws(e,G0(n,null,"F")):this.Fs(e,h,n,d)}))})))}bs(e,n,r,s){return GN(n)||s.isEqual(We.min())?le.resolve(null):this.ys.getDocuments(e,r).next(i=>{const l=this.vs(n,i);return this.Cs(n,l,r,s)?le.resolve(null):(Yl()<=at.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xl(n)),this.Fs(e,l,n,FU(s,wh)).next(c=>c))})}vs(e,n){let r=new wn(O2(e));return n.forEach((s,i)=>{Ig(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Yl()<=at.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Xl(n)),this.ys.getDocumentsMatchingQuery(e,n,oa.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(l=>{i=i.insert(l.key,l)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="LocalStore",v$=3e8;class x${constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Kt(et),this.Os=new bl(i=>gw(i),yw),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a$(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function _$(t,e,n,r){return new x$(t,e,n,r)}async function oj(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const l=[],c=[];let d=lt();for(const h of s){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of i){c.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next(h=>({ks:h,removedBatchIds:l,addedBatchIds:c}))})})}function w$(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(c,d,h,p){const g=h.batch,y=g.keys();let w=le.resolve();return y.forEach(N=>{w=w.next(()=>p.getEntry(d,N)).next(v=>{const S=h.docVersions.get(N);xt(S!==null,48541),v.version.compareTo(S)<0&&(g.applyToRemoteDocument(v,h),v.isValidDocument()&&(v.setReadTime(h.commitVersion),p.addEntry(v)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=lt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function aj(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function b$(t,e){const n=He(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const l=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const c=[];e.targetChanges.forEach((p,g)=>{const y=s.get(g);if(!y)return;c.push(n.Ti.removeMatchingKeys(i,p.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(i,p.addedDocuments,g)));let w=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(Bn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),s=s.insert(g,w),function(v,S,E){return v.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=v$?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(y,w,p)&&c.push(n.Ti.updateTargetData(i,w))});let d=io(),h=lt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))}),c.push(E$(i,l,e.documentUpdates).next(p=>{d=p.qs,h=p.Qs})),!r.isEqual(We.min())){const p=n.Ti.getLastRemoteSnapshotVersion(i).next(g=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(p)}return le.waitFor(c).next(()=>l.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,d,h)).next(()=>d)}).then(i=>(n.xs=s,i))}function E$(t,e,n){let r=lt(),s=lt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let l=io();return n.forEach((c,d)=>{const h=i.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(We.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Ne(Sw,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{qs:l,Qs:s}})}function N$(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function T$(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,le.resolve(s)):n.Ti.allocateTargetId(r).next(l=>(s=new zo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function X0(t,e,n){const r=He(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!_u(l))throw l;Ne(Sw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function oT(t,e,n){const r=He(t);let s=We.min(),i=lt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,p){const g=He(d),y=g.Os.get(p);return y!==void 0?le.resolve(g.xs.get(y)):g.Ti.getTargetData(h,p)}(r,l,xi(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,c.targetId).next(d=>{i=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,n?s:We.min(),n?i:lt())).next(c=>(S$(r,d7(e),c),{documents:c,$s:i})))}function S$(t,e,n){let r=t.Ns.get(e)||We.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class aT{constructor(){this.activeTargetIds=y7()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C${constructor(){this.xo=new aT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new aT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="ConnectivityMonitor";class cT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ne(lT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ne(lT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm=null;function J0(){return cm===null?cm=function(){return 268435456+Math.round(2147483648*Math.random())}():cm++,"0x"+cm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="RestConnection",P$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class I${get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Cp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const l=J0(),c=this.jo(e,n.toUriEncodedString());Ne(hv,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,s,i);const{host:h}=new URL(c),p=pu(h);return this.Jo(e,c,d,r,p).then(g=>(Ne(hv,`Received RPC '${e}' ${l}: `,g),g),g=>{throw Gc(hv,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",r),g})}Yo(e,n,r,s,i,l){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=P$[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class A$ extends I${constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const l=J0();return new Promise((c,d)=>{const h=new u2;h.setWithCredentials(!0),h.listenOnce(d2.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Mm.NO_ERROR:const g=h.getResponseJson();Ne(Qn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case Mm.TIMEOUT:Ne(Qn,`RPC '${e}' ${l} timed out`),d(new Se(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Mm.HTTP_ERROR:const y=h.getStatus();if(Ne(Qn,`RPC '${e}' ${l} failed with status:`,y,"response text:",h.getResponseText()),y>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const N=w==null?void 0:w.error;if(N&&N.status&&N.message){const v=function(E){const T=E.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(T)>=0?T:ae.UNKNOWN}(N.status);d(new Se(v,N.message))}else d(new Se(ae.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Se(ae.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{h_:e,streamId:l,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{Ne(Qn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(s);Ne(Qn,`RPC '${e}' ${l} sending request:`,s),h.send(n,"POST",p,r,15)})}I_(e,n,r){const s=J0(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=m2(),c=f2(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=i.join("");Ne(Qn,`Creating RPC '${e}' stream ${s}: ${p}`,d);const g=l.createWebChannel(p,d);this.E_(g);let y=!1,w=!1;const N=new j$({Zo:S=>{w?Ne(Qn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(y||(Ne(Qn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),Ne(Qn,`RPC '${e}' stream ${s} sending:`,S),g.send(S))},Xo:()=>g.close()}),v=(S,E,T)=>{S.listen(E,C=>{try{T(C)}catch(R){setTimeout(()=>{throw R},0)}})};return v(g,_d.EventType.OPEN,()=>{w||(Ne(Qn,`RPC '${e}' stream ${s} transport opened.`),N.__())}),v(g,_d.EventType.CLOSE,()=>{w||(w=!0,Ne(Qn,`RPC '${e}' stream ${s} transport closed`),N.u_(),this.d_(g))}),v(g,_d.EventType.ERROR,S=>{w||(w=!0,Gc(Qn,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),N.u_(new Se(ae.UNAVAILABLE,"The operation could not be completed")))}),v(g,_d.EventType.MESSAGE,S=>{var E;if(!w){const T=S.data[0];xt(!!T,16349);const C=T,R=(C==null?void 0:C.error)||((E=C[0])===null||E===void 0?void 0:E.error);if(R){Ne(Qn,`RPC '${e}' stream ${s} received error:`,R);const F=R.status;let U=function(A){const D=ln[A];if(D!==void 0)return K2(D)}(F),j=R.message;U===void 0&&(U=ae.INTERNAL,j="Unknown error status: "+F+" with message "+R.message),w=!0,N.u_(new Se(U,j)),g.close()}else Ne(Qn,`RPC '${e}' stream ${s} received:`,T),N.c_(T)}}),v(c,h2.STAT_EVENT,S=>{S.stat===z0.PROXY?Ne(Qn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===z0.NOPROXY&&Ne(Qn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{N.a_()},0),N}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function fv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t){return new L7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="PersistentStream";class cj{constructor(e,n,r,s,i,l,c,d){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new lj(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(so(n.toString()),so("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new Se(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ne(uT,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Ne(uT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R$ extends cj{constructor(e,n,r,s,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=F7(this.serializer,e),r=function(i){if(!("targetChange"in i))return We.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?We.min():l.readTime?_i(l.readTime):We.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Y0(this.serializer),n.addTarget=function(i,l){let c;const d=l.target;if(c=H0(d)?{documents:U7(i,d)}:{query:$7(i,d).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Y2(i,l.resumeToken);const h=K0(i,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(We.min())>0){c.readTime=jp(i,l.snapshotVersion.toTimestamp());const h=K0(i,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=H7(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Y0(this.serializer),n.removeTarget=e,this.Q_(n)}}class M$ extends cj{constructor(e,n,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=B7(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Y0(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>z7(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${}class L$ extends D${constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.zo(e,Z0(n,r),s,i,l)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(ae.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(e,Z0(n,r),s,l,c,i)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(ae.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class O${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(so(n),this.ua=!1):Ne("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="RemoteStore";class V${constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(l=>{r.enqueueAndForget(async()=>{El(this)&&(Ne(ul,"Restarting streams for network reachability change."),await async function(d){const h=He(d);h.da.add(4),await bu(h),h.Va.set("Unknown"),h.da.delete(4),await tf(h)}(this))})}),this.Va=new O$(r,s)}}async function tf(t){if(El(t))for(const e of t.Aa)await e(!0)}async function bu(t){for(const e of t.Aa)await e(!1)}function uj(t,e){const n=He(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Iw(n)?Pw(n):Eu(n).N_()&&kw(n,e))}function Cw(t,e){const n=He(t),r=Eu(n);n.Ea.delete(e),r.N_()&&dj(n,e),n.Ea.size===0&&(r.N_()?r.k_():El(n)&&n.Va.set("Unknown"))}function kw(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eu(t).Z_(e)}function dj(t,e){t.ma.Ke(e),Eu(t).X_(e)}function Pw(t){t.ma=new A7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Eu(t).start(),t.Va.ca()}function Iw(t){return El(t)&&!Eu(t).O_()&&t.Ea.size>0}function El(t){return He(t).da.size===0}function hj(t){t.ma=void 0}async function F$(t){t.Va.set("Online")}async function z$(t){t.Ea.forEach((e,n)=>{kw(t,e)})}async function B$(t,e){hj(t),Iw(t)?(t.Va.Pa(e),Pw(t)):t.Va.set("Unknown")}async function U$(t,e,n){if(t.Va.set("Online"),e instanceof Q2&&e.state===2&&e.cause)try{await async function(s,i){const l=i.cause;for(const c of i.targetIds)s.Ea.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ea.delete(c),s.ma.removeTarget(c))}(t,e)}catch(r){Ne(ul,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rp(t,r)}else if(e instanceof Vm?t.ma.Xe(e):e instanceof Z2?t.ma.ot(e):t.ma.nt(e),!n.isEqual(We.min()))try{const r=await aj(t.localStore);n.compareTo(r)>=0&&await function(i,l){const c=i.ma.It(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=i.Ea.get(h);p&&i.Ea.set(h,p.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const p=i.Ea.get(d);if(!p)return;i.Ea.set(d,p.withResumeToken(Bn.EMPTY_BYTE_STRING,p.snapshotVersion)),dj(i,d);const g=new zo(p.target,d,h,p.sequenceNumber);kw(i,g)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Ne(ul,"Failed to raise snapshot:",r),await Rp(t,r)}}async function Rp(t,e,n){if(!_u(e))throw e;t.da.add(1),await bu(t),t.Va.set("Offline"),n||(n=()=>aj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne(ul,"Retrying IndexedDB access"),await n(),t.da.delete(1),await tf(t)})}function fj(t,e){return e().catch(n=>Rp(t,n,e))}async function Dg(t){const e=He(t),n=ua(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:fw;for(;$$(e);)try{const s=await N$(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,q$(e,s)}catch(s){await Rp(e,s)}mj(e)&&pj(e)}function $$(t){return El(t)&&t.Ia.length<10}function q$(t,e){t.Ia.push(e);const n=ua(t);n.N_()&&n.ea&&n.ta(e.mutations)}function mj(t){return El(t)&&!ua(t).O_()&&t.Ia.length>0}function pj(t){ua(t).start()}async function H$(t){ua(t).ia()}async function W$(t){const e=ua(t);for(const n of t.Ia)e.ta(n.mutations)}async function G$(t,e,n){const r=t.Ia.shift(),s=_w.from(r,e,n);await fj(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Dg(t)}async function K$(t,e){e&&ua(t).ea&&await async function(r,s){if(function(l){return I7(l)&&l!==ae.ABORTED}(s.code)){const i=r.Ia.shift();ua(r).L_(),await fj(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Dg(r)}}(t,e),mj(t)&&pj(t)}async function dT(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Ne(ul,"RemoteStore received new credentials");const r=El(n);n.da.add(3),await bu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await tf(n)}async function Z$(t,e){const n=He(t);e?(n.da.delete(2),await tf(n)):e||(n.da.add(2),await bu(n),n.Va.set("Unknown"))}function Eu(t){return t.fa||(t.fa=function(n,r,s){const i=He(n);return i.oa(),new R$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:F$.bind(null,t),n_:z$.bind(null,t),i_:B$.bind(null,t),Y_:U$.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Iw(t)?Pw(t):t.Va.set("Unknown")):(await t.fa.stop(),hj(t))})),t.fa}function ua(t){return t.ga||(t.ga=function(n,r,s){const i=He(n);return i.oa(),new M$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:H$.bind(null,t),i_:K$.bind(null,t),na:W$.bind(null,t),ra:G$.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Dg(t)):(await t.ga.stop(),t.Ia.length>0&&(Ne(ul,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const l=Date.now()+r,c=new jw(e,n,l,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Aw(t,e){if(so("AsyncQueue",`${e}: ${t}`),_u(t))return new Se(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{static emptySet(e){return new Sc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=wd(),this.sortedSet=new Kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.pa=new Kt(De.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Be(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xc{constructor(e,n,r,s,i,l,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Xc(e,n,Sc.emptySet(n),l,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Y${constructor(){this.queries=fT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=He(n),i=s.queries;s.queries=fT(),i.forEach((l,c)=>{for(const d of c.Sa)d.onError(r)})})(this,new Se(ae.ABORTED,"Firestore shutting down"))}}function fT(){return new bl(t=>L2(t),Pg)}async function Rw(t,e){const n=He(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new Q$,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=Aw(l,`Initialization of query '${Xl(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&Dw(n)}async function Mw(t,e){const n=He(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const l=i.Sa.indexOf(e);l>=0&&(i.Sa.splice(l,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function X$(t,e){const n=He(t);let r=!1;for(const s of e){const i=s.query,l=n.queries.get(i);if(l){for(const c of l.Sa)c.Ma(s)&&(r=!0);l.ba=s}}r&&Dw(n)}function J$(t,e,n){const r=He(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Dw(t){t.Ca.forEach(e=>{e.next()})}var ex,mT;(mT=ex||(ex={})).xa="default",mT.Cache="cache";class Lw{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==ex.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.key=e}}class yj{constructor(e){this.key=e}}class eq{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=lt(),this.mutatedKeys=lt(),this.Za=O2(e),this.Xa=new Sc(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new hT,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,g)=>{const y=s.get(p),w=Ig(this.query,g)?g:null,N=!!y&&this.mutatedKeys.has(y.key),v=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;y&&w?y.data.isEqual(w.data)?N!==v&&(r.track({type:3,doc:w}),S=!0):this.ru(y,w)||(r.track({type:2,doc:w}),S=!0,(d&&this.Za(w,d)>0||h&&this.Za(w,h)<0)&&(c=!0)):!y&&w?(r.track({type:0,doc:w}),S=!0):y&&!w&&(r.track({type:1,doc:y}),S=!0,(d||h)&&(c=!0)),S&&(w?(l=l.add(w),i=v?i.add(p):i.delete(p)):(l=l.delete(p),i=i.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{Xa:l,nu:r,Cs:c,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((p,g)=>function(w,N){const v=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:S})}};return v(w)-v(N)}(p.type,g.type)||this.Za(p.doc,g.doc)),this.iu(r),s=s!=null&&s;const c=n&&!s?this.su():[],d=this.Ya.size===0&&this.current&&!s?1:0,h=d!==this.Ja;return this.Ja=d,l.length!==0||h?{snapshot:new Xc(this.query,e.Xa,i,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new hT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=lt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new yj(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new gj(r))}),n}au(e){this.Ha=e.$s,this.Ya=lt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Xc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Ow="SyncEngine";class tq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nq{constructor(e){this.key=e,this.cu=!1}}class rq{constructor(e,n,r,s,i,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new bl(c=>L2(c),Pg),this.Pu=new Map,this.Tu=new Set,this.Iu=new Kt(De.comparator),this.Eu=new Map,this.du=new Ew,this.Au={},this.Ru=new Map,this.Vu=Yc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function sq(t,e,n=!0){const r=Ej(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await vj(r,e,n,!0),s}async function iq(t,e){const n=Ej(t);await vj(n,e,!0,!1)}async function vj(t,e,n,r){const s=await T$(t.localStore,xi(e)),i=s.targetId,l=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await oq(t,e,i,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&uj(t.remoteStore,s),c}async function oq(t,e,n,r,s){t.fu=(g,y,w)=>async function(v,S,E,T){let C=S.view.tu(E);C.Cs&&(C=await oT(v.localStore,S.query,!1).then(({documents:j})=>S.view.tu(j,C)));const R=T&&T.targetChanges.get(S.targetId),F=T&&T.targetMismatches.get(S.targetId)!=null,U=S.view.applyChanges(C,v.isPrimaryClient,R,F);return gT(v,S.targetId,U.ou),U.snapshot}(t,g,y,w);const i=await oT(t.localStore,e,!0),l=new eq(e,i.$s),c=l.tu(i.documents),d=ef.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=l.applyChanges(c,t.isPrimaryClient,d);gT(t,n,h.ou);const p=new tq(e,n,l);return t.hu.set(e,p),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),h.snapshot}async function aq(t,e,n){const r=He(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(l=>!Pg(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await X0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Cw(r.remoteStore,s.targetId),tx(r,s.targetId)}).catch(xu)):(tx(r,s.targetId),await X0(r.localStore,s.targetId,!0))}async function lq(t,e){const n=He(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cw(n.remoteStore,r.targetId))}async function cq(t,e,n){const r=gq(t);try{const s=await function(l,c){const d=He(l),h=_n.now(),p=c.reduce((w,N)=>w.add(N.key),lt());let g,y;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let N=io(),v=lt();return d.Bs.getEntries(w,p).next(S=>{N=S,N.forEach((E,T)=>{T.isValidDocument()||(v=v.add(E))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,N)).next(S=>{g=S;const E=[];for(const T of c){const C=T7(T,g.get(T.key).overlayedDocument);C!=null&&E.push(new xa(T.key,C,k2(C.value.mapValue),ys.exists(!0)))}return d.mutationQueue.addMutationBatch(w,h,E,c)}).next(S=>{y=S;const E=S.applyToLocalDocumentSet(g,v);return d.documentOverlayCache.saveOverlays(w,S.batchId,E)})}).then(()=>({batchId:y.batchId,changes:F2(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let h=l.Au[l.currentUser.toKey()];h||(h=new Kt(et)),h=h.insert(c,d),l.Au[l.currentUser.toKey()]=h}(r,s.batchId,n),await nf(r,s.changes),await Dg(r.remoteStore)}catch(s){const i=Aw(s,"Failed to persist write");n.reject(i)}}async function xj(t,e){const n=He(t);try{const r=await b$(n.localStore,e);e.targetChanges.forEach((s,i)=>{const l=n.Eu.get(i);l&&(xt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.cu=!0:s.modifiedDocuments.size>0?xt(l.cu,14607):s.removedDocuments.size>0&&(xt(l.cu,42227),l.cu=!1))}),await nf(n,r,e)}catch(r){await xu(r)}}function pT(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,l)=>{const c=l.view.Fa(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=He(l);d.onlineState=c;let h=!1;d.queries.forEach((p,g)=>{for(const y of g.Sa)y.Fa(c)&&(h=!0)}),h&&Dw(d)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uq(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let l=new Kt(De.comparator);l=l.insert(i,er.newNoDocument(i,We.min()));const c=lt().add(i),d=new Rg(We.min(),new Map,new Kt(et),l,c);await xj(r,d),r.Iu=r.Iu.remove(i),r.Eu.delete(e),Vw(r)}else await X0(r.localStore,e,!1).then(()=>tx(r,e,n)).catch(xu)}async function dq(t,e){const n=He(t),r=e.batch.batchId;try{const s=await w$(n.localStore,e);wj(n,r,null),_j(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nf(n,s)}catch(s){await xu(s)}}async function hq(t,e,n){const r=He(t);try{const s=await function(l,c){const d=He(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return d.mutationQueue.lookupMutationBatch(h,c).next(g=>(xt(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>d.localDocuments.getDocuments(h,p))})}(r.localStore,e);wj(r,e,n),_j(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nf(r,s)}catch(s){await xu(s)}}function _j(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function wj(t,e,n){const r=He(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function tx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||bj(t,r)})}function bj(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Cw(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Vw(t))}function gT(t,e,n){for(const r of n)r instanceof gj?(t.du.addReference(r.key,e),fq(t,r)):r instanceof yj?(Ne(Ow,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||bj(t,r.key)):Be(19791,{pu:r})}function fq(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Ne(Ow,"New document in limbo: "+n),t.Tu.add(r),Vw(t))}function Vw(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new De(Dt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new nq(n)),t.Iu=t.Iu.insert(n,r),uj(t.remoteStore,new zo(xi(kg(n.path)),r,"TargetPurposeLimboResolution",Tg.le))}}async function nf(t,e,n){const r=He(t),s=[],i=[],l=[];r.hu.isEmpty()||(r.hu.forEach((c,d)=>{l.push(r.fu(d,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){s.push(h);const g=Tw.Rs(d.targetId,h);i.push(g)}}))}),await Promise.all(l),r.lu.Y_(s),await async function(d,h){const p=He(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>le.forEach(h,y=>le.forEach(y.ds,w=>p.persistence.referenceDelegate.addReference(g,y.targetId,w)).next(()=>le.forEach(y.As,w=>p.persistence.referenceDelegate.removeReference(g,y.targetId,w)))))}catch(g){if(!_u(g))throw g;Ne(Sw,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const w=p.xs.get(y),N=w.snapshotVersion,v=w.withLastLimboFreeSnapshotVersion(N);p.xs=p.xs.insert(y,v)}}}(r.localStore,i))}async function mq(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Ne(Ow,"User change. New user:",e.toKey());const r=await oj(n.localStore,e);n.currentUser=e,function(i,l){i.Ru.forEach(c=>{c.forEach(d=>{d.reject(new Se(ae.CANCELLED,l))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nf(n,r.ks)}}function pq(t,e){const n=He(t),r=n.Eu.get(e);if(r&&r.cu)return lt().add(r.key);{let s=lt();const i=n.Pu.get(e);if(!i)return s;for(const l of i){const c=n.hu.get(l);s=s.unionWith(c.view.eu)}return s}}function Ej(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uq.bind(null,e),e.lu.Y_=X$.bind(null,e.eventManager),e.lu.gu=J$.bind(null,e.eventManager),e}function gq(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hq.bind(null,e),e}class Mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mg(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return _$(this.persistence,new y$,e.initialUser,this.serializer)}Su(e){return new ij(Nw.fi,this.serializer)}bu(e){return new C$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mp.provider={build:()=>new Mp};class yq extends Mp{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){xt(this.persistence.referenceDelegate instanceof Ap,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new n$(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new ij(r=>Ap.fi(r,n),this.serializer)}}class nx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mq.bind(null,this.syncEngine),await Z$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Y$}()}createDatastore(e){const n=Mg(e.databaseInfo.databaseId),r=function(i){return new A$(i)}(e.databaseInfo);return function(i,l,c,d){return new L$(i,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,l,c){return new V$(r,s,i,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>pT(this.syncEngine,n,0),function(){return cT.C()?new cT:new k$}())}createSyncEngine(e,n){return function(s,i,l,c,d,h,p){const g=new rq(s,i,l,c,d,h);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=He(s);Ne(ul,"RemoteStore shutting down."),i.da.add(5),await bu(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nx.provider={build:()=>new nx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):so("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="FirestoreClient";class vq{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Xn.UNAUTHENTICATED,this.clientId=v2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async l=>{Ne(da,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Ne(da,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Aw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mv(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(da,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await oj(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Nj(t);Ne(da,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>dT(e.remoteStore,s)),t._onlineComponents=e}async function Nj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(da,"Using user provided OfflineComponentProvider");try{await mv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Gc("Error using user provided cache. Falling back to memory cache: "+n),await mv(t,new Mp)}}else Ne(da,"Using default OfflineComponentProvider"),await mv(t,new yq(void 0));return t._offlineComponents}async function zw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(da,"Using user provided OnlineComponentProvider"),await yT(t,t._uninitializedComponentsProvider._online)):(Ne(da,"Using default OnlineComponentProvider"),await yT(t,new nx))),t._onlineComponents}function Tj(t){return Nj(t).then(e=>e.persistence)}function Sj(t){return zw(t).then(e=>e.remoteStore)}function xq(t){return zw(t).then(e=>e.syncEngine)}async function Dp(t){const e=await zw(t),n=e.eventManager;return n.onListen=sq.bind(null,e.syncEngine),n.onUnlisten=aq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lq.bind(null,e.syncEngine),n}function _q(t){return t.asyncQueue.enqueue(async()=>{const e=await Tj(t),n=await Sj(t);return e.setNetworkEnabled(!0),function(s){const i=He(s);return i.da.delete(0),tf(i)}(n)})}function wq(t){return t.asyncQueue.enqueue(async()=>{const e=await Tj(t),n=await Sj(t);return e.setNetworkEnabled(!1),async function(s){const i=He(s);i.da.add(0),await bu(i),i.Va.set("Offline")}(n)})}function bq(t,e,n={}){const r=new Zi;return t.asyncQueue.enqueueAndForget(async()=>function(i,l,c,d,h){const p=new Fw({next:y=>{p.xu(),l.enqueueAndForget(()=>Mw(i,g));const w=y.docs.has(c);!w&&y.fromCache?h.reject(new Se(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&d&&d.source==="server"?h.reject(new Se(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new Lw(kg(c.path),p,{includeMetadataChanges:!0,Qa:!0});return Rw(i,g)}(await Dp(t),t.asyncQueue,e,n,r)),r.promise}function Eq(t,e,n={}){const r=new Zi;return t.asyncQueue.enqueueAndForget(async()=>function(i,l,c,d,h){const p=new Fw({next:y=>{p.xu(),l.enqueueAndForget(()=>Mw(i,g)),y.fromCache&&d.source==="server"?h.reject(new Se(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new Lw(c,p,{includeMetadataChanges:!0,Qa:!0});return Rw(i,g)}(await Dp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t,e,n){if(!n)throw new Se(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Nq(t,e,n,r){if(e===!0&&r===!0)throw new Se(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xT(t){if(!De.isDocumentKey(t))throw new Se(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _T(t){if(De.isDocumentKey(t))throw new Se(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lg(t);throw new Se(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj="firestore.googleapis.com",wT=!0;class bT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pj,this.ssl=wT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:wT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e$)throw new Se(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Og{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IU;switch(r.type){case"firstParty":return new MU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=vT.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),vT.delete(n),r.terminate())}(this),Promise.resolve()}}function Tq(t,e,n,r={}){var s;t=nr(t,Og);const i=pu(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;i&&(pI(`https://${d}`),gI("Firestore",!0)),l.host!==Pj&&l.host!==d&&Gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:d,ssl:i,emulatorOptions:r});if(!sl(h,c)&&(t._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Xn.MOCK_USER;else{p=x9(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Se(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Xn(y)}t._authCredentials=new jU(new g2(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}}class ea extends _a{constructor(e,n,r){super(e,n,kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new De(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function hi(t,e,...n){if(t=Ot(t),kj("collection","path",e),t instanceof Og){const r=Dt.fromString(e,...n);return _T(r),new ea(t,null,r)}{if(!(t instanceof rr||t instanceof ea))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return _T(r),new ea(t.firestore,null,r)}}function Ln(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=v2.newId()),kj("doc","path",e),t instanceof Og){const r=Dt.fromString(e,...n);return xT(r),new rr(t,null,new De(r))}{if(!(t instanceof rr||t instanceof ea))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return xT(r),new rr(t.firestore,t instanceof ea?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="AsyncQueue";class NT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new lj(this,"async_queue_retry"),this.rc=()=>{const r=fv();r&&Ne(ET,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=fv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=fv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Zi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!_u(e))throw e;Ne(ET,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,so("INTERNAL UNHANDLED ERROR: ",TT(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=jw.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&Be(47125,{cc:TT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function TT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Gs extends Og{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new NT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NT(e),this._firestoreClient=void 0,await e}}}function Sq(t,e){const n=typeof t=="object"?t:_I(),r=typeof t=="string"?t:Cp,s=ew(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=y9("firestore");i&&Tq(s,...i)}return s}function Nu(t){if(t._terminated)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Cq(t),t._firestoreClient}function Cq(t){var e,n,r;const s=t._freezeSettings(),i=function(c,d,h,p){return new ZU(c,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Cj(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new vq(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}function kq(t){return _q(Nu(t=nr(t,Gs)))}function Pq(t){return wq(Nu(t=nr(t,Gs)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jc(Bn.fromBase64String(e))}catch(n){throw new Se(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jc(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq=/^__.*__$/;class jq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jh(e,this.data,n,this.fieldTransforms)}}class Ij{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ic:t})}}class $w{constructor(e,n,r,s,i,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new $w(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Lp(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(jj(this.Ic)&&Iq.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Aq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mg(e)}bc(e,n,r,s=!1){return new $w({Ic:e,methodName:n,wc:r,path:On.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zg(t){const e=t._freezeSettings(),n=Mg(t._databaseId);return new Aq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Aj(t,e,n,r,s,i={}){const l=t.bc(i.merge||i.mergeFields?2:0,e,n,s);Hw("Data must be an object, but it was:",l,r);const c=Rj(r,l);let d,h;if(i.merge)d=new Hr(l.fieldMask),h=l.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const y=rx(e,g,n);if(!l.contains(y))throw new Se(ae.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Dj(p,y)||p.push(y)}d=new Hr(p),h=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=l.fieldTransforms;return new jq(new Tr(c),d,h)}class Bg extends Fg{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bg}}class qw extends Fg{_toFieldTransform(e){return new w7(e.path,new Sh)}isEqual(e){return e instanceof qw}}function Rq(t,e,n,r){const s=t.bc(1,e,n);Hw("Data must be an object, but it was:",s,r);const i=[],l=Tr.empty();va(r,(d,h)=>{const p=Ww(e,d,n);h=Ot(h);const g=s.mc(p);if(h instanceof Bg)i.push(p);else{const y=rf(h,g);y!=null&&(i.push(p),l.set(p,y))}});const c=new Hr(i);return new Ij(l,c,s.fieldTransforms)}function Mq(t,e,n,r,s,i){const l=t.bc(1,e,n),c=[rx(e,r,n)],d=[s];if(i.length%2!=0)throw new Se(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)c.push(rx(e,i[y])),d.push(i[y+1]);const h=[],p=Tr.empty();for(let y=c.length-1;y>=0;--y)if(!Dj(h,c[y])){const w=c[y];let N=d[y];N=Ot(N);const v=l.mc(w);if(N instanceof Bg)h.push(w);else{const S=rf(N,v);S!=null&&(h.push(w),p.set(w,S))}}const g=new Hr(h);return new Ij(p,g,l.fieldTransforms)}function Dq(t,e,n,r=!1){return rf(n,t.bc(r?4:3,e))}function rf(t,e){if(Mj(t=Ot(t)))return Hw("Unsupported field value:",e,t),Rj(t,e);if(t instanceof Fg)return function(r,s){if(!jj(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let l=0;for(const c of r){let d=rf(c,s.fc(l));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),l++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v7(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_n.fromDate(r);return{timestampValue:jp(s.serializer,i)}}if(r instanceof _n){const i=new _n(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jp(s.serializer,i)}}if(r instanceof Bw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jc)return{bytesValue:Y2(s.serializer,r._byteString)};if(r instanceof rr){const i=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(i))throw s.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Uw)return function(l,c){return{mapValue:{fields:{[S2]:{stringValue:C2},[kp]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.gc("VectorValues must only contain numeric values.");return vw(c.serializer,h)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Lg(r)}`)}(t,e)}function Rj(t,e){const n={};return _2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(t,(r,s)=>{const i=rf(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Mj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _n||t instanceof Bw||t instanceof Jc||t instanceof rr||t instanceof Fg||t instanceof Uw)}function Hw(t,e,n){if(!Mj(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Lg(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function rx(t,e,n){if((e=Ot(e))instanceof Vg)return e._internalPath;if(typeof e=="string")return Ww(t,e);throw Lp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Lq=new RegExp("[~\\*/\\[\\]]");function Ww(t,e,n){if(e.search(Lq)>=0)throw Lp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vg(...e.split("."))._internalPath}catch{throw Lp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lp(t,e,n,r,s){const i=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(i||l)&&(d+=" (found",i&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new Se(ae.INVALID_ARGUMENT,c+t+d)}function Dj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Oq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Oq extends Lj{data(){return super.data()}}function Ug(t,e){return typeof e=="string"?Ww(t,e):e instanceof Vg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gw{}class Vj extends Gw{}function Bo(t,e,...n){let r=[];e instanceof Gw&&r.push(e),r=r.concat(n),function(i){const l=i.filter(d=>d instanceof Kw).length,c=i.filter(d=>d instanceof $g).length;if(l>1||l>0&&c>0)throw new Se(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class $g extends Vj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $g(e,n,r)}_apply(e){const n=this._parse(e);return Fj(e._query,n),new _a(e.firestore,e.converter,W0(e._query,n))}_parse(e){const n=zg(e.firestore);return function(i,l,c,d,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){kT(g,p);const N=[];for(const v of g)N.push(CT(d,i,v));y={arrayValue:{values:N}}}else y=CT(d,i,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||kT(g,p),y=Dq(c,l,g,p==="in"||p==="not-in");return dn.create(h,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qa(t,e,n){const r=e,s=Ug("where",t);return $g._create(s,r,n)}class Kw extends Gw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ws.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let l=s;const c=i.getFlattenedFilters();for(const d of c)Fj(l,d),l=W0(l,d)}(e._query,n),new _a(e.firestore,e.converter,W0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zw extends Vj{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zw(e,n)}_apply(e){const n=function(s,i,l){if(s.startAt!==null)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Th(i,l)}(e._query,this._field,this._direction);return new _a(e.firestore,e.converter,function(s,i){const l=s.explicitOrderBy.concat([i]);return new wu(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Vq(t,e="asc"){const n=e,r=Ug("orderBy",t);return Zw._create(r,n)}function CT(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new Se(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D2(e)&&n.indexOf("/")!==-1)throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dt.fromString(n));if(!De.isDocumentKey(r))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BN(t,new De(r))}if(n instanceof rr)return BN(t,n._key);throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lg(n)}.`)}function kT(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fj(t,e){const n=function(s,i){for(const l of s)for(const c of l.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Fq{convertValue(e,n="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return va(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[kp].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>rn(l.doubleValue));return new Uw(i)}convertGeoPoint(e){return new Bw(rn(e.latitude),rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bh(e));default:return null}}convertTimestamp(e){const n=aa(e);return new _n(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);xt(rj(r),9688,{name:e});const s=new Eh(r.get(1),r.get(3)),i=new De(r.popFirst(5));return s.isEqual(n)||so(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bj extends Lj{constructor(e,n,r,s,i,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ug("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fm extends Bj{data(e={}){return super.data(e)}}class Uj{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ed(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fm(this._firestore,this._userDataWriter,r.key,r,new Ed(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new Fm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ed(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const d=new Fm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ed(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:zq(c.type),doc:d,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){t=nr(t,rr);const e=nr(t.firestore,Gs);return bq(Nu(e),t._key).then(n=>qj(e,t,n))}class Qw extends Fq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,n)}}function tu(t){t=nr(t,_a);const e=nr(t.firestore,Gs),n=Nu(e),r=new Qw(e);return Oj(t._query),Eq(n,t._query).then(s=>new Uj(e,r,t,s))}function $j(t,e,n){t=nr(t,rr);const r=nr(t.firestore,Gs),s=zj(t.converter,e,n);return qg(r,[Aj(zg(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ys.none())])}function ta(t,e,n,...r){t=nr(t,rr);const s=nr(t.firestore,Gs),i=zg(s);let l;return l=typeof(e=Ot(e))=="string"||e instanceof Vg?Mq(i,"updateDoc",t._key,e,n,r):Rq(i,"updateDoc",t._key,e),qg(s,[l.toMutation(t._key,ys.exists(!0))])}function Bq(t){return qg(nr(t.firestore,Gs),[new xw(t._key,ys.none())])}function Ph(t,e){const n=nr(t.firestore,Gs),r=Ln(t),s=zj(t.converter,e);return qg(n,[Aj(zg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ys.exists(!1))]).then(()=>r)}function Uq(t,...e){var n,r,s;t=Ot(t);let i={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||ST(e[l])||(i=e[l],l++);const c={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ST(e[l])){const g=e[l];e[l]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(s=g.complete)===null||s===void 0?void 0:s.bind(g)}let d,h,p;if(t instanceof rr)h=nr(t.firestore,Gs),p=kg(t._key.path),d={next:g=>{e[l]&&e[l](qj(h,t,g))},error:e[l+1],complete:e[l+2]};else{const g=nr(t,_a);h=nr(g.firestore,Gs),p=g._query;const y=new Qw(h);d={next:w=>{e[l]&&e[l](new Uj(h,y,g,w))},error:e[l+1],complete:e[l+2]},Oj(t._query)}return function(y,w,N,v){const S=new Fw(v),E=new Lw(w,S,N);return y.asyncQueue.enqueueAndForget(async()=>Rw(await Dp(y),E)),()=>{S.xu(),y.asyncQueue.enqueueAndForget(async()=>Mw(await Dp(y),E))}}(Nu(h),p,c,d)}function qg(t,e){return function(r,s){const i=new Zi;return r.asyncQueue.enqueueAndForget(async()=>cq(await xq(r),s,i)),i.promise}(Nu(t),e)}function qj(t,e,n){const r=n.docs.get(e._key),s=new Qw(t);return new Bj(t,s,e._key,r,new Ed(n.hasPendingWrites,n.fromCache),e.converter)}function $q(){return new qw("serverTimestamp")}(function(e,n=!0){(function(s){vu=s})(yu),Wc(new il("firestore",(r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),c=new Gs(new AU(r.getProvider("auth-internal")),new DU(l,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Se(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eh(h.options.projectId,p)}(l,s),l);return i=Object.assign({useFetchStreams:n},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),Xo(PN,IN,e),Xo(PN,IN,"esm2017")})();const qq={apiKey:"AIzaSyBhiSxNUrQ4b_iwpYr4F_J1UW3XOwzsMmE",authDomain:"dsa-squad.firebaseapp.com",databaseURL:"https://dsa-squad-default-rtdb.firebaseio.com",projectId:"dsa-squad",storageBucket:"dsa-squad.firebasestorage.app",messagingSenderId:"762339454857",appId:"1:762339454857:web:bfc50ed181e2daefe2fb58",measurementId:"G-WCPR6FCESS"},Hj=xI(qq),It=kU(Hj),Tt=Sq(Hj);let Yw=navigator.onLine;window.addEventListener("online",()=>{Yw=!0,console.log("App is online"),kq(Tt).catch(console.error)});window.addEventListener("offline",()=>{Yw=!1,console.log("App is offline"),Pq(Tt).catch(console.error)});const PT=()=>Yw,sx=async(t,e=3)=>{for(let n=0;n<e;n++)try{return await t()}catch(r){if(console.error(`Firebase operation failed (attempt ${n+1}/${e}):`,r),n===e-1)throw r;await new Promise(s=>setTimeout(s,Math.pow(2,n)*1e3))}},Hq=Hh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const l=r?MO:"button";return o.jsx(l,{className:je(Hq({variant:e,size:n,className:t})),ref:i,...s})});Z.displayName="Button";const Ge=_.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ge.displayName="Input";const Wq=Hh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ct({className:t,variant:e,...n}){return o.jsx("div",{className:je(Wq({variant:e}),t),...n})}const Ce=_.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ce.displayName="Card";const ut=_.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:je("flex flex-col space-y-1.5 p-6",t),...e}));ut.displayName="CardHeader";const gt=_.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:je("text-2xl font-semibold leading-none tracking-tight",t),...e}));gt.displayName="CardTitle";const Gq=_.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:je("text-sm text-muted-foreground",t),...e}));Gq.displayName="CardDescription";const ke=_.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:je("p-6 pt-0",t),...e}));ke.displayName="CardContent";const Kq=_.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:je("flex items-center p-6 pt-0",t),...e}));Kq.displayName="CardFooter";var Zq="Label",Wj=_.forwardRef((t,e)=>o.jsx(Re.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Wj.displayName=Zq;var Gj=Wj;const Qq=Hh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Le=_.forwardRef(({className:t,...e},n)=>o.jsx(Gj,{ref:n,className:je(Qq(),t),...e}));Le.displayName=Gj.displayName;var Yq=_.createContext(void 0);function Tu(t){const e=_.useContext(Yq);return t||e||"ltr"}var pv="rovingFocusGroup.onEntryFocus",Xq={bubbles:!1,cancelable:!0},sf="RovingFocusGroup",[ix,Kj,Jq]=Uh(sf),[eH,Su]=or(sf,[Jq]),[tH,nH]=eH(sf),Zj=_.forwardRef((t,e)=>o.jsx(ix.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(ix.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(rH,{...t,ref:e})})}));Zj.displayName=sf;var rH=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=t,y=_.useRef(null),w=rt(e,y),N=Tu(i),[v,S]=ws({prop:l,defaultProp:c??null,onChange:d,caller:sf}),[E,T]=_.useState(!1),C=jr(h),R=Kj(n),F=_.useRef(!1),[U,j]=_.useState(0);return _.useEffect(()=>{const I=y.current;if(I)return I.addEventListener(pv,C),()=>I.removeEventListener(pv,C)},[C]),o.jsx(tH,{scope:n,orientation:r,dir:N,loop:s,currentTabStopId:v,onItemFocus:_.useCallback(I=>S(I),[S]),onItemShiftTab:_.useCallback(()=>T(!0),[]),onFocusableItemAdd:_.useCallback(()=>j(I=>I+1),[]),onFocusableItemRemove:_.useCallback(()=>j(I=>I-1),[]),children:o.jsx(Re.div,{tabIndex:E||U===0?-1:0,"data-orientation":r,...g,ref:w,style:{outline:"none",...t.style},onMouseDown:xe(t.onMouseDown,()=>{F.current=!0}),onFocus:xe(t.onFocus,I=>{const A=!F.current;if(I.target===I.currentTarget&&A&&!E){const D=new CustomEvent(pv,Xq);if(I.currentTarget.dispatchEvent(D),!D.defaultPrevented){const z=R().filter(Y=>Y.focusable),B=z.find(Y=>Y.active),O=z.find(Y=>Y.id===v),me=[B,O,...z].filter(Boolean).map(Y=>Y.ref.current);Xj(me,p)}}F.current=!1}),onBlur:xe(t.onBlur,()=>T(!1))})})}),Qj="RovingFocusGroupItem",Yj=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:l,...c}=t,d=gs(),h=i||d,p=nH(Qj,n),g=p.currentTabStopId===h,y=Kj(n),{onFocusableItemAdd:w,onFocusableItemRemove:N,currentTabStopId:v}=p;return _.useEffect(()=>{if(r)return w(),()=>N()},[r,w,N]),o.jsx(ix.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:o.jsx(Re.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:xe(t.onMouseDown,S=>{r?p.onItemFocus(h):S.preventDefault()}),onFocus:xe(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:xe(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const E=oH(S,p.orientation,p.dir);if(E!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let C=y().filter(R=>R.focusable).map(R=>R.ref.current);if(E==="last")C.reverse();else if(E==="prev"||E==="next"){E==="prev"&&C.reverse();const R=C.indexOf(S.currentTarget);C=p.loop?aH(C,R+1):C.slice(R+1)}setTimeout(()=>Xj(C))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:v!=null}):l})})});Yj.displayName=Qj;var sH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function oH(t,e,n){const r=iH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return sH[r]}function Xj(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function aH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Xw=Zj,Jw=Yj,Hg="Tabs",[lH,NQ]=or(Hg,[Su]),Jj=Su(),[cH,eb]=lH(Hg),eA=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:d="automatic",...h}=t,p=Tu(c),[g,y]=ws({prop:r,onChange:s,defaultProp:i??"",caller:Hg});return o.jsx(cH,{scope:n,baseId:gs(),value:g,onValueChange:y,orientation:l,dir:p,activationMode:d,children:o.jsx(Re.div,{dir:p,"data-orientation":l,...h,ref:e})})});eA.displayName=Hg;var tA="TabsList",nA=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=eb(tA,n),l=Jj(n);return o.jsx(Xw,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(Re.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});nA.displayName=tA;var rA="TabsTrigger",sA=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,l=eb(rA,n),c=Jj(n),d=aA(l.baseId,r),h=lA(l.baseId,r),p=r===l.value;return o.jsx(Jw,{asChild:!0,...c,focusable:!s,active:p,children:o.jsx(Re.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:e,onMouseDown:xe(t.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?l.onValueChange(r):g.preventDefault()}),onKeyDown:xe(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(r)}),onFocus:xe(t.onFocus,()=>{const g=l.activationMode!=="manual";!p&&!s&&g&&l.onValueChange(r)})})})});sA.displayName=rA;var iA="TabsContent",oA=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...l}=t,c=eb(iA,n),d=aA(c.baseId,r),h=lA(c.baseId,r),p=r===c.value,g=_.useRef(p);return _.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),o.jsx(Xr,{present:s||p,children:({present:y})=>o.jsx(Re.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!y,id:h,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:y&&i})})});oA.displayName=iA;function aA(t,e){return`${t}-trigger-${e}`}function lA(t,e){return`${t}-content-${e}`}var uH=eA,cA=nA,uA=sA,dA=oA;const dH=uH,hA=_.forwardRef(({className:t,...e},n)=>o.jsx(cA,{ref:n,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));hA.displayName=cA.displayName;const ox=_.forwardRef(({className:t,...e},n)=>o.jsx(uA,{ref:n,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ox.displayName=uA.displayName;const ax=_.forwardRef(({className:t,...e},n)=>o.jsx(dA,{ref:n,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ax.displayName=dA.displayName;const fA=({isOpen:t,onComplete:e})=>{const[n,r]=_.useState(!1),[s,i]=_.useState({displayName:"",phone:"",age:""}),[l,c]=_.useState({displayName:"",phone:"",age:""});_.useEffect(()=>{t&&It.currentUser&&i(g=>({...g,displayName:It.currentUser.displayName||"",phone:It.currentUser.phoneNumber||""}))},[t]);const d=()=>{const g={displayName:"",phone:"",age:""};if(s.displayName.trim()?s.displayName.trim().length<2&&(g.displayName="Name must be at least 2 characters long"):g.displayName="Name is required",s.phone.trim()?/^[\+]?[1-9][\d]{0,15}$/.test(s.phone.replace(/\s/g,""))||(g.phone="Please enter a valid phone number"):g.phone="Phone number is required",!s.age.trim())g.age="Age is required";else{const y=parseInt(s.age);(isNaN(y)||y<13||y>120)&&(g.age="Age must be between 13 and 120")}return c(g),!Object.values(g).some(y=>y!=="")},h=async g=>{if(g.preventDefault(),!!d()){if(!It.currentUser){re.error("User not authenticated");return}r(!0);try{await QI(It.currentUser,{displayName:s.displayName.trim()});const y=Ln(Tt,"users",It.currentUser.uid),w=await eu(y),N={displayName:s.displayName.trim(),email:It.currentUser.email,phone:s.phone.trim(),age:parseInt(s.age),isOnboarded:!0,createdAt:w.exists()?w.data().createdAt:new Date,updatedAt:new Date,settings:w.exists()?w.data().settings:{notifications:!0,language:"en",sound:!0,emailNotifications:!0,pushNotifications:!0,darkMode:!1}};await $j(y,N,{merge:!0}),re.success("Profile completed successfully!"),e()}catch(y){console.error("Error saving user data:",y),re.error("Failed to save profile. Please try again.")}finally{r(!1)}}},p=(g,y)=>{i(w=>({...w,[g]:y})),l[g]&&c(w=>({...w,[g]:""}))};return t?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs(Ce,{className:"w-full max-w-md bg-white",children:[o.jsxs(ut,{className:"text-center",children:[o.jsx(gt,{className:"text-2xl font-bold text-gray-800",children:"Complete Your Profile"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Please provide your details to complete your account setup"})]}),o.jsx(ke,{children:o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"displayName",className:"text-gray-700",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(fs,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ge,{id:"displayName",type:"text",placeholder:"Enter your full name",value:s.displayName,onChange:g=>p("displayName",g.target.value),className:`pl-10 ${l.displayName?"border-red-500":""}`,disabled:n})]}),l.displayName&&o.jsx("p",{className:"text-red-500 text-xs",children:l.displayName})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(mr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ge,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:s.phone,onChange:g=>p("phone",g.target.value),className:`pl-10 ${l.phone?"border-red-500":""}`,disabled:n})]}),l.phone&&o.jsx("p",{className:"text-red-500 text-xs",children:l.phone})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"age",className:"text-gray-700",children:"Age"}),o.jsxs("div",{className:"relative",children:[o.jsx(Zk,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ge,{id:"age",type:"number",placeholder:"Enter your age",value:s.age,onChange:g=>p("age",g.target.value),className:`pl-10 ${l.age?"border-red-500":""}`,min:"13",max:"120",disabled:n})]}),l.age&&o.jsx("p",{className:"text-red-500 text-xs",children:l.age}),o.jsx("p",{className:"text-gray-500 text-xs",children:"You must be at least 13 years old to use this service"})]}),o.jsx(Z,{type:"submit",className:"w-full bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",disabled:n,children:n?o.jsxs(o.Fragment,{children:[o.jsx(Vo,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:["Complete Profile",o.jsx(C_,{className:"ml-2 h-4 w-4"})]})})]})})]})}):null},hH=({isOpen:t,onClose:e,onLoginSuccess:n})=>{const[r,s]=_.useState(!1),[i,l]=_.useState(""),[c,d]=_.useState(""),[h,p]=_.useState(!1),[g,y]=_.useState(!1),[w,N]=_.useState(""),[v,S]=_.useState(""),[E,T]=_.useState(""),[C,R]=_.useState(!1),[F,U]=_.useState(null),[j,I]=_.useState(!1),[A,D]=_.useState(!1),z=()=>{l(""),d(""),N(""),S(""),T(""),R(!1),y(!1),s(!1),I(!1),D(!1)},B=()=>{I(!1),z(),e(),n&&n()},O=async te=>{var ne;try{const ce=await eu(Ln(Tt,"users",te));return!ce.exists()||!((ne=ce.data())!=null&&ne.isOnboarded)}catch(ce){return console.error("Error checking user status:",ce),!0}},Q=async te=>{te.preventDefault(),s(!0);try{if(g){const ne=await eB(It,i,c);re.success("Account created successfully!"),D(!0),I(!0)}else{const ne=await tB(It,i,c);await O(ne.user.uid)?(re.success("Account created successfully!"),D(!0),I(!0)):(re.success("Logged in successfully!"),z(),e(),n&&n())}}catch(ne){console.error("Auth error:",ne),ne.code==="auth/email-already-in-use"?re.error("Email already in use. Please sign in instead."):ne.code==="auth/user-not-found"?re.error("User not found. Please check your email or sign up."):ne.code==="auth/wrong-password"?re.error("Incorrect password. Please try again."):ne.code==="auth/weak-password"?re.error("Password is too weak. Please use a stronger password."):re.error("Authentication failed. Please try again.")}finally{s(!1)}},me=async()=>{s(!0);try{const te=new Ui;te.setCustomParameters({prompt:"select_account"});const ne=await OB(It,te);await O(ne.user.uid)?(re.success("Account created successfully!"),D(!0),I(!0)):(re.success("Successfully signed in with Google!"),z(),e(),n&&n())}catch(te){console.error("Google auth error:",te),te.code==="auth/popup-closed-by-user"?re.error("Sign-in cancelled. Please try again."):te.code==="auth/popup-blocked"?re.error("Pop-up blocked. Please allow pop-ups for this site."):re.error("Google sign-in failed. Please try again.")}finally{s(!1)}},Y=()=>{if(!F){const te=new IB(It,"recaptcha-container",{size:"invisible",callback:()=>{console.log("reCAPTCHA solved")}});U(te)}},J=async te=>{te.preventDefault(),s(!0);try{if(Y(),!F){re.error("reCAPTCHA not ready. Please refresh and try again.");return}const ne=w.startsWith("+")?w:`+91${w}`,ce=await _N(It,ne,F);T(ce.verificationId),R(!0),re.success("OTP sent successfully!")}catch(ne){console.error("Phone auth error:",ne),ne.code==="auth/billing-not-enabled"?re.error("Phone authentication requires billing to be enabled. Please enable billing in Firebase Console."):ne.code==="auth/invalid-phone-number"?re.error("Invalid phone number. Please check and try again."):ne.code==="auth/too-many-requests"?re.error("Too many requests. Please try again later."):ne.code==="auth/quota-exceeded"?re.error("SMS quota exceeded. Please try again later or contact support."):re.error("Failed to send OTP. Please try again.")}finally{s(!1)}},$=async te=>{te.preventDefault(),s(!0);try{const ne=Za.credential(E,v),ce=await _N(It,w,F);await O(ce.user.uid)?(re.success("Account created successfully!"),D(!0),I(!0)):(re.success("Phone number verified successfully!"),z(),e(),n&&n())}catch(ne){console.error("OTP verification error:",ne),ne.code==="auth/invalid-verification-code"?re.error("Invalid OTP. Please check and try again."):ne.code==="auth/code-expired"?(re.error("OTP has expired. Please request a new one."),R(!1)):re.error("OTP verification failed. Please try again.")}finally{s(!1)}},H=async()=>{s(!0);try{await J(new Event("submit"))}catch(te){console.error("Resend OTP error:",te),re.error("Failed to resend OTP. Please try again.")}finally{s(!1)}},G=()=>{z(),e()};return t?o.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[o.jsxs(Ce,{className:"w-full max-w-md bg-white",children:[o.jsxs(ut,{className:"relative",children:[o.jsx(Z,{variant:"ghost",size:"icon",className:"absolute right-2 top-2",onClick:G,children:o.jsx(cu,{className:"w-4 h-4"})}),o.jsx(gt,{className:"text-center text-2xl font-bold",children:g?"Create Account":"Welcome Back"})]}),o.jsxs(ke,{children:[o.jsxs(dH,{defaultValue:"email",className:"w-full",children:[o.jsxs(hA,{className:"grid w-full grid-cols-2",children:[o.jsxs(ox,{value:"email",className:"flex items-center space-x-2",children:[o.jsx($s,{className:"w-4 h-4"}),o.jsx("span",{children:"Email"})]}),o.jsxs(ox,{value:"phone",className:"flex items-center space-x-2",children:[o.jsx(mr,{className:"w-4 h-4"}),o.jsx("span",{children:"Phone"})]})]}),o.jsxs(ax,{value:"email",className:"space-y-4",children:[o.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx($s,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ge,{id:"email",type:"email",placeholder:"Enter your email",value:i,onChange:te=>l(te.target.value),className:"pl-10",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(rP,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ge,{id:"password",type:h?"text":"password",placeholder:"Enter your password",value:c,onChange:te=>d(te.target.value),className:"pl-10 pr-10",required:!0}),o.jsx(Z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>p(!h),children:h?o.jsx(km,{className:"h-4 w-4"}):o.jsx(Fd,{className:"h-4 w-4"})})]})]}),o.jsx(Z,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(Vo,{className:"mr-2 h-4 w-4 animate-spin"}),g?"Creating Account...":"Signing In..."]}):g?"Create Account":"Sign In"})]}),o.jsx("div",{className:"text-center",children:o.jsx(Z,{variant:"link",onClick:()=>y(!g),className:"text-sm",children:g?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with"})})]}),o.jsx(Z,{variant:"outline",onClick:me,className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(Vo,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in with Google..."]}):o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]}),o.jsx(ax,{value:"phone",className:"space-y-4",children:C?o.jsxs("form",{onSubmit:$,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"otp",children:"Verification Code"}),o.jsx(Ge,{id:"otp",type:"text",placeholder:"Enter 6-digit code",value:v,onChange:te=>S(te.target.value),maxLength:6,className:"text-center text-lg tracking-widest",required:!0}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Enter the 6-digit code sent to ",w]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Z,{type:"submit",className:"flex-1",disabled:r||v.length!==6,children:r?o.jsxs(o.Fragment,{children:[o.jsx(Vo,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify OTP"}),o.jsx(Z,{type:"button",variant:"outline",onClick:H,disabled:r,children:"Resend"})]}),o.jsx(Z,{type:"button",variant:"ghost",onClick:()=>{R(!1),S(""),T("")},className:"w-full",children:"Change Phone Number"})]}):o.jsxs("form",{onSubmit:J,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(mr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ge,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:w,onChange:te=>N(te.target.value),className:"pl-10",required:!0})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"We'll send you a verification code via SMS"})]}),o.jsx(Z,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(Vo,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending OTP..."]}):"Send OTP"})]})})]}),o.jsx("div",{id:"recaptcha-container",className:"mt-4"})]})]}),o.jsx(fA,{isOpen:j,onComplete:B})]}):null};var gv="focusScope.autoFocusOnMount",yv="focusScope.autoFocusOnUnmount",IT={bubbles:!1,cancelable:!0},fH="FocusScope",Wg=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=t,[c,d]=_.useState(null),h=jr(s),p=jr(i),g=_.useRef(null),y=rt(e,v=>d(v)),w=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let v=function(C){if(w.paused||!c)return;const R=C.target;c.contains(R)?g.current=R:bo(g.current,{select:!0})},S=function(C){if(w.paused||!c)return;const R=C.relatedTarget;R!==null&&(c.contains(R)||bo(g.current,{select:!0}))},E=function(C){if(document.activeElement===document.body)for(const F of C)F.removedNodes.length>0&&bo(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",S);const T=new MutationObserver(E);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",S),T.disconnect()}}},[r,c,w.paused]),_.useEffect(()=>{if(c){AT.add(w);const v=document.activeElement;if(!c.contains(v)){const E=new CustomEvent(gv,IT);c.addEventListener(gv,h),c.dispatchEvent(E),E.defaultPrevented||(mH(xH(mA(c)),{select:!0}),document.activeElement===v&&bo(c))}return()=>{c.removeEventListener(gv,h),setTimeout(()=>{const E=new CustomEvent(yv,IT);c.addEventListener(yv,p),c.dispatchEvent(E),E.defaultPrevented||bo(v??document.body,{select:!0}),c.removeEventListener(yv,p),AT.remove(w)},0)}}},[c,h,p,w]);const N=_.useCallback(v=>{if(!n&&!r||w.paused)return;const S=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(S&&E){const T=v.currentTarget,[C,R]=pH(T);C&&R?!v.shiftKey&&E===R?(v.preventDefault(),n&&bo(C,{select:!0})):v.shiftKey&&E===C&&(v.preventDefault(),n&&bo(R,{select:!0})):E===T&&v.preventDefault()}},[n,r,w.paused]);return o.jsx(Re.div,{tabIndex:-1,...l,ref:y,onKeyDown:N})});Wg.displayName=fH;function mH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(bo(r,{select:e}),document.activeElement!==n)return}function pH(t){const e=mA(t),n=jT(e,t),r=jT(e.reverse(),t);return[n,r]}function mA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jT(t,e){for(const n of t)if(!gH(n,{upTo:e}))return n}function gH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function yH(t){return t instanceof HTMLInputElement&&"select"in t}function bo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&yH(t)&&e&&t.select()}}var AT=vH();function vH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=RT(t,e),t.unshift(e)},remove(e){var n;t=RT(t,e),(n=t[0])==null||n.resume()}}}function RT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function xH(t){return t.filter(e=>e.tagName!=="A")}var vv=0;function tb(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??MT()),document.body.insertAdjacentElement("beforeend",t[1]??MT()),vv++,()=>{vv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),vv--}},[])}function MT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var zm="right-scroll-bar-position",Bm="width-before-scroll-bar",_H="with-scroll-bars-hidden",wH="--removed-body-scroll-bar-size";function xv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function bH(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var EH=typeof window<"u"?_.useLayoutEffect:_.useEffect,DT=new WeakMap;function NH(t,e){var n=bH(null,function(r){return t.forEach(function(s){return xv(s,r)})});return EH(function(){var r=DT.get(n);if(r){var s=new Set(r),i=new Set(t),l=n.current;s.forEach(function(c){i.has(c)||xv(c,null)}),i.forEach(function(c){s.has(c)||xv(c,l)})}DT.set(n,t)},[t]),n}function TH(t){return t}function SH(t,e){e===void 0&&(e=TH);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var l=e(i,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var d=function(){var p=l;l=[],p.forEach(i)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return s}function CH(t){t===void 0&&(t={});var e=SH(null);return e.options=ui({async:!0,ssr:!1},t),e}var pA=function(t){var e=t.sideCar,n=Kh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,ui({},n))};pA.isSideCarExport=!0;function kH(t,e){return t.useMedium(e),pA}var gA=CH(),_v=function(){},Gg=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:_v,onWheelCapture:_v,onTouchMoveCapture:_v}),s=r[0],i=r[1],l=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,p=t.enabled,g=t.shards,y=t.sideCar,w=t.noRelative,N=t.noIsolation,v=t.inert,S=t.allowPinchZoom,E=t.as,T=E===void 0?"div":E,C=t.gapMode,R=Kh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=y,U=NH([n,e]),j=ui(ui({},R),s);return _.createElement(_.Fragment,null,p&&_.createElement(F,{sideCar:gA,removeScrollBar:h,shards:g,noRelative:w,noIsolation:N,inert:v,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:C}),l?_.cloneElement(_.Children.only(c),ui(ui({},j),{ref:U})):_.createElement(T,ui({},j,{className:d,ref:U}),c))});Gg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gg.classNames={fullWidth:Bm,zeroRight:zm};var PH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=PH();return e&&t.setAttribute("nonce",e),t}function jH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function AH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var RH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=IH())&&(jH(e,n),AH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},MH=function(){var t=RH();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},yA=function(){var t=MH(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},DH={left:0,top:0,right:0,gap:0},wv=function(t){return parseInt(t||"",10)||0},LH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[wv(n),wv(r),wv(s)]},OH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return DH;var e=LH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},VH=yA(),Cc="data-scroll-locked",FH=function(t,e,n,r){var s=t.left,i=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_H,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Cc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zm,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Bm,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(zm," .").concat(zm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bm," .").concat(Bm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Cc,`] {
    `).concat(wH,": ").concat(c,`px;
  }
`)},LT=function(){var t=parseInt(document.body.getAttribute(Cc)||"0",10);return isFinite(t)?t:0},zH=function(){_.useEffect(function(){return document.body.setAttribute(Cc,(LT()+1).toString()),function(){var t=LT()-1;t<=0?document.body.removeAttribute(Cc):document.body.setAttribute(Cc,t.toString())}},[])},BH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;zH();var i=_.useMemo(function(){return OH(s)},[s]);return _.createElement(VH,{styles:FH(i,!e,s,n?"":"!important")})},lx=!1;if(typeof window<"u")try{var um=Object.defineProperty({},"passive",{get:function(){return lx=!0,!0}});window.addEventListener("test",um,um),window.removeEventListener("test",um,um)}catch{lx=!1}var Kl=lx?{passive:!1}:!1,UH=function(t){return t.tagName==="TEXTAREA"},vA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!UH(t)&&n[e]==="visible")},$H=function(t){return vA(t,"overflowY")},qH=function(t){return vA(t,"overflowX")},OT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=xA(t,r);if(s){var i=_A(t,r),l=i[1],c=i[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},HH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},WH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},xA=function(t,e){return t==="v"?$H(e):qH(e)},_A=function(t,e){return t==="v"?HH(e):WH(e)},GH=function(t,e){return t==="h"&&e==="rtl"?-1:1},KH=function(t,e,n,r,s){var i=GH(t,window.getComputedStyle(e).direction),l=i*r,c=n.target,d=e.contains(c),h=!1,p=l>0,g=0,y=0;do{if(!c)break;var w=_A(t,c),N=w[0],v=w[1],S=w[2],E=v-S-i*N;(N||E)&&xA(t,c)&&(g+=E,y+=N);var T=c.parentNode;c=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(p&&Math.abs(g)<1||!p&&Math.abs(y)<1)&&(h=!0),h},dm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},VT=function(t){return[t.deltaX,t.deltaY]},FT=function(t){return t&&"current"in t?t.current:t},ZH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},QH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},YH=0,Zl=[];function XH(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),s=_.useState(YH++)[0],i=_.useState(yA)[0],l=_.useRef(t);_.useEffect(function(){l.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=K8([t.lockRef.current],(t.shards||[]).map(FT),!0).filter(Boolean);return v.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=_.useCallback(function(v,S){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var E=dm(v),T=n.current,C="deltaX"in v?v.deltaX:T[0]-E[0],R="deltaY"in v?v.deltaY:T[1]-E[1],F,U=v.target,j=Math.abs(C)>Math.abs(R)?"h":"v";if("touches"in v&&j==="h"&&U.type==="range")return!1;var I=OT(j,U);if(!I)return!0;if(I?F=j:(F=j==="v"?"h":"v",I=OT(j,U)),!I)return!1;if(!r.current&&"changedTouches"in v&&(C||R)&&(r.current=F),!F)return!0;var A=r.current||F;return KH(A,S,v,A==="h"?C:R)},[]),d=_.useCallback(function(v){var S=v;if(!(!Zl.length||Zl[Zl.length-1]!==i)){var E="deltaY"in S?VT(S):dm(S),T=e.current.filter(function(F){return F.name===S.type&&(F.target===S.target||S.target===F.shadowParent)&&ZH(F.delta,E)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var C=(l.current.shards||[]).map(FT).filter(Boolean).filter(function(F){return F.contains(S.target)}),R=C.length>0?c(S,C[0]):!l.current.noIsolation;R&&S.cancelable&&S.preventDefault()}}},[]),h=_.useCallback(function(v,S,E,T){var C={name:v,delta:S,target:E,should:T,shadowParent:JH(E)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(R){return R!==C})},1)},[]),p=_.useCallback(function(v){n.current=dm(v),r.current=void 0},[]),g=_.useCallback(function(v){h(v.type,VT(v),v.target,c(v,t.lockRef.current))},[]),y=_.useCallback(function(v){h(v.type,dm(v),v.target,c(v,t.lockRef.current))},[]);_.useEffect(function(){return Zl.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",d,Kl),document.addEventListener("touchmove",d,Kl),document.addEventListener("touchstart",p,Kl),function(){Zl=Zl.filter(function(v){return v!==i}),document.removeEventListener("wheel",d,Kl),document.removeEventListener("touchmove",d,Kl),document.removeEventListener("touchstart",p,Kl)}},[]);var w=t.removeScrollBar,N=t.inert;return _.createElement(_.Fragment,null,N?_.createElement(i,{styles:QH(s)}):null,w?_.createElement(BH,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function JH(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const eW=kH(gA,XH);var Kg=_.forwardRef(function(t,e){return _.createElement(Gg,ui({},t,{ref:e,sideCar:eW}))});Kg.classNames=Gg.classNames;var tW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ql=new WeakMap,hm=new WeakMap,fm={},bv=0,wA=function(t){return t&&(t.host||wA(t.parentNode))},nW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=wA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},rW=function(t,e,n,r){var s=nW(e,Array.isArray(t)?t:[t]);fm[n]||(fm[n]=new WeakMap);var i=fm[n],l=[],c=new Set,d=new Set(s),h=function(g){!g||c.has(g)||(c.add(g),h(g.parentNode))};s.forEach(h);var p=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(y){if(c.has(y))p(y);else try{var w=y.getAttribute(r),N=w!==null&&w!=="false",v=(Ql.get(y)||0)+1,S=(i.get(y)||0)+1;Ql.set(y,v),i.set(y,S),l.push(y),v===1&&N&&hm.set(y,!0),S===1&&y.setAttribute(n,"true"),N||y.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",y,E)}})};return p(e),c.clear(),bv++,function(){l.forEach(function(g){var y=Ql.get(g)-1,w=i.get(g)-1;Ql.set(g,y),i.set(g,w),y||(hm.has(g)||g.removeAttribute(r),hm.delete(g)),w||g.removeAttribute(n)}),bv--,bv||(Ql=new WeakMap,Ql=new WeakMap,hm=new WeakMap,fm={})}},nb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=tW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),rW(r,s,n,"aria-hidden")):function(){return null}},Zg="Dialog",[bA,TQ]=or(Zg),[sW,Ks]=bA(Zg),EA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:l=!0}=t,c=_.useRef(null),d=_.useRef(null),[h,p]=ws({prop:r,defaultProp:s??!1,onChange:i,caller:Zg});return o.jsx(sW,{scope:e,triggerRef:c,contentRef:d,contentId:gs(),titleId:gs(),descriptionId:gs(),open:h,onOpenChange:p,onOpenToggle:_.useCallback(()=>p(g=>!g),[p]),modal:l,children:n})};EA.displayName=Zg;var NA="DialogTrigger",iW=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ks(NA,n),i=rt(e,s.triggerRef);return o.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ib(s.open),...r,ref:i,onClick:xe(t.onClick,s.onOpenToggle)})});iW.displayName=NA;var rb="DialogPortal",[oW,TA]=bA(rb,{forceMount:void 0}),SA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Ks(rb,e);return o.jsx(oW,{scope:e,forceMount:n,children:_.Children.map(r,l=>o.jsx(Xr,{present:n||i.open,children:o.jsx($h,{asChild:!0,container:s,children:l})}))})};SA.displayName=rb;var Op="DialogOverlay",CA=_.forwardRef((t,e)=>{const n=TA(Op,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ks(Op,t.__scopeDialog);return i.modal?o.jsx(Xr,{present:r||i.open,children:o.jsx(lW,{...s,ref:e})}):null});CA.displayName=Op;var aW=nl("DialogOverlay.RemoveScroll"),lW=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ks(Op,n);return o.jsx(Kg,{as:aW,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Re.div,{"data-state":ib(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),dl="DialogContent",kA=_.forwardRef((t,e)=>{const n=TA(dl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ks(dl,t.__scopeDialog);return o.jsx(Xr,{present:r||i.open,children:i.modal?o.jsx(cW,{...s,ref:e}):o.jsx(uW,{...s,ref:e})})});kA.displayName=dl;var cW=_.forwardRef((t,e)=>{const n=Ks(dl,t.__scopeDialog),r=_.useRef(null),s=rt(e,n.contentRef,r);return _.useEffect(()=>{const i=r.current;if(i)return nb(i)},[]),o.jsx(PA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:xe(t.onFocusOutside,i=>i.preventDefault())})}),uW=_.forwardRef((t,e)=>{const n=Ks(dl,t.__scopeDialog),r=_.useRef(!1),s=_.useRef(!1);return o.jsx(PA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var d,h;(d=t.onInteractOutside)==null||d.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),PA=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=t,c=Ks(dl,n),d=_.useRef(null),h=rt(e,d);return tb(),o.jsxs(o.Fragment,{children:[o.jsx(Wg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(au,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":ib(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(dW,{titleId:c.titleId}),o.jsx(fW,{contentRef:d,descriptionId:c.descriptionId})]})]})}),sb="DialogTitle",IA=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ks(sb,n);return o.jsx(Re.h2,{id:s.titleId,...r,ref:e})});IA.displayName=sb;var jA="DialogDescription",AA=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ks(jA,n);return o.jsx(Re.p,{id:s.descriptionId,...r,ref:e})});AA.displayName=jA;var RA="DialogClose",MA=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ks(RA,n);return o.jsx(Re.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,()=>s.onOpenChange(!1))})});MA.displayName=RA;function ib(t){return t?"open":"closed"}var DA="DialogTitleWarning",[SQ,LA]=AO(DA,{contentName:dl,titleName:sb,docsSlug:"dialog"}),dW=({titleId:t})=>{const e=LA(DA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},hW="DialogDescriptionWarning",fW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LA(hW).contentName}}.`;return _.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},OA=EA,VA=SA,Qg=CA,Yg=kA,Xg=IA,Jg=AA,FA=MA;const Gi=OA,mW=VA,zA=_.forwardRef(({className:t,...e},n)=>o.jsx(Qg,{ref:n,className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));zA.displayName=Qg.displayName;const fi=_.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(mW,{children:[o.jsx(zA,{}),o.jsxs(Yg,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(FA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(cu,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fi.displayName=Yg.displayName;const mi=({className:t,...e})=>o.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});mi.displayName="DialogHeader";const Vs=_.forwardRef(({className:t,...e},n)=>o.jsx(Xg,{ref:n,className:je("text-lg font-semibold leading-none tracking-tight",t),...e}));Vs.displayName=Xg.displayName;const wi=_.forwardRef(({className:t,...e},n)=>o.jsx(Jg,{ref:n,className:je("text-sm text-muted-foreground",t),...e}));wi.displayName=Jg.displayName;const BA=({isOpen:t,onVerified:e,onClose:n})=>{const[r,s]=_.useState(""),i=()=>{if(!r){re.error("Please enter your date of birth");return}const l=new Date,c=new Date(r);Math.floor((l.getTime()-c.getTime())/(365.25*24*60*60*1e3))>=21?(re.success("Age verification successful"),e()):re.error("You must be 21 or older to access this section")};return o.jsx(Gi,{open:t,onOpenChange:n,children:o.jsxs(fi,{className:"sm:max-w-md",children:[o.jsxs(mi,{children:[o.jsxs(Vs,{className:"flex items-center space-x-2",children:[o.jsx("span",{children:"🍷"}),o.jsx("span",{children:"Age Verification Required"})]}),o.jsx(wi,{children:"You must be 21 or older to access alcoholic beverages. Please verify your age to continue."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"birthdate",children:"Date of Birth"}),o.jsx(Ge,{id:"birthdate",type:"date",value:r,onChange:l=>s(l.target.value),className:"mt-1"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(Z,{variant:"outline",onClick:n,children:"Cancel"}),o.jsx(Z,{onClick:i,children:"Verify Age"})]}),o.jsx("div",{className:"text-xs text-gray-500 text-center",children:o.jsx("p",{children:"By continuing, you confirm that you are of legal drinking age in your jurisdiction."})})]})]})})},ey=({product:t,onClose:e,onAddToCart:n})=>t?o.jsx(Gi,{open:!!t,onOpenChange:e,children:o.jsx(fi,{className:"sm:max-w-2xl",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:t.image,alt:t.name,className:"w-full h-64 md:h-80 object-cover rounded-lg"}),t.originalPrice&&o.jsxs(Ct,{className:"absolute top-2 left-2 bg-red-500",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(mi,{children:o.jsx(Vs,{className:"text-xl",children:t.name})}),o.jsx("div",{className:"flex items-center space-x-2 mb-2",children:o.jsx(Ct,{variant:"secondary",children:t.category})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ga,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"font-medium",children:t.rating})]}),o.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[o.jsx(pa,{className:"w-3 h-3 mr-1"}),t.deliveryTime]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-2xl font-bold",children:["₹",t.price]}),t.originalPrice&&o.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["₹",t.originalPrice]})]}),t.inStock?o.jsx(Ct,{variant:"outline",className:"text-green-600 border-green-600",children:"In Stock"}):o.jsx(Ct,{variant:"destructive",children:"Out of Stock"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold",children:"Product Features:"}),o.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[o.jsx("li",{children:"• High quality ingredients"}),o.jsx("li",{children:"• Fast delivery guaranteed"}),o.jsx("li",{children:"• Freshness assured"}),o.jsx("li",{children:"• Easy returns if not satisfied"})]})]}),o.jsxs(Z,{className:"w-full",onClick:()=>{n(t),e()},disabled:!t.inStock,children:[o.jsx(j_,{className:"w-4 h-4 mr-2"}),t.inStock?"Add to Cart":"Out of Stock"]})]})]})})}):null,pW=OA,gW=VA,UA=_.forwardRef(({className:t,...e},n)=>o.jsx(Qg,{className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));UA.displayName=Qg.displayName;const yW=Hh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$A=_.forwardRef(({side:t="right",className:e,children:n,...r},s)=>o.jsxs(gW,{children:[o.jsx(UA,{}),o.jsxs(Yg,{ref:s,className:je(yW({side:t}),e),...r,children:[n,o.jsxs(FA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(cu,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$A.displayName=Yg.displayName;const qA=({className:t,...e})=>o.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",t),...e});qA.displayName="SheetHeader";const HA=_.forwardRef(({className:t,...e},n)=>o.jsx(Xg,{ref:n,className:je("text-lg font-semibold text-foreground",t),...e}));HA.displayName=Xg.displayName;const WA=_.forwardRef(({className:t,...e},n)=>o.jsx(Jg,{ref:n,className:je("text-sm text-muted-foreground",t),...e}));WA.displayName=Jg.displayName;var vW="Separator",zT="horizontal",xW=["horizontal","vertical"],GA=_.forwardRef((t,e)=>{const{decorative:n,orientation:r=zT,...s}=t,i=_W(r)?r:zT,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(Re.div,{"data-orientation":i,...c,...s,ref:e})});GA.displayName=vW;function _W(t){return xW.includes(t)}var KA=GA;const ZA=_.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>o.jsx(KA,{ref:s,decorative:n,orientation:e,className:je("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));ZA.displayName=KA.displayName;const wW=({isOpen:t,onClose:e,cart:n,updateQuantity:r,totalPrice:s,onProceedToCheckout:i})=>{const{isDarkMode:l,toggleDarkMode:c}=fn(),[d,h]=_.useState(""),p=s>299?0:29,g=s+p;return o.jsx(pW,{open:t,onOpenChange:e,children:o.jsxs($A,{className:"w-full sm:max-w-lg flex flex-col bg-white dark:bg-gray-800 border-l dark:border-gray-700",children:[o.jsxs(qA,{className:"border-b dark:border-gray-700 pb-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(HA,{className:"flex items-center space-x-2 text-gray-800 dark:text-white",children:[o.jsx(q5,{className:"w-5 h-5"}),o.jsxs("span",{children:["Your Cart (",n.length,")"]})]}),o.jsx(Z,{variant:"ghost",size:"icon",className:"text-gray-600 dark:text-gray-300",onClick:c,title:l?"Switch to light mode":"Switch to dark mode",children:l?o.jsx(bn,{className:"w-4 h-4"}):o.jsx(hn,{className:"w-4 h-4"})})]}),o.jsx(WA,{className:"text-gray-600 dark:text-gray-400",children:"Review your items before placing an order."})]}),o.jsx("div",{className:"flex-1 overflow-y-auto mt-6",children:n.length===0?o.jsx("div",{className:"flex flex-col h-full items-center justify-center text-center",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-6xl mb-4",children:"🛒"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-600 dark:text-gray-300 mb-2",children:"Your cart is empty"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add some items to get started!"})]})}):o.jsx("div",{className:"space-y-4",children:n.map(y=>o.jsxs("div",{className:"flex items-center space-x-3 p-3 border dark:border-gray-700 rounded-lg bg-white dark:bg-gray-700",children:[o.jsx("img",{src:y.image,alt:y.name,className:"w-16 h-16 object-cover rounded-md"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-sm line-clamp-2 text-gray-800 dark:text-white",children:y.name}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsxs("span",{className:"font-bold text-gray-800 dark:text-white",children:["₹",y.price]}),o.jsx(Ct,{variant:"secondary",className:"text-xs",children:y.category})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Z,{size:"sm",variant:"outline",onClick:()=>r(y.id,y.quantity-1),className:"h-8 w-8 p-0",children:o.jsx(B5,{className:"w-3 h-3"})}),o.jsx("span",{className:"font-medium w-8 text-center text-gray-800 dark:text-white",children:y.quantity}),o.jsx(Z,{size:"sm",variant:"outline",onClick:()=>r(y.id,y.quantity+1),className:"h-8 w-8 p-0",children:o.jsx(_0,{className:"w-3 h-3"})}),o.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>r(y.id,0),className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",children:o.jsx(A_,{className:"w-4 h-4"})})]})]},y.id))})}),n.length>0&&o.jsxs("div",{className:"border-t dark:border-gray-700 pt-4 mt-auto space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ge,{placeholder:"Enter promo code",className:"mb-2 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400"}),o.jsx(Z,{variant:"outline",size:"sm",className:"w-full",children:"Apply Code"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-800 dark:text-white",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["₹",s]})]}),o.jsxs("div",{className:"flex justify-between text-sm text-gray-800 dark:text-white",children:[o.jsx("span",{children:"Delivery Fee"}),o.jsx("span",{className:p===0?"text-green-600":"",children:p===0?"FREE":`₹${p}`})]}),s<299&&o.jsxs("p",{className:"text-xs text-green-600",children:["Add ₹",299-s," more for free delivery!"]}),o.jsx(ZA,{className:"dark:bg-gray-700"}),o.jsxs("div",{className:"flex justify-between font-bold text-lg text-gray-800 dark:text-white",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["₹",g]})]})]}),o.jsxs("div",{className:"p-4 border-t dark:border-gray-700",children:[o.jsxs("div",{className:"flex justify-between items-center font-bold text-lg mb-4 text-gray-800 dark:text-white",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["₹",s.toFixed(2)]})]}),o.jsxs(Z,{onClick:i,className:"w-full",size:"lg",disabled:n.length===0,children:[o.jsx(Jk,{className:"w-4 h-4 mr-2"}),"Proceed to Checkout"]})]})]})]})})};function BT(t,[e,n]){return Math.min(n,Math.max(e,t))}function ob(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var bW=[" ","Enter","ArrowUp","ArrowDown"],EW=[" ","Enter"],hl="Select",[ty,ny,NW]=Uh(hl),[Cu,CQ]=or(hl,[NW,fu]),ry=fu(),[TW,wa]=Cu(hl),[SW,CW]=Cu(hl),QA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:h,name:p,autoComplete:g,disabled:y,required:w,form:N}=t,v=ry(e),[S,E]=_.useState(null),[T,C]=_.useState(null),[R,F]=_.useState(!1),U=Tu(h),[j,I]=ws({prop:r,defaultProp:s??!1,onChange:i,caller:hl}),[A,D]=ws({prop:l,defaultProp:c,onChange:d,caller:hl}),z=_.useRef(null),B=S?N||!!S.closest("form"):!0,[O,Q]=_.useState(new Set),me=Array.from(O).map(Y=>Y.props.value).join(";");return o.jsx(LP,{...v,children:o.jsxs(TW,{required:w,scope:e,trigger:S,onTriggerChange:E,valueNode:T,onValueNodeChange:C,valueNodeHasChildren:R,onValueNodeHasChildrenChange:F,contentId:gs(),value:A,onValueChange:D,open:j,onOpenChange:I,dir:U,triggerPointerDownPosRef:z,disabled:y,children:[o.jsx(ty.Provider,{scope:e,children:o.jsx(SW,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(Y=>{Q(J=>new Set(J).add(Y))},[]),onNativeOptionRemove:_.useCallback(Y=>{Q(J=>{const $=new Set(J);return $.delete(Y),$})},[]),children:n})}),B?o.jsxs(_R,{"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:g,value:A,onChange:Y=>D(Y.target.value),disabled:y,form:N,children:[A===void 0?o.jsx("option",{value:""}):null,Array.from(O)]},me):null]})})};QA.displayName=hl;var YA="SelectTrigger",XA=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ry(n),l=wa(YA,n),c=l.disabled||r,d=rt(e,l.onTriggerChange),h=ny(n),p=_.useRef("touch"),[g,y,w]=bR(v=>{const S=h().filter(C=>!C.disabled),E=S.find(C=>C.value===l.value),T=ER(S,v,E);T!==void 0&&l.onValueChange(T.value)}),N=v=>{c||(l.onOpenChange(!0),w()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return o.jsx(q_,{asChild:!0,...i,children:o.jsx(Re.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":wR(l.value)?"":void 0,...s,ref:d,onClick:xe(s.onClick,v=>{v.currentTarget.focus(),p.current!=="mouse"&&N(v)}),onPointerDown:xe(s.onPointerDown,v=>{p.current=v.pointerType;const S=v.target;S.hasPointerCapture(v.pointerId)&&S.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(N(v),v.preventDefault())}),onKeyDown:xe(s.onKeyDown,v=>{const S=g.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&y(v.key),!(S&&v.key===" ")&&bW.includes(v.key)&&(N(),v.preventDefault())})})})});XA.displayName=YA;var JA="SelectValue",eR=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:l="",...c}=t,d=wa(JA,n),{onValueNodeHasChildrenChange:h}=d,p=i!==void 0,g=rt(e,d.onValueNodeChange);return In(()=>{h(p)},[h,p]),o.jsx(Re.span,{...c,ref:g,style:{pointerEvents:"none"},children:wR(d.value)?o.jsx(o.Fragment,{children:l}):i})});eR.displayName=JA;var kW="SelectIcon",tR=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Re.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});tR.displayName=kW;var PW="SelectPortal",nR=t=>o.jsx($h,{asChild:!0,...t});nR.displayName=PW;var fl="SelectContent",rR=_.forwardRef((t,e)=>{const n=wa(fl,t.__scopeSelect),[r,s]=_.useState();if(In(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?xl.createPortal(o.jsx(sR,{scope:t.__scopeSelect,children:o.jsx(ty.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(iR,{...t,ref:e})});rR.displayName=fl;var Is=10,[sR,ba]=Cu(fl),IW="SelectContentImpl",jW=nl("SelectContent.RemoveScroll"),iR=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:w,sticky:N,hideWhenDetached:v,avoidCollisions:S,...E}=t,T=wa(fl,n),[C,R]=_.useState(null),[F,U]=_.useState(null),j=rt(e,oe=>R(oe)),[I,A]=_.useState(null),[D,z]=_.useState(null),B=ny(n),[O,Q]=_.useState(!1),me=_.useRef(!1);_.useEffect(()=>{if(C)return nb(C)},[C]),tb();const Y=_.useCallback(oe=>{const[Ie,...Oe]=B().map(se=>se.ref.current),[de]=Oe.slice(-1),he=document.activeElement;for(const se of oe)if(se===he||(se==null||se.scrollIntoView({block:"nearest"}),se===Ie&&F&&(F.scrollTop=0),se===de&&F&&(F.scrollTop=F.scrollHeight),se==null||se.focus(),document.activeElement!==he))return},[B,F]),J=_.useCallback(()=>Y([I,C]),[Y,I,C]);_.useEffect(()=>{O&&J()},[O,J]);const{onOpenChange:$,triggerPointerDownPosRef:H}=T;_.useEffect(()=>{if(C){let oe={x:0,y:0};const Ie=de=>{var he,se;oe={x:Math.abs(Math.round(de.pageX)-(((he=H.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(de.pageY)-(((se=H.current)==null?void 0:se.y)??0))}},Oe=de=>{oe.x<=10&&oe.y<=10?de.preventDefault():C.contains(de.target)||$(!1),document.removeEventListener("pointermove",Ie),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[C,$,H]),_.useEffect(()=>{const oe=()=>$(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[$]);const[G,te]=bR(oe=>{const Ie=B().filter(he=>!he.disabled),Oe=Ie.find(he=>he.ref.current===document.activeElement),de=ER(Ie,oe,Oe);de&&setTimeout(()=>de.ref.current.focus())}),ne=_.useCallback((oe,Ie,Oe)=>{const de=!me.current&&!Oe;(T.value!==void 0&&T.value===Ie||de)&&(A(oe),de&&(me.current=!0))},[T.value]),ce=_.useCallback(()=>C==null?void 0:C.focus(),[C]),ge=_.useCallback((oe,Ie,Oe)=>{const de=!me.current&&!Oe;(T.value!==void 0&&T.value===Ie||de)&&z(oe)},[T.value]),be=r==="popper"?cx:oR,_e=be===cx?{side:c,sideOffset:d,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:w,sticky:N,hideWhenDetached:v,avoidCollisions:S}:{};return o.jsx(sR,{scope:n,content:C,viewport:F,onViewportChange:U,itemRefCallback:ne,selectedItem:I,onItemLeave:ce,itemTextRefCallback:ge,focusSelectedItem:J,selectedItemText:D,position:r,isPositioned:O,searchRef:G,children:o.jsx(Kg,{as:jW,allowPinchZoom:!0,children:o.jsx(Wg,{asChild:!0,trapped:T.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:xe(s,oe=>{var Ie;(Ie=T.trigger)==null||Ie.focus({preventScroll:!0}),oe.preventDefault()}),children:o.jsx(au,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:o.jsx(be,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:oe=>oe.preventDefault(),...E,..._e,onPlaced:()=>Q(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:xe(E.onKeyDown,oe=>{const Ie=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!Ie&&oe.key.length===1&&te(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let de=B().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const he=oe.target,se=de.indexOf(he);de=de.slice(se+1)}setTimeout(()=>Y(de)),oe.preventDefault()}})})})})})})});iR.displayName=IW;var AW="SelectItemAlignedPosition",oR=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=wa(fl,n),l=ba(fl,n),[c,d]=_.useState(null),[h,p]=_.useState(null),g=rt(e,j=>p(j)),y=ny(n),w=_.useRef(!1),N=_.useRef(!0),{viewport:v,selectedItem:S,selectedItemText:E,focusSelectedItem:T}=l,C=_.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&h&&v&&S&&E){const j=i.trigger.getBoundingClientRect(),I=h.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),D=E.getBoundingClientRect();if(i.dir!=="rtl"){const he=D.left-I.left,se=A.left-he,Ae=j.left-se,Ye=j.width+Ae,dt=Math.max(Ye,I.width),vt=window.innerWidth-Is,bt=BT(se,[Is,Math.max(Is,vt-dt)]);c.style.minWidth=Ye+"px",c.style.left=bt+"px"}else{const he=I.right-D.right,se=window.innerWidth-A.right-he,Ae=window.innerWidth-j.right-se,Ye=j.width+Ae,dt=Math.max(Ye,I.width),vt=window.innerWidth-Is,bt=BT(se,[Is,Math.max(Is,vt-dt)]);c.style.minWidth=Ye+"px",c.style.right=bt+"px"}const z=y(),B=window.innerHeight-Is*2,O=v.scrollHeight,Q=window.getComputedStyle(h),me=parseInt(Q.borderTopWidth,10),Y=parseInt(Q.paddingTop,10),J=parseInt(Q.borderBottomWidth,10),$=parseInt(Q.paddingBottom,10),H=me+Y+O+$+J,G=Math.min(S.offsetHeight*5,H),te=window.getComputedStyle(v),ne=parseInt(te.paddingTop,10),ce=parseInt(te.paddingBottom,10),ge=j.top+j.height/2-Is,be=B-ge,_e=S.offsetHeight/2,oe=S.offsetTop+_e,Ie=me+Y+oe,Oe=H-Ie;if(Ie<=ge){const he=z.length>0&&S===z[z.length-1].ref.current;c.style.bottom="0px";const se=h.clientHeight-v.offsetTop-v.offsetHeight,Ae=Math.max(be,_e+(he?ce:0)+se+J),Ye=Ie+Ae;c.style.height=Ye+"px"}else{const he=z.length>0&&S===z[0].ref.current;c.style.top="0px";const Ae=Math.max(ge,me+v.offsetTop+(he?ne:0)+_e)+Oe;c.style.height=Ae+"px",v.scrollTop=Ie-ge+v.offsetTop}c.style.margin=`${Is}px 0`,c.style.minHeight=G+"px",c.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[y,i.trigger,i.valueNode,c,h,v,S,E,i.dir,r]);In(()=>C(),[C]);const[R,F]=_.useState();In(()=>{h&&F(window.getComputedStyle(h).zIndex)},[h]);const U=_.useCallback(j=>{j&&N.current===!0&&(C(),T==null||T(),N.current=!1)},[C,T]);return o.jsx(MW,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:w,onScrollButtonChange:U,children:o.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:o.jsx(Re.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});oR.displayName=AW;var RW="SelectPopperPosition",cx=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Is,...i}=t,l=ry(n);return o.jsx(H_,{...l,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cx.displayName=RW;var[MW,ab]=Cu(fl,{}),ux="SelectViewport",aR=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ba(ux,n),l=ab(ux,n),c=rt(e,i.onViewportChange),d=_.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(ty.Slot,{scope:n,children:o.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:xe(s.onScroll,h=>{const p=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=l;if(y!=null&&y.current&&g){const w=Math.abs(d.current-p.scrollTop);if(w>0){const N=window.innerHeight-Is*2,v=parseFloat(g.style.minHeight),S=parseFloat(g.style.height),E=Math.max(v,S);if(E<N){const T=E+w,C=Math.min(N,T),R=T-C;g.style.height=C+"px",g.style.bottom==="0px"&&(p.scrollTop=R>0?R:0,g.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});aR.displayName=ux;var lR="SelectGroup",[DW,LW]=Cu(lR),OW=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=gs();return o.jsx(DW,{scope:n,id:s,children:o.jsx(Re.div,{role:"group","aria-labelledby":s,...r,ref:e})})});OW.displayName=lR;var cR="SelectLabel",uR=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=LW(cR,n);return o.jsx(Re.div,{id:s.id,...r,ref:e})});uR.displayName=cR;var Vp="SelectItem",[VW,dR]=Cu(Vp),hR=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...l}=t,c=wa(Vp,n),d=ba(Vp,n),h=c.value===r,[p,g]=_.useState(i??""),[y,w]=_.useState(!1),N=rt(e,T=>{var C;return(C=d.itemRefCallback)==null?void 0:C.call(d,T,r,s)}),v=gs(),S=_.useRef("touch"),E=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(VW,{scope:n,value:r,disabled:s,textId:v,isSelected:h,onItemTextChange:_.useCallback(T=>{g(C=>C||((T==null?void 0:T.textContent)??"").trim())},[]),children:o.jsx(ty.ItemSlot,{scope:n,value:r,disabled:s,textValue:p,children:o.jsx(Re.div,{role:"option","aria-labelledby":v,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:N,onFocus:xe(l.onFocus,()=>w(!0)),onBlur:xe(l.onBlur,()=>w(!1)),onClick:xe(l.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:xe(l.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:xe(l.onPointerDown,T=>{S.current=T.pointerType}),onPointerMove:xe(l.onPointerMove,T=>{var C;S.current=T.pointerType,s?(C=d.onItemLeave)==null||C.call(d):S.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(l.onPointerLeave,T=>{var C;T.currentTarget===document.activeElement&&((C=d.onItemLeave)==null||C.call(d))}),onKeyDown:xe(l.onKeyDown,T=>{var R;((R=d.searchRef)==null?void 0:R.current)!==""&&T.key===" "||(EW.includes(T.key)&&E(),T.key===" "&&T.preventDefault())})})})})});hR.displayName=Vp;var Nd="SelectItemText",fR=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,l=wa(Nd,n),c=ba(Nd,n),d=dR(Nd,n),h=CW(Nd,n),[p,g]=_.useState(null),y=rt(e,E=>g(E),d.onItemTextChange,E=>{var T;return(T=c.itemTextRefCallback)==null?void 0:T.call(c,E,d.value,d.disabled)}),w=p==null?void 0:p.textContent,N=_.useMemo(()=>o.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:v,onNativeOptionRemove:S}=h;return In(()=>(v(N),()=>S(N)),[v,S,N]),o.jsxs(o.Fragment,{children:[o.jsx(Re.span,{id:d.textId,...i,ref:y}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?xl.createPortal(i.children,l.valueNode):null]})});fR.displayName=Nd;var mR="SelectItemIndicator",pR=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return dR(mR,n).isSelected?o.jsx(Re.span,{"aria-hidden":!0,...r,ref:e}):null});pR.displayName=mR;var dx="SelectScrollUpButton",gR=_.forwardRef((t,e)=>{const n=ba(dx,t.__scopeSelect),r=ab(dx,t.__scopeSelect),[s,i]=_.useState(!1),l=rt(e,r.onScrollButtonChange);return In(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;i(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?o.jsx(vR,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});gR.displayName=dx;var hx="SelectScrollDownButton",yR=_.forwardRef((t,e)=>{const n=ba(hx,t.__scopeSelect),r=ab(hx,t.__scopeSelect),[s,i]=_.useState(!1),l=rt(e,r.onScrollButtonChange);return In(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<h;i(p)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?o.jsx(vR,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});yR.displayName=hx;var vR=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ba("SelectScrollButton",n),l=_.useRef(null),c=ny(n),d=_.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return _.useEffect(()=>()=>d(),[d]),In(()=>{var p;const h=c().find(g=>g.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[c]),o.jsx(Re.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:xe(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:xe(s.onPointerMove,()=>{var h;(h=i.onItemLeave)==null||h.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:xe(s.onPointerLeave,()=>{d()})})}),FW="SelectSeparator",xR=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Re.div,{"aria-hidden":!0,...r,ref:e})});xR.displayName=FW;var fx="SelectArrow",zW=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ry(n),i=wa(fx,n),l=ba(fx,n);return i.open&&l.position==="popper"?o.jsx(W_,{...s,...r,ref:e}):null});zW.displayName=fx;var BW="SelectBubbleInput",_R=_.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=_.useRef(null),i=rt(r,s),l=ob(e);return _.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&p){const g=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(g)}},[l,e]),o.jsx(Re.select,{...n,style:{...Sk,...n.style},ref:i,defaultValue:e})});_R.displayName=BW;function wR(t){return t===""||t===void 0}function bR(t){const e=jr(t),n=_.useRef(""),r=_.useRef(0),s=_.useCallback(l=>{const c=n.current+l;e(c),function d(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(c)},[e]),i=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function ER(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let l=UW(t,Math.max(i,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function UW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var $W=QA,NR=XA,qW=eR,HW=tR,WW=nR,TR=rR,GW=aR,SR=uR,CR=hR,KW=fR,ZW=pR,kR=gR,PR=yR,IR=xR;const nu=$W,ru=qW,ml=_.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(NR,{ref:r,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(HW,{asChild:!0,children:o.jsx(I_,{className:"h-4 w-4 opacity-50"})})]}));ml.displayName=NR.displayName;const jR=_.forwardRef(({className:t,...e},n)=>o.jsx(kR,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(I5,{className:"h-4 w-4"})}));jR.displayName=kR.displayName;const AR=_.forwardRef(({className:t,...e},n)=>o.jsx(PR,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(I_,{className:"h-4 w-4"})}));AR.displayName=PR.displayName;const pl=_.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(WW,{children:o.jsxs(TR,{ref:s,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(jR,{}),o.jsx(GW,{className:je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(AR,{})]})}));pl.displayName=TR.displayName;const QW=_.forwardRef(({className:t,...e},n)=>o.jsx(SR,{ref:n,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));QW.displayName=SR.displayName;const ct=_.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(CR,{ref:r,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(ZW,{children:o.jsx(P_,{className:"h-4 w-4"})})}),o.jsx(KW,{children:e})]}));ct.displayName=CR.displayName;const YW=_.forwardRef(({className:t,...e},n)=>o.jsx(IR,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));YW.displayName=IR.displayName;const Pt={FOOD:"food",DRINKS:"drinks",DAILY_ESSENTIAL:"daily_essential"},Je={PIZZAS:"pizzas",BURGERS:"burgers",BIRYANI:"biryani",CHINESE:"chinese",INDIAN:"indian",DESSERTS:"desserts",BEER:"beer",WINE:"wine",SPIRITS:"spirits",COCKTAILS:"cocktails",STAPLES:"staples",SNACKS:"snacks",BEVERAGES:"beverages",PERSONAL_CARE:"personal_care",HOUSEHOLD:"household"},XW=[{name:"Domino's Pizza",price:250,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:Pt.FOOD,subcategory:Je.PIZZAS,description:"Delicious pizza with fresh toppings",deliveryTime:"20-25 mins",inStock:!0,discount:"20% OFF",tags:["pizza","italian","cheese","tomato"]},{name:"Spice N Ice Biryani",price:220,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:Pt.FOOD,subcategory:Je.BIRYANI,description:"Aromatic biryani with tender meat",deliveryTime:"25-30 mins",inStock:!0,offer:"BUY1 GET1",tags:["biryani","rice","spicy","indian"]},{name:"China Nation Noodles",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:Pt.FOOD,subcategory:Je.CHINESE,description:"Stir-fried noodles with vegetables",deliveryTime:"15-20 mins",inStock:!0,tags:["noodles","chinese","vegetarian","stir-fry"]},{name:"Classic Burger",price:150,rating:4.2,image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400",category:Pt.FOOD,subcategory:Je.BURGERS,description:"Juicy beef burger with fresh vegetables",deliveryTime:"18-22 mins",inStock:!0,discount:"15% OFF",tags:["burger","beef","fast-food","american"]},{name:"Butter Chicken",price:280,rating:4.6,image:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400",category:Pt.FOOD,subcategory:Je.INDIAN,description:"Creamy butter chicken with naan",deliveryTime:"30-35 mins",inStock:!0,tags:["chicken","indian","curry","butter"]},{name:"Chocolate Cake",price:120,rating:4.4,image:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400",category:Pt.FOOD,subcategory:Je.DESSERTS,description:"Rich chocolate cake with cream",deliveryTime:"20-25 mins",inStock:!0,tags:["cake","chocolate","dessert","sweet"]},{name:"Heineken Beer",price:120,rating:4.3,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Pt.DRINKS,subcategory:Je.BEER,description:"Premium lager beer",deliveryTime:"30-45 mins",inStock:!0,tags:["beer","lager","alcohol","premium"]},{name:"Red Wine",price:450,rating:4.5,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Pt.DRINKS,subcategory:Je.WINE,description:"Smooth red wine",deliveryTime:"30-45 mins",inStock:!0,discount:"10% OFF",tags:["wine","red","alcohol","premium"]},{name:"Whiskey",price:800,rating:4.7,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Pt.DRINKS,subcategory:Je.SPIRITS,description:"Premium whiskey",deliveryTime:"30-45 mins",inStock:!0,tags:["whiskey","spirits","alcohol","premium"]},{name:"Mojito Cocktail",price:180,rating:4.2,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:Pt.DRINKS,subcategory:Je.COCKTAILS,description:"Refreshing mojito cocktail",deliveryTime:"25-35 mins",inStock:!0,tags:["cocktail","mojito","alcohol","refreshing"]},{name:"Basmati Rice",price:80,rating:4.4,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400",category:Pt.DAILY_ESSENTIAL,subcategory:Je.STAPLES,description:"Premium basmati rice",deliveryTime:"60-90 mins",inStock:!0,discount:"5% OFF",tags:["rice","basmati","staples","grocery"]},{name:"Potato Chips",price:30,rating:4.1,image:"https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=400",category:Pt.DAILY_ESSENTIAL,subcategory:Je.SNACKS,description:"Crispy potato chips",deliveryTime:"60-90 mins",inStock:!0,tags:["chips","snacks","potato","crispy"]},{name:"Coca Cola",price:40,rating:4,image:"https://images.unsplash.com/photo-1554866585-aa94861d3f78?w=400",category:Pt.DAILY_ESSENTIAL,subcategory:Je.BEVERAGES,description:"Refreshing cola drink",deliveryTime:"60-90 mins",inStock:!0,tags:["cola","beverage","soft-drink","refreshing"]},{name:"Toothpaste",price:60,rating:4.3,image:"https://images.unsplash.com/photo-1559591935-c6c92c6c2b6e?w=400",category:Pt.DAILY_ESSENTIAL,subcategory:Je.PERSONAL_CARE,description:"Fresh mint toothpaste",deliveryTime:"60-90 mins",inStock:!0,tags:["toothpaste","personal-care","hygiene","mint"]},{name:"Dish Soap",price:45,rating:4.2,image:"https://images.unsplash.com/photo-1559591935-c6c92c6c2b6e?w=400",category:Pt.DAILY_ESSENTIAL,subcategory:Je.HOUSEHOLD,description:"Effective dish cleaning soap",deliveryTime:"60-90 mins",inStock:!0,tags:["soap","household","cleaning","dishes"]}],JW=async()=>{try{const t=hi(Tt,"products");if((await tu(t)).empty){const n=XW.map(r=>Ph(t,{...r,createdAt:new Date,updatedAt:new Date}));await Promise.all(n),console.log("Products initialized successfully")}}catch(t){console.error("Error initializing products:",t)}},mx=async(t,e=null,n=null)=>{try{const r=hi(Tt,"products");let s;e?s=Bo(r,Qa("category","==",e)):s=Bo(r,Vq("name")),n&&(e?s=Bo(s,Qa("subcategory","==",n)):s=Bo(r,Qa("subcategory","==",n)));const i=await tu(s),l=[];return i.forEach(c=>{const d=c.data(),h={id:c.id,...d};(!t||h.name.toLowerCase().includes(t.toLowerCase())||h.description.toLowerCase().includes(t.toLowerCase())||h.tags.some(p=>p.toLowerCase().includes(t.toLowerCase())))&&l.push(h)}),(e||n)&&l.sort((c,d)=>c.name.localeCompare(d.name)),l}catch(r){return console.error("Error searching products:",r),[]}},kc=async t=>await mx("",t),eG=({isOpen:t,onClose:e,onProductSelect:n})=>{const{isDarkMode:r,toggleDarkMode:s}=fn(),[i,l]=_.useState(""),[c,d]=_.useState([]),[h,p]=_.useState([]),[g,y]=_.useState(!1),[w,N]=_.useState(""),[v,S]=_.useState(""),[E,T]=_.useState(!1);_.useEffect(()=>{t&&C()},[t]),_.useEffect(()=>{R()},[i,w,v,c]);const C=async()=>{y(!0);try{const[I,A]=await Promise.all([mx("",Pt.FOOD),mx("",Pt.DAILY_ESSENTIAL)]),D=[...I,...A];d(D)}catch(I){console.error("Error loading products:",I),re.error("Failed to load products")}finally{y(!1)}},R=()=>{let I=c;i.trim()&&(I=I.filter(A=>A.name.toLowerCase().includes(i.toLowerCase())||A.description.toLowerCase().includes(i.toLowerCase())||A.tags.some(D=>D.toLowerCase().includes(i.toLowerCase())))),w&&(I=I.filter(A=>A.category===w)),v&&(I=I.filter(A=>A.subcategory===v)),p(I)},F=I=>{n&&n(I),e()},U=()=>{N(""),S(""),l("")},j=I=>{switch(I){case Pt.FOOD:return"Food";case Pt.DAILY_ESSENTIAL:return"Daily Essential";default:return I}};return o.jsx(Gi,{open:t,onOpenChange:e,children:o.jsxs(fi,{className:"max-w-full w-full h-full max-h-full m-0 rounded-none bg-white dark:bg-gray-800",children:[o.jsxs(mi,{className:"pb-4 border-b dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Vs,{className:"flex items-center space-x-2 text-gray-800 dark:text-white",children:[o.jsx(Gr,{className:"w-5 h-5"}),o.jsx("span",{children:"Search All Products"})]}),o.jsx(Z,{variant:"ghost",size:"icon",className:"text-gray-600 dark:text-gray-300",onClick:s,title:r?"Switch to light mode":"Switch to dark mode",children:r?o.jsx(bn,{className:"w-4 h-4"}):o.jsx(hn,{className:"w-4 h-4"})})]}),o.jsx(wi,{className:"text-gray-600 dark:text-gray-400",children:"Search through all food and daily essential products. Drinks are not included in this search."})]}),o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(Ge,{placeholder:"Search for products, categories, or tags...",value:i,onChange:I=>l(I.target.value),className:"pl-10 pr-10 h-14 text-lg",autoFocus:!0}),i&&o.jsx(Z,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",onClick:()=>l(""),children:o.jsx(cu,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>T(!E),className:"flex items-center space-x-1",children:[o.jsx(L5,{className:"w-4 h-4"}),o.jsx("span",{children:"Filters"})]}),(w||v)&&o.jsx(Z,{variant:"ghost",size:"sm",onClick:U,children:"Clear"})]}),E&&o.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Category"}),o.jsxs(nu,{value:w,onValueChange:N,children:[o.jsx(ml,{children:o.jsx(ru,{placeholder:"All Categories"})}),o.jsxs(pl,{children:[o.jsx(ct,{value:"",children:"All Categories"}),o.jsx(ct,{value:Pt.FOOD,children:"Food"}),o.jsx(ct,{value:Pt.DAILY_ESSENTIAL,children:"Daily Essential"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Subcategory"}),o.jsxs(nu,{value:v,onValueChange:S,children:[o.jsx(ml,{children:o.jsx(ru,{placeholder:"All Subcategories"})}),o.jsxs(pl,{children:[o.jsx(ct,{value:"",children:"All Subcategories"}),w===Pt.FOOD&&o.jsxs(o.Fragment,{children:[o.jsx(ct,{value:Je.PIZZAS,children:"Pizzas"}),o.jsx(ct,{value:Je.BURGERS,children:"Burgers"}),o.jsx(ct,{value:Je.BIRYANI,children:"Biryani"}),o.jsx(ct,{value:Je.CHINESE,children:"Chinese"}),o.jsx(ct,{value:Je.INDIAN,children:"Indian"}),o.jsx(ct,{value:Je.DESSERTS,children:"Desserts"})]}),w===Pt.DAILY_ESSENTIAL&&o.jsxs(o.Fragment,{children:[o.jsx(ct,{value:Je.STAPLES,children:"Staples"}),o.jsx(ct,{value:Je.SNACKS,children:"Snacks"}),o.jsx(ct,{value:Je.BEVERAGES,children:"Beverages"}),o.jsx(ct,{value:Je.PERSONAL_CARE,children:"Personal Care"}),o.jsx(ct,{value:Je.HOUSEHOLD,children:"Household"})]})]})]})]})]}),o.jsx("div",{className:"overflow-y-auto flex-1",children:g?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"Loading products..."})]}):h.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Gr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:i?"No products found matching your search.":"Start typing to search products."})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:h.map(I=>o.jsx(Ce,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>F(I),children:o.jsx(ke,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:I.image,alt:I.name,className:"w-16 h-16 object-cover rounded-lg"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg",children:I.name}),o.jsx("p",{className:"text-gray-600 text-sm",children:I.description}),o.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ga,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:I.rating})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[o.jsx(pa,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:I.deliveryTime})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[o.jsx(tr,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:j(I.category)})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-bold text-lg",children:["₹",I.price]}),I.discount&&o.jsx(Ct,{className:"bg-green-500 text-white text-xs",children:I.discount}),I.offer&&o.jsx(Ct,{className:"bg-blue-500 text-white text-xs",children:I.offer})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:I.tags.slice(0,3).map((A,D)=>o.jsx(Ct,{variant:"outline",className:"text-xs",children:A},D))})]})]})})},I.id))})}),h.length>0&&o.jsxs("div",{className:"text-sm text-gray-500 text-center pt-4 border-t mt-4",children:["Showing ",h.length," of ",c.length," products"]})]})]})})};var px=["Enter"," "],tG=["ArrowDown","PageUp","Home"],RR=["ArrowUp","PageDown","End"],nG=[...tG,...RR],rG={ltr:[...px,"ArrowRight"],rtl:[...px,"ArrowLeft"]},sG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},of="Menu",[Ih,iG,oG]=Uh(of),[Nl,MR]=or(of,[oG,fu,Su]),sy=fu(),DR=Su(),[aG,Tl]=Nl(of),[lG,af]=Nl(of),LR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:l=!0}=t,c=sy(e),[d,h]=_.useState(null),p=_.useRef(!1),g=jr(i),y=Tu(s);return _.useEffect(()=>{const w=()=>{p.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>p.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),o.jsx(LP,{...c,children:o.jsx(aG,{scope:e,open:n,onOpenChange:g,content:d,onContentChange:h,children:o.jsx(lG,{scope:e,onClose:_.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:y,modal:l,children:r})})})};LR.displayName=of;var cG="MenuAnchor",lb=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=sy(n);return o.jsx(q_,{...s,...r,ref:e})});lb.displayName=cG;var cb="MenuPortal",[uG,OR]=Nl(cb,{forceMount:void 0}),VR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Tl(cb,e);return o.jsx(uG,{scope:e,forceMount:n,children:o.jsx(Xr,{present:n||i.open,children:o.jsx($h,{asChild:!0,container:s,children:r})})})};VR.displayName=cb;var vs="MenuContent",[dG,ub]=Nl(vs),FR=_.forwardRef((t,e)=>{const n=OR(vs,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Tl(vs,t.__scopeMenu),l=af(vs,t.__scopeMenu);return o.jsx(Ih.Provider,{scope:t.__scopeMenu,children:o.jsx(Xr,{present:r||i.open,children:o.jsx(Ih.Slot,{scope:t.__scopeMenu,children:l.modal?o.jsx(hG,{...s,ref:e}):o.jsx(fG,{...s,ref:e})})})})}),hG=_.forwardRef((t,e)=>{const n=Tl(vs,t.__scopeMenu),r=_.useRef(null),s=rt(e,r);return _.useEffect(()=>{const i=r.current;if(i)return nb(i)},[]),o.jsx(db,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:xe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),fG=_.forwardRef((t,e)=>{const n=Tl(vs,t.__scopeMenu);return o.jsx(db,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),mG=nl("MenuContent.ScrollLock"),db=_.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:y,onDismiss:w,disableOutsideScroll:N,...v}=t,S=Tl(vs,n),E=af(vs,n),T=sy(n),C=DR(n),R=iG(n),[F,U]=_.useState(null),j=_.useRef(null),I=rt(e,j,S.onContentChange),A=_.useRef(0),D=_.useRef(""),z=_.useRef(0),B=_.useRef(null),O=_.useRef("right"),Q=_.useRef(0),me=N?Kg:_.Fragment,Y=N?{as:mG,allowPinchZoom:!0}:void 0,J=H=>{var oe,Ie;const G=D.current+H,te=R().filter(Oe=>!Oe.disabled),ne=document.activeElement,ce=(oe=te.find(Oe=>Oe.ref.current===ne))==null?void 0:oe.textValue,ge=te.map(Oe=>Oe.textValue),be=SG(ge,G,ce),_e=(Ie=te.find(Oe=>Oe.textValue===be))==null?void 0:Ie.ref.current;(function Oe(de){D.current=de,window.clearTimeout(A.current),de!==""&&(A.current=window.setTimeout(()=>Oe(""),1e3))})(G),_e&&setTimeout(()=>_e.focus())};_.useEffect(()=>()=>window.clearTimeout(A.current),[]),tb();const $=_.useCallback(H=>{var te,ne;return O.current===((te=B.current)==null?void 0:te.side)&&kG(H,(ne=B.current)==null?void 0:ne.area)},[]);return o.jsx(dG,{scope:n,searchRef:D,onItemEnter:_.useCallback(H=>{$(H)&&H.preventDefault()},[$]),onItemLeave:_.useCallback(H=>{var G;$(H)||((G=j.current)==null||G.focus(),U(null))},[$]),onTriggerLeave:_.useCallback(H=>{$(H)&&H.preventDefault()},[$]),pointerGraceTimerRef:z,onPointerGraceIntentChange:_.useCallback(H=>{B.current=H},[]),children:o.jsx(me,{...Y,children:o.jsx(Wg,{asChild:!0,trapped:s,onMountAutoFocus:xe(i,H=>{var G;H.preventDefault(),(G=j.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:o.jsx(au,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:y,onDismiss:w,children:o.jsx(Xw,{asChild:!0,...C,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:F,onCurrentTabStopIdChange:U,onEntryFocus:xe(d,H=>{E.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(H_,{role:"menu","aria-orientation":"vertical","data-state":t4(S.open),"data-radix-menu-content":"",dir:E.dir,...T,...v,ref:I,style:{outline:"none",...v.style},onKeyDown:xe(v.onKeyDown,H=>{const te=H.target.closest("[data-radix-menu-content]")===H.currentTarget,ne=H.ctrlKey||H.altKey||H.metaKey,ce=H.key.length===1;te&&(H.key==="Tab"&&H.preventDefault(),!ne&&ce&&J(H.key));const ge=j.current;if(H.target!==ge||!nG.includes(H.key))return;H.preventDefault();const _e=R().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);RR.includes(H.key)&&_e.reverse(),NG(_e)}),onBlur:xe(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(A.current),D.current="")}),onPointerMove:xe(t.onPointerMove,jh(H=>{const G=H.target,te=Q.current!==H.clientX;if(H.currentTarget.contains(G)&&te){const ne=H.clientX>Q.current?"right":"left";O.current=ne,Q.current=H.clientX}}))})})})})})})});FR.displayName=vs;var pG="MenuGroup",hb=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Re.div,{role:"group",...r,ref:e})});hb.displayName=pG;var gG="MenuLabel",zR=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Re.div,{...r,ref:e})});zR.displayName=gG;var Fp="MenuItem",UT="menu.itemSelect",iy=_.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=_.useRef(null),l=af(Fp,t.__scopeMenu),c=ub(Fp,t.__scopeMenu),d=rt(e,i),h=_.useRef(!1),p=()=>{const g=i.current;if(!n&&g){const y=new CustomEvent(UT,{bubbles:!0,cancelable:!0});g.addEventListener(UT,w=>r==null?void 0:r(w),{once:!0}),E_(g,y),y.defaultPrevented?h.current=!1:l.onClose()}};return o.jsx(BR,{...s,ref:d,disabled:n,onClick:xe(t.onClick,p),onPointerDown:g=>{var y;(y=t.onPointerDown)==null||y.call(t,g),h.current=!0},onPointerUp:xe(t.onPointerUp,g=>{var y;h.current||(y=g.currentTarget)==null||y.click()}),onKeyDown:xe(t.onKeyDown,g=>{const y=c.searchRef.current!=="";n||y&&g.key===" "||px.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});iy.displayName=Fp;var BR=_.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,l=ub(Fp,n),c=DR(n),d=_.useRef(null),h=rt(e,d),[p,g]=_.useState(!1),[y,w]=_.useState("");return _.useEffect(()=>{const N=d.current;N&&w((N.textContent??"").trim())},[i.children]),o.jsx(Ih.ItemSlot,{scope:n,disabled:r,textValue:s??y,children:o.jsx(Jw,{asChild:!0,...c,focusable:!r,children:o.jsx(Re.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:h,onPointerMove:xe(t.onPointerMove,jh(N=>{r?l.onItemLeave(N):(l.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:xe(t.onPointerLeave,jh(N=>l.onItemLeave(N))),onFocus:xe(t.onFocus,()=>g(!0)),onBlur:xe(t.onBlur,()=>g(!1))})})})}),yG="MenuCheckboxItem",UR=_.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return o.jsx(GR,{scope:t.__scopeMenu,checked:n,children:o.jsx(iy,{role:"menuitemcheckbox","aria-checked":zp(n)?"mixed":n,...s,ref:e,"data-state":mb(n),onSelect:xe(s.onSelect,()=>r==null?void 0:r(zp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});UR.displayName=yG;var $R="MenuRadioGroup",[vG,xG]=Nl($R,{value:void 0,onValueChange:()=>{}}),qR=_.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=jr(r);return o.jsx(vG,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(hb,{...s,ref:e})})});qR.displayName=$R;var HR="MenuRadioItem",WR=_.forwardRef((t,e)=>{const{value:n,...r}=t,s=xG(HR,t.__scopeMenu),i=n===s.value;return o.jsx(GR,{scope:t.__scopeMenu,checked:i,children:o.jsx(iy,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":mb(i),onSelect:xe(r.onSelect,()=>{var l;return(l=s.onValueChange)==null?void 0:l.call(s,n)},{checkForDefaultPrevented:!1})})})});WR.displayName=HR;var fb="MenuItemIndicator",[GR,_G]=Nl(fb,{checked:!1}),KR=_.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=_G(fb,n);return o.jsx(Xr,{present:r||zp(i.checked)||i.checked===!0,children:o.jsx(Re.span,{...s,ref:e,"data-state":mb(i.checked)})})});KR.displayName=fb;var wG="MenuSeparator",ZR=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Re.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});ZR.displayName=wG;var bG="MenuArrow",QR=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=sy(n);return o.jsx(W_,{...s,...r,ref:e})});QR.displayName=bG;var EG="MenuSub",[kQ,YR]=Nl(EG),Td="MenuSubTrigger",XR=_.forwardRef((t,e)=>{const n=Tl(Td,t.__scopeMenu),r=af(Td,t.__scopeMenu),s=YR(Td,t.__scopeMenu),i=ub(Td,t.__scopeMenu),l=_.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,h={__scopeMenu:t.__scopeMenu},p=_.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return _.useEffect(()=>p,[p]),_.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),d(null)}},[c,d]),o.jsx(lb,{asChild:!0,...h,children:o.jsx(BR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":t4(n.open),...t,ref:ag(e,s.onTriggerChange),onClick:g=>{var y;(y=t.onClick)==null||y.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:xe(t.onPointerMove,jh(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:xe(t.onPointerLeave,jh(g=>{var w,N;p();const y=(w=n.content)==null?void 0:w.getBoundingClientRect();if(y){const v=(N=n.content)==null?void 0:N.dataset.side,S=v==="right",E=S?-5:5,T=y[S?"left":"right"],C=y[S?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+E,y:g.clientY},{x:T,y:y.top},{x:C,y:y.top},{x:C,y:y.bottom},{x:T,y:y.bottom}],side:v}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:xe(t.onKeyDown,g=>{var w;const y=i.searchRef.current!=="";t.disabled||y&&g.key===" "||rG[r.dir].includes(g.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),g.preventDefault())})})})});XR.displayName=Td;var JR="MenuSubContent",e4=_.forwardRef((t,e)=>{const n=OR(vs,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Tl(vs,t.__scopeMenu),l=af(vs,t.__scopeMenu),c=YR(JR,t.__scopeMenu),d=_.useRef(null),h=rt(e,d);return o.jsx(Ih.Provider,{scope:t.__scopeMenu,children:o.jsx(Xr,{present:r||i.open,children:o.jsx(Ih.Slot,{scope:t.__scopeMenu,children:o.jsx(db,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;l.isUsingKeyboardRef.current&&((g=d.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:xe(t.onFocusOutside,p=>{p.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:xe(t.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:xe(t.onKeyDown,p=>{var w;const g=p.currentTarget.contains(p.target),y=sG[l.dir].includes(p.key);g&&y&&(i.onOpenChange(!1),(w=c.trigger)==null||w.focus(),p.preventDefault())})})})})})});e4.displayName=JR;function t4(t){return t?"open":"closed"}function zp(t){return t==="indeterminate"}function mb(t){return zp(t)?"indeterminate":t?"checked":"unchecked"}function NG(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function TG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function SG(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let l=TG(t,Math.max(i,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function CG(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const c=e[i],d=e[l],h=c.x,p=c.y,g=d.x,y=d.y;p>r!=y>r&&n<(g-h)*(r-p)/(y-p)+h&&(s=!s)}return s}function kG(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return CG(n,e)}function jh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var PG=LR,IG=lb,jG=VR,AG=FR,RG=hb,MG=zR,DG=iy,LG=UR,OG=qR,VG=WR,FG=KR,zG=ZR,BG=QR,UG=XR,$G=e4,oy="DropdownMenu",[qG,PQ]=or(oy,[MR]),yr=MR(),[HG,n4]=qG(oy),r4=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:l,modal:c=!0}=t,d=yr(e),h=_.useRef(null),[p,g]=ws({prop:s,defaultProp:i??!1,onChange:l,caller:oy});return o.jsx(HG,{scope:e,triggerId:gs(),triggerRef:h,contentId:gs(),open:p,onOpenChange:g,onOpenToggle:_.useCallback(()=>g(y=>!y),[g]),modal:c,children:o.jsx(PG,{...d,open:p,onOpenChange:g,dir:r,modal:c,children:n})})};r4.displayName=oy;var s4="DropdownMenuTrigger",i4=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=n4(s4,n),l=yr(n);return o.jsx(IG,{asChild:!0,...l,children:o.jsx(Re.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ag(e,i.triggerRef),onPointerDown:xe(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:xe(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});i4.displayName=s4;var WG="DropdownMenuPortal",o4=t=>{const{__scopeDropdownMenu:e,...n}=t,r=yr(e);return o.jsx(jG,{...r,...n})};o4.displayName=WG;var a4="DropdownMenuContent",l4=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=n4(a4,n),i=yr(n),l=_.useRef(!1);return o.jsx(AG,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:xe(t.onCloseAutoFocus,c=>{var d;l.current||(d=s.triggerRef.current)==null||d.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:xe(t.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,p=d.button===2||h;(!s.modal||p)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});l4.displayName=a4;var GG="DropdownMenuGroup",KG=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return o.jsx(RG,{...s,...r,ref:e})});KG.displayName=GG;var ZG="DropdownMenuLabel",c4=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return o.jsx(MG,{...s,...r,ref:e})});c4.displayName=ZG;var QG="DropdownMenuItem",u4=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return o.jsx(DG,{...s,...r,ref:e})});u4.displayName=QG;var YG="DropdownMenuCheckboxItem",d4=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return o.jsx(LG,{...s,...r,ref:e})});d4.displayName=YG;var XG="DropdownMenuRadioGroup",JG=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return o.jsx(OG,{...s,...r,ref:e})});JG.displayName=XG;var eK="DropdownMenuRadioItem",h4=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return o.jsx(VG,{...s,...r,ref:e})});h4.displayName=eK;var tK="DropdownMenuItemIndicator",f4=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return o.jsx(FG,{...s,...r,ref:e})});f4.displayName=tK;var nK="DropdownMenuSeparator",m4=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return o.jsx(zG,{...s,...r,ref:e})});m4.displayName=nK;var rK="DropdownMenuArrow",sK=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return o.jsx(BG,{...s,...r,ref:e})});sK.displayName=rK;var iK="DropdownMenuSubTrigger",p4=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return o.jsx(UG,{...s,...r,ref:e})});p4.displayName=iK;var oK="DropdownMenuSubContent",g4=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return o.jsx($G,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});g4.displayName=oK;var aK=r4,lK=i4,cK=o4,y4=l4,v4=c4,x4=u4,_4=d4,w4=h4,b4=f4,E4=m4,N4=p4,T4=g4;const $T=aK,qT=lK,uK=_.forwardRef(({className:t,inset:e,children:n,...r},s)=>o.jsxs(N4,{ref:s,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(Yk,{className:"ml-auto h-4 w-4"})]}));uK.displayName=N4.displayName;const dK=_.forwardRef(({className:t,...e},n)=>o.jsx(T4,{ref:n,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));dK.displayName=T4.displayName;const gx=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(cK,{children:o.jsx(y4,{ref:r,sideOffset:e,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));gx.displayName=y4.displayName;const Vi=_.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(x4,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Vi.displayName=x4.displayName;const hK=_.forwardRef(({className:t,children:e,checked:n,...r},s)=>o.jsxs(_4,{ref:s,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(b4,{children:o.jsx(P_,{className:"h-4 w-4"})})}),e]}));hK.displayName=_4.displayName;const fK=_.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(w4,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(b4,{children:o.jsx(Xk,{className:"h-2 w-2 fill-current"})})}),e]}));fK.displayName=w4.displayName;const yx=_.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(v4,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));yx.displayName=v4.displayName;const Sd=_.forwardRef(({className:t,...e},n)=>o.jsx(E4,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));Sd.displayName=E4.displayName;var pb="Radio",[mK,S4]=or(pb),[pK,gK]=mK(pb),C4=_.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:l,value:c="on",onCheck:d,form:h,...p}=t,[g,y]=_.useState(null),w=rt(e,S=>y(S)),N=_.useRef(!1),v=g?h||!!g.closest("form"):!0;return o.jsxs(pK,{scope:n,checked:s,disabled:l,children:[o.jsx(Re.button,{type:"button",role:"radio","aria-checked":s,"data-state":j4(s),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:w,onClick:xe(t.onClick,S=>{s||d==null||d(),v&&(N.current=S.isPropagationStopped(),N.current||S.stopPropagation())})}),v&&o.jsx(I4,{control:g,bubbles:!N.current,name:r,value:c,checked:s,required:i,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});C4.displayName=pb;var k4="RadioIndicator",P4=_.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=gK(k4,n);return o.jsx(Xr,{present:r||i.checked,children:o.jsx(Re.span,{"data-state":j4(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});P4.displayName=k4;var yK="RadioBubbleInput",I4=_.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const l=_.useRef(null),c=rt(l,i),d=ob(n),h=B_(e);return _.useEffect(()=>{const p=l.current;if(!p)return;const g=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&w){const N=new Event("click",{bubbles:r});w.call(p,n),p.dispatchEvent(N)}},[d,n,r]),o.jsx(Re.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});I4.displayName=yK;function j4(t){return t?"checked":"unchecked"}var vK=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ay="RadioGroup",[xK,IQ]=or(ay,[Su,S4]),A4=Su(),R4=S4(),[_K,wK]=xK(ay),M4=_.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:l=!1,disabled:c=!1,orientation:d,dir:h,loop:p=!0,onValueChange:g,...y}=t,w=A4(n),N=Tu(h),[v,S]=ws({prop:i,defaultProp:s??null,onChange:g,caller:ay});return o.jsx(_K,{scope:n,name:r,required:l,disabled:c,value:v,onValueChange:S,children:o.jsx(Xw,{asChild:!0,...w,orientation:d,dir:N,loop:p,children:o.jsx(Re.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":c?"":void 0,dir:N,...y,ref:e})})})});M4.displayName=ay;var D4="RadioGroupItem",L4=_.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=wK(D4,n),l=i.disabled||r,c=A4(n),d=R4(n),h=_.useRef(null),p=rt(e,h),g=i.value===s.value,y=_.useRef(!1);return _.useEffect(()=>{const w=v=>{vK.includes(v.key)&&(y.current=!0)},N=()=>y.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",N),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",N)}},[]),o.jsx(Jw,{asChild:!0,...c,focusable:!l,active:g,children:o.jsx(C4,{disabled:l,required:i.required,checked:g,...d,...s,name:i.name,ref:p,onCheck:()=>i.onValueChange(s.value),onKeyDown:xe(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:xe(s.onFocus,()=>{var w;y.current&&((w=h.current)==null||w.click())})})})});L4.displayName=D4;var bK="RadioGroupIndicator",O4=_.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=R4(n);return o.jsx(P4,{...s,...r,ref:e})});O4.displayName=bK;var V4=M4,F4=L4,EK=O4;const Bp=_.forwardRef(({className:t,...e},n)=>o.jsx(V4,{className:je("grid gap-2",t),...e,ref:n}));Bp.displayName=V4.displayName;const Va=_.forwardRef(({className:t,...e},n)=>o.jsx(F4,{ref:n,className:je("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(EK,{className:"flex items-center justify-center",children:o.jsx(Xk,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Va.displayName=F4.displayName;const NK=({isOpen:t,onClose:e,onPlaceOrder:n,totalPrice:r,user:s})=>{const{isDarkMode:i,toggleDarkMode:l}=fn(),[c,d]=_.useState(1),[h,p]=_.useState([]),[g,y]=_.useState(null),[w,N]=_.useState("cod"),[v,S]=_.useState(0),[E,T]=_.useState(""),[C,R]=_.useState(!1),F=r>299?0:29,U=r+F+v;_.useEffect(()=>{t&&s?j(s.uid):(d(1),y(null),N("cod"),S(0),T(""))},[t,s]);const j=async O=>{R(!0);try{const Q=hi(Tt,"addresses"),me=Bo(Q,Qa("userId","==",O)),J=(await tu(me)).docs.map($=>{const H=$.data();return{id:$.id,type:H.type,name:H.name,address:H.address,city:H.city,state:H.state,pincode:H.pincode,isDefault:H.isDefault}});J.sort(($,H)=>$.isDefault&&!H.isDefault?-1:!$.isDefault&&H.isDefault?1:0),p(J),J.length>0&&y(J.find($=>$.isDefault)||J[0])}catch(Q){console.error("Error loading addresses: ",Q),re.error("Failed to load addresses.")}finally{R(!1)}},I=O=>{S(O),T("")},A=O=>{const Q=O.target.value;T(Q),S(Number(Q)||0)},D=()=>{if(!g){re.error("Please select a delivery address."),d(1);return}n({address:g,paymentMethod:w,tip:v,finalTotal:U})},z=O=>{switch(O){case"home":return o.jsx(nP,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(k_,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(hh,{className:"w-5 h-5 text-gray-500"})}},B=()=>{switch(c){case 1:return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Vs,{className:"text-xl font-bold mb-2 text-gray-800 dark:text-white",children:"Select Delivery Address"}),o.jsx(wi,{className:"text-gray-600 dark:text-gray-400",children:"Choose where you'd like your order delivered"})]}),C?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):o.jsx(Bp,{value:g==null?void 0:g.id,onValueChange:O=>y(h.find(Q=>Q.id===O)||null),children:o.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:h.map(O=>o.jsxs(Le,{htmlFor:O.id,className:"flex items-start space-x-3 p-4 border dark:border-gray-700 rounded-xl cursor-pointer hover:border-green-500 transition-colors bg-white dark:bg-gray-700",children:[o.jsx(Va,{value:O.id,id:O.id,className:"mt-1"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[z(O.type),o.jsx("h3",{className:"font-semibold capitalize text-gray-900 dark:text-white",children:O.type}),O.isDefault&&o.jsx("span",{className:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs px-2 py-1 rounded-full",children:"Default"})]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed",children:`${O.name}, ${O.address}, ${O.city}, ${O.state} - ${O.pincode}`})]})]},O.id))})}),h.length===0&&!C&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No addresses found"}),o.jsx(Z,{variant:"outline",onClick:()=>window.location.href="/address",children:"Add New Address"})]})]});case 2:return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Vs,{className:"text-xl font-bold mb-2 text-gray-800 dark:text-white",children:"Payment & Tip"}),o.jsx(wi,{className:"text-gray-600 dark:text-gray-400",children:"Choose your payment method and add a tip"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 text-lg",children:"Payment Method"}),o.jsx(Bp,{value:w,onValueChange:N,children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Le,{htmlFor:"cod",className:"flex items-center space-x-4 p-4 border dark:border-gray-700 rounded-xl cursor-pointer hover:border-green-500 transition-colors bg-white dark:bg-gray-700",children:[o.jsx(Va,{value:"cod",id:"cod"}),o.jsx(Y5,{className:"w-6 h-6 text-green-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:"Cash on Delivery"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pay when you receive your order"})]})]}),o.jsxs(Le,{htmlFor:"upi",className:"flex items-center space-x-4 p-4 border dark:border-gray-700 rounded-xl cursor-pointer hover:border-green-500 transition-colors bg-white dark:bg-gray-700",children:[o.jsx(Va,{value:"upi",id:"upi"}),o.jsx(F5,{className:"w-6 h-6 text-blue-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:"UPI"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pay using UPI apps"})]})]}),o.jsxs(Le,{htmlFor:"card",className:"flex items-center space-x-4 p-4 border dark:border-gray-700 rounded-xl cursor-pointer hover:border-green-500 transition-colors bg-white dark:bg-gray-700",children:[o.jsx(Va,{value:"card",id:"card"}),o.jsx(Jk,{className:"w-6 h-6 text-purple-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:"Credit/Debit Card"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pay with your card"})]})]})]})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:"Add a Tip"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Show appreciation to your delivery partner"}),o.jsx("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[10,20,50].map(O=>o.jsxs(Z,{variant:v===O?"default":"outline",onClick:()=>I(O),className:"h-12 text-base",children:["₹",O]},O))}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ge,{type:"number",placeholder:"Custom amount",value:E,onChange:A,className:"flex-1 h-12 text-base dark:bg-gray-700 dark:text-white dark:placeholder-gray-400"}),o.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"₹"})]})]})]})]});default:return null}};return o.jsx(Gi,{open:t,onOpenChange:e,children:o.jsx(fi,{className:"sm:max-w-md w-[95vw] max-h-[90vh] p-0 sm:p-6 bg-white dark:bg-gray-800",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx(mi,{className:"px-4 pt-4 pb-2 sm:px-0 sm:pt-0 sm:pb-4 border-b dark:border-gray-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 sm:hidden",children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsx(wi,{className:"text-center flex-1 sm:text-left text-gray-600 dark:text-gray-400",children:"Complete your order"}),o.jsx("div",{className:"w-10 sm:hidden"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-0",children:B()}),o.jsx("div",{className:"border-t dark:border-gray-700 bg-white dark:bg-gray-800 px-4 py-4 sm:px-0 sm:py-0 sm:border-t-0 sm:mt-6",children:o.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:justify-between sm:items-center sm:space-y-0",children:[o.jsxs("div",{className:"text-center sm:text-left",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Amount"}),o.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["₹",U.toFixed(2)]}),F>0&&o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Includes ₹",F," delivery fee"]})]}),o.jsxs("div",{className:"flex space-x-3",children:[c===1&&o.jsxs(Z,{onClick:()=>d(2),disabled:!g,className:"flex-1 sm:flex-none",size:"lg",children:["Next",o.jsx(C_,{className:"w-4 h-4 ml-2"})]}),c===2&&o.jsxs(o.Fragment,{children:[o.jsxs(Z,{variant:"outline",onClick:()=>d(1),className:"flex-1 sm:flex-none",size:"lg",children:[o.jsx(zn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx(Z,{onClick:D,className:"flex-1 sm:flex-none",size:"lg",children:"Confirm Order"})]})]})]})})]})})})};function TK(t){return Object.prototype.toString.call(t)==="[object Object]"}function HT(t){return TK(t)||Array.isArray(t)}function SK(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function gb(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:n.every(l=>{const c=t[l],d=e[l];return typeof c=="function"?`${c}`==`${d}`:!HT(c)||!HT(d)?c===d:gb(c,d)})}function WT(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function CK(t,e){if(t.length!==e.length)return!1;const n=WT(t),r=WT(e);return n.every((s,i)=>{const l=r[i];return gb(s,l)})}function yb(t){return typeof t=="number"}function vx(t){return typeof t=="string"}function ly(t){return typeof t=="boolean"}function GT(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ht(t){return Math.abs(t)}function vb(t){return Math.sign(t)}function Kd(t,e){return Ht(t-e)}function kK(t,e){if(t===0||e===0||Ht(t)<=Ht(e))return 0;const n=Kd(Ht(t),Ht(e));return Ht(n/t)}function PK(t){return Math.round(t*100)/100}function Ah(t){return Rh(t).map(Number)}function Bs(t){return t[lf(t)]}function lf(t){return Math.max(0,t.length-1)}function xb(t,e){return e===lf(t)}function KT(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function Rh(t){return Object.keys(t)}function z4(t,e){return[t,e].reduce((n,r)=>(Rh(r).forEach(s=>{const i=n[s],l=r[s],c=GT(i)&&GT(l);n[s]=c?z4(i,l):l}),n),{})}function xx(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function IK(t,e){const n={start:r,center:s,end:i};function r(){return 0}function s(d){return i(d)/2}function i(d){return e-d}function l(d,h){return vx(t)?n[t](d):t(e,d,h)}return{measure:l}}function Mh(){let t=[];function e(s,i,l,c={passive:!0}){let d;if("addEventListener"in s)s.addEventListener(i,l,c),d=()=>s.removeEventListener(i,l,c);else{const h=s;h.addListener(l),d=()=>h.removeListener(l)}return t.push(d),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function jK(t,e,n,r){const s=Mh(),i=1e3/60;let l=null,c=0,d=0;function h(){s.add(t,"visibilitychange",()=>{t.hidden&&N()})}function p(){w(),s.clear()}function g(S){if(!d)return;l||(l=S,n(),n());const E=S-l;for(l=S,c+=E;c>=i;)n(),c-=i;const T=c/i;r(T),d&&(d=e.requestAnimationFrame(g))}function y(){d||(d=e.requestAnimationFrame(g))}function w(){e.cancelAnimationFrame(d),l=null,c=0,d=0}function N(){l=null,c=0}return{init:h,destroy:p,start:y,stop:w,update:n,render:r}}function AK(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",i=r?"x":"y",l=!r&&n?-1:1,c=p(),d=g();function h(N){const{height:v,width:S}=N;return r?v:S}function p(){return r?"top":n?"right":"left"}function g(){return r?"bottom":n?"left":"right"}function y(N){return N*l}return{scroll:s,cross:i,startEdge:c,endEdge:d,measureSize:h,direction:y}}function gl(t=0,e=0){const n=Ht(t-e);function r(h){return h<t}function s(h){return h>e}function i(h){return r(h)||s(h)}function l(h){return i(h)?r(h)?t:e:h}function c(h){return n?h-n*Math.ceil((h-e)/n):h}return{length:n,max:e,min:t,constrain:l,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:c}}function B4(t,e,n){const{constrain:r}=gl(0,t),s=t+1;let i=l(e);function l(y){return n?Ht((s+y)%s):r(y)}function c(){return i}function d(y){return i=l(y),g}function h(y){return p().set(c()+y)}function p(){return B4(t,c(),n)}const g={get:c,set:d,add:h,clone:p};return g}function RK(t,e,n,r,s,i,l,c,d,h,p,g,y,w,N,v,S,E,T){const{cross:C,direction:R}=t,F=["INPUT","SELECT","TEXTAREA"],U={passive:!1},j=Mh(),I=Mh(),A=gl(50,225).constrain(w.measure(20)),D={mouse:300,touch:400},z={mouse:500,touch:600},B=N?43:25;let O=!1,Q=0,me=0,Y=!1,J=!1,$=!1,H=!1;function G(se){if(!T)return;function Ae(dt){(ly(T)||T(se,dt))&&_e(dt)}const Ye=e;j.add(Ye,"dragstart",dt=>dt.preventDefault(),U).add(Ye,"touchmove",()=>{},U).add(Ye,"touchend",()=>{}).add(Ye,"touchstart",Ae).add(Ye,"mousedown",Ae).add(Ye,"touchcancel",Ie).add(Ye,"contextmenu",Ie).add(Ye,"click",Oe,!0)}function te(){j.clear(),I.clear()}function ne(){const se=H?n:e;I.add(se,"touchmove",oe,U).add(se,"touchend",Ie).add(se,"mousemove",oe,U).add(se,"mouseup",Ie)}function ce(se){const Ae=se.nodeName||"";return F.includes(Ae)}function ge(){return(N?z:D)[H?"mouse":"touch"]}function be(se,Ae){const Ye=g.add(vb(se)*-1),dt=p.byDistance(se,!N).distance;return N||Ht(se)<A?dt:S&&Ae?dt*.5:p.byIndex(Ye.get(),0).distance}function _e(se){const Ae=xx(se,r);H=Ae,$=N&&Ae&&!se.buttons&&O,O=Kd(s.get(),l.get())>=2,!(Ae&&se.button!==0)&&(ce(se.target)||(Y=!0,i.pointerDown(se),h.useFriction(0).useDuration(0),s.set(l),ne(),Q=i.readPoint(se),me=i.readPoint(se,C),y.emit("pointerDown")))}function oe(se){if(!xx(se,r)&&se.touches.length>=2)return Ie(se);const Ye=i.readPoint(se),dt=i.readPoint(se,C),vt=Kd(Ye,Q),bt=Kd(dt,me);if(!J&&!H&&(!se.cancelable||(J=vt>bt,!J)))return Ie(se);const Zt=i.pointerMove(se);vt>v&&($=!0),h.useFriction(.3).useDuration(.75),c.start(),s.add(R(Zt)),se.preventDefault()}function Ie(se){const Ye=p.byDistance(0,!1).index!==g.get(),dt=i.pointerUp(se)*ge(),vt=be(R(dt),Ye),bt=kK(dt,vt),Zt=B-10*bt,Bt=E+bt/50;J=!1,Y=!1,I.clear(),h.useDuration(Zt).useFriction(Bt),d.distance(vt,!N),H=!1,y.emit("pointerUp")}function Oe(se){$&&(se.stopPropagation(),se.preventDefault(),$=!1)}function de(){return Y}return{init:G,destroy:te,pointerDown:de}}function MK(t,e){let r,s;function i(g){return g.timeStamp}function l(g,y){const N=`client${(y||t.scroll)==="x"?"X":"Y"}`;return(xx(g,e)?g:g.touches[0])[N]}function c(g){return r=g,s=g,l(g)}function d(g){const y=l(g)-l(s),w=i(g)-i(r)>170;return s=g,w&&(r=g),y}function h(g){if(!r||!s)return 0;const y=l(s)-l(r),w=i(g)-i(r),N=i(g)-i(s)>170,v=y/w;return w&&!N&&Ht(v)>.1?v:0}return{pointerDown:c,pointerMove:d,pointerUp:h,readPoint:l}}function DK(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:l}=n;return{top:r,right:s+i,bottom:r+l,left:s,width:i,height:l}}return{measure:t}}function LK(t){function e(r){return t*(r/100)}return{measure:e}}function OK(t,e,n,r,s,i,l){const c=[t].concat(r);let d,h,p=[],g=!1;function y(S){return s.measureSize(l.measure(S))}function w(S){if(!i)return;h=y(t),p=r.map(y);function E(T){for(const C of T){if(g)return;const R=C.target===t,F=r.indexOf(C.target),U=R?h:p[F],j=y(R?t:r[F]);if(Ht(j-U)>=.5){S.reInit(),e.emit("resize");break}}}d=new ResizeObserver(T=>{(ly(i)||i(S,T))&&E(T)}),n.requestAnimationFrame(()=>{c.forEach(T=>d.observe(T))})}function N(){g=!0,d&&d.disconnect()}return{init:w,destroy:N}}function VK(t,e,n,r,s,i){let l=0,c=0,d=s,h=i,p=t.get(),g=0;function y(){const U=r.get()-t.get(),j=!d;let I=0;return j?(l=0,n.set(r),t.set(r),I=U):(n.set(t),l+=U/d,l*=h,p+=l,t.add(l),I=p-g),c=vb(I),g=p,F}function w(){const U=r.get()-e.get();return Ht(U)<.001}function N(){return d}function v(){return c}function S(){return l}function E(){return C(s)}function T(){return R(i)}function C(U){return d=U,F}function R(U){return h=U,F}const F={direction:v,duration:N,velocity:S,seek:y,settled:w,useBaseFriction:T,useBaseDuration:E,useFriction:R,useDuration:C};return F}function FK(t,e,n,r,s){const i=s.measure(10),l=s.measure(50),c=gl(.1,.99);let d=!1;function h(){return!(d||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function p(w){if(!h())return;const N=t.reachedMin(e.get())?"min":"max",v=Ht(t[N]-e.get()),S=n.get()-e.get(),E=c.constrain(v/l);n.subtract(S*E),!w&&Ht(S)<i&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function g(w){d=!w}return{shouldConstrain:h,constrain:p,toggleActive:g}}function zK(t,e,n,r,s){const i=gl(-e+t,0),l=g(),c=p(),d=y();function h(N,v){return Kd(N,v)<=1}function p(){const N=l[0],v=Bs(l),S=l.lastIndexOf(N),E=l.indexOf(v)+1;return gl(S,E)}function g(){return n.map((N,v)=>{const{min:S,max:E}=i,T=i.constrain(N),C=!v,R=xb(n,v);return C?E:R||h(S,T)?S:h(E,T)?E:T}).map(N=>parseFloat(N.toFixed(3)))}function y(){if(e<=t+s)return[i.max];if(r==="keepSnaps")return l;const{min:N,max:v}=c;return l.slice(N,v)}return{snapsContained:d,scrollContainLimit:c}}function BK(t,e,n){const r=e[0],s=n?r-t:Bs(e);return{limit:gl(s,r)}}function UK(t,e,n,r){const i=e.min+.1,l=e.max+.1,{reachedMin:c,reachedMax:d}=gl(i,l);function h(y){return y===1?d(n.get()):y===-1?c(n.get()):!1}function p(y){if(!h(y))return;const w=t*(y*-1);r.forEach(N=>N.add(w))}return{loop:p}}function $K(t){const{max:e,length:n}=t;function r(i){const l=i-e;return n?l/-n:0}return{get:r}}function qK(t,e,n,r,s){const{startEdge:i,endEdge:l}=t,{groupSlides:c}=s,d=g().map(e.measure),h=y(),p=w();function g(){return c(r).map(v=>Bs(v)[l]-v[0][i]).map(Ht)}function y(){return r.map(v=>n[i]-v[i]).map(v=>-Ht(v))}function w(){return c(h).map(v=>v[0]).map((v,S)=>v+d[S])}return{snaps:h,snapsAligned:p}}function HK(t,e,n,r,s,i){const{groupSlides:l}=s,{min:c,max:d}=r,h=p();function p(){const y=l(i),w=!t||e==="keepSnaps";return n.length===1?[i]:w?y:y.slice(c,d).map((N,v,S)=>{const E=!v,T=xb(S,v);if(E){const C=Bs(S[0])+1;return KT(C)}if(T){const C=lf(i)-Bs(S)[0]+1;return KT(C,Bs(S)[0])}return N})}return{slideRegistry:h}}function WK(t,e,n,r,s){const{reachedAny:i,removeOffset:l,constrain:c}=r;function d(N){return N.concat().sort((v,S)=>Ht(v)-Ht(S))[0]}function h(N){const v=t?l(N):c(N),S=e.map((T,C)=>({diff:p(T-v,0),index:C})).sort((T,C)=>Ht(T.diff)-Ht(C.diff)),{index:E}=S[0];return{index:E,distance:v}}function p(N,v){const S=[N,N+n,N-n];if(!t)return N;if(!v)return d(S);const E=S.filter(T=>vb(T)===v);return E.length?d(E):Bs(S)-n}function g(N,v){const S=e[N]-s.get(),E=p(S,v);return{index:N,distance:E}}function y(N,v){const S=s.get()+N,{index:E,distance:T}=h(S),C=!t&&i(S);if(!v||C)return{index:E,distance:N};const R=e[E]-T,F=N+p(R,0);return{index:E,distance:F}}return{byDistance:y,byIndex:g,shortcut:p}}function GK(t,e,n,r,s,i,l){function c(g){const y=g.distance,w=g.index!==e.get();i.add(y),y&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),w&&(n.set(e.get()),e.set(g.index),l.emit("select"))}function d(g,y){const w=s.byDistance(g,y);c(w)}function h(g,y){const w=e.clone().set(g),N=s.byIndex(w.get(),y);c(N)}return{distance:d,index:h}}function KK(t,e,n,r,s,i,l,c){const d={passive:!0,capture:!0};let h=0;function p(w){if(!c)return;function N(v){if(new Date().getTime()-h>10)return;l.emit("slideFocusStart"),t.scrollLeft=0;const T=n.findIndex(C=>C.includes(v));yb(T)&&(s.useDuration(0),r.index(T,0),l.emit("slideFocus"))}i.add(document,"keydown",g,!1),e.forEach((v,S)=>{i.add(v,"focus",E=>{(ly(c)||c(w,E))&&N(S)},d)})}function g(w){w.code==="Tab"&&(h=new Date().getTime())}return{init:p}}function Cd(t){let e=t;function n(){return e}function r(d){e=l(d)}function s(d){e+=l(d)}function i(d){e-=l(d)}function l(d){return yb(d)?d:d.get()}return{get:n,set:r,add:s,subtract:i}}function U4(t,e){const n=t.scroll==="x"?l:c,r=e.style;let s=null,i=!1;function l(y){return`translate3d(${y}px,0px,0px)`}function c(y){return`translate3d(0px,${y}px,0px)`}function d(y){if(i)return;const w=PK(t.direction(y));w!==s&&(r.transform=n(w),s=w)}function h(y){i=!y}function p(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:p,to:d,toggleActive:h}}function ZK(t,e,n,r,s,i,l,c,d){const p=Ah(s),g=Ah(s).reverse(),y=E().concat(T());function w(j,I){return j.reduce((A,D)=>A-s[D],I)}function N(j,I){return j.reduce((A,D)=>w(A,I)>0?A.concat([D]):A,[])}function v(j){return i.map((I,A)=>({start:I-r[A]+.5+j,end:I+e-.5+j}))}function S(j,I,A){const D=v(I);return j.map(z=>{const B=A?0:-n,O=A?n:0,Q=A?"end":"start",me=D[z][Q];return{index:z,loopPoint:me,slideLocation:Cd(-1),translate:U4(t,d[z]),target:()=>c.get()>me?B:O}})}function E(){const j=l[0],I=N(g,j);return S(I,n,!1)}function T(){const j=e-l[0]-1,I=N(p,j);return S(I,-n,!0)}function C(){return y.every(({index:j})=>{const I=p.filter(A=>A!==j);return w(I,e)<=.1})}function R(){y.forEach(j=>{const{target:I,translate:A,slideLocation:D}=j,z=I();z!==D.get()&&(A.to(z),D.set(z))})}function F(){y.forEach(j=>j.translate.clear())}return{canLoop:C,clear:F,loop:R,loopPoints:y}}function QK(t,e,n){let r,s=!1;function i(d){if(!n)return;function h(p){for(const g of p)if(g.type==="childList"){d.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(p=>{s||(ly(n)||n(d,p))&&h(p)}),r.observe(t,{childList:!0})}function l(){r&&r.disconnect(),s=!0}return{init:i,destroy:l}}function YK(t,e,n,r){const s={};let i=null,l=null,c,d=!1;function h(){c=new IntersectionObserver(N=>{d||(N.forEach(v=>{const S=e.indexOf(v.target);s[S]=v}),i=null,l=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(N=>c.observe(N))}function p(){c&&c.disconnect(),d=!0}function g(N){return Rh(s).reduce((v,S)=>{const E=parseInt(S),{isIntersecting:T}=s[E];return(N&&T||!N&&!T)&&v.push(E),v},[])}function y(N=!0){if(N&&i)return i;if(!N&&l)return l;const v=g(N);return N&&(i=v),N||(l=v),v}return{init:h,destroy:p,get:y}}function XK(t,e,n,r,s,i){const{measureSize:l,startEdge:c,endEdge:d}=t,h=n[0]&&s,p=N(),g=v(),y=n.map(l),w=S();function N(){if(!h)return 0;const T=n[0];return Ht(e[c]-T[c])}function v(){if(!h)return 0;const T=i.getComputedStyle(Bs(r));return parseFloat(T.getPropertyValue(`margin-${d}`))}function S(){return n.map((T,C,R)=>{const F=!C,U=xb(R,C);return F?y[C]+p:U?y[C]+g:R[C+1][c]-T[c]}).map(Ht)}return{slideSizes:y,slideSizesWithGaps:w,startGap:p,endGap:g}}function JK(t,e,n,r,s,i,l,c,d){const{startEdge:h,endEdge:p,direction:g}=t,y=yb(n);function w(E,T){return Ah(E).filter(C=>C%T===0).map(C=>E.slice(C,C+T))}function N(E){return E.length?Ah(E).reduce((T,C,R)=>{const F=Bs(T)||0,U=F===0,j=C===lf(E),I=s[h]-i[F][h],A=s[h]-i[C][p],D=!r&&U?g(l):0,z=!r&&j?g(c):0,B=Ht(A-z-(I+D));return R&&B>e+d&&T.push(C),j&&T.push(E.length),T},[]).map((T,C,R)=>{const F=Math.max(R[C-1]||0);return E.slice(F,T)}):[]}function v(E){return y?w(E,n):N(E)}return{groupSlides:v}}function eZ(t,e,n,r,s,i,l){const{align:c,axis:d,direction:h,startIndex:p,loop:g,duration:y,dragFree:w,dragThreshold:N,inViewThreshold:v,slidesToScroll:S,skipSnaps:E,containScroll:T,watchResize:C,watchSlides:R,watchDrag:F,watchFocus:U}=i,j=2,I=DK(),A=I.measure(e),D=n.map(I.measure),z=AK(d,h),B=z.measureSize(A),O=LK(B),Q=IK(c,B),me=!g&&!!T,Y=g||!!T,{slideSizes:J,slideSizesWithGaps:$,startGap:H,endGap:G}=XK(z,A,D,n,Y,s),te=JK(z,B,S,g,A,D,H,G,j),{snaps:ne,snapsAligned:ce}=qK(z,Q,A,D,te),ge=-Bs(ne)+Bs($),{snapsContained:be,scrollContainLimit:_e}=zK(B,ge,ce,T,j),oe=me?be:ce,{limit:Ie}=BK(ge,oe,g),Oe=B4(lf(oe),p,g),de=Oe.clone(),he=Ah(n),se=({dragHandler:Qt,scrollBody:qn,scrollBounds:jn,options:{loop:Hn}})=>{Hn||jn.constrain(Qt.pointerDown()),qn.seek()},Ae=({scrollBody:Qt,translate:qn,location:jn,offsetLocation:Hn,previousLocation:An,scrollLooper:At,slideLooper:vr,dragHandler:Dr,animation:Ti,eventHandler:Qs,scrollBounds:Ys,options:{loop:Lr}},Or)=>{const Rn=Qt.settled(),Vr=!Ys.shouldConstrain(),Ve=Lr?Rn:Rn&&Vr,tt=Ve&&!Dr.pointerDown();tt&&Ti.stop();const yt=jn.get()*Or+An.get()*(1-Or);Hn.set(yt),Lr&&(At.loop(Qt.direction()),vr.loop()),qn.to(Hn.get()),tt&&Qs.emit("settle"),Ve||Qs.emit("scroll")},Ye=jK(r,s,()=>se($n),Qt=>Ae($n,Qt)),dt=.68,vt=oe[Oe.get()],bt=Cd(vt),Zt=Cd(vt),Bt=Cd(vt),mn=Cd(vt),en=VK(bt,Bt,Zt,mn,y,dt),Mr=WK(g,oe,ge,Ie,mn),tn=GK(Ye,Oe,de,en,Mr,mn,l),ye=$K(Ie),$e=Mh(),Ke=YK(e,n,l,v),{slideRegistry:Ue}=HK(me,T,oe,_e,te,he),ar=KK(t,n,Ue,tn,en,$e,l,U),$n={ownerDocument:r,ownerWindow:s,eventHandler:l,containerRect:A,slideRects:D,animation:Ye,axis:z,dragHandler:RK(z,t,r,s,mn,MK(z,s),bt,Ye,tn,en,Mr,Oe,l,O,w,N,E,dt,F),eventStore:$e,percentOfView:O,index:Oe,indexPrevious:de,limit:Ie,location:bt,offsetLocation:Bt,previousLocation:Zt,options:i,resizeHandler:OK(e,l,s,n,z,C,I),scrollBody:en,scrollBounds:FK(Ie,Bt,mn,en,O),scrollLooper:UK(ge,Ie,Bt,[bt,Bt,Zt,mn]),scrollProgress:ye,scrollSnapList:oe.map(ye.get),scrollSnaps:oe,scrollTarget:Mr,scrollTo:tn,slideLooper:ZK(z,B,ge,J,$,ne,oe,Bt,n),slideFocus:ar,slidesHandler:QK(e,l,R),slidesInView:Ke,slideIndexes:he,slideRegistry:Ue,slidesToScroll:te,target:mn,translate:U4(z,e)};return $n}function tZ(){let t={},e;function n(h){e=h}function r(h){return t[h]||[]}function s(h){return r(h).forEach(p=>p(e,h)),d}function i(h,p){return t[h]=r(h).concat([p]),d}function l(h,p){return t[h]=r(h).filter(g=>g!==p),d}function c(){t={}}const d={init:n,emit:s,off:l,on:i,clear:c};return d}const nZ={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function rZ(t){function e(i,l){return z4(i,l||{})}function n(i){const l=i.breakpoints||{},c=Rh(l).filter(d=>t.matchMedia(d).matches).map(d=>l[d]).reduce((d,h)=>e(d,h),{});return e(i,c)}function r(i){return i.map(l=>Rh(l.breakpoints||{})).reduce((l,c)=>l.concat(c),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function sZ(t){let e=[];function n(i,l){return e=l.filter(({options:c})=>t.optionsAtMedia(c).active!==!1),e.forEach(c=>c.init(i,t)),l.reduce((c,d)=>Object.assign(c,{[d.name]:d}),{})}function r(){e=e.filter(i=>i.destroy())}return{init:n,destroy:r}}function Up(t,e,n){const r=t.ownerDocument,s=r.defaultView,i=rZ(s),l=sZ(i),c=Mh(),d=tZ(),{mergeOptions:h,optionsAtMedia:p,optionsMediaQueries:g}=i,{on:y,off:w,emit:N}=d,v=z;let S=!1,E,T=h(nZ,Up.globalOptions),C=h(T),R=[],F,U,j;function I(){const{container:he,slides:se}=C;U=(vx(he)?t.querySelector(he):he)||t.children[0];const Ye=vx(se)?U.querySelectorAll(se):se;j=[].slice.call(Ye||U.children)}function A(he){const se=eZ(t,U,j,r,s,he,d);if(he.loop&&!se.slideLooper.canLoop()){const Ae=Object.assign({},he,{loop:!1});return A(Ae)}return se}function D(he,se){S||(T=h(T,he),C=p(T),R=se||R,I(),E=A(C),g([T,...R.map(({options:Ae})=>Ae)]).forEach(Ae=>c.add(Ae,"change",z)),C.active&&(E.translate.to(E.location.get()),E.animation.init(),E.slidesInView.init(),E.slideFocus.init(de),E.eventHandler.init(de),E.resizeHandler.init(de),E.slidesHandler.init(de),E.options.loop&&E.slideLooper.loop(),U.offsetParent&&j.length&&E.dragHandler.init(de),F=l.init(de,R)))}function z(he,se){const Ae=te();B(),D(h({startIndex:Ae},he),se),d.emit("reInit")}function B(){E.dragHandler.destroy(),E.eventStore.clear(),E.translate.clear(),E.slideLooper.clear(),E.resizeHandler.destroy(),E.slidesHandler.destroy(),E.slidesInView.destroy(),E.animation.destroy(),l.destroy(),c.clear()}function O(){S||(S=!0,c.clear(),B(),d.emit("destroy"),d.clear())}function Q(he,se,Ae){!C.active||S||(E.scrollBody.useBaseFriction().useDuration(se===!0?0:C.duration),E.scrollTo.index(he,Ae||0))}function me(he){const se=E.index.add(1).get();Q(se,he,-1)}function Y(he){const se=E.index.add(-1).get();Q(se,he,1)}function J(){return E.index.add(1).get()!==te()}function $(){return E.index.add(-1).get()!==te()}function H(){return E.scrollSnapList}function G(){return E.scrollProgress.get(E.offsetLocation.get())}function te(){return E.index.get()}function ne(){return E.indexPrevious.get()}function ce(){return E.slidesInView.get()}function ge(){return E.slidesInView.get(!1)}function be(){return F}function _e(){return E}function oe(){return t}function Ie(){return U}function Oe(){return j}const de={canScrollNext:J,canScrollPrev:$,containerNode:Ie,internalEngine:_e,destroy:O,off:w,on:y,emit:N,plugins:be,previousScrollSnap:ne,reInit:v,rootNode:oe,scrollNext:me,scrollPrev:Y,scrollProgress:G,scrollSnapList:H,scrollTo:Q,selectedScrollSnap:te,slideNodes:Oe,slidesInView:ce,slidesNotInView:ge};return D(e,n),setTimeout(()=>d.emit("init"),0),de}Up.globalOptions=void 0;function _b(t={},e=[]){const n=_.useRef(t),r=_.useRef(e),[s,i]=_.useState(),[l,c]=_.useState(),d=_.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return _.useEffect(()=>{gb(n.current,t)||(n.current=t,d())},[t,d]),_.useEffect(()=>{CK(r.current,e)||(r.current=e,d())},[e,d]),_.useEffect(()=>{if(SK()&&l){Up.globalOptions=_b.globalOptions;const h=Up(l,n.current,r.current);return i(h),()=>h.destroy()}else i(void 0)},[l,i]),[c,s]}_b.globalOptions=void 0;const $4=_.createContext(null);function cy(){const t=_.useContext($4);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const _x=_.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:s,children:i,...l},c)=>{const[d,h]=_b({...e,axis:t==="horizontal"?"x":"y"},r),[p,g]=_.useState(!1),[y,w]=_.useState(!1),N=_.useCallback(T=>{T&&(g(T.canScrollPrev()),w(T.canScrollNext()))},[]),v=_.useCallback(()=>{h==null||h.scrollPrev()},[h]),S=_.useCallback(()=>{h==null||h.scrollNext()},[h]),E=_.useCallback(T=>{T.key==="ArrowLeft"?(T.preventDefault(),v()):T.key==="ArrowRight"&&(T.preventDefault(),S())},[v,S]);return _.useEffect(()=>{!h||!n||n(h)},[h,n]),_.useEffect(()=>{if(h)return N(h),h.on("reInit",N),h.on("select",N),()=>{h==null||h.off("select",N)}},[h,N]),o.jsx($4.Provider,{value:{carouselRef:d,api:h,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:S,canScrollPrev:p,canScrollNext:y},children:o.jsx("div",{ref:c,onKeyDownCapture:E,className:je("relative",s),role:"region","aria-roledescription":"carousel",...l,children:i})})});_x.displayName="Carousel";const wx=_.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:s}=cy();return o.jsx("div",{ref:r,className:"overflow-hidden",children:o.jsx("div",{ref:n,className:je("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});wx.displayName="CarouselContent";const bx=_.forwardRef(({className:t,...e},n)=>{const{orientation:r}=cy();return o.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:je("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});bx.displayName="CarouselItem";const Ex=_.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollPrev:l,canScrollPrev:c}=cy();return o.jsxs(Z,{ref:s,variant:e,size:n,className:je("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!c,onClick:l,...r,children:[o.jsx(zn,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Ex.displayName="CarouselPrevious";const Nx=_.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollNext:l,canScrollNext:c}=cy();return o.jsxs(Z,{ref:s,variant:e,size:n,className:je("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!c,onClick:l,...r,children:[o.jsx(C_,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Next slide"})]})});Nx.displayName="CarouselNext";const iZ=[{name:"Biryani",image:"https://images.unsplash.com/photo-1633945274405-b6c8069047b0?w=400&h=400&fit=crop&crop=center"},{name:"Burgers",image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400&h=400&fit=crop&crop=center"},{name:"Chinese",image:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400&h=400&fit=crop&crop=center"},{name:"Pizzas",image:"https://images.unsplash.com/photo-1604382354936-07c5d9983bd3?w=400&h=400&fit=crop&crop=center"},{name:"Indian",image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400&h=400&fit=crop&crop=center"},{name:"Desserts",image:"https://images.unsplash.com/photo-1551024601-bec78aea704b?w=400&h=400&fit=crop&crop=center"}],oZ=[{name:"Fresh Vegetables",image:"https://images.unsplash.com/photo-1540420773420-3366772f4999?w=400&h=400&fit=crop&crop=center"},{name:"Fresh Fruits",image:"https://images.unsplash.com/photo-1619566636858-adf3ef46400b?w=400&h=400&fit=crop&crop=center"},{name:"Dairy, Bread & Eggs",image:"https://images.unsplash.com/photo-1550583724-b2692b85b150?w=400&h=400&fit=crop&crop=center"},{name:"Rice, Atta & Dals",image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=400&fit=crop&crop=center"},{name:"Masalas & Dry Fruits",image:"https://images.unsplash.com/photo-1604329760661-e71dc83f8f26?w=400&h=400&fit=crop&crop=center"},{name:"Oils & Ghee",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=400&fit=crop&crop=center"},{name:"Munchies",image:"https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=400&h=400&fit=crop&crop=center"},{name:"Sweet Tooth",image:"https://images.unsplash.com/photo-1551024601-bec78aea704b?w=400&h=400&fit=crop&crop=center"}],aZ=()=>{var tn;const t=Un(),{isDarkMode:e,toggleDarkMode:n}=fn(),{selectedAddress:r}=TM(),[s,i]=_.useState("food"),[l,c]=_.useState(""),[d,h]=_.useState("grid"),[p,g]=_.useState([0,1e3]),[y,w]=_.useState("Fetching location..."),[N,v]=_.useState([]),[S,E]=_.useState(!1),[T,C]=_.useState(!1),[R,F]=_.useState(null),[U,j]=_.useState(!1),[I,A]=_.useState(null),[D,z]=_.useState(!1),[B,O]=_.useState(!1),[Q,me]=_.useState(!1),[Y,J]=_.useState(!1),[$,H]=_.useState([]),[G,te]=_.useState([]),[ne,ce]=_.useState([]),ge=ye=>{if(!ye||ye==="Fetching location..."||ye==="Location not found"||ye==="Could not fetch location"||ye==="Location access denied"||ye==="Geolocation not supported")return ye;const $e=ye.split(",");return $e.length>=3?$e.slice(0,2).join(", ")+"...":$e.length===2?$e[0]+"...":ye.length>30?ye.substring(0,30)+"...":ye},be=()=>r?`${r.city}, ${r.state}`:ge(y),_e={fast_delivery:(()=>{var ye;if(r){const $e=(ye=r.city)==null?void 0:ye.toLowerCase();if($e!=null&&$e.includes("mumbai"))return[{id:5,name:"Pizza Hut",price:120,rating:4.6,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"25-30 mins",ad:!0},{id:6,name:"Bombay Spice",price:150,rating:4.4,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"20-25 mins",discount:"50% OFF"},{id:7,name:"Mumbai Chinese",price:200,rating:4.2,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"18-22 mins",offer:"BUY1 GET1"}];if($e!=null&&$e.includes("delhi"))return[{id:5,name:"Domino's Delhi",price:110,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"22-28 mins",ad:!0},{id:6,name:"Delhi Darbar",price:140,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"18-23 mins",discount:"40% OFF"},{id:7,name:"Beijing Express",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"20-25 mins",offer:"BUY1 GET1"}];if($e!=null&&$e.includes("bangalore"))return[{id:5,name:"Pizza Corner",price:130,rating:4.7,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"20-25 mins",ad:!0},{id:6,name:"Bangalore Spice",price:160,rating:4.4,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"15-20 mins",discount:"60% OFF"},{id:7,name:"Tech Chinese",price:190,rating:4.2,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"18-22 mins",offer:"BUY1 GET1"}]}return[{id:5,name:"Domino's Pizza",price:91,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"20-25 mins",ad:!0},{id:6,name:"Spice N Ice",price:130,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"20-25 mins",discount:"60% OFF"},{id:7,name:"China Nation",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"15-20 mins",offer:"BUY1 GET1"}]})()},oe=[{name:"FEAST MODE",subtitle:"65% OFF Every 30 Mins",icon:"🍽️",color:"bg-blue-900/50"},{name:"FLASH DEALS",subtitle:"Dishes From ₹49",icon:"⚡",color:"bg-blue-900/50"},{name:"DISCOUNTS",subtitle:"Up To 60% OFF",icon:"%",color:"bg-blue-900/50"},{name:"Bolt",subtitle:"Food In 10 Mins",icon:"⚡",color:"bg-blue-900/50"}],Ie=_e.fast_delivery.filter(ye=>ye.name.toLowerCase().includes(l.toLowerCase())),Oe=ye=>{v($e=>$e.find(Ue=>Ue.id===ye.id)?$e.map(Ue=>Ue.id===ye.id?{...Ue,quantity:Ue.quantity+1}:Ue):[...$e,{...ye,quantity:1}]),re.success(`${ye.name} added to cart!`)},de=(ye,$e)=>{v(Ke=>$e<=0?Ke.filter(Ue=>Ue.id!==ye):Ke.map(Ue=>Ue.id===ye?{...Ue,quantity:$e}:Ue))},he=()=>N.reduce((ye,$e)=>ye+$e.quantity,0),se=()=>N.reduce((ye,$e)=>ye+$e.price*$e.quantity,0),Ae=()=>{re.success("Redirecting to orders...")},Ye=ye=>{A(ye)},dt=()=>{i("wine"),U?t("/drinks"):O(!0)},vt=ye=>{console.log("handleFoodClick called with category:",ye),i("food"),t("/food",{state:{category:ye}})},bt=()=>{i("essentials"),t("/daily-essential")},Zt=async ye=>{const{address:$e,paymentMethod:Ke,tip:Ue,finalTotal:ar}=ye;if(!R){re.error("Please log in to place an order."),E(!0);return}re.loading("Getting your location for accurate delivery tracking...");let $n=null;try{if(navigator.geolocation){const At=await new Promise((vr,Dr)=>{navigator.geolocation.getCurrentPosition(vr,Dr,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});$n={lat:At.coords.latitude,lng:At.coords.longitude},re.dismiss(),re.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(At){console.error("Error getting location:",At),re.dismiss(),At.code===1?re.error("Location access denied. Please enable location permissions for accurate tracking."):At.code===2?re.error("Location unavailable. Please check your GPS settings."):At.code===3?re.error("Location request timed out. Please try again."):re.error("Could not get your location. Using approximate location."),$n={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}const Qt=25,qn=Math.random()*10+5,jn=Math.round(Qt+qn),Hn=new Date(Date.now()+jn*60*1e3),An={userId:R.uid,items:N,totalPrice:ar,tip:Ue,deliveryAddress:{...$e},paymentMethod:Ke,status:"pending",createdAt:new Date,estimatedDeliveryTime:Hn,estimatedMinutes:jn,userLocation:$n};try{await sx(async()=>{const At=await Ph(hi(Tt,"orders"),An);re.success("Order placed successfully!"),v([]),J(!1),t(`/current-order/${At.id}`)})}catch(At){console.error("Error placing order:",At),At.code==="permission-denied"?re.error("Access denied. Please check your permissions."):At.code==="unavailable"?re.error("Firebase service is temporarily unavailable. Please try again later."):re.error("Failed to place order. Please check your connection and try again.")}},Bt=()=>{me(!0)},mn=ye=>{switch(ye.category){case"food":t("/food");break;case"drinks":t("/drinks");break;case"daily_essential":t("/daily-essential");break}re.success(`Selected ${ye.name}`)};_.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async Ue=>{const{latitude:ar,longitude:$n}=Ue.coords;try{const qn=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${ar}&lon=${$n}`)).json();qn&&qn.display_name?w(qn.display_name):w("Location not found")}catch(Qt){console.error("Error fetching location:",Qt),w("Could not fetch location")}},()=>{w("Location access denied")}):w("Geolocation not supported"),JW();const ye=localStorage.getItem("quicklymart-cart");ye&&v(JSON.parse(ye)),localStorage.getItem("quicklymart-age-verified")&&j(!0);const Ke=aB(It,Ue=>{F(Ue),C(!!Ue)});return()=>Ke()},[]),_.useEffect(()=>{localStorage.setItem("quicklymart-cart",JSON.stringify(N))},[N]),_.useEffect(()=>{(async()=>{H(await kc("Food")),te(await kc("Drinks")),ce(await kc("Daily Essential"))})()},[]);const en=async()=>{try{await lB(It),re.success("Signed out successfully")}catch{re.error("Failed to sign out")}},Mr=()=>{if(!R){re.error("You must be logged in to place an order."),E(!0);return}if(N.length===0){re.error("Your cart is empty.");return}z(!1),J(!0)};return o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 text-gray-800 dark:text-white",children:[o.jsx(pP,{position:"top-right"}),o.jsx("header",{className:"hidden md:block sticky top-0 z-50 bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-20",children:[o.jsxs("div",{className:"flex items-center space-x-2",onClick:()=>t("/"),role:"button",children:[o.jsx("img",{src:"/favicon.ico",alt:"QuicklyMart Logo",className:"w-8 h-8"}),o.jsx("h1",{className:"text-2xl font-bold text-quicklymart-orange-500",children:"QuicklyMart"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",children:"For Business"}),o.jsx(Z,{variant:"ghost",children:"Help"}),T?o.jsxs($T,{children:[o.jsx(qT,{asChild:!0,children:o.jsxs(Z,{variant:"outline",className:"flex items-center space-x-2",children:[o.jsx(fs,{className:"w-5 h-5"}),o.jsx("span",{children:(R==null?void 0:R.displayName)||((tn=R==null?void 0:R.email)==null?void 0:tn.split("@")[0])||"My Account"})]})}),o.jsxs(gx,{className:"w-56",align:"end",children:[o.jsx(yx,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:(R==null?void 0:R.displayName)||(R==null?void 0:R.email)||"User"}),o.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:R==null?void 0:R.email})]})}),o.jsx(Sd,{}),o.jsxs(Vi,{onClick:()=>t("/profile"),children:[o.jsx(fs,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs(Vi,{onClick:()=>t("/past-orders"),children:[o.jsx(li,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Past Orders"})]}),o.jsxs(Vi,{onClick:()=>t("/settings"),children:[o.jsx(w0,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]}),o.jsx(Sd,{}),o.jsxs(Vi,{onClick:en,children:[o.jsx(yE,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]}):o.jsx(Z,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:()=>E(!0),children:"Sign In"}),o.jsx(Z,{variant:"ghost",size:"icon",onClick:n,children:e?o.jsx(bn,{className:"w-5 h-5"}):o.jsx(hn,{className:"w-5 h-5"})})]})]})})}),o.jsx("header",{className:"md:hidden sticky top-0 z-50   dark:bg-gray-900/95 backdrop-blur-md",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs(Z,{variant:"ghost",className:"flex items-center space-x-2 text-left h-auto p-1 rounded-md max-w-[200px] sm:max-w-[250px]",onClick:()=>t("/address"),children:[o.jsx(tr,{className:"w-7 h-7 flex-shrink-0 text-orange-500 text-bold"}),o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx("h3",{className:"text-black font-bold text-lg truncate",children:be()})})]})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs(Z,{variant:"ghost",size:"icon",className:"text-white bg-gray-800/50 rounded-full w-10 h-10",onClick:()=>z(!0),children:[o.jsx(j_,{className:"w-5 h-5"}),he()>0&&o.jsx(Ct,{className:"absolute -top-1 -right-1 h-5 w-5 justify-center p-1",variant:"destructive",children:he()})]}),T?o.jsxs($T,{children:[o.jsx(qT,{asChild:!0,children:o.jsx(Z,{variant:"ghost",size:"icon",className:"text-white bg-gray-800/50 rounded-full w-10 h-10",children:o.jsx(fs,{className:"w-5 h-5"})})}),o.jsxs(gx,{className:"w-56",align:"end",children:[o.jsx(yx,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:(R==null?void 0:R.displayName)||(R==null?void 0:R.email)||"User"}),o.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:R==null?void 0:R.email})]})}),o.jsx(Sd,{}),o.jsxs(Vi,{onClick:()=>t("/profile"),children:[o.jsx(fs,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs(Vi,{onClick:()=>t("/past-orders"),children:[o.jsx(li,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Past Orders"})]}),o.jsxs(Vi,{onClick:()=>t("/settings"),children:[o.jsx(w0,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]}),o.jsx(Sd,{}),o.jsxs(Vi,{onClick:en,children:[o.jsx(yE,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]}):o.jsx(Z,{variant:"ghost",size:"icon",className:"text-white bg-gray-800/50 rounded-full w-10 h-10",onClick:()=>E(!0),children:o.jsx(fs,{className:"w-5 h-5"})})]})]})})}),o.jsxs("main",{className:"pb-20 md:pb-0",children:[o.jsx("div",{className:"hidden md:block bg-gray-100 dark:bg-gray-800 py-16",children:o.jsxs("div",{className:"container mx-auto text-center",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4 text-quicklymart-orange-500",children:"Your daily essentials, delivered in minutes."}),r&&o.jsx("div",{className:"mb-4",children:o.jsxs(Ct,{className:"bg-quicklymart-orange-100 text-quicklymart-orange-700 px-4 py-2 text-sm",children:["🎯 Delivering to: ",r.city,", ",r.state]})}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-8",children:"Order food, groceries, and more from the best places near you."}),o.jsxs("div",{className:"flex gap-3 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(tr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(Ge,{placeholder:"Enter your delivery location",value:be(),readOnly:!0,onClick:()=>t("/address"),className:"pl-12 pr-4 h-14 text-lg bg-white dark:bg-gray-700"})]}),o.jsxs(Z,{size:"lg",className:"h-14 bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-white font-bold",onClick:Bt,children:[o.jsx(Gr,{className:"w-5 h-5 mr-2"}),"Search"]})]})]})}),o.jsxs("div",{className:"md:hidden",children:[o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex gap-3",children:o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Gr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(Ge,{placeholder:"Search for 'Gift Hamp...'",value:l,onChange:ye=>c(ye.target.value),className:"pl-12 pr-12 h-14 bg-white/10 backdrop-blur-md rounded-xl text-lg text-white placeholder-gray-400",onFocus:Bt}),o.jsx(Z,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-quicklymart-orange-500",onClick:()=>re.success("Voice search activated!"),children:o.jsx(ug,{className:"w-5 h-5"})})]})})}),o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Foodie Weekend💰"}),o.jsx("p",{className:"text-lg mb-4",children:"Upto 60% OFF on delights!"}),o.jsx(Z,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:Ae,children:"ORDER NOW"})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=150",alt:"Food",className:"w-20 h-20 rounded-full object-cover"}),o.jsx("img",{src:"https://images.unsplash.com/photo-1551024601-bec78aea704b?w=150",alt:"Dessert",className:"w-20 h-20 rounded-full object-cover"})]})]})})})]}),o.jsx("div",{className:"hidden md:block container mx-auto py-12",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs(Ce,{className:"overflow-hidden cursor-pointer group",onClick:()=>vt("all"),children:[o.jsx(ut,{className:"p-0",children:o.jsx("img",{src:"https://plus.unsplash.com/premium_photo-1673108852141-e8c3c22a4a22?w=400",alt:"Food Delivery",className:"w-full h-56 object-cover"})}),o.jsxs(ke,{className:"p-6",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Food Delivery"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"From the best local restaurants"}),o.jsx(Z,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Order Now"})]})]}),o.jsxs(Ce,{className:"overflow-hidden cursor-pointer group",onClick:bt,children:[o.jsx(ut,{className:"p-0",children:o.jsx("img",{src:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=500",alt:"Groceries",className:"w-full h-56 object-cover"})}),o.jsxs(ke,{className:"p-6",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Instamart"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Instant Grocery Delivery"}),o.jsx(Z,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Shop Now"})]})]}),o.jsxs(Ce,{className:"overflow-hidden cursor-pointer group",onClick:dt,children:[o.jsx(ut,{className:"p-0",children:o.jsx("img",{src:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=500",alt:"Dineout",className:"w-full h-56 object-cover"})}),o.jsxs(ke,{className:"p-6",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Dineout & Drinks"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Eat out or get drinks delivered"}),o.jsx(Z,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Explore Now"})]})]})]})}),o.jsxs("div",{className:"hidden md:block container mx-auto py-12",children:[o.jsx("h2",{className:"text-3xl font-bold mb-6",children:"What's on your mind?"}),o.jsxs(_x,{opts:{align:"start",loop:!0},children:[o.jsx(wx,{children:iZ.map((ye,$e)=>o.jsx(bx,{className:"basis-auto",children:o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>vt(ye.name),children:[o.jsx("img",{src:ye.image,alt:ye.name,className:"w-36 h-36 object-cover rounded-full mx-auto"}),o.jsx("p",{className:"mt-2 font-semibold",children:ye.name})]})},$e))}),o.jsx(Ex,{}),o.jsx(Nx,{})]})]}),o.jsxs("div",{className:"hidden md:block container mx-auto py-12",children:[o.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Shop groceries on Instamart"}),o.jsxs(_x,{opts:{align:"start",loop:!0},children:[o.jsx(wx,{children:oZ.map((ye,$e)=>o.jsx(bx,{className:"basis-auto",children:o.jsx(Ce,{className:"overflow-hidden cursor-pointer group",onClick:bt,children:o.jsxs(ke,{className:"p-0",children:[o.jsx("img",{src:ye.image,alt:ye.name,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"}),o.jsx("div",{className:"p-4",children:o.jsx("p",{className:"font-semibold text-center",children:ye.name})})]})})},$e))}),o.jsx(Ex,{}),o.jsx(Nx,{})]})]}),o.jsxs("div",{className:"md:hidden",children:[o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:oe.map((ye,$e)=>o.jsxs("button",{className:`${ye.color} backdrop-blur-md rounded-2xl p-4 text-white relative overflow-hidden hover:opacity-90 transition-opacity`,onClick:()=>re.success(`${ye.name} activated!`),children:[o.jsx("div",{className:"text-2xl mb-2",children:ye.icon}),o.jsx("h3",{className:"font-bold text-sm mb-1",children:ye.name}),o.jsx("p",{className:"text-xs opacity-90",children:ye.subtitle})]},$e))})}),o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"bg-gradient-to-r from-red-600 to-purple-700 rounded-2xl p-6 text-white relative overflow-hidden",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("span",{className:"text-2xl",children:"⚡"}),o.jsx("h3",{className:"text-xl font-bold",children:"Bolt | Dinner in 10 mins"})]}),o.jsx("p",{className:"mb-4",children:"Fresh, hot & crisp delights for you."}),o.jsx(Z,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:Ae,children:"ORDER NOW"})]}),o.jsx("img",{src:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=200",alt:"Food Bowl",className:"w-32 h-32 rounded-full object-cover"})]})})}),o.jsxs("div",{className:"container mx-auto px-4 mb-20",children:[o.jsx("h2",{className:"text-white text-2xl font-bold mb-4",children:"Fast delivery"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Ie.map(ye=>o.jsxs(Ce,{className:"relative overflow-hidden bg-white/5 backdrop-blur-md rounded-2xl cursor-pointer hover:shadow-lg transition-shadow text-white border-gray-700",onClick:()=>Ye(ye),children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:ye.image,alt:ye.name,className:"w-full h-48 object-cover"}),o.jsx(Z,{variant:"ghost",size:"icon",className:"absolute top-3 right-3 bg-black/50 hover:bg-black/70 rounded-full p-2",onClick:$e=>{$e.stopPropagation(),re.success("Added to wishlist!")},children:o.jsx(lu,{className:"w-4 h-4"})}),ye.discount&&o.jsx("div",{className:"absolute top-3 left-3 bg-quicklymart-orange-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:ye.discount}),ye.offer&&o.jsx("div",{className:"absolute bottom-3 right-3 bg-green-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:ye.offer}),ye.ad&&o.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/80 text-white px-3 py-1 rounded text-sm",children:["ITEMS AT ₹",ye.price]})]}),o.jsxs(ke,{className:"p-4",children:[o.jsx("h3",{className:"font-bold text-lg mb-1",children:ye.name}),o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ga,{className:"w-4 h-4 fill-green-500 text-green-500"}),o.jsx("span",{className:"font-medium text-sm text-gray-300",children:ye.rating})]}),o.jsxs("span",{className:"text-gray-400 text-sm",children:["• ",ye.deliveryTime]})]}),o.jsx("p",{className:"text-gray-300 text-sm",children:ye.category})]})]},ye.id))})]})]})]}),o.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-gray-900/80 backdrop-blur-md border-t border-gray-700 z-50",children:o.jsxs("div",{className:`grid ${T?"grid-cols-4":"grid-cols-3"} h-16`,children:[o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${s==="food"?"text-quicklymart-orange-500":"text-gray-400 hover:text-white"}`,onClick:()=>vt("all"),children:[o.jsx("span",{className:"text-2xl",children:"🥪"}),o.jsx("span",{className:"text-xs font-medium",children:"Food"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${s==="essentials"?"text-quicklymart-orange-500":"text-gray-400 hover:text-white"}`,onClick:bt,children:[o.jsx("span",{className:"text-2xl",children:"🛒"}),o.jsx("span",{className:"text-xs font-medium",children:"Daily Essential"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${s==="wine"?"text-quicklymart-orange-500":"text-gray-400 hover:text-white"}`,onClick:dt,children:[o.jsx("span",{className:"text-2xl",children:"🍷"}),o.jsx("span",{className:"text-xs font-medium",children:"Wine Stores"})]}),T&&o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${s==="reorder"?"text-quicklymart-orange-500":"text-gray-400 hover:text-white"}`,onClick:()=>t("/past-orders"),children:[o.jsx(V5,{className:"w-6 h-6"}),o.jsx("span",{className:"text-xs font-medium",children:"Reorder"})]})]})}),o.jsx(hH,{isOpen:S,onClose:()=>E(!1),onLoginSuccess:()=>C(!0)}),o.jsx(BA,{isOpen:B,onVerified:()=>{j(!0),localStorage.setItem("quicklymart-age-verified","true"),O(!1),t("/drinks"),re.success("Age verified! Welcome to wine stores.")},onClose:()=>O(!1)}),o.jsx(ey,{product:I,onClose:()=>A(null),onAddToCart:Oe}),o.jsx(wW,{isOpen:D,onClose:()=>z(!1),cart:N,updateQuantity:de,totalPrice:se(),onProceedToCheckout:Mr}),o.jsx(eG,{isOpen:Q,onClose:()=>me(!1),onProductSelect:mn}),o.jsx(NK,{isOpen:Y,onClose:()=>J(!1),onPlaceOrder:Zt,totalPrice:se(),user:R}),o.jsxs("footer",{className:"bg-gray-900 text-white mt-20",children:[o.jsx("div",{className:"container mx-auto px-4 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("img",{src:"/favicon.ico",alt:"QuicklyMart Logo",className:"w-8 h-8"}),o.jsx("h3",{className:"text-2xl font-bold text-quicklymart-orange-500",children:"QuicklyMart"})]}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Your trusted partner for quick food delivery, grocery shopping, and daily essentials."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-quicklymart-orange-500",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(Z,{variant:"ghost",className:"text-gray-300 hover:text-quicklymart-orange-500 p-0 h-auto justify-start",onClick:()=>vt("all"),children:"Food Delivery"})}),o.jsx("li",{children:o.jsx(Z,{variant:"ghost",className:"text-gray-300 hover:text-quicklymart-orange-500 p-0 h-auto justify-start",onClick:bt,children:"Grocery Delivery"})}),o.jsx("li",{children:o.jsx(Z,{variant:"ghost",className:"text-gray-300 hover:text-quicklymart-orange-500 p-0 h-auto justify-start",onClick:dt,children:"Wine & Drinks"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-quicklymart-orange-500",children:"Support"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(Z,{variant:"ghost",className:"text-gray-300 hover:text-quicklymart-orange-500 p-0 h-auto justify-start",onClick:()=>t("/help-center"),children:"Help Center"})}),o.jsx("li",{children:o.jsx(Z,{variant:"ghost",className:"text-gray-300 hover:text-quicklymart-orange-500 p-0 h-auto justify-start",onClick:()=>t("/contact-us"),children:"Contact Us"})}),o.jsx("li",{children:o.jsx(Z,{variant:"ghost",className:"text-gray-300 hover:text-quicklymart-orange-500 p-0 h-auto justify-start",onClick:()=>t("/track-order"),children:"Track Order"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-quicklymart-orange-500",children:"Company"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(Z,{variant:"ghost",className:"text-gray-300 hover:text-quicklymart-orange-500 p-0 h-auto justify-start",onClick:()=>t("/about-us"),children:"About Us"})}),o.jsx("li",{children:o.jsx(Z,{variant:"ghost",className:"text-gray-300 hover:text-quicklymart-orange-500 p-0 h-auto justify-start",onClick:()=>t("/careers"),children:"Careers"})}),o.jsx("li",{children:o.jsx(Z,{variant:"ghost",className:"text-gray-300 hover:text-quicklymart-orange-500 p-0 h-auto justify-start",onClick:()=>t("/privacy-policy"),children:"Privacy Policy"})})]})]})]})}),o.jsx("div",{className:"border-t border-gray-800",children:o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:"text-gray-400 text-sm",children:"© 2024 QuicklyMart. All rights reserved."}),o.jsx("span",{className:"text-gray-400 text-sm",children:"•"}),o.jsx("span",{className:"text-gray-400 text-sm",children:"Made with ❤️ in India"})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsx(Z,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-quicklymart-orange-500",onClick:()=>re.info("Download our mobile app!"),children:"Download App"}),o.jsx(Z,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-quicklymart-orange-500",onClick:()=>re.info("Newsletter subscription coming soon!"),children:"Newsletter"})]})]})})})]})]})},ZT=["All","Pizzas","Biryani","Chinese","Burgers","Indian","Desserts"],lZ={All:"🌐",Pizzas:"🍕",Biryani:"🍛",Chinese:"🥡",Burgers:"🍔",Indian:"🍛",Desserts:"🍰"},cZ={Pizzas:Je.PIZZAS,Biryani:Je.BIRYANI,Chinese:Je.CHINESE,Burgers:Je.BURGERS,Indian:Je.INDIAN,Desserts:Je.DESSERTS},uZ=()=>{var R;const t=Un(),e=Y_(),{isDarkMode:n,toggleDarkMode:r}=fn(),[s,i]=_.useState(""),[l,c]=_.useState("All"),[d,h]=_.useState(null),[p,g]=_.useState([]),[y,w]=_.useState([]),[N,v]=_.useState(!0),S=y.filter(F=>F.name.toLowerCase().includes(s.toLowerCase())&&(l==="All"||F.subcategory===cZ[l])),E=F=>{const U=p.find(j=>j.id===F.id);g(U?p.map(j=>j.id===F.id?{...j,quantity:j.quantity+1}:j):[...p,{...F,quantity:1}]),re.success(`${F.name} added to cart!`)},T=F=>{h(F)},C=async()=>{v(!0);try{const F=await kc(Pt.FOOD);w(F)}catch(F){console.error("Error loading food products:",F),re.error("Failed to load products")}finally{v(!1)}};return _.useEffect(()=>{C();const F=localStorage.getItem("quicklymart-cart");F&&g(JSON.parse(F))},[]),_.useEffect(()=>{var F;console.log("Food page useEffect triggered, location.state:",e.state),(F=e.state)!=null&&F.category&&ZT.includes(e.state.category)&&c(e.state.category)},[(R=e.state)==null?void 0:R.category]),_.useEffect(()=>{localStorage.setItem("quicklymart-cart",JSON.stringify(p))},[p]),o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>t("/"),children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Food"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",className:"text-gray-600 dark:text-gray-300",onClick:r,title:n?"Switch to light mode":"Switch to dark mode",children:n?o.jsx(bn,{className:"w-5 h-5"}):o.jsx(hn,{className:"w-5 h-5"})}),o.jsx(Gr,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(ug,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})]})]})}),o.jsxs("div",{className:"flex",children:[o.jsx("aside",{className:"w-28 bg-gray-50 dark:bg-gray-800 h-full fixed top-16 left-0 overflow-y-auto pb-16",children:o.jsx("nav",{children:o.jsx("ul",{children:ZT.map((F,U)=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>c(F),className:`w-full text-center p-3 text-sm font-medium border-l-4 ${l===F?"border-blue-500 bg-white dark:bg-gray-700 text-blue-500 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx("div",{className:"text-2xl mb-1 mx-auto",children:lZ[F]}),F]})},U))})})}),o.jsxs("main",{className:"ml-28 p-4 flex-1 mb-16",children:[o.jsx(Ge,{placeholder:"Search for food...",value:s,onChange:F=>i(F.target.value),className:"pl-12 pr-4 h-12 bg-gray-100 dark:bg-gray-700 rounded-xl text-md w-full mb-4 dark:text-white dark:placeholder-gray-400"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:l}),N?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-white mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading products..."})]}):S.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products found."})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(F=>o.jsxs(Ce,{className:"relative overflow-hidden bg-white dark:bg-gray-800 rounded-2xl cursor-pointer hover:shadow-lg transition-shadow border dark:border-gray-700",onClick:()=>T(F),children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:F.image,alt:F.name,className:"w-full h-48 object-cover"}),o.jsx(Z,{variant:"ghost",size:"sm",className:"absolute top-3 right-3 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-800 rounded-full p-2",onClick:U=>{U.stopPropagation(),re.success("Added to wishlist!")},children:o.jsx(lu,{className:"w-4 h-4"})}),F.discount&&o.jsx("div",{className:"absolute top-3 left-3 bg-quicklymart-orange-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:F.discount}),F.offer&&o.jsx("div",{className:"absolute bottom-3 right-3 bg-green-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:F.offer}),o.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/80 text-white px-3 py-1 rounded text-sm",children:["₹",F.price]})]}),o.jsxs(ke,{className:"p-4",children:[o.jsx("h3",{className:"font-bold text-lg mb-1 text-gray-800 dark:text-white",children:F.name}),o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ga,{className:"w-4 h-4 fill-green-500 text-green-500"}),o.jsx("span",{className:"font-medium text-sm text-gray-600 dark:text-gray-300",children:F.rating})]}),o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["• ",F.deliveryTime]})]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:F.description}),o.jsx(Z,{className:"w-full mt-3 bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",onClick:U=>{U.stopPropagation(),E(F)},children:"Add to Cart"})]})]},F.id))})]})]}),o.jsx(ey,{product:d,onClose:()=>h(null),onAddToCart:E})]})},dZ=["All","Staples","Snacks","Beverages","Personal Care","Household"],hZ={All:"🌐",Staples:"🛒",Snacks:"🍿",Beverages:"🥤","Personal Care":"🧴",Household:"🏠"},fZ={Staples:Je.STAPLES,Snacks:Je.SNACKS,Beverages:Je.BEVERAGES,"Personal Care":Je.PERSONAL_CARE,Household:Je.HOUSEHOLD},mZ=()=>{const t=Un(),{isDarkMode:e,toggleDarkMode:n}=fn(),[r,s]=_.useState(""),[i,l]=_.useState("All"),[c,d]=_.useState(null),[h,p]=_.useState([]),[g,y]=_.useState([]),[w,N]=_.useState(!0),v=g.filter(C=>C.name.toLowerCase().includes(r.toLowerCase())&&(i==="All"||C.subcategory===fZ[i])),S=C=>{const R=h.find(F=>F.id===C.id);p(R?h.map(F=>F.id===C.id?{...F,quantity:F.quantity+1}:F):[...h,{...C,quantity:1}]),re.success(`${C.name} added to cart!`)},E=C=>{d(C)},T=async()=>{N(!0);try{const C=await kc(Pt.DAILY_ESSENTIAL);y(C)}catch(C){console.error("Error loading daily essential products:",C),re.error("Failed to load products")}finally{N(!1)}};return _.useEffect(()=>{T();const C=localStorage.getItem("quicklymart-cart");C&&p(JSON.parse(C))},[]),_.useEffect(()=>{localStorage.setItem("quicklymart-cart",JSON.stringify(h))},[h]),o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>t("/"),children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Daily Essentials"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",className:"text-gray-600 dark:text-gray-300",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(bn,{className:"w-5 h-5"}):o.jsx(hn,{className:"w-5 h-5"})}),o.jsx(Gr,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(ug,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})]})]})}),o.jsxs("div",{className:"flex",children:[o.jsx("aside",{className:"w-28 bg-gray-50 dark:bg-gray-800 h-full fixed top-16 left-0 overflow-y-auto pb-16",children:o.jsx("nav",{children:o.jsx("ul",{children:dZ.map((C,R)=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>l(C),className:`w-full text-center p-3 text-sm font-medium border-l-4 ${i===C?"border-blue-500 bg-white dark:bg-gray-700 text-blue-500 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx("div",{className:"text-2xl mb-1 mx-auto",children:hZ[C]}),C]})},R))})})}),o.jsxs("main",{className:"ml-28 p-4 flex-1 mb-16",children:[o.jsx(Ge,{placeholder:"Search for daily essentials...",value:r,onChange:C=>s(C.target.value),className:"pl-12 pr-4 h-12 bg-gray-100 dark:bg-gray-700 rounded-xl text-md w-full mb-4 dark:text-white dark:placeholder-gray-400"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:i}),w?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-white mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading products..."})]}):v.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products found."})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(C=>o.jsxs(Ce,{className:"relative overflow-hidden bg-white dark:bg-gray-800 rounded-2xl cursor-pointer hover:shadow-lg transition-shadow border dark:border-gray-700",onClick:()=>E(C),children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:C.image,alt:C.name,className:"w-full h-48 object-cover"}),o.jsx(Z,{variant:"ghost",size:"sm",className:"absolute top-3 right-3 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-800 rounded-full p-2",onClick:R=>{R.stopPropagation(),re.success("Added to wishlist!")},children:o.jsx(lu,{className:"w-4 h-4"})}),C.discount&&o.jsx("div",{className:"absolute top-3 left-3 bg-quicklymart-orange-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:C.discount}),C.offer&&o.jsx("div",{className:"absolute bottom-3 right-3 bg-green-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:C.offer}),o.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/80 text-white px-3 py-1 rounded text-sm",children:["₹",C.price]})]}),o.jsxs(ke,{className:"p-4",children:[o.jsx("h3",{className:"font-bold text-lg mb-1 text-gray-800 dark:text-white",children:C.name}),o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ga,{className:"w-4 h-4 fill-green-500 text-green-500"}),o.jsx("span",{className:"font-medium text-sm text-gray-600 dark:text-gray-300",children:C.rating})]}),o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["• ",C.deliveryTime]})]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:C.description}),o.jsx(Z,{className:"w-full mt-3 bg-green-500 hover:bg-green-600 text-white",onClick:R=>{R.stopPropagation(),S(C)},children:"Add to Cart"})]})]},C.id))})]})]}),o.jsx(ey,{product:c,onClose:()=>d(null),onAddToCart:S})]})},pZ=[{name:"All",icon:"🌐"},{name:"Beer",icon:"🍺"},{name:"Wine",icon:"🍷"},{name:"Spirits",icon:"🥃"},{name:"Cocktails",icon:"🍹"}],gZ={Beer:Je.BEER,Wine:Je.WINE,Spirits:Je.SPIRITS,Cocktails:Je.COCKTAILS},yZ=()=>{const t=Un(),{isDarkMode:e,toggleDarkMode:n}=fn(),[r,s]=_.useState(""),[i,l]=_.useState("All"),[c,d]=_.useState(null),[h,p]=_.useState([]),[g,y]=_.useState(!1),[w,N]=_.useState(!1),[v,S]=_.useState([]),[E,T]=_.useState(!0),C=v.filter(j=>j.name.toLowerCase().includes(r.toLowerCase())&&(i==="All"||j.subcategory===gZ[i])),R=j=>{if(!g){N(!0);return}const I=h.find(A=>A.id===j.id);p(I?h.map(A=>A.id===j.id?{...A,quantity:A.quantity+1}:A):[...h,{...j,quantity:1}]),re.success(`${j.name} added to cart!`)},F=j=>{if(!g){N(!0);return}d(j)},U=async()=>{T(!0);try{const j=await kc(Pt.DRINKS);S(j)}catch(j){console.error("Error loading drinks products:",j),re.error("Failed to load products")}finally{T(!1)}};return _.useEffect(()=>{U();const j=localStorage.getItem("quicklymart-cart");j&&p(JSON.parse(j)),localStorage.getItem("quicklymart-age-verified")?y(!0):N(!0)},[]),_.useEffect(()=>{localStorage.setItem("quicklymart-cart",JSON.stringify(h))},[h]),o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>t("/"),children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Drinks"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",className:"text-gray-600 dark:text-gray-300",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(bn,{className:"w-5 h-5"}):o.jsx(hn,{className:"w-5 h-5"})}),o.jsx(Gr,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(ug,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})]})]})}),o.jsxs("div",{className:"flex",children:[o.jsx("aside",{className:"w-28 bg-gray-50 dark:bg-gray-800 h-full fixed top-16 left-0 overflow-y-auto pb-16",children:o.jsx("nav",{children:o.jsx("ul",{children:pZ.map((j,I)=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>l(j.name),className:`w-full text-center p-3 text-sm font-medium border-l-4 ${i===j.name?"border-blue-500 bg-white dark:bg-gray-700 text-blue-500 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx("div",{className:"text-2xl mb-1 mx-auto",children:j.icon}),j.name]})},I))})})}),o.jsxs("main",{className:"ml-28 p-4 flex-1 mb-16",children:[o.jsx(Ge,{placeholder:"Search for drinks...",value:r,onChange:j=>s(j.target.value),className:"pl-12 pr-4 h-12 bg-gray-100 dark:bg-gray-700 rounded-xl text-md w-full mb-4 dark:text-white dark:placeholder-gray-400"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:i}),E?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-white mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading products..."})]}):C.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No products found."})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(j=>o.jsxs(Ce,{className:"relative overflow-hidden bg-white dark:bg-gray-800 rounded-2xl cursor-pointer hover:shadow-lg transition-shadow border dark:border-gray-700",onClick:()=>F(j),children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:j.image,alt:j.name,className:"w-full h-48 object-cover"}),o.jsx(Z,{variant:"ghost",size:"sm",className:"absolute top-3 right-3 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-800 rounded-full p-2",onClick:I=>{I.stopPropagation(),re.success("Added to wishlist!")},children:o.jsx(lu,{className:"w-4 h-4"})}),o.jsx("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:"18+"}),j.discount&&o.jsx("div",{className:"absolute bottom-3 right-3 bg-green-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:j.discount}),j.offer&&o.jsx("div",{className:"absolute bottom-3 right-3 bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:j.offer}),o.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/80 text-white px-3 py-1 rounded text-sm",children:["₹",j.price]})]}),o.jsxs(ke,{className:"p-4",children:[o.jsx("h3",{className:"font-bold text-lg mb-1 text-gray-800 dark:text-white",children:j.name}),o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ga,{className:"w-4 h-4 fill-green-500 text-green-500"}),o.jsx("span",{className:"font-medium text-sm text-gray-600 dark:text-gray-300",children:j.rating})]}),o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["• ",j.deliveryTime]})]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:j.description}),o.jsx(Z,{className:"w-full mt-3 bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",onClick:I=>{I.stopPropagation(),R(j)},children:"Add to Cart"})]})]},j.id))})]})]}),o.jsx(ey,{product:c,onClose:()=>d(null),onAddToCart:R}),o.jsx(BA,{isOpen:w,onClose:()=>N(!1),onVerified:()=>{y(!0),N(!1),localStorage.setItem("quicklymart-age-verified","true")}})]})},vZ=()=>{var w;const t=Un(),{isDarkMode:e,toggleDarkMode:n}=fn(),[r,s]=_.useState(null),[i,l]=_.useState(!1),[c,d]=_.useState(!1),[h,p]=_.useState({displayName:"",email:"",phone:"",address:"",city:"",state:"",pincode:""});_.useEffect(()=>{const N=It.onAuthStateChanged(async v=>{if(v){s(v);try{const S=await eu(Ln(Tt,"users",v.uid));if(S.exists()){const E=S.data();p({displayName:E.displayName||v.displayName||"",email:v.email||"",phone:E.phone||v.phoneNumber||"",address:E.address||"",city:E.city||"",state:E.state||"",pincode:E.pincode||""})}else p({displayName:v.displayName||"",email:v.email||"",phone:v.phoneNumber||"",address:"",city:"",state:"",pincode:""})}catch(S){console.error("Error fetching user data:",S),re.error("Failed to load profile data")}}else t("/")});return()=>N()},[t]);const g=async()=>{if(r){d(!0);try{await QI(r,{displayName:h.displayName});const N=Ln(Tt,"users",r.uid);await $j(N,{displayName:h.displayName,email:h.email,phone:h.phone,address:h.address,city:h.city,state:h.state,pincode:h.pincode,updatedAt:new Date},{merge:!0}),re.success("Profile updated successfully!"),l(!1)}catch(N){console.error("Error updating profile:",N),re.error("Failed to update profile")}finally{d(!1)}}},y=()=>{p({displayName:(r==null?void 0:r.displayName)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phoneNumber)||"",address:"",city:"",state:"",pincode:""}),l(!1)};return r?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 text-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-indigo-900/95 dark:bg-gray-900/95 backdrop-blur-md",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",className:"text-white",onClick:()=>t("/"),children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-white font-bold text-lg",children:"Profile"})]}),i?o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Z,{variant:"ghost",size:"icon",className:"text-white bg-gray-800/50 rounded-full w-10 h-10",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(bn,{className:"w-5 h-5"}):o.jsx(hn,{className:"w-5 h-5"})}),o.jsxs(Z,{variant:"ghost",size:"sm",className:"text-white",onClick:y,disabled:c,children:[o.jsx(cu,{className:"w-4 h-4 mr-1"}),"Cancel"]}),o.jsxs(Z,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:g,disabled:c,children:[o.jsx(U5,{className:"w-4 h-4 mr-1"}),c?"Saving...":"Save"]})]}):o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Z,{variant:"ghost",size:"icon",className:"text-white bg-gray-800/50 rounded-full w-10 h-10",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(bn,{className:"w-5 h-5"}):o.jsx(hn,{className:"w-5 h-5"})}),o.jsxs(Z,{variant:"ghost",size:"sm",className:"text-white",onClick:()=>l(!0),children:[o.jsx(sP,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700 mb-6",children:o.jsx(ke,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:r.displayName?r.displayName.charAt(0).toUpperCase():(w=r.email)==null?void 0:w.charAt(0).toUpperCase()}),i&&o.jsx(Z,{size:"icon",className:"absolute -bottom-2 -right-2 bg-blue-600 hover:bg-blue-700 rounded-full w-8 h-8",children:o.jsx(Qk,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl font-bold",children:i?o.jsx(Ge,{value:h.displayName,onChange:N=>p({...h,displayName:N.target.value}),className:"text-center bg-transparent border-none text-xl font-bold",placeholder:"Enter your name"}):r.displayName||"User"}),o.jsx("p",{className:"text-gray-300 text-sm",children:r.email})]})]})})}),o.jsxs(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700",children:[o.jsx(ut,{children:o.jsx(gt,{className:"text-white",children:"Personal Information"})}),o.jsxs(ke,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{className:"text-gray-300",children:"Full Name"}),i?o.jsx(Ge,{value:h.displayName,onChange:N=>p({...h,displayName:N.target.value}),className:"bg-white/10 border-gray-600 text-white",placeholder:"Enter your full name"}):o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-white/5 rounded-lg",children:[o.jsx(fs,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:r.displayName||"Not set"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{className:"text-gray-300",children:"Email"}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-white/5 rounded-lg",children:[o.jsx($s,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:r.email})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{className:"text-gray-300",children:"Phone Number"}),i?o.jsx(Ge,{value:h.phone,onChange:N=>p({...h,phone:N.target.value}),className:"bg-white/10 border-gray-600 text-white",placeholder:"Enter your phone number"}):o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-white/5 rounded-lg",children:[o.jsx(mr,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:h.phone||"Not set"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{className:"text-gray-300",children:"Address"}),i?o.jsx(Ge,{value:h.address,onChange:N=>p({...h,address:N.target.value}),className:"bg-white/10 border-gray-600 text-white",placeholder:"Enter your address"}):o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-white/5 rounded-lg",children:[o.jsx(fs,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:h.address||"Not set"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{className:"text-gray-300",children:"City"}),i?o.jsx(Ge,{value:h.city,onChange:N=>p({...h,city:N.target.value}),className:"bg-white/10 border-gray-600 text-white",placeholder:"Enter your city"}):o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-white/5 rounded-lg",children:[o.jsx(fs,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:h.city||"Not set"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{className:"text-gray-300",children:"State"}),i?o.jsx(Ge,{value:h.state,onChange:N=>p({...h,state:N.target.value}),className:"bg-white/10 border-gray-600 text-white",placeholder:"Enter your state"}):o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-white/5 rounded-lg",children:[o.jsx(fs,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:h.state||"Not set"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{className:"text-gray-300",children:"Pincode"}),i?o.jsx(Ge,{value:h.pincode,onChange:N=>p({...h,pincode:N.target.value}),className:"bg-white/10 border-gray-600 text-white",placeholder:"Enter your pincode"}):o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-white/5 rounded-lg",children:[o.jsx(fs,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:h.pincode||"Not set"})]})]})]})]})]})]}):o.jsx("div",{children:"Loading..."})},xZ=()=>{const t=Un(),{isDarkMode:e,toggleDarkMode:n}=fn(),[r,s]=_.useState(null),[i,l]=_.useState([]),[c,d]=_.useState(!0),[h,p]=_.useState(PT());_.useEffect(()=>{const v=It.onAuthStateChanged(async E=>{E?(s(E),await g(E.uid)):t("/")}),S=()=>{const E=PT();p(E),E&&r&&g(r.uid)};return window.addEventListener("online",S),window.addEventListener("offline",S),()=>{v(),window.removeEventListener("online",S),window.removeEventListener("offline",S)}},[t,r]);const g=async v=>{d(!0);try{if(!h){re.error("You are offline. Please check your internet connection."),d(!1);return}await sx(async()=>{const S=hi(Tt,"orders"),E=Bo(S,Qa("userId","==",v)),T=await tu(E),C=[];T.forEach(R=>{C.push({id:R.id,...R.data()})}),C.sort((R,F)=>{var I,A;const U=(I=R.createdAt)!=null&&I.toDate?R.createdAt.toDate():0;return((A=F.createdAt)!=null&&A.toDate?F.createdAt.toDate():0)-U}),l(C)})}catch(S){console.error("Error loading orders:",S),S.code==="permission-denied"?re.error("Access denied. Please check your permissions."):S.code==="unavailable"?re.error("Firebase service is temporarily unavailable. Please try again later."):re.error("Failed to load orders. Please check your connection and try again.")}finally{d(!1)}},y=async()=>{if(r)try{if(!h){re.error("You are offline. Please check your internet connection.");return}await sx(async()=>{const v={userId:r.uid,date:new Date().toISOString().split("T")[0],status:"delivered",total:450,items:[{name:"Domino's Pizza",quantity:1,price:250},{name:"Coca Cola",quantity:2,price:100}],deliveryAddress:"White Building, Midnapore, West Bengal",deliveryTime:"20-25 mins",createdAt:$q()};await Ph(hi(Tt,"orders"),v),re.success("Sample order created!"),await g(r.uid)})}catch(v){console.error("Error creating sample order:",v),v.code==="permission-denied"?re.error("Access denied. Please check your permissions."):v.code==="unavailable"?re.error("Firebase service is temporarily unavailable. Please try again later."):re.error("Failed to create sample order. Please check your connection and try again.")}},w=v=>{switch(v){case"delivered":return"bg-green-500";case"cancelled":return"bg-red-500";case"processing":return"bg-yellow-500";default:return"bg-gray-500"}},N=v=>{switch(v){case"delivered":return o.jsx(gd,{className:"w-4 h-4"});case"cancelled":return o.jsx(j5,{className:"w-4 h-4"});case"processing":return o.jsx(pa,{className:"w-4 h-4"});default:return o.jsx(li,{className:"w-4 h-4"})}};return r?o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",className:"text-gray-600 dark:text-gray-300",onClick:()=>t("/"),children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 dark:text-white font-bold text-lg",children:"Past Orders"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Z,{variant:"ghost",size:"icon",className:"text-gray-600 dark:text-gray-300",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(bn,{className:"w-5 h-5"}):o.jsx(hn,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[h?o.jsx(e3,{className:"w-4 h-4 text-green-400"}):o.jsx(J5,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:`text-xs ${h?"text-green-400":"text-red-400"}`,children:h?"Online":"Offline"})]}),i.length===0&&o.jsx(Z,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:y,children:"Create Sample Order"})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:c?o.jsx(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700",children:o.jsxs(ke,{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),o.jsx("p",{className:"text-gray-300",children:"Loading orders..."})]})}):i.length===0?o.jsx(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700",children:o.jsxs(ke,{className:"p-8 text-center",children:[o.jsx(li,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Orders Yet"}),o.jsx("p",{className:"text-gray-300 mb-4",children:"Start shopping to see your order history here"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{onClick:()=>t("/"),className:"w-full",children:"Start Shopping"}),o.jsx(Z,{variant:"outline",onClick:y,className:"w-full",children:"Create Sample Order"})]})]})}):o.jsxs("div",{className:"space-y-4",children:[i.filter(v=>v.status!=="delivered"&&v.status!=="cancelled").length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 text-green-400 flex items-center",children:[o.jsx(hs,{className:"w-5 h-5 mr-2"}),"Current Orders"]}),o.jsx("div",{className:"space-y-4",children:i.filter(v=>v.status!=="delivered"&&v.status!=="cancelled").map(v=>{var S,E;return o.jsxs(Ce,{className:"bg-green-500/10 backdrop-blur-md border-green-500/20",children:[o.jsx(ut,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(gt,{className:"text-white",children:["Order #",v.id.slice(-6)]}),o.jsx("p",{className:"text-gray-300 text-sm",children:(S=v.createdAt)!=null&&S.toDate?v.createdAt.toDate().toLocaleDateString():v.date})]}),o.jsx(Ct,{className:"bg-green-500 text-white",children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(hs,{className:"w-4 h-4"}),o.jsx("span",{className:"capitalize",children:v.status})]})})]})}),o.jsxs(ke,{className:"space-y-4",children:[o.jsx("div",{className:"space-y-2",children:v.items.map((T,C)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-blue-600 rounded-lg flex items-center justify-center",children:o.jsx(li,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:T.name}),o.jsxs("p",{className:"text-gray-300 text-sm",children:["Qty: ",T.quantity]})]})]}),o.jsxs("p",{className:"font-bold",children:["₹",T.price]})]},C))}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-white/5 rounded-lg",children:[o.jsx(tr,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm",children:typeof v.deliveryAddress=="string"?v.deliveryAddress:(E=v.deliveryAddress)!=null&&E.address?`${v.deliveryAddress.address}, ${v.deliveryAddress.city}, ${v.deliveryAddress.state} - ${v.deliveryAddress.pincode}`:"Address not available"})]}),o.jsxs("div",{className:"space-y-3 p-3 bg-gradient-to-r from-green-600/20 to-blue-600/20 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(hs,{className:"w-4 h-4 text-green-400"}),o.jsxs("span",{className:"text-sm text-gray-300",children:["Delivery Time: ",v.deliveryTime||"20-25 mins"]})]}),v.paymentMethod&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 text-green-400",children:"💳"}),o.jsxs("span",{className:"text-sm text-gray-300 capitalize",children:["Payment: ",v.paymentMethod==="cod"?"Cash on Delivery":v.paymentMethod.toUpperCase()]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-white/20",children:[o.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-green-400",children:["₹",v.totalPrice||v.total||0]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Z,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>t(`/current-order/${v.id}`),children:[o.jsx(hs,{className:"w-4 h-4 mr-2"}),"Track Order"]}),o.jsxs(Z,{variant:"outline",className:"flex-1",children:[o.jsx(mr,{className:"w-4 h-4 mr-2"}),"Call Support"]})]})]})]},`current-${v.id}`)})})]}),i.filter(v=>v.status==="delivered"||v.status==="cancelled").length>0&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-300 flex items-center",children:[o.jsx(li,{className:"w-5 h-5 mr-2"}),"Past Orders"]}),o.jsx("div",{className:"space-y-4",children:i.filter(v=>v.status==="delivered"||v.status==="cancelled").map(v=>{var S,E;return o.jsxs(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700",children:[o.jsx(ut,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(gt,{className:"text-white",children:["Order #",v.id.slice(-6)]}),o.jsx("p",{className:"text-gray-300 text-sm",children:(S=v.createdAt)!=null&&S.toDate?v.createdAt.toDate().toLocaleDateString():v.date})]}),o.jsx(Ct,{className:`${w(v.status)} text-white`,children:o.jsxs("div",{className:"flex items-center space-x-1",children:[N(v.status),o.jsx("span",{className:"capitalize",children:v.status})]})})]})}),o.jsxs(ke,{className:"space-y-4",children:[o.jsx("div",{className:"space-y-2",children:v.items.map((T,C)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:o.jsx(li,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:T.name}),o.jsxs("p",{className:"text-gray-300 text-sm",children:["Qty: ",T.quantity]})]})]}),o.jsxs("p",{className:"font-bold",children:["₹",T.price]})]},C))}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-white/5 rounded-lg",children:[o.jsx(tr,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm",children:typeof v.deliveryAddress=="string"?v.deliveryAddress:(E=v.deliveryAddress)!=null&&E.address?`${v.deliveryAddress.address}, ${v.deliveryAddress.city}, ${v.deliveryAddress.state} - ${v.deliveryAddress.pincode}`:"Address not available"})]}),o.jsxs("div",{className:"space-y-3 p-3 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(hs,{className:"w-4 h-4 text-blue-400"}),o.jsxs("span",{className:"text-sm text-gray-300",children:["Delivery Time: ",v.deliveryTime||"20-25 mins"]})]}),v.paymentMethod&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 text-green-400",children:"💳"}),o.jsxs("span",{className:"text-sm text-gray-300 capitalize",children:["Payment: ",v.paymentMethod==="cod"?"Cash on Delivery":v.paymentMethod.toUpperCase()]})]}),o.jsxs("div",{className:"space-y-1 pt-2 border-t border-white/10",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-300",children:"Subtotal:"}),o.jsxs("span",{children:["₹",v.totalPrice||v.total||0]})]}),v.tip&&v.tip>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-300",children:"Tip:"}),o.jsxs("span",{children:["₹",v.tip]})]}),v.totalPrice&&v.totalPrice>299?o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-300",children:"Delivery Fee:"}),o.jsx("span",{className:"text-green-400",children:"FREE"})]}):v.totalPrice&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-300",children:"Delivery Fee:"}),o.jsx("span",{children:"₹29"})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-white/20",children:[o.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-green-400",children:["₹",v.totalPrice||v.total||0]})]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[v.status!=="delivered"&&v.status!=="cancelled"&&o.jsxs(Z,{variant:"outline",className:"flex-1",onClick:()=>t(`/current-order/${v.id}`),children:[o.jsx(hs,{className:"w-4 h-4 mr-2"}),"Track Order"]}),o.jsxs(Z,{variant:"outline",className:"flex-1",children:[o.jsx(ga,{className:"w-4 h-4 mr-2"}),"Rate Order"]}),o.jsxs(Z,{variant:"outline",className:"flex-1",children:[o.jsx(li,{className:"w-4 h-4 mr-2"}),"Reorder"]})]})]})]},v.id)})})]})]})})]}):o.jsx("div",{children:"Loading..."})};var wb="Progress",bb=100,[_Z,jQ]=or(wb),[wZ,bZ]=_Z(wb),q4=_.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=EZ,...l}=t;(s||s===0)&&!QT(s)&&console.error(NZ(`${s}`,"Progress"));const c=QT(s)?s:bb;r!==null&&!YT(r,c)&&console.error(TZ(`${r}`,"Progress"));const d=YT(r,c)?r:null,h=$p(d)?i(d,c):void 0;return o.jsx(wZ,{scope:n,value:d,max:c,children:o.jsx(Re.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":$p(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":G4(d,c),"data-value":d??void 0,"data-max":c,...l,ref:e})})});q4.displayName=wb;var H4="ProgressIndicator",W4=_.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=bZ(H4,n);return o.jsx(Re.div,{"data-state":G4(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});W4.displayName=H4;function EZ(t,e){return`${Math.round(t/e*100)}%`}function G4(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function $p(t){return typeof t=="number"}function QT(t){return $p(t)&&!isNaN(t)&&t>0}function YT(t,e){return $p(t)&&!isNaN(t)&&t<=e&&t>=0}function NZ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${bb}\`.`}function TZ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${bb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var K4=q4,SZ=W4;const Z4=_.forwardRef(({className:t,value:e,...n},r)=>o.jsx(K4,{ref:r,className:je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(SZ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Z4.displayName=K4.displayName;var Tx={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(eD,function(n){var r="1.9.4";function s(a){var u,m,x,k;for(m=1,x=arguments.length;m<x;m++){k=arguments[m];for(u in k)a[u]=k[u]}return a}var i=Object.create||function(){function a(){}return function(u){return a.prototype=u,new a}}();function l(a,u){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var x=m.call(arguments,2);return function(){return a.apply(u,x.length?x.concat(m.call(arguments)):arguments)}}var c=0;function d(a){return"_leaflet_id"in a||(a._leaflet_id=++c),a._leaflet_id}function h(a,u,m){var x,k,M,q;return q=function(){x=!1,k&&(M.apply(m,k),k=!1)},M=function(){x?k=arguments:(a.apply(m,arguments),setTimeout(q,u),x=!0)},M}function p(a,u,m){var x=u[1],k=u[0],M=x-k;return a===x&&m?a:((a-k)%M+M)%M+k}function g(){return!1}function y(a,u){if(u===!1)return a;var m=Math.pow(10,u===void 0?6:u);return Math.round(a*m)/m}function w(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function N(a){return w(a).split(/\s+/)}function v(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?i(a.options):{});for(var m in u)a.options[m]=u[m];return a.options}function S(a,u,m){var x=[];for(var k in a)x.push(encodeURIComponent(m?k.toUpperCase():k)+"="+encodeURIComponent(a[k]));return(!u||u.indexOf("?")===-1?"?":"&")+x.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function T(a,u){return a.replace(E,function(m,x){var k=u[x];if(k===void 0)throw new Error("No value provided for variable "+m);return typeof k=="function"&&(k=k(u)),k})}var C=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function R(a,u){for(var m=0;m<a.length;m++)if(a[m]===u)return m;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function U(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var j=0;function I(a){var u=+new Date,m=Math.max(0,16-(u-j));return j=u+m,window.setTimeout(a,m)}var A=window.requestAnimationFrame||U("RequestAnimationFrame")||I,D=window.cancelAnimationFrame||U("CancelAnimationFrame")||U("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function z(a,u,m){if(m&&A===I)a.call(u);else return A.call(window,l(a,u))}function B(a){a&&D.call(window,a)}var O={__proto__:null,extend:s,create:i,bind:l,get lastId(){return c},stamp:d,throttle:h,wrapNum:p,falseFn:g,formatNum:y,trim:w,splitWords:N,setOptions:v,getParamString:S,template:T,isArray:C,indexOf:R,emptyImageUrl:F,requestFn:A,cancelFn:D,requestAnimFrame:z,cancelAnimFrame:B};function Q(){}Q.extend=function(a){var u=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,x=i(m);x.constructor=u,u.prototype=x;for(var k in this)Object.prototype.hasOwnProperty.call(this,k)&&k!=="prototype"&&k!=="__super__"&&(u[k]=this[k]);return a.statics&&s(u,a.statics),a.includes&&(me(a.includes),s.apply(null,[x].concat(a.includes))),s(x,a),delete x.statics,delete x.includes,x.options&&(x.options=m.options?i(m.options):{},s(x.options,a.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,q=x._initHooks.length;M<q;M++)x._initHooks[M].call(this)}},u},Q.include=function(a){var u=this.prototype.options;return s(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},Q.mergeOptions=function(a){return s(this.prototype.options,a),this},Q.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function me(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=C(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(a,u,m){if(typeof a=="object")for(var x in a)this._on(x,a[x],u);else{a=N(a);for(var k=0,M=a.length;k<M;k++)this._on(a[k],u,m)}return this},off:function(a,u,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var x in a)this._off(x,a[x],u);else{a=N(a);for(var k=arguments.length===1,M=0,q=a.length;M<q;M++)k?this._off(a[M]):this._off(a[M],u,m)}return this},_on:function(a,u,m,x){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,m)===!1){m===this&&(m=void 0);var k={fn:u,ctx:m};x&&(k.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(k)}},_off:function(a,u,m){var x,k,M;if(this._events&&(x=this._events[a],!!x)){if(arguments.length===1){if(this._firingCount)for(k=0,M=x.length;k<M;k++)x[k].fn=g;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var q=this._listens(a,u,m);if(q!==!1){var K=x[q];this._firingCount&&(K.fn=g,this._events[a]=x=x.slice()),x.splice(q,1)}}},fire:function(a,u,m){if(!this.listens(a,m))return this;var x=s({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var k=this._events[a];if(k){this._firingCount=this._firingCount+1||1;for(var M=0,q=k.length;M<q;M++){var K=k[M],X=K.fn;K.once&&this.off(a,X,K.ctx),X.call(K.ctx||this,x)}this._firingCount--}}return m&&this._propagateEvent(x),this},listens:function(a,u,m,x){typeof a!="string"&&console.warn('"string" type argument expected');var k=u;typeof u!="function"&&(x=!!u,k=void 0,m=void 0);var M=this._events&&this._events[a];if(M&&M.length&&this._listens(a,k,m)!==!1)return!0;if(x){for(var q in this._eventParents)if(this._eventParents[q].listens(a,u,m,x))return!0}return!1},_listens:function(a,u,m){if(!this._events)return!1;var x=this._events[a]||[];if(!u)return!!x.length;m===this&&(m=void 0);for(var k=0,M=x.length;k<M;k++)if(x[k].fn===u&&x[k].ctx===m)return k;return!1},once:function(a,u,m){if(typeof a=="object")for(var x in a)this._on(x,a[x],u,!0);else{a=N(a);for(var k=0,M=a.length;k<M;k++)this._on(a[k],u,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[d(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[d(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,s({layer:a.target,propagatedFrom:a.target},a),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var J=Q.extend(Y);function $(a,u,m){this.x=m?Math.round(a):a,this.y=m?Math.round(u):u}var H=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(a){return this.clone()._add(G(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(G(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new $(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new $(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=H(this.x),this.y=H(this.y),this},distanceTo:function(a){a=G(a);var u=a.x-this.x,m=a.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(a){return a=G(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=G(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function G(a,u,m){return a instanceof $?a:C(a)?new $(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new $(a.x,a.y):new $(a,u,m)}function te(a,u){if(a)for(var m=u?[a,u]:a,x=0,k=m.length;x<k;x++)this.extend(m[x])}te.prototype={extend:function(a){var u,m;if(!a)return this;if(a instanceof $||typeof a[0]=="number"||"x"in a)u=m=G(a);else if(a=ne(a),u=a.min,m=a.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,m;return typeof a[0]=="number"||a instanceof $?a=G(a):a=ne(a),a instanceof te?(u=a.min,m=a.max):u=m=a,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=ne(a);var u=this.min,m=this.max,x=a.min,k=a.max,M=k.x>=u.x&&x.x<=m.x,q=k.y>=u.y&&x.y<=m.y;return M&&q},overlaps:function(a){a=ne(a);var u=this.min,m=this.max,x=a.min,k=a.max,M=k.x>u.x&&x.x<m.x,q=k.y>u.y&&x.y<m.y;return M&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,m=this.max,x=Math.abs(u.x-m.x)*a,k=Math.abs(u.y-m.y)*a;return ne(G(u.x-x,u.y-k),G(m.x+x,m.y+k))},equals:function(a){return a?(a=ne(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ne(a,u){return!a||a instanceof te?a:new te(a,u)}function ce(a,u){if(a)for(var m=u?[a,u]:a,x=0,k=m.length;x<k;x++)this.extend(m[x])}ce.prototype={extend:function(a){var u=this._southWest,m=this._northEast,x,k;if(a instanceof be)x=a,k=a;else if(a instanceof ce){if(x=a._southWest,k=a._northEast,!x||!k)return this}else return a?this.extend(_e(a)||ge(a)):this;return!u&&!m?(this._southWest=new be(x.lat,x.lng),this._northEast=new be(k.lat,k.lng)):(u.lat=Math.min(x.lat,u.lat),u.lng=Math.min(x.lng,u.lng),m.lat=Math.max(k.lat,m.lat),m.lng=Math.max(k.lng,m.lng)),this},pad:function(a){var u=this._southWest,m=this._northEast,x=Math.abs(u.lat-m.lat)*a,k=Math.abs(u.lng-m.lng)*a;return new ce(new be(u.lat-x,u.lng-k),new be(m.lat+x,m.lng+k))},getCenter:function(){return new be((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new be(this.getNorth(),this.getWest())},getSouthEast:function(){return new be(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof be||"lat"in a?a=_e(a):a=ge(a);var u=this._southWest,m=this._northEast,x,k;return a instanceof ce?(x=a.getSouthWest(),k=a.getNorthEast()):x=k=a,x.lat>=u.lat&&k.lat<=m.lat&&x.lng>=u.lng&&k.lng<=m.lng},intersects:function(a){a=ge(a);var u=this._southWest,m=this._northEast,x=a.getSouthWest(),k=a.getNorthEast(),M=k.lat>=u.lat&&x.lat<=m.lat,q=k.lng>=u.lng&&x.lng<=m.lng;return M&&q},overlaps:function(a){a=ge(a);var u=this._southWest,m=this._northEast,x=a.getSouthWest(),k=a.getNorthEast(),M=k.lat>u.lat&&x.lat<m.lat,q=k.lng>u.lng&&x.lng<m.lng;return M&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=ge(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ge(a,u){return a instanceof ce?a:new ce(a,u)}function be(a,u,m){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,m!==void 0&&(this.alt=+m)}be.prototype={equals:function(a,u){if(!a)return!1;a=_e(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+y(this.lat,a)+", "+y(this.lng,a)+")"},distanceTo:function(a){return Ie.distance(this,_e(a))},wrap:function(){return Ie.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,m=u/Math.cos(Math.PI/180*this.lat);return ge([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new be(this.lat,this.lng,this.alt)}};function _e(a,u,m){return a instanceof be?a:C(a)&&typeof a[0]!="object"?a.length===3?new be(a[0],a[1],a[2]):a.length===2?new be(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new be(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new be(a,u,m)}var oe={latLngToPoint:function(a,u){var m=this.projection.project(a),x=this.scale(u);return this.transformation._transform(m,x)},pointToLatLng:function(a,u){var m=this.scale(u),x=this.transformation.untransform(a,m);return this.projection.unproject(x)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(a),x=this.transformation.transform(u.min,m),k=this.transformation.transform(u.max,m);return new te(x,k)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?p(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?p(a.lat,this.wrapLat,!0):a.lat,x=a.alt;return new be(m,u,x)},wrapLatLngBounds:function(a){var u=a.getCenter(),m=this.wrapLatLng(u),x=u.lat-m.lat,k=u.lng-m.lng;if(x===0&&k===0)return a;var M=a.getSouthWest(),q=a.getNorthEast(),K=new be(M.lat-x,M.lng-k),X=new be(q.lat-x,q.lng-k);return new ce(K,X)}},Ie=s({},oe,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var m=Math.PI/180,x=a.lat*m,k=u.lat*m,M=Math.sin((u.lat-a.lat)*m/2),q=Math.sin((u.lng-a.lng)*m/2),K=M*M+Math.cos(x)*Math.cos(k)*q*q,X=2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K));return this.R*X}}),Oe=6378137,de={R:Oe,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,m=this.MAX_LATITUDE,x=Math.max(Math.min(m,a.lat),-m),k=Math.sin(x*u);return new $(this.R*a.lng*u,this.R*Math.log((1+k)/(1-k))/2)},unproject:function(a){var u=180/Math.PI;return new be((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:function(){var a=Oe*Math.PI;return new te([-a,-a],[a,a])}()};function he(a,u,m,x){if(C(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=m,this._d=x}he.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new $((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function se(a,u,m,x){return new he(a,u,m,x)}var Ae=s({},Ie,{code:"EPSG:3857",projection:de,transformation:function(){var a=.5/(Math.PI*de.R);return se(a,.5,-a,.5)}()}),Ye=s({},Ae,{code:"EPSG:900913"});function dt(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function vt(a,u){var m="",x,k,M,q,K,X;for(x=0,M=a.length;x<M;x++){for(K=a[x],k=0,q=K.length;k<q;k++)X=K[k],m+=(k?"L":"M")+X.x+" "+X.y;m+=u?Me.svg?"z":"x":""}return m||"M0 0"}var bt=document.documentElement.style,Zt="ActiveXObject"in window,Bt=Zt&&!document.addEventListener,mn="msLaunchUri"in navigator&&!("documentMode"in document),en=ts("webkit"),Mr=ts("android"),tn=ts("android 2")||ts("android 3"),ye=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),$e=Mr&&ts("Google")&&ye<537&&!("AudioNode"in window),Ke=!!window.opera,Ue=!mn&&ts("chrome"),ar=ts("gecko")&&!en&&!Ke&&!Zt,$n=!Ue&&ts("safari"),Qt=ts("phantom"),qn="OTransition"in bt,jn=navigator.platform.indexOf("Win")===0,Hn=Zt&&"transition"in bt,An="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!tn,At="MozPerspective"in bt,vr=!window.L_DISABLE_3D&&(Hn||An||At)&&!qn&&!Qt,Dr=typeof orientation<"u"||ts("mobile"),Ti=Dr&&en,Qs=Dr&&An,Ys=!window.PointerEvent&&window.MSPointerEvent,Lr=!!(window.PointerEvent||Ys),Or="ontouchstart"in window||!!window.TouchEvent,Rn=!window.L_NO_TOUCH&&(Or||Lr),Vr=Dr&&Ke,Ve=Dr&&ar,tt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yt=function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",g,u),window.removeEventListener("testPassiveEventSupport",g,u)}catch{}return a}(),pn=function(){return!!document.createElement("canvas").getContext}(),En=!!(document.createElementNS&&dt("svg").createSVGRect),kt=!!En&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),es=!En&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),gn=navigator.platform.indexOf("Mac")===0,Wn=navigator.platform.indexOf("Linux")===0;function ts(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Me={ie:Zt,ielt9:Bt,edge:mn,webkit:en,android:Mr,android23:tn,androidStock:$e,opera:Ke,chrome:Ue,gecko:ar,safari:$n,phantom:Qt,opera12:qn,win:jn,ie3d:Hn,webkit3d:An,gecko3d:At,any3d:vr,mobile:Dr,mobileWebkit:Ti,mobileWebkit3d:Qs,msPointer:Ys,pointer:Lr,touch:Rn,touchNative:Or,mobileOpera:Vr,mobileGecko:Ve,retina:tt,passiveEvents:yt,canvas:pn,svg:En,vml:es,inlineSvg:kt,mac:gn,linux:Wn},Si=Me.msPointer?"MSPointerDown":"pointerdown",cf=Me.msPointer?"MSPointerMove":"pointermove",uf=Me.msPointer?"MSPointerUp":"pointerup",Ea=Me.msPointer?"MSPointerCancel":"pointercancel",Sl={touchstart:Si,touchmove:cf,touchend:uf,touchcancel:Ea},Cl={touchstart:Pl,touchmove:kl,touchend:kl,touchcancel:kl},Es={},Ns=!1;function df(a,u,m){return u==="touchstart"&&ff(),Cl[u]?(m=Cl[u].bind(this,m),a.addEventListener(Sl[u],m,!1),m):(console.warn("wrong event specified:",u),g)}function hf(a,u,m){if(!Sl[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(Sl[u],m,!1)}function ku(a){Es[a.pointerId]=a}function Pu(a){Es[a.pointerId]&&(Es[a.pointerId]=a)}function Iu(a){delete Es[a.pointerId]}function ff(){Ns||(document.addEventListener(Si,ku,!0),document.addEventListener(cf,Pu,!0),document.addEventListener(uf,Iu,!0),document.addEventListener(Ea,Iu,!0),Ns=!0)}function kl(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in Es)u.touches.push(Es[m]);u.changedTouches=[u],a(u)}}function Pl(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ut(u),kl(a,u)}function mf(a){var u={},m,x;for(x in a)m=a[x],u[x]=m&&m.bind?m.bind(a):m;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var ju=200;function Na(a,u){a.addEventListener("dblclick",u);var m=0,x;function k(M){if(M.detail!==1){x=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var q=$u(M);if(!(q.some(function(X){return X instanceof HTMLLabelElement&&X.attributes.for})&&!q.some(function(X){return X instanceof HTMLInputElement||X instanceof HTMLSelectElement}))){var K=Date.now();K-m<=ju?(x++,x===2&&u(mf(M))):x=1,m=K}}}return a.addEventListener("click",k),{dblclick:u,simDblclick:k}}function Ci(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var Ta=Pi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Sa=Pi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Au=Sa==="webkitTransition"||Sa==="OTransition"?Sa+"End":"transitionend";function Ru(a){return typeof a=="string"?document.getElementById(a):a}function lo(a,u){var m=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(a,null);m=x?x[u]:null}return m==="auto"?null:m}function ot(a,u,m){var x=document.createElement(a);return x.className=u||"",m&&m.appendChild(x),x}function St(a){var u=a.parentNode;u&&u.removeChild(a)}function Ca(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function ki(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function co(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Mu(a,u){if(a.classList!==void 0)return a.classList.contains(u);var m=ns(a);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function Ze(a,u){if(a.classList!==void 0)for(var m=N(u),x=0,k=m.length;x<k;x++)a.classList.add(m[x]);else if(!Mu(a,u)){var M=ns(a);Du(a,(M?M+" ":"")+u)}}function Vt(a,u){a.classList!==void 0?a.classList.remove(u):Du(a,w((" "+ns(a)+" ").replace(" "+u+" "," ")))}function Du(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function ns(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Yt(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Il(a,u)}function Il(a,u){var m=!1,x="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(x)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):a.style.filter+=" progid:"+x+"(opacity="+u+")"}function Pi(a){for(var u=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in u)return a[m];return!1}function Xs(a,u,m){var x=u||new $(0,0);a.style[Ta]=(Me.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(m?" scale("+m+")":"")}function qe(a,u){a._leaflet_pos=u,Me.any3d?Xs(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function rs(a){return a._leaflet_pos||new $(0,0)}var Ts,Ss,Lu;if("onselectstart"in document)Ts=function(){Fe(window,"selectstart",Ut)},Ss=function(){Et(window,"selectstart",Ut)};else{var uo=Pi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ts=function(){if(uo){var a=document.documentElement.style;Lu=a[uo],a[uo]="none"}},Ss=function(){uo&&(document.documentElement.style[uo]=Lu,Lu=void 0)}}function Ou(){Fe(window,"dragstart",Ut)}function Vu(){Et(window,"dragstart",Ut)}var jl,Fu;function Ii(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Fr(),jl=a,Fu=a.style.outlineStyle,a.style.outlineStyle="none",Fe(window,"keydown",Fr))}function Fr(){jl&&(jl.style.outlineStyle=Fu,jl=void 0,Fu=void 0,Et(window,"keydown",Fr))}function zu(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Al(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var pf={__proto__:null,TRANSFORM:Ta,TRANSITION:Sa,TRANSITION_END:Au,get:Ru,getStyle:lo,create:ot,remove:St,empty:Ca,toFront:ki,toBack:co,hasClass:Mu,addClass:Ze,removeClass:Vt,setClass:Du,getClass:ns,setOpacity:Yt,testProp:Pi,setTransform:Xs,setPosition:qe,getPosition:rs,get disableTextSelection(){return Ts},get enableTextSelection(){return Ss},disableImageDrag:Ou,enableImageDrag:Vu,preventOutline:Ii,restoreOutline:Fr,getSizedParentNode:zu,getScale:Al};function Fe(a,u,m,x){if(u&&typeof u=="object")for(var k in u)Bu(a,k,u[k],m);else{u=N(u);for(var M=0,q=u.length;M<q;M++)Bu(a,u[M],m,x)}return this}var ss="_leaflet_events";function Et(a,u,m,x){if(arguments.length===1)gf(a),delete a[ss];else if(u&&typeof u=="object")for(var k in u)Uu(a,k,u[k],m);else if(u=N(u),arguments.length===2)gf(a,function(K){return R(u,K)!==-1});else for(var M=0,q=u.length;M<q;M++)Uu(a,u[M],m,x);return this}function gf(a,u){for(var m in a[ss]){var x=m.split(/\d/)[0];(!u||u(x))&&Uu(a,x,null,null,m)}}var is={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Bu(a,u,m,x){var k=u+d(m)+(x?"_"+d(x):"");if(a[ss]&&a[ss][k])return this;var M=function(K){return m.call(x||a,K||window.event)},q=M;!Me.touchNative&&Me.pointer&&u.indexOf("touch")===0?M=df(a,u,M):Me.touch&&u==="dblclick"?M=Na(a,M):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(is[u]||u,M,Me.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(M=function(K){K=K||window.event,qu(a,K)&&q(K)},a.addEventListener(is[u],M,!1)):a.addEventListener(u,q,!1):a.attachEvent("on"+u,M),a[ss]=a[ss]||{},a[ss][k]=M}function Uu(a,u,m,x,k){k=k||u+d(m)+(x?"_"+d(x):"");var M=a[ss]&&a[ss][k];if(!M)return this;!Me.touchNative&&Me.pointer&&u.indexOf("touch")===0?hf(a,u,M):Me.touch&&u==="dblclick"?Ci(a,M):"removeEventListener"in a?a.removeEventListener(is[u]||u,M,!1):a.detachEvent("on"+u,M),a[ss][k]=null}function os(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function ho(a){return Bu(a,"wheel",os),this}function fo(a){return Fe(a,"mousedown touchstart dblclick contextmenu",os),a._leaflet_disable_click=!0,this}function Ut(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function zr(a){return Ut(a),os(a),this}function $u(a){if(a.composedPath)return a.composedPath();for(var u=[],m=a.target;m;)u.push(m),m=m.parentNode;return u}function Rl(a,u){if(!u)return new $(a.clientX,a.clientY);var m=Al(u),x=m.boundingClientRect;return new $((a.clientX-x.left)/m.x-u.clientLeft,(a.clientY-x.top)/m.y-u.clientTop)}var Ft=Me.linux&&Me.chrome?window.devicePixelRatio:Me.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yf(a){return Me.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Ft:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function qu(a,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var vf={__proto__:null,on:Fe,off:Et,stopPropagation:os,disableScrollPropagation:ho,disableClickPropagation:fo,preventDefault:Ut,stop:zr,getPropagationPath:$u,getMousePosition:Rl,getWheelDelta:yf,isExternalTarget:qu,addListener:Fe,removeListener:Et},Hu=J.extend({run:function(a,u,m,x){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=rs(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var m=this._startPos.add(this._offset.multiplyBy(a));u&&m._round(),qe(this._el,m),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),st=J.extend({options:{crs:Ae,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=v(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(_e(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Sa&&Me.any3d&&!Me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Fe(this._proxy,Au,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(_e(a),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=s({animate:m.animate},m.zoom),m.pan=s({animate:m.animate,duration:m.duration},m.pan));var x=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,m.zoom):this._tryAnimatedPan(a,m.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,m){var x=this.getZoomScale(u),k=this.getSize().divideBy(2),M=a instanceof $?a:this.latLngToContainerPoint(a),q=M.subtract(k).multiplyBy(1-1/x),K=this.containerPointToLatLng(k.add(q));return this.setView(K,u,{zoom:m})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():ge(a);var m=G(u.paddingTopLeft||u.padding||[0,0]),x=G(u.paddingBottomRight||u.padding||[0,0]),k=this.getBoundsZoom(a,!1,m.add(x));if(k=typeof u.maxZoom=="number"?Math.min(u.maxZoom,k):k,k===1/0)return{center:a.getCenter(),zoom:k};var M=x.subtract(m).divideBy(2),q=this.project(a.getSouthWest(),k),K=this.project(a.getNorthEast(),k),X=this.unproject(q.add(K).divideBy(2).add(M),k);return{center:X,zoom:k}},fitBounds:function(a,u){if(a=ge(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=G(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Hu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ze(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,m){if(m=m||{},m.animate===!1||!Me.any3d)return this.setView(a,u,m);this._stop();var x=this.project(this.getCenter()),k=this.project(a),M=this.getSize(),q=this._zoom;a=_e(a),u=u===void 0?q:u;var K=Math.max(M.x,M.y),X=K*this.getZoomScale(q,u),ue=k.distanceTo(x)||1,Ee=1.42,ze=Ee*Ee;function nt(an){var Mf=an?-1:1,ZM=an?X:K,QM=X*X-K*K+Mf*ze*ze*ue*ue,YM=2*ZM*ze*ue,_y=QM/YM,Yb=Math.sqrt(_y*_y+1)-_y,XM=Yb<1e-9?-18:Math.log(Yb);return XM}function cr(an){return(Math.exp(an)-Math.exp(-an))/2}function Tn(an){return(Math.exp(an)+Math.exp(-an))/2}function ls(an){return cr(an)/Tn(an)}var _r=nt(0);function Wl(an){return K*(Tn(_r)/Tn(_r+Ee*an))}function HM(an){return K*(Tn(_r)*ls(_r+Ee*an)-cr(_r))/ze}function WM(an){return 1-Math.pow(1-an,1.5)}var GM=Date.now(),Zb=(nt(1)-_r)/Ee,KM=m.duration?1e3*m.duration:1e3*Zb*.8;function Qb(){var an=(Date.now()-GM)/KM,Mf=WM(an)*Zb;an<=1?(this._flyToFrame=z(Qb,this),this._move(this.unproject(x.add(k.subtract(x).multiplyBy(HM(Mf)/ue)),q),this.getScaleZoom(K/Wl(Mf),q),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Qb.call(this),this},flyToBounds:function(a,u){var m=this._getBoundsCenterZoom(a,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(a){return a=ge(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var m=this.getCenter(),x=this._limitCenter(m,this._zoom,ge(a));return m.equals(x)||this.panTo(x,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var m=G(u.paddingTopLeft||u.padding||[0,0]),x=G(u.paddingBottomRight||u.padding||[0,0]),k=this.project(this.getCenter()),M=this.project(a),q=this.getPixelBounds(),K=ne([q.min.add(m),q.max.subtract(x)]),X=K.getSize();if(!K.contains(M)){this._enforcingBounds=!0;var ue=M.subtract(K.getCenter()),Ee=K.extend(M).getSize().subtract(X);k.x+=ue.x<0?-Ee.x:Ee.x,k.y+=ue.y<0?-Ee.y:Ee.y,this.panTo(this.unproject(k),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=s({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),x=u.divideBy(2).round(),k=m.divideBy(2).round(),M=x.subtract(k);return!M.x&&!M.y?this:(a.animate&&a.pan?this.panBy(M):(a.pan&&this._rawPanBy(M),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=s({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=l(this._handleGeolocationResponse,this),m=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,a):navigator.geolocation.getCurrentPosition(u,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,m=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,m=a.coords.longitude,x=new be(u,m),k=x.toBounds(a.coords.accuracy*2),M=this._locateOptions;if(M.setView){var q=this.getBoundsZoom(k);this.setView(x,M.maxZoom?Math.min(q,M.maxZoom):q)}var K={latlng:x,bounds:k,timestamp:a.timestamp};for(var X in a.coords)typeof a.coords[X]=="number"&&(K[X]=a.coords[X]);this.fire("locationfound",K)}},addHandler:function(a,u){if(!u)return this;var m=this[a]=new u(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),St(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)St(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),x=ot("div",m,u||this._mapPane);return a&&(this._panes[a]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new ce(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,m){a=ge(a),m=G(m||[0,0]);var x=this.getZoom()||0,k=this.getMinZoom(),M=this.getMaxZoom(),q=a.getNorthWest(),K=a.getSouthEast(),X=this.getSize().subtract(m),ue=ne(this.project(K,x),this.project(q,x)).getSize(),Ee=Me.any3d?this.options.zoomSnap:1,ze=X.x/ue.x,nt=X.y/ue.y,cr=u?Math.max(ze,nt):Math.min(ze,nt);return x=this.getScaleZoom(cr,x),Ee&&(x=Math.round(x/(Ee/100))*(Ee/100),x=u?Math.ceil(x/Ee)*Ee:Math.floor(x/Ee)*Ee),Math.max(k,Math.min(M,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var m=this._getTopLeftPoint(a,u);return new te(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(a)/m.scale(u)},getScaleZoom:function(a,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var x=m.zoom(a*m.scale(u));return isNaN(x)?1/0:x},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(_e(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(G(a),u)},layerPointToLatLng:function(a){var u=G(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(_e(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(_e(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ge(a))},distance:function(a,u){return this.options.crs.distance(_e(a),_e(u))},containerPointToLayerPoint:function(a){return G(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return G(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(G(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_e(a)))},mouseEventToContainerPoint:function(a){return Rl(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Ru(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Fe(u,"scroll",this._onScroll,this),this._containerId=d(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Me.any3d,Ze(a,"leaflet-container"+(Me.touch?" leaflet-touch":"")+(Me.retina?" leaflet-retina":"")+(Me.ielt9?" leaflet-oldie":"")+(Me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=lo(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qe(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ze(a.markerPane,"leaflet-zoom-hide"),Ze(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,m){qe(this._mapPane,new $(0,0));var x=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var k=this._zoom!==u;this._moveStart(k,m)._move(a,u)._moveEnd(k),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,m,x){u===void 0&&(u=this._zoom);var k=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),x?m&&m.pinch&&this.fire("zoom",m):((k||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){qe(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[d(this._container)]=this;var u=a?Et:Fe;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Me.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var m=[],x,k=u==="mouseout"||u==="mouseover",M=a.target||a.srcElement,q=!1;M;){if(x=this._targets[d(M)],x&&(u==="click"||u==="preclick")&&this._draggableMoved(x)){q=!0;break}if(x&&x.listens(u,!0)&&(k&&!qu(M,a)||(m.push(x),k))||M===this._container)break;M=M.parentNode}return!m.length&&!q&&!k&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var m=a.type;m==="mousedown"&&Ii(u),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,m){if(a.type==="click"){var x=s({},a);x.type="preclick",this._fireDOMEvent(x,x.type,m)}var k=this._findEventTargets(a,u);if(m){for(var M=[],q=0;q<m.length;q++)m[q].listens(u,!0)&&M.push(m[q]);k=M.concat(k)}if(k.length){u==="contextmenu"&&Ut(a);var K=k[0],X={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ue=K.getLatLng&&(!K._radius||K._radius<=10);X.containerPoint=ue?this.latLngToContainerPoint(K.getLatLng()):this.mouseEventToContainerPoint(a),X.layerPoint=this.containerPointToLayerPoint(X.containerPoint),X.latlng=ue?K.getLatLng():this.layerPointToLatLng(X.layerPoint)}for(q=0;q<k.length;q++)if(k[q].fire(u,X,!0),X.originalEvent._stopped||k[q].options.bubblingMouseEvents===!1&&R(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return rs(this._mapPane)||new $(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var m=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var m=this.getSize()._divideBy(2);return this.project(a,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,m){var x=this._getNewPixelOrigin(m,u);return this.project(a,u)._subtract(x)},_latLngBoundsToNewLayerBounds:function(a,u,m){var x=this._getNewPixelOrigin(m,u);return ne([this.project(a.getSouthWest(),u)._subtract(x),this.project(a.getNorthWest(),u)._subtract(x),this.project(a.getSouthEast(),u)._subtract(x),this.project(a.getNorthEast(),u)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,m){if(!m)return a;var x=this.project(a,u),k=this.getSize().divideBy(2),M=new te(x.subtract(k),x.add(k)),q=this._getBoundsOffset(M,m,u);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?a:this.unproject(x.add(q),u)},_limitOffset:function(a,u){if(!u)return a;var m=this.getPixelBounds(),x=new te(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(x,u))},_getBoundsOffset:function(a,u,m){var x=ne(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),k=x.min.subtract(a.min),M=x.max.subtract(a.max),q=this._rebound(k.x,-M.x),K=this._rebound(k.y,-M.y);return new $(q,K)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),m=this.getMaxZoom(),x=Me.any3d?this.options.zoomSnap:1;return x&&(a=Math.round(a/x)*x),Math.max(u,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var m=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var a=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var m=Ta,x=this._proxy.style[m];Xs(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),x===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){St(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Xs(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(u),k=this._getCenterOffset(a)._divideBy(1-1/x);return m.animate!==!0&&!this.getSize().contains(k)?!1:(z(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,m,x){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Ze(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ml(a,u){return new st(a,u)}var xr=Q.extend({options:{position:"topright"},initialize:function(a){v(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),m=this.getPosition(),x=a._controlCorners[m];return Ze(u,"leaflet-control"),m.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(St(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),lr=function(a){return new xr(a)};st.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",m=this._controlContainer=ot("div",u+"control-container",this._container);function x(k,M){var q=u+k+" "+u+M;a[k+M]=ot("div",q,m)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)St(this._controlCorners[a]);St(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Wu=xr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,m,x){return m<x?-1:x<m?1:0}},initialize:function(a,u,m){v(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in a)this._addLayer(a[x],x);for(x in u)this._addLayer(u[x],x,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return xr.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(d(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ze(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Ze(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=ot("div",a),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),fo(u),ho(u);var x=this._section=ot("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Fe(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var k=this._layersLink=ot("a",a+"-toggle",u);k.href="#",k.title="Layers",k.setAttribute("role","button"),Fe(k,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){Ut(M),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=ot("div",a+"-base",x),this._separator=ot("div",a+"-separator",x),this._overlaysList=ot("div",a+"-overlays",x),u.appendChild(x)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&d(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(l(function(x,k){return this.options.sortFunction(x.layer,k.layer,x.name,k.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ca(this._baseLayersList),Ca(this._overlaysList),this._layerControlInputs=[];var a,u,m,x,k=0;for(m=0;m<this._layers.length;m++)x=this._layers[m],this._addItem(x),u=u||x.overlay,a=a||!x.overlay,k+=x.overlay?0:1;return this.options.hideSingleBase&&(a=a&&k>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(d(a.target)),m=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(a,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=m,x.firstChild},_addItem:function(a){var u=document.createElement("label"),m=this._map.hasLayer(a.layer),x;a.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=m):x=this._createRadioElement("leaflet-base-layers_"+d(this),m),this._layerControlInputs.push(x),x.layerId=d(a.layer),Fe(x,"click",this._onInputClick,this);var k=document.createElement("span");k.innerHTML=" "+a.name;var M=document.createElement("span");u.appendChild(M),M.appendChild(x),M.appendChild(k);var q=a.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,m,x=[],k=[];this._handlingClick=!0;for(var M=a.length-1;M>=0;M--)u=a[M],m=this._getLayer(u.layerId).layer,u.checked?x.push(m):u.checked||k.push(m);for(M=0;M<k.length;M++)this._map.hasLayer(k[M])&&this._map.removeLayer(k[M]);for(M=0;M<x.length;M++)this._map.hasLayer(x[M])||this._map.addLayer(x[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,m,x=this._map.getZoom(),k=a.length-1;k>=0;k--)u=a[k],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&x<m.options.minZoom||m.options.maxZoom!==void 0&&x>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Fe(a,"click",Ut),this.expand();var u=this;setTimeout(function(){Et(a,"click",Ut),u._preventClick=!1})}}),my=function(a,u,m){return new Wu(a,u,m)},ji=xr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",m=ot("div",u+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,m,x,k){var M=ot("a",m,x);return M.innerHTML=a,M.href="#",M.title=u,M.setAttribute("role","button"),M.setAttribute("aria-label",u),fo(M),Fe(M,"click",zr),Fe(M,"click",k,this),Fe(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";Vt(this._zoomInButton,u),Vt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Ze(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Ze(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});st.mergeOptions({zoomControl:!0}),st.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ji,this.addControl(this.zoomControl))});var xf=function(a){return new ji(a)},Dl=xr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",m=ot("div",u),x=this.options;return this._addScales(x,u+"-line",m),a.on(x.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,m){a.metric&&(this._mScale=ot("div",u,m)),a.imperial&&(this._iScale=ot("div",u,m))},_update:function(){var a=this._map,u=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/a)},_updateImperial:function(a){var u=a*3.2808399,m,x,k;u>5280?(m=u/5280,x=this._getRoundNum(m),this._updateScale(this._iScale,x+" mi",x/m)):(k=this._getRoundNum(u),this._updateScale(this._iScale,k+" ft",k/u))},_updateScale:function(a,u,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),m=a/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),Ll=function(a){return new Dl(a)},_f='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',mo=xr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Me.inlineSvg?_f+" ":"")+"Leaflet</a>"},initialize:function(a){v(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),fo(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});st.mergeOptions({attributionControl:!0}),st.addInitHook(function(){this.options.attributionControl&&new mo().addTo(this)});var py=function(a){return new mo(a)};xr.Layers=Wu,xr.Zoom=ji,xr.Scale=Dl,xr.Attribution=mo,lr.layers=my,lr.zoom=xf,lr.scale=Ll,lr.attribution=py;var Br=Q.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Br.addTo=function(a,u){return a.addHandler(u,this),this};var ka={Events:Y},Gu=Me.touch?"touchstart mousedown":"mousedown",Cs=J.extend({options:{clickTolerance:3},initialize:function(a,u,m,x){v(this,x),this._element=a,this._dragStartTarget=u||a,this._preventOutline=m},enable:function(){this._enabled||(Fe(this._dragStartTarget,Gu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Cs._dragging===this&&this.finishDrag(!0),Et(this._dragStartTarget,Gu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Mu(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Cs._dragging===this&&this.finishDrag();return}if(!(Cs._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Cs._dragging=this,this._preventOutline&&Ii(this._element),Ou(),Ts(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,m=zu(this._element);this._startPoint=new $(u.clientX,u.clientY),this._startPos=rs(this._element),this._parentScale=Al(m);var x=a.type==="mousedown";Fe(document,x?"mousemove":"touchmove",this._onMove,this),Fe(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,m=new $(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Ut(a),this._moved||(this.fire("dragstart"),this._moved=!0,Ze(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ze(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),qe(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Vt(document.body,"leaflet-dragging"),this._lastTarget&&(Vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Et(document,"mousemove touchmove",this._onMove,this),Et(document,"mouseup touchend touchcancel",this._onUp,this),Vu(),Ss();var u=this._moved&&this._moving;this._moving=!1,Cs._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ol(a,u,m){var x,k=[1,4,2,8],M,q,K,X,ue,Ee,ze,nt;for(M=0,Ee=a.length;M<Ee;M++)a[M]._code=Js(a[M],u);for(K=0;K<4;K++){for(ze=k[K],x=[],M=0,Ee=a.length,q=Ee-1;M<Ee;q=M++)X=a[M],ue=a[q],X._code&ze?ue._code&ze||(nt=Nn(ue,X,ze,u,m),nt._code=Js(nt,u),x.push(nt)):(ue._code&ze&&(nt=Nn(ue,X,ze,u,m),nt._code=Js(nt,u),x.push(nt)),x.push(X));a=x}return a}function Vl(a,u){var m,x,k,M,q,K,X,ue,Ee;if(!a||a.length===0)throw new Error("latlngs not passed");f(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ze=_e([0,0]),nt=ge(a),cr=nt.getNorthWest().distanceTo(nt.getSouthWest())*nt.getNorthEast().distanceTo(nt.getNorthWest());cr<1700&&(ze=Fl(a));var Tn=a.length,ls=[];for(m=0;m<Tn;m++){var _r=_e(a[m]);ls.push(u.project(_e([_r.lat-ze.lat,_r.lng-ze.lng])))}for(K=X=ue=0,m=0,x=Tn-1;m<Tn;x=m++)k=ls[m],M=ls[x],q=k.y*M.x-M.y*k.x,X+=(k.x+M.x)*q,ue+=(k.y+M.y)*q,K+=q*3;K===0?Ee=ls[0]:Ee=[X/K,ue/K];var Wl=u.unproject(G(Ee));return _e([Wl.lat+ze.lat,Wl.lng+ze.lng])}function Fl(a){for(var u=0,m=0,x=0,k=0;k<a.length;k++){var M=_e(a[k]);u+=M.lat,m+=M.lng,x++}return _e([u/x,m/x])}var zl={__proto__:null,clipPolygon:Ol,polygonCenter:Vl,centroid:Fl};function Ku(a,u){if(!u||!a.length)return a.slice();var m=u*u;return a=bf(a,m),a=wf(a,m),a}function Zu(a,u,m){return Math.sqrt(as(a,u,m,!0))}function Ai(a,u,m){return as(a,u,m)}function wf(a,u){var m=a.length,x=typeof Uint8Array<"u"?Uint8Array:Array,k=new x(m);k[0]=k[m-1]=1,Bl(a,k,u,0,m-1);var M,q=[];for(M=0;M<m;M++)k[M]&&q.push(a[M]);return q}function Bl(a,u,m,x,k){var M=0,q,K,X;for(K=x+1;K<=k-1;K++)X=as(a[K],a[x],a[k],!0),X>M&&(q=K,M=X);M>m&&(u[q]=1,Bl(a,u,m,x,q),Bl(a,u,m,q,k))}function bf(a,u){for(var m=[a[0]],x=1,k=0,M=a.length;x<M;x++)Ef(a[x],a[k])>u&&(m.push(a[x]),k=x);return k<M-1&&m.push(a[M-1]),m}var Qu;function Pa(a,u,m,x,k){var M=x?Qu:Js(a,m),q=Js(u,m),K,X,ue;for(Qu=q;;){if(!(M|q))return[a,u];if(M&q)return!1;K=M||q,X=Nn(a,u,K,m,k),ue=Js(X,m),K===M?(a=X,M=ue):(u=X,q=ue)}}function Nn(a,u,m,x,k){var M=u.x-a.x,q=u.y-a.y,K=x.min,X=x.max,ue,Ee;return m&8?(ue=a.x+M*(X.y-a.y)/q,Ee=X.y):m&4?(ue=a.x+M*(K.y-a.y)/q,Ee=K.y):m&2?(ue=X.x,Ee=a.y+q*(X.x-a.x)/M):m&1&&(ue=K.x,Ee=a.y+q*(K.x-a.x)/M),new $(ue,Ee,k)}function Js(a,u){var m=0;return a.x<u.min.x?m|=1:a.x>u.max.x&&(m|=2),a.y<u.min.y?m|=4:a.y>u.max.y&&(m|=8),m}function Ef(a,u){var m=u.x-a.x,x=u.y-a.y;return m*m+x*x}function as(a,u,m,x){var k=u.x,M=u.y,q=m.x-k,K=m.y-M,X=q*q+K*K,ue;return X>0&&(ue=((a.x-k)*q+(a.y-M)*K)/X,ue>1?(k=m.x,M=m.y):ue>0&&(k+=q*ue,M+=K*ue)),q=a.x-k,K=a.y-M,x?q*q+K*K:new $(k,M)}function f(a){return!C(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function b(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(a)}function P(a,u){var m,x,k,M,q,K,X,ue;if(!a||a.length===0)throw new Error("latlngs not passed");f(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ee=_e([0,0]),ze=ge(a),nt=ze.getNorthWest().distanceTo(ze.getSouthWest())*ze.getNorthEast().distanceTo(ze.getNorthWest());nt<1700&&(Ee=Fl(a));var cr=a.length,Tn=[];for(m=0;m<cr;m++){var ls=_e(a[m]);Tn.push(u.project(_e([ls.lat-Ee.lat,ls.lng-Ee.lng])))}for(m=0,x=0;m<cr-1;m++)x+=Tn[m].distanceTo(Tn[m+1])/2;if(x===0)ue=Tn[0];else for(m=0,M=0;m<cr-1;m++)if(q=Tn[m],K=Tn[m+1],k=q.distanceTo(K),M+=k,M>x){X=(M-x)/k,ue=[K.x-X*(K.x-q.x),K.y-X*(K.y-q.y)];break}var _r=u.unproject(G(ue));return _e([_r.lat+Ee.lat,_r.lng+Ee.lng])}var V={__proto__:null,simplify:Ku,pointToSegmentDistance:Zu,closestPointOnSegment:Ai,clipSegment:Pa,_getEdgeIntersection:Nn,_getBitCode:Js,_sqClosestPointOnSegment:as,isFlat:f,_flat:b,polylineCenter:P},W={project:function(a){return new $(a.lng,a.lat)},unproject:function(a){return new be(a.y,a.x)},bounds:new te([-180,-90],[180,90])},ee={R:6378137,R_MINOR:6356752314245179e-9,bounds:new te([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,m=this.R,x=a.lat*u,k=this.R_MINOR/m,M=Math.sqrt(1-k*k),q=M*Math.sin(x),K=Math.tan(Math.PI/4-x/2)/Math.pow((1-q)/(1+q),M/2);return x=-m*Math.log(Math.max(K,1e-10)),new $(a.lng*u*m,x)},unproject:function(a){for(var u=180/Math.PI,m=this.R,x=this.R_MINOR/m,k=Math.sqrt(1-x*x),M=Math.exp(-a.y/m),q=Math.PI/2-2*Math.atan(M),K=0,X=.1,ue;K<15&&Math.abs(X)>1e-7;K++)ue=k*Math.sin(q),ue=Math.pow((1-ue)/(1+ue),k/2),X=Math.PI/2-2*Math.atan(M*ue)-q,q+=X;return new be(q*u,a.x*u/m)}},ve={__proto__:null,LonLat:W,Mercator:ee,SphericalMercator:de},_t=s({},Ie,{code:"EPSG:3395",projection:ee,transformation:function(){var a=.5/(Math.PI*ee.R);return se(a,.5,-a,.5)}()}),on=s({},Ie,{code:"EPSG:4326",projection:W,transformation:se(1/180,1,-1/180,.5)}),ht=s({},oe,{projection:W,transformation:se(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var m=u.lng-a.lng,x=u.lat-a.lat;return Math.sqrt(m*m+x*x)},infinite:!0});oe.Earth=Ie,oe.EPSG3395=_t,oe.EPSG3857=Ae,oe.EPSG900913=Ye,oe.EPSG4326=on,oe.Simple=ht;var Nt=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[d(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[d(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});st.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=d(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=d(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return d(a)in this._layers},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},_addLayers:function(a){a=a?C(a)?a:[a]:[];for(var u=0,m=a.length;u<m;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[d(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=d(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,m=this._getZoomSpan();for(var x in this._zoomBoundLayers){var k=this._zoomBoundLayers[x].options;a=k.minZoom===void 0?a:Math.min(a,k.minZoom),u=k.maxZoom===void 0?u:Math.max(u,k.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var $t=Nt.extend({initialize:function(a,u){v(this,u),this._layers={};var m,x;if(a)for(m=0,x=a.length;m<x;m++)this.addLayer(a[m])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),m,x;for(m in this._layers)x=this._layers[m],x[a]&&x[a].apply(x,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return d(a)}}),po=function(a,u){return new $t(a,u)},nn=$t.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),$t.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),$t.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ce;for(var u in this._layers){var m=this._layers[u];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),Ul=function(a,u){return new nn(a,u)},ei=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){v(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(x,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(a,u){var m=this.options,x=m[u+"Size"];typeof x=="number"&&(x=[x,x]);var k=G(x),M=G(u==="shadow"&&m.shadowAnchor||m.iconAnchor||k&&k.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(m.className||""),M&&(a.style.marginLeft=-M.x+"px",a.style.marginTop=-M.y+"px"),k&&(a.style.width=k.x+"px",a.style.height=k.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Me.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function SM(a){return new ei(a)}var Yu=ei.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Yu.imagePath!="string"&&(Yu.imagePath=this._detectIconPath()),(this.options.imagePath||Yu.imagePath)+ei.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(m,x,k){var M=x.exec(m);return M&&M[k]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=ot("div","leaflet-default-icon-path",document.body),u=lo(a,"background-image")||lo(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Ib=Br.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Cs(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ze(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,m=u._map,x=this._marker.options.autoPanSpeed,k=this._marker.options.autoPanPadding,M=rs(u._icon),q=m.getPixelBounds(),K=m.getPixelOrigin(),X=ne(q.min._subtract(K).add(k),q.max._subtract(K).subtract(k));if(!X.contains(M)){var ue=G((Math.max(X.max.x,M.x)-X.max.x)/(q.max.x-X.max.x)-(Math.min(X.min.x,M.x)-X.min.x)/(q.min.x-X.min.x),(Math.max(X.max.y,M.y)-X.max.y)/(q.max.y-X.max.y)-(Math.min(X.min.y,M.y)-X.min.y)/(q.min.y-X.min.y)).multiplyBy(x);m.panBy(ue,{animate:!1}),this._draggable._newPos._add(ue),this._draggable._startPos._add(ue),qe(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=z(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,m=u._shadow,x=rs(u._icon),k=u._map.layerPointToLatLng(x);m&&qe(m,x),u._latlng=k,a.latlng=k,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Nf=Nt.extend({options:{icon:new Yu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){v(this,u),this._latlng=_e(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=_e(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),x=!1;m!==this._icon&&(this._icon&&this._removeIcon(),x=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),Ze(m,u),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(m,"focus",this._panOnFocus,this);var k=a.icon.createShadow(this._shadow),M=!1;k!==this._shadow&&(this._removeShadow(),M=!0),k&&(Ze(k,u),k.alt=""),this._shadow=k,a.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),k&&M&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Et(this._icon,"focus",this._panOnFocus,this),St(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&St(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&qe(this._icon,a),this._shadow&&qe(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ze(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ib)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ib(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Yt(this._icon,a),this._shadow&&Yt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,m=u.iconSize?G(u.iconSize):G(0,0),x=u.iconAnchor?G(u.iconAnchor):G(0,0);a.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:m.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function CM(a,u){return new Nf(a,u)}var go=Nt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return v(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Tf=go.extend({options:{fill:!0,radius:10},initialize:function(a,u){v(this,u),this._latlng=_e(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=_e(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return go.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,m=this._clickTolerance(),x=[a+m,u+m];this._pxBounds=new te(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function kM(a,u){return new Tf(a,u)}var gy=Tf.extend({initialize:function(a,u,m){if(typeof u=="number"&&(u=s({},m,{radius:u})),v(this,u),this._latlng=_e(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:go.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,m=this._map,x=m.options.crs;if(x.distance===Ie.distance){var k=Math.PI/180,M=this._mRadius/Ie.R/k,q=m.project([u+M,a]),K=m.project([u-M,a]),X=q.add(K).divideBy(2),ue=m.unproject(X).lat,Ee=Math.acos((Math.cos(M*k)-Math.sin(u*k)*Math.sin(ue*k))/(Math.cos(u*k)*Math.cos(ue*k)))/k;(isNaN(Ee)||Ee===0)&&(Ee=M/Math.cos(Math.PI/180*u)),this._point=X.subtract(m.getPixelOrigin()),this._radius=isNaN(Ee)?0:X.x-m.project([ue,a-Ee]).x,this._radiusY=X.y-q.y}else{var ze=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(ze).x}this._updateBounds()}});function PM(a,u,m){return new gy(a,u,m)}var Ri=go.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){v(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,m=null,x=as,k,M,q=0,K=this._parts.length;q<K;q++)for(var X=this._parts[q],ue=1,Ee=X.length;ue<Ee;ue++){k=X[ue-1],M=X[ue];var ze=x(a,k,M,!0);ze<u&&(u=ze,m=x(a,k,M))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return P(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=_e(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ce,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],m=f(a),x=0,k=a.length;x<k;x++)m?(u[x]=_e(a[x]),this._bounds.extend(u[x])):u[x]=this._convertLatLngs(a[x]);return u},_project:function(){var a=new te;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new $(a,a);this._rawPxBounds&&(this._pxBounds=new te([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,m){var x=a[0]instanceof be,k=a.length,M,q;if(x){for(q=[],M=0;M<k;M++)q[M]=this._map.latLngToLayerPoint(a[M]),m.extend(q[M]);u.push(q)}else for(M=0;M<k;M++)this._projectLatlngs(a[M],u,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,x,k,M,q,K,X;for(m=0,k=0,M=this._rings.length;m<M;m++)for(X=this._rings[m],x=0,q=X.length;x<q-1;x++)K=Pa(X[x],X[x+1],a,x,!0),K&&(u[k]=u[k]||[],u[k].push(K[0]),(K[1]!==X[x+1]||x===q-2)&&(u[k].push(K[1]),k++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,m=0,x=a.length;m<x;m++)a[m]=Ku(a[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var m,x,k,M,q,K,X=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,M=this._parts.length;m<M;m++)for(K=this._parts[m],x=0,q=K.length,k=q-1;x<q;k=x++)if(!(!u&&x===0)&&Zu(a,K[k],K[x])<=X)return!0;return!1}});function IM(a,u){return new Ri(a,u)}Ri._flat=b;var $l=Ri.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Ri.prototype._convertLatLngs.call(this,a),m=u.length;return m>=2&&u[0]instanceof be&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(a){Ri.prototype._setLatLngs.call(this,a),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,m=new $(u,u);if(a=new te(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,k=this._rings.length,M;x<k;x++)M=Ol(this._rings[x],a,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,m,x,k,M,q,K,X,ue;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(M=0,X=this._parts.length;M<X;M++)for(m=this._parts[M],q=0,ue=m.length,K=ue-1;q<ue;K=q++)x=m[q],k=m[K],x.y>a.y!=k.y>a.y&&a.x<(k.x-x.x)*(a.y-x.y)/(k.y-x.y)+x.x&&(u=!u);return u||Ri.prototype._containsPoint.call(this,a,!0)}});function jM(a,u){return new $l(a,u)}var Mi=nn.extend({initialize:function(a,u){v(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=C(a)?a:a.features,m,x,k;if(u){for(m=0,x=u.length;m<x;m++)k=u[m],(k.geometries||k.geometry||k.features||k.coordinates)&&this.addData(k);return this}var M=this.options;if(M.filter&&!M.filter(a))return this;var q=Sf(a,M);return q?(q.feature=Pf(a),q.defaultOptions=q.options,this.resetStyle(q),M.onEachFeature&&M.onEachFeature(a,q),this.addLayer(q)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=s({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function Sf(a,u){var m=a.type==="Feature"?a.geometry:a,x=m?m.coordinates:null,k=[],M=u&&u.pointToLayer,q=u&&u.coordsToLatLng||yy,K,X,ue,Ee;if(!x&&!m)return null;switch(m.type){case"Point":return K=q(x),jb(M,a,K,u);case"MultiPoint":for(ue=0,Ee=x.length;ue<Ee;ue++)K=q(x[ue]),k.push(jb(M,a,K,u));return new nn(k);case"LineString":case"MultiLineString":return X=Cf(x,m.type==="LineString"?0:1,q),new Ri(X,u);case"Polygon":case"MultiPolygon":return X=Cf(x,m.type==="Polygon"?1:2,q),new $l(X,u);case"GeometryCollection":for(ue=0,Ee=m.geometries.length;ue<Ee;ue++){var ze=Sf({geometry:m.geometries[ue],type:"Feature",properties:a.properties},u);ze&&k.push(ze)}return new nn(k);case"FeatureCollection":for(ue=0,Ee=m.features.length;ue<Ee;ue++){var nt=Sf(m.features[ue],u);nt&&k.push(nt)}return new nn(k);default:throw new Error("Invalid GeoJSON object.")}}function jb(a,u,m,x){return a?a(u,m):new Nf(m,x&&x.markersInheritOptions&&x)}function yy(a){return new be(a[1],a[0],a[2])}function Cf(a,u,m){for(var x=[],k=0,M=a.length,q;k<M;k++)q=u?Cf(a[k],u-1,m):(m||yy)(a[k]),x.push(q);return x}function vy(a,u){return a=_e(a),a.alt!==void 0?[y(a.lng,u),y(a.lat,u),y(a.alt,u)]:[y(a.lng,u),y(a.lat,u)]}function kf(a,u,m,x){for(var k=[],M=0,q=a.length;M<q;M++)k.push(u?kf(a[M],f(a[M])?0:u-1,m,x):vy(a[M],x));return!u&&m&&k.length>0&&k.push(k[0].slice()),k}function ql(a,u){return a.feature?s({},a.feature,{geometry:u}):Pf(u)}function Pf(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var xy={toGeoJSON:function(a){return ql(this,{type:"Point",coordinates:vy(this.getLatLng(),a)})}};Nf.include(xy),gy.include(xy),Tf.include(xy),Ri.include({toGeoJSON:function(a){var u=!f(this._latlngs),m=kf(this._latlngs,u?1:0,!1,a);return ql(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),$l.include({toGeoJSON:function(a){var u=!f(this._latlngs),m=u&&!f(this._latlngs[0]),x=kf(this._latlngs,m?2:u?1:0,!0,a);return u||(x=[x]),ql(this,{type:(m?"Multi":"")+"Polygon",coordinates:x})}}),$t.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(a).geometry.coordinates)}),ql(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var m=u==="GeometryCollection",x=[];return this.eachLayer(function(k){if(k.toGeoJSON){var M=k.toGeoJSON(a);if(m)x.push(M.geometry);else{var q=Pf(M);q.type==="FeatureCollection"?x.push.apply(x,q.features):x.push(q)}}}),m?ql(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function Ab(a,u){return new Mi(a,u)}var AM=Ab,If=Nt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,m){this._url=a,this._bounds=ge(u),v(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ze(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){St(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&ki(this._image),this},bringToBack:function(){return this._map&&co(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ge(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:ot("img");if(Ze(u,"leaflet-image-layer"),this._zoomAnimated&&Ze(u,"leaflet-zoom-animated"),this.options.className&&Ze(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onload=l(this.fire,this,"load"),u.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Xs(this._image,m,u)},_reset:function(){var a=this._image,u=new te(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();qe(a,u.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),RM=function(a,u,m){return new If(a,u,m)},Rb=If.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:ot("video");if(Ze(u,"leaflet-image-layer"),this._zoomAnimated&&Ze(u,"leaflet-zoom-animated"),this.options.className&&Ze(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onloadeddata=l(this.fire,this,"load"),a){for(var m=u.getElementsByTagName("source"),x=[],k=0;k<m.length;k++)x.push(m[k].src);this._url=m.length>0?x:[u.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var q=ot("source");q.src=this._url[M],u.appendChild(q)}}});function MM(a,u,m){return new Rb(a,u,m)}var Mb=If.extend({_initImage:function(){var a=this._image=this._url;Ze(a,"leaflet-image-layer"),this._zoomAnimated&&Ze(a,"leaflet-zoom-animated"),this.options.className&&Ze(a,this.options.className),a.onselectstart=g,a.onmousemove=g}});function DM(a,u,m){return new Mb(a,u,m)}var ti=Nt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof be||C(a))?(this._latlng=_e(a),v(this,u)):(v(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Yt(this._container,1),this.bringToFront(),this.options.interactive&&(Ze(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Yt(this._container,0),this._removeTimeout=setTimeout(l(St,void 0,this._container),200)):St(this._container),this.options.interactive&&(Vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=_e(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ki(this._container),this},bringToBack:function(){return this._map&&co(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof nn){u=null;var m=this._source._layers;for(var x in m)if(m[x]._map){u=m[x];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=G(this.options.offset),m=this._getAnchor();this._zoomAnimated?qe(this._container,a.add(m)):u=u.add(a).add(m);var x=this._containerBottom=-u.y,k=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=x+"px",this._container.style.left=k+"px"}},_getAnchor:function(){return[0,0]}});st.include({_initOverlay:function(a,u,m,x){var k=u;return k instanceof a||(k=new a(x).setContent(u)),m&&k.setLatLng(m),k}}),Nt.include({_initOverlay:function(a,u,m,x){var k=m;return k instanceof a?(v(k,x),k._source=this):(k=u&&!x?u:new a(x,this),k.setContent(m)),k}});var jf=ti.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,ti.prototype.openOn.call(this,a)},onAdd:function(a){ti.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof go||this._source.on("preclick",os))},onRemove:function(a){ti.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof go||this._source.off("preclick",os))},getEvents:function(){var a=ti.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=ot("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=ot("div",a+"-content-wrapper",u);if(this._contentNode=ot("div",a+"-content",m),fo(u),ho(this._contentNode),Fe(u,"contextmenu",os),this._tipContainer=ot("div",a+"-tip-container",u),this._tip=ot("div",a+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=ot("a",a+"-close-button",u);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Fe(x,"click",function(k){Ut(k),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var x=a.offsetHeight,k=this.options.maxHeight,M="leaflet-popup-scrolled";k&&x>k?(u.height=k+"px",Ze(a,M)):Vt(a,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();qe(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(lo(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,x=this._containerWidth,k=new $(this._containerLeft,-m-this._containerBottom);k._add(rs(this._container));var M=a.layerPointToContainerPoint(k),q=G(this.options.autoPanPadding),K=G(this.options.autoPanPaddingTopLeft||q),X=G(this.options.autoPanPaddingBottomRight||q),ue=a.getSize(),Ee=0,ze=0;M.x+x+X.x>ue.x&&(Ee=M.x+x-ue.x+X.x),M.x-Ee-K.x<0&&(Ee=M.x-K.x),M.y+m+X.y>ue.y&&(ze=M.y+m-ue.y+X.y),M.y-ze-K.y<0&&(ze=M.y-K.y),(Ee||ze)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Ee,ze]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),LM=function(a,u){return new jf(a,u)};st.mergeOptions({closePopupOnClick:!0}),st.include({openPopup:function(a,u,m){return this._initOverlay(jf,a,u,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Nt.include({bindPopup:function(a,u){return this._popup=this._initOverlay(jf,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof nn||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){zr(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof go)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Af=ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){ti.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){ti.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=ti.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,m,x=this._map,k=this._container,M=x.latLngToContainerPoint(x.getCenter()),q=x.layerPointToContainerPoint(a),K=this.options.direction,X=k.offsetWidth,ue=k.offsetHeight,Ee=G(this.options.offset),ze=this._getAnchor();K==="top"?(u=X/2,m=ue):K==="bottom"?(u=X/2,m=0):K==="center"?(u=X/2,m=ue/2):K==="right"?(u=0,m=ue/2):K==="left"?(u=X,m=ue/2):q.x<M.x?(K="right",u=0,m=ue/2):(K="left",u=X+(Ee.x+ze.x)*2,m=ue/2),a=a.subtract(G(u,m,!0)).add(Ee).add(ze),Vt(k,"leaflet-tooltip-right"),Vt(k,"leaflet-tooltip-left"),Vt(k,"leaflet-tooltip-top"),Vt(k,"leaflet-tooltip-bottom"),Ze(k,"leaflet-tooltip-"+K),qe(k,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Yt(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),OM=function(a,u){return new Af(a,u)};st.include({openTooltip:function(a,u,m){return this._initOverlay(Af,a,u,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Nt.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Af,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof nn||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Fe(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Fe(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,m,x;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),x=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(u)}});var Db=ei.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Ca(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var x=G(m.bgPos);u.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function VM(a){return new Db(a)}ei.Default=Yu;var Xu=Nt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){v(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),St(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ki(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(co(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof $?a:new $(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,m=-a(-1/0,1/0),x=0,k=u.length,M;x<k;x++)M=u[x].style.zIndex,u[x]!==this._container&&M&&(m=a(m,+M));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Me.ielt9){Yt(this._container,this.options.opacity);var a=+new Date,u=!1,m=!1;for(var x in this._tiles){var k=this._tiles[x];if(!(!k.current||!k.loaded)){var M=Math.min(1,(a-k.loaded)/200);Yt(k.el,M),M<1?u=!0:(k.active?m=!0:this._onOpaqueTile(k),k.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(B(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=u-Math.abs(a-m),this._onUpdateLevel(m)):(St(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var x=this._levels[a],k=this._map;return x||(x=this._levels[a]={},x.el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=u,x.origin=k.project(k.unproject(k.getPixelOrigin()),a).round(),x.zoom=a,this._setZoomTransform(x,k.getCenter(),k.getZoom()),g(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var a,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var x=u.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)St(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,m,x){var k=Math.floor(a/2),M=Math.floor(u/2),q=m-1,K=new $(+k,+M);K.z=+q;var X=this._tileCoordsToKey(K),ue=this._tiles[X];return ue&&ue.active?(ue.retain=!0,!0):(ue&&ue.loaded&&(ue.retain=!0),q>x?this._retainParent(k,M,q,x):!1)},_retainChildren:function(a,u,m,x){for(var k=2*a;k<2*a+2;k++)for(var M=2*u;M<2*u+2;M++){var q=new $(k,M);q.z=m+1;var K=this._tileCoordsToKey(q),X=this._tiles[K];if(X&&X.active){X.retain=!0;continue}else X&&X.loaded&&(X.retain=!0);m+1<x&&this._retainChildren(k,M,m+1,x)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,m,x){var k=Math.round(u);this.options.maxZoom!==void 0&&k>this.options.maxZoom||this.options.minZoom!==void 0&&k<this.options.minZoom?k=void 0:k=this._clampZoom(k);var M=this.options.updateWhenZooming&&k!==this._tileZoom;(!x||M)&&(this._tileZoom=k,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),k!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,u)},_setZoomTransform:function(a,u,m){var x=this._map.getZoomScale(m,a.zoom),k=a.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(u,m)).round();Me.any3d?Xs(a.el,k,x):qe(a.el,k)},_resetGrid:function(){var a=this._map,u=a.options.crs,m=this._tileSize=this.getTileSize(),x=this._tileZoom,k=this._map.getPixelWorldBounds(this._tileZoom);k&&(this._globalTileRange=this._pxBoundsToTileRange(k)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],x).x/m.x),Math.ceil(a.project([0,u.wrapLng[1]],x).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],x).y/m.x),Math.ceil(a.project([u.wrapLat[1],0],x).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),x=u.getZoomScale(m,this._tileZoom),k=u.project(a,this._tileZoom).floor(),M=u.getSize().divideBy(x*2);return new te(k.subtract(M),k.add(M))},_update:function(a){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(a),k=this._pxBoundsToTileRange(x),M=k.getCenter(),q=[],K=this.options.keepBuffer,X=new te(k.getBottomLeft().subtract([K,-K]),k.getTopRight().add([K,-K]));if(!(isFinite(k.min.x)&&isFinite(k.min.y)&&isFinite(k.max.x)&&isFinite(k.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ue in this._tiles){var Ee=this._tiles[ue].coords;(Ee.z!==this._tileZoom||!X.contains(new $(Ee.x,Ee.y)))&&(this._tiles[ue].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var ze=k.min.y;ze<=k.max.y;ze++)for(var nt=k.min.x;nt<=k.max.x;nt++){var cr=new $(nt,ze);if(cr.z=this._tileZoom,!!this._isValidTile(cr)){var Tn=this._tiles[this._tileCoordsToKey(cr)];Tn?Tn.current=!0:q.push(cr)}}if(q.sort(function(_r,Wl){return _r.distanceTo(M)-Wl.distanceTo(M)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ls=document.createDocumentFragment();for(nt=0;nt<q.length;nt++)this._addTile(q[nt],ls);this._level.el.appendChild(ls)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!u.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(a);return ge(this.options.bounds).overlaps(x)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,m=this.getTileSize(),x=a.scaleBy(m),k=x.add(m),M=u.unproject(x,a.z),q=u.unproject(k,a.z);return[M,q]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),m=new ce(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),m=new $(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(a){var u=this._tiles[a];u&&(St(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Ze(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=g,a.onmousemove=g,Me.ielt9&&this.options.opacity<1&&Yt(a,this.options.opacity)},_addTile:function(a,u){var m=this._getTilePos(a),x=this._tileCoordsToKey(a),k=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(k),this.createTile.length<2&&z(l(this._tileReady,this,a,null,k)),qe(k,m),this._tiles[x]={el:k,coords:a,current:!0},u.appendChild(k),this.fire("tileloadstart",{tile:k,coords:a})},_tileReady:function(a,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:a});var x=this._tileCoordsToKey(a);m=this._tiles[x],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Yt(m.el,0),B(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(Ze(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Me.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new $(this._wrapX?p(a.x,this._wrapX):a.x,this._wrapY?p(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new te(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function FM(a){return new Xu(a)}var Hl=Xu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=v(this,u),u.detectRetina&&Me.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var m=document.createElement("img");return Fe(m,"load",l(this._tileOnLoad,this,u,m)),Fe(m,"error",l(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var u={r:Me.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=m),u["-y"]=m}return T(this._url,s(u,this.options))},_tileOnLoad:function(a,u){Me.ielt9?setTimeout(l(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,m){var x=this.options.errorTileUrl;x&&u.getAttribute("src")!==x&&(u.src=x),a(m,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,x=this.options.zoomOffset;return m&&(a=u-a),a+x},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=g,u.onerror=g,!u.complete)){u.src=F;var m=this._tiles[a].coords;St(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",F),Xu.prototype._removeTile.call(this,a)},_tileReady:function(a,u,m){if(!(!this._map||m&&m.getAttribute("src")===F))return Xu.prototype._tileReady.call(this,a,u,m)}});function Lb(a,u){return new Hl(a,u)}var Ob=Hl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var m=s({},this.defaultWmsParams);for(var x in u)x in this.options||(m[x]=u[x]);u=v(this,u);var k=u.detectRetina&&Me.retina?2:1,M=this.getTileSize();m.width=M.x*k,m.height=M.y*k,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Hl.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),m=this._crs,x=ne(m.project(u[0]),m.project(u[1])),k=x.min,M=x.max,q=(this._wmsVersion>=1.3&&this._crs===on?[k.y,k.x,M.y,M.x]:[k.x,k.y,M.x,M.y]).join(","),K=Hl.prototype.getTileUrl.call(this,a);return K+S(this.wmsParams,K,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(a,u){return s(this.wmsParams,a),u||this.redraw(),this}});function zM(a,u){return new Ob(a,u)}Hl.WMS=Ob,Lb.wms=zM;var Di=Nt.extend({options:{padding:.1},initialize:function(a){v(this,a),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ze(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var m=this._map.getZoomScale(u,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),k=this._map.project(this._center,u),M=x.multiplyBy(-m).add(k).subtract(this._map._getNewPixelOrigin(a,u));Me.any3d?Xs(this._container,M,m):qe(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new te(m,m.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Vb=Di.extend({options:{tolerance:0},getEvents:function(){var a=Di.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Di.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Fe(a,"mousemove",this._onMouseMove,this),Fe(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Fe(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,St(this._container),Et(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Di.prototype._update.call(this);var a=this._bounds,u=this._container,m=a.getSize(),x=Me.retina?2:1;qe(u,a.min),u.width=x*m.x,u.height=x*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",Me.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Di.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[d(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,m=u.next,x=u.prev;m?m.prev=x:this._drawLast=x,x?x.next=m:this._drawFirst=m,delete a._order,delete this._layers[d(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),m=[],x,k;for(k=0;k<u.length;k++){if(x=Number(u[k]),isNaN(x))return;m.push(x)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new te,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)a=x.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var m,x,k,M,q=a._parts,K=q.length,X=this._ctx;if(K){for(X.beginPath(),m=0;m<K;m++){for(x=0,k=q[m].length;x<k;x++)M=q[m][x],X[x?"lineTo":"moveTo"](M.x,M.y);u&&X.closePath()}this._fillStroke(X,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,m=this._ctx,x=Math.max(Math.round(a._radius),1),k=(Math.max(Math.round(a._radiusY),1)||x)/x;k!==1&&(m.save(),m.scale(1,k)),m.beginPath(),m.arc(u.x,u.y/k,x,0,Math.PI*2,!1),k!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,u){var m=u.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),m,x,k=this._drawFirst;k;k=k.next)m=k.layer,m.options.interactive&&m._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(x=m);this._fireEvent(x?[x]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(Vt(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var m,x,k=this._drawFirst;k;k=k.next)m=k.layer,m.options.interactive&&m._containsPoint(u)&&(x=m);x!==this._hoveredLayer&&(this._handleMouseOut(a),x&&(Ze(this._container,"leaflet-interactive"),this._fireEvent([x],a,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,m){this._map._fireDOMEvent(u,m||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var m=u.next,x=u.prev;if(m)m.prev=x;else return;x?x.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var m=u.next,x=u.prev;if(x)x.next=m;else return;m?m.prev=x:x&&(this._drawLast=x),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function Fb(a){return Me.canvas?new Vb(a):null}var Ju=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),BM={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Di.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=Ju("shape");Ze(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=Ju("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;St(u),a.removeInteractiveTarget(u),delete this._layers[d(a)]},_updateStyle:function(a){var u=a._stroke,m=a._fill,x=a.options,k=a._container;k.stroked=!!x.stroke,k.filled=!!x.fill,x.stroke?(u||(u=a._stroke=Ju("stroke")),k.appendChild(u),u.weight=x.weight+"px",u.color=x.color,u.opacity=x.opacity,x.dashArray?u.dashStyle=C(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=x.lineCap.replace("butt","flat"),u.joinstyle=x.lineJoin):u&&(k.removeChild(u),a._stroke=null),x.fill?(m||(m=a._fill=Ju("fill")),k.appendChild(m),m.color=x.fillColor||x.color,m.opacity=x.fillOpacity):m&&(k.removeChild(m),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),m=Math.round(a._radius),x=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+x+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){ki(a._container)},_bringToBack:function(a){co(a._container)}},Rf=Me.vml?Ju:dt,ed=Di.extend({_initContainer:function(){this._container=Rf("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Rf("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){St(this._container),Et(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Di.prototype._update.call(this);var a=this._bounds,u=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),qe(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=Rf("path");a.options.className&&Ze(u,a.options.className),a.options.interactive&&Ze(u,"leaflet-interactive"),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){St(a._path),a.removeInteractiveTarget(a._path),delete this._layers[d(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,m=a.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,vt(a._parts,u))},_updateCircle:function(a){var u=a._point,m=Math.max(Math.round(a._radius),1),x=Math.max(Math.round(a._radiusY),1)||m,k="a"+m+","+x+" 0 1,0 ",M=a._empty()?"M0 0":"M"+(u.x-m)+","+u.y+k+m*2+",0 "+k+-m*2+",0 ";this._setPath(a,M)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){ki(a._path)},_bringToBack:function(a){co(a._path)}});Me.vml&&ed.include(BM);function zb(a){return Me.svg||Me.vml?new ed(a):null}st.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&Fb(a)||zb(a)}});var Bb=$l.extend({initialize:function(a,u){$l.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ge(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function UM(a,u){return new Bb(a,u)}ed.create=Rf,ed.pointsToPath=vt,Mi.geometryToLayer=Sf,Mi.coordsToLatLng=yy,Mi.coordsToLatLngs=Cf,Mi.latLngToCoords=vy,Mi.latLngsToCoords=kf,Mi.getFeature=ql,Mi.asFeature=Pf,st.mergeOptions({boxZoom:!0});var Ub=Br.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Et(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){St(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ts(),Ou(),this._startPoint=this._map.mouseEventToContainerPoint(a),Fe(document,{contextmenu:zr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),Ze(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new te(this._point,this._startPoint),m=u.getSize();qe(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(St(this._box),Vt(this._container,"leaflet-crosshair")),Ss(),Vu(),Et(document,{contextmenu:zr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var u=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});st.addInitHook("addHandler","boxZoom",Ub),st.mergeOptions({doubleClickZoom:!0});var $b=Br.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,m=u.getZoom(),x=u.options.zoomDelta,k=a.originalEvent.shiftKey?m-x:m+x;u.options.doubleClickZoom==="center"?u.setZoom(k):u.setZoomAround(a.containerPoint,k)}});st.addInitHook("addHandler","doubleClickZoom",$b),st.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qb=Br.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Cs(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Ze(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Vt(this._map._container,"leaflet-grab"),Vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=ge(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),m=this._initialWorldOffset,x=this._draggable._newPos.x,k=(x-u+m)%a+u-m,M=(x+u+m)%a-u-m,q=Math.abs(k+m)<Math.abs(M+m)?k:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(a){var u=this._map,m=u.options,x=!m.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),x)u.fire("moveend");else{this._prunePositions(+new Date);var k=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,q=m.easeLinearity,K=k.multiplyBy(q/M),X=K.distanceTo([0,0]),ue=Math.min(m.inertiaMaxSpeed,X),Ee=K.multiplyBy(ue/X),ze=ue/(m.inertiaDeceleration*q),nt=Ee.multiplyBy(-ze/2).round();!nt.x&&!nt.y?u.fire("moveend"):(nt=u._limitOffset(nt,u.options.maxBounds),z(function(){u.panBy(nt,{duration:ze,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});st.addInitHook("addHandler","dragging",qb),st.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Hb=Br.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Fe(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Et(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,m=a.scrollTop||u.scrollTop,x=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(x,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},m=this.keyCodes,x,k;for(x=0,k=m.left.length;x<k;x++)u[m.left[x]]=[-1*a,0];for(x=0,k=m.right.length;x<k;x++)u[m.right[x]]=[a,0];for(x=0,k=m.down.length;x<k;x++)u[m.down[x]]=[0,a];for(x=0,k=m.up.length;x<k;x++)u[m.up[x]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},m=this.keyCodes,x,k;for(x=0,k=m.zoomIn.length;x<k;x++)u[m.zoomIn[x]]=a;for(x=0,k=m.zoomOut.length;x<k;x++)u[m.zoomOut[x]]=-a},_addHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Et(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,m=this._map,x;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(x=this._panKeys[u],a.shiftKey&&(x=G(x).multiplyBy(3)),m.options.maxBounds&&(x=m._limitOffset(G(x),m.options.maxBounds)),m.options.worldCopyJump){var k=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(x)));m.panTo(k)}else m.panBy(x)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;zr(a)}}});st.addInitHook("addHandler","keyboard",Hb),st.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wb=Br.extend({addHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Et(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=yf(a),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var x=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),x),zr(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),k=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,M=m?Math.ceil(k/m)*m:k,q=a._limitZoom(u+(this._delta>0?M:-M))-u;this._delta=0,this._startTime=null,q&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+q):a.setZoomAround(this._lastMousePos,u+q))}});st.addInitHook("addHandler","scrollWheelZoom",Wb);var $M=600;st.mergeOptions({tapHold:Me.touchNative&&Me.safari&&Me.mobile,tapTolerance:15});var Gb=Br.extend({addHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Et(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new $(u.clientX,u.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Fe(document,"touchend",Ut),Fe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),$M),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Et(document,"touchend",Ut),Et(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Et(document,"touchend touchcancel contextmenu",this._cancel,this),Et(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new $(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});st.addInitHook("addHandler","tapHold",Gb),st.mergeOptions({touchZoom:Me.touch,bounceAtZoomLimits:!0});var Kb=Br.extend({addHooks:function(){Ze(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Vt(this._map._container,"leaflet-touch-zoom"),Et(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(a.touches[0]),x=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(x)._divideBy(2))),this._startDist=m.distanceTo(x),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),Ut(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(a.touches[0]),x=u.mouseEventToContainerPoint(a.touches[1]),k=m.distanceTo(x)/this._startDist;if(this._zoom=u.getScaleZoom(k,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&k<1||this._zoom>u.getMaxZoom()&&k>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,k===1)return}else{var M=m._add(x)._divideBy(2)._subtract(this._centerPoint);if(k===1&&M.x===0&&M.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var q=l(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(q,this,!0),Ut(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),Et(document,"touchmove",this._onTouchMove,this),Et(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});st.addInitHook("addHandler","touchZoom",Kb),st.BoxZoom=Ub,st.DoubleClickZoom=$b,st.Drag=qb,st.Keyboard=Hb,st.ScrollWheelZoom=Wb,st.TapHold=Gb,st.TouchZoom=Kb,n.Bounds=te,n.Browser=Me,n.CRS=oe,n.Canvas=Vb,n.Circle=gy,n.CircleMarker=Tf,n.Class=Q,n.Control=xr,n.DivIcon=Db,n.DivOverlay=ti,n.DomEvent=vf,n.DomUtil=pf,n.Draggable=Cs,n.Evented=J,n.FeatureGroup=nn,n.GeoJSON=Mi,n.GridLayer=Xu,n.Handler=Br,n.Icon=ei,n.ImageOverlay=If,n.LatLng=be,n.LatLngBounds=ce,n.Layer=Nt,n.LayerGroup=$t,n.LineUtil=V,n.Map=st,n.Marker=Nf,n.Mixin=ka,n.Path=go,n.Point=$,n.PolyUtil=zl,n.Polygon=$l,n.Polyline=Ri,n.Popup=jf,n.PosAnimation=Hu,n.Projection=ve,n.Rectangle=Bb,n.Renderer=Di,n.SVG=ed,n.SVGOverlay=Mb,n.TileLayer=Hl,n.Tooltip=Af,n.Transformation=he,n.Util=O,n.VideoOverlay=Rb,n.bind=l,n.bounds=ne,n.canvas=Fb,n.circle=PM,n.circleMarker=kM,n.control=lr,n.divIcon=VM,n.extend=s,n.featureGroup=Ul,n.geoJSON=Ab,n.geoJson=AM,n.gridLayer=FM,n.icon=SM,n.imageOverlay=RM,n.latLng=_e,n.latLngBounds=ge,n.layerGroup=po,n.map=Ml,n.marker=CM,n.point=G,n.polygon=jM,n.polyline=IM,n.popup=LM,n.rectangle=UM,n.setOptions=v,n.stamp=d,n.svg=zb,n.svgOverlay=DM,n.tileLayer=Lb,n.tooltip=OM,n.transformation=se,n.version=r,n.videoOverlay=MM;var qM=window.L;n.noConflict=function(){return window.L=qM,this},window.L=n})})(Tx,Tx.exports);var CZ=Tx.exports;const To=Cx(CZ);delete To.Icon.Default.prototype._getIconUrl;To.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const kZ=()=>{var me;const t=Un(),{orderId:e}=$F(),{isDarkMode:n,toggleDarkMode:r}=fn(),[s,i]=_.useState(null),[l,c]=_.useState(null),[d,h]=_.useState(!0),[p,g]=_.useState(1),[y,w]=_.useState({minutes:0,seconds:0}),[N,v]=_.useState(0),S=_.useRef(null),E=_.useRef(null),T={default:{lat:22.5726,lng:88.3639,name:"Restaurant",address:"Kolkata",icon:"🏪"}};_.useEffect(()=>{const Y=It.onAuthStateChanged(async J=>{J?(i(J),e&&await C(e)):t("/")});return()=>Y()},[t,e]);const C=async Y=>{h(!0);try{const J=Ln(Tt,"orders",Y);return Uq(J,H=>{if(H.exists()){const G={id:H.id,...H.data()};c(G),G.status&&D(G.status),setTimeout(async()=>{await R(G)},100)}else re.error("Order not found"),t("/past-orders");h(!1)})}catch(J){console.error("Error loading order:",J),re.error("Failed to load order"),h(!1)}},R=async Y=>{if(!S.current||E.current)return;const J=I(Y),$=Y.userLocation||{lat:22.5726,lng:88.3639},[H,G]=await Promise.all([A(J.lat,J.lng),A($.lat,$.lng)]);J.address=H;const te=(J.lat+$.lat)/2,ne=(J.lng+$.lng)/2;E.current=To.map(S.current).setView([te,ne],15),To.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(E.current),To.marker([J.lat,J.lng]).addTo(E.current).bindPopup(`<b>${J.name}</b><br>${J.address}`),To.marker([$.lat,$.lng]).addTo(E.current).bindPopup(`<b>Your Location</b><br>${G}`),To.polyline([[J.lat,J.lng],[$.lat,$.lng]],{color:"#3b82f6",weight:4,opacity:.7}).addTo(E.current);const ce=F(J.lat,J.lng,$.lat,$.lng);v(ce);const ge=To.latLngBounds([[J.lat,J.lng],[$.lat,$.lng]]);E.current.fitBounds(ge,{padding:[20,20]})},F=(Y,J,$,H)=>{const te=($-Y)*Math.PI/180,ne=(H-J)*Math.PI/180,ce=Math.sin(te/2)*Math.sin(te/2)+Math.cos(Y*Math.PI/180)*Math.cos($*Math.PI/180)*Math.sin(ne/2)*Math.sin(ne/2);return 6371*(2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce)))};_.useEffect(()=>{if(!(l!=null&&l.estimatedDeliveryTime))return;const Y=setInterval(()=>{const J=new Date().getTime(),H=(l.estimatedDeliveryTime.toDate?l.estimatedDeliveryTime.toDate().getTime():new Date(l.estimatedDeliveryTime).getTime())-J;if(H>0){const G=Math.floor(H/6e4),te=Math.floor(H%(1e3*60)/1e3);w({minutes:G,seconds:te})}else w({minutes:0,seconds:0}),l.status!=="delivered"&&U("delivered")},1e3);return()=>clearInterval(Y)},[l]);const U=async Y=>{if(e)try{const J=Ln(Tt,"orders",e);await ta(J,{status:Y})}catch(J){console.error("Error updating order status:",J)}},j=Y=>{if(!Y||Y.length===0)return"default";const J=Y[0].name.toLowerCase();return J.includes("domino")||J.includes("pizza")?"dominos":J.includes("spice")||J.includes("ice")?"spice_n_ice":J.includes("china")||J.includes("nation")?"china_nation":"default"},I=Y=>{if(!Y||!Y.items)return T.default;const J=Y.userLocation||{lat:22.5726,lng:88.3639},$=j(Y.items),H={dominos:{name:"Domino's Pizza",address:"Nearby Location",icon:"🍕",offset:{lat:.002,lng:.003}},spice_n_ice:{name:"Spice N Ice",address:"Local Restaurant",icon:"🍽️",offset:{lat:-.001,lng:.002}},china_nation:{name:"China Nation",address:"Chinese Restaurant",icon:"🥢",offset:{lat:.003,lng:-.001}},default:{name:"Local Restaurant",address:"Nearby Location",icon:"🏪",offset:{lat:.001,lng:.001}}},G=H[$]||H.default;return{lat:J.lat+G.offset.lat,lng:J.lng+G.offset.lng,name:G.name,address:G.address,icon:G.icon}},A=async(Y,J)=>{try{const H=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${Y}&lon=${J}&zoom=18&addressdetails=1`)).json();if(H&&H.display_name){const G=H.display_name.split(", "),te=G[0]||"Nearby Location",ne=G[G.length-3]||"Your Area";return`${te}, ${ne}`}}catch($){console.error("Error getting address:",$)}return"Nearby Location"},D=Y=>{switch(Y){case"pending":g(1);break;case"confirmed":g(2);break;case"preparing":g(3);break;case"out_for_delivery":g(4);break;case"delivered":g(5);break;default:g(1)}},z=Y=>{const J=[{title:"Order Placed",description:"Your order has been received",icon:"📋",color:"text-blue-400"},{title:"Order Confirmed",description:"Restaurant has confirmed your order",icon:"✅",color:"text-green-400"},{title:"Preparing",description:"Your food is being prepared",icon:"👨‍🍳",color:"text-yellow-400"},{title:"Out for Delivery",description:"Your order is on the way",icon:"🚚",color:"text-quicklymart-orange-400"},{title:"Delivered",description:"Enjoy your meal!",icon:"🎉",color:"text-green-500"}];return J[Y-1]||J[0]},B=()=>{var Y;return l?typeof l.deliveryAddress=="string"?l.deliveryAddress:(Y=l.deliveryAddress)!=null&&Y.address?`${l.deliveryAddress.address}, ${l.deliveryAddress.city}, ${l.deliveryAddress.state} - ${l.deliveryAddress.pincode}`:"Address not available":""};if(_.useEffect(()=>()=>{E.current&&(E.current.remove(),E.current=null)},[]),!s)return o.jsx("div",{children:"Loading..."});if(d)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 text-white flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),o.jsx("p",{children:"Loading order details..."})]})});if(!l)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 text-white flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{children:"Order not found"}),o.jsx(Z,{onClick:()=>t("/past-orders"),className:"mt-4",children:"Go to Past Orders"})]})});const O=I(l),Q=z(p);return o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",className:"text-gray-600 dark:text-gray-300",onClick:()=>t("/past-orders"),children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-gray-800 dark:text-white font-bold text-lg",children:["Order #",l.id.slice(-6)]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(G5,{className:"w-4 h-4 text-green-400"}),o.jsxs("span",{className:"text-green-400 font-semibold",children:[y.minutes,"m ",y.seconds,"s left"]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Z,{variant:"ghost",size:"icon",className:"text-gray-600 dark:text-gray-300",onClick:r,title:n?"Switch to light mode":"Switch to dark mode",children:n?o.jsx(bn,{className:"w-5 h-5"}):o.jsx(hn,{className:"w-5 h-5"})}),o.jsxs(Ct,{className:"bg-green-500 text-white",children:[o.jsx(pa,{className:"w-4 h-4 mr-1"}),N.toFixed(1)," km away"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-4",children:[o.jsxs(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700 mb-6",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"text-white flex items-center space-x-2",children:[o.jsx(tr,{className:"w-5 h-5"}),o.jsx("span",{children:"Live Tracking"})]})}),o.jsxs(ke,{children:[o.jsx("div",{ref:S,className:"w-full h-64 rounded-lg border border-gray-600",style:{zIndex:1}}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-white/5 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-300",children:"Distance"}),o.jsxs("p",{className:"text-lg font-bold text-blue-400",children:[N.toFixed(1)," km"]})]}),o.jsxs("div",{className:"text-center p-3 bg-white/5 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-300",children:"Est. Time"}),o.jsxs("p",{className:"text-lg font-bold text-green-400",children:[y.minutes,"m ",y.seconds,"s"]})]})]})]})]}),o.jsxs(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700 mb-6",children:[o.jsxs(ut,{children:[o.jsxs(gt,{className:"text-white flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:Q.icon}),o.jsx("span",{className:Q.color,children:Q.title})]}),o.jsx("p",{className:"text-gray-300",children:Q.description})]}),o.jsx(ke,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-300",children:"Progress"}),o.jsxs("span",{children:[Math.round(p/5*100),"%"]})]}),o.jsx(Z4,{value:p/5*100,className:"h-2"})]}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(Y=>o.jsxs("div",{className:`flex flex-col items-center p-2 rounded-lg transition-all duration-300 ${Y<=p?"bg-green-500/20 scale-105":"bg-gray-700/50"}`,children:[o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs transition-all duration-300 ${Y<=p?"bg-green-500 shadow-lg":"bg-gray-600"}`,children:Y<p?"✓":Y}),o.jsx("span",{className:"text-xs mt-1 text-center",children:z(Y).title.split(" ")[0]})]},Y))})]})})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[o.jsxs(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"text-white flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:O.icon}),o.jsx("span",{children:"Restaurant"})]})}),o.jsxs(ke,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg",children:O.name}),o.jsx("p",{className:"text-gray-300",children:O.address})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Z,{variant:"outline",size:"sm",className:"flex-1",children:[o.jsx(mr,{className:"w-4 h-4 mr-2"}),"Call Restaurant"]}),o.jsxs(Z,{variant:"outline",size:"sm",className:"flex-1",children:[o.jsx(vE,{className:"w-4 h-4 mr-2"}),"Directions"]})]})]})]}),o.jsxs(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"text-white flex items-center space-x-2",children:[o.jsx(hs,{className:"w-5 h-5"}),o.jsx("span",{children:"Delivery Address"})]})}),o.jsxs(ke,{className:"space-y-4",children:[o.jsx("div",{children:o.jsx("p",{className:"text-gray-300",children:B()})}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Z,{variant:"outline",size:"sm",className:"flex-1",children:[o.jsx(mr,{className:"w-4 h-4 mr-2"}),"Call Delivery"]}),o.jsxs(Z,{variant:"outline",size:"sm",className:"flex-1",children:[o.jsx(vE,{className:"w-4 h-4 mr-2"}),"Track Order"]})]})]})]})]}),o.jsxs(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700 mb-6",children:[o.jsx(ut,{children:o.jsx(gt,{className:"text-white",children:"Order Items"})}),o.jsxs(ke,{children:[o.jsx("div",{className:"space-y-3",children:(me=l.items)==null?void 0:me.map((Y,J)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm",children:"🍽️"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:Y.name}),o.jsxs("p",{className:"text-gray-300 text-sm",children:["Qty: ",Y.quantity]})]})]}),o.jsxs("p",{className:"font-bold",children:["₹",Y.price]})]},J))}),o.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-green-400",children:["₹",l.totalPrice||l.total||0]})]})})]})]}),o.jsxs("div",{className:"flex space-x-3 mb-6",children:[o.jsx(Z,{variant:"outline",className:"flex-1",onClick:()=>t("/past-orders"),children:"View All Orders"}),o.jsx(Z,{className:"flex-1",onClick:()=>t("/"),children:"Order Again"})]})]})]})};var uy="Switch",[PZ,AQ]=or(uy),[IZ,jZ]=PZ(uy),Q4=_.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:l,disabled:c,value:d="on",onCheckedChange:h,form:p,...g}=t,[y,w]=_.useState(null),N=rt(e,C=>w(C)),v=_.useRef(!1),S=y?p||!!y.closest("form"):!0,[E,T]=ws({prop:s,defaultProp:i??!1,onChange:h,caller:uy});return o.jsxs(IZ,{scope:n,checked:E,disabled:c,children:[o.jsx(Re.button,{type:"button",role:"switch","aria-checked":E,"aria-required":l,"data-state":eM(E),"data-disabled":c?"":void 0,disabled:c,value:d,...g,ref:N,onClick:xe(t.onClick,C=>{T(R=>!R),S&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})}),S&&o.jsx(J4,{control:y,bubbles:!v.current,name:r,value:d,checked:E,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});Q4.displayName=uy;var Y4="SwitchThumb",X4=_.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=jZ(Y4,n);return o.jsx(Re.span,{"data-state":eM(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});X4.displayName=Y4;var AZ="SwitchBubbleInput",J4=_.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const l=_.useRef(null),c=rt(l,i),d=ob(n),h=B_(e);return _.useEffect(()=>{const p=l.current;if(!p)return;const g=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&w){const N=new Event("click",{bubbles:r});w.call(p,n),p.dispatchEvent(N)}},[d,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});J4.displayName=AZ;function eM(t){return t?"checked":"unchecked"}var tM=Q4,RZ=X4;const kd=_.forwardRef(({className:t,...e},n)=>o.jsx(tM,{className:je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(RZ,{className:je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));kd.displayName=tM.displayName;const MZ=()=>{const t=Un(),{isDarkMode:e,setDarkMode:n}=fn(),[r,s]=_.useState(null),[i,l]=_.useState(!0),[c,d]=_.useState({notifications:!0,language:"en",sound:!0,emailNotifications:!0,pushNotifications:!0}),[h,p]=_.useState(!1),[g,y]=_.useState(!1),[w,N]=_.useState(!1),[v,S]=_.useState(!1),[E,T]=_.useState(""),[C,R]=_.useState(""),[F,U]=_.useState(""),[j,I]=_.useState(!1),[A,D]=_.useState(!1),[z,B]=_.useState(!1),[O,Q]=_.useState(!1),[me,Y]=_.useState(""),[J,$]=_.useState(!1),[H,G]=_.useState(!1),[te,ne]=_.useState(!1);_.useEffect(()=>{const de=It.onAuthStateChanged(async he=>{if(he){s(he),await ce(he.uid);const se=await eu(Ln(Tt,"users",he.uid));if(se.exists()){const Ae=se.data();G(Ae.twoFactorEnabled||!1)}}else t("/")});return()=>de()},[t]);const ce=async de=>{l(!0);try{const he=await eu(Ln(Tt,"users",de));if(he.exists()){const se=he.data();se.settings&&(d(se.settings),se.settings.darkMode!==void 0&&n(se.settings.darkMode))}}catch(he){console.error("Error loading settings:",he),re.error("Failed to load settings")}finally{l(!1)}},ge=async(de,he)=>{if(r)try{const se={...c,[de]:he};d(se);const Ae=Ln(Tt,"users",r.uid);await ta(Ae,{settings:se,updatedAt:new Date}),de==="pushNotifications"&&he&&await _e(),de==="sound"&&he&&new Audio("/notification.mp3").play().catch(()=>{}),re.success(`${de.replace(/([A-Z])/g," $1").toLowerCase()} updated`)}catch(se){console.error("Error updating settings:",se),re.error("Failed to update settings"),d(Ae=>({...Ae,[de]:!he}))}},be=async de=>{if(n(de),!!r)try{const he={...c,darkMode:de};d(he);const se=Ln(Tt,"users",r.uid);await ta(se,{settings:he,updatedAt:new Date}),re.success(`Dark mode ${de?"enabled":"disabled"}`)}catch(he){console.error("Error updating dark mode:",he),re.error("Failed to update dark mode")}},_e=async()=>{"Notification"in window&&await Notification.requestPermission()!=="granted"&&(re.error("Notification permission denied"),d(he=>({...he,pushNotifications:!1})))},oe=async de=>{if(de.preventDefault(),C!==F){re.error("New passwords do not match");return}if(C.length<6){re.error("Password must be at least 6 characters long");return}Q(!0);try{const he=wl.credential(r.email,E);await Jz(r,he),await rB(r,C),re.success("Password updated successfully"),p(!1),T(""),R(""),U("")}catch(he){console.error("Error changing password:",he),he.code==="auth/wrong-password"?re.error("Current password is incorrect"):he.code==="auth/weak-password"?re.error("New password is too weak"):re.error("Failed to update password")}finally{Q(!1)}},Ie=async()=>{ne(!0);try{const de=Ln(Tt,"users",r.uid);await ta(de,{twoFactorEnabled:!0,updatedAt:new Date}),G(!0),re.success("Two-factor authentication enabled"),S(!1)}catch(de){console.error("Error setting up 2FA:",de),re.error("Failed to setup two-factor authentication")}finally{ne(!1)}},Oe=async()=>{if(me!=="DELETE"){re.error("Please type DELETE to confirm");return}$(!0);try{const de=Ln(Tt,"users",r.uid);await Bq(de),await cB(r),re.success("Account deleted successfully"),t("/")}catch(de){console.error("Error deleting account:",de),re.error("Failed to delete account. Please try again.")}finally{$(!1)}};return r?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 text-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-indigo-900/95 dark:bg-gray-900/95 backdrop-blur-md",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",className:"text-white",onClick:()=>t("/"),children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-white font-bold text-lg",children:"Settings"})]})})})}),o.jsx("div",{className:"container mx-auto px-4 py-6 space-y-6",children:i?o.jsx(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700",children:o.jsxs(ke,{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),o.jsx("p",{className:"text-gray-300",children:"Loading settings..."})]})}):o.jsxs(o.Fragment,{children:[o.jsxs(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"text-white flex items-center space-x-2",children:[o.jsx(pE,{className:"w-5 h-5"}),o.jsx("span",{children:"Notifications"})]})}),o.jsxs(ke,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(pE,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-white",children:"Push Notifications"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Receive notifications on your device"})]})]}),o.jsx(kd,{checked:c.pushNotifications,onCheckedChange:de=>ge("pushNotifications",de)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx($s,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-white",children:"Email Notifications"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Receive updates via email"})]})]}),o.jsx(kd,{checked:c.emailNotifications,onCheckedChange:de=>ge("emailNotifications",de)})]})]})]}),o.jsxs(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"text-white flex items-center space-x-2",children:[o.jsx(hn,{className:"w-5 h-5"}),o.jsx("span",{children:"Appearance"})]})}),o.jsxs(ke,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[e?o.jsx(hn,{className:"w-5 h-5 text-gray-400"}):o.jsx(bn,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-white",children:"Dark Mode"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Use dark theme"})]})]}),o.jsx(kd,{checked:e,onCheckedChange:be})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(tP,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-white",children:"Language"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Choose your preferred language"})]})]}),o.jsxs(nu,{value:c.language,onValueChange:de=>ge("language",de),children:[o.jsx(ml,{className:"w-32 bg-white/10 border-gray-600",children:o.jsx(ru,{})}),o.jsxs(pl,{children:[o.jsx(ct,{value:"en",children:"English"}),o.jsx(ct,{value:"hi",children:"Hindi"}),o.jsx(ct,{value:"bn",children:"Bengali"})]})]})]})]})]}),o.jsxs(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"text-white flex items-center space-x-2",children:[c.sound?o.jsx(xE,{className:"w-5 h-5"}):o.jsx(Q5,{className:"w-5 h-5"}),o.jsx("span",{children:"Sound & Vibration"})]})}),o.jsx(ke,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(xE,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx(Le,{className:"text-white",children:"Sound Effects"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Play sounds for notifications"})]})]}),o.jsx(kd,{checked:c.sound,onCheckedChange:de=>ge("sound",de)})]})})]}),o.jsxs(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"text-white flex items-center space-x-2",children:[o.jsx(xc,{className:"w-5 h-5"}),o.jsx("span",{children:"Privacy & Security"})]})}),o.jsxs(ke,{className:"space-y-4",children:[o.jsxs(Z,{variant:"outline",className:"w-full justify-start",onClick:()=>p(!0),children:[o.jsx(rP,{className:"w-4 h-4 mr-2"}),"Change Password"]}),o.jsxs(Z,{variant:"outline",className:"w-full justify-start",onClick:()=>S(!0),children:[o.jsx(hp,{className:"w-4 h-4 mr-2"}),"Two-Factor Authentication",H&&o.jsx("span",{className:"ml-2 text-green-400",children:"✓ Enabled"})]}),o.jsxs(Z,{variant:"outline",className:"w-full justify-start",onClick:()=>y(!0),children:[o.jsx(xc,{className:"w-4 h-4 mr-2"}),"Privacy Policy"]})]})]}),o.jsxs(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700",children:[o.jsx(ut,{children:o.jsx(gt,{className:"text-white",children:"Account"})}),o.jsx(ke,{className:"space-y-4",children:o.jsxs(Z,{variant:"outline",className:"w-full justify-start text-red-400 border-red-400 hover:bg-red-400/10",onClick:()=>N(!0),children:[o.jsx(A_,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]}),o.jsx(Ce,{className:"bg-white/5 backdrop-blur-md border-gray-700",children:o.jsxs(ke,{className:"p-4 text-center",children:[o.jsx("p",{className:"text-gray-300 text-sm",children:"QuicklyMart v1.0.0"}),o.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"© 2024 QuicklyMart. All rights reserved."})]})})]})}),o.jsx(Gi,{open:h,onOpenChange:p,children:o.jsxs(fi,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(mi,{children:[o.jsx(Vs,{className:"text-gray-900",children:"Change Password"}),o.jsx(wi,{className:"text-gray-600",children:"Enter your current password and choose a new one."})]}),o.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"currentPassword",className:"text-gray-900",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ge,{id:"currentPassword",type:j?"text":"password",value:E,onChange:de=>T(de.target.value),className:"pr-10",required:!0}),o.jsx(Z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>I(!j),children:j?o.jsx(km,{className:"h-4 w-4"}):o.jsx(Fd,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"newPassword",className:"text-gray-900",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ge,{id:"newPassword",type:A?"text":"password",value:C,onChange:de=>R(de.target.value),className:"pr-10",required:!0}),o.jsx(Z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>D(!A),children:A?o.jsx(km,{className:"h-4 w-4"}):o.jsx(Fd,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"confirmPassword",className:"text-gray-900",children:"Confirm New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ge,{id:"confirmPassword",type:z?"text":"password",value:F,onChange:de=>U(de.target.value),className:"pr-10",required:!0}),o.jsx(Z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>B(!z),children:z?o.jsx(km,{className:"h-4 w-4"}):o.jsx(Fd,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Z,{type:"button",variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Cancel"}),o.jsx(Z,{type:"submit",disabled:O,className:"flex-1",children:O?o.jsxs(o.Fragment,{children:[o.jsx(Vo,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Password"})]})]})]})}),o.jsx(Gi,{open:g,onOpenChange:y,children:o.jsxs(fi,{className:"bg-white/95 backdrop-blur-md border-gray-700 max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsx(mi,{children:o.jsx(Vs,{className:"text-gray-900",children:"Privacy Policy"})}),o.jsxs("div",{className:"space-y-4 text-gray-700",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"QuicklyMart Privacy Policy"}),o.jsx("p",{className:"text-sm",children:"This Privacy Policy describes how QuicklyMart collects, uses, and protects your personal information."}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Information We Collect"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Account information (name, email, phone number)"}),o.jsx("li",{children:"Order history and preferences"}),o.jsx("li",{children:"Location data for delivery services"}),o.jsx("li",{children:"Device information and usage analytics"})]}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"How We Use Your Information"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Process and deliver your orders"}),o.jsx("li",{children:"Send order updates and notifications"}),o.jsx("li",{children:"Improve our services and user experience"}),o.jsx("li",{children:"Provide customer support"})]}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Data Security"}),o.jsx("p",{className:"text-sm",children:"We implement industry-standard security measures to protect your personal information. Your data is encrypted and stored securely."}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Your Rights"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Access and update your personal information"}),o.jsx("li",{children:"Delete your account and associated data"}),o.jsx("li",{children:"Opt-out of marketing communications"}),o.jsx("li",{children:"Request data portability"})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Last updated: ",new Date().toLocaleDateString()]})]}),o.jsx(Z,{onClick:()=>y(!1),className:"w-full",children:"Close"})]})}),o.jsx(Gi,{open:v,onOpenChange:S,children:o.jsxs(fi,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(mi,{children:[o.jsx(Vs,{className:"text-gray-900",children:"Two-Factor Authentication"}),o.jsx(wi,{className:"text-gray-600",children:H?"Two-factor authentication is currently enabled for your account.":"Add an extra layer of security to your account with two-factor authentication."})]}),o.jsxs("div",{className:"space-y-4",children:[H?o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(xc,{className:"w-8 h-8 text-green-600"})}),o.jsx("p",{className:"text-gray-700",children:"Your account is protected with 2FA"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(hp,{className:"w-8 h-8 text-blue-600"})}),o.jsx("p",{className:"text-gray-700",children:"Enable two-factor authentication for enhanced security"})]}),o.jsx(Z,{onClick:Ie,disabled:te,className:"w-full",children:te?o.jsxs(o.Fragment,{children:[o.jsx(Vo,{className:"mr-2 h-4 w-4 animate-spin"}),"Setting up 2FA..."]}):"Enable 2FA"})]}),o.jsx(Z,{variant:"outline",onClick:()=>S(!1),className:"w-full",children:"Close"})]})]})}),o.jsx(Gi,{open:w,onOpenChange:N,children:o.jsxs(fi,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(mi,{children:[o.jsx(Vs,{className:"text-red-600",children:"Delete Account"}),o.jsx(wi,{className:"text-gray-600",children:"This action cannot be undone. All your data will be permanently deleted."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[o.jsxs("p",{className:"text-red-800 text-sm",children:[o.jsx("strong",{children:"Warning:"})," Deleting your account will:"]}),o.jsxs("ul",{className:"text-red-700 text-sm mt-2 space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Permanently delete all your personal data"}),o.jsx("li",{children:"Cancel any active orders"}),o.jsx("li",{children:"Remove your order history"}),o.jsx("li",{children:"Delete your saved addresses and preferences"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"deleteConfirmation",className:"text-gray-900",children:'Type "DELETE" to confirm'}),o.jsx(Ge,{id:"deleteConfirmation",value:me,onChange:de=>Y(de.target.value),placeholder:"DELETE",className:"text-center font-mono"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Z,{variant:"outline",onClick:()=>N(!1),className:"flex-1",children:"Cancel"}),o.jsx(Z,{variant:"destructive",onClick:Oe,disabled:me!=="DELETE"||J,className:"flex-1",children:J?o.jsxs(o.Fragment,{children:[o.jsx(Vo,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Account"})]})]})]})})]}):o.jsx("div",{children:"Loading..."})},DZ=()=>{const t=Un(),{isDarkMode:e,toggleDarkMode:n}=fn(),{selectedAddress:r,setSelectedAddress:s}=TM(),[i,l]=_.useState(null),[c,d]=_.useState([]),[h,p]=_.useState(!1),[g,y]=_.useState(null),[w,N]=_.useState(!0),[v,S]=_.useState(null),[E,T]=_.useState({type:"home",name:"",phone:"",address:"",city:"",state:"",pincode:"",isDefault:!1});_.useEffect(()=>{const A=It.onAuthStateChanged(async D=>{D?(l(D),await C(D.uid)):t("/")});return()=>A()},[t]),_.useEffect(()=>{const A=c.find(D=>D.isDefault);A&&S(A.id)},[c]);const C=async A=>{N(!0);try{const D=hi(Tt,"addresses"),z=Bo(D,Qa("userId","==",A)),B=await tu(z),O=[];B.forEach(Q=>{O.push({id:Q.id,...Q.data()})}),O.sort((Q,me)=>{var $,H;if(Q.isDefault&&!me.isDefault)return-1;if(!Q.isDefault&&me.isDefault)return 1;const Y=($=Q.createdAt)!=null&&$.toDate?Q.createdAt.toDate():0;return((H=me.createdAt)!=null&&H.toDate?me.createdAt.toDate():0)-Y}),d(O)}catch(D){console.error("Error loading addresses:",D),re.error("Failed to load addresses")}finally{N(!1)}},R=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async A=>{const{latitude:D,longitude:z}=A.coords;try{const O=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${D}&lon=${z}`)).json();if(O&&O.address){const Q=O.address,me={type:"other",name:Q.road||"Current Location",phone:"",address:`${Q.road||""}, ${Q.suburb||""}`,city:Q.city||Q.town||Q.village,state:Q.state,pincode:Q.postcode,isDefault:!1,userId:i.uid,createdAt:new Date};await Ph(hi(Tt,"addresses"),me),re.success("Current location added as a new address!"),await C(i.uid)}else re.error("Could not determine address from location.")}catch(B){console.error("Error fetching address:",B),re.error("Could not fetch address from location.")}},A=>{console.error("Geolocation error:",A),re.error("Could not access your location.")}):re.error("Geolocation is not supported by your browser.")},F=()=>{T({type:"home",name:"",phone:"",address:"",city:"",state:"",pincode:"",isDefault:!1}),y(null)},U=async()=>{if(i){if(!E.name||!E.phone||!E.address||!E.city||!E.state||!E.pincode){re.error("Please fill in all required fields");return}try{if(g){const A=Ln(Tt,"addresses",g.id);await ta(A,{...E,updatedAt:new Date}),re.success("Address updated successfully!")}else{const A={...E,userId:i.uid,createdAt:new Date};await Ph(hi(Tt,"addresses"),A),re.success("Address added successfully!")}p(!1),F(),await C(i.uid)}catch(A){console.error("Error saving address:",A),re.error("Failed to save address")}}},j=async A=>{if(i)try{const D=hi(Tt,"addresses"),z=Bo(D,Qa("userId","==",i.uid)),O=(await tu(z)).docs.map(me=>ta(me.ref,{isDefault:!1}));await Promise.all(O),await ta(Ln(Tt,"addresses",A),{isDefault:!0});const Q=c.find(me=>me.id===A);Q&&s(Q),re.success("Default address updated!"),await C(i.uid),S(A)}catch(D){console.error("Error setting default address:",D),re.error("Failed to update default address")}},I=A=>{switch(A){case"home":return o.jsx(nP,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(k_,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(hh,{className:"w-5 h-5 text-gray-500"})}};return i?o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-quicklymart-orange-500 border-b border-quicklymart-orange-600",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>t("/"),className:"text-white hover:bg-quicklymart-orange-600",children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold text-white",children:"My Addresses"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",className:"text-white hover:bg-quicklymart-orange-600",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(bn,{className:"w-5 h-5"}):o.jsx(hn,{className:"w-5 h-5"})}),o.jsxs(Z,{className:"bg-white hover:bg-gray-100 text-quicklymart-orange-500 font-medium",onClick:()=>{F(),p(!0)},children:[o.jsx(_0,{className:"w-4 h-4 mr-2"}),"Add Address"]})]})]})}),o.jsxs("main",{className:"p-4",children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(Ge,{placeholder:"Try JP Nagar, Siri Gardenia, etc.",className:"pl-10 h-12"})]}),o.jsxs(Z,{variant:"ghost",className:"w-full justify-start text-quicklymart-orange-500 font-semibold text-base p-0 h-auto mb-4",onClick:R,children:[o.jsx(hh,{className:"w-5 h-5 mr-2"}),"Use my current location"]}),o.jsxs(Z,{variant:"ghost",className:"w-full justify-start text-quicklymart-orange-500 font-semibold text-base p-0 h-auto",onClick:()=>{F(),p(!0)},children:[o.jsx(_0,{className:"w-5 h-5 mr-2"}),"Add new address"]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h2",{className:"text-xs font-semibold text-gray-400 mb-2",children:"SAVED ADDRESSES"}),w?o.jsx("p",{children:"Loading addresses..."}):c.length===0?o.jsx("p",{children:"No saved addresses."}):o.jsx("div",{className:"space-y-4",children:c.map(A=>o.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[o.jsx("div",{className:"mt-1",children:I(A.type)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h3",{className:"font-bold capitalize",children:A.type}),(r==null?void 0:r.id)===A.id&&o.jsxs(Ct,{className:"bg-quicklymart-orange-100 text-quicklymart-orange-700 text-xs",children:[o.jsx(P_,{className:"w-3 h-3 mr-1"}),"CURRENTLY SELECTED"]})]}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:[A.name,", ",A.address,", ",A.city,", ",A.state," - ",A.pincode]})]})]}),o.jsx(Z,{variant:"ghost",size:"icon",className:"text-gray-500",children:o.jsx(D5,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Z,{variant:"outline",size:"sm",onClick:()=>j(A.id),className:"flex-1",children:"Set as Default"}),(r==null?void 0:r.id)!==A.id&&o.jsx(Z,{size:"sm",onClick:()=>{s(A),re.success(`Delivering to ${A.type} address`),t("/")},className:"flex-1 bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-white",children:"Deliver to this Address"})]})]},A.id))})]})]}),o.jsx(Gi,{open:h,onOpenChange:p,children:o.jsxs(fi,{children:[o.jsxs(mi,{children:[o.jsx(Vs,{children:g?"Edit Address":"Add New Address"}),o.jsx(wi,{children:g?"Update your delivery address":"Add a new delivery address"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Address Type"}),o.jsxs(nu,{value:E.type,onValueChange:A=>T({...E,type:A}),children:[o.jsx(ml,{children:o.jsx(ru,{})}),o.jsxs(pl,{children:[o.jsx(ct,{value:"home",children:"Home"}),o.jsx(ct,{value:"work",children:"Work"}),o.jsx(ct,{value:"other",children:"Other"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Full Name *"}),o.jsx(Ge,{value:E.name,onChange:A=>T({...E,name:A.target.value}),placeholder:"Enter your full name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{className:"text-white font-medium",children:"Phone Number *"}),o.jsx(Ge,{value:E.phone,onChange:A=>T({...E,phone:A.target.value}),placeholder:"Enter your phone number",className:"bg-white text-white border-white focus:border-white focus:ring-white placeholder:text-white"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Address *"}),o.jsx(Ge,{value:E.address,onChange:A=>T({...E,address:A.target.value}),placeholder:"Enter your address"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"City *"}),o.jsx(Ge,{value:E.city,onChange:A=>T({...E,city:A.target.value}),placeholder:"City"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"State *"}),o.jsx(Ge,{value:E.state,onChange:A=>T({...E,state:A.target.value}),placeholder:"State"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{children:"Pincode *"}),o.jsx(Ge,{value:E.pincode,onChange:A=>T({...E,pincode:A.target.value}),placeholder:"Enter pincode"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"default",checked:E.isDefault,onChange:A=>T({...E,isDefault:A.target.checked}),className:"rounded"}),o.jsx(Le,{htmlFor:"default",children:"Set as default address"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Z,{variant:"outline",onClick:()=>{p(!1),F()},className:"flex-1",children:"Cancel"}),o.jsxs(Z,{onClick:U,className:"flex-1 bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-white",children:[g?"Update":"Add"," Address"]})]})]})]})})]}):o.jsx("div",{className:"text-center p-8",children:"Loading..."})},LZ=()=>{const t=Un(),{isDarkMode:e}=fn();return o.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-6xl font-bold text-gray-800 dark:text-white mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8",children:"Page not found"}),o.jsx(Z,{onClick:()=>t("/"),className:"bg-blue-600 hover:bg-blue-700",children:"Go Home"})]})})},OZ=[{name:"For You",icon:o.jsx(eP,{className:"w-6 h-6"})},{name:"Grocery",icon:o.jsx("img",{src:"https://img.icons8.com/color/48/grocery-bag.png",alt:"grocery",className:"w-8 h-8"})},{name:"Fashion",icon:o.jsx($5,{className:"w-6 h-6"})},{name:"Appliances",icon:o.jsx(K5,{className:"w-6 h-6"})},{name:"Mobiles",icon:o.jsx(hp,{className:"w-6 h-6"})},{name:"Electronics",icon:o.jsx(A5,{className:"w-6 h-6"})},{name:"Smart Gadgets",icon:o.jsx(X5,{className:"w-6 h-6"})},{name:"Home",icon:o.jsx(H5,{className:"w-6 h-6"})},{name:"Beauty & Personal Care",icon:o.jsx(M5,{className:"w-6 h-6"})}],XT={title:"Grocery",sections:[{title:"Staples",items:[{name:"Ghee & Oils",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-g_R9DkL_ij9a8V3n-QyW2-sH2W-qJq_LgQ&s",subcategory:"Staples"},{name:"Sugar, Jaggery & Salt",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRkYxJ1A4Z-Y3l1Xw2O-p5B9g_Yn3X0z3q9wA&s",subcategory:"Staples"},{name:"Rice & Rice Products",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTc1j8gq-u_tYwQ-Y9E9Z-2Xw3a-nJ4d0l3Xw&s",subcategory:"Staples"},{name:"Dry Fruits, Nuts & Seeds",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ4x9J0N-n8v6Z-Z9C9Xw_Q8X_X2n-H_y3o3A&s",subcategory:"Staples"},{name:"Masalas & Spices",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRYSoZ6TqO6Y-K2rL0z7gJpG8e-A9z2wF_sLw&s",subcategory:"Staples"},{name:"Dals & Pulses",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ4p7gY-p-L2N-O_R-d0a_R1p2m-G5a9yJ_pQ&s",subcategory:"Staples"},{name:"Atta & Flours",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS-p6-gT7mQ5H2xX-O_Kq_wG-g5K-Y4Kz_yXg&s",subcategory:"Staples"}]},{title:"Snacks & Beverages",items:[{name:"Juices",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRz-o-w7O3l7g-v-l2K-j-j_H-v8V-hJ_p-Jw&s",subcategory:"Beverages"},{name:"Water",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7b-C8xXcz-n-J-k-f-oD_v1n_Y-f9hY6w&s",subcategory:"Beverages"},{name:"Chips, Namkeen & Snacks",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-G7oF5x-2y-x_k-Z8c-Z-fJ_o-I_p_X_w&s",subcategory:"Snacks"},{name:"Chocolates",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_x_P3-mB_y-Y7R-n-H-O-hI_p_S8V-kL_A&s",subcategory:"Snacks"},{name:"Health Drinks",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_x_P3-mB_y-Y7R-n-H-O-hI_p_S8V-kL_A&s",subcategory:"Beverages"},{name:"Instant Beverages",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhXgG_pD-K-v-k_k-O-c-Z-Y-k_k-S-j-I_A&s",subcategory:"Beverages"}]}]},VZ=({onSubcategoryClick:t})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-blue-600 dark:text-blue-400 flex items-center",children:[XT.title," ",o.jsx(Yk,{className:"w-6 h-6"})]}),o.jsx("img",{src:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=200",alt:"Grocery Banner",className:"rounded-lg h-12 object-cover"})]}),XT.sections.map((e,n)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:e.title}),o.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-6",children:e.items.map((r,s)=>o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>t(r.subcategory),children:[o.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full w-20 h-20 mx-auto flex items-center justify-center overflow-hidden mb-2",children:o.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-contain p-2"})}),o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:r.name})]},s))})]},n))]}),FZ=({categoryName:t})=>o.jsxs("div",{className:"text-center p-8 flex flex-col items-center justify-center h-full",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 dark:text-white",children:t}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Products coming soon!"})]}),zZ=()=>{const t=Un(),{isDarkMode:e,toggleDarkMode:n}=fn(),[r,s]=_.useState("Grocery"),i=c=>{t("/daily-essential",{state:{subcategory:c}})},l=()=>{switch(r){case"Grocery":return o.jsx(VZ,{onSubcategoryClick:i});default:return o.jsx(FZ,{categoryName:r})}};return o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"All Categories"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",className:"text-gray-600 dark:text-gray-300",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(bn,{className:"w-5 h-5"}):o.jsx(hn,{className:"w-5 h-5"})}),o.jsx(Gr,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(Qk,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(j_,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})]})]})}),o.jsxs("div",{className:"flex",children:[o.jsx("aside",{className:"w-28 bg-gray-50 dark:bg-gray-800 h-screen-minus-header fixed top-16 left-0 overflow-y-auto pb-16",children:o.jsx("nav",{children:o.jsx("ul",{children:OZ.map((c,d)=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>s(c.name),className:`w-full text-center p-3 text-sm font-medium border-l-4 ${r===c.name?"border-blue-500 bg-white dark:bg-gray-700 text-blue-500 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx("div",{className:"text-2xl mb-1 mx-auto flex justify-center items-center h-8",children:c.icon}),o.jsx("span",{className:"text-xs",children:c.name})]})},d))})})}),o.jsx("main",{className:"ml-28 p-4 flex-1 mb-16",children:l()})]})]})};var dy="Collapsible",[BZ,nM]=or(dy),[UZ,Eb]=BZ(dy),rM=_.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:l,...c}=t,[d,h]=ws({prop:r,defaultProp:s??!1,onChange:l,caller:dy});return o.jsx(UZ,{scope:n,disabled:i,contentId:gs(),open:d,onOpenToggle:_.useCallback(()=>h(p=>!p),[h]),children:o.jsx(Re.div,{"data-state":Tb(d),"data-disabled":i?"":void 0,...c,ref:e})})});rM.displayName=dy;var sM="CollapsibleTrigger",iM=_.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=Eb(sM,n);return o.jsx(Re.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Tb(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:xe(t.onClick,s.onOpenToggle)})});iM.displayName=sM;var Nb="CollapsibleContent",oM=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Eb(Nb,t.__scopeCollapsible);return o.jsx(Xr,{present:n||s.open,children:({present:i})=>o.jsx($Z,{...r,ref:e,present:i})})});oM.displayName=Nb;var $Z=_.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,l=Eb(Nb,n),[c,d]=_.useState(r),h=_.useRef(null),p=rt(e,h),g=_.useRef(0),y=g.current,w=_.useRef(0),N=w.current,v=l.open||c,S=_.useRef(v),E=_.useRef(void 0);return _.useEffect(()=>{const T=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(T)},[]),In(()=>{const T=h.current;if(T){E.current=E.current||{transitionDuration:T.style.transitionDuration,animationName:T.style.animationName},T.style.transitionDuration="0s",T.style.animationName="none";const C=T.getBoundingClientRect();g.current=C.height,w.current=C.width,S.current||(T.style.transitionDuration=E.current.transitionDuration,T.style.animationName=E.current.animationName),d(r)}},[l.open,r]),o.jsx(Re.div,{"data-state":Tb(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!v,...i,ref:p,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":N?`${N}px`:void 0,...t.style},children:v&&s})});function Tb(t){return t?"open":"closed"}var qZ=rM,HZ=iM,WZ=oM,Zs="Accordion",GZ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Sb,KZ,ZZ]=Uh(Zs),[hy,RQ]=or(Zs,[ZZ,nM]),Cb=nM(),aM=fe.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return o.jsx(Sb.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?o.jsx(JZ,{...i,ref:e}):o.jsx(XZ,{...s,ref:e})})});aM.displayName=Zs;var[lM,QZ]=hy(Zs),[cM,YZ]=hy(Zs,{collapsible:!1}),XZ=fe.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...l}=t,[c,d]=ws({prop:n,defaultProp:r??"",onChange:s,caller:Zs});return o.jsx(lM,{scope:t.__scopeAccordion,value:fe.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:fe.useCallback(()=>i&&d(""),[i,d]),children:o.jsx(cM,{scope:t.__scopeAccordion,collapsible:i,children:o.jsx(uM,{...l,ref:e})})})}),JZ=fe.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[l,c]=ws({prop:n,defaultProp:r??[],onChange:s,caller:Zs}),d=fe.useCallback(p=>c((g=[])=>[...g,p]),[c]),h=fe.useCallback(p=>c((g=[])=>g.filter(y=>y!==p)),[c]);return o.jsx(lM,{scope:t.__scopeAccordion,value:l,onItemOpen:d,onItemClose:h,children:o.jsx(cM,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(uM,{...i,ref:e})})})}),[eQ,fy]=hy(Zs),uM=fe.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...l}=t,c=fe.useRef(null),d=rt(c,e),h=KZ(n),g=Tu(s)==="ltr",y=xe(t.onKeyDown,w=>{var I;if(!GZ.includes(w.key))return;const N=w.target,v=h().filter(A=>{var D;return!((D=A.ref.current)!=null&&D.disabled)}),S=v.findIndex(A=>A.ref.current===N),E=v.length;if(S===-1)return;w.preventDefault();let T=S;const C=0,R=E-1,F=()=>{T=S+1,T>R&&(T=C)},U=()=>{T=S-1,T<C&&(T=R)};switch(w.key){case"Home":T=C;break;case"End":T=R;break;case"ArrowRight":i==="horizontal"&&(g?F():U());break;case"ArrowDown":i==="vertical"&&F();break;case"ArrowLeft":i==="horizontal"&&(g?U():F());break;case"ArrowUp":i==="vertical"&&U();break}const j=T%E;(I=v[j].ref.current)==null||I.focus()});return o.jsx(eQ,{scope:n,disabled:r,direction:s,orientation:i,children:o.jsx(Sb.Slot,{scope:n,children:o.jsx(Re.div,{...l,"data-orientation":i,ref:d,onKeyDown:r?void 0:y})})})}),qp="AccordionItem",[tQ,kb]=hy(qp),dM=fe.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=fy(qp,n),l=QZ(qp,n),c=Cb(n),d=gs(),h=r&&l.value.includes(r)||!1,p=i.disabled||t.disabled;return o.jsx(tQ,{scope:n,open:h,disabled:p,triggerId:d,children:o.jsx(qZ,{"data-orientation":i.orientation,"data-state":yM(h),...c,...s,ref:e,disabled:p,open:h,onOpenChange:g=>{g?l.onItemOpen(r):l.onItemClose(r)}})})});dM.displayName=qp;var hM="AccordionHeader",fM=fe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=fy(Zs,n),i=kb(hM,n);return o.jsx(Re.h3,{"data-orientation":s.orientation,"data-state":yM(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});fM.displayName=hM;var Sx="AccordionTrigger",mM=fe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=fy(Zs,n),i=kb(Sx,n),l=YZ(Sx,n),c=Cb(n);return o.jsx(Sb.ItemSlot,{scope:n,children:o.jsx(HZ,{"aria-disabled":i.open&&!l.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...c,...r,ref:e})})});mM.displayName=Sx;var pM="AccordionContent",gM=fe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=fy(Zs,n),i=kb(pM,n),l=Cb(n);return o.jsx(WZ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...l,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});gM.displayName=pM;function yM(t){return t?"open":"closed"}var nQ=aM,rQ=dM,sQ=fM,vM=mM,xM=gM;const JT=nQ,_M=_.forwardRef(({className:t,...e},n)=>o.jsx(rQ,{ref:n,className:je("border-b",t),...e}));_M.displayName="AccordionItem";const wM=_.forwardRef(({className:t,children:e,...n},r)=>o.jsx(sQ,{className:"flex",children:o.jsxs(vM,{ref:r,className:je("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,o.jsx(I_,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));wM.displayName=vM.displayName;const bM=_.forwardRef(({className:t,children:e,...n},r)=>o.jsx(xM,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:je("pb-4 pt-0",t),children:e})}));bM.displayName=xM.displayName;const iQ=()=>{const t=Un(),{isDarkMode:e,toggleDarkMode:n}=fn(),[r,s]=_.useState(""),i=[{category:"Ordering",questions:[{question:"How do I place an order?",answer:"To place an order, simply browse our menu, add items to your cart, and proceed to checkout. You can choose your delivery address, payment method, and add a tip before confirming your order."},{question:"What payment methods do you accept?",answer:"We accept Cash on Delivery (COD), UPI, and Credit/Debit Cards. All online payments are secure and encrypted."},{question:"Can I modify or cancel my order?",answer:"You can modify or cancel your order within 5 minutes of placing it. After that, please contact our customer support team."},{question:"What is the minimum order amount?",answer:"There is no minimum order amount, but orders above ₹299 qualify for free delivery. Orders below ₹299 have a delivery fee of ₹29."}]},{category:"Delivery",questions:[{question:"How long does delivery take?",answer:"Delivery typically takes 25-35 minutes depending on your location and current order volume. You can track your order in real-time through our app."},{question:"Do you deliver to my area?",answer:"We deliver to most areas within our service radius. Enter your address during checkout to check if we deliver to your location."},{question:"Can I schedule delivery for later?",answer:"Currently, we offer immediate delivery only. We are working on scheduled delivery options for future updates."},{question:"What if my order is delayed?",answer:"If your order is delayed, you will receive real-time updates. For significant delays, we may offer compensation or a refund."}]},{category:"Account & App",questions:[{question:"How do I create an account?",answer:"You can create an account using your email address or sign up with Google. This allows you to save addresses, track orders, and view order history."},{question:"I forgot my password. How do I reset it?",answer:'Click on "Forgot Password" on the login screen and enter your email address. You will receive a password reset link.'},{question:"How do I update my delivery address?",answer:"Go to your Profile > Address section to add, edit, or remove delivery addresses. You can also set a default address."},{question:"Is my personal information secure?",answer:"Yes, we use industry-standard encryption to protect your personal information. We never share your data with third parties without your consent."}]},{category:"Refunds & Issues",questions:[{question:"What is your refund policy?",answer:"We offer full refunds for incorrect orders, missing items, or quality issues. Contact our support team within 24 hours of delivery."},{question:"What if my food arrives cold or damaged?",answer:"If your food arrives in poor condition, please contact us immediately. We will arrange a replacement or provide a full refund."},{question:"How do I report a missing item?",answer:"Contact our customer support team with your order number and details of the missing item. We will arrange a refund or replacement."},{question:"Can I get a refund for late delivery?",answer:"For deliveries significantly delayed beyond our estimated time, we may offer partial refunds or credits as compensation."}]}],l=[{title:"Track Your Order",icon:"🚚",description:"Real-time order tracking"},{title:"Payment Issues",icon:"💳",description:"Payment problems and solutions"},{title:"Delivery Problems",icon:"📦",description:"Delivery delays and issues"},{title:"Account Access",icon:"🔐",description:"Login and account issues"},{title:"Menu & Pricing",icon:"🍽️",description:"Menu items and pricing"},{title:"App Problems",icon:"📱",description:"Technical app issues"}],c=[{title:"Customer Support",description:"24/7 customer service",icon:o.jsx(mr,{className:"w-6 h-6"}),action:"Call Now",value:"+91 98765 43210"},{title:"Email Support",description:"Get help via email",icon:o.jsx($s,{className:"w-6 h-6"}),action:"Send Email",value:"support@quicklymart.com"},{title:"Live Chat",description:"Chat with our team",icon:o.jsx(x0,{className:"w-6 h-6"}),action:"Start Chat",value:"Available 24/7"}],d=i.map(h=>({...h,questions:h.questions.filter(p=>p.question.toLowerCase().includes(r.toLowerCase())||p.answer.toLowerCase().includes(r.toLowerCase()))})).filter(h=>h.questions.length>0);return o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"text-gray-600 hover:text-quicklymart-orange-500",children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Help Center"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Get help and support"})]})]}),o.jsx(Z,{variant:"ghost",size:"icon",onClick:n,className:"text-gray-600 hover:text-quicklymart-orange-500",children:e?o.jsx(bn,{className:"w-4 h-4"}):o.jsx(hn,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(Ge,{placeholder:"Search for help topics...",value:r,onChange:h=>s(h.target.value),className:"pl-10 bg-white border-gray-300 text-gray-800 placeholder-gray-500"})]})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Popular Topics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:l.map((h,p)=>o.jsx(Ce,{className:"bg-white border border-gray-200 hover:border-quicklymart-orange-500 transition-colors cursor-pointer",children:o.jsxs(ke,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-3xl mb-2",children:h.icon}),o.jsx("h3",{className:"font-semibold mb-1 text-gray-800",children:h.title}),o.jsx("p",{className:"text-sm text-gray-600",children:h.description})]})},p))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Contact Us"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.map((h,p)=>o.jsx(Ce,{className:"bg-white border border-gray-200",children:o.jsxs(ke,{className:"p-6 text-center",children:[o.jsx("div",{className:"flex justify-center mb-3",children:o.jsx("div",{className:"p-3 bg-quicklymart-orange-100 rounded-full",children:h.icon})}),o.jsx("h3",{className:"font-semibold mb-2 text-gray-800",children:h.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:h.description}),o.jsx("p",{className:"text-sm font-medium mb-3 text-gray-800",children:h.value}),o.jsx(Z,{variant:"outline",className:"w-full border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:h.action})]})},p))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Frequently Asked Questions"}),d.length>0?o.jsx(JT,{type:"single",collapsible:!0,className:"space-y-4",children:d.map((h,p)=>o.jsxs(Ce,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(gE,{className:"w-5 h-5"}),o.jsx("span",{children:h.category}),o.jsx(Ct,{variant:"secondary",className:"bg-quicklymart-orange-100 text-quicklymart-orange-800",children:h.questions.length})]})}),o.jsx(ke,{children:o.jsx(JT,{type:"single",collapsible:!0,className:"space-y-2",children:h.questions.map((g,y)=>o.jsxs(_M,{value:`${p}-${y}`,className:"border-gray-200",children:[o.jsx(wM,{className:"text-left hover:no-underline text-gray-800",children:o.jsx("span",{className:"font-medium",children:g.question})}),o.jsx(bM,{className:"text-gray-600 pt-2",children:g.answer})]},y))})})]},p))}):o.jsx(Ce,{className:"bg-white border border-gray-200",children:o.jsxs(ke,{className:"p-8 text-center",children:[o.jsx(gE,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"No results found"}),o.jsx("p",{className:"text-gray-600",children:"Try searching with different keywords"})]})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(Z,{onClick:()=>t("/current-order"),className:"h-16 text-lg bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:[o.jsx(pa,{className:"w-5 h-5 mr-2"}),"Track My Order"]}),o.jsxs(Z,{onClick:()=>t("/past-orders"),variant:"outline",className:"h-16 text-lg border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:[o.jsx(tr,{className:"w-5 h-5 mr-2"}),"View Order History"]})]})]}),o.jsx(Ce,{className:"bg-white border border-gray-200",children:o.jsxs(ke,{className:"p-6 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Still need help?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Our customer support team is available 24/7 to assist you with any questions or concerns."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(Z,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:[o.jsx(mr,{className:"w-4 h-4 mr-2"}),"Call Support"]}),o.jsxs(Z,{variant:"outline",className:"border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:[o.jsx($s,{className:"w-4 h-4 mr-2"}),"Send Email"]})]})]})})]})]})},Pb=_.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Pb.displayName="Textarea";const oQ=()=>{const t=Un(),{isDarkMode:e,toggleDarkMode:n}=fn(),[r,s]=_.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,l]=_.useState(!1),c=[{title:"Customer Support",description:"24/7 customer service",icon:o.jsx(mr,{className:"w-6 h-6"}),value:"+91 98765 43210",action:"Call Now",color:"bg-green-600"},{title:"Email Support",description:"Get help via email",icon:o.jsx($s,{className:"w-6 h-6"}),value:"support@quicklymart.com",action:"Send Email",color:"bg-blue-600"},{title:"Live Chat",description:"Chat with our team",icon:o.jsx(x0,{className:"w-6 h-6"}),value:"Available 24/7",action:"Start Chat",color:"bg-purple-600"},{title:"Office Address",description:"Visit our office",icon:o.jsx(tr,{className:"w-6 h-6"}),value:"123 Food Street, Kolkata, WB 700001",action:"Get Directions",color:"bg-orange-600"}],d=[{day:"Monday - Friday",hours:"9:00 AM - 10:00 PM"},{day:"Saturday",hours:"10:00 AM - 11:00 PM"},{day:"Sunday",hours:"10:00 AM - 9:00 PM"}],h=(g,y)=>{s(w=>({...w,[g]:y}))},p=async g=>{g.preventDefault(),l(!0),await new Promise(y=>setTimeout(y,2e3)),re.success("Message sent successfully! We will get back to you soon."),s({name:"",email:"",phone:"",subject:"",message:""}),l(!1)};return o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"text-gray-600 hover:text-quicklymart-orange-500",children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Contact Us"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Get in touch with our team"})]})]}),o.jsx(Z,{variant:"ghost",size:"icon",onClick:n,className:"text-gray-600 hover:text-quicklymart-orange-500",children:e?o.jsx(bn,{className:"w-4 h-4"}):o.jsx(hn,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Get in Touch"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:c.map((g,y)=>o.jsx(Ce,{className:"bg-white border border-gray-200 hover:border-quicklymart-orange-500 transition-colors",children:o.jsxs(ke,{className:"p-6 text-center",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${g.color}`,children:g.icon}),o.jsx("h3",{className:"font-semibold mb-2 text-gray-800",children:g.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:g.description}),o.jsx("p",{className:"text-sm font-medium mb-4 text-gray-800",children:g.value}),o.jsx(Z,{variant:"outline",className:"w-full border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:g.action})]})},y))})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(Ce,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(hh,{className:"w-5 h-5"}),o.jsx("span",{children:"Send us a Message"})]})}),o.jsx(ke,{children:o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"name",className:"text-gray-800",children:"Full Name *"}),o.jsx(Ge,{id:"name",value:r.name,onChange:g=>h("name",g.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email",className:"text-gray-800",children:"Email Address *"}),o.jsx(Ge,{id:"email",type:"email",value:r.email,onChange:g=>h("email",g.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your email"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"phone",className:"text-gray-800",children:"Phone Number"}),o.jsx(Ge,{id:"phone",type:"tel",value:r.phone,onChange:g=>h("phone",g.target.value),className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your phone number"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"subject",className:"text-gray-800",children:"Subject *"}),o.jsxs(nu,{value:r.subject,onValueChange:g=>h("subject",g),children:[o.jsx(ml,{className:"bg-white border-gray-300 text-gray-800",children:o.jsx(ru,{placeholder:"Select a subject"})}),o.jsxs(pl,{children:[o.jsx(ct,{value:"general",children:"General Inquiry"}),o.jsx(ct,{value:"order",children:"Order Issue"}),o.jsx(ct,{value:"delivery",children:"Delivery Problem"}),o.jsx(ct,{value:"payment",children:"Payment Issue"}),o.jsx(ct,{value:"technical",children:"Technical Support"}),o.jsx(ct,{value:"feedback",children:"Feedback"}),o.jsx(ct,{value:"complaint",children:"Complaint"}),o.jsx(ct,{value:"other",children:"Other"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"message",className:"text-gray-800",children:"Message *"}),o.jsx(Pb,{id:"message",value:r.message,onChange:g=>h("message",g.target.value),required:!0,rows:5,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Tell us how we can help you..."})]}),o.jsx(Z,{type:"submit",className:"w-full bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(hh,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Ce,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(pa,{className:"w-5 h-5"}),o.jsx("span",{children:"Business Hours"})]})}),o.jsxs(ke,{children:[o.jsx("div",{className:"space-y-3",children:d.map((g,y)=>o.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[o.jsx("span",{className:"font-medium text-gray-800",children:g.day}),o.jsx("span",{className:"text-sm text-gray-600",children:g.hours})]},y))}),o.jsx("div",{className:"mt-4 p-3 bg-quicklymart-orange-100 rounded-lg",children:o.jsxs("p",{className:"text-sm text-quicklymart-orange-800",children:[o.jsx("strong",{children:"Note:"})," Customer support is available 24/7 for urgent issues."]})})]})]}),o.jsxs(Ce,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(tr,{className:"w-5 h-5"}),o.jsx("span",{children:"Office Location"})]})}),o.jsx(ke,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"space-y-2",children:o.jsxs("p",{className:"text-gray-600",children:[o.jsx("strong",{className:"text-gray-800",children:"QuicklyMart Headquarters"}),o.jsx("br",{}),"123 Food Street",o.jsx("br",{}),"Park Street Area",o.jsx("br",{}),"Kolkata, West Bengal 700001",o.jsx("br",{}),"India"]})}),o.jsxs(Z,{variant:"outline",className:"w-full border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:[o.jsx(tr,{className:"w-4 h-4 mr-2"}),"Get Directions"]})]})})]}),o.jsxs(Ce,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsx(gt,{className:"text-gray-800",children:"Response Time"})}),o.jsx(ke,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-800",children:"Phone Support"}),o.jsx(Ct,{className:"bg-green-600",children:"Immediate"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-800",children:"Live Chat"}),o.jsx(Ct,{className:"bg-green-600",children:"Within 2 min"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-800",children:"Email Support"}),o.jsx(Ct,{className:"bg-yellow-600",children:"Within 24 hours"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-800",children:"Contact Form"}),o.jsx(Ct,{className:"bg-yellow-600",children:"Within 24 hours"})]})]})})]})]})]}),o.jsx("div",{className:"mt-8",children:o.jsx(Ce,{className:"bg-red-50 border border-red-200",children:o.jsxs(ke,{className:"p-6 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-red-800",children:"Emergency Support"}),o.jsx("p",{className:"text-red-700 mb-4",children:"For urgent issues like food safety concerns or delivery emergencies"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(Z,{className:"bg-red-600 hover:bg-red-700",children:[o.jsx(mr,{className:"w-4 h-4 mr-2"}),"Emergency Hotline: +91 98765 43211"]}),o.jsxs(Z,{variant:"outline",className:"border-red-500 text-red-600 hover:bg-red-600 hover:text-white",children:[o.jsx(x0,{className:"w-4 h-4 mr-2"}),"Emergency Chat"]})]})]})})})]})]})},aQ=()=>{const t=Un(),{isDarkMode:e,toggleDarkMode:n}=fn(),[r,s]=_.useState("orderId"),[i,l]=_.useState(""),[c,d]=_.useState(!1),[h,p]=_.useState(null),g={id:"ORD123456789",status:"out_for_delivery",items:[{name:"Domino's Pizza Margherita",quantity:1,price:299},{name:"Coca Cola",quantity:2,price:60},{name:"Garlic Bread",quantity:1,price:120}],totalPrice:539,deliveryAddress:{name:"John Doe",address:"123 Main Street",city:"Kolkata",state:"West Bengal",pincode:"700001"},estimatedDeliveryTime:new Date(Date.now()+15*60*1e3),currentStep:4,deliveryPerson:{name:"Rahul Kumar",phone:"+91 98765 43210",vehicle:"Bike - KA-01-AB-1234"},timeline:[{step:1,title:"Order Placed",description:"Your order has been received",time:new Date(Date.now()-45*60*1e3),completed:!0,icon:"📋"},{step:2,title:"Order Confirmed",description:"Restaurant has confirmed your order",time:new Date(Date.now()-40*60*1e3),completed:!0,icon:"✅"},{step:3,title:"Preparing",description:"Your food is being prepared",time:new Date(Date.now()-30*60*1e3),completed:!0,icon:"👨‍🍳"},{step:4,title:"Out for Delivery",description:"Your order is on the way",time:new Date(Date.now()-5*60*1e3),completed:!0,icon:"🚚"},{step:5,title:"Delivered",description:"Enjoy your meal!",time:null,completed:!1,icon:"🎉"}]},y=async()=>{if(!i.trim()){re.error("Please enter your tracking information");return}d(!0),await new Promise(v=>setTimeout(v,2e3)),i.toLowerCase().includes("123")||i.toLowerCase().includes("98765")?(p(g),re.success("Order found!")):(p(null),re.error("Order not found. Please check your tracking information.")),d(!1)},w=v=>{switch(v){case"pending":return"bg-yellow-600";case"confirmed":return"bg-blue-600";case"preparing":return"bg-orange-600";case"out_for_delivery":return"bg-purple-600";case"delivered":return"bg-green-600";case"cancelled":return"bg-red-600";default:return"bg-gray-600"}},N=v=>{switch(v){case"pending":return"Pending";case"confirmed":return"Confirmed";case"preparing":return"Preparing";case"out_for_delivery":return"Out for Delivery";case"delivered":return"Delivered";case"cancelled":return"Cancelled";default:return"Unknown"}};return o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"text-gray-600 hover:text-quicklymart-orange-500",children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Track Order"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Track your order status"})]})]}),o.jsx(Z,{variant:"ghost",size:"icon",onClick:n,className:"text-gray-600 hover:text-quicklymart-orange-500",children:e?o.jsx(bn,{className:"w-4 h-4"}):o.jsx(hn,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs(Ce,{className:"bg-white border border-gray-200 mb-8",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(Gr,{className:"w-5 h-5"}),o.jsx("span",{children:"Track Your Order"})]})}),o.jsxs(ke,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{className:"text-gray-800 mb-3 block",children:"Tracking Method"}),o.jsx(Bp,{value:r,onValueChange:s,children:o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Va,{value:"orderId",id:"orderId"}),o.jsx(Le,{htmlFor:"orderId",className:"text-gray-800",children:"Order ID"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Va,{value:"phone",id:"phone"}),o.jsx(Le,{htmlFor:"phone",className:"text-gray-800",children:"Phone Number"})]})]})})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"trackingInput",className:"text-gray-800",children:r==="orderId"?"Order ID":"Phone Number"}),o.jsxs("div",{className:"flex space-x-2 mt-2",children:[o.jsx(Ge,{id:"trackingInput",value:i,onChange:v=>l(v.target.value),placeholder:r==="orderId"?"Enter your order ID":"Enter your phone number",className:"flex-1 bg-white border-gray-300 text-gray-800 placeholder-gray-500"}),o.jsx(Z,{onClick:y,disabled:c,className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Searching..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Gr,{className:"w-4 h-4 mr-2"}),"Track"]})})]})]}),o.jsx("div",{className:"text-sm text-gray-600",children:o.jsxs("p",{children:["💡 ",o.jsx("strong",{children:"Demo:"}),' Enter "123" or "98765" to see sample tracking data']})})]})]}),h&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Ce,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"flex items-center justify-between text-gray-800",children:[o.jsxs("span",{children:["Order #",h.id]}),o.jsx(Ct,{className:w(h.status),children:N(h.status)})]})}),o.jsx(ke,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:"📦"}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Order Items"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[h.items.length," items"]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:"💰"}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Total Amount"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["₹",h.totalPrice]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:"⏰"}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Estimated Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:h.estimatedDeliveryTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})]}),o.jsxs(Ce,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(pa,{className:"w-5 h-5"}),o.jsx("span",{children:"Delivery Timeline"})]})}),o.jsx(ke,{children:o.jsx("div",{className:"space-y-4",children:h.timeline.map((v,S)=>o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${v.completed?"bg-quicklymart-orange-500":"bg-gray-300"}`,children:o.jsx("span",{className:"text-lg",children:v.icon})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:v.title}),v.time&&o.jsx("span",{className:"text-sm text-gray-600",children:v.time.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),o.jsx("p",{className:"text-sm text-gray-600",children:v.description})]})]},v.step))})})]}),h.status==="out_for_delivery"&&o.jsxs(Ce,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(hs,{className:"w-5 h-5"}),o.jsx("span",{children:"Delivery Partner"})]})}),o.jsx(ke,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-800",children:"Name:"}),o.jsx("span",{className:"font-semibold text-gray-800",children:h.deliveryPerson.name})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-800",children:"Vehicle:"}),o.jsx("span",{className:"font-semibold text-gray-800",children:h.deliveryPerson.vehicle})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Z,{className:"flex-1 bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:[o.jsx(mr,{className:"w-4 h-4 mr-2"}),"Call Delivery Partner"]}),o.jsxs(Z,{variant:"outline",className:"flex-1 border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:[o.jsx(tr,{className:"w-4 h-4 mr-2"}),"Track on Map"]})]})]})})]}),o.jsxs(Ce,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsx(gt,{className:"text-gray-800",children:"Order Items"})}),o.jsx(ke,{children:o.jsx("div",{className:"space-y-3",children:h.items.map((v,S)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-quicklymart-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(li,{className:"w-5 h-5 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:v.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",v.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["₹",v.price]})]},S))})})]}),o.jsxs(Ce,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(tr,{className:"w-5 h-5"}),o.jsx("span",{children:"Delivery Address"})]})}),o.jsx(ke,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"font-semibold text-gray-800",children:h.deliveryAddress.name}),o.jsxs("p",{className:"text-gray-600",children:[h.deliveryAddress.address,", ",h.deliveryAddress.city,", ",h.deliveryAddress.state," - ",h.deliveryAddress.pincode]})]})})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(Z,{onClick:()=>t(`/current-order/${h.id}`),className:"flex-1 bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:[o.jsx(hs,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),o.jsxs(Z,{variant:"outline",className:"flex-1 border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:[o.jsx($s,{className:"w-4 h-4 mr-2"}),"Contact Support"]})]})]}),!h&&!c&&o.jsx(Ce,{className:"bg-white border border-gray-200",children:o.jsxs(ke,{className:"p-8 text-center",children:[o.jsx(li,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Track Your Order"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Enter your order ID or phone number to track your order status"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{onClick:()=>t("/past-orders"),className:"w-full bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:"View Order History"}),o.jsx(Z,{variant:"outline",onClick:()=>t("/contact-us"),className:"w-full border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:"Need Help?"})]})]})})]})]})},lQ=()=>{const t=Un(),{isDarkMode:e,toggleDarkMode:n}=fn(),r=[{label:"Happy Customers",value:"50,000+",icon:"😊"},{label:"Cities Served",value:"25+",icon:"🏙️"},{label:"Restaurant Partners",value:"500+",icon:"🍽️"},{label:"Orders Delivered",value:"1M+",icon:"📦"}],s=[{title:"Quality First",description:"We never compromise on food quality and safety standards.",icon:o.jsx(S5,{className:"w-8 h-8"}),color:"bg-yellow-600"},{title:"Customer Satisfaction",description:"Your satisfaction is our top priority. We go above and beyond to exceed expectations.",icon:o.jsx(lu,{className:"w-8 h-8"}),color:"bg-red-600"},{title:"Fast Delivery",description:"We promise to deliver your food fresh and hot within 30 minutes.",icon:o.jsx(hs,{className:"w-8 h-8"}),color:"bg-green-600"},{title:"Trust & Safety",description:"Your safety and trust are paramount. We maintain the highest hygiene standards.",icon:o.jsx(xc,{className:"w-8 h-8"}),color:"bg-blue-600"}],i=[{name:"Rahul Sharma",position:"CEO & Founder",image:"👨‍💼",description:"Former food industry executive with 15+ years of experience"},{name:"Priya Patel",position:"CTO",image:"👩‍💻",description:"Tech enthusiast leading our digital transformation"},{name:"Amit Kumar",position:"Head of Operations",image:"👨‍🔧",description:"Operations expert ensuring smooth delivery logistics"},{name:"Neha Singh",position:"Head of Customer Experience",image:"👩‍💼",description:"Customer advocate focused on exceptional service"}],l=[{year:"2023",title:"Best Food Delivery App",description:"Awarded by FoodTech India",icon:"🏆"},{year:"2023",title:"Fastest Growing Startup",description:"Recognized by Startup India",icon:"📈"},{year:"2022",title:"Customer Choice Award",description:"Highest rated delivery app",icon:"⭐"},{year:"2022",title:"Innovation in Logistics",description:"Awarded by Logistics India",icon:"🚀"}],c=[{year:"2020",title:"Company Founded",description:"Started with a vision to revolutionize food delivery"},{year:"2021",title:"First 1000 Orders",description:"Reached our first major milestone"},{year:"2022",title:"Expanded to 10 Cities",description:"Grew our presence across major cities"},{year:"2023",title:"1 Million Orders",description:"Celebrated delivering 1 million orders"}];return o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"text-gray-600 hover:text-quicklymart-orange-500",children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"About Us"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Learn more about QuicklyMart"})]})]}),o.jsx(Z,{variant:"ghost",size:"icon",onClick:n,className:"text-gray-600 hover:text-quicklymart-orange-500",children:e?o.jsx(bn,{className:"w-4 h-4"}):o.jsx(hn,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-gray-800",children:"Revolutionizing Food Delivery"}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"At QuicklyMart, we believe that great food should be accessible to everyone, delivered fresh and fast. We're on a mission to connect people with their favorite restaurants through technology and exceptional service."})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:r.map((d,h)=>o.jsx(Ce,{className:"bg-white border border-gray-200 text-center",children:o.jsxs(ke,{className:"p-6",children:[o.jsx("div",{className:"text-3xl mb-2",children:d.icon}),o.jsx("div",{className:"text-2xl font-bold mb-1 text-gray-800",children:d.value}),o.jsx("div",{className:"text-sm text-gray-600",children:d.label})]})},h))}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[o.jsxs(Ce,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(W5,{className:"w-5 h-5"}),o.jsx("span",{children:"Our Mission"})]})}),o.jsx(ke,{children:o.jsx("p",{className:"text-gray-600 leading-relaxed",children:"To provide the fastest, most reliable food delivery service while maintaining the highest standards of food quality, customer service, and safety. We strive to make ordering food as simple as possible while ensuring every meal arrives fresh and delicious."})})]}),o.jsxs(Ce,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(ga,{className:"w-5 h-5"}),o.jsx("span",{children:"Our Vision"})]})}),o.jsx(ke,{children:o.jsx("p",{className:"text-gray-600 leading-relaxed",children:"To become the most trusted and preferred food delivery platform in India, known for our commitment to quality, speed, and customer satisfaction. We envision a future where everyone can enjoy their favorite food delivered to their doorstep within minutes."})})]})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Our Values"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((d,h)=>o.jsx(Ce,{className:"bg-white border border-gray-200 text-center",children:o.jsxs(ke,{className:"p-6",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${d.color}`,children:d.icon}),o.jsx("h3",{className:"font-semibold mb-2 text-gray-800",children:d.title}),o.jsx("p",{className:"text-sm text-gray-600",children:d.description})]})},h))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Our Leadership Team"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((d,h)=>o.jsx(Ce,{className:"bg-white border border-gray-200 text-center",children:o.jsxs(ke,{className:"p-6",children:[o.jsx("div",{className:"text-4xl mb-3",children:d.image}),o.jsx("h3",{className:"font-semibold mb-1 text-gray-800",children:d.name}),o.jsx("p",{className:"text-quicklymart-orange-500 mb-2",children:d.position}),o.jsx("p",{className:"text-sm text-gray-600",children:d.description})]})},h))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Awards & Recognition"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map((d,h)=>o.jsx(Ce,{className:"bg-white border border-gray-200",children:o.jsx(ke,{className:"p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"text-3xl",children:d.icon}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Ct,{variant:"secondary",className:"bg-quicklymart-orange-100 text-quicklymart-orange-800",children:d.year}),o.jsx("h3",{className:"font-semibold text-gray-800",children:d.title})]}),o.jsx("p",{className:"text-gray-600",children:d.description})]})]})})},h))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Our Journey"}),o.jsx("div",{className:"space-y-6",children:c.map((d,h)=>o.jsx(Ce,{className:"bg-white border border-gray-200",children:o.jsx(ke,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Ct,{className:"bg-quicklymart-orange-500",children:d.year})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1 text-gray-800",children:d.title}),o.jsx("p",{className:"text-gray-600",children:d.description})]})]})})},h))})]}),o.jsxs(Ce,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsx(gt,{className:"text-center text-gray-800",children:"Get in Touch"})}),o.jsx(ke,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[o.jsxs("div",{children:[o.jsx(tr,{className:"w-6 h-6 mx-auto mb-2 text-quicklymart-orange-500"}),o.jsx("h3",{className:"font-semibold mb-1 text-gray-800",children:"Address"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["123 Food Street",o.jsx("br",{}),"Park Street Area",o.jsx("br",{}),"Kolkata, WB 700001"]})]}),o.jsxs("div",{children:[o.jsx(mr,{className:"w-6 h-6 mx-auto mb-2 text-quicklymart-orange-500"}),o.jsx("h3",{className:"font-semibold mb-1 text-gray-800",children:"Phone"}),o.jsx("p",{className:"text-sm text-gray-600",children:"+91 98765 43210"})]}),o.jsxs("div",{children:[o.jsx($s,{className:"w-6 h-6 mx-auto mb-2 text-quicklymart-orange-500"}),o.jsx("h3",{className:"font-semibold mb-1 text-gray-800",children:"Email"}),o.jsx("p",{className:"text-sm text-gray-600",children:"hello@quicklymart.com"})]})]})})]}),o.jsx("div",{className:"text-center mt-8",children:o.jsx(Z,{onClick:()=>t("/"),className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600 text-lg px-8 py-3",children:"Start Ordering Now"})})]})]})},cQ=()=>{const t=Un(),{isDarkMode:e,toggleDarkMode:n}=fn(),[r,s]=_.useState(null),[i,l]=_.useState(!1),[c,d]=_.useState({name:"",email:"",phone:"",position:"",experience:"",coverLetter:"",resume:null}),h=[{id:1,title:"Senior React Developer",department:"Engineering",location:"Kolkata, WB",type:"Full-time",experience:"3-5 years",salary:"₹8-15 LPA",description:"We are looking for a passionate React developer to join our team and help build amazing user experiences.",requirements:["Strong proficiency in React, TypeScript, and modern JavaScript","Experience with state management (Redux, Zustand)","Knowledge of responsive design and CSS frameworks","Experience with testing frameworks (Jest, React Testing Library)","Good understanding of REST APIs and GraphQL"],responsibilities:["Develop and maintain high-quality React applications","Collaborate with design and product teams","Write clean, maintainable, and well-documented code","Participate in code reviews and technical discussions","Mentor junior developers"]},{id:2,title:"Product Manager",department:"Product",location:"Remote",type:"Full-time",experience:"2-4 years",salary:"₹10-18 LPA",description:"Join our product team to help shape the future of food delivery and create amazing user experiences.",requirements:["Experience in product management or related field","Strong analytical and problem-solving skills","Excellent communication and collaboration abilities","Experience with agile methodologies","Knowledge of user research and data analysis"],responsibilities:["Define product strategy and roadmap","Gather and analyze user feedback","Work with engineering and design teams","Monitor product metrics and KPIs","Drive product launches and iterations"]},{id:3,title:"UI/UX Designer",department:"Design",location:"Mumbai, MH",type:"Full-time",experience:"2-4 years",salary:"₹6-12 LPA",description:"Create beautiful and intuitive user interfaces that delight our customers and drive business growth.",requirements:["Strong portfolio showcasing UI/UX work","Proficiency in design tools (Figma, Sketch, Adobe Creative Suite)","Understanding of user-centered design principles","Experience with mobile app design","Knowledge of design systems and component libraries"],responsibilities:["Design user interfaces and user experiences","Create wireframes, prototypes, and high-fidelity designs","Conduct user research and usability testing","Collaborate with product and engineering teams","Maintain and evolve our design system"]},{id:4,title:"Operations Manager",department:"Operations",location:"Delhi, NCR",type:"Full-time",experience:"3-6 years",salary:"₹8-15 LPA",description:"Lead our operations team to ensure smooth delivery operations and excellent customer service.",requirements:["Experience in operations management or logistics","Strong leadership and team management skills","Excellent problem-solving and decision-making abilities","Experience with process optimization","Knowledge of supply chain management"],responsibilities:["Manage day-to-day operations","Optimize delivery processes and efficiency","Lead and mentor operations team","Monitor and improve service quality","Develop and implement operational strategies"]},{id:5,title:"Marketing Specialist",department:"Marketing",location:"Bangalore, KA",type:"Full-time",experience:"1-3 years",salary:"₹5-10 LPA",description:"Help us grow our brand and reach more customers through creative marketing campaigns.",requirements:["Experience in digital marketing or related field","Knowledge of social media marketing and content creation","Experience with marketing analytics and tools","Creative thinking and strong communication skills","Understanding of customer acquisition and retention"],responsibilities:["Develop and execute marketing campaigns","Create engaging content for social media","Analyze marketing performance and optimize campaigns","Collaborate with creative and product teams","Manage brand presence across channels"]}],p=[{title:"Health & Wellness",description:"Comprehensive health insurance and wellness programs",icon:o.jsx(lu,{className:"w-6 h-6"}),color:"bg-red-600"},{title:"Learning & Growth",description:"Continuous learning opportunities and career development",icon:o.jsx(O5,{className:"w-6 h-6"}),color:"bg-blue-600"},{title:"Flexible Work",description:"Remote work options and flexible working hours",icon:o.jsx(tP,{className:"w-6 h-6"}),color:"bg-green-600"},{title:"Team Events",description:"Regular team building activities and social events",icon:o.jsx(Z5,{className:"w-6 h-6"}),color:"bg-purple-600"}],g=N=>{s(N),d(v=>({...v,position:N.title})),l(!0)},y=async N=>{N.preventDefault(),await new Promise(v=>setTimeout(v,2e3)),re.success("Application submitted successfully! We will get back to you soon."),l(!1),d({name:"",email:"",phone:"",position:"",experience:"",coverLetter:"",resume:null})},w=(N,v)=>{d(S=>({...S,[N]:v}))};return o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"text-gray-600 hover:text-quicklymart-orange-500",children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Careers"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Join our amazing team"})]})]}),o.jsx(Z,{variant:"ghost",size:"icon",onClick:n,className:"text-gray-600 hover:text-quicklymart-orange-500",children:e?o.jsx(bn,{className:"w-4 h-4"}):o.jsx(hn,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-gray-800",children:"Join Our Team"}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Be part of a team that's revolutionizing food delivery. We're looking for passionate individuals who want to make a difference and grow with us."})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Why Work With Us?"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((N,v)=>o.jsx(Ce,{className:"bg-white border border-gray-200 text-center",children:o.jsxs(ke,{className:"p-6",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${N.color}`,children:N.icon}),o.jsx("h3",{className:"font-semibold mb-2 text-gray-800",children:N.title}),o.jsx("p",{className:"text-sm text-gray-600",children:N.description})]})},v))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Open Positions"}),o.jsx("div",{className:"space-y-6",children:h.map(N=>o.jsxs(Ce,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx(gt,{className:"text-xl mb-2 text-gray-800",children:N.title}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[o.jsx(Ct,{variant:"secondary",className:"bg-quicklymart-orange-100 text-quicklymart-orange-800",children:N.department}),o.jsxs(Ct,{variant:"outline",className:"border-gray-300 text-gray-700",children:[o.jsx(tr,{className:"w-3 h-3 mr-1"}),N.location]}),o.jsxs(Ct,{variant:"outline",className:"border-gray-300 text-gray-700",children:[o.jsx(pa,{className:"w-3 h-3 mr-1"}),N.type]}),o.jsxs(Ct,{variant:"outline",className:"border-gray-300 text-gray-700",children:[o.jsx(k_,{className:"w-3 h-3 mr-1"}),N.experience]}),o.jsxs(Ct,{variant:"outline",className:"border-gray-300 text-gray-700",children:[o.jsx(R5,{className:"w-3 h-3 mr-1"}),N.salary]})]})]}),o.jsx(Z,{onClick:()=>g(N),className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:"Apply Now"})]})}),o.jsxs(ke,{children:[o.jsx("p",{className:"text-gray-600 mb-4",children:N.description}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2 text-gray-800",children:"Requirements:"}),o.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:N.requirements.map((v,S)=>o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-2 text-quicklymart-orange-500",children:"•"}),v]},S))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2 text-gray-800",children:"Responsibilities:"}),o.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:N.responsibilities.map((v,S)=>o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-2 text-quicklymart-orange-500",children:"•"}),v]},S))})]})]})]})]},N.id))})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs(Ce,{className:"bg-white border border-gray-200 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(ut,{children:o.jsxs(gt,{className:"flex items-center justify-between text-gray-800",children:[o.jsxs("span",{children:["Apply for ",r==null?void 0:r.title]}),o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>l(!1),className:"text-gray-600 hover:text-quicklymart-orange-500",children:"✕"})]})}),o.jsx(ke,{children:o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"name",className:"text-gray-800",children:"Full Name *"}),o.jsx(Ge,{id:"name",value:c.name,onChange:N=>w("name",N.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email",className:"text-gray-800",children:"Email Address *"}),o.jsx(Ge,{id:"email",type:"email",value:c.email,onChange:N=>w("email",N.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your email"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"phone",className:"text-gray-800",children:"Phone Number *"}),o.jsx(Ge,{id:"phone",type:"tel",value:c.phone,onChange:N=>w("phone",N.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your phone number"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"experience",className:"text-gray-800",children:"Years of Experience *"}),o.jsxs(nu,{value:c.experience,onValueChange:N=>w("experience",N),children:[o.jsx(ml,{className:"bg-white border-gray-300 text-gray-800",children:o.jsx(ru,{placeholder:"Select experience level"})}),o.jsxs(pl,{children:[o.jsx(ct,{value:"0-1",children:"0-1 years"}),o.jsx(ct,{value:"1-3",children:"1-3 years"}),o.jsx(ct,{value:"3-5",children:"3-5 years"}),o.jsx(ct,{value:"5-8",children:"5-8 years"}),o.jsx(ct,{value:"8+",children:"8+ years"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"coverLetter",className:"text-gray-800",children:"Cover Letter *"}),o.jsx(Pb,{id:"coverLetter",value:c.coverLetter,onChange:N=>w("coverLetter",N.target.value),required:!0,rows:5,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Tell us why you're interested in this position and what makes you a great fit..."})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"resume",className:"text-gray-800",children:"Resume/CV *"}),o.jsx(Ge,{id:"resume",type:"file",accept:".pdf,.doc,.docx",onChange:N=>w("resume",N.target.files[0]),required:!0,className:"bg-white border-gray-300 text-gray-800 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-quicklymart-orange-500 file:text-white hover:file:bg-quicklymart-orange-600"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted formats: PDF, DOC, DOCX (Max 5MB)"})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(Z,{type:"submit",className:"flex-1 bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:"Submit Application"}),o.jsx(Z,{type:"button",variant:"outline",onClick:()=>l(!1),className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"})]})]})})]})}),o.jsx(Ce,{className:"bg-white border border-gray-200",children:o.jsxs(ke,{className:"p-8 text-center",children:[o.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Don't see a perfect fit?"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"We're always looking for talented individuals to join our team. Send us your resume and we'll keep you in mind for future opportunities."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(Z,{className:"bg-quicklymart-orange-500 hover:bg-quicklymart-orange-600",children:[o.jsx($s,{className:"w-4 h-4 mr-2"}),"Send Resume"]}),o.jsxs(Z,{variant:"outline",className:"border-quicklymart-orange-500 text-quicklymart-orange-500 hover:bg-quicklymart-orange-500 hover:text-white",children:[o.jsx(mr,{className:"w-4 h-4 mr-2"}),"Contact HR"]})]})]})})]})]})},uQ=()=>{const t=Un(),{isDarkMode:e,toggleDarkMode:n}=fn(),[r,s]=_.useState("overview");return o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"text-gray-600 hover:text-quicklymart-orange-500",children:o.jsx(zn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Privacy Policy"}),o.jsx("p",{className:"text-sm text-gray-600",children:"How we protect your data"})]})]}),o.jsx(Z,{variant:"ghost",size:"icon",onClick:n,className:"text-gray-600 hover:text-quicklymart-orange-500",children:e?o.jsx(bn,{className:"w-4 h-4"}):o.jsx(hn,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[o.jsx("div",{className:"mb-6 p-4 bg-quicklymart-orange-50 border border-quicklymart-orange-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Zk,{className:"w-5 h-5 text-quicklymart-orange-600"}),o.jsx("span",{className:"text-sm font-medium text-quicklymart-orange-800",children:"Last updated: December 15, 2024"})]})}),o.jsx(Ce,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(ke,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Introduction"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"At QuicklyMart Instant Grub, we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our food delivery service."}),o.jsx("p",{className:"text-gray-600",children:"By using our service, you agree to the collection and use of information in accordance with this policy."})]})}),o.jsx(Ce,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(ke,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Information We Collect"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(fs,{className:"w-5 h-5 mr-2 text-quicklymart-orange-500"}),"Personal Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"Name and contact information (email, phone number)"}),o.jsx("li",{children:"Delivery address and location data"}),o.jsx("li",{children:"Payment information (processed securely through our payment partners)"}),o.jsx("li",{children:"Account credentials and profile information"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(hp,{className:"w-5 h-5 mr-2 text-quicklymart-orange-500"}),"Device and Usage Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"Device type, operating system, and browser information"}),o.jsx("li",{children:"IP address and general location data"}),o.jsx("li",{children:"App usage patterns and preferences"}),o.jsx("li",{children:"Order history and delivery preferences"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(tr,{className:"w-5 h-5 mr-2 text-quicklymart-orange-500"}),"Location Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"GPS location for delivery services"}),o.jsx("li",{children:"Address book contacts (with permission)"}),o.jsx("li",{children:"Real-time location tracking during delivery"})]})]})]})]})}),o.jsx(Ce,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(ke,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"How We Use Your Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(hs,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Service Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Process orders and coordinate deliveries"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(xc,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Security"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Prevent fraud and ensure account security"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(z5,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Communication"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Send order updates and support messages"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(P5,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Analytics"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Improve our service and user experience"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(eP,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Personalization"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Provide relevant recommendations"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(w0,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Account Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage your account and preferences"})]})]})]})]})]})}),o.jsx(Ce,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(ke,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Information Sharing"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We do not sell, trade, or rent your personal information to third parties. We may share your information only in the following circumstances:"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full mt-1",children:o.jsx(k5,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Restaurant Partners"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Share order details with restaurants to fulfill your orders"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full mt-1",children:o.jsx(hs,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Delivery Partners"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Provide necessary information to delivery drivers"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full mt-1",children:o.jsx(xc,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Legal Requirements"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Comply with applicable laws and regulations"})]})]})]})]})}),o.jsx(Ce,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(ke,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Data Security"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We implement industry-standard security measures to protect your personal information:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(gd,{className:"w-5 h-5 text-quicklymart-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"SSL encryption for data transmission"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(gd,{className:"w-5 h-5 text-quicklymart-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Secure payment processing"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(gd,{className:"w-5 h-5 text-quicklymart-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Regular security audits"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(gd,{className:"w-5 h-5 text-quicklymart-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Access controls and authentication"})]})]})]})}),o.jsx(Ce,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(ke,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Your Rights"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"You have the following rights regarding your personal information:"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(Fd,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Access"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request access to your personal data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(sP,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Correction"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request correction of inaccurate data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(A_,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Deletion"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request deletion of your personal data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-quicklymart-orange-100 rounded-full",children:o.jsx(C5,{className:"w-4 h-4 text-quicklymart-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Objection"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Object to processing of your data"})]})]})]})]})}),o.jsx(Ce,{className:"bg-white border border-gray-200",children:o.jsxs(ke,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Contact Us"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx($s,{className:"w-5 h-5 text-quicklymart-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"privacy@quicklymart.com"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(mr,{className:"w-5 h-5 text-quicklymart-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"+1 (555) 123-4567"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(tr,{className:"w-5 h-5 text-quicklymart-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"123 Food Street, Delivery City, DC 12345"})]})]})]})})]})]})},dQ=new uF,EM=_.createContext(void 0),fn=()=>{const t=_.useContext(EM);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},NM=_.createContext(void 0),TM=()=>{const t=_.useContext(NM);if(!t)throw new Error("useSelectedAddress must be used within a SelectedAddressProvider");return t},hQ=({children:t})=>{const[e,n]=_.useState(!1);_.useEffect(()=>{const d=localStorage.getItem("darkMode")==="true";n(d),r(d)},[]);const r=c=>{c?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},s=()=>{const c=!e;n(c),localStorage.setItem("darkMode",c.toString()),r(c),It.currentUser&&l(It.currentUser.uid,c)},i=c=>{n(c),localStorage.setItem("darkMode",c.toString()),r(c),It.currentUser&&l(It.currentUser.uid,c)},l=async(c,d)=>{try{const h=Ln(Tt,"users",c);await ta(h,{"settings.darkMode":d,updatedAt:new Date})}catch(h){console.error("Error updating theme in Firestore:",h)}};return o.jsx(EM.Provider,{value:{isDarkMode:e,toggleDarkMode:s,setDarkMode:i},children:t})},fQ=()=>{const[t,e]=_.useState(()=>{const l=localStorage.getItem("quicklymart-selected-address");return l?JSON.parse(l):null}),[n,r]=_.useState(!1);_.useEffect(()=>{t?localStorage.setItem("quicklymart-selected-address",JSON.stringify(t)):localStorage.removeItem("quicklymart-selected-address")},[t]),_.useEffect(()=>{(async()=>{try{const c=await qB(It);c&&(re.success("Google sign-in successful!"),await s(c.user))}catch(c){console.error("Google sign-in redirect error:",c),re.error("Google sign-in failed. Please try again.")}})()},[]),_.useEffect(()=>{const l=It.onAuthStateChanged(async c=>{c?await s(c):r(!1)});return()=>l()},[]);const s=async l=>{var c;try{const d=await eu(Ln(Tt,"users",l.uid));(!d.exists()||!((c=d.data())!=null&&c.isOnboarded))&&r(!0)}catch(d){console.error("Error checking user onboarding status:",d)}},i=()=>{r(!1)};return o.jsx(hF,{client:dQ,children:o.jsx(hQ,{children:o.jsxs(NM.Provider,{value:{selectedAddress:t,setSelectedAddress:e},children:[o.jsxs(zV,{children:[o.jsx(L3,{}),o.jsx(pP,{}),o.jsx(l9,{children:o.jsxs(i9,{children:[o.jsx(Sn,{path:"/",element:o.jsx(aZ,{})}),o.jsx(Sn,{path:"/food",element:o.jsx(uZ,{})}),o.jsx(Sn,{path:"/daily-essential",element:o.jsx(mZ,{})}),o.jsx(Sn,{path:"/drinks",element:o.jsx(yZ,{})}),o.jsx(Sn,{path:"/all-categories",element:o.jsx(zZ,{})}),o.jsx(Sn,{path:"/profile",element:o.jsx(vZ,{})}),o.jsx(Sn,{path:"/past-orders",element:o.jsx(xZ,{})}),o.jsx(Sn,{path:"/current-order/:orderId",element:o.jsx(kZ,{})}),o.jsx(Sn,{path:"/settings",element:o.jsx(MZ,{})}),o.jsx(Sn,{path:"/address",element:o.jsx(DZ,{})}),o.jsx(Sn,{path:"/help-center",element:o.jsx(iQ,{})}),o.jsx(Sn,{path:"/contact-us",element:o.jsx(oQ,{})}),o.jsx(Sn,{path:"/track-order",element:o.jsx(aQ,{})}),o.jsx(Sn,{path:"/about-us",element:o.jsx(lQ,{})}),o.jsx(Sn,{path:"/careers",element:o.jsx(cQ,{})}),o.jsx(Sn,{path:"/privacy-policy",element:o.jsx(uQ,{})}),o.jsx(Sn,{path:"*",element:o.jsx(LZ,{})})]})})]}),o.jsx(fA,{isOpen:n,onComplete:i})]})})})};wk(document.getElementById("root")).render(o.jsx(fQ,{}));
