var c1=t=>{throw TypeError(t)};var Ng=(t,e,n)=>e.has(t)||c1("Cannot "+n);var ie=(t,e,n)=>(Ng(t,e,"read from private field"),n?n.call(t):e.get(t)),mt=(t,e,n)=>e.has(t)?c1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ge=(t,e,n,r)=>(Ng(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Dn=(t,e,n)=>(Ng(t,e,"access private method"),n);var uh=(t,e,n,r)=>({set _(s){Ge(t,e,s,n)},get _(){return ie(t,e,r)}});function SD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function PS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var TS={exports:{}},Tp={},AS={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=Symbol.for("react.element"),jD=Symbol.for("react.portal"),kD=Symbol.for("react.fragment"),ID=Symbol.for("react.strict_mode"),PD=Symbol.for("react.profiler"),TD=Symbol.for("react.provider"),AD=Symbol.for("react.context"),RD=Symbol.for("react.forward_ref"),LD=Symbol.for("react.suspense"),MD=Symbol.for("react.memo"),DD=Symbol.for("react.lazy"),u1=Symbol.iterator;function OD(t){return t===null||typeof t!="object"?null:(t=u1&&t[u1]||t["@@iterator"],typeof t=="function"?t:null)}var RS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LS=Object.assign,MS={};function Zl(t,e,n){this.props=t,this.context=e,this.refs=MS,this.updater=n||RS}Zl.prototype.isReactComponent={};Zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DS(){}DS.prototype=Zl.prototype;function S0(t,e,n){this.props=t,this.context=e,this.refs=MS,this.updater=n||RS}var j0=S0.prototype=new DS;j0.constructor=S0;LS(j0,Zl.prototype);j0.isPureReactComponent=!0;var d1=Array.isArray,OS=Object.prototype.hasOwnProperty,k0={current:null},VS={key:!0,ref:!0,__self:!0,__source:!0};function FS(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)OS.call(e,r)&&!VS.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:gd,type:t,key:i,ref:a,props:s,_owner:k0.current}}function VD(t,e){return{$$typeof:gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function I0(t){return typeof t=="object"&&t!==null&&t.$$typeof===gd}function FD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var h1=/\/+/g;function Cg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FD(""+t.key):e.toString(36)}function Hh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case gd:case jD:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Cg(a,0):r,d1(s)?(n="",t!=null&&(n=t.replace(h1,"$&/")+"/"),Hh(s,e,n,"",function(u){return u})):s!=null&&(I0(s)&&(s=VD(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(h1,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",d1(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Cg(i,l);a+=Hh(i,e,n,c,s)}else if(c=OD(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Cg(i,l++),a+=Hh(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function dh(t,e,n){if(t==null)return t;var r=[],s=0;return Hh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $D(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nr={current:null},Wh={transition:null},UD={ReactCurrentDispatcher:nr,ReactCurrentBatchConfig:Wh,ReactCurrentOwner:k0};function $S(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:dh,forEach:function(t,e,n){dh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dh(t,function(){e++}),e},toArray:function(t){return dh(t,function(e){return e})||[]},only:function(t){if(!I0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};rt.Component=Zl;rt.Fragment=kD;rt.Profiler=PD;rt.PureComponent=S0;rt.StrictMode=ID;rt.Suspense=LD;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UD;rt.act=$S;rt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=LS({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=k0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)OS.call(e,c)&&!VS.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:gd,type:t.type,key:s,ref:i,props:r,_owner:a}};rt.createContext=function(t){return t={$$typeof:AD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TD,_context:t},t.Consumer=t};rt.createElement=FS;rt.createFactory=function(t){var e=FS.bind(null,t);return e.type=t,e};rt.createRef=function(){return{current:null}};rt.forwardRef=function(t){return{$$typeof:RD,render:t}};rt.isValidElement=I0;rt.lazy=function(t){return{$$typeof:DD,_payload:{_status:-1,_result:t},_init:$D}};rt.memo=function(t,e){return{$$typeof:MD,type:t,compare:e===void 0?null:e}};rt.startTransition=function(t){var e=Wh.transition;Wh.transition={};try{t()}finally{Wh.transition=e}};rt.unstable_act=$S;rt.useCallback=function(t,e){return nr.current.useCallback(t,e)};rt.useContext=function(t){return nr.current.useContext(t)};rt.useDebugValue=function(){};rt.useDeferredValue=function(t){return nr.current.useDeferredValue(t)};rt.useEffect=function(t,e){return nr.current.useEffect(t,e)};rt.useId=function(){return nr.current.useId()};rt.useImperativeHandle=function(t,e,n){return nr.current.useImperativeHandle(t,e,n)};rt.useInsertionEffect=function(t,e){return nr.current.useInsertionEffect(t,e)};rt.useLayoutEffect=function(t,e){return nr.current.useLayoutEffect(t,e)};rt.useMemo=function(t,e){return nr.current.useMemo(t,e)};rt.useReducer=function(t,e,n){return nr.current.useReducer(t,e,n)};rt.useRef=function(t){return nr.current.useRef(t)};rt.useState=function(t){return nr.current.useState(t)};rt.useSyncExternalStore=function(t,e,n){return nr.current.useSyncExternalStore(t,e,n)};rt.useTransition=function(){return nr.current.useTransition()};rt.version="18.3.1";AS.exports=rt;var d=AS.exports;const ue=PS(d),P0=SD({__proto__:null,default:ue},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zD=d,BD=Symbol.for("react.element"),HD=Symbol.for("react.fragment"),WD=Object.prototype.hasOwnProperty,qD=zD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GD={key:!0,ref:!0,__self:!0,__source:!0};function US(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)WD.call(e,r)&&!GD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:BD,type:t,key:i,ref:a,props:s,_owner:qD.current}}Tp.Fragment=HD;Tp.jsx=US;Tp.jsxs=US;TS.exports=Tp;var o=TS.exports,zS={exports:{}},Lr={},BS={exports:{}},HS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,D){var V=O.length;O.push(D);e:for(;0<V;){var U=V-1>>>1,z=O[U];if(0<s(z,D))O[U]=D,O[V]=z,V=U;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var D=O[0],V=O.pop();if(V!==D){O[0]=V;e:for(var U=0,z=O.length,Q=z>>>1;U<Q;){var se=2*(U+1)-1,W=O[se],ge=se+1,X=O[ge];if(0>s(W,V))ge<z&&0>s(X,W)?(O[U]=X,O[ge]=V,U=ge):(O[U]=W,O[se]=V,U=se);else if(ge<z&&0>s(X,V))O[U]=X,O[ge]=V,U=ge;else break e}}return D}function s(O,D){var V=O.sortIndex-D.sortIndex;return V!==0?V:O.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,p=null,m=3,g=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(O){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=O)r(u),D.sortIndex=D.expirationTime,e(c,D);else break;D=n(u)}}function I(O){if(y=!1,N(O),!v)if(n(c)!==null)v=!0,G(A);else{var D=n(u);D!==null&&te(I,D.startTime-O)}}function A(O,D){v=!1,y&&(y=!1,w(_),_=-1),g=!0;var V=m;try{for(N(D),p=n(c);p!==null&&(!(p.expirationTime>D)||O&&!k());){var U=p.callback;if(typeof U=="function"){p.callback=null,m=p.priorityLevel;var z=U(p.expirationTime<=D);D=t.unstable_now(),typeof z=="function"?p.callback=z:p===n(c)&&r(c),N(D)}else r(c);p=n(c)}if(p!==null)var Q=!0;else{var se=n(u);se!==null&&te(I,se.startTime-D),Q=!1}return Q}finally{p=null,m=V,g=!1}}var L=!1,C=null,_=-1,j=5,T=-1;function k(){return!(t.unstable_now()-T<j)}function P(){if(C!==null){var O=t.unstable_now();T=O;var D=!0;try{D=C(!0,O)}finally{D?R():(L=!1,C=null)}}else L=!1}var R;if(typeof x=="function")R=function(){x(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Z=H.port2;H.port1.onmessage=P,R=function(){Z.postMessage(null)}}else R=function(){b(P,0)};function G(O){C=O,L||(L=!0,R())}function te(O,D){_=b(function(){O(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,G(A))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var V=m;m=D;try{return O()}finally{m=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,D){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=m;m=O;try{return D()}finally{m=V}},t.unstable_scheduleCallback=function(O,D,V){var U=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?U+V:U):V=U,O){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=V+z,O={id:h++,callback:D,priorityLevel:O,startTime:V,expirationTime:z,sortIndex:-1},V>U?(O.sortIndex=V,e(u,O),n(c)===null&&O===n(u)&&(y?(w(_),_=-1):y=!0,te(I,V-U))):(O.sortIndex=z,e(c,O),v||g||(v=!0,G(A))),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var D=m;return function(){var V=m;m=D;try{return O.apply(this,arguments)}finally{m=V}}}})(HS);BS.exports=HS;var KD=BS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QD=d,Ar=KD;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WS=new Set,ju={};function Sa(t,e){Tl(t,e),Tl(t+"Capture",e)}function Tl(t,e){for(ju[t]=e,t=0;t<e.length;t++)WS.add(e[t])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jy=Object.prototype.hasOwnProperty,YD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f1={},p1={};function ZD(t){return jy.call(p1,t)?!0:jy.call(f1,t)?!1:YD.test(t)?p1[t]=!0:(f1[t]=!0,!1)}function XD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JD(t,e,n,r){if(e===null||typeof e>"u"||XD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rr(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kn[t]=new rr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kn[e]=new rr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kn[t]=new rr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kn[t]=new rr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kn[t]=new rr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kn[t]=new rr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kn[t]=new rr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kn[t]=new rr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kn[t]=new rr(t,5,!1,t.toLowerCase(),null,!1,!1)});var T0=/[\-:]([a-z])/g;function A0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(T0,A0);kn[e]=new rr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(T0,A0);kn[e]=new rr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(T0,A0);kn[e]=new rr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kn[t]=new rr(t,1,!1,t.toLowerCase(),null,!1,!1)});kn.xlinkHref=new rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kn[t]=new rr(t,1,!1,t.toLowerCase(),null,!0,!0)});function R0(t,e,n,r){var s=kn.hasOwnProperty(e)?kn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JD(e,n,s,r)&&(n=null),r||s===null?ZD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ni=QD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hh=Symbol.for("react.element"),Ka=Symbol.for("react.portal"),Qa=Symbol.for("react.fragment"),L0=Symbol.for("react.strict_mode"),ky=Symbol.for("react.profiler"),qS=Symbol.for("react.provider"),GS=Symbol.for("react.context"),M0=Symbol.for("react.forward_ref"),Iy=Symbol.for("react.suspense"),Py=Symbol.for("react.suspense_list"),D0=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),KS=Symbol.for("react.offscreen"),m1=Symbol.iterator;function Ic(t){return t===null||typeof t!="object"?null:(t=m1&&t[m1]||t["@@iterator"],typeof t=="function"?t:null)}var Wt=Object.assign,_g;function Bc(t){if(_g===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_g=e&&e[1]||""}return`
`+_g+t}var Sg=!1;function jg(t,e){if(!t||Sg)return"";Sg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Sg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bc(t):""}function eO(t){switch(t.tag){case 5:return Bc(t.type);case 16:return Bc("Lazy");case 13:return Bc("Suspense");case 19:return Bc("SuspenseList");case 0:case 2:case 15:return t=jg(t.type,!1),t;case 11:return t=jg(t.type.render,!1),t;case 1:return t=jg(t.type,!0),t;default:return""}}function Ty(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qa:return"Fragment";case Ka:return"Portal";case ky:return"Profiler";case L0:return"StrictMode";case Iy:return"Suspense";case Py:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GS:return(t.displayName||"Context")+".Consumer";case qS:return(t._context.displayName||"Context")+".Provider";case M0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D0:return e=t.displayName||null,e!==null?e:Ty(t.type)||"Memo";case Mi:e=t._payload,t=t._init;try{return Ty(t(e))}catch{}}return null}function tO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ty(e);case 8:return e===L0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nO(t){var e=QS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fh(t){t._valueTracker||(t._valueTracker=nO(t))}function YS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=QS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ay(t,e){var n=e.checked;return Wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function g1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZS(t,e){e=e.checked,e!=null&&R0(t,"checked",e,!1)}function Ry(t,e){ZS(t,e);var n=mo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ly(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ly(t,e.type,mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function y1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ly(t,e,n){(e!=="number"||yf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hc=Array.isArray;function al(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function My(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function v1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(Hc(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mo(n)}}function XS(t,e){var n=mo(e.value),r=mo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function x1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ph,ej=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ph=ph||document.createElement("div"),ph.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ph.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ku(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rO=["Webkit","ms","Moz","O"];Object.keys(au).forEach(function(t){rO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),au[e]=au[t]})});function tj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||au.hasOwnProperty(t)&&au[t]?(""+e).trim():e+"px"}function nj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=tj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var sO=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oy(t,e){if(e){if(sO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function Vy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fy=null;function O0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $y=null,ll=null,cl=null;function w1(t){if(t=xd(t)){if(typeof $y!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=Dp(e),$y(t.stateNode,t.type,e))}}function rj(t){ll?cl?cl.push(t):cl=[t]:ll=t}function sj(){if(ll){var t=ll,e=cl;if(cl=ll=null,w1(t),e)for(t=0;t<e.length;t++)w1(e[t])}}function ij(t,e){return t(e)}function oj(){}var kg=!1;function aj(t,e,n){if(kg)return t(e,n);kg=!0;try{return ij(t,e,n)}finally{kg=!1,(ll!==null||cl!==null)&&(oj(),sj())}}function Iu(t,e){var n=t.stateNode;if(n===null)return null;var r=Dp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var Uy=!1;if(hi)try{var Pc={};Object.defineProperty(Pc,"passive",{get:function(){Uy=!0}}),window.addEventListener("test",Pc,Pc),window.removeEventListener("test",Pc,Pc)}catch{Uy=!1}function iO(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var lu=!1,vf=null,xf=!1,zy=null,oO={onError:function(t){lu=!0,vf=t}};function aO(t,e,n,r,s,i,a,l,c){lu=!1,vf=null,iO.apply(oO,arguments)}function lO(t,e,n,r,s,i,a,l,c){if(aO.apply(this,arguments),lu){if(lu){var u=vf;lu=!1,vf=null}else throw Error(fe(198));xf||(xf=!0,zy=u)}}function ja(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b1(t){if(ja(t)!==t)throw Error(fe(188))}function cO(t){var e=t.alternate;if(!e){if(e=ja(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return b1(s),t;if(i===r)return b1(s),e;i=i.sibling}throw Error(fe(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function cj(t){return t=cO(t),t!==null?uj(t):null}function uj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uj(t);if(e!==null)return e;t=t.sibling}return null}var dj=Ar.unstable_scheduleCallback,E1=Ar.unstable_cancelCallback,uO=Ar.unstable_shouldYield,dO=Ar.unstable_requestPaint,nn=Ar.unstable_now,hO=Ar.unstable_getCurrentPriorityLevel,V0=Ar.unstable_ImmediatePriority,hj=Ar.unstable_UserBlockingPriority,wf=Ar.unstable_NormalPriority,fO=Ar.unstable_LowPriority,fj=Ar.unstable_IdlePriority,Ap=null,Ds=null;function pO(t){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(Ap,t,void 0,(t.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:yO,mO=Math.log,gO=Math.LN2;function yO(t){return t>>>=0,t===0?32:31-(mO(t)/gO|0)|0}var mh=64,gh=4194304;function Wc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Wc(l):(i&=a,i!==0&&(r=Wc(i)))}else a=n&~s,a!==0?r=Wc(a):i!==0&&(r=Wc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fs(e),s=1<<n,r|=t[n],e&=~s;return r}function vO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-fs(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=vO(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function By(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pj(){var t=mh;return mh<<=1,!(mh&4194240)&&(mh=64),t}function Ig(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fs(e),t[e]=n}function wO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function F0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Et=0;function mj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gj,$0,yj,vj,xj,Hy=!1,yh=[],to=null,no=null,ro=null,Pu=new Map,Tu=new Map,Vi=[],bO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N1(t,e){switch(t){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":Pu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(e.pointerId)}}function Tc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=xd(e),e!==null&&$0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function EO(t,e,n,r,s){switch(e){case"focusin":return to=Tc(to,t,e,n,r,s),!0;case"dragenter":return no=Tc(no,t,e,n,r,s),!0;case"mouseover":return ro=Tc(ro,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pu.set(i,Tc(Pu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Tu.set(i,Tc(Tu.get(i)||null,t,e,n,r,s)),!0}return!1}function wj(t){var e=Wo(t.target);if(e!==null){var n=ja(e);if(n!==null){if(e=n.tag,e===13){if(e=lj(n),e!==null){t.blockedOn=e,xj(t.priority,function(){yj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fy=r,n.target.dispatchEvent(r),Fy=null}else return e=xd(n),e!==null&&$0(e),t.blockedOn=n,!1;e.shift()}return!0}function C1(t,e,n){qh(t)&&n.delete(e)}function NO(){Hy=!1,to!==null&&qh(to)&&(to=null),no!==null&&qh(no)&&(no=null),ro!==null&&qh(ro)&&(ro=null),Pu.forEach(C1),Tu.forEach(C1)}function Ac(t,e){t.blockedOn===e&&(t.blockedOn=null,Hy||(Hy=!0,Ar.unstable_scheduleCallback(Ar.unstable_NormalPriority,NO)))}function Au(t){function e(s){return Ac(s,t)}if(0<yh.length){Ac(yh[0],t);for(var n=1;n<yh.length;n++){var r=yh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(to!==null&&Ac(to,t),no!==null&&Ac(no,t),ro!==null&&Ac(ro,t),Pu.forEach(e),Tu.forEach(e),n=0;n<Vi.length;n++)r=Vi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vi.length&&(n=Vi[0],n.blockedOn===null);)wj(n),n.blockedOn===null&&Vi.shift()}var ul=Ni.ReactCurrentBatchConfig,Ef=!0;function CO(t,e,n,r){var s=Et,i=ul.transition;ul.transition=null;try{Et=1,U0(t,e,n,r)}finally{Et=s,ul.transition=i}}function _O(t,e,n,r){var s=Et,i=ul.transition;ul.transition=null;try{Et=4,U0(t,e,n,r)}finally{Et=s,ul.transition=i}}function U0(t,e,n,r){if(Ef){var s=Wy(t,e,n,r);if(s===null)Fg(t,e,r,Nf,n),N1(t,r);else if(EO(s,t,e,n,r))r.stopPropagation();else if(N1(t,r),e&4&&-1<bO.indexOf(t)){for(;s!==null;){var i=xd(s);if(i!==null&&gj(i),i=Wy(t,e,n,r),i===null&&Fg(t,e,r,Nf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Fg(t,e,r,null,n)}}var Nf=null;function Wy(t,e,n,r){if(Nf=null,t=O0(r),t=Wo(t),t!==null)if(e=ja(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lj(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nf=t,null}function bj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hO()){case V0:return 1;case hj:return 4;case wf:case fO:return 16;case fj:return 536870912;default:return 16}default:return 16}}var Ki=null,z0=null,Gh=null;function Ej(){if(Gh)return Gh;var t,e=z0,n=e.length,r,s="value"in Ki?Ki.value:Ki.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Gh=s.slice(t,1<r?1-r:void 0)}function Kh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vh(){return!0}function _1(){return!1}function Mr(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vh:_1,this.isPropagationStopped=_1,this}return Wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),e}var Xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B0=Mr(Xl),vd=Wt({},Xl,{view:0,detail:0}),SO=Mr(vd),Pg,Tg,Rc,Rp=Wt({},vd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rc&&(Rc&&t.type==="mousemove"?(Pg=t.screenX-Rc.screenX,Tg=t.screenY-Rc.screenY):Tg=Pg=0,Rc=t),Pg)},movementY:function(t){return"movementY"in t?t.movementY:Tg}}),S1=Mr(Rp),jO=Wt({},Rp,{dataTransfer:0}),kO=Mr(jO),IO=Wt({},vd,{relatedTarget:0}),Ag=Mr(IO),PO=Wt({},Xl,{animationName:0,elapsedTime:0,pseudoElement:0}),TO=Mr(PO),AO=Wt({},Xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RO=Mr(AO),LO=Wt({},Xl,{data:0}),j1=Mr(LO),MO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OO[t])?!!e[t]:!1}function H0(){return VO}var FO=Wt({},vd,{key:function(t){if(t.key){var e=MO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H0,charCode:function(t){return t.type==="keypress"?Kh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$O=Mr(FO),UO=Wt({},Rp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k1=Mr(UO),zO=Wt({},vd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H0}),BO=Mr(zO),HO=Wt({},Xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),WO=Mr(HO),qO=Wt({},Rp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GO=Mr(qO),KO=[9,13,27,32],W0=hi&&"CompositionEvent"in window,cu=null;hi&&"documentMode"in document&&(cu=document.documentMode);var QO=hi&&"TextEvent"in window&&!cu,Nj=hi&&(!W0||cu&&8<cu&&11>=cu),I1=" ",P1=!1;function Cj(t,e){switch(t){case"keyup":return KO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _j(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ya=!1;function YO(t,e){switch(t){case"compositionend":return _j(e);case"keypress":return e.which!==32?null:(P1=!0,I1);case"textInput":return t=e.data,t===I1&&P1?null:t;default:return null}}function ZO(t,e){if(Ya)return t==="compositionend"||!W0&&Cj(t,e)?(t=Ej(),Gh=z0=Ki=null,Ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nj&&e.locale!=="ko"?null:e.data;default:return null}}var XO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XO[t.type]:e==="textarea"}function Sj(t,e,n,r){rj(r),e=Cf(e,"onChange"),0<e.length&&(n=new B0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uu=null,Ru=null;function JO(t){Oj(t,0)}function Lp(t){var e=Ja(t);if(YS(e))return t}function e4(t,e){if(t==="change")return e}var jj=!1;if(hi){var Rg;if(hi){var Lg="oninput"in document;if(!Lg){var A1=document.createElement("div");A1.setAttribute("oninput","return;"),Lg=typeof A1.oninput=="function"}Rg=Lg}else Rg=!1;jj=Rg&&(!document.documentMode||9<document.documentMode)}function R1(){uu&&(uu.detachEvent("onpropertychange",kj),Ru=uu=null)}function kj(t){if(t.propertyName==="value"&&Lp(Ru)){var e=[];Sj(e,Ru,t,O0(t)),aj(JO,e)}}function t4(t,e,n){t==="focusin"?(R1(),uu=e,Ru=n,uu.attachEvent("onpropertychange",kj)):t==="focusout"&&R1()}function n4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lp(Ru)}function r4(t,e){if(t==="click")return Lp(e)}function s4(t,e){if(t==="input"||t==="change")return Lp(e)}function i4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gs=typeof Object.is=="function"?Object.is:i4;function Lu(t,e){if(gs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jy.call(e,s)||!gs(t[s],e[s]))return!1}return!0}function L1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function M1(t,e){var n=L1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=L1(n)}}function Ij(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ij(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Pj(){for(var t=window,e=yf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yf(t.document)}return e}function q0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function o4(t){var e=Pj(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ij(n.ownerDocument.documentElement,n)){if(r!==null&&q0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=M1(n,i);var a=M1(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var a4=hi&&"documentMode"in document&&11>=document.documentMode,Za=null,qy=null,du=null,Gy=!1;function D1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gy||Za==null||Za!==yf(r)||(r=Za,"selectionStart"in r&&q0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),du&&Lu(du,r)||(du=r,r=Cf(qy,"onSelect"),0<r.length&&(e=new B0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Za)))}function xh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xa={animationend:xh("Animation","AnimationEnd"),animationiteration:xh("Animation","AnimationIteration"),animationstart:xh("Animation","AnimationStart"),transitionend:xh("Transition","TransitionEnd")},Mg={},Tj={};hi&&(Tj=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Mp(t){if(Mg[t])return Mg[t];if(!Xa[t])return t;var e=Xa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tj)return Mg[t]=e[n];return t}var Aj=Mp("animationend"),Rj=Mp("animationiteration"),Lj=Mp("animationstart"),Mj=Mp("transitionend"),Dj=new Map,O1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function So(t,e){Dj.set(t,e),Sa(e,[t])}for(var Dg=0;Dg<O1.length;Dg++){var Og=O1[Dg],l4=Og.toLowerCase(),c4=Og[0].toUpperCase()+Og.slice(1);So(l4,"on"+c4)}So(Aj,"onAnimationEnd");So(Rj,"onAnimationIteration");So(Lj,"onAnimationStart");So("dblclick","onDoubleClick");So("focusin","onFocus");So("focusout","onBlur");So(Mj,"onTransitionEnd");Tl("onMouseEnter",["mouseout","mouseover"]);Tl("onMouseLeave",["mouseout","mouseover"]);Tl("onPointerEnter",["pointerout","pointerover"]);Tl("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u4=new Set("cancel close invalid load scroll toggle".split(" ").concat(qc));function V1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lO(r,e,void 0,t),t.currentTarget=null}function Oj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;V1(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;V1(s,l,u),i=c}}}if(xf)throw t=zy,xf=!1,zy=null,t}function Dt(t,e){var n=e[Xy];n===void 0&&(n=e[Xy]=new Set);var r=t+"__bubble";n.has(r)||(Vj(e,t,2,!1),n.add(r))}function Vg(t,e,n){var r=0;e&&(r|=4),Vj(n,t,r,e)}var wh="_reactListening"+Math.random().toString(36).slice(2);function Mu(t){if(!t[wh]){t[wh]=!0,WS.forEach(function(n){n!=="selectionchange"&&(u4.has(n)||Vg(n,!1,t),Vg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wh]||(e[wh]=!0,Vg("selectionchange",!1,e))}}function Vj(t,e,n,r){switch(bj(e)){case 1:var s=CO;break;case 4:s=_O;break;default:s=U0}n=s.bind(null,e,n,t),s=void 0,!Uy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Fg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Wo(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}aj(function(){var u=i,h=O0(n),p=[];e:{var m=Dj.get(t);if(m!==void 0){var g=B0,v=t;switch(t){case"keypress":if(Kh(n)===0)break e;case"keydown":case"keyup":g=$O;break;case"focusin":v="focus",g=Ag;break;case"focusout":v="blur",g=Ag;break;case"beforeblur":case"afterblur":g=Ag;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=S1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=kO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=BO;break;case Aj:case Rj:case Lj:g=TO;break;case Mj:g=WO;break;case"scroll":g=SO;break;case"wheel":g=GO;break;case"copy":case"cut":case"paste":g=RO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=k1}var y=(e&4)!==0,b=!y&&t==="scroll",w=y?m!==null?m+"Capture":null:m;y=[];for(var x=u,N;x!==null;){N=x;var I=N.stateNode;if(N.tag===5&&I!==null&&(N=I,w!==null&&(I=Iu(x,w),I!=null&&y.push(Du(x,I,N)))),b)break;x=x.return}0<y.length&&(m=new g(m,v,null,n,h),p.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Fy&&(v=n.relatedTarget||n.fromElement)&&(Wo(v)||v[fi]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Wo(v):null,v!==null&&(b=ja(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=S1,I="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=k1,I="onPointerLeave",w="onPointerEnter",x="pointer"),b=g==null?m:Ja(g),N=v==null?m:Ja(v),m=new y(I,x+"leave",g,n,h),m.target=b,m.relatedTarget=N,I=null,Wo(h)===u&&(y=new y(w,x+"enter",v,n,h),y.target=N,y.relatedTarget=b,I=y),b=I,g&&v)t:{for(y=g,w=v,x=0,N=y;N;N=$a(N))x++;for(N=0,I=w;I;I=$a(I))N++;for(;0<x-N;)y=$a(y),x--;for(;0<N-x;)w=$a(w),N--;for(;x--;){if(y===w||w!==null&&y===w.alternate)break t;y=$a(y),w=$a(w)}y=null}else y=null;g!==null&&F1(p,m,g,y,!1),v!==null&&b!==null&&F1(p,b,v,y,!0)}}e:{if(m=u?Ja(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var A=e4;else if(T1(m))if(jj)A=s4;else{A=n4;var L=t4}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=r4);if(A&&(A=A(t,u))){Sj(p,A,n,h);break e}L&&L(t,m,u),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&Ly(m,"number",m.value)}switch(L=u?Ja(u):window,t){case"focusin":(T1(L)||L.contentEditable==="true")&&(Za=L,qy=u,du=null);break;case"focusout":du=qy=Za=null;break;case"mousedown":Gy=!0;break;case"contextmenu":case"mouseup":case"dragend":Gy=!1,D1(p,n,h);break;case"selectionchange":if(a4)break;case"keydown":case"keyup":D1(p,n,h)}var C;if(W0)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ya?Cj(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Nj&&n.locale!=="ko"&&(Ya||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ya&&(C=Ej()):(Ki=h,z0="value"in Ki?Ki.value:Ki.textContent,Ya=!0)),L=Cf(u,_),0<L.length&&(_=new j1(_,t,null,n,h),p.push({event:_,listeners:L}),C?_.data=C:(C=_j(n),C!==null&&(_.data=C)))),(C=QO?YO(t,n):ZO(t,n))&&(u=Cf(u,"onBeforeInput"),0<u.length&&(h=new j1("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=C))}Oj(p,e)})}function Du(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Iu(t,n),i!=null&&r.unshift(Du(t,i,s)),i=Iu(t,e),i!=null&&r.push(Du(t,i,s))),t=t.return}return r}function $a(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F1(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Iu(n,i),c!=null&&a.unshift(Du(n,c,l))):s||(c=Iu(n,i),c!=null&&a.push(Du(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var d4=/\r\n?/g,h4=/\u0000|\uFFFD/g;function $1(t){return(typeof t=="string"?t:""+t).replace(d4,`
`).replace(h4,"")}function bh(t,e,n){if(e=$1(e),$1(t)!==e&&n)throw Error(fe(425))}function _f(){}var Ky=null,Qy=null;function Yy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zy=typeof setTimeout=="function"?setTimeout:void 0,f4=typeof clearTimeout=="function"?clearTimeout:void 0,U1=typeof Promise=="function"?Promise:void 0,p4=typeof queueMicrotask=="function"?queueMicrotask:typeof U1<"u"?function(t){return U1.resolve(null).then(t).catch(m4)}:Zy;function m4(t){setTimeout(function(){throw t})}function $g(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Au(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Au(e)}function so(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function z1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jl=Math.random().toString(36).slice(2),Ps="__reactFiber$"+Jl,Ou="__reactProps$"+Jl,fi="__reactContainer$"+Jl,Xy="__reactEvents$"+Jl,g4="__reactListeners$"+Jl,y4="__reactHandles$"+Jl;function Wo(t){var e=t[Ps];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[Ps]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=z1(t);t!==null;){if(n=t[Ps])return n;t=z1(t)}return e}t=n,n=t.parentNode}return null}function xd(t){return t=t[Ps]||t[fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ja(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function Dp(t){return t[Ou]||null}var Jy=[],el=-1;function jo(t){return{current:t}}function Vt(t){0>el||(t.current=Jy[el],Jy[el]=null,el--)}function Pt(t,e){el++,Jy[el]=t.current,t.current=e}var go={},qn=jo(go),fr=jo(!1),la=go;function Al(t,e){var n=t.type.contextTypes;if(!n)return go;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pr(t){return t=t.childContextTypes,t!=null}function Sf(){Vt(fr),Vt(qn)}function B1(t,e,n){if(qn.current!==go)throw Error(fe(168));Pt(qn,e),Pt(fr,n)}function Fj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(fe(108,tO(t)||"Unknown",s));return Wt({},n,r)}function jf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||go,la=qn.current,Pt(qn,t),Pt(fr,fr.current),!0}function H1(t,e,n){var r=t.stateNode;if(!r)throw Error(fe(169));n?(t=Fj(t,e,la),r.__reactInternalMemoizedMergedChildContext=t,Vt(fr),Vt(qn),Pt(qn,t)):Vt(fr),Pt(fr,n)}var ei=null,Op=!1,Ug=!1;function $j(t){ei===null?ei=[t]:ei.push(t)}function v4(t){Op=!0,$j(t)}function ko(){if(!Ug&&ei!==null){Ug=!0;var t=0,e=Et;try{var n=ei;for(Et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ei=null,Op=!1}catch(s){throw ei!==null&&(ei=ei.slice(t+1)),dj(V0,ko),s}finally{Et=e,Ug=!1}}return null}var tl=[],nl=0,kf=null,If=0,Fr=[],$r=0,ca=null,ri=1,si="";function Uo(t,e){tl[nl++]=If,tl[nl++]=kf,kf=t,If=e}function Uj(t,e,n){Fr[$r++]=ri,Fr[$r++]=si,Fr[$r++]=ca,ca=t;var r=ri;t=si;var s=32-fs(r)-1;r&=~(1<<s),n+=1;var i=32-fs(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ri=1<<32-fs(e)+s|n<<s|r,si=i+t}else ri=1<<i|n<<s|r,si=t}function G0(t){t.return!==null&&(Uo(t,1),Uj(t,1,0))}function K0(t){for(;t===kf;)kf=tl[--nl],tl[nl]=null,If=tl[--nl],tl[nl]=null;for(;t===ca;)ca=Fr[--$r],Fr[$r]=null,si=Fr[--$r],Fr[$r]=null,ri=Fr[--$r],Fr[$r]=null}var Ir=null,jr=null,Ut=!1,os=null;function zj(t,e){var n=Ur(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function W1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ir=t,jr=so(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ir=t,jr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ca!==null?{id:ri,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ur(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ir=t,jr=null,!0):!1;default:return!1}}function ev(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tv(t){if(Ut){var e=jr;if(e){var n=e;if(!W1(t,e)){if(ev(t))throw Error(fe(418));e=so(n.nextSibling);var r=Ir;e&&W1(t,e)?zj(r,n):(t.flags=t.flags&-4097|2,Ut=!1,Ir=t)}}else{if(ev(t))throw Error(fe(418));t.flags=t.flags&-4097|2,Ut=!1,Ir=t}}}function q1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ir=t}function Eh(t){if(t!==Ir)return!1;if(!Ut)return q1(t),Ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yy(t.type,t.memoizedProps)),e&&(e=jr)){if(ev(t))throw Bj(),Error(fe(418));for(;e;)zj(t,e),e=so(e.nextSibling)}if(q1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jr=so(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jr=null}}else jr=Ir?so(t.stateNode.nextSibling):null;return!0}function Bj(){for(var t=jr;t;)t=so(t.nextSibling)}function Rl(){jr=Ir=null,Ut=!1}function Q0(t){os===null?os=[t]:os.push(t)}var x4=Ni.ReactCurrentBatchConfig;function Lc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function Nh(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function G1(t){var e=t._init;return e(t._payload)}function Hj(t){function e(w,x){if(t){var N=w.deletions;N===null?(w.deletions=[x],w.flags|=16):N.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=lo(w,x),w.index=0,w.sibling=null,w}function i(w,x,N){return w.index=N,t?(N=w.alternate,N!==null?(N=N.index,N<x?(w.flags|=2,x):N):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,x,N,I){return x===null||x.tag!==6?(x=Kg(N,w.mode,I),x.return=w,x):(x=s(x,N),x.return=w,x)}function c(w,x,N,I){var A=N.type;return A===Qa?h(w,x,N.props.children,I,N.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Mi&&G1(A)===x.type)?(I=s(x,N.props),I.ref=Lc(w,x,N),I.return=w,I):(I=tf(N.type,N.key,N.props,null,w.mode,I),I.ref=Lc(w,x,N),I.return=w,I)}function u(w,x,N,I){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=Qg(N,w.mode,I),x.return=w,x):(x=s(x,N.children||[]),x.return=w,x)}function h(w,x,N,I,A){return x===null||x.tag!==7?(x=ra(N,w.mode,I,A),x.return=w,x):(x=s(x,N),x.return=w,x)}function p(w,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Kg(""+x,w.mode,N),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hh:return N=tf(x.type,x.key,x.props,null,w.mode,N),N.ref=Lc(w,null,x),N.return=w,N;case Ka:return x=Qg(x,w.mode,N),x.return=w,x;case Mi:var I=x._init;return p(w,I(x._payload),N)}if(Hc(x)||Ic(x))return x=ra(x,w.mode,N,null),x.return=w,x;Nh(w,x)}return null}function m(w,x,N,I){var A=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return A!==null?null:l(w,x,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case hh:return N.key===A?c(w,x,N,I):null;case Ka:return N.key===A?u(w,x,N,I):null;case Mi:return A=N._init,m(w,x,A(N._payload),I)}if(Hc(N)||Ic(N))return A!==null?null:h(w,x,N,I,null);Nh(w,N)}return null}function g(w,x,N,I,A){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(N)||null,l(x,w,""+I,A);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case hh:return w=w.get(I.key===null?N:I.key)||null,c(x,w,I,A);case Ka:return w=w.get(I.key===null?N:I.key)||null,u(x,w,I,A);case Mi:var L=I._init;return g(w,x,N,L(I._payload),A)}if(Hc(I)||Ic(I))return w=w.get(N)||null,h(x,w,I,A,null);Nh(x,I)}return null}function v(w,x,N,I){for(var A=null,L=null,C=x,_=x=0,j=null;C!==null&&_<N.length;_++){C.index>_?(j=C,C=null):j=C.sibling;var T=m(w,C,N[_],I);if(T===null){C===null&&(C=j);break}t&&C&&T.alternate===null&&e(w,C),x=i(T,x,_),L===null?A=T:L.sibling=T,L=T,C=j}if(_===N.length)return n(w,C),Ut&&Uo(w,_),A;if(C===null){for(;_<N.length;_++)C=p(w,N[_],I),C!==null&&(x=i(C,x,_),L===null?A=C:L.sibling=C,L=C);return Ut&&Uo(w,_),A}for(C=r(w,C);_<N.length;_++)j=g(C,w,_,N[_],I),j!==null&&(t&&j.alternate!==null&&C.delete(j.key===null?_:j.key),x=i(j,x,_),L===null?A=j:L.sibling=j,L=j);return t&&C.forEach(function(k){return e(w,k)}),Ut&&Uo(w,_),A}function y(w,x,N,I){var A=Ic(N);if(typeof A!="function")throw Error(fe(150));if(N=A.call(N),N==null)throw Error(fe(151));for(var L=A=null,C=x,_=x=0,j=null,T=N.next();C!==null&&!T.done;_++,T=N.next()){C.index>_?(j=C,C=null):j=C.sibling;var k=m(w,C,T.value,I);if(k===null){C===null&&(C=j);break}t&&C&&k.alternate===null&&e(w,C),x=i(k,x,_),L===null?A=k:L.sibling=k,L=k,C=j}if(T.done)return n(w,C),Ut&&Uo(w,_),A;if(C===null){for(;!T.done;_++,T=N.next())T=p(w,T.value,I),T!==null&&(x=i(T,x,_),L===null?A=T:L.sibling=T,L=T);return Ut&&Uo(w,_),A}for(C=r(w,C);!T.done;_++,T=N.next())T=g(C,w,_,T.value,I),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?_:T.key),x=i(T,x,_),L===null?A=T:L.sibling=T,L=T);return t&&C.forEach(function(P){return e(w,P)}),Ut&&Uo(w,_),A}function b(w,x,N,I){if(typeof N=="object"&&N!==null&&N.type===Qa&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case hh:e:{for(var A=N.key,L=x;L!==null;){if(L.key===A){if(A=N.type,A===Qa){if(L.tag===7){n(w,L.sibling),x=s(L,N.props.children),x.return=w,w=x;break e}}else if(L.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Mi&&G1(A)===L.type){n(w,L.sibling),x=s(L,N.props),x.ref=Lc(w,L,N),x.return=w,w=x;break e}n(w,L);break}else e(w,L);L=L.sibling}N.type===Qa?(x=ra(N.props.children,w.mode,I,N.key),x.return=w,w=x):(I=tf(N.type,N.key,N.props,null,w.mode,I),I.ref=Lc(w,x,N),I.return=w,w=I)}return a(w);case Ka:e:{for(L=N.key;x!==null;){if(x.key===L)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){n(w,x.sibling),x=s(x,N.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=Qg(N,w.mode,I),x.return=w,w=x}return a(w);case Mi:return L=N._init,b(w,x,L(N._payload),I)}if(Hc(N))return v(w,x,N,I);if(Ic(N))return y(w,x,N,I);Nh(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(n(w,x.sibling),x=s(x,N),x.return=w,w=x):(n(w,x),x=Kg(N,w.mode,I),x.return=w,w=x),a(w)):n(w,x)}return b}var Ll=Hj(!0),Wj=Hj(!1),Pf=jo(null),Tf=null,rl=null,Y0=null;function Z0(){Y0=rl=Tf=null}function X0(t){var e=Pf.current;Vt(Pf),t._currentValue=e}function nv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dl(t,e){Tf=t,Y0=rl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function Wr(t){var e=t._currentValue;if(Y0!==t)if(t={context:t,memoizedValue:e,next:null},rl===null){if(Tf===null)throw Error(fe(308));rl=t,Tf.dependencies={lanes:0,firstContext:t}}else rl=rl.next=t;return e}var qo=null;function J0(t){qo===null?qo=[t]:qo.push(t)}function qj(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,J0(e)):(n.next=s.next,s.next=n),e.interleaved=n,pi(t,r)}function pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Di=!1;function ex(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ci(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function io(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ft&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,pi(t,n)}return s=r.interleaved,s===null?(e.next=e,J0(r)):(e.next=s.next,s.next=e),r.interleaved=e,pi(t,n)}function Qh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,F0(t,n)}}function K1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Af(t,e,n,r){var s=t.updateQueue;Di=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(m=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){p=v.call(g,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,m=typeof v=="function"?v.call(g,p,m):v,m==null)break e;p=Wt({},p,m);break e;case 2:Di=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=p):h=h.next=g,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);da|=a,t.lanes=a,t.memoizedState=p}}function Q1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(fe(191,s));s.call(r)}}}var wd={},Os=jo(wd),Vu=jo(wd),Fu=jo(wd);function Go(t){if(t===wd)throw Error(fe(174));return t}function tx(t,e){switch(Pt(Fu,e),Pt(Vu,t),Pt(Os,wd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dy(e,t)}Vt(Os),Pt(Os,e)}function Ml(){Vt(Os),Vt(Vu),Vt(Fu)}function Kj(t){Go(Fu.current);var e=Go(Os.current),n=Dy(e,t.type);e!==n&&(Pt(Vu,t),Pt(Os,n))}function nx(t){Vu.current===t&&(Vt(Os),Vt(Vu))}var zt=jo(0);function Rf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zg=[];function rx(){for(var t=0;t<zg.length;t++)zg[t]._workInProgressVersionPrimary=null;zg.length=0}var Yh=Ni.ReactCurrentDispatcher,Bg=Ni.ReactCurrentBatchConfig,ua=0,Ht=null,dn=null,wn=null,Lf=!1,hu=!1,$u=0,w4=0;function On(){throw Error(fe(321))}function sx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gs(t[n],e[n]))return!1;return!0}function ix(t,e,n,r,s,i){if(ua=i,Ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yh.current=t===null||t.memoizedState===null?C4:_4,t=n(r,s),hu){i=0;do{if(hu=!1,$u=0,25<=i)throw Error(fe(301));i+=1,wn=dn=null,e.updateQueue=null,Yh.current=S4,t=n(r,s)}while(hu)}if(Yh.current=Mf,e=dn!==null&&dn.next!==null,ua=0,wn=dn=Ht=null,Lf=!1,e)throw Error(fe(300));return t}function ox(){var t=$u!==0;return $u=0,t}function Cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Ht.memoizedState=wn=t:wn=wn.next=t,wn}function qr(){if(dn===null){var t=Ht.alternate;t=t!==null?t.memoizedState:null}else t=dn.next;var e=wn===null?Ht.memoizedState:wn.next;if(e!==null)wn=e,dn=t;else{if(t===null)throw Error(fe(310));dn=t,t={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},wn===null?Ht.memoizedState=wn=t:wn=wn.next=t}return wn}function Uu(t,e){return typeof e=="function"?e(t):e}function Hg(t){var e=qr(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=dn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((ua&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,a=r):c=c.next=p,Ht.lanes|=h,da|=h}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,gs(r,e.memoizedState)||(dr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ht.lanes|=i,da|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wg(t){var e=qr(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);gs(i,e.memoizedState)||(dr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Qj(){}function Yj(t,e){var n=Ht,r=qr(),s=e(),i=!gs(r.memoizedState,s);if(i&&(r.memoizedState=s,dr=!0),r=r.queue,ax(Jj.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||wn!==null&&wn.memoizedState.tag&1){if(n.flags|=2048,zu(9,Xj.bind(null,n,r,s,e),void 0,null),bn===null)throw Error(fe(349));ua&30||Zj(n,e,s)}return s}function Zj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xj(t,e,n,r){e.value=n,e.getSnapshot=r,ek(e)&&tk(t)}function Jj(t,e,n){return n(function(){ek(e)&&tk(t)})}function ek(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gs(t,n)}catch{return!0}}function tk(t){var e=pi(t,1);e!==null&&ps(e,t,1,-1)}function Y1(t){var e=Cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:t},e.queue=t,t=t.dispatch=N4.bind(null,Ht,t),[e.memoizedState,t]}function zu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nk(){return qr().memoizedState}function Zh(t,e,n,r){var s=Cs();Ht.flags|=t,s.memoizedState=zu(1|e,n,void 0,r===void 0?null:r)}function Vp(t,e,n,r){var s=qr();r=r===void 0?null:r;var i=void 0;if(dn!==null){var a=dn.memoizedState;if(i=a.destroy,r!==null&&sx(r,a.deps)){s.memoizedState=zu(e,n,i,r);return}}Ht.flags|=t,s.memoizedState=zu(1|e,n,i,r)}function Z1(t,e){return Zh(8390656,8,t,e)}function ax(t,e){return Vp(2048,8,t,e)}function rk(t,e){return Vp(4,2,t,e)}function sk(t,e){return Vp(4,4,t,e)}function ik(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ok(t,e,n){return n=n!=null?n.concat([t]):null,Vp(4,4,ik.bind(null,e,t),n)}function lx(){}function ak(t,e){var n=qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lk(t,e){var n=qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ck(t,e,n){return ua&21?(gs(n,e)||(n=pj(),Ht.lanes|=n,da|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=n)}function b4(t,e){var n=Et;Et=n!==0&&4>n?n:4,t(!0);var r=Bg.transition;Bg.transition={};try{t(!1),e()}finally{Et=n,Bg.transition=r}}function uk(){return qr().memoizedState}function E4(t,e,n){var r=ao(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dk(t))hk(e,n);else if(n=qj(t,e,n,r),n!==null){var s=Jn();ps(n,t,r,s),fk(n,e,r)}}function N4(t,e,n){var r=ao(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dk(t))hk(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,gs(l,a)){var c=e.interleaved;c===null?(s.next=s,J0(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=qj(t,e,s,r),n!==null&&(s=Jn(),ps(n,t,r,s),fk(n,e,r))}}function dk(t){var e=t.alternate;return t===Ht||e!==null&&e===Ht}function hk(t,e){hu=Lf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,F0(t,n)}}var Mf={readContext:Wr,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},C4={readContext:Wr,useCallback:function(t,e){return Cs().memoizedState=[t,e===void 0?null:e],t},useContext:Wr,useEffect:Z1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zh(4194308,4,ik.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zh(4,2,t,e)},useMemo:function(t,e){var n=Cs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=E4.bind(null,Ht,t),[r.memoizedState,t]},useRef:function(t){var e=Cs();return t={current:t},e.memoizedState=t},useState:Y1,useDebugValue:lx,useDeferredValue:function(t){return Cs().memoizedState=t},useTransition:function(){var t=Y1(!1),e=t[0];return t=b4.bind(null,t[1]),Cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ht,s=Cs();if(Ut){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),bn===null)throw Error(fe(349));ua&30||Zj(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Z1(Jj.bind(null,r,i,t),[t]),r.flags|=2048,zu(9,Xj.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Cs(),e=bn.identifierPrefix;if(Ut){var n=si,r=ri;n=(r&~(1<<32-fs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$u++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=w4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_4={readContext:Wr,useCallback:ak,useContext:Wr,useEffect:ax,useImperativeHandle:ok,useInsertionEffect:rk,useLayoutEffect:sk,useMemo:lk,useReducer:Hg,useRef:nk,useState:function(){return Hg(Uu)},useDebugValue:lx,useDeferredValue:function(t){var e=qr();return ck(e,dn.memoizedState,t)},useTransition:function(){var t=Hg(Uu)[0],e=qr().memoizedState;return[t,e]},useMutableSource:Qj,useSyncExternalStore:Yj,useId:uk,unstable_isNewReconciler:!1},S4={readContext:Wr,useCallback:ak,useContext:Wr,useEffect:ax,useImperativeHandle:ok,useInsertionEffect:rk,useLayoutEffect:sk,useMemo:lk,useReducer:Wg,useRef:nk,useState:function(){return Wg(Uu)},useDebugValue:lx,useDeferredValue:function(t){var e=qr();return dn===null?e.memoizedState=t:ck(e,dn.memoizedState,t)},useTransition:function(){var t=Wg(Uu)[0],e=qr().memoizedState;return[t,e]},useMutableSource:Qj,useSyncExternalStore:Yj,useId:uk,unstable_isNewReconciler:!1};function ts(t,e){if(t&&t.defaultProps){e=Wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fp={isMounted:function(t){return(t=t._reactInternals)?ja(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jn(),s=ao(t),i=ci(r,s);i.payload=e,n!=null&&(i.callback=n),e=io(t,i,s),e!==null&&(ps(e,t,s,r),Qh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jn(),s=ao(t),i=ci(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=io(t,i,s),e!==null&&(ps(e,t,s,r),Qh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jn(),r=ao(t),s=ci(n,r);s.tag=2,e!=null&&(s.callback=e),e=io(t,s,r),e!==null&&(ps(e,t,r,n),Qh(e,t,r))}};function X1(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Lu(n,r)||!Lu(s,i):!0}function pk(t,e,n){var r=!1,s=go,i=e.contextType;return typeof i=="object"&&i!==null?i=Wr(i):(s=pr(e)?la:qn.current,r=e.contextTypes,i=(r=r!=null)?Al(t,s):go),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function J1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fp.enqueueReplaceState(e,e.state,null)}function sv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ex(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Wr(i):(i=pr(e)?la:qn.current,s.context=Al(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(rv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fp.enqueueReplaceState(s,s.state,null),Af(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Dl(t,e){try{var n="",r=e;do n+=eO(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function qg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function iv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var j4=typeof WeakMap=="function"?WeakMap:Map;function mk(t,e,n){n=ci(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Of||(Of=!0,mv=r),iv(t,e)},n}function gk(t,e,n){n=ci(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){iv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){iv(t,e),typeof r!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function eE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new j4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=U4.bind(null,t,e,n),e.then(t,t))}function tE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ci(-1,1),e.tag=2,io(n,e,1))),n.lanes|=1),t)}var k4=Ni.ReactCurrentOwner,dr=!1;function Yn(t,e,n,r){e.child=t===null?Wj(e,null,n,r):Ll(e,t.child,n,r)}function rE(t,e,n,r,s){n=n.render;var i=e.ref;return dl(e,s),r=ix(t,e,n,r,i,s),n=ox(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mi(t,e,s)):(Ut&&n&&G0(e),e.flags|=1,Yn(t,e,r,s),e.child)}function sE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!gx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,yk(t,e,i,r,s)):(t=tf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Lu,n(a,r)&&t.ref===e.ref)return mi(t,e,s)}return e.flags|=1,t=lo(i,r),t.ref=e.ref,t.return=e,e.child=t}function yk(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Lu(i,r)&&t.ref===e.ref)if(dr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,mi(t,e,s)}return ov(t,e,n,r,s)}function vk(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(il,Nr),Nr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pt(il,Nr),Nr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Pt(il,Nr),Nr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Pt(il,Nr),Nr|=r;return Yn(t,e,s,n),e.child}function xk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ov(t,e,n,r,s){var i=pr(n)?la:qn.current;return i=Al(e,i),dl(e,s),n=ix(t,e,n,r,i,s),r=ox(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mi(t,e,s)):(Ut&&r&&G0(e),e.flags|=1,Yn(t,e,n,s),e.child)}function iE(t,e,n,r,s){if(pr(n)){var i=!0;jf(e)}else i=!1;if(dl(e,s),e.stateNode===null)Xh(t,e),pk(e,n,r),sv(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wr(u):(u=pr(n)?la:qn.current,u=Al(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&J1(e,a,r,u),Di=!1;var m=e.memoizedState;a.state=m,Af(e,r,a,s),c=e.memoizedState,l!==r||m!==c||fr.current||Di?(typeof h=="function"&&(rv(e,n,h,r),c=e.memoizedState),(l=Di||X1(e,n,l,r,m,c,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Gj(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ts(e.type,l),a.props=u,p=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Wr(c):(c=pr(n)?la:qn.current,c=Al(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||m!==c)&&J1(e,a,r,c),Di=!1,m=e.memoizedState,a.state=m,Af(e,r,a,s);var v=e.memoizedState;l!==p||m!==v||fr.current||Di?(typeof g=="function"&&(rv(e,n,g,r),v=e.memoizedState),(u=Di||X1(e,n,u,r,m,v,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return av(t,e,n,r,i,s)}function av(t,e,n,r,s,i){xk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&H1(e,n,!1),mi(t,e,i);r=e.stateNode,k4.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ll(e,t.child,null,i),e.child=Ll(e,null,l,i)):Yn(t,e,l,i),e.memoizedState=r.state,s&&H1(e,n,!0),e.child}function wk(t){var e=t.stateNode;e.pendingContext?B1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&B1(t,e.context,!1),tx(t,e.containerInfo)}function oE(t,e,n,r,s){return Rl(),Q0(s),e.flags|=256,Yn(t,e,n,r),e.child}var lv={dehydrated:null,treeContext:null,retryLane:0};function cv(t){return{baseLanes:t,cachePool:null,transitions:null}}function bk(t,e,n){var r=e.pendingProps,s=zt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Pt(zt,s&1),t===null)return tv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=zp(a,r,0,null),t=ra(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=cv(n),e.memoizedState=lv,t):cx(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return I4(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=lo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=lo(l,i):(i=ra(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?cv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=lv,r}return i=t.child,t=i.sibling,r=lo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cx(t,e){return e=zp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ch(t,e,n,r){return r!==null&&Q0(r),Ll(e,t.child,null,n),t=cx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function I4(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=qg(Error(fe(422))),Ch(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=zp({mode:"visible",children:r.children},s,0,null),i=ra(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ll(e,t.child,null,a),e.child.memoizedState=cv(a),e.memoizedState=lv,i);if(!(e.mode&1))return Ch(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(fe(419)),r=qg(i,r,void 0),Ch(t,e,a,r)}if(l=(a&t.childLanes)!==0,dr||l){if(r=bn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pi(t,s),ps(r,t,s,-1))}return mx(),r=qg(Error(fe(421))),Ch(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=z4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,jr=so(s.nextSibling),Ir=e,Ut=!0,os=null,t!==null&&(Fr[$r++]=ri,Fr[$r++]=si,Fr[$r++]=ca,ri=t.id,si=t.overflow,ca=e),e=cx(e,r.children),e.flags|=4096,e)}function aE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nv(t.return,e,n)}function Gg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ek(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Yn(t,e,r.children,n),r=zt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aE(t,n,e);else if(t.tag===19)aE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pt(zt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Rf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Gg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Rf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Gg(e,!0,n,null,i);break;case"together":Gg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),da|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=lo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=lo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function P4(t,e,n){switch(e.tag){case 3:wk(e),Rl();break;case 5:Kj(e);break;case 1:pr(e.type)&&jf(e);break;case 4:tx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Pt(Pf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pt(zt,zt.current&1),e.flags|=128,null):n&e.child.childLanes?bk(t,e,n):(Pt(zt,zt.current&1),t=mi(t,e,n),t!==null?t.sibling:null);Pt(zt,zt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ek(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pt(zt,zt.current),r)break;return null;case 22:case 23:return e.lanes=0,vk(t,e,n)}return mi(t,e,n)}var Nk,uv,Ck,_k;Nk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uv=function(){};Ck=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Go(Os.current);var i=null;switch(n){case"input":s=Ay(t,s),r=Ay(t,r),i=[];break;case"select":s=Wt({},s,{value:void 0}),r=Wt({},r,{value:void 0}),i=[];break;case"textarea":s=My(t,s),r=My(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_f)}Oy(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ju.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ju.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Dt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};_k=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mc(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function T4(t,e,n){var r=e.pendingProps;switch(K0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(e),null;case 1:return pr(e.type)&&Sf(),Vn(e),null;case 3:return r=e.stateNode,Ml(),Vt(fr),Vt(qn),rx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Eh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,os!==null&&(vv(os),os=null))),uv(t,e),Vn(e),null;case 5:nx(e);var s=Go(Fu.current);if(n=e.type,t!==null&&e.stateNode!=null)Ck(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(fe(166));return Vn(e),null}if(t=Go(Os.current),Eh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ps]=e,r[Ou]=i,t=(e.mode&1)!==0,n){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(s=0;s<qc.length;s++)Dt(qc[s],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":g1(r,i),Dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Dt("invalid",r);break;case"textarea":v1(r,i),Dt("invalid",r)}Oy(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&bh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&bh(r.textContent,l,t),s=["children",""+l]):ju.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Dt("scroll",r)}switch(n){case"input":fh(r),y1(r,i,!0);break;case"textarea":fh(r),x1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_f)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ps]=e,t[Ou]=r,Nk(t,e,!1,!1),e.stateNode=t;e:{switch(a=Vy(n,r),n){case"dialog":Dt("cancel",t),Dt("close",t),s=r;break;case"iframe":case"object":case"embed":Dt("load",t),s=r;break;case"video":case"audio":for(s=0;s<qc.length;s++)Dt(qc[s],t);s=r;break;case"source":Dt("error",t),s=r;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),s=r;break;case"details":Dt("toggle",t),s=r;break;case"input":g1(t,r),s=Ay(t,r),Dt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Wt({},r,{value:void 0}),Dt("invalid",t);break;case"textarea":v1(t,r),s=My(t,r),Dt("invalid",t);break;default:s=r}Oy(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?nj(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ej(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ku(t,c):typeof c=="number"&&ku(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ju.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Dt("scroll",t):c!=null&&R0(t,i,c,a))}switch(n){case"input":fh(t),y1(t,r,!1);break;case"textarea":fh(t),x1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?al(t,!!r.multiple,i,!1):r.defaultValue!=null&&al(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_f)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vn(e),null;case 6:if(t&&e.stateNode!=null)_k(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(fe(166));if(n=Go(Fu.current),Go(Os.current),Eh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ps]=e,(i=r.nodeValue!==n)&&(t=Ir,t!==null))switch(t.tag){case 3:bh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ps]=e,e.stateNode=r}return Vn(e),null;case 13:if(Vt(zt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ut&&jr!==null&&e.mode&1&&!(e.flags&128))Bj(),Rl(),e.flags|=98560,i=!1;else if(i=Eh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(fe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(fe(317));i[Ps]=e}else Rl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vn(e),i=!1}else os!==null&&(vv(os),os=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?hn===0&&(hn=3):mx())),e.updateQueue!==null&&(e.flags|=4),Vn(e),null);case 4:return Ml(),uv(t,e),t===null&&Mu(e.stateNode.containerInfo),Vn(e),null;case 10:return X0(e.type._context),Vn(e),null;case 17:return pr(e.type)&&Sf(),Vn(e),null;case 19:if(Vt(zt),i=e.memoizedState,i===null)return Vn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Mc(i,!1);else{if(hn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Rf(t),a!==null){for(e.flags|=128,Mc(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pt(zt,zt.current&1|2),e.child}t=t.sibling}i.tail!==null&&nn()>Ol&&(e.flags|=128,r=!0,Mc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Rf(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ut)return Vn(e),null}else 2*nn()-i.renderingStartTime>Ol&&n!==1073741824&&(e.flags|=128,r=!0,Mc(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nn(),e.sibling=null,n=zt.current,Pt(zt,r?n&1|2:n&1),e):(Vn(e),null);case 22:case 23:return px(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nr&1073741824&&(Vn(e),e.subtreeFlags&6&&(e.flags|=8192)):Vn(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function A4(t,e){switch(K0(e),e.tag){case 1:return pr(e.type)&&Sf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ml(),Vt(fr),Vt(qn),rx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nx(e),null;case 13:if(Vt(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Rl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vt(zt),null;case 4:return Ml(),null;case 10:return X0(e.type._context),null;case 22:case 23:return px(),null;case 24:return null;default:return null}}var _h=!1,zn=!1,R4=typeof WeakSet=="function"?WeakSet:Set,_e=null;function sl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Jt(t,e,r)}else n.current=null}function dv(t,e,n){try{n()}catch(r){Jt(t,e,r)}}var lE=!1;function L4(t,e){if(Ky=Ef,t=Pj(),q0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,p=t,m=null;t:for(;;){for(var g;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==i||r!==0&&p.nodeType!==3||(c=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===t)break t;if(m===n&&++u===s&&(l=a),m===i&&++h===r&&(c=a),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qy={focusedElem:t,selectionRange:n},Ef=!1,_e=e;_e!==null;)if(e=_e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_e=t;else for(;_e!==null;){e=_e;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:ts(e.type,y),b);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(I){Jt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}return v=lE,lE=!1,v}function fu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&dv(e,n,i)}s=s.next}while(s!==r)}}function $p(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sk(t){var e=t.alternate;e!==null&&(t.alternate=null,Sk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ps],delete e[Ou],delete e[Xy],delete e[g4],delete e[y4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jk(t){return t.tag===5||t.tag===3||t.tag===4}function cE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_f));else if(r!==4&&(t=t.child,t!==null))for(fv(t,e,n),t=t.sibling;t!==null;)fv(t,e,n),t=t.sibling}function pv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pv(t,e,n),t=t.sibling;t!==null;)pv(t,e,n),t=t.sibling}var Cn=null,is=!1;function ki(t,e,n){for(n=n.child;n!==null;)kk(t,e,n),n=n.sibling}function kk(t,e,n){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(Ap,n)}catch{}switch(n.tag){case 5:zn||sl(n,e);case 6:var r=Cn,s=is;Cn=null,ki(t,e,n),Cn=r,is=s,Cn!==null&&(is?(t=Cn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Cn.removeChild(n.stateNode));break;case 18:Cn!==null&&(is?(t=Cn,n=n.stateNode,t.nodeType===8?$g(t.parentNode,n):t.nodeType===1&&$g(t,n),Au(t)):$g(Cn,n.stateNode));break;case 4:r=Cn,s=is,Cn=n.stateNode.containerInfo,is=!0,ki(t,e,n),Cn=r,is=s;break;case 0:case 11:case 14:case 15:if(!zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&dv(n,e,a),s=s.next}while(s!==r)}ki(t,e,n);break;case 1:if(!zn&&(sl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Jt(n,e,l)}ki(t,e,n);break;case 21:ki(t,e,n);break;case 22:n.mode&1?(zn=(r=zn)||n.memoizedState!==null,ki(t,e,n),zn=r):ki(t,e,n);break;default:ki(t,e,n)}}function uE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new R4),e.forEach(function(r){var s=B4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Cn=l.stateNode,is=!1;break e;case 3:Cn=l.stateNode.containerInfo,is=!0;break e;case 4:Cn=l.stateNode.containerInfo,is=!0;break e}l=l.return}if(Cn===null)throw Error(fe(160));kk(i,a,s),Cn=null,is=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Jt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ik(e,t),e=e.sibling}function Ik(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xr(e,t),Ns(t),r&4){try{fu(3,t,t.return),$p(3,t)}catch(y){Jt(t,t.return,y)}try{fu(5,t,t.return)}catch(y){Jt(t,t.return,y)}}break;case 1:Xr(e,t),Ns(t),r&512&&n!==null&&sl(n,n.return);break;case 5:if(Xr(e,t),Ns(t),r&512&&n!==null&&sl(n,n.return),t.flags&32){var s=t.stateNode;try{ku(s,"")}catch(y){Jt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ZS(s,i),Vy(l,a);var u=Vy(l,i);for(a=0;a<c.length;a+=2){var h=c[a],p=c[a+1];h==="style"?nj(s,p):h==="dangerouslySetInnerHTML"?ej(s,p):h==="children"?ku(s,p):R0(s,h,p,u)}switch(l){case"input":Ry(s,i);break;case"textarea":XS(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?al(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?al(s,!!i.multiple,i.defaultValue,!0):al(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ou]=i}catch(y){Jt(t,t.return,y)}}break;case 6:if(Xr(e,t),Ns(t),r&4){if(t.stateNode===null)throw Error(fe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Jt(t,t.return,y)}}break;case 3:if(Xr(e,t),Ns(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Au(e.containerInfo)}catch(y){Jt(t,t.return,y)}break;case 4:Xr(e,t),Ns(t);break;case 13:Xr(e,t),Ns(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hx=nn())),r&4&&uE(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(zn=(u=zn)||h,Xr(e,t),zn=u):Xr(e,t),Ns(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(_e=t,h=t.child;h!==null;){for(p=_e=h;_e!==null;){switch(m=_e,g=m.child,m.tag){case 0:case 11:case 14:case 15:fu(4,m,m.return);break;case 1:sl(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Jt(r,n,y)}}break;case 5:sl(m,m.return);break;case 22:if(m.memoizedState!==null){hE(p);continue}}g!==null?(g.return=m,_e=g):hE(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=tj("display",a))}catch(y){Jt(t,t.return,y)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){Jt(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xr(e,t),Ns(t),r&4&&uE(t);break;case 21:break;default:Xr(e,t),Ns(t)}}function Ns(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jk(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ku(s,""),r.flags&=-33);var i=cE(t);pv(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=cE(t);fv(t,l,a);break;default:throw Error(fe(161))}}catch(c){Jt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M4(t,e,n){_e=t,Pk(t)}function Pk(t,e,n){for(var r=(t.mode&1)!==0;_e!==null;){var s=_e,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||_h;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||zn;l=_h;var u=zn;if(_h=a,(zn=c)&&!u)for(_e=s;_e!==null;)a=_e,c=a.child,a.tag===22&&a.memoizedState!==null?fE(s):c!==null?(c.return=a,_e=c):fE(s);for(;i!==null;)_e=i,Pk(i),i=i.sibling;_e=s,_h=l,zn=u}dE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,_e=i):dE(t)}}function dE(t){for(;_e!==null;){var e=_e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zn||$p(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ts(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Q1(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Q1(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Au(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}zn||e.flags&512&&hv(e)}catch(m){Jt(e,e.return,m)}}if(e===t){_e=null;break}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}}function hE(t){for(;_e!==null;){var e=_e;if(e===t){_e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_e=n;break}_e=e.return}}function fE(t){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$p(4,e)}catch(c){Jt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Jt(e,s,c)}}var i=e.return;try{hv(e)}catch(c){Jt(e,i,c)}break;case 5:var a=e.return;try{hv(e)}catch(c){Jt(e,a,c)}}}catch(c){Jt(e,e.return,c)}if(e===t){_e=null;break}var l=e.sibling;if(l!==null){l.return=e.return,_e=l;break}_e=e.return}}var D4=Math.ceil,Df=Ni.ReactCurrentDispatcher,ux=Ni.ReactCurrentOwner,zr=Ni.ReactCurrentBatchConfig,ft=0,bn=null,cn=null,jn=0,Nr=0,il=jo(0),hn=0,Bu=null,da=0,Up=0,dx=0,pu=null,lr=null,hx=0,Ol=1/0,Js=null,Of=!1,mv=null,oo=null,Sh=!1,Qi=null,Vf=0,mu=0,gv=null,Jh=-1,ef=0;function Jn(){return ft&6?nn():Jh!==-1?Jh:Jh=nn()}function ao(t){return t.mode&1?ft&2&&jn!==0?jn&-jn:x4.transition!==null?(ef===0&&(ef=pj()),ef):(t=Et,t!==0||(t=window.event,t=t===void 0?16:bj(t.type)),t):1}function ps(t,e,n,r){if(50<mu)throw mu=0,gv=null,Error(fe(185));yd(t,n,r),(!(ft&2)||t!==bn)&&(t===bn&&(!(ft&2)&&(Up|=n),hn===4&&Fi(t,jn)),mr(t,r),n===1&&ft===0&&!(e.mode&1)&&(Ol=nn()+500,Op&&ko()))}function mr(t,e){var n=t.callbackNode;xO(t,e);var r=bf(t,t===bn?jn:0);if(r===0)n!==null&&E1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&E1(n),e===1)t.tag===0?v4(pE.bind(null,t)):$j(pE.bind(null,t)),p4(function(){!(ft&6)&&ko()}),n=null;else{switch(mj(r)){case 1:n=V0;break;case 4:n=hj;break;case 16:n=wf;break;case 536870912:n=fj;break;default:n=wf}n=Vk(n,Tk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Tk(t,e){if(Jh=-1,ef=0,ft&6)throw Error(fe(327));var n=t.callbackNode;if(hl()&&t.callbackNode!==n)return null;var r=bf(t,t===bn?jn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ff(t,r);else{e=r;var s=ft;ft|=2;var i=Rk();(bn!==t||jn!==e)&&(Js=null,Ol=nn()+500,na(t,e));do try{F4();break}catch(l){Ak(t,l)}while(!0);Z0(),Df.current=i,ft=s,cn!==null?e=0:(bn=null,jn=0,e=hn)}if(e!==0){if(e===2&&(s=By(t),s!==0&&(r=s,e=yv(t,s))),e===1)throw n=Bu,na(t,0),Fi(t,r),mr(t,nn()),n;if(e===6)Fi(t,r);else{if(s=t.current.alternate,!(r&30)&&!O4(s)&&(e=Ff(t,r),e===2&&(i=By(t),i!==0&&(r=i,e=yv(t,i))),e===1))throw n=Bu,na(t,0),Fi(t,r),mr(t,nn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(fe(345));case 2:zo(t,lr,Js);break;case 3:if(Fi(t,r),(r&130023424)===r&&(e=hx+500-nn(),10<e)){if(bf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Jn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Zy(zo.bind(null,t,lr,Js),e);break}zo(t,lr,Js);break;case 4:if(Fi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-fs(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D4(r/1960))-r,10<r){t.timeoutHandle=Zy(zo.bind(null,t,lr,Js),r);break}zo(t,lr,Js);break;case 5:zo(t,lr,Js);break;default:throw Error(fe(329))}}}return mr(t,nn()),t.callbackNode===n?Tk.bind(null,t):null}function yv(t,e){var n=pu;return t.current.memoizedState.isDehydrated&&(na(t,e).flags|=256),t=Ff(t,e),t!==2&&(e=lr,lr=n,e!==null&&vv(e)),t}function vv(t){lr===null?lr=t:lr.push.apply(lr,t)}function O4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fi(t,e){for(e&=~dx,e&=~Up,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fs(e),r=1<<n;t[n]=-1,e&=~r}}function pE(t){if(ft&6)throw Error(fe(327));hl();var e=bf(t,0);if(!(e&1))return mr(t,nn()),null;var n=Ff(t,e);if(t.tag!==0&&n===2){var r=By(t);r!==0&&(e=r,n=yv(t,r))}if(n===1)throw n=Bu,na(t,0),Fi(t,e),mr(t,nn()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zo(t,lr,Js),mr(t,nn()),null}function fx(t,e){var n=ft;ft|=1;try{return t(e)}finally{ft=n,ft===0&&(Ol=nn()+500,Op&&ko())}}function ha(t){Qi!==null&&Qi.tag===0&&!(ft&6)&&hl();var e=ft;ft|=1;var n=zr.transition,r=Et;try{if(zr.transition=null,Et=1,t)return t()}finally{Et=r,zr.transition=n,ft=e,!(ft&6)&&ko()}}function px(){Nr=il.current,Vt(il)}function na(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,f4(n)),cn!==null)for(n=cn.return;n!==null;){var r=n;switch(K0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sf();break;case 3:Ml(),Vt(fr),Vt(qn),rx();break;case 5:nx(r);break;case 4:Ml();break;case 13:Vt(zt);break;case 19:Vt(zt);break;case 10:X0(r.type._context);break;case 22:case 23:px()}n=n.return}if(bn=t,cn=t=lo(t.current,null),jn=Nr=e,hn=0,Bu=null,dx=Up=da=0,lr=pu=null,qo!==null){for(e=0;e<qo.length;e++)if(n=qo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}qo=null}return t}function Ak(t,e){do{var n=cn;try{if(Z0(),Yh.current=Mf,Lf){for(var r=Ht.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Lf=!1}if(ua=0,wn=dn=Ht=null,hu=!1,$u=0,ux.current=null,n===null||n.return===null){hn=1,Bu=e,cn=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=jn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=tE(a);if(g!==null){g.flags&=-257,nE(g,a,l,i,e),g.mode&1&&eE(i,u,e),e=g,c=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break e}else{if(!(e&1)){eE(i,u,e),mx();break e}c=Error(fe(426))}}else if(Ut&&l.mode&1){var b=tE(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),nE(b,a,l,i,e),Q0(Dl(c,l));break e}}i=c=Dl(c,l),hn!==4&&(hn=2),pu===null?pu=[i]:pu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=mk(i,c,e);K1(i,w);break e;case 1:l=c;var x=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(oo===null||!oo.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=gk(i,l,e);K1(i,I);break e}}i=i.return}while(i!==null)}Mk(n)}catch(A){e=A,cn===n&&n!==null&&(cn=n=n.return);continue}break}while(!0)}function Rk(){var t=Df.current;return Df.current=Mf,t===null?Mf:t}function mx(){(hn===0||hn===3||hn===2)&&(hn=4),bn===null||!(da&268435455)&&!(Up&268435455)||Fi(bn,jn)}function Ff(t,e){var n=ft;ft|=2;var r=Rk();(bn!==t||jn!==e)&&(Js=null,na(t,e));do try{V4();break}catch(s){Ak(t,s)}while(!0);if(Z0(),ft=n,Df.current=r,cn!==null)throw Error(fe(261));return bn=null,jn=0,hn}function V4(){for(;cn!==null;)Lk(cn)}function F4(){for(;cn!==null&&!uO();)Lk(cn)}function Lk(t){var e=Ok(t.alternate,t,Nr);t.memoizedProps=t.pendingProps,e===null?Mk(t):cn=e,ux.current=null}function Mk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=A4(n,e),n!==null){n.flags&=32767,cn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hn=6,cn=null;return}}else if(n=T4(n,e,Nr),n!==null){cn=n;return}if(e=e.sibling,e!==null){cn=e;return}cn=e=t}while(e!==null);hn===0&&(hn=5)}function zo(t,e,n){var r=Et,s=zr.transition;try{zr.transition=null,Et=1,$4(t,e,n,r)}finally{zr.transition=s,Et=r}return null}function $4(t,e,n,r){do hl();while(Qi!==null);if(ft&6)throw Error(fe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(wO(t,i),t===bn&&(cn=bn=null,jn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sh||(Sh=!0,Vk(wf,function(){return hl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zr.transition,zr.transition=null;var a=Et;Et=1;var l=ft;ft|=4,ux.current=null,L4(t,n),Ik(n,t),o4(Qy),Ef=!!Ky,Qy=Ky=null,t.current=n,M4(n),dO(),ft=l,Et=a,zr.transition=i}else t.current=n;if(Sh&&(Sh=!1,Qi=t,Vf=s),i=t.pendingLanes,i===0&&(oo=null),pO(n.stateNode),mr(t,nn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Of)throw Of=!1,t=mv,mv=null,t;return Vf&1&&t.tag!==0&&hl(),i=t.pendingLanes,i&1?t===gv?mu++:(mu=0,gv=t):mu=0,ko(),null}function hl(){if(Qi!==null){var t=mj(Vf),e=zr.transition,n=Et;try{if(zr.transition=null,Et=16>t?16:t,Qi===null)var r=!1;else{if(t=Qi,Qi=null,Vf=0,ft&6)throw Error(fe(331));var s=ft;for(ft|=4,_e=t.current;_e!==null;){var i=_e,a=i.child;if(_e.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(_e=u;_e!==null;){var h=_e;switch(h.tag){case 0:case 11:case 15:fu(8,h,i)}var p=h.child;if(p!==null)p.return=h,_e=p;else for(;_e!==null;){h=_e;var m=h.sibling,g=h.return;if(Sk(h),h===u){_e=null;break}if(m!==null){m.return=g,_e=m;break}_e=g}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}_e=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,_e=a;else e:for(;_e!==null;){if(i=_e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fu(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,_e=w;break e}_e=i.return}}var x=t.current;for(_e=x;_e!==null;){a=_e;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,_e=N;else e:for(a=x;_e!==null;){if(l=_e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$p(9,l)}}catch(A){Jt(l,l.return,A)}if(l===a){_e=null;break e}var I=l.sibling;if(I!==null){I.return=l.return,_e=I;break e}_e=l.return}}if(ft=s,ko(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(Ap,t)}catch{}r=!0}return r}finally{Et=n,zr.transition=e}}return!1}function mE(t,e,n){e=Dl(n,e),e=mk(t,e,1),t=io(t,e,1),e=Jn(),t!==null&&(yd(t,1,e),mr(t,e))}function Jt(t,e,n){if(t.tag===3)mE(t,t,n);else for(;e!==null;){if(e.tag===3){mE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oo===null||!oo.has(r))){t=Dl(n,t),t=gk(e,t,1),e=io(e,t,1),t=Jn(),e!==null&&(yd(e,1,t),mr(e,t));break}}e=e.return}}function U4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jn(),t.pingedLanes|=t.suspendedLanes&n,bn===t&&(jn&n)===n&&(hn===4||hn===3&&(jn&130023424)===jn&&500>nn()-hx?na(t,0):dx|=n),mr(t,e)}function Dk(t,e){e===0&&(t.mode&1?(e=gh,gh<<=1,!(gh&130023424)&&(gh=4194304)):e=1);var n=Jn();t=pi(t,e),t!==null&&(yd(t,e,n),mr(t,n))}function z4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Dk(t,n)}function B4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(e),Dk(t,n)}var Ok;Ok=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fr.current)dr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dr=!1,P4(t,e,n);dr=!!(t.flags&131072)}else dr=!1,Ut&&e.flags&1048576&&Uj(e,If,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xh(t,e),t=e.pendingProps;var s=Al(e,qn.current);dl(e,n),s=ix(null,e,r,t,s,n);var i=ox();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(r)?(i=!0,jf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ex(e),s.updater=Fp,e.stateNode=s,s._reactInternals=e,sv(e,r,t,n),e=av(null,e,r,!0,i,n)):(e.tag=0,Ut&&i&&G0(e),Yn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=W4(r),t=ts(r,t),s){case 0:e=ov(null,e,r,t,n);break e;case 1:e=iE(null,e,r,t,n);break e;case 11:e=rE(null,e,r,t,n);break e;case 14:e=sE(null,e,r,ts(r.type,t),n);break e}throw Error(fe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ts(r,s),ov(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ts(r,s),iE(t,e,r,s,n);case 3:e:{if(wk(e),t===null)throw Error(fe(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Gj(t,e),Af(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Dl(Error(fe(423)),e),e=oE(t,e,r,n,s);break e}else if(r!==s){s=Dl(Error(fe(424)),e),e=oE(t,e,r,n,s);break e}else for(jr=so(e.stateNode.containerInfo.firstChild),Ir=e,Ut=!0,os=null,n=Wj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rl(),r===s){e=mi(t,e,n);break e}Yn(t,e,r,n)}e=e.child}return e;case 5:return Kj(e),t===null&&tv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Yy(r,s)?a=null:i!==null&&Yy(r,i)&&(e.flags|=32),xk(t,e),Yn(t,e,a,n),e.child;case 6:return t===null&&tv(e),null;case 13:return bk(t,e,n);case 4:return tx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ll(e,null,r,n):Yn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ts(r,s),rE(t,e,r,s,n);case 7:return Yn(t,e,e.pendingProps,n),e.child;case 8:return Yn(t,e,e.pendingProps.children,n),e.child;case 12:return Yn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Pt(Pf,r._currentValue),r._currentValue=a,i!==null)if(gs(i.value,a)){if(i.children===s.children&&!fr.current){e=mi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ci(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),nv(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(fe(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),nv(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Yn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,dl(e,n),s=Wr(s),r=r(s),e.flags|=1,Yn(t,e,r,n),e.child;case 14:return r=e.type,s=ts(r,e.pendingProps),s=ts(r.type,s),sE(t,e,r,s,n);case 15:return yk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ts(r,s),Xh(t,e),e.tag=1,pr(r)?(t=!0,jf(e)):t=!1,dl(e,n),pk(e,r,s),sv(e,r,s,n),av(null,e,r,!0,t,n);case 19:return Ek(t,e,n);case 22:return vk(t,e,n)}throw Error(fe(156,e.tag))};function Vk(t,e){return dj(t,e)}function H4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(t,e,n,r){return new H4(t,e,n,r)}function gx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function W4(t){if(typeof t=="function")return gx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M0)return 11;if(t===D0)return 14}return 2}function lo(t,e){var n=t.alternate;return n===null?(n=Ur(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tf(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")gx(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Qa:return ra(n.children,s,i,e);case L0:a=8,s|=8;break;case ky:return t=Ur(12,n,e,s|2),t.elementType=ky,t.lanes=i,t;case Iy:return t=Ur(13,n,e,s),t.elementType=Iy,t.lanes=i,t;case Py:return t=Ur(19,n,e,s),t.elementType=Py,t.lanes=i,t;case KS:return zp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qS:a=10;break e;case GS:a=9;break e;case M0:a=11;break e;case D0:a=14;break e;case Mi:a=16,r=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Ur(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ra(t,e,n,r){return t=Ur(7,t,r,e),t.lanes=n,t}function zp(t,e,n,r){return t=Ur(22,t,r,e),t.elementType=KS,t.lanes=n,t.stateNode={isHidden:!1},t}function Kg(t,e,n){return t=Ur(6,t,null,e),t.lanes=n,t}function Qg(t,e,n){return e=Ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ig(0),this.expirationTimes=Ig(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ig(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yx(t,e,n,r,s,i,a,l,c){return t=new q4(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ur(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ex(i),t}function G4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ka,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fk(t){if(!t)return go;t=t._reactInternals;e:{if(ja(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(pr(n))return Fj(t,n,e)}return e}function $k(t,e,n,r,s,i,a,l,c){return t=yx(n,r,!0,t,s,i,a,l,c),t.context=Fk(null),n=t.current,r=Jn(),s=ao(n),i=ci(r,s),i.callback=e??null,io(n,i,s),t.current.lanes=s,yd(t,s,r),mr(t,r),t}function Bp(t,e,n,r){var s=e.current,i=Jn(),a=ao(s);return n=Fk(n),e.context===null?e.context=n:e.pendingContext=n,e=ci(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=io(s,e,a),t!==null&&(ps(t,s,a,i),Qh(t,s,a)),a}function $f(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vx(t,e){gE(t,e),(t=t.alternate)&&gE(t,e)}function K4(){return null}var Uk=typeof reportError=="function"?reportError:function(t){console.error(t)};function xx(t){this._internalRoot=t}Hp.prototype.render=xx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));Bp(t,e,null,null)};Hp.prototype.unmount=xx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ha(function(){Bp(null,t,null,null)}),e[fi]=null}};function Hp(t){this._internalRoot=t}Hp.prototype.unstable_scheduleHydration=function(t){if(t){var e=vj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vi.length&&e!==0&&e<Vi[n].priority;n++);Vi.splice(n,0,t),n===0&&wj(t)}};function wx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yE(){}function Q4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=$f(a);i.call(u)}}var a=$k(e,r,t,0,null,!1,!1,"",yE);return t._reactRootContainer=a,t[fi]=a.current,Mu(t.nodeType===8?t.parentNode:t),ha(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=$f(c);l.call(u)}}var c=yx(t,0,!1,null,null,!1,!1,"",yE);return t._reactRootContainer=c,t[fi]=c.current,Mu(t.nodeType===8?t.parentNode:t),ha(function(){Bp(e,c,n,r)}),c}function qp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=$f(a);l.call(c)}}Bp(e,a,t,s)}else a=Q4(n,e,t,s,r);return $f(a)}gj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wc(e.pendingLanes);n!==0&&(F0(e,n|1),mr(e,nn()),!(ft&6)&&(Ol=nn()+500,ko()))}break;case 13:ha(function(){var r=pi(t,1);if(r!==null){var s=Jn();ps(r,t,1,s)}}),vx(t,1)}};$0=function(t){if(t.tag===13){var e=pi(t,134217728);if(e!==null){var n=Jn();ps(e,t,134217728,n)}vx(t,134217728)}};yj=function(t){if(t.tag===13){var e=ao(t),n=pi(t,e);if(n!==null){var r=Jn();ps(n,t,e,r)}vx(t,e)}};vj=function(){return Et};xj=function(t,e){var n=Et;try{return Et=t,e()}finally{Et=n}};$y=function(t,e,n){switch(e){case"input":if(Ry(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Dp(r);if(!s)throw Error(fe(90));YS(r),Ry(r,s)}}}break;case"textarea":XS(t,n);break;case"select":e=n.value,e!=null&&al(t,!!n.multiple,e,!1)}};ij=fx;oj=ha;var Y4={usingClientEntryPoint:!1,Events:[xd,Ja,Dp,rj,sj,fx]},Dc={findFiberByHostInstance:Wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z4={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cj(t),t===null?null:t.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||K4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{Ap=jh.inject(Z4),Ds=jh}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y4;Lr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wx(e))throw Error(fe(200));return G4(t,e,null,n)};Lr.createRoot=function(t,e){if(!wx(t))throw Error(fe(299));var n=!1,r="",s=Uk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yx(t,1,!1,null,null,n,!1,r,s),t[fi]=e.current,Mu(t.nodeType===8?t.parentNode:t),new xx(e)};Lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=cj(e),t=t===null?null:t.stateNode,t};Lr.flushSync=function(t){return ha(t)};Lr.hydrate=function(t,e,n){if(!Wp(e))throw Error(fe(200));return qp(null,t,e,!0,n)};Lr.hydrateRoot=function(t,e,n){if(!wx(t))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Uk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=$k(e,null,t,1,n??null,s,!1,i,a),t[fi]=e.current,Mu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Hp(e)};Lr.render=function(t,e,n){if(!Wp(e))throw Error(fe(200));return qp(null,t,e,!1,n)};Lr.unmountComponentAtNode=function(t){if(!Wp(t))throw Error(fe(40));return t._reactRootContainer?(ha(function(){qp(null,null,t,!1,function(){t._reactRootContainer=null,t[fi]=null})}),!0):!1};Lr.unstable_batchedUpdates=fx;Lr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wp(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return qp(t,e,n,!1,r)};Lr.version="18.3.1-next-f1338f8080-20240426";function zk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zk)}catch(t){console.error(t)}}zk(),zS.exports=Lr;var Yr=zS.exports;const Bk=PS(Yr);var Hk,vE=Yr;Hk=vE.createRoot,vE.hydrateRoot;var xE=["light","dark"],X4="(prefers-color-scheme: dark)",J4=d.createContext(void 0),e5={setTheme:t=>{},themes:[]},t5=()=>{var t;return(t=d.useContext(J4))!=null?t:e5};d.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?xE.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,y=!1,b=!0)=>{let w=a?a[v]:v,x=y?v+"|| ''":`'${w}'`,N="";return s&&b&&!y&&xE.includes(v)&&(N+=`d.style.colorScheme = '${v}';`),n==="class"?y||w?N+=`c.add(${x})`:N+="null":w&&(N+=`d[s](n,${x})`),N},g=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${X4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${p}}catch(t){}}();`;return d.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var n5=t=>{switch(t){case"success":return i5;case"info":return a5;case"warning":return o5;case"error":return l5;default:return null}},r5=Array(12).fill(0),s5=({visible:t,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ue.createElement("div",{className:"sonner-spinner"},r5.map((n,r)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),i5=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),o5=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),a5=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),l5=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),c5=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),u5=()=>{let[t,e]=ue.useState(document.hidden);return ue.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},xv=1,d5=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:xv++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,a,l=s.then(async u=>{if(a=["resolve",u],ue.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(f5(u)&&!u.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:h,description:p})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:h,description:p})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:h,description:p})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,h)=>l.then(()=>a[0]==="reject"?h(a[1]):u(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||xv++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},or=new d5,h5=(t,e)=>{let n=(e==null?void 0:e.id)||xv++;return or.addToast({title:t,...e,id:n}),n},f5=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",p5=h5,m5=()=>or.toasts,g5=()=>or.getActiveToasts(),$=Object.assign(p5,{success:or.success,info:or.info,warning:or.warning,error:or.error,custom:or.custom,message:or.message,promise:or.promise,dismiss:or.dismiss,loading:or.loading},{getHistory:m5,getToasts:g5});function y5(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}y5(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function kh(t){return t.label!==void 0}var v5=3,x5="32px",w5="16px",wE=4e3,b5=356,E5=14,N5=20,C5=200;function Jr(...t){return t.filter(Boolean).join(" ")}function _5(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var S5=t=>{var e,n,r,s,i,a,l,c,u,h,p;let{invert:m,toast:g,unstyled:v,interacting:y,setHeights:b,visibleToasts:w,heights:x,index:N,toasts:I,expanded:A,removeToast:L,defaultRichColors:C,closeButton:_,style:j,cancelButtonStyle:T,actionButtonStyle:k,className:P="",descriptionClassName:R="",duration:H,position:Z,gap:G,loadingIcon:te,expandByDefault:O,classNames:D,icons:V,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:z}=t,[Q,se]=ue.useState(null),[W,ge]=ue.useState(null),[X,ce]=ue.useState(!1),[xe,Y]=ue.useState(!1),[J,B]=ue.useState(!1),[he,Se]=ue.useState(!1),[be,We]=ue.useState(!1),[qe,Ke]=ue.useState(0),[st,Nt]=ue.useState(0),Ct=ue.useRef(g.duration||H||wE),K=ue.useRef(null),pe=ue.useRef(null),de=N===0,it=N+1<=w,oe=g.type,we=g.dismissible!==!1,je=g.className||"",vt=g.descriptionClassName||"",At=ue.useMemo(()=>x.findIndex(Pe=>Pe.toastId===g.id)||0,[x,g.id]),_t=ue.useMemo(()=>{var Pe;return(Pe=g.closeButton)!=null?Pe:_},[g.closeButton,_]),St=ue.useMemo(()=>g.duration||H||wE,[g.duration,H]),It=ue.useRef(0),Gt=ue.useRef(0),Oe=ue.useRef(0),re=ue.useRef(null),[Te,Qe]=Z.split("-"),Be=ue.useMemo(()=>x.reduce((Pe,Ye,ot)=>ot>=At?Pe:Pe+Ye.height,0),[x,At]),sn=u5(),Rt=g.invert||m,Kt=oe==="loading";Gt.current=ue.useMemo(()=>At*G+Be,[At,Be]),ue.useEffect(()=>{Ct.current=St},[St]),ue.useEffect(()=>{ce(!0)},[]),ue.useEffect(()=>{let Pe=pe.current;if(Pe){let Ye=Pe.getBoundingClientRect().height;return Nt(Ye),b(ot=>[{toastId:g.id,height:Ye,position:g.position},...ot]),()=>b(ot=>ot.filter(Yt=>Yt.toastId!==g.id))}},[b,g.id]),ue.useLayoutEffect(()=>{if(!X)return;let Pe=pe.current,Ye=Pe.style.height;Pe.style.height="auto";let ot=Pe.getBoundingClientRect().height;Pe.style.height=Ye,Nt(ot),b(Yt=>Yt.find(ht=>ht.toastId===g.id)?Yt.map(ht=>ht.toastId===g.id?{...ht,height:ot}:ht):[{toastId:g.id,height:ot,position:g.position},...Yt])},[X,g.title,g.description,b,g.id]);let Qt=ue.useCallback(()=>{Y(!0),Ke(Gt.current),b(Pe=>Pe.filter(Ye=>Ye.toastId!==g.id)),setTimeout(()=>{L(g)},C5)},[g,L,b,Gt]);ue.useEffect(()=>{if(g.promise&&oe==="loading"||g.duration===1/0||g.type==="loading")return;let Pe;return A||y||z&&sn?(()=>{if(Oe.current<It.current){let Ye=new Date().getTime()-It.current;Ct.current=Ct.current-Ye}Oe.current=new Date().getTime()})():Ct.current!==1/0&&(It.current=new Date().getTime(),Pe=setTimeout(()=>{var Ye;(Ye=g.onAutoClose)==null||Ye.call(g,g),Qt()},Ct.current)),()=>clearTimeout(Pe)},[A,y,g,oe,z,sn,Qt]),ue.useEffect(()=>{g.delete&&Qt()},[Qt,g.delete]);function Rn(){var Pe,Ye,ot;return V!=null&&V.loading?ue.createElement("div",{className:Jr(D==null?void 0:D.loader,(Pe=g==null?void 0:g.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":oe==="loading"},V.loading):te?ue.createElement("div",{className:Jr(D==null?void 0:D.loader,(Ye=g==null?void 0:g.classNames)==null?void 0:Ye.loader,"sonner-loader"),"data-visible":oe==="loading"},te):ue.createElement(s5,{className:Jr(D==null?void 0:D.loader,(ot=g==null?void 0:g.classNames)==null?void 0:ot.loader),visible:oe==="loading"})}return ue.createElement("li",{tabIndex:0,ref:pe,className:Jr(P,je,D==null?void 0:D.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[oe],(n=g==null?void 0:g.classNames)==null?void 0:n[oe]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:C,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":X,"data-promise":!!g.promise,"data-swiped":be,"data-removed":xe,"data-visible":it,"data-y-position":Te,"data-x-position":Qe,"data-index":N,"data-front":de,"data-swiping":J,"data-dismissible":we,"data-type":oe,"data-invert":Rt,"data-swipe-out":he,"data-swipe-direction":W,"data-expanded":!!(A||O&&X),style:{"--index":N,"--toasts-before":N,"--z-index":I.length-N,"--offset":`${xe?qe:Gt.current}px`,"--initial-height":O?"auto":`${st}px`,...j,...g.style},onDragEnd:()=>{B(!1),se(null),re.current=null},onPointerDown:Pe=>{Kt||!we||(K.current=new Date,Ke(Gt.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(B(!0),re.current={x:Pe.clientX,y:Pe.clientY}))},onPointerUp:()=>{var Pe,Ye,ot,Yt;if(he||!we)return;re.current=null;let ht=Number(((Pe=pe.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ct=Number(((Ye=pe.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Le=new Date().getTime()-((ot=K.current)==null?void 0:ot.getTime()),En=Q==="x"?ht:ct,ir=Math.abs(En)/Le;if(Math.abs(En)>=N5||ir>.11){Ke(Gt.current),(Yt=g.onDismiss)==null||Yt.call(g,g),ge(Q==="x"?ht>0?"right":"left":ct>0?"down":"up"),Qt(),Se(!0),We(!1);return}B(!1),se(null)},onPointerMove:Pe=>{var Ye,ot,Yt,ht;if(!re.current||!we||((Ye=window.getSelection())==null?void 0:Ye.toString().length)>0)return;let ct=Pe.clientY-re.current.y,Le=Pe.clientX-re.current.x,En=(ot=t.swipeDirections)!=null?ot:_5(Z);!Q&&(Math.abs(Le)>1||Math.abs(ct)>1)&&se(Math.abs(Le)>Math.abs(ct)?"x":"y");let ir={x:0,y:0};Q==="y"?(En.includes("top")||En.includes("bottom"))&&(En.includes("top")&&ct<0||En.includes("bottom")&&ct>0)&&(ir.y=ct):Q==="x"&&(En.includes("left")||En.includes("right"))&&(En.includes("left")&&Le<0||En.includes("right")&&Le>0)&&(ir.x=Le),(Math.abs(ir.x)>0||Math.abs(ir.y)>0)&&We(!0),(Yt=pe.current)==null||Yt.style.setProperty("--swipe-amount-x",`${ir.x}px`),(ht=pe.current)==null||ht.style.setProperty("--swipe-amount-y",`${ir.y}px`)}},_t&&!g.jsx?ue.createElement("button",{"aria-label":U,"data-disabled":Kt,"data-close-button":!0,onClick:Kt||!we?()=>{}:()=>{var Pe;Qt(),(Pe=g.onDismiss)==null||Pe.call(g,g)},className:Jr(D==null?void 0:D.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=V==null?void 0:V.close)!=null?i:c5):null,g.jsx||d.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:ue.createElement(ue.Fragment,null,oe||g.icon||g.promise?ue.createElement("div",{"data-icon":"",className:Jr(D==null?void 0:D.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Rn():null,g.type!=="loading"?g.icon||(V==null?void 0:V[oe])||n5(oe):null):null,ue.createElement("div",{"data-content":"",className:Jr(D==null?void 0:D.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},ue.createElement("div",{"data-title":"",className:Jr(D==null?void 0:D.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?ue.createElement("div",{"data-description":"",className:Jr(R,vt,D==null?void 0:D.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),d.isValidElement(g.cancel)?g.cancel:g.cancel&&kh(g.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||T,onClick:Pe=>{var Ye,ot;kh(g.cancel)&&we&&((ot=(Ye=g.cancel).onClick)==null||ot.call(Ye,Pe),Qt())},className:Jr(D==null?void 0:D.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,d.isValidElement(g.action)?g.action:g.action&&kh(g.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||k,onClick:Pe=>{var Ye,ot;kh(g.action)&&((ot=(Ye=g.action).onClick)==null||ot.call(Ye,Pe),!Pe.defaultPrevented&&Qt())},className:Jr(D==null?void 0:D.actionButton,(p=g==null?void 0:g.classNames)==null?void 0:p.actionButton)},g.action.label):null))};function bE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function j5(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?w5:x5;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var k5=d.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:p,duration:m,style:g,visibleToasts:v=v5,toastOptions:y,dir:b=bE(),gap:w=E5,loadingIcon:x,icons:N,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:A}=t,[L,C]=ue.useState([]),_=ue.useMemo(()=>Array.from(new Set([r].concat(L.filter(z=>z.position).map(z=>z.position)))),[L,r]),[j,T]=ue.useState([]),[k,P]=ue.useState(!1),[R,H]=ue.useState(!1),[Z,G]=ue.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=ue.useRef(null),O=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=ue.useRef(null),V=ue.useRef(!1),U=ue.useCallback(z=>{C(Q=>{var se;return(se=Q.find(W=>W.id===z.id))!=null&&se.delete||or.dismiss(z.id),Q.filter(({id:W})=>W!==z.id)})},[]);return ue.useEffect(()=>or.subscribe(z=>{if(z.dismiss){C(Q=>Q.map(se=>se.id===z.id?{...se,delete:!0}:se));return}setTimeout(()=>{Bk.flushSync(()=>{C(Q=>{let se=Q.findIndex(W=>W.id===z.id);return se!==-1?[...Q.slice(0,se),{...Q[se],...z},...Q.slice(se+1)]:[z,...Q]})})})}),[]),ue.useEffect(()=>{if(h!=="system"){G(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:Q})=>{G(Q?"dark":"light")})}catch{z.addListener(({matches:se})=>{try{G(se?"dark":"light")}catch(W){console.error(W)}})}},[h]),ue.useEffect(()=>{L.length<=1&&P(!1)},[L]),ue.useEffect(()=>{let z=Q=>{var se,W;s.every(ge=>Q[ge]||Q.code===ge)&&(P(!0),(se=te.current)==null||se.focus()),Q.code==="Escape"&&(document.activeElement===te.current||(W=te.current)!=null&&W.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[s]),ue.useEffect(()=>{if(te.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,V.current=!1)}},[te.current]),ue.createElement("section",{ref:e,"aria-label":`${I} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((z,Q)=>{var se;let[W,ge]=z.split("-");return L.length?ue.createElement("ol",{key:z,dir:b==="auto"?bE():b,tabIndex:-1,ref:te,className:l,"data-sonner-toaster":!0,"data-theme":Z,"data-y-position":W,"data-lifted":k&&L.length>1&&!i,"data-x-position":ge,style:{"--front-toast-height":`${((se=j[0])==null?void 0:se.height)||0}px`,"--width":`${b5}px`,"--gap":`${w}px`,...g,...j5(c,u)},onBlur:X=>{V.current&&!X.currentTarget.contains(X.relatedTarget)&&(V.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||V.current||(V.current=!0,D.current=X.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{R||P(!1)},onDragEnd:()=>P(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},L.filter(X=>!X.position&&Q===0||X.position===z).map((X,ce)=>{var xe,Y;return ue.createElement(S5,{key:X.id,icons:N,index:ce,toast:X,defaultRichColors:p,duration:(xe=y==null?void 0:y.duration)!=null?xe:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:v,closeButton:(Y=y==null?void 0:y.closeButton)!=null?Y:a,interacting:R,position:z,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:U,toasts:L.filter(J=>J.position==X.position),heights:j.filter(J=>J.position==X.position),setHeights:T,expandByDefault:i,gap:w,loadingIcon:x,expanded:k,pauseWhenPageIsHidden:A,swipeDirections:t.swipeDirections})})):null}))});const I5=({...t})=>{const{theme:e="system"}=t5();return o.jsx(k5,{theme:e,className:"toaster group",position:"top-right",duration:3e3,toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function EE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Gp(...t){return e=>{let n=!1;const r=t.map(s=>{const i=EE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():EE(t[s],null)}}}}function et(...t){return d.useCallback(Gp(...t),t)}function P5(t,e){const n=d.createContext(e),r=i=>{const{children:a,...l}=i,c=d.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=d.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Kn(t,e=[]){let n=[];function r(i,a){const l=d.createContext(a),c=n.length;n=[...n,a];const u=p=>{var w;const{scope:m,children:g,...v}=p,y=((w=m==null?void 0:m[t])==null?void 0:w[c])||l,b=d.useMemo(()=>v,Object.values(v));return o.jsx(y.Provider,{value:b,children:g})};u.displayName=i+"Provider";function h(p,m){var y;const g=((y=m==null?void 0:m[t])==null?void 0:y[c])||l,v=d.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return d.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,T5(s,...e)]}function T5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...l,...p}},{});return d.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function yo(t){const e=R5(t),n=d.forwardRef((r,s)=>{const{children:i,...a}=r,l=d.Children.toArray(i),c=l.find(M5);if(c){const u=c.props.children,h=l.map(p=>p===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:p);return o.jsx(e,{...a,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var A5=yo("Slot");function R5(t){const e=d.forwardRef((n,r)=>{const{children:s,...i}=n;if(d.isValidElement(s)){const a=O5(s),l=D5(i,s.props);return s.type!==d.Fragment&&(l.ref=r?Gp(r,a):a),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Wk=Symbol("radix.slottable");function L5(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Wk,e}function M5(t){return d.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Wk}function D5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function O5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var V5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Re=V5.reduce((t,e)=>{const n=yo(`Primitive.${e}`),r=d.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function qk(t,e){t&&Yr.flushSync(()=>t.dispatchEvent(e))}function Bs(t){const e=d.useRef(t);return d.useEffect(()=>{e.current=t}),d.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function F5(t,e=globalThis==null?void 0:globalThis.document){const n=Bs(t);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $5="DismissableLayer",wv="dismissableLayer.update",U5="dismissableLayer.pointerDownOutside",z5="dismissableLayer.focusOutside",NE,Gk=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ec=d.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=d.useContext(Gk),[h,p]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=d.useState({}),v=et(e,C=>p(C)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(b),x=h?y.indexOf(h):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,I=x>=w,A=W5(C=>{const _=C.target,j=[...u.branches].some(T=>T.contains(_));!I||j||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),L=q5(C=>{const _=C.target;[...u.branches].some(T=>T.contains(_))||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return F5(C=>{x===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(NE=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),CE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=NE)}},[h,m,n,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),CE())},[h,u]),d.useEffect(()=>{const C=()=>g({});return document.addEventListener(wv,C),()=>document.removeEventListener(wv,C)},[]),o.jsx(Re.div,{...c,ref:v,style:{pointerEvents:N?I?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,L.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,A.onPointerDownCapture)})});ec.displayName=$5;var B5="DismissableLayerBranch",H5=d.forwardRef((t,e)=>{const n=d.useContext(Gk),r=d.useRef(null),s=et(e,r);return d.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Re.div,{...t,ref:s})});H5.displayName=B5;function W5(t,e=globalThis==null?void 0:globalThis.document){const n=Bs(t),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){Kk(U5,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function q5(t,e=globalThis==null?void 0:globalThis.document){const n=Bs(t),r=d.useRef(!1);return d.useEffect(()=>{const s=i=>{i.target&&!r.current&&Kk(z5,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function CE(){const t=new CustomEvent(wv);document.dispatchEvent(t)}function Kk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?qk(s,i):s.dispatchEvent(i)}var In=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},G5=P0[" useId ".trim().toString()]||(()=>{}),K5=0;function Pr(t){const[e,n]=d.useState(G5());return In(()=>{n(r=>r??String(K5++))},[t]),e?`radix-${e}`:""}const Q5=["top","right","bottom","left"],vo=Math.min,_r=Math.max,Uf=Math.round,Ih=Math.floor,Vs=t=>({x:t,y:t}),Y5={left:"right",right:"left",bottom:"top",top:"bottom"},Z5={start:"end",end:"start"};function bv(t,e,n){return _r(t,vo(e,n))}function gi(t,e){return typeof t=="function"?t(e):t}function yi(t){return t.split("-")[0]}function tc(t){return t.split("-")[1]}function bx(t){return t==="x"?"y":"x"}function Ex(t){return t==="y"?"height":"width"}function As(t){return["top","bottom"].includes(yi(t))?"y":"x"}function Nx(t){return bx(As(t))}function X5(t,e,n){n===void 0&&(n=!1);const r=tc(t),s=Nx(t),i=Ex(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=zf(a)),[a,zf(a)]}function J5(t){const e=zf(t);return[Ev(t),e,Ev(e)]}function Ev(t){return t.replace(/start|end/g,e=>Z5[e])}function e6(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function t6(t,e,n,r){const s=tc(t);let i=e6(yi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(Ev)))),i}function zf(t){return t.replace(/left|right|bottom|top/g,e=>Y5[e])}function n6(t){return{top:0,right:0,bottom:0,left:0,...t}}function Qk(t){return typeof t!="number"?n6(t):{top:t,right:t,bottom:t,left:t}}function Bf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function _E(t,e,n){let{reference:r,floating:s}=t;const i=As(e),a=Nx(e),l=Ex(a),c=yi(e),u=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:p};break;case"left":g={x:r.x-s.width,y:p};break;default:g={x:r.x,y:r.y}}switch(tc(e)){case"start":g[a]-=m*(n&&u?-1:1);break;case"end":g[a]+=m*(n&&u?-1:1);break}return g}const r6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=_E(u,r,c),m=r,g={},v=0;for(let y=0;y<l.length;y++){const{name:b,fn:w}=l[y],{x,y:N,data:I,reset:A}=await w({x:h,y:p,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:t,floating:e}});h=x??h,p=N??p,g={...g,[b]:{...g[b],...I}},A&&v<=50&&(v++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(u=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:h,y:p}=_E(u,m,c)),y=-1)}return{x:h,y:p,placement:m,strategy:s,middlewareData:g}};async function Hu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:g=0}=gi(e,t),v=Qk(g),b=l[m?p==="floating"?"reference":"floating":p],w=Bf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),x=p==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),I=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},A=Bf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:N,strategy:c}):x);return{top:(w.top-A.top+v.top)/I.y,bottom:(A.bottom-w.bottom+v.bottom)/I.y,left:(w.left-A.left+v.left)/I.x,right:(A.right-w.right+v.right)/I.x}}const s6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=gi(t,e)||{};if(u==null)return{};const p=Qk(h),m={x:n,y:r},g=Nx(s),v=Ex(g),y=await a.getDimensions(u),b=g==="y",w=b?"top":"left",x=b?"bottom":"right",N=b?"clientHeight":"clientWidth",I=i.reference[v]+i.reference[g]-m[g]-i.floating[v],A=m[g]-i.reference[g],L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=L?L[N]:0;(!C||!await(a.isElement==null?void 0:a.isElement(L)))&&(C=l.floating[N]||i.floating[v]);const _=I/2-A/2,j=C/2-y[v]/2-1,T=vo(p[w],j),k=vo(p[x],j),P=T,R=C-y[v]-k,H=C/2-y[v]/2+_,Z=bv(P,H,R),G=!c.arrow&&tc(s)!=null&&H!==Z&&i.reference[v]/2-(H<P?T:k)-y[v]/2<0,te=G?H<P?H-P:H-R:0;return{[g]:m[g]+te,data:{[g]:Z,centerOffset:H-Z-te,...G&&{alignmentOffset:te}},reset:G}}}),i6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...b}=gi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=yi(s),x=As(l),N=yi(l)===l,I=await(c.isRTL==null?void 0:c.isRTL(u.floating)),A=m||(N||!y?[zf(l)]:J5(l)),L=v!=="none";!m&&L&&A.push(...t6(l,y,v,I));const C=[l,...A],_=await Hu(e,b),j=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&j.push(_[w]),p){const H=X5(s,a,I);j.push(_[H[0]],_[H[1]])}if(T=[...T,{placement:s,overflows:j}],!j.every(H=>H<=0)){var k,P;const H=(((k=i.flip)==null?void 0:k.index)||0)+1,Z=C[H];if(Z&&(!(p==="alignment"?x!==As(Z):!1)||T.every(O=>O.overflows[0]>0&&As(O.placement)===x)))return{data:{index:H,overflows:T},reset:{placement:Z}};let G=(P=T.filter(te=>te.overflows[0]<=0).sort((te,O)=>te.overflows[1]-O.overflows[1])[0])==null?void 0:P.placement;if(!G)switch(g){case"bestFit":{var R;const te=(R=T.filter(O=>{if(L){const D=As(O.placement);return D===x||D==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(D=>D>0).reduce((D,V)=>D+V,0)]).sort((O,D)=>O[1]-D[1])[0])==null?void 0:R[0];te&&(G=te);break}case"initialPlacement":G=l;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function SE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function jE(t){return Q5.some(e=>t[e]>=0)}const o6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=gi(t,e);switch(r){case"referenceHidden":{const i=await Hu(e,{...s,elementContext:"reference"}),a=SE(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:jE(a)}}}case"escaped":{const i=await Hu(e,{...s,altBoundary:!0}),a=SE(i,n.floating);return{data:{escapedOffsets:a,escaped:jE(a)}}}default:return{}}}}};async function a6(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=yi(n),l=tc(n),c=As(n)==="y",u=["left","top"].includes(a)?-1:1,h=i&&c?-1:1,p=gi(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*h,y:m*u}:{x:m*u,y:g*h}}const l6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await a6(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},c6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:w,y:x}=b;return{x:w,y:x}}},...c}=gi(t,e),u={x:n,y:r},h=await Hu(e,c),p=As(yi(s)),m=bx(p);let g=u[m],v=u[p];if(i){const b=m==="y"?"top":"left",w=m==="y"?"bottom":"right",x=g+h[b],N=g-h[w];g=bv(x,g,N)}if(a){const b=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=v+h[b],N=v-h[w];v=bv(x,v,N)}const y=l.fn({...e,[m]:g,[p]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:i,[p]:a}}}}}},u6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=gi(t,e),h={x:n,y:r},p=As(s),m=bx(p);let g=h[m],v=h[p];const y=gi(l,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const N=m==="y"?"height":"width",I=i.reference[m]-i.floating[N]+b.mainAxis,A=i.reference[m]+i.reference[N]-b.mainAxis;g<I?g=I:g>A&&(g=A)}if(u){var w,x;const N=m==="y"?"width":"height",I=["top","left"].includes(yi(s)),A=i.reference[p]-i.floating[N]+(I&&((w=a.offset)==null?void 0:w[p])||0)+(I?0:b.crossAxis),L=i.reference[p]+i.reference[N]+(I?0:((x=a.offset)==null?void 0:x[p])||0)-(I?b.crossAxis:0);v<A?v=A:v>L&&(v=L)}return{[m]:g,[p]:v}}}},d6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=gi(t,e),h=await Hu(e,u),p=yi(s),m=tc(s),g=As(s)==="y",{width:v,height:y}=i.floating;let b,w;p==="top"||p==="bottom"?(b=p,w=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(w=p,b=m==="end"?"top":"bottom");const x=y-h.top-h.bottom,N=v-h.left-h.right,I=vo(y-h[b],x),A=vo(v-h[w],N),L=!e.middlewareData.shift;let C=I,_=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=x),L&&!m){const T=_r(h.left,0),k=_r(h.right,0),P=_r(h.top,0),R=_r(h.bottom,0);g?_=v-2*(T!==0||k!==0?T+k:_r(h.left,h.right)):C=y-2*(P!==0||R!==0?P+R:_r(h.top,h.bottom))}await c({...e,availableWidth:_,availableHeight:C});const j=await a.getDimensions(l.floating);return v!==j.width||y!==j.height?{reset:{rects:!0}}:{}}}};function Kp(){return typeof window<"u"}function nc(t){return Yk(t)?(t.nodeName||"").toLowerCase():"#document"}function Tr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Gs(t){var e;return(e=(Yk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Yk(t){return Kp()?t instanceof Node||t instanceof Tr(t).Node:!1}function ys(t){return Kp()?t instanceof Element||t instanceof Tr(t).Element:!1}function Hs(t){return Kp()?t instanceof HTMLElement||t instanceof Tr(t).HTMLElement:!1}function kE(t){return!Kp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tr(t).ShadowRoot}function bd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=vs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function h6(t){return["table","td","th"].includes(nc(t))}function Qp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Cx(t){const e=_x(),n=ys(t)?vs(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function f6(t){let e=xo(t);for(;Hs(e)&&!Vl(e);){if(Cx(e))return e;if(Qp(e))return null;e=xo(e)}return null}function _x(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vl(t){return["html","body","#document"].includes(nc(t))}function vs(t){return Tr(t).getComputedStyle(t)}function Yp(t){return ys(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xo(t){if(nc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kE(t)&&t.host||Gs(t);return kE(e)?e.host:e}function Zk(t){const e=xo(t);return Vl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Hs(e)&&bd(e)?e:Zk(e)}function Wu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Zk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Tr(s);if(i){const l=Nv(a);return e.concat(a,a.visualViewport||[],bd(s)?s:[],l&&n?Wu(l):[])}return e.concat(s,Wu(s,[],n))}function Nv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Xk(t){const e=vs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Hs(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Uf(n)!==i||Uf(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function Sx(t){return ys(t)?t:t.contextElement}function fl(t){const e=Sx(t);if(!Hs(e))return Vs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Xk(e);let a=(i?Uf(n.width):n.width)/r,l=(i?Uf(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const p6=Vs(0);function Jk(t){const e=Tr(t);return!_x()||!e.visualViewport?p6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function m6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tr(t)?!1:e}function fa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Sx(t);let a=Vs(1);e&&(r?ys(r)&&(a=fl(r)):a=fl(t));const l=m6(i,n,r)?Jk(i):Vs(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,h=s.width/a.x,p=s.height/a.y;if(i){const m=Tr(i),g=r&&ys(r)?Tr(r):r;let v=m,y=Nv(v);for(;y&&r&&g!==v;){const b=fl(y),w=y.getBoundingClientRect(),x=vs(y),N=w.left+(y.clientLeft+parseFloat(x.paddingLeft))*b.x,I=w.top+(y.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,h*=b.x,p*=b.y,c+=N,u+=I,v=Tr(y),y=Nv(v)}}return Bf({width:h,height:p,x:c,y:u})}function jx(t,e){const n=Yp(t).scrollLeft;return e?e.left+n:fa(Gs(t)).left+n}function eI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:jx(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function g6(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Gs(r),l=e?Qp(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Vs(1);const h=Vs(0),p=Hs(r);if((p||!p&&!i)&&((nc(r)!=="body"||bd(a))&&(c=Yp(r)),Hs(r))){const g=fa(r);u=fl(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=a&&!p&&!i?eI(a,c,!0):Vs(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function y6(t){return Array.from(t.getClientRects())}function v6(t){const e=Gs(t),n=Yp(t),r=t.ownerDocument.body,s=_r(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=_r(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+jx(t);const l=-n.scrollTop;return vs(r).direction==="rtl"&&(a+=_r(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function x6(t,e){const n=Tr(t),r=Gs(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=_x();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function w6(t,e){const n=fa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Hs(t)?fl(t):Vs(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function IE(t,e,n){let r;if(e==="viewport")r=x6(t,n);else if(e==="document")r=v6(Gs(t));else if(ys(e))r=w6(e,n);else{const s=Jk(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Bf(r)}function tI(t,e){const n=xo(t);return n===e||!ys(n)||Vl(n)?!1:vs(n).position==="fixed"||tI(n,e)}function b6(t,e){const n=e.get(t);if(n)return n;let r=Wu(t,[],!1).filter(l=>ys(l)&&nc(l)!=="body"),s=null;const i=vs(t).position==="fixed";let a=i?xo(t):t;for(;ys(a)&&!Vl(a);){const l=vs(a),c=Cx(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||bd(a)&&!c&&tI(t,a))?r=r.filter(h=>h!==a):s=l,a=xo(a)}return e.set(t,r),r}function E6(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Qp(e)?[]:b6(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,h)=>{const p=IE(e,h,s);return u.top=_r(p.top,u.top),u.right=vo(p.right,u.right),u.bottom=vo(p.bottom,u.bottom),u.left=_r(p.left,u.left),u},IE(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function N6(t){const{width:e,height:n}=Xk(t);return{width:e,height:n}}function C6(t,e,n){const r=Hs(e),s=Gs(e),i=n==="fixed",a=fa(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Vs(0);function u(){c.x=jx(s)}if(r||!r&&!i)if((nc(e)!=="body"||bd(s))&&(l=Yp(e)),r){const g=fa(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?eI(s,l):Vs(0),p=a.left+l.scrollLeft-c.x-h.x,m=a.top+l.scrollTop-c.y-h.y;return{x:p,y:m,width:a.width,height:a.height}}function Yg(t){return vs(t).position==="static"}function PE(t,e){if(!Hs(t)||vs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Gs(t)===n&&(n=n.ownerDocument.body),n}function nI(t,e){const n=Tr(t);if(Qp(t))return n;if(!Hs(t)){let s=xo(t);for(;s&&!Vl(s);){if(ys(s)&&!Yg(s))return s;s=xo(s)}return n}let r=PE(t,e);for(;r&&h6(r)&&Yg(r);)r=PE(r,e);return r&&Vl(r)&&Yg(r)&&!Cx(r)?n:r||f6(t)||n}const _6=async function(t){const e=this.getOffsetParent||nI,n=this.getDimensions,r=await n(t.floating);return{reference:C6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function S6(t){return vs(t).direction==="rtl"}const j6={convertOffsetParentRelativeRectToViewportRelativeRect:g6,getDocumentElement:Gs,getClippingRect:E6,getOffsetParent:nI,getElementRects:_6,getClientRects:y6,getDimensions:N6,getScale:fl,isElement:ys,isRTL:S6};function rI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function k6(t,e){let n=null,r;const s=Gs(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:p,width:m,height:g}=u;if(l||e(),!m||!g)return;const v=Ih(p),y=Ih(s.clientWidth-(h+m)),b=Ih(s.clientHeight-(p+g)),w=Ih(h),N={rootMargin:-v+"px "+-y+"px "+-b+"px "+-w+"px",threshold:_r(0,vo(1,c))||1};let I=!0;function A(L){const C=L[0].intersectionRatio;if(C!==c){if(!I)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!rI(u,t.getBoundingClientRect())&&a(),I=!1}try{n=new IntersectionObserver(A,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,N)}n.observe(t)}return a(!0),i}function I6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Sx(t),h=s||i?[...u?Wu(u):[],...Wu(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const p=u&&l?k6(u,n):null;let m=-1,g=null;a&&(g=new ResizeObserver(w=>{let[x]=w;x&&x.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let v,y=c?fa(t):null;c&&b();function b(){const w=fa(t);y&&!rI(y,w)&&n(),y=w,v=requestAnimationFrame(b)}return n(),()=>{var w;h.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),p==null||p(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const P6=l6,T6=c6,A6=i6,R6=d6,L6=o6,TE=s6,M6=u6,D6=(t,e,n)=>{const r=new Map,s={platform:j6,...n},i={...s.platform,_c:r};return r6(t,e,{...s,platform:i})};var O6=typeof document<"u",V6=function(){},nf=O6?d.useLayoutEffect:V6;function Hf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Hf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Hf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function sI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function AE(t,e){const n=sI(t);return Math.round(e*n)/n}function Zg(t){const e=d.useRef(t);return nf(()=>{e.current=t}),e}function F6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,p]=d.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=d.useState(r);Hf(m,r)||g(r);const[v,y]=d.useState(null),[b,w]=d.useState(null),x=d.useCallback(O=>{O!==L.current&&(L.current=O,y(O))},[]),N=d.useCallback(O=>{O!==C.current&&(C.current=O,w(O))},[]),I=i||v,A=a||b,L=d.useRef(null),C=d.useRef(null),_=d.useRef(h),j=c!=null,T=Zg(c),k=Zg(s),P=Zg(u),R=d.useCallback(()=>{if(!L.current||!C.current)return;const O={placement:e,strategy:n,middleware:m};k.current&&(O.platform=k.current),D6(L.current,C.current,O).then(D=>{const V={...D,isPositioned:P.current!==!1};H.current&&!Hf(_.current,V)&&(_.current=V,Yr.flushSync(()=>{p(V)}))})},[m,e,n,k,P]);nf(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,p(O=>({...O,isPositioned:!1})))},[u]);const H=d.useRef(!1);nf(()=>(H.current=!0,()=>{H.current=!1}),[]),nf(()=>{if(I&&(L.current=I),A&&(C.current=A),I&&A){if(T.current)return T.current(I,A,R);R()}},[I,A,R,T,j]);const Z=d.useMemo(()=>({reference:L,floating:C,setReference:x,setFloating:N}),[x,N]),G=d.useMemo(()=>({reference:I,floating:A}),[I,A]),te=d.useMemo(()=>{const O={position:n,left:0,top:0};if(!G.floating)return O;const D=AE(G.floating,h.x),V=AE(G.floating,h.y);return l?{...O,transform:"translate("+D+"px, "+V+"px)",...sI(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:V}},[n,l,G.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:R,refs:Z,elements:G,floatingStyles:te}),[h,R,Z,G,te])}const $6=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?TE({element:r.current,padding:s}).fn(n):{}:r?TE({element:r,padding:s}).fn(n):{}}}},U6=(t,e)=>({...P6(t),options:[t,e]}),z6=(t,e)=>({...T6(t),options:[t,e]}),B6=(t,e)=>({...M6(t),options:[t,e]}),H6=(t,e)=>({...A6(t),options:[t,e]}),W6=(t,e)=>({...R6(t),options:[t,e]}),q6=(t,e)=>({...L6(t),options:[t,e]}),G6=(t,e)=>({...$6(t),options:[t,e]});var K6="Arrow",iI=d.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(Re.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});iI.displayName=K6;var Q6=iI;function kx(t){const[e,n]=d.useState(void 0);return In(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ix="Popper",[oI,Io]=Kn(Ix),[Y6,aI]=oI(Ix),lI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=d.useState(null);return o.jsx(Y6,{scope:e,anchor:r,onAnchorChange:s,children:n})};lI.displayName=Ix;var cI="PopperAnchor",uI=d.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=aI(cI,n),a=d.useRef(null),l=et(e,a);return d.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(Re.div,{...s,ref:l})});uI.displayName=cI;var Px="PopperContent",[Z6,X6]=oI(Px),dI=d.forwardRef((t,e)=>{var X,ce,xe,Y,J,B;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=t,b=aI(Px,n),[w,x]=d.useState(null),N=et(e,he=>x(he)),[I,A]=d.useState(null),L=kx(I),C=(L==null?void 0:L.width)??0,_=(L==null?void 0:L.height)??0,j=r+(i!=="center"?"-"+i:""),T=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(u)?u:[u],P=k.length>0,R={padding:T,boundary:k.filter(e3),altBoundary:P},{refs:H,floatingStyles:Z,placement:G,isPositioned:te,middlewareData:O}=F6({strategy:"fixed",placement:j,whileElementsMounted:(...he)=>I6(...he,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[U6({mainAxis:s+_,alignmentAxis:a}),c&&z6({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?B6():void 0,...R}),c&&H6({...R}),W6({...R,apply:({elements:he,rects:Se,availableWidth:be,availableHeight:We})=>{const{width:qe,height:Ke}=Se.reference,st=he.floating.style;st.setProperty("--radix-popper-available-width",`${be}px`),st.setProperty("--radix-popper-available-height",`${We}px`),st.setProperty("--radix-popper-anchor-width",`${qe}px`),st.setProperty("--radix-popper-anchor-height",`${Ke}px`)}}),I&&G6({element:I,padding:l}),t3({arrowWidth:C,arrowHeight:_}),m&&q6({strategy:"referenceHidden",...R})]}),[D,V]=pI(G),U=Bs(v);In(()=>{te&&(U==null||U())},[te,U]);const z=(X=O.arrow)==null?void 0:X.x,Q=(ce=O.arrow)==null?void 0:ce.y,se=((xe=O.arrow)==null?void 0:xe.centerOffset)!==0,[W,ge]=d.useState();return In(()=>{w&&ge(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:te?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(Y=O.transformOrigin)==null?void 0:Y.x,(J=O.transformOrigin)==null?void 0:J.y].join(" "),...((B=O.hide)==null?void 0:B.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(Z6,{scope:n,placedSide:D,onArrowChange:A,arrowX:z,arrowY:Q,shouldHideArrow:se,children:o.jsx(Re.div,{"data-side":D,"data-align":V,...y,ref:N,style:{...y.style,animation:te?void 0:"none"}})})})});dI.displayName=Px;var hI="PopperArrow",J6={top:"bottom",right:"left",bottom:"top",left:"right"},fI=d.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=X6(hI,r),a=J6[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(Q6,{...s,ref:n,style:{...s.style,display:"block"}})})});fI.displayName=hI;function e3(t){return t!==null}var t3=t=>({name:"transformOrigin",options:t,fn(e){var b,w,x;const{placement:n,rects:r,middlewareData:s}=e,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,h]=pI(n),p={start:"0%",center:"50%",end:"100%"}[h],m=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,g=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let v="",y="";return u==="bottom"?(v=a?p:`${m}px`,y=`${-c}px`):u==="top"?(v=a?p:`${m}px`,y=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,y=a?p:`${g}px`):u==="left"&&(v=`${r.floating.width+c}px`,y=a?p:`${g}px`),{data:{x:v,y}}}});function pI(t){const[e,n="center"]=t.split("-");return[e,n]}var Tx=lI,Ed=uI,Zp=dI,Xp=fI,n3="Portal",Nd=d.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=d.useState(!1);In(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Bk.createPortal(o.jsx(Re.div,{...r,ref:e}),a):null});Nd.displayName=n3;function r3(t,e){return d.useReducer((n,r)=>e[n][r]??n,t)}var xr=t=>{const{present:e,children:n}=t,r=s3(e),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),i=et(r.ref,i3(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:i}):null};xr.displayName="Presence";function s3(t){const[e,n]=d.useState(),r=d.useRef(null),s=d.useRef(t),i=d.useRef("none"),a=t?"mounted":"unmounted",[l,c]=r3(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=Ph(r.current);i.current=l==="mounted"?u:"none"},[l]),In(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,g=Ph(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),In(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,p=g=>{const y=Ph(r.current).includes(g.animationName);if(g.target===e&&y&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=g=>{g.target===e&&(i.current=Ph(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ph(t){return(t==null?void 0:t.animationName)||"none"}function i3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var o3=P0[" useInsertionEffect ".trim().toString()]||In;function Gr({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=a3({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=d.useRef(t!==void 0);d.useEffect(()=>{const p=h.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=d.useCallback(h=>{var p;if(l){const m=l3(h)?h(t):h;m!==t&&((p=a.current)==null||p.call(a,m))}else i(h)},[l,t,i,a]);return[c,u]}function a3({defaultProp:t,onChange:e}){const[n,r]=d.useState(t),s=d.useRef(n),i=d.useRef(e);return o3(()=>{i.current=e},[e]),d.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function l3(t){return typeof t=="function"}var mI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),c3="VisuallyHidden",gI=d.forwardRef((t,e)=>o.jsx(Re.span,{...t,ref:e,style:{...mI,...t.style}}));gI.displayName=c3;var u3=gI,[Jp,lX]=Kn("Tooltip",[Io]),Ax=Io(),yI="TooltipProvider",d3=700,RE="tooltip.open",[h3,vI]=Jp(yI),xI=t=>{const{__scopeTooltip:e,delayDuration:n=d3,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=d.useRef(!0),l=d.useRef(!1),c=d.useRef(0);return d.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(h3,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:d.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};xI.displayName=yI;var wI="Tooltip",[cX,em]=Jp(wI),Cv="TooltipTrigger",f3=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=em(Cv,n),i=vI(Cv,n),a=Ax(n),l=d.useRef(null),c=et(e,l,s.onTriggerChange),u=d.useRef(!1),h=d.useRef(!1),p=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),o.jsx(Ed,{asChild:!0,...a,children:o.jsx(Re.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ye(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ye(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ye(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ye(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ye(t.onBlur,s.onClose),onClick:ye(t.onClick,s.onClose)})})});f3.displayName=Cv;var p3="TooltipPortal",[uX,m3]=Jp(p3,{forceMount:void 0}),Fl="TooltipContent",bI=d.forwardRef((t,e)=>{const n=m3(Fl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=em(Fl,t.__scopeTooltip);return o.jsx(xr,{present:r||a.open,children:a.disableHoverableContent?o.jsx(EI,{side:s,...i,ref:e}):o.jsx(g3,{side:s,...i,ref:e})})}),g3=d.forwardRef((t,e)=>{const n=em(Fl,t.__scopeTooltip),r=vI(Fl,t.__scopeTooltip),s=d.useRef(null),i=et(e,s),[a,l]=d.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:p}=r,m=d.useCallback(()=>{l(null),p(!1)},[p]),g=d.useCallback((v,y)=>{const b=v.currentTarget,w={x:v.clientX,y:v.clientY},x=b3(w,b.getBoundingClientRect()),N=E3(w,x),I=N3(y.getBoundingClientRect()),A=_3([...N,...I]);l(A),p(!0)},[p]);return d.useEffect(()=>()=>m(),[m]),d.useEffect(()=>{if(c&&h){const v=b=>g(b,h),y=b=>g(b,c);return c.addEventListener("pointerleave",v),h.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",y)}}},[c,h,g,m]),d.useEffect(()=>{if(a){const v=y=>{const b=y.target,w={x:y.clientX,y:y.clientY},x=(c==null?void 0:c.contains(b))||(h==null?void 0:h.contains(b)),N=!C3(w,a);x?m():N&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,h,a,u,m]),o.jsx(EI,{...t,ref:i})}),[y3,v3]=Jp(wI,{isInside:!1}),x3=L5("TooltipContent"),EI=d.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=em(Fl,n),u=Ax(n),{onClose:h}=c;return d.useEffect(()=>(document.addEventListener(RE,h),()=>document.removeEventListener(RE,h)),[h]),d.useEffect(()=>{if(c.trigger){const p=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,h]),o.jsx(ec,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:o.jsxs(Zp,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(x3,{children:r}),o.jsx(y3,{scope:n,isInside:!0,children:o.jsx(u3,{id:c.contentId,role:"tooltip",children:s||r})})]})})});bI.displayName=Fl;var NI="TooltipArrow",w3=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ax(n);return v3(NI,n).isInside?null:o.jsx(Xp,{...s,...r,ref:e})});w3.displayName=NI;function b3(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function E3(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function N3(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function C3(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,h=l.y,p=c.x,m=c.y;h>r!=m>r&&n<(p-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function _3(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),S3(e)}function S3(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var j3=xI,CI=bI;function _I(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=_I(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function SI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=_I(t))&&(r&&(r+=" "),r+=e);return r}const Rx="-",k3=t=>{const e=P3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(Rx);return l[0]===""&&l.length!==1&&l.shift(),jI(l,e)||I3(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},jI=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?jI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Rx);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},LE=/^\[(.+)\]$/,I3=t=>{if(LE.test(t)){const e=LE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},P3=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return A3(Object.entries(t.classGroups),n).forEach(([i,a])=>{_v(a,r,i,e)}),r},_v=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ME(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(T3(s)){_v(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{_v(a,ME(e,i),n,r)})})},ME=(t,e)=>{let n=t;return e.split(Rx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},T3=t=>t.isThemeGetter,A3=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,R3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},kI="!",L3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,h=0,p;for(let b=0;b<l.length;b++){let w=l[b];if(u===0){if(w===s&&(r||l.slice(b,b+i)===e)){c.push(l.slice(h,b)),h=b+i;continue}if(w==="/"){p=b;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?l:l.substring(h),g=m.startsWith(kI),v=g?m.substring(1):m,y=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:a}):a},M3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},D3=t=>({cache:R3(t.cacheSize),parseClassName:L3(t),...k3(t)}),O3=/\s+/,V3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(O3);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let v=!!g,y=r(v?m.substring(0,g):m);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=r(m),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=M3(h).join(":"),w=p?b+kI:b,x=w+y;if(i.includes(x))continue;i.push(x);const N=s(y,v);for(let I=0;I<N.length;++I){const A=N[I];i.push(w+A)}l=u+(l.length>0?" "+l:l)}return l};function F3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=II(e))&&(r&&(r+=" "),r+=n);return r}const II=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=II(t[r]))&&(n&&(n+=" "),n+=e);return n};function $3(t,...e){let n,r,s,i=a;function a(c){const u=e.reduce((h,p)=>p(h),t());return n=D3(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=V3(c,n);return s(c,h),h}return function(){return i(F3.apply(null,arguments))}}const Mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},PI=/^\[(?:([a-z-]+):)?(.+)\]$/i,U3=/^\d+\/\d+$/,z3=new Set(["px","full","screen"]),B3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,H3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,W3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,q3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,G3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zs=t=>pl(t)||z3.has(t)||U3.test(t),Ii=t=>rc(t,"length",tV),pl=t=>!!t&&!Number.isNaN(Number(t)),Xg=t=>rc(t,"number",pl),Oc=t=>!!t&&Number.isInteger(Number(t)),K3=t=>t.endsWith("%")&&pl(t.slice(0,-1)),Ze=t=>PI.test(t),Pi=t=>B3.test(t),Q3=new Set(["length","size","percentage"]),Y3=t=>rc(t,Q3,TI),Z3=t=>rc(t,"position",TI),X3=new Set(["image","url"]),J3=t=>rc(t,X3,rV),eV=t=>rc(t,"",nV),Vc=()=>!0,rc=(t,e,n)=>{const r=PI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},tV=t=>H3.test(t)&&!W3.test(t),TI=()=>!1,nV=t=>q3.test(t),rV=t=>G3.test(t),sV=()=>{const t=Mt("colors"),e=Mt("spacing"),n=Mt("blur"),r=Mt("brightness"),s=Mt("borderColor"),i=Mt("borderRadius"),a=Mt("borderSpacing"),l=Mt("borderWidth"),c=Mt("contrast"),u=Mt("grayscale"),h=Mt("hueRotate"),p=Mt("invert"),m=Mt("gap"),g=Mt("gradientColorStops"),v=Mt("gradientColorStopPositions"),y=Mt("inset"),b=Mt("margin"),w=Mt("opacity"),x=Mt("padding"),N=Mt("saturate"),I=Mt("scale"),A=Mt("sepia"),L=Mt("skew"),C=Mt("space"),_=Mt("translate"),j=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Ze,e],P=()=>[Ze,e],R=()=>["",Zs,Ii],H=()=>["auto",pl,Ze],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Ze],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[pl,Ze];return{cacheSize:500,separator:":",theme:{colors:[Vc],spacing:[Zs,Ii],blur:["none","",Pi,Ze],brightness:U(),borderColor:[t],borderRadius:["none","","full",Pi,Ze],borderSpacing:P(),borderWidth:R(),contrast:U(),grayscale:D(),hueRotate:U(),invert:D(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[K3,Ii],inset:k(),margin:k(),opacity:U(),padding:P(),saturate:U(),scale:U(),sepia:D(),skew:U(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[Pi]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),Ze]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oc,Ze]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Oc,Ze]}],"grid-cols":[{"grid-cols":[Vc]}],"col-start-end":[{col:["auto",{span:["full",Oc,Ze]},Ze]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Vc]}],"row-start-end":[{row:["auto",{span:[Oc,Ze]},Ze]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,e]}],"min-w":[{"min-w":[Ze,e,"min","max","fit"]}],"max-w":[{"max-w":[Ze,e,"none","full","min","max","fit","prose",{screen:[Pi]},Pi]}],h:[{h:[Ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Pi,Ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xg]}],"font-family":[{font:[Vc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",pl,Xg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zs,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zs,Ii]}],"underline-offset":[{"underline-offset":["auto",Zs,Ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),Z3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Y3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},J3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Zs,Ze]}],"outline-w":[{outline:[Zs,Ii]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Zs,Ii]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Pi,eV]}],"shadow-color":[{shadow:[Vc]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Pi,Ze]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[N]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Oc,Ze]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Zs,Ii,Xg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},iV=$3(sV);function Ae(...t){return iV(SI(t))}const oV=j3,aV=d.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(CI,{ref:r,sideOffset:e,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));aV.displayName=CI.displayName;var tm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nm=typeof window>"u"||"Deno"in globalThis;function ns(){}function lV(t,e){return typeof t=="function"?t(e):t}function cV(t){return typeof t=="number"&&t>=0&&t!==1/0}function uV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Sv(t,e){return typeof t=="function"?t(e):t}function dV(t,e){return typeof t=="function"?t(e):t}function DE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==Lx(a,e.options))return!1}else if(!Gu(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function OE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(qu(e.options.mutationKey)!==qu(i))return!1}else if(!Gu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Lx(t,e){return((e==null?void 0:e.queryKeyHashFn)||qu)(t)}function qu(t){return JSON.stringify(t,(e,n)=>jv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Gu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Gu(t[n],e[n])):!1}function AI(t,e){if(t===e)return t;const n=VE(t)&&VE(e);if(n||jv(t)&&jv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<a;h++){const p=n?h:i[h];(!n&&c.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(l[p]=void 0,u++):(l[p]=AI(t[p],e[p]),l[p]===t[p]&&t[p]!==void 0&&u++)}return s===a&&u===s?t:l}return e}function VE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jv(t){if(!FE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!FE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function FE(t){return Object.prototype.toString.call(t)==="[object Object]"}function hV(t){return new Promise(e=>{setTimeout(e,t)})}function fV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?AI(t,e):e}function pV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function mV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Mx=Symbol();function RI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Mx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Yo,Bi,Nl,ES,gV=(ES=class extends tm{constructor(){super();mt(this,Yo);mt(this,Bi);mt(this,Nl);Ge(this,Nl,e=>{if(!nm&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ie(this,Bi)||this.setEventListener(ie(this,Nl))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,Bi))==null||e.call(this),Ge(this,Bi,void 0))}setEventListener(e){var n;Ge(this,Nl,e),(n=ie(this,Bi))==null||n.call(this),Ge(this,Bi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ie(this,Yo)!==e&&(Ge(this,Yo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ie(this,Yo)=="boolean"?ie(this,Yo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Yo=new WeakMap,Bi=new WeakMap,Nl=new WeakMap,ES),LI=new gV,Cl,Hi,_l,NS,yV=(NS=class extends tm{constructor(){super();mt(this,Cl,!0);mt(this,Hi);mt(this,_l);Ge(this,_l,e=>{if(!nm&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ie(this,Hi)||this.setEventListener(ie(this,_l))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,Hi))==null||e.call(this),Ge(this,Hi,void 0))}setEventListener(e){var n;Ge(this,_l,e),(n=ie(this,Hi))==null||n.call(this),Ge(this,Hi,e(this.setOnline.bind(this)))}setOnline(e){ie(this,Cl)!==e&&(Ge(this,Cl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ie(this,Cl)}},Cl=new WeakMap,Hi=new WeakMap,_l=new WeakMap,NS),Wf=new yV;function vV(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function xV(t){return Math.min(1e3*2**t,3e4)}function MI(t){return(t??"online")==="online"?Wf.isOnline():!0}var DI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Jg(t){return t instanceof DI}function OI(t){let e=!1,n=0,r=!1,s;const i=vV(),a=y=>{var b;r||(m(new DI(y)),(b=t.abort)==null||b.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>LI.isFocused()&&(t.networkMode==="always"||Wf.isOnline())&&t.canRun(),h=()=>MI(t.networkMode)&&t.canRun(),p=y=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,y),s==null||s(),i.resolve(y))},m=y=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var b;s=w=>{(r||u())&&y(w)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(r)return;let y;const b=n===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(p).catch(w=>{var L;if(r)return;const x=t.retry??(nm?0:3),N=t.retryDelay??xV,I=typeof N=="function"?N(n,w):N,A=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,w);if(e||!A){m(w);return}n++,(L=t.onFail)==null||L.call(t,n,w),hV(I).then(()=>u()?void 0:g()).then(()=>{e?m(w):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?v():g().then(v),i)}}var wV=t=>setTimeout(t,0);function bV(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=wV;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Zn=bV(),Zo,CS,VI=(CS=class{constructor(){mt(this,Zo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cV(this.gcTime)&&Ge(this,Zo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(nm?1/0:5*60*1e3))}clearGcTimeout(){ie(this,Zo)&&(clearTimeout(ie(this,Zo)),Ge(this,Zo,void 0))}},Zo=new WeakMap,CS),Sl,Xo,Vr,Jo,$n,pd,ea,rs,Xs,_S,EV=(_S=class extends VI{constructor(n){super();mt(this,rs);mt(this,Sl);mt(this,Xo);mt(this,Vr);mt(this,Jo);mt(this,$n);mt(this,pd);mt(this,ea);Ge(this,ea,!1),Ge(this,pd,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ge(this,Jo,n.client),Ge(this,Vr,ie(this,Jo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ge(this,Sl,CV(this.options)),this.state=n.state??ie(this,Sl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=ie(this,$n))==null?void 0:n.promise}setOptions(n){this.options={...ie(this,pd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,Vr).remove(this)}setData(n,r){const s=fV(this.state.data,n,this.options);return Dn(this,rs,Xs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Dn(this,rs,Xs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=ie(this,$n))==null?void 0:s.promise;return(i=ie(this,$n))==null||i.cancel(n),r?r.then(ns).catch(ns):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,Sl))}isActive(){return this.observers.some(n=>dV(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Sv(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!uV(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=ie(this,$n))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=ie(this,$n))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),ie(this,Vr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(ie(this,$n)&&(ie(this,ea)?ie(this,$n).cancel({revert:!0}):ie(this,$n).cancelRetry()),this.scheduleGc()),ie(this,Vr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Dn(this,rs,Xs).call(this,{type:"invalidate"})}fetch(n,r){var h,p,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ie(this,$n))return ie(this,$n).continueRetry(),ie(this,$n).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(v=>v.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ge(this,ea,!0),s.signal)})},a=()=>{const g=RI(this.options,r),y=(()=>{const b={client:ie(this,Jo),queryKey:this.queryKey,meta:this.meta};return i(b),b})();return Ge(this,ea,!1),this.options.persister?this.options.persister(g,y,this):g(y)},c=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ie(this,Jo),state:this.state,fetchFn:a};return i(g),g})();(h=this.options.behavior)==null||h.onFetch(c,this),Ge(this,Xo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&Dn(this,rs,Xs).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=g=>{var v,y,b,w;Jg(g)&&g.silent||Dn(this,rs,Xs).call(this,{type:"error",error:g}),Jg(g)||((y=(v=ie(this,Vr).config).onError)==null||y.call(v,g,this),(w=(b=ie(this,Vr).config).onSettled)==null||w.call(b,this.state.data,g,this)),this.scheduleGc()};return Ge(this,$n,OI({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var v,y,b,w;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(x){u(x);return}(y=(v=ie(this,Vr).config).onSuccess)==null||y.call(v,g,this),(w=(b=ie(this,Vr).config).onSettled)==null||w.call(b,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,v)=>{Dn(this,rs,Xs).call(this,{type:"failed",failureCount:g,error:v})},onPause:()=>{Dn(this,rs,Xs).call(this,{type:"pause"})},onContinue:()=>{Dn(this,rs,Xs).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),ie(this,$n).start()}},Sl=new WeakMap,Xo=new WeakMap,Vr=new WeakMap,Jo=new WeakMap,$n=new WeakMap,pd=new WeakMap,ea=new WeakMap,rs=new WeakSet,Xs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...NV(s.data,this.options),fetchMeta:n.meta??null};case"success":return Ge(this,Xo,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Jg(i)&&i.revert&&ie(this,Xo)?{...ie(this,Xo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Zn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ie(this,Vr).notify({query:this,type:"updated",action:n})})},_S);function NV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function CV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ss,SS,_V=(SS=class extends tm{constructor(e={}){super();mt(this,Ss);this.config=e,Ge(this,Ss,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Lx(s,n);let a=this.get(i);return a||(a=new EV({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){ie(this,Ss).has(e.queryHash)||(ie(this,Ss).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ie(this,Ss).get(e.queryHash);n&&(e.destroy(),n===e&&ie(this,Ss).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ie(this,Ss).get(e)}getAll(){return[...ie(this,Ss).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>DE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>DE(e,r)):n}notify(e){Zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ss=new WeakMap,SS),js,Qn,ta,ks,Ai,jS,SV=(jS=class extends VI{constructor(n){super();mt(this,ks);mt(this,js);mt(this,Qn);mt(this,ta);this.mutationId=n.mutationId,Ge(this,Qn,n.mutationCache),Ge(this,js,[]),this.state=n.state||jV(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){ie(this,js).includes(n)||(ie(this,js).push(n),this.clearGcTimeout(),ie(this,Qn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ge(this,js,ie(this,js).filter(r=>r!==n)),this.scheduleGc(),ie(this,Qn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){ie(this,js).length||(this.state.status==="pending"?this.scheduleGc():ie(this,Qn).remove(this))}continue(){var n;return((n=ie(this,ta))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,u,h,p,m,g,v,y,b,w,x,N,I,A,L,C,_,j;const r=()=>{Dn(this,ks,Ai).call(this,{type:"continue"})};Ge(this,ta,OI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(T,k)=>{Dn(this,ks,Ai).call(this,{type:"failed",failureCount:T,error:k})},onPause:()=>{Dn(this,ks,Ai).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,Qn).canRun(this)}));const s=this.state.status==="pending",i=!ie(this,ta).canStart();try{if(s)r();else{Dn(this,ks,Ai).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(a=ie(this,Qn).config).onMutate)==null?void 0:l.call(a,n,this));const k=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));k!==this.state.context&&Dn(this,ks,Ai).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const T=await ie(this,ta).start();return await((p=(h=ie(this,Qn).config).onSuccess)==null?void 0:p.call(h,T,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,T,n,this.state.context)),await((y=(v=ie(this,Qn).config).onSettled)==null?void 0:y.call(v,T,null,this.state.variables,this.state.context,this)),await((w=(b=this.options).onSettled)==null?void 0:w.call(b,T,null,n,this.state.context)),Dn(this,ks,Ai).call(this,{type:"success",data:T}),T}catch(T){try{throw await((N=(x=ie(this,Qn).config).onError)==null?void 0:N.call(x,T,n,this.state.context,this)),await((A=(I=this.options).onError)==null?void 0:A.call(I,T,n,this.state.context)),await((C=(L=ie(this,Qn).config).onSettled)==null?void 0:C.call(L,void 0,T,this.state.variables,this.state.context,this)),await((j=(_=this.options).onSettled)==null?void 0:j.call(_,void 0,T,n,this.state.context)),T}finally{Dn(this,ks,Ai).call(this,{type:"error",error:T})}}finally{ie(this,Qn).runNext(this)}}},js=new WeakMap,Qn=new WeakMap,ta=new WeakMap,ks=new WeakSet,Ai=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zn.batch(()=>{ie(this,js).forEach(s=>{s.onMutationUpdate(n)}),ie(this,Qn).notify({mutation:this,type:"updated",action:n})})},jS);function jV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ti,ss,md,kS,kV=(kS=class extends tm{constructor(e={}){super();mt(this,ti);mt(this,ss);mt(this,md);this.config=e,Ge(this,ti,new Set),Ge(this,ss,new Map),Ge(this,md,0)}build(e,n,r){const s=new SV({mutationCache:this,mutationId:++uh(this,md)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){ie(this,ti).add(e);const n=Th(e);if(typeof n=="string"){const r=ie(this,ss).get(n);r?r.push(e):ie(this,ss).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ie(this,ti).delete(e)){const n=Th(e);if(typeof n=="string"){const r=ie(this,ss).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&ie(this,ss).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Th(e);if(typeof n=="string"){const r=ie(this,ss).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Th(e);if(typeof n=="string"){const s=(r=ie(this,ss).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zn.batch(()=>{ie(this,ti).forEach(e=>{this.notify({type:"removed",mutation:e})}),ie(this,ti).clear(),ie(this,ss).clear()})}getAll(){return Array.from(ie(this,ti))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>OE(n,r))}findAll(e={}){return this.getAll().filter(n=>OE(e,n))}notify(e){Zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Zn.batch(()=>Promise.all(e.map(n=>n.continue().catch(ns))))}},ti=new WeakMap,ss=new WeakMap,md=new WeakMap,kS);function Th(t){var e;return(e=t.options.scope)==null?void 0:e.id}function $E(t){return{onFetch:(e,n)=>{var h,p,m,g,v;const r=e.options,s=(m=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const b=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},w=RI(e.options,e.fetchOptions),x=async(N,I,A)=>{if(y)return Promise.reject();if(I==null&&N.pages.length)return Promise.resolve(N);const C=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:I,direction:A?"backward":"forward",meta:e.options.meta};return b(k),k})(),_=await w(C),{maxPages:j}=e.options,T=A?mV:pV;return{pages:T(N.pages,_,j),pageParams:T(N.pageParams,I,j)}};if(s&&i.length){const N=s==="backward",I=N?IV:UE,A={pages:i,pageParams:a},L=I(r,A);l=await x(A,L,N)}else{const N=t??i.length;do{const I=c===0?a[0]??r.initialPageParam:UE(r,l);if(c>0&&I==null)break;l=await x(l,I),c++}while(c<N)}return l};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function UE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function IV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xt,Wi,qi,jl,kl,Gi,Il,Pl,IS,PV=(IS=class{constructor(t={}){mt(this,Xt);mt(this,Wi);mt(this,qi);mt(this,jl);mt(this,kl);mt(this,Gi);mt(this,Il);mt(this,Pl);Ge(this,Xt,t.queryCache||new _V),Ge(this,Wi,t.mutationCache||new kV),Ge(this,qi,t.defaultOptions||{}),Ge(this,jl,new Map),Ge(this,kl,new Map),Ge(this,Gi,0)}mount(){uh(this,Gi)._++,ie(this,Gi)===1&&(Ge(this,Il,LI.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,Xt).onFocus())})),Ge(this,Pl,Wf.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,Xt).onOnline())})))}unmount(){var t,e;uh(this,Gi)._--,ie(this,Gi)===0&&((t=ie(this,Il))==null||t.call(this),Ge(this,Il,void 0),(e=ie(this,Pl))==null||e.call(this),Ge(this,Pl,void 0))}isFetching(t){return ie(this,Xt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ie(this,Wi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ie(this,Xt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ie(this,Xt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Sv(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ie(this,Xt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=ie(this,Xt).get(r.queryHash),i=s==null?void 0:s.state.data,a=lV(e,i);if(a!==void 0)return ie(this,Xt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Zn.batch(()=>ie(this,Xt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ie(this,Xt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ie(this,Xt);Zn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ie(this,Xt);return Zn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Zn.batch(()=>ie(this,Xt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ns).catch(ns)}invalidateQueries(t,e={}){return Zn.batch(()=>(ie(this,Xt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Zn.batch(()=>ie(this,Xt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ns)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ns)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ie(this,Xt).build(this,e);return n.isStaleByTime(Sv(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ns).catch(ns)}fetchInfiniteQuery(t){return t.behavior=$E(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ns).catch(ns)}ensureInfiniteQueryData(t){return t.behavior=$E(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wf.isOnline()?ie(this,Wi).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,Xt)}getMutationCache(){return ie(this,Wi)}getDefaultOptions(){return ie(this,qi)}setDefaultOptions(t){Ge(this,qi,t)}setQueryDefaults(t,e){ie(this,jl).set(qu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ie(this,jl).values()],n={};return e.forEach(r=>{Gu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ie(this,kl).set(qu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ie(this,kl).values()],n={};return e.forEach(r=>{Gu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ie(this,qi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Lx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Mx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ie(this,qi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ie(this,Xt).clear(),ie(this,Wi).clear()}},Xt=new WeakMap,Wi=new WeakMap,qi=new WeakMap,jl=new WeakMap,kl=new WeakMap,Gi=new WeakMap,Il=new WeakMap,Pl=new WeakMap,IS),TV=d.createContext(void 0),AV=({client:t,children:e})=>(d.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(TV.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ku(){return Ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ku.apply(this,arguments)}var Yi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yi||(Yi={}));const zE="popstate";function RV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return kv("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:$I(s)}return MV(e,n,null,t)}function fn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LV(){return Math.random().toString(36).substr(2,8)}function BE(t,e){return{usr:t.state,key:t.key,idx:e}}function kv(t,e,n,r){return n===void 0&&(n=null),Ku({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sc(e):e,{state:n,key:e&&e.key||r||LV()})}function $I(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Yi.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(Ku({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function p(){l=Yi.Pop;let b=h(),w=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:w})}function m(b,w){l=Yi.Push;let x=kv(y.location,b,w);u=h()+1;let N=BE(x,u),I=y.createHref(x);try{a.pushState(N,"",I)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(I)}i&&c&&c({action:l,location:y.location,delta:1})}function g(b,w){l=Yi.Replace;let x=kv(y.location,b,w);u=h();let N=BE(x,u),I=y.createHref(x);a.replaceState(N,"",I),i&&c&&c({action:l,location:y.location,delta:0})}function v(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:$I(b);return x=x.replace(/ $/,"%20"),fn(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let y={get action(){return l},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(zE,p),c=b,()=>{s.removeEventListener(zE,p),c=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let w=v(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:g,go(b){return a.go(b)}};return y}var HE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(HE||(HE={}));function DV(t,e,n){return n===void 0&&(n="/"),OV(t,e,n)}function OV(t,e,n,r){let s=typeof e=="string"?sc(e):e,i=BI(s.pathname||"/",n);if(i==null)return null;let a=UI(t);VV(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=YV(i);l=GV(a[c],u)}return l}function UI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(fn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=sa([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(fn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),UI(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:WV(u,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of zI(i.path))s(i,a,c)}),e}function zI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=zI(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function VV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FV=/^:[\w-]+$/,$V=3,UV=2,zV=1,BV=10,HV=-2,WE=t=>t==="*";function WV(t,e){let n=t.split("/"),r=n.length;return n.some(WE)&&(r+=HV),e&&(r+=UV),n.filter(s=>!WE(s)).reduce((s,i)=>s+(FV.test(i)?$V:i===""?zV:BV),r)}function qV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function GV(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=KV({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:sa([i,p.pathname]),pathnameBase:nF(sa([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=sa([i,p.pathnameBase]))}return a}function KV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let y=l[p]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[p];return g&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function QV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),FI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function YV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return FI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function BI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?sc(t):t;return{pathname:n?n.startsWith("/")?n:XV(n,e):e,search:rF(r),hash:sF(s)}}function XV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ey(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eF(t,e){let n=JV(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tF(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=sc(t):(s=Ku({},t),fn(!s.pathname||!s.pathname.includes("?"),ey("?","pathname","search",s)),fn(!s.pathname||!s.pathname.includes("#"),ey("#","pathname","hash",s)),fn(!s.search||!s.search.includes("#"),ey("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}l=p>=0?e[p]:"/"}let c=ZV(s,l),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const sa=t=>t.join("/").replace(/\/\/+/g,"/"),nF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const HI=["post","put","patch","delete"];new Set(HI);const oF=["get",...HI];new Set(oF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qu(){return Qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qu.apply(this,arguments)}const Dx=d.createContext(null),aF=d.createContext(null),rm=d.createContext(null),sm=d.createContext(null),ka=d.createContext({outlet:null,matches:[],isDataRoute:!1}),WI=d.createContext(null);function im(){return d.useContext(sm)!=null}function om(){return im()||fn(!1),d.useContext(sm).location}function qI(t){d.useContext(rm).static||d.useLayoutEffect(t)}function An(){let{isDataRoute:t}=d.useContext(ka);return t?bF():lF()}function lF(){im()||fn(!1);let t=d.useContext(Dx),{basename:e,future:n,navigator:r}=d.useContext(rm),{matches:s}=d.useContext(ka),{pathname:i}=om(),a=JSON.stringify(eF(s,n.v7_relativeSplatPath)),l=d.useRef(!1);return qI(()=>{l.current=!0}),d.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=tF(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:sa([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,a,i,t])}function cF(){let{matches:t}=d.useContext(ka),e=t[t.length-1];return e?e.params:{}}function uF(t,e){return dF(t,e)}function dF(t,e,n,r){im()||fn(!1);let{navigator:s}=d.useContext(rm),{matches:i}=d.useContext(ka),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=om(),h;if(e){var p;let b=typeof e=="string"?sc(e):e;c==="/"||(p=b.pathname)!=null&&p.startsWith(c)||fn(!1),h=b}else h=u;let m=h.pathname||"/",g=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=DV(t,{pathname:g}),y=gF(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:sa([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:sa([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&y?d.createElement(sm.Provider,{value:{location:Qu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Yi.Pop}},y):y}function hF(){let t=wF(),e=iF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},e),n?d.createElement("pre",{style:s},n):null,null)}const fF=d.createElement(hF,null);class pF extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?d.createElement(ka.Provider,{value:this.props.routeContext},d.createElement(WI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mF(t){let{routeContext:e,match:n,children:r}=t,s=d.useContext(Dx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(ka.Provider,{value:e},r)}function gF(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);h>=0||fn(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:m,errors:g}=n,v=p.route.loader&&m[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,m)=>{let g,v=!1,y=null,b=null;n&&(g=l&&p.route.id?l[p.route.id]:void 0,y=p.route.errorElement||fF,c&&(u<0&&m===0?(EF("route-fallback"),v=!0,b=null):u===m&&(v=!0,b=p.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,m+1)),x=()=>{let N;return g?N=y:v?N=b:p.route.Component?N=d.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=h,d.createElement(mF,{match:p,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?d.createElement(pF,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var GI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(GI||{}),KI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(KI||{});function yF(t){let e=d.useContext(Dx);return e||fn(!1),e}function vF(t){let e=d.useContext(aF);return e||fn(!1),e}function xF(t){let e=d.useContext(ka);return e||fn(!1),e}function QI(t){let e=xF(),n=e.matches[e.matches.length-1];return n.route.id||fn(!1),n.route.id}function wF(){var t;let e=d.useContext(WI),n=vF(),r=QI();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bF(){let{router:t}=yF(GI.UseNavigateStable),e=QI(KI.UseNavigateStable),n=d.useRef(!1);return qI(()=>{n.current=!0}),d.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Qu({fromRouteId:e},i)))},[t,e])}const qE={};function EF(t,e,n){qE[t]||(qE[t]=!0)}function NF(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vn(t){fn(!1)}function CF(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Yi.Pop,navigator:i,static:a=!1,future:l}=t;im()&&fn(!1);let c=e.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:i,static:a,future:Qu({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=sc(r));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:v="default"}=r,y=d.useMemo(()=>{let b=BI(h,c);return b==null?null:{location:{pathname:b,search:p,hash:m,state:g,key:v},navigationType:s}},[c,h,p,m,g,v,s]);return y==null?null:d.createElement(rm.Provider,{value:u},d.createElement(sm.Provider,{children:n,value:y}))}function _F(t){let{children:e,location:n}=t;return uF(Iv(e),n)}new Promise(()=>{});function Iv(t,e){e===void 0&&(e=[]);let n=[];return d.Children.forEach(t,(r,s)=>{if(!d.isValidElement(r))return;let i=[...e,s];if(r.type===d.Fragment){n.push.apply(n,Iv(r.props.children,i));return}r.type!==vn&&fn(!1),!r.props.index||!r.props.children||fn(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Iv(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const SF="6";try{window.__reactRouterVersion=SF}catch{}const jF="startTransition",GE=P0[jF];function kF(t){let{basename:e,children:n,future:r,window:s}=t,i=d.useRef();i.current==null&&(i.current=RV({window:s,v5Compat:!0}));let a=i.current,[l,c]=d.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=d.useCallback(p=>{u&&GE?GE(()=>c(p)):c(p)},[c,u]);return d.useLayoutEffect(()=>a.listen(h),[a,h]),d.useEffect(()=>NF(r),[r]),d.createElement(CF,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}var KE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(KE||(KE={}));var QE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QE||(QE={}));const IF=()=>{};var YE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},PF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},ZI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,p=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(m=64)),r.push(n[h],n[p],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||p==null)throw new TF;const m=i<<2|l>>4;if(r.push(m),u!==64){const g=l<<4&240|u>>2;if(r.push(g),p!==64){const v=u<<6&192|p;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AF=function(t){const e=YI(t);return ZI.encodeByteArray(e,!0)},qf=function(t){return AF(t).replace(/\./g,"")},XI=function(t){try{return ZI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=()=>RF().__FIREBASE_DEFAULTS__,MF=()=>{if(typeof process>"u"||typeof YE>"u")return;const t=YE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XI(t[1]);return e&&JSON.parse(e)},am=()=>{try{return IF()||LF()||MF()||DF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JI=t=>{var e,n;return(n=(e=am())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OF=t=>{const e=JI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eP=()=>{var t;return(t=am())===null||t===void 0?void 0:t.config},tP=t=>{var e;return(e=am())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){return t.endsWith(".cloudworkstations.dev")}async function nP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qf(JSON.stringify(n)),qf(JSON.stringify(a)),""].join(".")}const gu={};function $F(){const t={prod:[],emulator:[]};for(const e of Object.keys(gu))gu[e]?t.emulator.push(e):t.prod.push(e);return t}function UF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ZE=!1;function rP(t,e){if(typeof window>"u"||typeof document>"u"||!ic(window.location.host)||gu[t]===e||gu[t]||ZE)return;gu[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=$F().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{ZE=!0,a()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=UF(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),w=n("preprendIcon"),x=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const N=m.element;l(N),h(b,y);const I=u();c(x,w),N.append(x,v,b,I),document.body.appendChild(N)}i?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function BF(){var t;const e=(t=am())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GF(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KF(){return!BF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QF(){try{return typeof indexedDB=="object"}catch{return!1}}function YF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF="FirebaseError";class Ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZF,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cd.prototype.create)}}class Cd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?XF(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Ci(s,l,r)}}function XF(t,e){return t.replace(JF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const JF=/\{\$([^}]+)}/g;function e9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(XE(i)&&XE(a)){if(!pa(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function XE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Kc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function t9(t,e){const n=new n9(t,e);return n.subscribe.bind(n)}class n9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");r9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ty),s.error===void 0&&(s.error=ty),s.complete===void 0&&(s.complete=ty);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ty(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class ma{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o9(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:i9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i9(t){return t===Bo?void 0:t}function o9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new s9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const l9={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},c9=at.INFO,u9={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},d9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=u9[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ox{constructor(e){this.name=e,this._logLevel=c9,this._logHandler=d9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const h9=(t,e)=>e.some(n=>t instanceof n);let JE,eN;function f9(){return JE||(JE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p9(){return eN||(eN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sP=new WeakMap,Pv=new WeakMap,iP=new WeakMap,ny=new WeakMap,Vx=new WeakMap;function m9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(co(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&sP.set(n,t)}).catch(()=>{}),Vx.set(e,t),e}function g9(t){if(Pv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Pv.set(t,e)}let Tv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y9(t){Tv=t(Tv)}function v9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ry(this),e,...n);return iP.set(r,e.sort?e.sort():[e]),co(r)}:p9().includes(t)?function(...e){return t.apply(ry(this),e),co(sP.get(this))}:function(...e){return co(t.apply(ry(this),e))}}function x9(t){return typeof t=="function"?v9(t):(t instanceof IDBTransaction&&g9(t),h9(t,f9())?new Proxy(t,Tv):t)}function co(t){if(t instanceof IDBRequest)return m9(t);if(ny.has(t))return ny.get(t);const e=x9(t);return e!==t&&(ny.set(t,e),Vx.set(e,t)),e}const ry=t=>Vx.get(t);function w9(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=co(a);return r&&a.addEventListener("upgradeneeded",c=>{r(co(a.result),c.oldVersion,c.newVersion,co(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const b9=["get","getKey","getAll","getAllKeys","count"],E9=["put","add","delete","clear"],sy=new Map;function tN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sy.get(e))return sy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=E9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||b9.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return sy.set(e,i),i}y9(t=>({...t,get:(e,n,r)=>tN(e,n)||t.get(e,n,r),has:(e,n)=>!!tN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function C9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Av="@firebase/app",nN="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new Ox("@firebase/app"),_9="@firebase/app-compat",S9="@firebase/analytics-compat",j9="@firebase/analytics",k9="@firebase/app-check-compat",I9="@firebase/app-check",P9="@firebase/auth",T9="@firebase/auth-compat",A9="@firebase/database",R9="@firebase/data-connect",L9="@firebase/database-compat",M9="@firebase/functions",D9="@firebase/functions-compat",O9="@firebase/installations",V9="@firebase/installations-compat",F9="@firebase/messaging",$9="@firebase/messaging-compat",U9="@firebase/performance",z9="@firebase/performance-compat",B9="@firebase/remote-config",H9="@firebase/remote-config-compat",W9="@firebase/storage",q9="@firebase/storage-compat",G9="@firebase/firestore",K9="@firebase/ai",Q9="@firebase/firestore-compat",Y9="firebase",Z9="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="[DEFAULT]",X9={[Av]:"fire-core",[_9]:"fire-core-compat",[j9]:"fire-analytics",[S9]:"fire-analytics-compat",[I9]:"fire-app-check",[k9]:"fire-app-check-compat",[P9]:"fire-auth",[T9]:"fire-auth-compat",[A9]:"fire-rtdb",[R9]:"fire-data-connect",[L9]:"fire-rtdb-compat",[M9]:"fire-fn",[D9]:"fire-fn-compat",[O9]:"fire-iid",[V9]:"fire-iid-compat",[F9]:"fire-fcm",[$9]:"fire-fcm-compat",[U9]:"fire-perf",[z9]:"fire-perf-compat",[B9]:"fire-rc",[H9]:"fire-rc-compat",[W9]:"fire-gcs",[q9]:"fire-gcs-compat",[G9]:"fire-fst",[Q9]:"fire-fst-compat",[K9]:"fire-vertex","fire-js":"fire-js",[Y9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new Map,J9=new Map,Lv=new Map;function rN(t,e){try{t.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $l(t){const e=t.name;if(Lv.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;Lv.set(e,t);for(const n of Gf.values())rN(n,t);for(const n of J9.values())rN(n,t);return!0}function Fx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new Cd("app","Firebase",e$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=Z9;function oP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw uo.create("bad-app-name",{appName:String(s)});if(n||(n=eP()),!n)throw uo.create("no-options");const i=Gf.get(s);if(i){if(pa(n,i.options)&&pa(r,i.config))return i;throw uo.create("duplicate-app",{appName:s})}const a=new a9(s);for(const c of Lv.values())a.addComponent(c);const l=new t$(n,r,a);return Gf.set(s,l),l}function aP(t=Rv){const e=Gf.get(t);if(!e&&t===Rv&&eP())return oP();if(!e)throw uo.create("no-app",{appName:t});return e}function ho(t,e,n){var r;let s=(r=X9[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(l.join(" "));return}$l(new ma(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$="firebase-heartbeat-database",r$=1,Yu="firebase-heartbeat-store";let iy=null;function lP(){return iy||(iy=w9(n$,r$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw uo.create("idb-open",{originalErrorMessage:t.message})})),iy}async function s$(t){try{const n=(await lP()).transaction(Yu),r=await n.objectStore(Yu).get(cP(t));return await n.done,r}catch(e){if(e instanceof Ci)vi.warn(e.message);else{const n=uo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(n.message)}}}async function sN(t,e){try{const r=(await lP()).transaction(Yu,"readwrite");await r.objectStore(Yu).put(e,cP(t)),await r.done}catch(n){if(n instanceof Ci)vi.warn(n.message);else{const r=uo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vi.warn(r.message)}}}function cP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=1024,o$=30;class a${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=iN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>o$){const a=u$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iN(),{heartbeatsToSend:r,unsentEntries:s}=l$(this._heartbeatsCache.heartbeats),i=qf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return vi.warn(n),""}}}function iN(){return new Date().toISOString().substring(0,10)}function l$(t,e=i$){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),oN(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),oN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class c${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QF()?YF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await s$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function oN(t){return qf(JSON.stringify({version:2,heartbeats:t})).length}function u$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(t){$l(new ma("platform-logger",e=>new N9(e),"PRIVATE")),$l(new ma("heartbeat",e=>new a$(e),"PRIVATE")),ho(Av,nN,t),ho(Av,nN,"esm2017"),ho("fire-js","")}d$("");var h$="firebase",f$="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho(h$,f$,"app");var Ts=function(){return Ts=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ts.apply(this,arguments)};function _d(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function p$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function uP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m$=uP,dP=new Cd("auth","Firebase",uP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Ox("@firebase/auth");function g$(t,...e){Kf.logLevel<=at.WARN&&Kf.warn(`Auth (${ac}): ${t}`,...e)}function rf(t,...e){Kf.logLevel<=at.ERROR&&Kf.error(`Auth (${ac}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,...e){throw Ux(t,...e)}function gr(t,...e){return Ux(t,...e)}function $x(t,e,n){const r=Object.assign(Object.assign({},m$()),{[e]:n});return new Cd("auth","Firebase",r).create(e,{appName:t.name})}function Fs(t){return $x(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Kr(t,"argument-error"),$x(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ux(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dP.create(t,...e)}function Ne(t,e,...n){if(!t)throw Ux(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rf(e),new Error(e)}function xi(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hP(){return aN()==="http:"||aN()==="https:"}function aN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hP()||WF()||"connection"in navigator)?navigator.onLine:!0}function x$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=zF()||qF()}get(){return v$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],E$=new Sd(3e4,6e4);function wr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function br(t,e,n,r,s={}){return pP(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=oc(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return HF()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ic(t.emulatorConfig.host)&&(u.credentials="include"),fP.fetch()(await mP(t,t.config.apiHost,n,l),u)})}async function pP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},w$),e);try{const s=new C$(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Qc(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qc(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Qc(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Qc(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw $x(t,h,u);Kr(t,h)}}catch(s){if(s instanceof Ci)throw s;Kr(t,"network-request-failed",{message:String(s)})}}async function Po(t,e,n,r,s={}){const i=await br(t,e,n,r,s);return"mfaPendingCredential"in i&&Kr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function mP(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?zx(t.config,s):`${t.config.apiScheme}://${s}`;return b$.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function N$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class C${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),E$.get())})}}function Qc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=gr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){return t!==void 0&&t.getResponse!==void 0}function cN(t){return t!==void 0&&t.enterprise!==void 0}class gP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return N$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _$(t){return(await br(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function yP(t,e){return br(t,"GET","/v2/recaptchaConfig",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S$(t,e){return br(t,"POST","/v1/accounts:delete",e)}async function Qf(t,e){return br(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j$(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),s=Bx(r);Ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:yu(oy(s.auth_time)),issuedAtTime:yu(oy(s.iat)),expirationTime:yu(oy(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function oy(t){return Number(t)*1e3}function Bx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const s=XI(n);return s?JSON.parse(s):(rf("Failed to decode base64 JWT payload"),null)}catch(s){return rf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function uN(t){const e=Bx(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ci&&k$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function k$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ga(t,Qf(n,{idToken:r}));Ne(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?vP(i.providerUserInfo):[],l=T$(t.providerData,a),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Dv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function P$(t){const e=Ft(t);await Yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function T$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function vP(t){return t.map(e=>{var{providerId:n}=e,r=_d(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A$(t,e){const n=await pP(t,{},async()=>{const r=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await mP(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&ic(t.emulatorConfig.host)&&(c.credentials="include"),fP.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R$(t,e){return br(t,"POST","/v2/accounts:revokeToken",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=uN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await A$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new ml;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ne(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ne(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=_d(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Dv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ga(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j$(this,e)}reload(){return P$(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await ga(this,S$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,u,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:N,emailVerified:I,isAnonymous:A,providerData:L,stsTokenManager:C}=n;Ne(N&&C,e,"internal-error");const _=ml.fromJSON(this.name,C);Ne(typeof N=="string",e,"internal-error"),Ti(p,e.name),Ti(m,e.name),Ne(typeof I=="boolean",e,"internal-error"),Ne(typeof A=="boolean",e,"internal-error"),Ti(g,e.name),Ti(v,e.name),Ti(y,e.name),Ti(b,e.name),Ti(w,e.name),Ti(x,e.name);const j=new cs({uid:N,auth:e,email:m,emailVerified:I,displayName:p,isAnonymous:A,photoURL:v,phoneNumber:g,tenantId:y,stsTokenManager:_,createdAt:w,lastLoginAt:x});return L&&Array.isArray(L)&&(j.providerData=L.map(T=>Object.assign({},T))),b&&(j._redirectEventId=b),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new ml;s.updateFromServerResponse(n);const i=new cs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Yf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ne(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?vP(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new ml;l.updateFromIdToken(r);const c=new cs({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Dv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Map;function oi(t){xi(t instanceof Function,"Expected a class definition");let e=dN.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xP.type="NONE";const hN=xP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t,e,n){return`firebase:${t}:${e}:${n}`}class gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=sf(this.userKey,s.apiKey,i),this.fullPersistenceKey=sf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qf(this.auth,{idToken:e}).catch(()=>{});return n?cs._fromGetAccountInfoResponse(this.auth,n,e):null}return cs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gl(oi(hN),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||oi(hN);const a=sf(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(a);if(h){let p;if(typeof h=="string"){const m=await Qf(e,{idToken:h}).catch(()=>{});if(!m)break;p=await cs._fromGetAccountInfoResponse(e,m,h)}else p=cs._fromJSON(e,h);u!==i&&(l=p),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new gl(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new gl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_P(e))return"Blackberry";if(SP(e))return"Webos";if(bP(e))return"Safari";if((e.includes("chrome/")||EP(e))&&!e.includes("edge/"))return"Chrome";if(CP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wP(t=Gn()){return/firefox\//i.test(t)}function bP(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EP(t=Gn()){return/crios\//i.test(t)}function NP(t=Gn()){return/iemobile/i.test(t)}function CP(t=Gn()){return/android/i.test(t)}function _P(t=Gn()){return/blackberry/i.test(t)}function SP(t=Gn()){return/webos/i.test(t)}function Hx(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function L$(t=Gn()){var e;return Hx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function M$(){return GF()&&document.documentMode===10}function jP(t=Gn()){return Hx(t)||CP(t)||SP(t)||_P(t)||/windows phone/i.test(t)||NP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t,e=[]){let n;switch(t){case"Browser":n=fN(Gn());break;case"Worker":n=`${fN(Gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ac}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e={}){return br(t,"GET","/v2/passwordPolicy",wr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=6;class F${constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:V$,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pN(this),this.idTokenSubscription=new pN(this),this.beforeStateQueue=new D$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oi(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qf(this,{idToken:e}),r=await cs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(Fs(this));const n=e?Ft(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O$(this),n=new F$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await R$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oi(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&g$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Dr(t){return Ft(t)}class pN{constructor(e){this.auth=e,this.observer=null,this.addObserver=t9(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U$(t){jd=t}function Wx(t){return jd.loadJS(t)}function z$(){return jd.recaptchaV2Script}function B$(){return jd.recaptchaEnterpriseScript}function H$(){return jd.gapiScript}function IP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$=500,q$=6e4,Ah=1e12;class G${constructor(e){this.auth=e,this.counter=Ah,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Y$(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Ah;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Ah;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Ah;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class K${constructor(){this.enterprise=new Q$}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Q${ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Y${constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;Ne(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Z$(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},q$)},W$))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Z$(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const X$="recaptcha-enterprise",vu="NO_RECAPTCHA";class PP{constructor(e){this.type=X$,this.auth=Dr(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{yP(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new gP(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;cN(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(vu)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new K$().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&cN(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=B$();c.length!==0&&(c+=l),Wx(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function Fc(t,e,n,r=!1,s=!1){const i=new PP(t);let a;if(s)a=vu;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function yl(t,e,n,r,s){var i,a;if(s==="EMAIL_PASSWORD_PROVIDER")if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Fc(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Fc(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)});else if(s==="PHONE_PROVIDER")if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("PHONE_PROVIDER")){const l=await Fc(t,e,n);return r(t,l).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await Fc(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)})}else{const l=await Fc(t,e,n,!1,!0);return r(t,l)}else return Promise.reject(s+" provider is not supported.")}async function J$(t){const e=Dr(t),n=await yP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new gP(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new PP(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(t,e){const n=Fx(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(pa(i,e??{}))return s;Kr(s,"already-initialized")}return n.initialize({options:e})}function t8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function n8(t,e,n){const r=Dr(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=TP(e),{host:a,port:l}=r8(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(pa(u,r.config.emulator)&&pa(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ic(a)?(nP(`${i}//${a}${c}`),rP("Auth",!0)):s8()}function TP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function r8(t){const e=TP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:mN(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:mN(a)}}}function mN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function s8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function i8(t,e){return br(t,"POST","/v1/accounts:update",e)}async function o8(t,e){return br(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(t,e){return Po(t,"POST","/v1/accounts:signInWithPassword",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l8(t,e){return Po(t,"POST","/v1/accounts:signInWithEmailLink",wr(t,e))}async function c8(t,e){return Po(t,"POST","/v1/accounts:signInWithEmailLink",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends lm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Zu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yl(e,n,"signInWithPassword",a8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return l8(e,{email:this._email,oobCode:this._password});default:Kr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yl(e,r,"signUpPassword",o8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return c8(e,{idToken:n,email:this._email,oobCode:this._password});default:Kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t,e){return Po(t,"POST","/v1/accounts:signInWithIdp",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8="http://localhost";class ya extends lm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=_d(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new ya(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return vl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vl(e,n)}buildRequest(){const e={requestUri:u8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(t,e){return br(t,"POST","/v1/accounts:sendVerificationCode",wr(t,e))}async function d8(t,e){return Po(t,"POST","/v1/accounts:signInWithPhoneNumber",wr(t,e))}async function h8(t,e){const n=await Po(t,"POST","/v1/accounts:signInWithPhoneNumber",wr(t,e));if(n.temporaryProof)throw Qc(t,"account-exists-with-different-credential",n);return n}const f8={USER_NOT_FOUND:"user-not-found"};async function p8(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Po(t,"POST","/v1/accounts:signInWithPhoneNumber",wr(t,n),f8)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends lm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new ia({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new ia({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return d8(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return h8(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return p8(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i}=e;return!r&&!n&&!s&&!i?null:new ia({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g8(t){const e=Gc(Kc(t)).link,n=e?Gc(Kc(e)).deep_link_id:null,r=Gc(Kc(t)).deep_link_id;return(r?Gc(Kc(r)).link:null)||r||n||e||t}class qx{constructor(e){var n,r,s,i,a,l;const c=Gc(Kc(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=m8((s=c.mode)!==null&&s!==void 0?s:null);Ne(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=g8(e);try{return new qx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,n){return Zu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qx.parseLink(n);return Ne(r,"argument-error"),Zu._fromEmailAndCode(e,r.code,r.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends Gx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends kd{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends kd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends kd{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends kd{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y8(t,e){return Po(t,"POST","/v1/accounts:signUp",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await cs._fromIdTokenResponse(e,r,s),a=yN(r);return new va({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=yN(r);return new va({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function yN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends Ci{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Zf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Zf(e,n,r,s)}}function AP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Zf._fromErrorAndOperation(t,i,e,r):i})}async function v8(t,e,n=!1){const r=await ga(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return va._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(t,e,n=!1){const{auth:r}=t;if(cr(r.app))return Promise.reject(Fs(r));const s="reauthenticate";try{const i=await ga(t,AP(r,s,e,t),n);Ne(i.idToken,r,"internal-error");const a=Bx(i.idToken);Ne(a,r,"internal-error");const{sub:l}=a;return Ne(t.uid===l,r,"user-mismatch"),va._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Kr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(t,e,n=!1){if(cr(t.app))return Promise.reject(Fs(t));const r="signIn",s=await AP(t,r,e),i=await va._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function MP(t,e){return LP(Dr(t),e)}async function x8(t,e){return RP(Ft(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t){const e=Dr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function w8(t,e,n){if(cr(t.app))return Promise.reject(Fs(t));const r=Dr(t),a=await yl(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y8,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&DP(t),c}),l=await va._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function b8(t,e,n){return cr(t.app)?Promise.reject(Fs(t)):MP(Ft(t),Ia.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DP(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E8(t,e){return br(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ft(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await ga(r,E8(r.auth,i));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function N8(t,e){return C8(Ft(t),null,e)}async function C8(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const a=await ga(t,i8(r,i));await t._updateTokensIfNecessary(a,!0)}function _8(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function S8(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function Id(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function VP(t){return Ft(t).signOut()}async function j8(t){return Ft(t).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t,e){return br(t,"POST","/v2/accounts/mfaEnrollment:start",wr(t,e))}const Xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xf,"1"),this.storage.removeItem(Xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8=1e3,I8=10;class $P extends FP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);M$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,I8):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},k8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$P.type="LOCAL";const P8=$P;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP extends FP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UP.type="SESSION";const zP=UP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new cm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await T8(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=Kx("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return window}function R8(t){an().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}async function L8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D8(){return Qx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="firebaseLocalStorageDb",O8=1,Jf="firebaseLocalStorage",HP="fbase_key";class Pd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function um(t,e){return t.transaction([Jf],e?"readwrite":"readonly").objectStore(Jf)}function V8(){const t=indexedDB.deleteDatabase(BP);return new Pd(t).toPromise()}function Ov(){const t=indexedDB.open(BP,O8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jf,{keyPath:HP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jf)?e(r):(r.close(),await V8(),e(await Ov()))})})}async function xN(t,e,n){const r=um(t,!0).put({[HP]:e,value:n});return new Pd(r).toPromise()}async function F8(t,e){const n=um(t,!1).get(e),r=await new Pd(n).toPromise();return r===void 0?null:r.value}function wN(t,e){const n=um(t,!0).delete(e);return new Pd(n).toPromise()}const $8=800,U8=3;class WP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ov(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>U8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cm._getInstance(D8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await L8(),!this.activeServiceWorker)return;this.sender=new A8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ov();return await xN(e,Xf,"1"),await wN(e,Xf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>F8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=um(s,!1).getAll();return new Pd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WP.type="LOCAL";const z8=WP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t,e){return br(t,"POST","/v2/accounts/mfaSignIn:start",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=IP("rcb"),B8=new Sd(3e4,6e4);class H8{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=an().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Ne(W8(n),e,"argument-error"),this.shouldResolveImmediately(n)&&lN(an().grecaptcha)?Promise.resolve(an().grecaptcha):new Promise((r,s)=>{const i=an().setTimeout(()=>{s(gr(e,"network-request-failed"))},B8.get());an()[ay]=()=>{an().clearTimeout(i),delete an()[ay];const l=an().grecaptcha;if(!l||!lN(l)){s(gr(e,"internal-error"));return}const c=l.render;l.render=(u,h)=>{const p=c(u,h);return this.counter++,p},this.hostLanguage=n,r(l)};const a=`${z$()}?${oc({onload:ay,render:"explicit",hl:n})}`;Wx(a).catch(()=>{clearTimeout(i),s(gr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=an().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function W8(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class q8{async load(e){return new G$(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu="recaptcha",G8={theme:"light",type:"image"};class K8{constructor(e,n,r=Object.assign({},G8)){this.parameters=r,this.type=xu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dr(e),this.isInvisible=this.parameters.size==="invisible",Ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;Ne(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new q8:new H8,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(s=>{const i=a=>{a&&(this.tokenChangeListeners.delete(i),s(a))};this.tokenChangeListeners.add(i),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ne(!this.parameters.sitekey,this.auth,"argument-error"),Ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=an()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Ne(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ne(hP()&&!Qx(),this.auth,"internal-error"),await Q8(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await _$(this.auth);Ne(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function Q8(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=ia._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function EN(t,e,n){if(cr(t.app))return Promise.reject(Fs(t));const r=Dr(t),s=await qP(r,e,Ft(n));return new Y8(s,i=>MP(r,i))}async function qP(t,e,n){var r;if(!t._getRecaptchaConfig())try{await J$(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const i=s.session;if("phoneNumber"in s){Ne(i.type==="enroll",t,"internal-error");const a={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await yl(t,a,"mfaSmsEnrollment",async(h,p)=>{if(p.phoneEnrollmentInfo.captchaResponse===vu){Ne((n==null?void 0:n.type)===xu,h,"argument-error");const m=await ly(h,p,n);return vN(h,m)}return vN(h,p)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{Ne(i.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;Ne(a,t,"missing-multi-factor-info");const l={mfaPendingCredential:i.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await yl(t,l,"mfaSmsSignIn",async(p,m)=>{if(m.phoneSignInInfo.captchaResponse===vu){Ne((n==null?void 0:n.type)===xu,p,"argument-error");const g=await ly(p,m,n);return bN(p,g)}return bN(p,m)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await yl(t,i,"sendVerificationCode",async(u,h)=>{if(h.captchaResponse===vu){Ne((n==null?void 0:n.type)===xu,u,"argument-error");const p=await ly(u,h,n);return gN(u,p)}return gN(u,h)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function ly(t,e,n){Ne(n.type===xu,t,"argument-error");const r=await n.verify();Ne(typeof r=="string",t,"argument-error");const s=Object.assign({},e);if("phoneEnrollmentInfo"in s){const i=s.phoneEnrollmentInfo.phoneNumber,a=s.phoneEnrollmentInfo.captchaResponse,l=s.phoneEnrollmentInfo.clientType,c=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:r,captchaResponse:a,clientType:l,recaptchaVersion:c}}),s}else if("phoneSignInInfo"in s){const i=s.phoneSignInInfo.captchaResponse,a=s.phoneSignInInfo.clientType,l=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:i,clientType:a,recaptchaVersion:l}}),s}else return Object.assign(s,{recaptchaToken:r}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.providerId=oa.PROVIDER_ID,this.auth=Dr(e)}verifyPhoneNumber(e,n){return qP(this.auth,e,Ft(n))}static credential(e,n){return ia._fromVerification(e,n)}static credentialFromResult(e){const n=e;return oa.credentialFromTaggedObject(n)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?ia._fromTokenResponse(n,r):null}}oa.PROVIDER_ID="phone";oa.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t,e){return e?oi(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends lm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Z8(t){return LP(t.auth,new Yx(t),t.bypassAuthState)}function X8(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),RP(n,new Yx(t),t.bypassAuthState)}async function J8(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),v8(n,new Yx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Z8;case"linkViaPopup":case"linkViaRedirect":return J8;case"reauthViaPopup":case"reauthViaRedirect":return X8;default:Kr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=new Sd(2e3,1e4);async function tU(t,e,n){if(cr(t.app))return Promise.reject(gr(t,"operation-not-supported-in-this-environment"));const r=Dr(t);y$(t,e,Gx);const s=GP(r,n);return new Ko(r,"signInViaPopup",e,s).executeNotNull()}class Ko extends KP{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Kx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eU.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU="pendingRedirect",of=new Map;class rU extends KP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=of.get(this.auth._key());if(!e){try{const r=await sU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}of.set(this.auth._key(),e)}return this.bypassAuthState||of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sU(t,e){const n=aU(e),r=oU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function iU(t,e){of.set(t._key(),e)}function oU(t){return oi(t._redirectPersistence)}function aU(t){return sf(nU,t.config.apiKey,t.name)}async function lU(t,e){return await Dr(t)._initializationPromise,QP(t,e,!1)}async function QP(t,e,n=!1){if(cr(t.app))return Promise.reject(Fs(t));const r=Dr(t),s=GP(r,e),a=await new rU(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=10*60*1e3;class uU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YP(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cU&&this.cachedEventUids.clear(),this.cachedEventUids.has(NN(e))}saveEventToCache(e){this.cachedEventUids.add(NN(e)),this.lastProcessedEventTime=Date.now()}}function NN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(t,e={}){return br(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pU=/^https?/;async function mU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hU(t);for(const n of e)try{if(gU(n))return}catch{}Kr(t,"unauthorized-domain")}function gU(t){const e=Mv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!pU.test(n))return!1;if(fU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=new Sd(3e4,6e4);function CN(){const t=an().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vU(t){return new Promise((e,n)=>{var r,s,i;function a(){CN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CN(),n(gr(t,"network-request-failed"))},timeout:yU.get()})}if(!((s=(r=an().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=an().gapi)===null||i===void 0)&&i.load)a();else{const l=IP("iframefcb");return an()[l]=()=>{gapi.load?a():n(gr(t,"network-request-failed"))},Wx(`${H$()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw af=null,e})}let af=null;function xU(t){return af=af||vU(t),af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=new Sd(5e3,15e3),bU="__/auth/iframe",EU="emulator/auth/iframe",NU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _U(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zx(e,EU):`https://${t.config.authDomain}/${bU}`,r={apiKey:e.apiKey,appName:t.name,v:ac},s=CU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${oc(r).slice(1)}`}async function SU(t){const e=await xU(t),n=an().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:_U(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=gr(t,"network-request-failed"),l=an().setTimeout(()=>{i(a)},wU.get());function c(){an().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kU=500,IU=600,PU="_blank",TU="http://localhost";class _N{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AU(t,e,n,r=kU,s=IU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},jU),{width:r.toString(),height:s.toString(),top:i,left:a}),u=Gn().toLowerCase();n&&(l=EP(u)?PU:n),wP(u)&&(e=e||TU,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[g,v])=>`${m}${g}=${v},`,"");if(L$(u)&&l!=="_self")return RU(e||"",l),new _N(null);const p=window.open(e||"",l,h);Ne(p,t,"popup-blocked");try{p.focus()}catch{}return new _N(p)}function RU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU="__/auth/handler",MU="emulator/auth/handler",DU=encodeURIComponent("fac");async function SN(t,e,n,r,s,i){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ac,eventId:s};if(e instanceof Gx){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",e9(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof kd){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${DU}=${encodeURIComponent(c)}`:"";return`${OU(t)}?${oc(l).slice(1)}${u}`}function OU({config:t}){return t.emulator?zx(t,MU):`https://${t.authDomain}/${LU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="webStorageSupport";class VU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zP,this._completeRedirectFn=QP,this._overrideRedirectResult=iU}async _openPopup(e,n,r,s){var i;xi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await SN(e,n,r,Mv(),s);return AU(e,a,Kx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await SN(e,n,r,Mv(),s);return R8(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(xi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await SU(e),r=new uU(e);return n.register("authEvent",s=>(Ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cy,{type:cy},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[cy];a!==void 0&&n(!!a),Kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jP()||bP()||Hx()}}const FU=VU;var jN="@firebase/auth",kN="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zU(t){$l(new ma("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ne(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kP(t)},u=new $$(r,s,i,c);return t8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$l(new ma("auth-internal",e=>{const n=Dr(e.getProvider("auth").getImmediate());return(r=>new $U(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(jN,kN,UU(t)),ho(jN,kN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=5*60,HU=tP("authIdTokenMaxAge")||BU;let IN=null;const WU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HU)return;const s=n==null?void 0:n.token;IN!==s&&(IN=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function qU(t=aP()){const e=Fx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=e8(t,{popupRedirectResolver:FU,persistence:[z8,P8,zP]}),r=tP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=WU(i.toString());S8(n,a,()=>a(n.currentUser)),_8(n,l=>a(l))}}const s=JI("auth");return s&&n8(n,`http://${s}`),n}function GU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}U$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=gr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",GU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zU("Browser");var PN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,ZP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function j(){}j.prototype=_.prototype,C.D=_.prototype,C.prototype=new j,C.prototype.constructor=C,C.C=function(T,k,P){for(var R=Array(arguments.length-2),H=2;H<arguments.length;H++)R[H-2]=arguments[H];return _.prototype[k].apply(T,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,_,j){j||(j=0);var T=Array(16);if(typeof _=="string")for(var k=0;16>k;++k)T[k]=_.charCodeAt(j++)|_.charCodeAt(j++)<<8|_.charCodeAt(j++)<<16|_.charCodeAt(j++)<<24;else for(k=0;16>k;++k)T[k]=_[j++]|_[j++]<<8|_[j++]<<16|_[j++]<<24;_=C.g[0],j=C.g[1],k=C.g[2];var P=C.g[3],R=_+(P^j&(k^P))+T[0]+3614090360&4294967295;_=j+(R<<7&4294967295|R>>>25),R=P+(k^_&(j^k))+T[1]+3905402710&4294967295,P=_+(R<<12&4294967295|R>>>20),R=k+(j^P&(_^j))+T[2]+606105819&4294967295,k=P+(R<<17&4294967295|R>>>15),R=j+(_^k&(P^_))+T[3]+3250441966&4294967295,j=k+(R<<22&4294967295|R>>>10),R=_+(P^j&(k^P))+T[4]+4118548399&4294967295,_=j+(R<<7&4294967295|R>>>25),R=P+(k^_&(j^k))+T[5]+1200080426&4294967295,P=_+(R<<12&4294967295|R>>>20),R=k+(j^P&(_^j))+T[6]+2821735955&4294967295,k=P+(R<<17&4294967295|R>>>15),R=j+(_^k&(P^_))+T[7]+4249261313&4294967295,j=k+(R<<22&4294967295|R>>>10),R=_+(P^j&(k^P))+T[8]+1770035416&4294967295,_=j+(R<<7&4294967295|R>>>25),R=P+(k^_&(j^k))+T[9]+2336552879&4294967295,P=_+(R<<12&4294967295|R>>>20),R=k+(j^P&(_^j))+T[10]+4294925233&4294967295,k=P+(R<<17&4294967295|R>>>15),R=j+(_^k&(P^_))+T[11]+2304563134&4294967295,j=k+(R<<22&4294967295|R>>>10),R=_+(P^j&(k^P))+T[12]+1804603682&4294967295,_=j+(R<<7&4294967295|R>>>25),R=P+(k^_&(j^k))+T[13]+4254626195&4294967295,P=_+(R<<12&4294967295|R>>>20),R=k+(j^P&(_^j))+T[14]+2792965006&4294967295,k=P+(R<<17&4294967295|R>>>15),R=j+(_^k&(P^_))+T[15]+1236535329&4294967295,j=k+(R<<22&4294967295|R>>>10),R=_+(k^P&(j^k))+T[1]+4129170786&4294967295,_=j+(R<<5&4294967295|R>>>27),R=P+(j^k&(_^j))+T[6]+3225465664&4294967295,P=_+(R<<9&4294967295|R>>>23),R=k+(_^j&(P^_))+T[11]+643717713&4294967295,k=P+(R<<14&4294967295|R>>>18),R=j+(P^_&(k^P))+T[0]+3921069994&4294967295,j=k+(R<<20&4294967295|R>>>12),R=_+(k^P&(j^k))+T[5]+3593408605&4294967295,_=j+(R<<5&4294967295|R>>>27),R=P+(j^k&(_^j))+T[10]+38016083&4294967295,P=_+(R<<9&4294967295|R>>>23),R=k+(_^j&(P^_))+T[15]+3634488961&4294967295,k=P+(R<<14&4294967295|R>>>18),R=j+(P^_&(k^P))+T[4]+3889429448&4294967295,j=k+(R<<20&4294967295|R>>>12),R=_+(k^P&(j^k))+T[9]+568446438&4294967295,_=j+(R<<5&4294967295|R>>>27),R=P+(j^k&(_^j))+T[14]+3275163606&4294967295,P=_+(R<<9&4294967295|R>>>23),R=k+(_^j&(P^_))+T[3]+4107603335&4294967295,k=P+(R<<14&4294967295|R>>>18),R=j+(P^_&(k^P))+T[8]+1163531501&4294967295,j=k+(R<<20&4294967295|R>>>12),R=_+(k^P&(j^k))+T[13]+2850285829&4294967295,_=j+(R<<5&4294967295|R>>>27),R=P+(j^k&(_^j))+T[2]+4243563512&4294967295,P=_+(R<<9&4294967295|R>>>23),R=k+(_^j&(P^_))+T[7]+1735328473&4294967295,k=P+(R<<14&4294967295|R>>>18),R=j+(P^_&(k^P))+T[12]+2368359562&4294967295,j=k+(R<<20&4294967295|R>>>12),R=_+(j^k^P)+T[5]+4294588738&4294967295,_=j+(R<<4&4294967295|R>>>28),R=P+(_^j^k)+T[8]+2272392833&4294967295,P=_+(R<<11&4294967295|R>>>21),R=k+(P^_^j)+T[11]+1839030562&4294967295,k=P+(R<<16&4294967295|R>>>16),R=j+(k^P^_)+T[14]+4259657740&4294967295,j=k+(R<<23&4294967295|R>>>9),R=_+(j^k^P)+T[1]+2763975236&4294967295,_=j+(R<<4&4294967295|R>>>28),R=P+(_^j^k)+T[4]+1272893353&4294967295,P=_+(R<<11&4294967295|R>>>21),R=k+(P^_^j)+T[7]+4139469664&4294967295,k=P+(R<<16&4294967295|R>>>16),R=j+(k^P^_)+T[10]+3200236656&4294967295,j=k+(R<<23&4294967295|R>>>9),R=_+(j^k^P)+T[13]+681279174&4294967295,_=j+(R<<4&4294967295|R>>>28),R=P+(_^j^k)+T[0]+3936430074&4294967295,P=_+(R<<11&4294967295|R>>>21),R=k+(P^_^j)+T[3]+3572445317&4294967295,k=P+(R<<16&4294967295|R>>>16),R=j+(k^P^_)+T[6]+76029189&4294967295,j=k+(R<<23&4294967295|R>>>9),R=_+(j^k^P)+T[9]+3654602809&4294967295,_=j+(R<<4&4294967295|R>>>28),R=P+(_^j^k)+T[12]+3873151461&4294967295,P=_+(R<<11&4294967295|R>>>21),R=k+(P^_^j)+T[15]+530742520&4294967295,k=P+(R<<16&4294967295|R>>>16),R=j+(k^P^_)+T[2]+3299628645&4294967295,j=k+(R<<23&4294967295|R>>>9),R=_+(k^(j|~P))+T[0]+4096336452&4294967295,_=j+(R<<6&4294967295|R>>>26),R=P+(j^(_|~k))+T[7]+1126891415&4294967295,P=_+(R<<10&4294967295|R>>>22),R=k+(_^(P|~j))+T[14]+2878612391&4294967295,k=P+(R<<15&4294967295|R>>>17),R=j+(P^(k|~_))+T[5]+4237533241&4294967295,j=k+(R<<21&4294967295|R>>>11),R=_+(k^(j|~P))+T[12]+1700485571&4294967295,_=j+(R<<6&4294967295|R>>>26),R=P+(j^(_|~k))+T[3]+2399980690&4294967295,P=_+(R<<10&4294967295|R>>>22),R=k+(_^(P|~j))+T[10]+4293915773&4294967295,k=P+(R<<15&4294967295|R>>>17),R=j+(P^(k|~_))+T[1]+2240044497&4294967295,j=k+(R<<21&4294967295|R>>>11),R=_+(k^(j|~P))+T[8]+1873313359&4294967295,_=j+(R<<6&4294967295|R>>>26),R=P+(j^(_|~k))+T[15]+4264355552&4294967295,P=_+(R<<10&4294967295|R>>>22),R=k+(_^(P|~j))+T[6]+2734768916&4294967295,k=P+(R<<15&4294967295|R>>>17),R=j+(P^(k|~_))+T[13]+1309151649&4294967295,j=k+(R<<21&4294967295|R>>>11),R=_+(k^(j|~P))+T[4]+4149444226&4294967295,_=j+(R<<6&4294967295|R>>>26),R=P+(j^(_|~k))+T[11]+3174756917&4294967295,P=_+(R<<10&4294967295|R>>>22),R=k+(_^(P|~j))+T[2]+718787259&4294967295,k=P+(R<<15&4294967295|R>>>17),R=j+(P^(k|~_))+T[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+P&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var j=_-this.blockSize,T=this.B,k=this.h,P=0;P<_;){if(k==0)for(;P<=j;)s(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<_;)if(T[k++]=C.charCodeAt(P++),k==this.blockSize){s(this,T),k=0;break}}else for(;P<_;)if(T[k++]=C[P++],k==this.blockSize){s(this,T),k=0;break}}this.h=k,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var j=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=j&255,j/=256;for(this.u(C),C=Array(16),_=j=0;4>_;++_)for(var T=0;32>T;T+=8)C[j++]=this.g[_]>>>T&255;return C};function i(C,_){var j=l;return Object.prototype.hasOwnProperty.call(j,C)?j[C]:j[C]=_(C)}function a(C,_){this.h=_;for(var j=[],T=!0,k=C.length-1;0<=k;k--){var P=C[k]|0;T&&P==_||(j[k]=P,T=!1)}this.g=j}var l={};function c(C){return-128<=C&&128>C?i(C,function(_){return new a([_|0],0>_?-1:0)}):new a([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return b(u(-C));for(var _=[],j=1,T=0;C>=j;T++)_[T]=C/j|0,j*=4294967296;return new a(_,0)}function h(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return b(h(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=u(Math.pow(_,8)),T=p,k=0;k<C.length;k+=8){var P=Math.min(8,C.length-k),R=parseInt(C.substring(k,k+P),_);8>P?(P=u(Math.pow(_,P)),T=T.j(P).add(u(R))):(T=T.j(j),T=T.add(u(R)))}return T}var p=c(0),m=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(y(this))return-b(this).m();for(var C=0,_=1,j=0;j<this.g.length;j++){var T=this.i(j);C+=(0<=T?T:4294967296+T)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(y(this))return"-"+b(this).toString(C);for(var _=u(Math.pow(C,6)),j=this,T="";;){var k=I(j,_).g;j=w(j,k.j(_));var P=((0<j.g.length?j.g[0]:j.h)>>>0).toString(C);if(j=k,v(j))return P+T;for(;6>P.length;)P="0"+P;T=P+T}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=w(this,C),y(C)?-1:v(C)?0:1};function b(C){for(var _=C.g.length,j=[],T=0;T<_;T++)j[T]=~C.g[T];return new a(j,~C.h).add(m)}t.abs=function(){return y(this)?b(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),j=[],T=0,k=0;k<=_;k++){var P=T+(this.i(k)&65535)+(C.i(k)&65535),R=(P>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);T=R>>>16,P&=65535,R&=65535,j[k]=R<<16|P}return new a(j,j[j.length-1]&-2147483648?-1:0)};function w(C,_){return C.add(b(_))}t.j=function(C){if(v(this)||v(C))return p;if(y(this))return y(C)?b(this).j(b(C)):b(b(this).j(C));if(y(C))return b(this.j(b(C)));if(0>this.l(g)&&0>C.l(g))return u(this.m()*C.m());for(var _=this.g.length+C.g.length,j=[],T=0;T<2*_;T++)j[T]=0;for(T=0;T<this.g.length;T++)for(var k=0;k<C.g.length;k++){var P=this.i(T)>>>16,R=this.i(T)&65535,H=C.i(k)>>>16,Z=C.i(k)&65535;j[2*T+2*k]+=R*Z,x(j,2*T+2*k),j[2*T+2*k+1]+=P*Z,x(j,2*T+2*k+1),j[2*T+2*k+1]+=R*H,x(j,2*T+2*k+1),j[2*T+2*k+2]+=P*H,x(j,2*T+2*k+2)}for(T=0;T<_;T++)j[T]=j[2*T+1]<<16|j[2*T];for(T=_;T<2*_;T++)j[T]=0;return new a(j,0)};function x(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function N(C,_){this.g=C,this.h=_}function I(C,_){if(v(_))throw Error("division by zero");if(v(C))return new N(p,p);if(y(C))return _=I(b(C),_),new N(b(_.g),b(_.h));if(y(_))return _=I(C,b(_)),new N(b(_.g),_.h);if(30<C.g.length){if(y(C)||y(_))throw Error("slowDivide_ only works with positive integers.");for(var j=m,T=_;0>=T.l(C);)j=A(j),T=A(T);var k=L(j,1),P=L(T,1);for(T=L(T,2),j=L(j,2);!v(T);){var R=P.add(T);0>=R.l(C)&&(k=k.add(j),P=R),T=L(T,1),j=L(j,1)}return _=w(C,k.j(_)),new N(k,_)}for(k=p;0<=C.l(_);){for(j=Math.max(1,Math.floor(C.m()/_.m())),T=Math.ceil(Math.log(j)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),P=u(j),R=P.j(_);y(R)||0<R.l(C);)j-=T,P=u(j),R=P.j(_);v(P)&&(P=m),k=k.add(P),C=w(C,R)}return new N(k,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),j=[],T=0;T<_;T++)j[T]=this.i(T)&C.i(T);return new a(j,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),j=[],T=0;T<_;T++)j[T]=this.i(T)|C.i(T);return new a(j,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),j=[],T=0;T<_;T++)j[T]=this.i(T)^C.i(T);return new a(j,this.h^C.h)};function A(C){for(var _=C.g.length+1,j=[],T=0;T<_;T++)j[T]=C.i(T)<<1|C.i(T-1)>>>31;return new a(j,C.h)}function L(C,_){var j=_>>5;_%=32;for(var T=C.g.length-j,k=[],P=0;P<T;P++)k[P]=0<_?C.i(P+j)>>>_|C.i(P+j+1)<<32-_:C.i(P+j);return new a(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZP=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,fo=a}).apply(typeof PN<"u"?PN:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XP,Yc,JP,lf,Vv,eT,tT,nT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,S){return f==Array.prototype||f==Object.prototype||(f[E]=S.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var E=0;E<f.length;++E){var S=f[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(f,E){if(E)e:{var S=r;f=f.split(".");for(var M=0;M<f.length-1;M++){var q=f[M];if(!(q in S))break e;S=S[q]}f=f[f.length-1],M=S[f],E=E(M),E!=M&&E!=null&&e(S,f,{configurable:!0,writable:!0,value:E})}}function i(f,E){f instanceof String&&(f+="");var S=0,M=!1,q={next:function(){if(!M&&S<f.length){var ee=S++;return{value:E(ee,f[ee]),done:!1}}return M=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(f){return f||function(){return i(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function u(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function h(f,E,S){return f.call.apply(f.bind,arguments)}function p(f,E,S){if(!f)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,M),f.apply(E,q)}}return function(){return f.apply(E,arguments)}}function m(f,E,S){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function g(f,E){var S=Array.prototype.slice.call(arguments,1);return function(){var M=S.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function v(f,E){function S(){}S.prototype=E.prototype,f.aa=E.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(M,q,ee){for(var me=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)me[jt-2]=arguments[jt];return E.prototype[q].apply(M,me)}}function y(f){const E=f.length;if(0<E){const S=Array(E);for(let M=0;M<E;M++)S[M]=f[M];return S}return[]}function b(f,E){for(let S=1;S<arguments.length;S++){const M=arguments[S];if(c(M)){const q=f.length||0,ee=M.length||0;f.length=q+ee;for(let me=0;me<ee;me++)f[q+me]=M[me]}else f.push(M)}}class w{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function x(f){return/^[\s\xa0]*$/.test(f)}function N(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function I(f){return I[" "](f),f}I[" "]=function(){};var A=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function L(f,E,S){for(const M in f)E.call(S,f[M],M,f)}function C(f,E){for(const S in f)E.call(void 0,f[S],S,f)}function _(f){const E={};for(const S in f)E[S]=f[S];return E}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(f,E){let S,M;for(let q=1;q<arguments.length;q++){M=arguments[q];for(S in M)f[S]=M[S];for(let ee=0;ee<j.length;ee++)S=j[ee],Object.prototype.hasOwnProperty.call(M,S)&&(f[S]=M[S])}}function k(f){var E=1;f=f.split(":");const S=[];for(;0<E&&f.length;)S.push(f.shift()),E--;return f.length&&S.push(f.join(":")),S}function P(f){l.setTimeout(()=>{throw f},0)}function R(){var f=D;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class H{constructor(){this.h=this.g=null}add(E,S){const M=Z.get();M.set(E,S),this.h?this.h.next=M:this.g=M,this.h=M}}var Z=new w(()=>new G,f=>f.reset());class G{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let te,O=!1,D=new H,V=()=>{const f=l.Promise.resolve(void 0);te=()=>{f.then(U)}};var U=()=>{for(var f;f=R();){try{f.h.call(f.g)}catch(S){P(S)}var E=Z;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}O=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};l.addEventListener("test",S,E),l.removeEventListener("test",S,E)}catch{}return f}();function W(f,E){if(Q.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(A){e:{try{I(E.nodeName);var q=!0;break e}catch{}q=!1}q||(E=null)}}else S=="mouseover"?E=f.fromElement:S=="mouseout"&&(E=f.toElement);this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ge[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&W.aa.h.call(this)}}v(W,Q);var ge={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),ce=0;function xe(f,E,S,M,q){this.listener=f,this.proxy=null,this.src=E,this.type=S,this.capture=!!M,this.ha=q,this.key=++ce,this.da=this.fa=!1}function Y(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function J(f){this.src=f,this.g={},this.h=0}J.prototype.add=function(f,E,S,M,q){var ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);var me=he(f,E,M,q);return-1<me?(E=f[me],S||(E.fa=!1)):(E=new xe(E,this.src,ee,!!M,q),E.fa=S,f.push(E)),E};function B(f,E){var S=E.type;if(S in f.g){var M=f.g[S],q=Array.prototype.indexOf.call(M,E,void 0),ee;(ee=0<=q)&&Array.prototype.splice.call(M,q,1),ee&&(Y(E),f.g[S].length==0&&(delete f.g[S],f.h--))}}function he(f,E,S,M){for(var q=0;q<f.length;++q){var ee=f[q];if(!ee.da&&ee.listener==E&&ee.capture==!!S&&ee.ha==M)return q}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),be={};function We(f,E,S,M,q){if(Array.isArray(E)){for(var ee=0;ee<E.length;ee++)We(f,E[ee],S,M,q);return null}return S=it(S),f&&f[X]?f.K(E,S,u(M)?!!M.capture:!1,q):qe(f,E,S,!1,M,q)}function qe(f,E,S,M,q,ee){if(!E)throw Error("Invalid event type");var me=u(q)?!!q.capture:!!q,jt=pe(f);if(jt||(f[Se]=jt=new J(f)),S=jt.add(E,S,M,me,ee),S.proxy)return S;if(M=Ke(),S.proxy=M,M.src=f,M.listener=S,f.addEventListener)se||(q=me),q===void 0&&(q=!1),f.addEventListener(E.toString(),M,q);else if(f.attachEvent)f.attachEvent(Ct(E.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ke(){function f(S){return E.call(f.src,f.listener,S)}const E=K;return f}function st(f,E,S,M,q){if(Array.isArray(E))for(var ee=0;ee<E.length;ee++)st(f,E[ee],S,M,q);else M=u(M)?!!M.capture:!!M,S=it(S),f&&f[X]?(f=f.i,E=String(E).toString(),E in f.g&&(ee=f.g[E],S=he(ee,S,M,q),-1<S&&(Y(ee[S]),Array.prototype.splice.call(ee,S,1),ee.length==0&&(delete f.g[E],f.h--)))):f&&(f=pe(f))&&(E=f.g[E.toString()],f=-1,E&&(f=he(E,S,M,q)),(S=-1<f?E[f]:null)&&Nt(S))}function Nt(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[X])B(E.i,f);else{var S=f.type,M=f.proxy;E.removeEventListener?E.removeEventListener(S,M,f.capture):E.detachEvent?E.detachEvent(Ct(S),M):E.addListener&&E.removeListener&&E.removeListener(M),(S=pe(E))?(B(S,f),S.h==0&&(S.src=null,E[Se]=null)):Y(f)}}}function Ct(f){return f in be?be[f]:be[f]="on"+f}function K(f,E){if(f.da)f=!0;else{E=new W(E,this);var S=f.listener,M=f.ha||f.src;f.fa&&Nt(f),f=S.call(M,E)}return f}function pe(f){return f=f[Se],f instanceof J?f:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function it(f){return typeof f=="function"?f:(f[de]||(f[de]=function(E){return f.handleEvent(E)}),f[de])}function oe(){z.call(this),this.i=new J(this),this.M=this,this.F=null}v(oe,z),oe.prototype[X]=!0,oe.prototype.removeEventListener=function(f,E,S,M){st(this,f,E,S,M)};function we(f,E){var S,M=f.F;if(M)for(S=[];M;M=M.F)S.push(M);if(f=f.M,M=E.type||E,typeof E=="string")E=new Q(E,f);else if(E instanceof Q)E.target=E.target||f;else{var q=E;E=new Q(M,f),T(E,q)}if(q=!0,S)for(var ee=S.length-1;0<=ee;ee--){var me=E.g=S[ee];q=je(me,M,!0,E)&&q}if(me=E.g=f,q=je(me,M,!0,E)&&q,q=je(me,M,!1,E)&&q,S)for(ee=0;ee<S.length;ee++)me=E.g=S[ee],q=je(me,M,!1,E)&&q}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var S=f.g[E],M=0;M<S.length;M++)Y(S[M]);delete f.g[E],f.h--}}this.F=null},oe.prototype.K=function(f,E,S,M){return this.i.add(String(f),E,!1,S,M)},oe.prototype.L=function(f,E,S,M){return this.i.add(String(f),E,!0,S,M)};function je(f,E,S,M){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var q=!0,ee=0;ee<E.length;++ee){var me=E[ee];if(me&&!me.da&&me.capture==S){var jt=me.listener,Nn=me.ha||me.src;me.fa&&B(f.i,me),q=jt.call(Nn,M)!==!1&&q}}return q&&!M.defaultPrevented}function vt(f,E,S){if(typeof f=="function")S&&(f=m(f,S));else if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:l.setTimeout(f,E||0)}function At(f){f.g=vt(()=>{f.g=null,f.i&&(f.i=!1,At(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class _t extends z{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:At(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function St(f){z.call(this),this.h=f,this.g={}}v(St,z);var It=[];function Gt(f){L(f.g,function(E,S){this.g.hasOwnProperty(S)&&Nt(E)},f),f.g={}}St.prototype.N=function(){St.aa.N.call(this),Gt(this)},St.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oe=l.JSON.stringify,re=l.JSON.parse,Te=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function Qe(){}Qe.prototype.h=null;function Be(f){return f.h||(f.h=f.i())}function sn(){}var Rt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kt(){Q.call(this,"d")}v(Kt,Q);function Qt(){Q.call(this,"c")}v(Qt,Q);var Rn={},Pe=null;function Ye(){return Pe=Pe||new oe}Rn.La="serverreachability";function ot(f){Q.call(this,Rn.La,f)}v(ot,Q);function Yt(f){const E=Ye();we(E,new ot(E))}Rn.STAT_EVENT="statevent";function ht(f,E){Q.call(this,Rn.STAT_EVENT,f),this.stat=E}v(ht,Q);function ct(f){const E=Ye();we(E,new ht(E,f))}Rn.Ma="timingevent";function Le(f,E){Q.call(this,Rn.Ma,f),this.size=E}v(Le,Q);function En(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},E)}function ir(){this.g=!0}ir.prototype.xa=function(){this.g=!1};function rD(f,E,S,M,q,ee){f.info(function(){if(f.g)if(ee)for(var me="",jt=ee.split("&"),Nn=0;Nn<jt.length;Nn++){var pt=jt[Nn].split("=");if(1<pt.length){var Ln=pt[0];pt=pt[1];var Mn=Ln.split("_");me=2<=Mn.length&&Mn[1]=="type"?me+(Ln+"="+pt+"&"):me+(Ln+"=redacted&")}}else me=null;else me=ee;return"XMLHTTP REQ ("+M+") [attempt "+q+"]: "+E+`
`+S+`
`+me})}function sD(f,E,S,M,q,ee,me){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+q+"]: "+E+`
`+S+`
`+ee+" "+me})}function Da(f,E,S,M){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+oD(f,S)+(M?" "+M:"")})}function iD(f,E){f.info(function(){return"TIMEOUT: "+E})}ir.prototype.info=function(){};function oD(f,E){if(!f.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var M=S[f];if(!(2>M.length)){var q=M[1];if(Array.isArray(q)&&!(1>q.length)){var ee=q[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var me=1;me<q.length;me++)q[me]=""}}}}return Oe(S)}catch{return E}}var Yd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dg;function Zd(){}v(Zd,Qe),Zd.prototype.g=function(){return new XMLHttpRequest},Zd.prototype.i=function(){return{}},dg=new Zd;function _i(f,E,S,M){this.j=f,this.i=E,this.l=S,this.R=M||1,this.U=new St(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _b}function _b(){this.i=null,this.g="",this.h=!1}var Sb={},hg={};function fg(f,E,S){f.L=1,f.v=th(Qs(E)),f.m=S,f.P=!0,jb(f,null)}function jb(f,E){f.F=Date.now(),Xd(f),f.A=Qs(f.v);var S=f.A,M=f.R;Array.isArray(M)||(M=[String(M)]),Ub(S.i,"t",M),f.C=0,S=f.j.J,f.h=new _b,f.g=i1(f.j,S?E:null,!f.m),0<f.O&&(f.M=new _t(m(f.Y,f,f.g),f.O)),E=f.U,S=f.g,M=f.ca;var q="readystatechange";Array.isArray(q)||(q&&(It[0]=q.toString()),q=It);for(var ee=0;ee<q.length;ee++){var me=We(S,q[ee],M||E.handleEvent,!1,E.h||E);if(!me)break;E.g[me.key]=me}E=f.H?_(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Yt(),rD(f.i,f.u,f.A,f.l,f.R,f.m)}_i.prototype.ca=function(f){f=f.target;const E=this.M;E&&Ys(f)==3?E.j():this.Y(f)},_i.prototype.Y=function(f){try{if(f==this.g)e:{const Mn=Ys(this.g);var E=this.g.Ba();const Fa=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||Kb(this.g)))){this.J||Mn!=4||E==7||(E==8||0>=Fa?Yt(3):Yt(2)),pg(this);var S=this.g.Z();this.X=S;t:if(kb(this)){var M=Kb(this.g);f="";var q=M.length,ee=Ys(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oo(this),bc(this);var me="";break t}this.h.i=new l.TextDecoder}for(E=0;E<q;E++)this.h.h=!0,f+=this.h.i.decode(M[E],{stream:!(ee&&E==q-1)});M.length=0,this.h.g+=f,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=S==200,sD(this.i,this.u,this.A,this.l,this.R,Mn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,Nn=this.g;if((jt=Nn.g?Nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(jt)){var pt=jt;break t}}pt=null}if(S=pt)Da(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mg(this,S);else{this.o=!1,this.s=3,ct(12),Oo(this),bc(this);break e}}if(this.P){S=!0;let Zr;for(;!this.J&&this.C<me.length;)if(Zr=aD(this,me),Zr==hg){Mn==4&&(this.s=4,ct(14),S=!1),Da(this.i,this.l,null,"[Incomplete Response]");break}else if(Zr==Sb){this.s=4,ct(15),Da(this.i,this.l,me,"[Invalid Chunk]"),S=!1;break}else Da(this.i,this.l,Zr,null),mg(this,Zr);if(kb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||me.length!=0||this.h.h||(this.s=1,ct(16),S=!1),this.o=this.o&&S,!S)Da(this.i,this.l,me,"[Invalid Chunked Response]"),Oo(this),bc(this);else if(0<me.length&&!this.W){this.W=!0;var Ln=this.j;Ln.g==this&&Ln.ba&&!Ln.M&&(Ln.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),bg(Ln),Ln.M=!0,ct(11))}}else Da(this.i,this.l,me,null),mg(this,me);Mn==4&&Oo(this),this.o&&!this.J&&(Mn==4?t1(this.j,this):(this.o=!1,Xd(this)))}else CD(this.g),S==400&&0<me.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Oo(this),bc(this)}}}catch{}finally{}};function kb(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function aD(f,E){var S=f.C,M=E.indexOf(`
`,S);return M==-1?hg:(S=Number(E.substring(S,M)),isNaN(S)?Sb:(M+=1,M+S>E.length?hg:(E=E.slice(M,M+S),f.C=M+S,E)))}_i.prototype.cancel=function(){this.J=!0,Oo(this)};function Xd(f){f.S=Date.now()+f.I,Ib(f,f.I)}function Ib(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=En(m(f.ba,f),E)}function pg(f){f.B&&(l.clearTimeout(f.B),f.B=null)}_i.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(iD(this.i,this.A),this.L!=2&&(Yt(),ct(17)),Oo(this),this.s=2,bc(this)):Ib(this,this.S-f)};function bc(f){f.j.G==0||f.J||t1(f.j,f)}function Oo(f){pg(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,Gt(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function mg(f,E){try{var S=f.j;if(S.G!=0&&(S.g==f||gg(S.h,f))){if(!f.K&&gg(S.h,f)&&S.G==3){try{var M=S.Da.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var q=M;if(q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)ah(S),ih(S);else break e;wg(S),ct(18)}}else S.za=q[1],0<S.za-S.T&&37500>q[2]&&S.F&&S.v==0&&!S.C&&(S.C=En(m(S.Za,S),6e3));if(1>=Ab(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Fo(S,11)}else if((f.K||S.g==f)&&ah(S),!x(E))for(q=S.Da.g.parse(E),E=0;E<q.length;E++){let pt=q[E];if(S.T=pt[0],pt=pt[1],S.G==2)if(pt[0]=="c"){S.K=pt[1],S.ia=pt[2];const Ln=pt[3];Ln!=null&&(S.la=Ln,S.j.info("VER="+S.la));const Mn=pt[4];Mn!=null&&(S.Aa=Mn,S.j.info("SVER="+S.Aa));const Fa=pt[5];Fa!=null&&typeof Fa=="number"&&0<Fa&&(M=1.5*Fa,S.L=M,S.j.info("backChannelRequestTimeoutMs_="+M)),M=S;const Zr=f.g;if(Zr){const ch=Zr.g?Zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ch){var ee=M.h;ee.g||ch.indexOf("spdy")==-1&&ch.indexOf("quic")==-1&&ch.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(yg(ee,ee.h),ee.h=null))}if(M.D){const Eg=Zr.g?Zr.g.getResponseHeader("X-HTTP-Session-Id"):null;Eg&&(M.ya=Eg,Lt(M.I,M.D,Eg))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),M=S;var me=f;if(M.qa=s1(M,M.J?M.ia:null,M.W),me.K){Rb(M.h,me);var jt=me,Nn=M.L;Nn&&(jt.I=Nn),jt.B&&(pg(jt),Xd(jt)),M.g=me}else Jb(M);0<S.i.length&&oh(S)}else pt[0]!="stop"&&pt[0]!="close"||Fo(S,7);else S.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Fo(S,7):xg(S):pt[0]!="noop"&&S.l&&S.l.ta(pt),S.v=0)}}Yt(4)}catch{}}var lD=class{constructor(f,E){this.g=f,this.map=E}};function Pb(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tb(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ab(f){return f.h?1:f.g?f.g.size:0}function gg(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function yg(f,E){f.g?f.g.add(E):f.h=E}function Rb(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Pb.prototype.cancel=function(){if(this.i=Lb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Lb(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const S of f.g.values())E=E.concat(S.D);return E}return y(f.i)}function cD(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(c(f)){for(var E=[],S=f.length,M=0;M<S;M++)E.push(f[M]);return E}E=[],S=0;for(M in f)E[S++]=f[M];return E}function uD(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||typeof f=="string"){var E=[];f=f.length;for(var S=0;S<f;S++)E.push(S);return E}E=[],S=0;for(const M in f)E[S++]=M;return E}}}function Mb(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(c(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var S=uD(f),M=cD(f),q=M.length,ee=0;ee<q;ee++)E.call(void 0,M[ee],S&&S[ee],f)}var Db=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dD(f,E){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var M=f[S].indexOf("="),q=null;if(0<=M){var ee=f[S].substring(0,M);q=f[S].substring(M+1)}else ee=f[S];E(ee,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Vo(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Vo){this.h=f.h,Jd(this,f.j),this.o=f.o,this.g=f.g,eh(this,f.s),this.l=f.l;var E=f.i,S=new Cc;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),Ob(this,S),this.m=f.m}else f&&(E=String(f).match(Db))?(this.h=!1,Jd(this,E[1]||"",!0),this.o=Ec(E[2]||""),this.g=Ec(E[3]||"",!0),eh(this,E[4]),this.l=Ec(E[5]||"",!0),Ob(this,E[6]||"",!0),this.m=Ec(E[7]||"")):(this.h=!1,this.i=new Cc(null,this.h))}Vo.prototype.toString=function(){var f=[],E=this.j;E&&f.push(Nc(E,Vb,!0),":");var S=this.g;return(S||E=="file")&&(f.push("//"),(E=this.o)&&f.push(Nc(E,Vb,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Nc(S,S.charAt(0)=="/"?pD:fD,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Nc(S,gD)),f.join("")};function Qs(f){return new Vo(f)}function Jd(f,E,S){f.j=S?Ec(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function eh(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function Ob(f,E,S){E instanceof Cc?(f.i=E,yD(f.i,f.h)):(S||(E=Nc(E,mD)),f.i=new Cc(E,f.h))}function Lt(f,E,S){f.i.set(E,S)}function th(f){return Lt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ec(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Nc(f,E,S){return typeof f=="string"?(f=encodeURI(f).replace(E,hD),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function hD(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Vb=/[#\/\?@]/g,fD=/[#\?:]/g,pD=/[#\?]/g,mD=/[#\?@]/g,gD=/#/g;function Cc(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function Si(f){f.g||(f.g=new Map,f.h=0,f.i&&dD(f.i,function(E,S){f.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}t=Cc.prototype,t.add=function(f,E){Si(this),this.i=null,f=Oa(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(E),this.h+=1,this};function Fb(f,E){Si(f),E=Oa(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function $b(f,E){return Si(f),E=Oa(f,E),f.g.has(E)}t.forEach=function(f,E){Si(this),this.g.forEach(function(S,M){S.forEach(function(q){f.call(E,q,M,this)},this)},this)},t.na=function(){Si(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let M=0;M<E.length;M++){const q=f[M];for(let ee=0;ee<q.length;ee++)S.push(E[M])}return S},t.V=function(f){Si(this);let E=[];if(typeof f=="string")$b(this,f)&&(E=E.concat(this.g.get(Oa(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)E=E.concat(f[S])}return E},t.set=function(f,E){return Si(this),this.i=null,f=Oa(this,f),$b(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function Ub(f,E,S){Fb(f,E),0<S.length&&(f.i=null,f.g.set(Oa(f,E),y(S)),f.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var M=E[S];const ee=encodeURIComponent(String(M)),me=this.V(M);for(M=0;M<me.length;M++){var q=ee;me[M]!==""&&(q+="="+encodeURIComponent(String(me[M]))),f.push(q)}}return this.i=f.join("&")};function Oa(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function yD(f,E){E&&!f.j&&(Si(f),f.i=null,f.g.forEach(function(S,M){var q=M.toLowerCase();M!=q&&(Fb(this,M),Ub(this,q,S))},f)),f.j=E}function vD(f,E){const S=new ir;if(l.Image){const M=new Image;M.onload=g(ji,S,"TestLoadImage: loaded",!0,E,M),M.onerror=g(ji,S,"TestLoadImage: error",!1,E,M),M.onabort=g(ji,S,"TestLoadImage: abort",!1,E,M),M.ontimeout=g(ji,S,"TestLoadImage: timeout",!1,E,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else E(!1)}function xD(f,E){const S=new ir,M=new AbortController,q=setTimeout(()=>{M.abort(),ji(S,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:M.signal}).then(ee=>{clearTimeout(q),ee.ok?ji(S,"TestPingServer: ok",!0,E):ji(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(q),ji(S,"TestPingServer: error",!1,E)})}function ji(f,E,S,M,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),M(S)}catch{}}function wD(){this.g=new Te}function bD(f,E,S){const M=S||"";try{Mb(f,function(q,ee){let me=q;u(q)&&(me=Oe(q)),E.push(M+ee+"="+encodeURIComponent(me))})}catch(q){throw E.push(M+"type="+encodeURIComponent("_badmap")),q}}function nh(f){this.l=f.Ub||null,this.j=f.eb||!1}v(nh,Qe),nh.prototype.g=function(){return new rh(this.l,this.j)},nh.prototype.i=function(f){return function(){return f}}({});function rh(f,E){oe.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(rh,oe),t=rh.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,Sc(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||l).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_c(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Sc(this)),this.g&&(this.readyState=3,Sc(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zb(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function zb(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?_c(this):Sc(this),this.readyState==3&&zb(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,_c(this))},t.Qa=function(f){this.g&&(this.response=f,_c(this))},t.ga=function(){this.g&&_c(this)};function _c(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Sc(f)}t.setRequestHeader=function(f,E){this.u.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=E.next();return f.join(`\r
`)};function Sc(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(rh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Bb(f){let E="";return L(f,function(S,M){E+=M,E+=":",E+=S,E+=`\r
`}),E}function vg(f,E,S){e:{for(M in S){var M=!1;break e}M=!0}M||(S=Bb(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):Lt(f,E,S))}function Zt(f){oe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Zt,oe);var ED=/^https?$/i,ND=["POST","PUT"];t=Zt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,E,S,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dg.g(),this.v=this.o?Be(this.o):Be(dg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(ee){Hb(this,ee);return}if(f=S||"",S=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var q in M)S.set(q,M[q]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ee of M.keys())S.set(ee,M.get(ee));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(S.keys()).find(ee=>ee.toLowerCase()=="content-type"),q=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(ND,E,void 0))||M||q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of S)this.g.setRequestHeader(ee,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gb(this),this.u=!0,this.g.send(f),this.u=!1}catch(ee){Hb(this,ee)}};function Hb(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,Wb(f),sh(f)}function Wb(f){f.A||(f.A=!0,we(f,"complete"),we(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,we(this,"complete"),we(this,"abort"),sh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sh(this,!0)),Zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qb(this):this.bb())},t.bb=function(){qb(this)};function qb(f){if(f.h&&typeof a<"u"&&(!f.v[1]||Ys(f)!=4||f.Z()!=2)){if(f.u&&Ys(f)==4)vt(f.Ea,0,f);else if(we(f,"readystatechange"),Ys(f)==4){f.h=!1;try{const me=f.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var M;if(M=me===0){var q=String(f.D).match(Db)[1]||null;!q&&l.self&&l.self.location&&(q=l.self.location.protocol.slice(0,-1)),M=!ED.test(q?q.toLowerCase():"")}S=M}if(S)we(f,"complete"),we(f,"success");else{f.m=6;try{var ee=2<Ys(f)?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.Z()+"]",Wb(f)}}finally{sh(f)}}}}function sh(f,E){if(f.g){Gb(f);const S=f.g,M=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||we(f,"ready");try{S.onreadystatechange=M}catch{}}}function Gb(f){f.I&&(l.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Ys(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Ys(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),re(E)}};function Kb(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function CD(f){const E={};f=(f.g&&2<=Ys(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(x(f[M]))continue;var S=k(f[M]);const q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ee=E[q]||[];E[q]=ee,ee.push(S)}C(E,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jc(f,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||E}function Qb(f){this.Aa=0,this.i=[],this.j=new ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jc("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jc("baseRetryDelayMs",5e3,f),this.cb=jc("retryDelaySeedMs",1e4,f),this.Wa=jc("forwardChannelMaxRetries",2,f),this.wa=jc("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Pb(f&&f.concurrentRequestLimit),this.Da=new wD,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qb.prototype,t.la=8,t.G=1,t.connect=function(f,E,S,M){ct(0),this.W=f,this.H=E||{},S&&M!==void 0&&(this.H.OSID=S,this.H.OAID=M),this.F=this.X,this.I=s1(this,null,this.W),oh(this)};function xg(f){if(Yb(f),f.G==3){var E=f.U++,S=Qs(f.I);if(Lt(S,"SID",f.K),Lt(S,"RID",E),Lt(S,"TYPE","terminate"),kc(f,S),E=new _i(f,f.j,E),E.L=2,E.v=th(Qs(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&l.Image&&(new Image().src=E.v,S=!0),S||(E.g=i1(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Xd(E)}r1(f)}function ih(f){f.g&&(bg(f),f.g.cancel(),f.g=null)}function Yb(f){ih(f),f.u&&(l.clearTimeout(f.u),f.u=null),ah(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function oh(f){if(!Tb(f.h)&&!f.s){f.s=!0;var E=f.Ga;te||V(),O||(te(),O=!0),D.add(E,f),f.B=0}}function _D(f,E){return Ab(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=En(m(f.Ga,f,E),n1(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const q=new _i(this,this.j,f);let ee=this.o;if(this.S&&(ee?(ee=_(ee),T(ee,this.S)):ee=this.S),this.m!==null||this.O||(q.H=ee,ee=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var M=this.i[S];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=Xb(this,q,E),S=Qs(this.I),Lt(S,"RID",f),Lt(S,"CVER",22),this.D&&Lt(S,"X-HTTP-Session-Id",this.D),kc(this,S),ee&&(this.O?E="headers="+encodeURIComponent(String(Bb(ee)))+"&"+E:this.m&&vg(S,this.m,ee)),yg(this.h,q),this.Ua&&Lt(S,"TYPE","init"),this.P?(Lt(S,"$req",E),Lt(S,"SID","null"),q.T=!0,fg(q,S,null)):fg(q,S,E),this.G=2}}else this.G==3&&(f?Zb(this,f):this.i.length==0||Tb(this.h)||Zb(this))};function Zb(f,E){var S;E?S=E.l:S=f.U++;const M=Qs(f.I);Lt(M,"SID",f.K),Lt(M,"RID",S),Lt(M,"AID",f.T),kc(f,M),f.m&&f.o&&vg(M,f.m,f.o),S=new _i(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),E&&(f.i=E.D.concat(f.i)),E=Xb(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),yg(f.h,S),fg(S,M,E)}function kc(f,E){f.H&&L(f.H,function(S,M){Lt(E,M,S)}),f.l&&Mb({},function(S,M){Lt(E,M,S)})}function Xb(f,E,S){S=Math.min(f.i.length,S);var M=f.l?m(f.l.Na,f.l,f):null;e:{var q=f.i;let ee=-1;for(;;){const me=["count="+S];ee==-1?0<S?(ee=q[0].g,me.push("ofs="+ee)):ee=0:me.push("ofs="+ee);let jt=!0;for(let Nn=0;Nn<S;Nn++){let pt=q[Nn].g;const Ln=q[Nn].map;if(pt-=ee,0>pt)ee=Math.max(0,q[Nn].g-100),jt=!1;else try{bD(Ln,me,"req"+pt+"_")}catch{M&&M(Ln)}}if(jt){M=me.join("&");break e}}}return f=f.i.splice(0,S),E.D=f,M}function Jb(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;te||V(),O||(te(),O=!0),D.add(E,f),f.v=0}}function wg(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=En(m(f.Fa,f),n1(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,e1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=En(m(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),ih(this),e1(this))};function bg(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function e1(f){f.g=new _i(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Qs(f.qa);Lt(E,"RID","rpc"),Lt(E,"SID",f.K),Lt(E,"AID",f.T),Lt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&Lt(E,"TO",f.ja),Lt(E,"TYPE","xmlhttp"),kc(f,E),f.m&&f.o&&vg(E,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=th(Qs(E)),S.m=null,S.P=!0,jb(S,f)}t.Za=function(){this.C!=null&&(this.C=null,ih(this),wg(this),ct(19))};function ah(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function t1(f,E){var S=null;if(f.g==E){ah(f),bg(f),f.g=null;var M=2}else if(gg(f.h,E))S=E.D,Rb(f.h,E),M=1;else return;if(f.G!=0){if(E.o)if(M==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var q=f.B;M=Ye(),we(M,new Le(M,S)),oh(f)}else Jb(f);else if(q=E.s,q==3||q==0&&0<E.X||!(M==1&&_D(f,E)||M==2&&wg(f)))switch(S&&0<S.length&&(E=f.h,E.i=E.i.concat(S)),q){case 1:Fo(f,5);break;case 4:Fo(f,10);break;case 3:Fo(f,6);break;default:Fo(f,2)}}}function n1(f,E){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*E}function Fo(f,E){if(f.j.info("Error code "+E),E==2){var S=m(f.fb,f),M=f.Xa;const q=!M;M=new Vo(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Jd(M,"https"),th(M),q?vD(M.toString(),S):xD(M.toString(),S)}else ct(2);f.G=0,f.l&&f.l.sa(E),r1(f),Yb(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function r1(f){if(f.G=0,f.ka=[],f.l){const E=Lb(f.h);(E.length!=0||f.i.length!=0)&&(b(f.ka,E),b(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function s1(f,E,S){var M=S instanceof Vo?Qs(S):new Vo(S);if(M.g!="")E&&(M.g=E+"."+M.g),eh(M,M.s);else{var q=l.location;M=q.protocol,E=E?E+"."+q.hostname:q.hostname,q=+q.port;var ee=new Vo(null);M&&Jd(ee,M),E&&(ee.g=E),q&&eh(ee,q),S&&(ee.l=S),M=ee}return S=f.D,E=f.ya,S&&E&&Lt(M,S,E),Lt(M,"VER",f.la),kc(f,M),M}function i1(f,E,S){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new Zt(new nh({eb:S})):new Zt(f.pa),E.Ha(f.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function o1(){}t=o1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lh(){}lh.prototype.g=function(f,E){return new Er(f,E)};function Er(f,E){oe.call(this),this.g=new Qb(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!x(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!x(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Va(this)}v(Er,oe),Er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Er.prototype.close=function(){xg(this.g)},Er.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Oe(f),f=S);E.i.push(new lD(E.Ya++,f)),E.G==3&&oh(E)},Er.prototype.N=function(){this.g.l=null,delete this.j,xg(this.g),delete this.g,Er.aa.N.call(this)};function a1(f){Kt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const S in E){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}v(a1,Kt);function l1(){Qt.call(this),this.status=1}v(l1,Qt);function Va(f){this.g=f}v(Va,o1),Va.prototype.ua=function(){we(this.g,"a")},Va.prototype.ta=function(f){we(this.g,new a1(f))},Va.prototype.sa=function(f){we(this.g,new l1)},Va.prototype.ra=function(){we(this.g,"b")},lh.prototype.createWebChannel=lh.prototype.g,Er.prototype.send=Er.prototype.o,Er.prototype.open=Er.prototype.m,Er.prototype.close=Er.prototype.close,nT=function(){return new lh},tT=function(){return Ye()},eT=Rn,Vv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yd.NO_ERROR=0,Yd.TIMEOUT=8,Yd.HTTP_ERROR=6,lf=Yd,Cb.COMPLETE="complete",JP=Cb,sn.EventType=Rt,Rt.OPEN="a",Rt.CLOSE="b",Rt.ERROR="c",Rt.MESSAGE="d",oe.prototype.listen=oe.prototype.K,Yc=sn,Zt.prototype.listenOnce=Zt.prototype.L,Zt.prototype.getLastError=Zt.prototype.Ka,Zt.prototype.getLastErrorCode=Zt.prototype.Ba,Zt.prototype.getStatus=Zt.prototype.Z,Zt.prototype.getResponseJson=Zt.prototype.Oa,Zt.prototype.getResponseText=Zt.prototype.oa,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Ha,XP=Zt}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const TN="@firebase/firestore",AN="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Ox("@firebase/firestore");function Ha(){return xa.logLevel}function Ee(t,...e){if(xa.logLevel<=at.DEBUG){const n=e.map(Zx);xa.debug(`Firestore (${lc}): ${t}`,...n)}}function wi(t,...e){if(xa.logLevel<=at.ERROR){const n=e.map(Zx);xa.error(`Firestore (${lc}): ${t}`,...n)}}function Ul(t,...e){if(xa.logLevel<=at.WARN){const n=e.map(Zx);xa.warn(`Firestore (${lc}): ${t}`,...n)}}function Zx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,rT(t,r,n)}function rT(t,e,n){let r=`FIRESTORE (${lc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wi(r),new Error(r)}function bt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||rT(e,s,r)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Un.UNAUTHENTICATED))}shutdown(){}}class QU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YU{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ui,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ui)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new sT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class ZU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const r=i=>{i.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Ee("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new RN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new RN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=ez(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function Fv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Je(r,s);{const i=iT(),a=tz(i.encode(LN(t,n)),i.encode(LN(e,n)));return a!==0?a:Je(r,s)}}n+=r>65535?2:1}return Je(t.length,e.length)}function LN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function tz(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Je(t[n],e[n]);return Je(t.length,e.length)}function zl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=-62135596800,DN=1e6;class pn{static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*DN);return new pn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<MN)throw new Ce(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DN}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-MN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new pn(0,0))}static max(){return new He(new pn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="__name__";class _s{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _s.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _s?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=_s.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Je(e.length,n.length)}static compareSegments(e,n){const r=_s.isNumericId(e),s=_s.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?_s.extractNumericId(e).compare(_s.extractNumericId(n)):Fv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class Ot extends _s{construct(e,n,r){return new Ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const nz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends _s{construct(e,n,r){return new Sn(e,n,r)}static isValidIdentifier(e){return nz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ON}static keyField(){return new Sn([ON])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ce(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Ce(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ce(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new Ce(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Ot.fromString(e))}static fromName(e){return new De(Ot.fromString(e).popFirst(5))}static empty(){return new De(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=-1;function rz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=He.fromTimestamp(r===1e9?new pn(n+1,0):new pn(n,r));return new wo(s,De.empty(),e)}function sz(t){return new wo(t.readTime,t.key,Xu)}class wo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wo(He.min(),De.empty(),Xu)}static max(){return new wo(He.max(),De.empty(),Xu)}}function iz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class az{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==oz)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(s=>s?le.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new le((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{a[u]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new le((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function lz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}dm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=-1;function hm(t){return t==null}function ep(t){return t===0&&1/t==-1/0}function cz(t){return typeof t=="number"&&Number.isInteger(t)&&!ep(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="";function uz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=VN(e)),e=dz(t.get(n),e);return VN(e)}function dz(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case aT:n+="";break;default:n+=i}}return n}function VN(t){return t+aT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lh(this.root,e,this.comparator,!0)}}class Lh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=i??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _n(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $N(this.data.getIterator())}getIteratorFrom(e){return new $N(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mn(this.comparator);return n.data=e,n}}class $N{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new kr([])}unionWith(e){let n=new mn(Sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cT("Invalid base64 string: "+i):i}}(e);return new Pn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const hz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(bt(!!t,39018),typeof t=="string"){let e=0;const n=hz.exec(t);if(bt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tn(t.seconds),nanos:tn(t.nanos)}}function tn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Eo(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="server_timestamp",dT="__type__",hT="__previous_value__",fT="__local_write_time__";function Jx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[dT])===null||n===void 0?void 0:n.stringValue)===uT}function fm(t){const e=t.mapValue.fields[hT];return Jx(e)?fm(e):e}function Ju(t){const e=bo(t.mapValue.fields[fT].timestampValue);return new pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e,n,r,s,i,a,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const tp="(default)";class ed{constructor(e,n){this.projectId=e,this.database=n||tp}static empty(){return new ed("","")}get isDefaultDatabase(){return this.database===tp}isEqual(e){return e instanceof ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="__type__",pz="__max__",Mh={mapValue:{}},mT="__vector__",np="value";function No(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jx(t)?4:gz(t)?9007199254740991:mz(t)?10:11:Fe(28295,{value:t})}function Ws(t,e){if(t===e)return!0;const n=No(t);if(n!==No(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ju(t).isEqual(Ju(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=bo(s.timestampValue),l=bo(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Eo(s.bytesValue).isEqual(Eo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return tn(s.geoPointValue.latitude)===tn(i.geoPointValue.latitude)&&tn(s.geoPointValue.longitude)===tn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return tn(s.integerValue)===tn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=tn(s.doubleValue),l=tn(i.doubleValue);return a===l?ep(a)===ep(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return zl(t.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(FN(a)!==FN(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Ws(a[c],l[c])))return!1;return!0}(t,e);default:return Fe(52216,{left:t})}}function td(t,e){return(t.values||[]).find(n=>Ws(n,e))!==void 0}function Bl(t,e){if(t===e)return 0;const n=No(t),r=No(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=tn(i.integerValue||i.doubleValue),c=tn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return UN(t.timestampValue,e.timestampValue);case 4:return UN(Ju(t),Ju(e));case 5:return Fv(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Eo(i),c=Eo(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=Je(l[u],c[u]);if(h!==0)return h}return Je(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Je(tn(i.latitude),tn(a.latitude));return l!==0?l:Je(tn(i.longitude),tn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zN(t.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,u,h;const p=i.fields||{},m=a.fields||{},g=(l=p[np])===null||l===void 0?void 0:l.arrayValue,v=(c=m[np])===null||c===void 0?void 0:c.arrayValue,y=Je(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:zN(g,v)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Mh.mapValue&&a===Mh.mapValue)return 0;if(i===Mh.mapValue)return 1;if(a===Mh.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const m=Fv(c[p],h[p]);if(m!==0)return m;const g=Bl(l[c[p]],u[h[p]]);if(g!==0)return g}return Je(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Fe(23264,{Pe:n})}}function UN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=bo(t),r=bo(e),s=Je(n.seconds,r.seconds);return s!==0?s:Je(n.nanos,r.nanos)}function zN(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Bl(n[s],r[s]);if(i)return i}return Je(n.length,r.length)}function Hl(t){return $v(t)}function $v(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=$v(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${$v(n.fields[a])}`;return s+"}"}(t.mapValue):Fe(61005,{value:t})}function cf(t){switch(No(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fm(t);return e?16+cf(e):16;case 5:return 2*t.stringValue.length;case 6:return Eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+cf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return To(r.fields,(i,a)=>{s+=i.length+cf(a)}),s}(t.mapValue);default:throw Fe(13486,{value:t})}}function BN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Uv(t){return!!t&&"integerValue"in t}function ew(t){return!!t&&"arrayValue"in t}function HN(t){return!!t&&"nullValue"in t}function WN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uf(t){return!!t&&"mapValue"in t}function mz(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[pT])===null||n===void 0?void 0:n.stringValue)===mT}function wu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(n)}setAll(e){let n=Sn.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=wu(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];uf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){To(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ur(wu(this.value))}}function gT(t){const e=[];return To(t.fields,(n,r)=>{const s=new Sn([n]);if(uf(r)){const i=gT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Bn(e,0,He.min(),He.min(),He.min(),ur.empty(),0)}static newFoundDocument(e,n,r,s){return new Bn(e,1,n,He.min(),r,s,0)}static newNoDocument(e,n){return new Bn(e,2,n,He.min(),He.min(),ur.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,He.min(),He.min(),ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this.position=e,this.inclusive=n}}function qN(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=De.comparator(De.fromName(a.referenceValue),n.key):r=Bl(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function GN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ws(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n="asc"){this.field=e,this.dir=n}}function yz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yT=class{};class un extends yT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xz(e,n,r):n==="array-contains"?new Ez(e,r):n==="in"?new Nz(e,r):n==="not-in"?new Cz(e,r):n==="array-contains-any"?new _z(e,r):new un(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wz(e,r):new bz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bl(n,this.value)):n!==null&&No(this.value)===No(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xs extends yT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new xs(e,n)}matches(e){return vT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function vT(t){return t.op==="and"}function xT(t){return vz(t)&&vT(t)}function vz(t){for(const e of t.filters)if(e instanceof xs)return!1;return!0}function zv(t){if(t instanceof un)return t.field.canonicalString()+t.op.toString()+Hl(t.value);if(xT(t))return t.filters.map(e=>zv(e)).join(",");{const e=t.filters.map(n=>zv(n)).join(",");return`${t.op}(${e})`}}function wT(t,e){return t instanceof un?function(r,s){return s instanceof un&&r.op===s.op&&r.field.isEqual(s.field)&&Ws(r.value,s.value)}(t,e):t instanceof xs?function(r,s){return s instanceof xs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&wT(a,s.filters[l]),!0):!1}(t,e):void Fe(19439)}function bT(t){return t instanceof un?function(n){return`${n.field.canonicalString()} ${n.op} ${Hl(n.value)}`}(t):t instanceof xs?function(n){return n.op.toString()+" {"+n.getFilters().map(bT).join(" ,")+"}"}(t):"Filter"}class xz extends un{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class wz extends un{constructor(e,n){super(e,"in",n),this.keys=ET("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bz extends un{constructor(e,n){super(e,"not-in",n),this.keys=ET("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ET(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>De.fromName(r.referenceValue))}class Ez extends un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ew(n)&&td(n.arrayValue,this.value)}}class Nz extends un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&td(this.value.arrayValue,n)}}class Cz extends un{constructor(e,n){super(e,"not-in",n)}matches(e){if(td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!td(this.value.arrayValue,n)}}class _z extends un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ew(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>td(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Ie=null}}function KN(t,e=null,n=[],r=[],s=null,i=null,a=null){return new Sz(t,e,n,r,s,i,a)}function tw(t){const e=ze(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),hm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hl(r)).join(",")),e.Ie=n}return e.Ie}function nw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GN(t.startAt,e.startAt)&&GN(t.endAt,e.endAt)}function Bv(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function jz(t,e,n,r,s,i,a,l){return new dc(t,e,n,r,s,i,a,l)}function pm(t){return new dc(t)}function QN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NT(t){return t.collectionGroup!==null}function bu(t){const e=ze(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new mn(Sn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new nd(i,r))}),n.has(Sn.keyField().canonicalString())||e.Ee.push(new nd(Sn.keyField(),r))}return e.Ee}function $s(t){const e=ze(t);return e.de||(e.de=kz(e,bu(t))),e.de}function kz(t,e){if(t.limitType==="F")return KN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new nd(s.field,i)});const n=t.endAt?new rp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rp(t.startAt.position,t.startAt.inclusive):null;return KN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hv(t,e){const n=t.filters.concat([e]);return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wv(t,e,n){return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mm(t,e){return nw($s(t),$s(e))&&t.limitType===e.limitType}function CT(t){return`${tw($s(t))}|lt:${t.limitType}`}function Wa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>bT(s)).join(", ")}]`),hm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Hl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Hl(s)).join(",")),`Target(${r})`}($s(t))}; limitType=${t.limitType})`}function gm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):De.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of bu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=qN(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,bu(r),s)||r.endAt&&!function(a,l,c){const u=qN(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,bu(r),s))}(t,e)}function Iz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _T(t){return(e,n)=>{let r=!1;for(const s of bu(t)){const i=Pz(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Pz(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Bl(c,u):Fe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return lT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=new qt(De.comparator);function bi(){return Tz}const ST=new qt(De.comparator);function Zc(...t){let e=ST;for(const n of t)e=e.insert(n.key,n);return e}function jT(t){let e=ST;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qo(){return Eu()}function kT(){return Eu()}function Eu(){return new Pa(t=>t.toString(),(t,e)=>t.isEqual(e))}const Az=new qt(De.comparator),Rz=new mn(De.comparator);function lt(...t){let e=Rz;for(const n of t)e=e.add(n);return e}const Lz=new mn(Je);function Mz(){return Lz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ep(e)?"-0":e}}function IT(t){return{integerValue:""+t}}function Dz(t,e){return cz(e)?IT(e):rw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this._=void 0}}function Oz(t,e,n){return t instanceof rd?function(s,i){const a={fields:{[dT]:{stringValue:uT},[fT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Jx(i)&&(i=fm(i)),i&&(a.fields[hT]=i),{mapValue:a}}(n,e):t instanceof sd?TT(t,e):t instanceof id?AT(t,e):function(s,i){const a=PT(s,i),l=YN(a)+YN(s.Re);return Uv(a)&&Uv(s.Re)?IT(l):rw(s.serializer,l)}(t,e)}function Vz(t,e,n){return t instanceof sd?TT(t,e):t instanceof id?AT(t,e):n}function PT(t,e){return t instanceof sp?function(r){return Uv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class rd extends ym{}class sd extends ym{constructor(e){super(),this.elements=e}}function TT(t,e){const n=RT(e);for(const r of t.elements)n.some(s=>Ws(s,r))||n.push(r);return{arrayValue:{values:n}}}class id extends ym{constructor(e){super(),this.elements=e}}function AT(t,e){let n=RT(e);for(const r of t.elements)n=n.filter(s=>!Ws(s,r));return{arrayValue:{values:n}}}class sp extends ym{constructor(e,n){super(),this.serializer=e,this.Re=n}}function YN(t){return tn(t.integerValue||t.doubleValue)}function RT(t){return ew(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,n){this.field=e,this.transform=n}}function $z(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof sd&&s instanceof sd||r instanceof id&&s instanceof id?zl(r.elements,s.elements,Ws):r instanceof sp&&s instanceof sp?Ws(r.Re,s.Re):r instanceof rd&&s instanceof rd}(t.transform,e.transform)}class Uz{constructor(e,n){this.version=e,this.transformResults=n}}class Br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function df(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vm{}function LT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sw(t.key,Br.none()):new Td(t.key,t.data,Br.none());{const n=t.data,r=ur.empty();let s=new mn(Sn.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Ao(t.key,r,new kr(s.toArray()),Br.none())}}function zz(t,e,n){t instanceof Td?function(s,i,a){const l=s.value.clone(),c=XN(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ao?function(s,i,a){if(!df(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=XN(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(MT(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Nu(t,e,n,r){return t instanceof Td?function(i,a,l,c){if(!df(i.precondition,a))return l;const u=i.value.clone(),h=JN(i.fieldTransforms,c,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ao?function(i,a,l,c){if(!df(i.precondition,a))return l;const u=JN(i.fieldTransforms,c,a),h=a.data;return h.setAll(MT(i)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,a,l){return df(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Bz(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=PT(r.transform,s||null);i!=null&&(n===null&&(n=ur.empty()),n.set(r.field,i))}return n||null}function ZN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zl(r,s,(i,a)=>$z(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Td extends vm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ao extends vm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function MT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XN(t,e,n){const r=new Map;bt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,Vz(a,l,n[s]))}return r}function JN(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,Oz(i,a,e))}return r}class sw extends vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hz extends vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&zz(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kT();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=LT(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lt())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,(n,r)=>ZN(n,r))&&zl(this.baseMutations,e.baseMutations,(n,r)=>ZN(n,r))}}class iw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){bt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return Az}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new iw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qz=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,dt;function Kz(t){switch(t){case ae.OK:return Fe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Fe(15467,{code:t})}}function DT(t){if(t===void 0)return wi("GRPC error has no .code"),ae.UNKNOWN;switch(t){case on.OK:return ae.OK;case on.CANCELLED:return ae.CANCELLED;case on.UNKNOWN:return ae.UNKNOWN;case on.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case on.INTERNAL:return ae.INTERNAL;case on.UNAVAILABLE:return ae.UNAVAILABLE;case on.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case on.NOT_FOUND:return ae.NOT_FOUND;case on.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case on.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case on.ABORTED:return ae.ABORTED;case on.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case on.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case on.DATA_LOSS:return ae.DATA_LOSS;default:return Fe(39323,{code:t})}}(dt=on||(on={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=new fo([4294967295,4294967295],0);function eC(t){const e=iT().encode(t),n=new ZP;return n.update(e),new Uint8Array(n.digest())}function tC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new fo([n,r],0),new fo([s,i],0)]}class ow{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xc(`Invalid padding: ${n}`);if(r<0)throw new Xc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=fo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(fo.fromNumber(r)));return s.compare(Qz)===1&&(s=new fo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=eC(e),[r,s]=tC(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);if(!this.be(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new ow(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=eC(e),[r,s]=tC(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ad.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xm(He.min(),s,new qt(Je),bi(),lt())}}class Ad{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ad(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class OT{constructor(e,n){this.targetId=e,this.Ce=n}}class VT{constructor(e,n,r=Pn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class nC{constructor(){this.Fe=0,this.Me=rC(),this.xe=Pn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=lt(),n=lt(),r=lt();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Fe(38017,{changeType:i})}}),new Ad(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=rC()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,bt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Yz{constructor(e){this.ze=e,this.je=new Map,this.He=bi(),this.Je=Dh(),this.Ye=Dh(),this.Ze=new qt(Je)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Bv(i))if(r===0){const a=new De(i.path);this.tt(n,a,Bn.newNoDocument(a,He.min()))}else bt(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const l=this.ct(e),c=l?this.lt(l,e,a):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Eo(r).toUint8Array()}catch(c){if(c instanceof cT)return Ul("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new ow(a,s,i)}catch(c){return Ul(c instanceof Xc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,a)=>{const l=this._t(a);if(l){if(i.current&&Bv(l.target)){const c=new De(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,Bn.newNoDocument(c,e))}i.Le&&(n.set(a,i.qe()),i.Qe())}});let r=lt();this.Ye.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,a)=>a.setReadTime(e));const s=new xm(e,n,this.Ze,this.He,r);return this.He=bi(),this.Je=Dh(),this.Ye=Dh(),this.Ze=new qt(Je),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new nC,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new mn(Je),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new mn(Je),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new nC),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Dh(){return new qt(De.comparator)}function rC(){return new qt(De.comparator)}const Zz={asc:"ASCENDING",desc:"DESCENDING"},Xz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jz={and:"AND",or:"OR"};class e7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qv(t,e){return t.useProto3Json||hm(e)?e:{value:e}}function ip(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function t7(t,e){return ip(t,e.toTimestamp())}function Us(t){return bt(!!t,49232),He.fromTimestamp(function(n){const r=bo(n);return new pn(r.seconds,r.nanos)}(t))}function aw(t,e){return Gv(t,e).canonicalString()}function Gv(t,e){const n=function(s){return new Ot(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $T(t){const e=Ot.fromString(t);return bt(WT(e),10190,{key:e.toString()}),e}function Kv(t,e){return aw(t.databaseId,e.path)}function uy(t,e){const n=$T(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(zT(n))}function UT(t,e){return aw(t.databaseId,e)}function n7(t){const e=$T(t);return e.length===4?Ot.emptyPath():zT(e)}function Qv(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zT(t){return bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function sC(t,e,n){return{name:Kv(t,e),fields:n.value.mapValue.fields}}function r7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Fe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(bt(h===void 0||typeof h=="string",58123),Pn.fromBase64String(h||"")):(bt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Pn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const h=u.code===void 0?ae.UNKNOWN:DT(u.code);return new Ce(h,u.message||"")}(a);n=new VT(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=uy(t,r.document.name),i=Us(r.document.updateTime),a=r.document.createTime?Us(r.document.createTime):He.min(),l=new ur({mapValue:{fields:r.document.fields}}),c=Bn.newFoundDocument(s,i,a,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new hf(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=uy(t,r.document),i=r.readTime?Us(r.readTime):He.min(),a=Bn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new hf([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=uy(t,r.document),i=r.removedTargetIds||[];n=new hf([],i,s,null)}else{if(!("filter"in e))return Fe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new Gz(s,i),l=r.targetId;n=new OT(l,a)}}return n}function s7(t,e){let n;if(e instanceof Td)n={update:sC(t,e.key,e.value)};else if(e instanceof sw)n={delete:Kv(t,e.key)};else if(e instanceof Ao)n={update:sC(t,e.key,e.data),updateMask:f7(e.fieldMask)};else{if(!(e instanceof Hz))return Fe(16599,{ft:e.type});n={verify:Kv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof rd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof sd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof id)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof sp)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw Fe(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:t7(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Fe(27497)}(t,e.precondition)),n}function i7(t,e){return t&&t.length>0?(bt(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?Us(s.updateTime):Us(i);return a.isEqual(He.min())&&(a=Us(i)),new Uz(a,s.transformResults||[])}(n,e))):[]}function o7(t,e){return{documents:[UT(t,e.path)]}}function a7(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UT(t,s);const i=function(u){if(u.length!==0)return HT(xs.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:qa(m.field),direction:u7(m.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=qv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function l7(t){let e=n7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){bt(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const m=BT(p);return m instanceof xs&&xT(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(m=>function(v){return new nd(Ga(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,hm(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,g=p.values||[];return new rp(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const m=!p.before,g=p.values||[];return new rp(g,m)}(n.endAt)),jz(e,s,a,i,l,"F",c,u)}function c7(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ga(n.unaryFilter.field);return un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ga(n.unaryFilter.field);return un.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ga(n.unaryFilter.field);return un.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ga(n.unaryFilter.field);return un.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}}(t):t.fieldFilter!==void 0?function(n){return un.create(Ga(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xs.create(n.compositeFilter.filters.map(r=>BT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}}(n.compositeFilter.op))}(t):Fe(30097,{filter:t})}function u7(t){return Zz[t]}function d7(t){return Xz[t]}function h7(t){return Jz[t]}function qa(t){return{fieldPath:t.canonicalString()}}function Ga(t){return Sn.fromServerFormat(t.fieldPath)}function HT(t){return t instanceof un?function(n){if(n.op==="=="){if(WN(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(HN(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WN(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(HN(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:d7(n.op),value:n.value}}}(t):t instanceof xs?function(n){const r=n.getFilters().map(s=>HT(s));return r.length===1?r[0]:{compositeFilter:{op:h7(n.op),filters:r}}}(t):Fe(54877,{filter:t})}function f7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,s,i=He.min(),a=He.min(),l=Pn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e){this.wt=e}}function m7(t){const e=l7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(){this.Cn=new y7}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(wo.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class y7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new mn(Ot.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qT=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(qT,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Wl(0)}static lr(){return new Wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="LruGarbageCollector",v7=1048576;function aC([t,e],[n,r]){const s=Je(t,n);return s===0?Je(e,r):s}class x7{constructor(e){this.Er=e,this.buffer=new mn(aC),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();aC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ee(oC,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uc(n)?Ee(oC,"Ignoring IndexedDB error during garbage collection: ",n):await cc(n)}await this.mr(3e5)})}}class b7{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(dm.le);const r=new x7(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(iC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iC):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,a,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Ha()<=at.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function E7(t,e){return new b7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(){this.changes=new Pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Nu(r.mutation,s,kr.empty(),pn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=lt()){const s=Qo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=Zc();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Qo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,lt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=bi();const a=Eu(),l=function(){return Eu()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Ao)?i=i.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),Nu(h.mutation,u,h.mutation.getFieldMask(),pn.now())):a.set(u.key,kr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>{var p;return l.set(u,new C7(h,(p=a.get(u))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Eu();let s=new qt((a,l)=>a-l),i=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||kr.empty();h=l.applyToLocalView(u,h),r.set(c,h);const p=(s.get(l.batchId)||lt()).add(c);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,p=kT();h.forEach(m=>{if(!i.has(m)){const g=LT(n.get(m),r.get(m));g!==null&&p.set(m,g),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,p))}return le.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return De.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):le.resolve(Qo());let l=Xu,c=i;return a.next(u=>le.forEach(u,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(h)?le.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,lt())).next(h=>({batchId:l,changes:jT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(r=>{let s=Zc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Zc();return this.indexManager.getCollectionParents(e,i).next(l=>le.forEach(l,c=>{const u=function(p,m){return new dc(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Bn.newInvalidDocument(h)))});let l=Zc();return a.forEach((c,u)=>{const h=i.get(c);h!==void 0&&Nu(h.mutation,u,kr.empty(),pn.now()),gm(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return le.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Us(s.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:m7(s.bundledQuery),readTime:Us(s.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(){this.overlays=new qt(De.comparator),this.Qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qo();return le.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const s=Qo(),i=n.length+1,a=new De(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return le.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new qt((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Qo(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=Qo(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=s)););return le.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new qz(n,r));let i=this.Qr.get(n);i===void 0&&(i=lt(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.$r=new mn(xn.Ur),this.Kr=new mn(xn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new xn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new xn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new De(new Ot([])),r=new xn(n,e),s=new xn(n,e+1),i=[];return this.Kr.forEachInRange([r,s],a=>{this.zr(a),i.push(a.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new De(new Ot([])),r=new xn(n,e),s=new xn(n,e+1);let i=lt();return this.Kr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new xn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return De.comparator(e.key,n.key)||Je(e.Zr,n.Zr)}static Wr(e,n){return Je(e.Zr,n.Zr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new mn(xn.Ur)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Wz(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Xr=this.Xr.add(new xn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return le.resolve(a)}lookupMutationBatch(e,n){return le.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return le.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Xx:this.nr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xn(n,0),s=new xn(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],a=>{const l=this.ei(a.Zr);i.push(l)}),le.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mn(Je);return n.forEach(s=>{const i=new xn(s,0),a=new xn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,a],l=>{r=r.add(l.Zr)})}),le.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;De.isDocumentKey(i)||(i=i.child(""));const a=new xn(new De(i),0);let l=new mn(Je);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Zr)),!0)},a),le.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){bt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return le.forEach(n.mutations,s=>{const i=new xn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new xn(n,0),s=this.Xr.firstAfterOrEqual(r);return le.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e){this.ii=e,this.docs=function(){return new qt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=bi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Bn.newInvalidDocument(s))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=bi();const a=n.path,l=new De(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||iz(sz(h),r)<=0||(s.has(h.key)||gm(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Fe(9500)}si(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new T7(this)}getSize(e){return le.resolve(this.size)}}class T7 extends N7{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this.persistence=e,this.oi=new Pa(n=>tw(n),nw),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this._i=0,this.ai=new lw,this.targetCount=0,this.ui=Wl.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),le.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Wl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Tr(n),le.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),le.waitFor(i).next(()=>s)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),le.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.ci={},this.overlays={},this.li=new dm(0),this.hi=!1,this.hi=!0,this.Pi=new k7,this.referenceDelegate=e(this),this.Ti=new A7(this),this.indexManager=new g7,this.remoteDocumentCache=function(s){return new P7(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new p7(n),this.Ei=new S7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new I7(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const s=new R7(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return le.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class R7 extends az{constructor(e){super(),this.currentSequenceNumber=e}}class cw{constructor(e){this.persistence=e,this.Vi=new lw,this.mi=null}static fi(e){return new cw(e)}get gi(){if(this.mi)return this.mi;throw Fe(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.gi,r=>{const s=De.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,He.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return le.or([()=>le.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class op{constructor(e,n){this.persistence=e,this.yi=new Pa(r=>uz(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=E7(this,n)}static fi(e,n){return new op(e,n)}di(){}Ai(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return le.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?le.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,a=>this.Dr(e,a,n).next(l=>{l||(r++,i.removeEntry(a,He.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),le.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cf(e.data.value)),n}Dr(e,n,r){return le.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return le.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=lt(),s=lt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new uw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return KF()?8:lz(Gn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new L7;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Ha()<=at.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),le.resolve()):(Ha()<=at.DEBUG&&Ee("QueryEngine","Query:",Wa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Ha()<=at.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$s(n))):le.resolve())}ws(e,n){if(QN(n))return le.resolve(null);let r=$s(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Wv(n,null,"F"),r=$s(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=lt(...i);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,l);return this.Cs(n,u,a,c.readTime)?this.ws(e,Wv(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,s){return QN(n)||s.isEqual(He.min())?le.resolve(null):this.ys.getDocuments(e,r).next(i=>{const a=this.vs(n,i);return this.Cs(n,a,r,s)?le.resolve(null):(Ha()<=at.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wa(n)),this.Fs(e,a,n,rz(s,Xu)).next(l=>l))})}vs(e,n){let r=new mn(_T(e));return n.forEach((s,i)=>{gm(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ha()<=at.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.ys.getDocumentsMatchingQuery(e,n,wo.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="LocalStore",D7=3e8;class O7{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new qt(Je),this.Os=new Pa(i=>tw(i),nw),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _7(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function V7(t,e,n,r){return new O7(t,e,n,r)}async function KT(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=lt();for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:a,addedBatchIds:l}))})})}function F7(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const p=u.batch,m=p.keys();let g=le.resolve();return m.forEach(v=>{g=g.next(()=>h.getEntry(c,v)).next(y=>{const b=u.docVersions.get(v);bt(b!==null,48541),y.version.compareTo(b)<0&&(p.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=lt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function QT(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function $7(t,e){const n=ze(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((h,p)=>{const m=s.get(p);if(!m)return;l.push(n.Ti.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(i,h.addedDocuments,p)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(Pn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(p,g),function(y,b,w){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=D7?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,g,h)&&l.push(n.Ti.updateTargetData(i,g))});let c=bi(),u=lt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(U7(i,a,e.documentUpdates).next(h=>{c=h.qs,u=h.Qs})),!r.isEqual(He.min())){const h=n.Ti.getLastRemoteSnapshotVersion(i).next(p=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return le.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.xs=s,i))}function U7(t,e,n){let r=lt(),s=lt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=bi();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(He.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Ee(dw,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{qs:a,Qs:s}})}function z7(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Xx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function B7(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,le.resolve(s)):n.Ti.allocateTargetId(r).next(a=>(s=new Zi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Yv(t,e,n){const r=ze(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!uc(a))throw a;Ee(dw,`Failed to update sequence numbers for target ${e}: ${a}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function lC(t,e,n){const r=ze(t);let s=He.min(),i=lt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,h){const p=ze(c),m=p.Os.get(h);return m!==void 0?le.resolve(p.xs.get(m)):p.Ti.getTargetData(u,h)}(r,a,$s(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(a,e,n?s:He.min(),n?i:lt())).next(l=>(H7(r,Iz(e),l),{documents:l,$s:i})))}function H7(t,e,n){let r=t.Ns.get(e)||He.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class cC{constructor(){this.activeTargetIds=Mz()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W7{constructor(){this.xo=new cC,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new cC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="ConnectivityMonitor";class dC{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ee(uC,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ee(uC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh=null;function Zv(){return Oh===null?Oh=function(){return 268435456+Math.round(2147483648*Math.random())}():Oh++,"0x"+Oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="RestConnection",G7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K7{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===tp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const a=Zv(),l=this.jo(e,n.toUriEncodedString());Ee(dy,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:u}=new URL(l),h=ic(u);return this.Jo(e,l,c,r,h).then(p=>(Ee(dy,`Received RPC '${e}' ${a}: `,p),p),p=>{throw Ul(dy,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",r),p})}Yo(e,n,r,s,i,a){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=G7[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class Y7 extends K7{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=Zv();return new Promise((l,c)=>{const u=new XP;u.setWithCredentials(!0),u.listenOnce(JP.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case lf.NO_ERROR:const p=u.getResponseJson();Ee(Fn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case lf.TIMEOUT:Ee(Fn,`RPC '${e}' ${a} timed out`),c(new Ce(ae.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const m=u.getStatus();if(Ee(Fn,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const y=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(x)>=0?x:ae.UNKNOWN}(v.status);c(new Ce(y,v.message))}else c(new Ce(ae.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Ce(ae.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{h_:e,streamId:a,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{Ee(Fn,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);Ee(Fn,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",h,r,15)})}I_(e,n,r){const s=Zv(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=nT(),l=tT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");Ee(Fn,`Creating RPC '${e}' stream ${s}: ${h}`,c);const p=a.createWebChannel(h,c);this.E_(p);let m=!1,g=!1;const v=new Q7({Zo:b=>{g?Ee(Fn,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(m||(Ee(Fn,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),Ee(Fn,`RPC '${e}' stream ${s} sending:`,b),p.send(b))},Xo:()=>p.close()}),y=(b,w,x)=>{b.listen(w,N=>{try{x(N)}catch(I){setTimeout(()=>{throw I},0)}})};return y(p,Yc.EventType.OPEN,()=>{g||(Ee(Fn,`RPC '${e}' stream ${s} transport opened.`),v.__())}),y(p,Yc.EventType.CLOSE,()=>{g||(g=!0,Ee(Fn,`RPC '${e}' stream ${s} transport closed`),v.u_(),this.d_(p))}),y(p,Yc.EventType.ERROR,b=>{g||(g=!0,Ul(Fn,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),v.u_(new Ce(ae.UNAVAILABLE,"The operation could not be completed")))}),y(p,Yc.EventType.MESSAGE,b=>{var w;if(!g){const x=b.data[0];bt(!!x,16349);const N=x,I=(N==null?void 0:N.error)||((w=N[0])===null||w===void 0?void 0:w.error);if(I){Ee(Fn,`RPC '${e}' stream ${s} received error:`,I);const A=I.status;let L=function(j){const T=on[j];if(T!==void 0)return DT(T)}(A),C=I.message;L===void 0&&(L=ae.INTERNAL,C="Unknown error status: "+A+" with message "+I.message),g=!0,v.u_(new Ce(L,C)),p.close()}else Ee(Fn,`RPC '${e}' stream ${s} received:`,x),v.c_(x)}}),y(l,eT.STAT_EVENT,b=>{b.stat===Vv.PROXY?Ee(Fn,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Vv.NOPROXY&&Ee(Fn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function hy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t){return new e7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="PersistentStream";class ZT{constructor(e,n,r,s,i,a,l,c){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new YT(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(wi(n.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new Ce(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ee(hC,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Ee(hC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z7 extends ZT{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=r7(this.serializer,e),r=function(i){if(!("targetChange"in i))return He.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?He.min():a.readTime?Us(a.readTime):He.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Qv(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Bv(c)?{documents:o7(i,c)}:{query:a7(i,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=FT(i,a.resumeToken);const u=qv(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(He.min())>0){l.readTime=ip(i,a.snapshotVersion.toTimestamp());const u=qv(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=c7(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Qv(this.serializer),n.removeTarget=e,this.Q_(n)}}class X7 extends ZT{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=i7(e.writeResults,e.commitTime),r=Us(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Qv(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s7(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{}class eB extends J7{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Ce(ae.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.zo(e,Gv(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ce(ae.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,Gv(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(ae.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class tB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(wi(n),this.ua=!1):Ee("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class nB{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(a=>{r.enqueueAndForget(async()=>{Ta(this)&&(Ee(wa,"Restarting streams for network reachability change."),await async function(c){const u=ze(c);u.da.add(4),await hc(u),u.Va.set("Unknown"),u.da.delete(4),await Rd(u)}(this))})}),this.Va=new tB(r,s)}}async function Rd(t){if(Ta(t))for(const e of t.Aa)await e(!0)}async function hc(t){for(const e of t.Aa)await e(!1)}function XT(t,e){const n=ze(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),mw(n)?pw(n):fc(n).N_()&&fw(n,e))}function hw(t,e){const n=ze(t),r=fc(n);n.Ea.delete(e),r.N_()&&JT(n,e),n.Ea.size===0&&(r.N_()?r.k_():Ta(n)&&n.Va.set("Unknown"))}function fw(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fc(t).Z_(e)}function JT(t,e){t.ma.Ke(e),fc(t).X_(e)}function pw(t){t.ma=new Yz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),fc(t).start(),t.Va.ca()}function mw(t){return Ta(t)&&!fc(t).O_()&&t.Ea.size>0}function Ta(t){return ze(t).da.size===0}function e2(t){t.ma=void 0}async function rB(t){t.Va.set("Online")}async function sB(t){t.Ea.forEach((e,n)=>{fw(t,e)})}async function iB(t,e){e2(t),mw(t)?(t.Va.Pa(e),pw(t)):t.Va.set("Unknown")}async function oB(t,e,n){if(t.Va.set("Online"),e instanceof VT&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(r){Ee(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ap(t,r)}else if(e instanceof hf?t.ma.Xe(e):e instanceof OT?t.ma.ot(e):t.ma.nt(e),!n.isEqual(He.min()))try{const r=await QT(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.ma.It(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ea.get(u);h&&i.Ea.set(u,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const h=i.Ea.get(c);if(!h)return;i.Ea.set(c,h.withResumeToken(Pn.EMPTY_BYTE_STRING,h.snapshotVersion)),JT(i,c);const p=new Zi(h.target,c,u,h.sequenceNumber);fw(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ee(wa,"Failed to raise snapshot:",r),await ap(t,r)}}async function ap(t,e,n){if(!uc(e))throw e;t.da.add(1),await hc(t),t.Va.set("Offline"),n||(n=()=>QT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee(wa,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Rd(t)})}function t2(t,e){return e().catch(n=>ap(t,n,e))}async function bm(t){const e=ze(t),n=Co(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Xx;for(;aB(e);)try{const s=await z7(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,lB(e,s)}catch(s){await ap(e,s)}n2(e)&&r2(e)}function aB(t){return Ta(t)&&t.Ia.length<10}function lB(t,e){t.Ia.push(e);const n=Co(t);n.N_()&&n.ea&&n.ta(e.mutations)}function n2(t){return Ta(t)&&!Co(t).O_()&&t.Ia.length>0}function r2(t){Co(t).start()}async function cB(t){Co(t).ia()}async function uB(t){const e=Co(t);for(const n of t.Ia)e.ta(n.mutations)}async function dB(t,e,n){const r=t.Ia.shift(),s=iw.from(r,e,n);await t2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await bm(t)}async function hB(t,e){e&&Co(t).ea&&await async function(r,s){if(function(a){return Kz(a)&&a!==ae.ABORTED}(s.code)){const i=r.Ia.shift();Co(r).L_(),await t2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await bm(r)}}(t,e),n2(t)&&r2(t)}async function fC(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),Ee(wa,"RemoteStore received new credentials");const r=Ta(n);n.da.add(3),await hc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Rd(n)}async function fB(t,e){const n=ze(t);e?(n.da.delete(2),await Rd(n)):e||(n.da.add(2),await hc(n),n.Va.set("Unknown"))}function fc(t){return t.fa||(t.fa=function(n,r,s){const i=ze(n);return i.oa(),new Z7(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:rB.bind(null,t),n_:sB.bind(null,t),i_:iB.bind(null,t),Y_:oB.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),mw(t)?pw(t):t.Va.set("Unknown")):(await t.fa.stop(),e2(t))})),t.fa}function Co(t){return t.ga||(t.ga=function(n,r,s){const i=ze(n);return i.oa(),new X7(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:cB.bind(null,t),i_:hB.bind(null,t),na:uB.bind(null,t),ra:dB.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await bm(t)):(await t.ga.stop(),t.Ia.length>0&&(Ee(wa,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new gw(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yw(t,e){if(wi("AsyncQueue",`${e}: ${t}`),uc(t))return new Ce(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=Zc(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.pa=new qt(De.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Fe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ql{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ql(e,n,xl.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class mB{constructor(){this.queries=mC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ze(n),i=s.queries;s.queries=mC(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new Ce(ae.ABORTED,"Firestore shutting down"))}}function mC(){return new Pa(t=>CT(t),mm)}async function vw(t,e){const n=ze(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new pB,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=yw(a,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&ww(n)}async function xw(t,e){const n=ze(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gB(t,e){const n=ze(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Ma(s)&&(r=!0);a.ba=s}}r&&ww(n)}function yB(t,e,n){const r=ze(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function ww(t){t.Ca.forEach(e=>{e.next()})}var Xv,gC;(gC=Xv||(Xv={})).xa="default",gC.Cache="cache";class bw{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Xv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.key=e}}class i2{constructor(e){this.key=e}}class vB{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=lt(),this.mutatedKeys=lt(),this.Za=_T(e),this.Xa=new xl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new pC,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const m=s.get(h),g=gm(this.query,p)?p:null,v=!!m&&this.mutatedKeys.has(m.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;m&&g?m.data.isEqual(g.data)?v!==y&&(r.track({type:3,doc:g}),b=!0):this.ru(m,g)||(r.track({type:2,doc:g}),b=!0,(c&&this.Za(g,c)>0||u&&this.Za(g,u)<0)&&(l=!0)):!m&&g?(r.track({type:0,doc:g}),b=!0):m&&!g&&(r.track({type:1,doc:m}),b=!0,(c||u)&&(l=!0)),b&&(g?(a=a.add(g),i=y?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Xa:a,nu:r,Cs:l,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((h,p)=>function(g,v){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Vt:b})}};return y(g)-y(v)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),s=s!=null&&s;const l=n&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,u=c!==this.Ja;return this.Ja=c,a.length!==0||u?{snapshot:new ql(this.query,e.Xa,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new pC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=lt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new i2(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new s2(r))}),n}au(e){this.Ha=e.$s,this.Ya=lt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return ql.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Ew="SyncEngine";class xB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wB{constructor(e){this.key=e,this.cu=!1}}class bB{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Pa(l=>CT(l),mm),this.Pu=new Map,this.Tu=new Set,this.Iu=new qt(De.comparator),this.Eu=new Map,this.du=new lw,this.Au={},this.Ru=new Map,this.Vu=Wl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function EB(t,e,n=!0){const r=d2(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await o2(r,e,n,!0),s}async function NB(t,e){const n=d2(t);await o2(n,e,!0,!1)}async function o2(t,e,n,r){const s=await B7(t.localStore,$s(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await CB(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&XT(t.remoteStore,s),l}async function CB(t,e,n,r,s){t.fu=(p,m,g)=>async function(y,b,w,x){let N=b.view.tu(w);N.Cs&&(N=await lC(y.localStore,b.query,!1).then(({documents:C})=>b.view.tu(C,N)));const I=x&&x.targetChanges.get(b.targetId),A=x&&x.targetMismatches.get(b.targetId)!=null,L=b.view.applyChanges(N,y.isPrimaryClient,I,A);return vC(y,b.targetId,L.ou),L.snapshot}(t,p,m,g);const i=await lC(t.localStore,e,!0),a=new vB(e,i.$s),l=a.tu(i.documents),c=Ad.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);vC(t,n,u.ou);const h=new xB(e,n,a);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function _B(t,e,n){const r=ze(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(a=>!mm(a,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&hw(r.remoteStore,s.targetId),Jv(r,s.targetId)}).catch(cc)):(Jv(r,s.targetId),await Yv(r.localStore,s.targetId,!0))}async function SB(t,e){const n=ze(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hw(n.remoteStore,r.targetId))}async function jB(t,e,n){const r=LB(t);try{const s=await function(a,l){const c=ze(a),u=pn.now(),h=l.reduce((g,v)=>g.add(v.key),lt());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=bi(),y=lt();return c.Bs.getEntries(g,h).next(b=>{v=b,v.forEach((w,x)=>{x.isValidDocument()||(y=y.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,v)).next(b=>{p=b;const w=[];for(const x of l){const N=Bz(x,p.get(x.key).overlayedDocument);N!=null&&w.push(new Ao(x.key,N,gT(N.value.mapValue),Br.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,w,l)}).next(b=>{m=b;const w=b.applyToLocalDocumentSet(p,y);return c.documentOverlayCache.saveOverlays(g,b.batchId,w)})}).then(()=>({batchId:m.batchId,changes:jT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Au[a.currentUser.toKey()];u||(u=new qt(Je)),u=u.insert(l,c),a.Au[a.currentUser.toKey()]=u}(r,s.batchId,n),await Ld(r,s.changes),await bm(r.remoteStore)}catch(s){const i=yw(s,"Failed to persist write");n.reject(i)}}async function a2(t,e){const n=ze(t);try{const r=await $7(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Eu.get(i);a&&(bt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?bt(a.cu,14607):s.removedDocuments.size>0&&(bt(a.cu,42227),a.cu=!1))}),await Ld(n,r,e)}catch(r){await cc(r)}}function yC(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,a)=>{const l=a.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=ze(a);c.onlineState=l;let u=!1;c.queries.forEach((h,p)=>{for(const m of p.Sa)m.Fa(l)&&(u=!0)}),u&&ww(c)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kB(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let a=new qt(De.comparator);a=a.insert(i,Bn.newNoDocument(i,He.min()));const l=lt().add(i),c=new xm(He.min(),new Map,new qt(Je),a,l);await a2(r,c),r.Iu=r.Iu.remove(i),r.Eu.delete(e),Nw(r)}else await Yv(r.localStore,e,!1).then(()=>Jv(r,e,n)).catch(cc)}async function IB(t,e){const n=ze(t),r=e.batch.batchId;try{const s=await F7(n.localStore,e);c2(n,r,null),l2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ld(n,s)}catch(s){await cc(s)}}async function PB(t,e,n){const r=ze(t);try{const s=await function(a,l){const c=ze(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(p=>(bt(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);c2(r,e,n),l2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ld(r,s)}catch(s){await cc(s)}}function l2(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function c2(t,e,n){const r=ze(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function Jv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||u2(t,r)})}function u2(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(hw(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Nw(t))}function vC(t,e,n){for(const r of n)r instanceof s2?(t.du.addReference(r.key,e),TB(t,r)):r instanceof i2?(Ee(Ew,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||u2(t,r.key)):Fe(19791,{pu:r})}function TB(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Ee(Ew,"New document in limbo: "+n),t.Tu.add(r),Nw(t))}function Nw(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new De(Ot.fromString(e)),r=t.Vu.next();t.Eu.set(r,new wB(n)),t.Iu=t.Iu.insert(n,r),XT(t.remoteStore,new Zi($s(pm(n.path)),r,"TargetPurposeLimboResolution",dm.le))}}async function Ld(t,e,n){const r=ze(t),s=[],i=[],a=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{a.push(r.fu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){s.push(u);const p=uw.Rs(c.targetId,u);i.push(p)}}))}),await Promise.all(a),r.lu.Y_(s),await async function(c,u){const h=ze(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>le.forEach(u,m=>le.forEach(m.ds,g=>h.persistence.referenceDelegate.addReference(p,m.targetId,g)).next(()=>le.forEach(m.As,g=>h.persistence.referenceDelegate.removeReference(p,m.targetId,g)))))}catch(p){if(!uc(p))throw p;Ee(dw,"Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const g=h.xs.get(m),v=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(v);h.xs=h.xs.insert(m,y)}}}(r.localStore,i))}async function AB(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){Ee(Ew,"User change. New user:",e.toKey());const r=await KT(n.localStore,e);n.currentUser=e,function(i,a){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new Ce(ae.CANCELLED,a))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ld(n,r.ks)}}function RB(t,e){const n=ze(t),r=n.Eu.get(e);if(r&&r.cu)return lt().add(r.key);{let s=lt();const i=n.Pu.get(e);if(!i)return s;for(const a of i){const l=n.hu.get(a);s=s.unionWith(l.view.eu)}return s}}function d2(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=a2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kB.bind(null,e),e.lu.Y_=gB.bind(null,e.eventManager),e.lu.gu=yB.bind(null,e.eventManager),e}function LB(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PB.bind(null,e),e}class lp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return V7(this.persistence,new M7,e.initialUser,this.serializer)}Su(e){return new GT(cw.fi,this.serializer)}bu(e){return new W7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lp.provider={build:()=>new lp};class MB extends lp{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){bt(this.persistence.referenceDelegate instanceof op,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new w7(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new GT(r=>op.fi(r,n),this.serializer)}}class e0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AB.bind(null,this.syncEngine),await fB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mB}()}createDatastore(e){const n=wm(e.databaseInfo.databaseId),r=function(i){return new Y7(i)}(e.databaseInfo);return function(i,a,l,c){return new eB(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new nB(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>yC(this.syncEngine,n,0),function(){return dC.C()?new dC:new q7}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,h){const p=new bB(s,i,a,l,c,u);return h&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ze(s);Ee(wa,"RemoteStore shutting down."),i.da.add(5),await hc(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}e0.provider={build:()=>new e0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="FirestoreClient";class DB{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Un.UNAUTHENTICATED,this.clientId=oT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{Ee(_o,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Ee(_o,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fy(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(_o,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await KT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await h2(t);Ee(_o,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>fC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>fC(e.remoteStore,s)),t._onlineComponents=e}async function h2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(_o,"Using user provided OfflineComponentProvider");try{await fy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ul("Error using user provided cache. Falling back to memory cache: "+n),await fy(t,new lp)}}else Ee(_o,"Using default OfflineComponentProvider"),await fy(t,new MB(void 0));return t._offlineComponents}async function _w(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(_o,"Using user provided OnlineComponentProvider"),await xC(t,t._uninitializedComponentsProvider._online)):(Ee(_o,"Using default OnlineComponentProvider"),await xC(t,new e0))),t._onlineComponents}function f2(t){return h2(t).then(e=>e.persistence)}function p2(t){return _w(t).then(e=>e.remoteStore)}function OB(t){return _w(t).then(e=>e.syncEngine)}async function cp(t){const e=await _w(t),n=e.eventManager;return n.onListen=EB.bind(null,e.syncEngine),n.onUnlisten=_B.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SB.bind(null,e.syncEngine),n}function VB(t){return t.asyncQueue.enqueue(async()=>{const e=await f2(t),n=await p2(t);return e.setNetworkEnabled(!0),function(s){const i=ze(s);return i.da.delete(0),Rd(i)}(n)})}function FB(t){return t.asyncQueue.enqueue(async()=>{const e=await f2(t),n=await p2(t);return e.setNetworkEnabled(!1),async function(s){const i=ze(s);i.da.add(0),await hc(i),i.Va.set("Offline")}(n)})}function $B(t,e,n={}){const r=new ui;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new Cw({next:m=>{h.xu(),a.enqueueAndForget(()=>xw(i,p));const g=m.docs.has(l);!g&&m.fromCache?u.reject(new Ce(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new Ce(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new bw(pm(l.path),h,{includeMetadataChanges:!0,Qa:!0});return vw(i,p)}(await cp(t),t.asyncQueue,e,n,r)),r.promise}function UB(t,e,n={}){const r=new ui;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new Cw({next:m=>{h.xu(),a.enqueueAndForget(()=>xw(i,p)),m.fromCache&&c.source==="server"?u.reject(new Ce(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new bw(l,h,{includeMetadataChanges:!0,Qa:!0});return vw(i,p)}(await cp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t,e,n){if(!n)throw new Ce(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zB(t,e,n,r){if(e===!0&&r===!0)throw new Ce(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bC(t){if(!De.isDocumentKey(t))throw new Ce(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EC(t){if(De.isDocumentKey(t))throw new Ce(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Em(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe(12329,{type:typeof t})}function Hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Em(t);throw new Ce(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="firestore.googleapis.com",NC=!0;class CC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y2,this.ssl=NC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:NC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v7)throw new Ce(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ce(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ce(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ce(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KU;switch(r.type){case"firstParty":return new XU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=wC.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),wC.delete(n),r.terminate())}(this),Promise.resolve()}}function BB(t,e,n,r={}){var s;t=Hn(t,Nm);const i=ic(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(nP(`https://${c}`),rP("Firestore",!0)),a.host!==y2&&a.host!==c&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:i,emulatorOptions:r});if(!pa(u,l)&&(t._setSettings(u),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Un.MOCK_USER;else{h=FF(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Ce(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Un(m)}t._authCredentials=new QU(new sT(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class po extends Ro{constructor(e,n,r){super(e,n,pm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new De(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function gn(t,e,...n){if(t=Ft(t),g2("collection","path",e),t instanceof Nm){const r=Ot.fromString(e,...n);return EC(r),new po(t,null,r)}{if(!(t instanceof Wn||t instanceof po))throw new Ce(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return EC(r),new po(t.firestore,null,r)}}function kt(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=oT.newId()),g2("doc","path",e),t instanceof Nm){const r=Ot.fromString(e,...n);return bC(r),new Wn(t,null,new De(r))}{if(!(t instanceof Wn||t instanceof po))throw new Ce(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return bC(r),new Wn(t.firestore,t instanceof po?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="AsyncQueue";class SC{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new YT(this,"async_queue_retry"),this.rc=()=>{const r=hy();r&&Ee(_C,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=hy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=hy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ui;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!uc(e))throw e;Ee(_C,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,wi("INTERNAL UNHANDLED ERROR: ",jC(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=gw.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&Fe(47125,{cc:jC(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function jC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ws extends Nm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new SC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SC(e),this._firestoreClient=void 0,await e}}}function HB(t,e){const n=typeof t=="object"?t:aP(),r=typeof t=="string"?t:tp,s=Fx(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=OF("firestore");i&&BB(s,...i)}return s}function pc(t){if(t._terminated)throw new Ce(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WB(t),t._firestoreClient}function WB(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,h){return new fz(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,m2(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new DB(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function qB(t){return VB(pc(t=Hn(t,ws)))}function GB(t){return FB(pc(t=Hn(t,ws)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gl(Pn.fromBase64String(e))}catch(n){throw new Ce(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gl(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=/^__.*__$/;class QB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new Td(e,this.data,n,this.fieldTransforms)}}class v2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function x2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ic:t})}}class kw{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new kw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return up(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(x2(this.Ic)&&KB.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class YB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wm(e)}bc(e,n,r,s=!1){return new kw({Ic:e,methodName:n,wc:r,path:Sn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sm(t){const e=t._freezeSettings(),n=wm(t._databaseId);return new YB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w2(t,e,n,r,s,i={}){const a=t.bc(i.merge||i.mergeFields?2:0,e,n,s);Pw("Data must be an object, but it was:",a,r);const l=b2(r,a);let c,u;if(i.merge)c=new kr(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const m=t0(e,p,n);if(!a.contains(m))throw new Ce(ae.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);N2(h,m)||h.push(m)}c=new kr(h),u=a.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=a.fieldTransforms;return new QB(new ur(l),c,u)}class jm extends _m{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jm}}class Iw extends _m{_toFieldTransform(e){return new Fz(e.path,new rd)}isEqual(e){return e instanceof Iw}}function ZB(t,e,n,r){const s=t.bc(1,e,n);Pw("Data must be an object, but it was:",s,r);const i=[],a=ur.empty();To(r,(c,u)=>{const h=Tw(e,c,n);u=Ft(u);const p=s.mc(h);if(u instanceof jm)i.push(h);else{const m=Md(u,p);m!=null&&(i.push(h),a.set(h,m))}});const l=new kr(i);return new v2(a,l,s.fieldTransforms)}function XB(t,e,n,r,s,i){const a=t.bc(1,e,n),l=[t0(e,r,n)],c=[s];if(i.length%2!=0)throw new Ce(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(t0(e,i[m])),c.push(i[m+1]);const u=[],h=ur.empty();for(let m=l.length-1;m>=0;--m)if(!N2(u,l[m])){const g=l[m];let v=c[m];v=Ft(v);const y=a.mc(g);if(v instanceof jm)u.push(g);else{const b=Md(v,y);b!=null&&(u.push(g),h.set(g,b))}}const p=new kr(u);return new v2(h,p,a.fieldTransforms)}function JB(t,e,n,r=!1){return Md(n,t.bc(r?4:3,e))}function Md(t,e){if(E2(t=Ft(t)))return Pw("Unsupported field value:",e,t),b2(t,e);if(t instanceof _m)return function(r,s){if(!x2(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Md(l,s.fc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Dz(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=pn.fromDate(r);return{timestampValue:ip(s.serializer,i)}}if(r instanceof pn){const i=new pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ip(s.serializer,i)}}if(r instanceof Sw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gl)return{bytesValue:FT(s.serializer,r._byteString)};if(r instanceof Wn){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:aw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof jw)return function(a,l){return{mapValue:{fields:{[pT]:{stringValue:mT},[np]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.gc("VectorValues must only contain numeric values.");return rw(l.serializer,u)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Em(r)}`)}(t,e)}function b2(t,e){const n={};return lT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,(r,s)=>{const i=Md(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function E2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pn||t instanceof Sw||t instanceof Gl||t instanceof Wn||t instanceof _m||t instanceof jw)}function Pw(t,e,n){if(!E2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Em(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function t0(t,e,n){if((e=Ft(e))instanceof Cm)return e._internalPath;if(typeof e=="string")return Tw(t,e);throw up("Field path arguments must be of type string or ",t,!1,void 0,n)}const eH=new RegExp("[~\\*/\\[\\]]");function Tw(t,e,n){if(e.search(eH)>=0)throw up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cm(...e.split("."))._internalPath}catch{throw up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function up(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new Ce(ae.INVALID_ARGUMENT,l+t+c)}function N2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(km("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tH extends C2{data(){return super.data()}}function km(t,e){return typeof e=="string"?Tw(t,e):e instanceof Cm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Aw{}class S2 extends Aw{}function Rs(t,e,...n){let r=[];e instanceof Aw&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof Rw).length,l=i.filter(c=>c instanceof Im).length;if(a>1||a>0&&l>0)throw new Ce(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Im extends S2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Im(e,n,r)}_apply(e){const n=this._parse(e);return j2(e._query,n),new Ro(e.firestore,e.converter,Hv(e._query,n))}_parse(e){const n=Sm(e.firestore);return function(i,a,l,c,u,h,p){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ce(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){PC(p,h);const v=[];for(const y of p)v.push(IC(c,i,y));m={arrayValue:{values:v}}}else m=IC(c,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||PC(p,h),m=JB(l,a,p,h==="in"||h==="not-in");return un.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function di(t,e,n){const r=e,s=km("where",t);return Im._create(s,r,n)}class Rw extends Aw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)j2(a,c),a=Hv(a,c)}(e._query,n),new Ro(e.firestore,e.converter,Hv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lw extends S2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lw(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new Ce(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ce(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nd(i,a)}(e._query,this._field,this._direction);return new Ro(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new dc(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function nH(t,e="asc"){const n=e,r=km("orderBy",t);return Lw._create(r,n)}function IC(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new Ce(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NT(e)&&n.indexOf("/")!==-1)throw new Ce(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ot.fromString(n));if(!De.isDocumentKey(r))throw new Ce(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BN(t,new De(r))}if(n instanceof Wn)return BN(t,n._key);throw new Ce(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Em(n)}.`)}function PC(t,e){if(!Array.isArray(t)||t.length===0)throw new Ce(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j2(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ce(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rH{convertValue(e,n="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[np].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>tn(a.doubleValue));return new jw(i)}convertGeoPoint(e){return new Sw(tn(e.latitude),tn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const n=bo(e);return new pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ot.fromString(e);bt(WT(r),9688,{name:e});const s=new ed(r.get(1),r.get(3)),i=new De(r.popFirst(5));return s.isEqual(n)||wi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class I2 extends C2{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(km("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ff extends I2{data(e={}){return super.data(e)}}class P2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Jc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ff(this._firestore,this._userDataWriter,r.key,r,new Jc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new ff(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Jc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new ff(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Jc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:sH(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){t=Hn(t,Wn);const e=Hn(t.firestore,ws);return $B(pc(e),t._key).then(n=>L2(e,t,n))}class Mw extends rH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function Rr(t){t=Hn(t,Ro);const e=Hn(t.firestore,ws),n=pc(e),r=new Mw(e);return _2(t._query),UB(n,t._query).then(s=>new P2(e,r,t,s))}function T2(t,e,n){t=Hn(t,Wn);const r=Hn(t.firestore,ws),s=k2(t.converter,e,n);return Pm(r,[w2(Sm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Br.none())])}function er(t,e,n,...r){t=Hn(t,Wn);const s=Hn(t.firestore,ws),i=Sm(s);let a;return a=typeof(e=Ft(e))=="string"||e instanceof Cm?XB(i,"updateDoc",t._key,e,n,r):ZB(i,"updateDoc",t._key,e),Pm(s,[a.toMutation(t._key,Br.exists(!0))])}function A2(t){return Pm(Hn(t.firestore,ws),[new sw(t._key,Br.none())])}function Ks(t,e){const n=Hn(t.firestore,ws),r=kt(t),s=k2(t.converter,e);return Pm(n,[w2(Sm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Br.exists(!1))]).then(()=>r)}function R2(t,...e){var n,r,s;t=Ft(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||kC(e[a])||(i=e[a],a++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(kC(e[a])){const p=e[a];e[a]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[a+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[a+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let c,u,h;if(t instanceof Wn)u=Hn(t.firestore,ws),h=pm(t._key.path),c={next:p=>{e[a]&&e[a](L2(u,t,p))},error:e[a+1],complete:e[a+2]};else{const p=Hn(t,Ro);u=Hn(p.firestore,ws),h=p._query;const m=new Mw(u);c={next:g=>{e[a]&&e[a](new P2(u,m,p,g))},error:e[a+1],complete:e[a+2]},_2(t._query)}return function(m,g,v,y){const b=new Cw(y),w=new bw(g,b,v);return m.asyncQueue.enqueueAndForget(async()=>vw(await cp(m),w)),()=>{b.xu(),m.asyncQueue.enqueueAndForget(async()=>xw(await cp(m),w))}}(pc(u),h,l,c)}function Pm(t,e){return function(r,s){const i=new ui;return r.asyncQueue.enqueueAndForget(async()=>jB(await OB(r),s,i)),i.promise}(pc(t),e)}function L2(t,e,n){const r=n.docs.get(e._key),s=new Mw(t);return new I2(t,s,e._key,r,new Jc(n.hasPendingWrites,n.fromCache),e.converter)}function iH(){return new Iw("serverTimestamp")}(function(e,n=!0){(function(s){lc=s})(ac),$l(new ma("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new ws(new YU(r.getProvider("auth-internal")),new JU(a,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ce(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ed(u.options.projectId,h)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ho(TN,AN,e),ho(TN,AN,"esm2017")})();const oH={apiKey:"AIzaSyBhiSxNUrQ4b_iwpYr4F_J1UW3XOwzsMmE",authDomain:"dsa-squad.firebaseapp.com",databaseURL:"https://dsa-squad-default-rtdb.firebaseio.com",projectId:"dsa-squad",storageBucket:"dsa-squad.firebasestorage.app",messagingSenderId:"762339454857",appId:"1:762339454857:web:bfc50ed181e2daefe2fb58",measurementId:"G-WCPR6FCESS"},M2=oP(oH),wt=qU(M2),Ue=HB(M2);let Dw=navigator.onLine;window.addEventListener("online",()=>{Dw=!0,console.log("App is online"),qB(Ue).catch(console.error)});window.addEventListener("offline",()=>{Dw=!1,console.log("App is offline"),GB(Ue).catch(console.error)});const TC=()=>Dw,Kl=async(t,e=3)=>{for(let n=0;n<e;n++)try{return await t()}catch(r){if(console.error(`Firebase operation failed (attempt ${n+1}/${e}):`,r),n===e-1)throw r;await new Promise(s=>setTimeout(s,Math.pow(2,n)*1e3))}},$e={FOOD:"food",DRINKS:"drinks",DAILY_ESSENTIAL:"daily_essential"},xt={PIZZAS:"pizzas",BURGERS:"burgers",BIRYANI:"biryani",CHINESE:"chinese",INDIAN:"indian",DESSERTS:"desserts",BEER:"beer",WINE:"wine",SPIRITS:"spirits",COCKTAILS:"cocktails",STAPLES:"staples",SNACKS:"snacks",BEVERAGES:"beverages",PERSONAL_CARE:"personal_care",HOUSEHOLD:"household"},D2=[{name:"All",icon:"",category:$e.FOOD,subcategory:"all",displayName:"All"},{name:"Pizzas",icon:"",category:$e.FOOD,subcategory:xt.PIZZAS,displayName:"Pizzas"},{name:"Biryani",icon:"",category:$e.FOOD,subcategory:xt.BIRYANI,displayName:"Biryani"},{name:"Chinese",icon:"",category:$e.FOOD,subcategory:xt.CHINESE,displayName:"Chinese"},{name:"Burgers",icon:"",category:$e.FOOD,subcategory:xt.BURGERS,displayName:"Burgers"},{name:"Indian",icon:"",category:$e.FOOD,subcategory:xt.INDIAN,displayName:"Indian"},{name:"Desserts",icon:"",category:$e.FOOD,subcategory:xt.DESSERTS,displayName:"Desserts"},{name:"All",icon:"",category:$e.DRINKS,subcategory:"all",displayName:"All"},{name:"Beer",icon:"",category:$e.DRINKS,subcategory:xt.BEER,displayName:"Beer"},{name:"Wine",icon:"",category:$e.DRINKS,subcategory:xt.WINE,displayName:"Wine"},{name:"Spirits",icon:"",category:$e.DRINKS,subcategory:xt.SPIRITS,displayName:"Spirits"},{name:"Cocktails",icon:"",category:$e.DRINKS,subcategory:xt.COCKTAILS,displayName:"Cocktails"},{name:"All",icon:"",category:$e.DAILY_ESSENTIAL,subcategory:"all",displayName:"All"},{name:"Staples",icon:"",category:$e.DAILY_ESSENTIAL,subcategory:xt.STAPLES,displayName:"Staples"},{name:"Snacks",icon:"",category:$e.DAILY_ESSENTIAL,subcategory:xt.SNACKS,displayName:"Snacks"},{name:"Beverages",icon:"",category:$e.DAILY_ESSENTIAL,subcategory:xt.BEVERAGES,displayName:"Beverages"},{name:"Personal Care",icon:"",category:$e.DAILY_ESSENTIAL,subcategory:xt.PERSONAL_CARE,displayName:"Personal Care"},{name:"Household",icon:"",category:$e.DAILY_ESSENTIAL,subcategory:xt.HOUSEHOLD,displayName:"Household"}],aH=[{name:"Domino's Pizza",price:250,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:$e.FOOD,subcategory:xt.PIZZAS,description:"Delicious pizza with fresh toppings",deliveryTime:"20-25 mins",inStock:!0,isVeg:!1,discount:"20% OFF",tags:["pizza","italian","cheese","tomato"]},{name:"Spice N Ice Biryani",price:220,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:$e.FOOD,subcategory:xt.BIRYANI,description:"Aromatic biryani with tender meat",deliveryTime:"25-30 mins",inStock:!0,isVeg:!1,offer:"BUY1 GET1",tags:["biryani","rice","spicy","indian"]},{name:"China Nation Noodles",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:$e.FOOD,subcategory:xt.CHINESE,description:"Stir-fried noodles with vegetables",deliveryTime:"15-20 mins",inStock:!0,isVeg:!0,tags:["noodles","chinese","vegetarian","stir-fry"]},{name:"Classic Burger",price:150,rating:4.2,image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400",category:$e.FOOD,subcategory:xt.BURGERS,description:"Juicy beef burger with fresh vegetables",deliveryTime:"18-22 mins",inStock:!0,isVeg:!1,discount:"15% OFF",tags:["burger","beef","fast-food","american"]},{name:"Butter Chicken",price:280,rating:4.6,image:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400",category:$e.FOOD,subcategory:xt.INDIAN,description:"Creamy butter chicken with naan",deliveryTime:"30-35 mins",inStock:!0,isVeg:!1,tags:["chicken","indian","curry","butter"]},{name:"Chocolate Cake",price:120,rating:4.4,image:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400",category:$e.FOOD,subcategory:xt.DESSERTS,description:"Rich chocolate cake with cream",deliveryTime:"20-25 mins",inStock:!0,isVeg:!0,tags:["cake","chocolate","dessert","sweet"]},{name:"Heineken Beer",price:120,rating:4.3,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:$e.DRINKS,subcategory:xt.BEER,description:"Premium lager beer",deliveryTime:"30-45 mins",inStock:!0,tags:["beer","lager","alcohol","premium"]},{name:"Red Wine",price:450,rating:4.5,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:$e.DRINKS,subcategory:xt.WINE,description:"Smooth red wine",deliveryTime:"30-45 mins",inStock:!0,discount:"10% OFF",tags:["wine","red","alcohol","premium"]},{name:"Whiskey",price:800,rating:4.7,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:$e.DRINKS,subcategory:xt.SPIRITS,description:"Premium whiskey",deliveryTime:"30-45 mins",inStock:!0,tags:["whiskey","spirits","alcohol","premium"]},{name:"Mojito Cocktail",price:180,rating:4.2,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400",category:$e.DRINKS,subcategory:xt.COCKTAILS,description:"Refreshing mojito cocktail",deliveryTime:"25-35 mins",inStock:!0,tags:["cocktail","mojito","alcohol","refreshing"]},{name:"Basmati Rice",price:80,rating:4.4,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400",category:$e.DAILY_ESSENTIAL,subcategory:xt.STAPLES,description:"Premium basmati rice",deliveryTime:"60-90 mins",inStock:!0,discount:"5% OFF",tags:["rice","basmati","staples","grocery"]},{name:"Potato Chips",price:30,rating:4.1,image:"https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=400",category:$e.DAILY_ESSENTIAL,subcategory:xt.SNACKS,description:"Crispy potato chips",deliveryTime:"60-90 mins",inStock:!0,tags:["chips","snacks","potato","crispy"]},{name:"Coca Cola",price:40,rating:4,image:"https://images.unsplash.com/photo-1554866585-aa94861d3f78?w=400",category:$e.DAILY_ESSENTIAL,subcategory:xt.BEVERAGES,description:"Refreshing cola drink",deliveryTime:"60-90 mins",inStock:!0,tags:["cola","beverage","soft-drink","refreshing"]},{name:"Toothpaste",price:60,rating:4.3,image:"https://images.unsplash.com/photo-1559591935-c6c92c6c2b6e?w=400",category:$e.DAILY_ESSENTIAL,subcategory:xt.PERSONAL_CARE,description:"Fresh mint toothpaste",deliveryTime:"60-90 mins",inStock:!0,tags:["toothpaste","personal-care","hygiene","mint"]},{name:"Dish Soap",price:45,rating:4.2,image:"https://images.unsplash.com/photo-1559591935-c6c92c6c2b6e?w=400",category:$e.DAILY_ESSENTIAL,subcategory:xt.HOUSEHOLD,description:"Effective dish cleaning soap",deliveryTime:"60-90 mins",inStock:!0,tags:["soap","household","cleaning","dishes"]}],lH=async()=>{try{const t=gn(Ue,"categories");if((await Rr(t)).empty){const n=D2.map(r=>Ks(t,{...r,createdAt:new Date,updatedAt:new Date}));await Promise.all(n),console.log("Categories initialized successfully")}}catch(t){console.error("Error initializing categories:",t)}},od=async t=>{try{const e=gn(Ue,"categories"),n=Rs(e,di("category","==",t)),r=await Rr(n),s=[];return r.forEach(i=>{const a=i.data(),l={id:i.id,...a};s.push(l)}),s.sort((i,a)=>i.name.localeCompare(a.name)),s}catch(e){return console.error("Error fetching categories:",e),D2.filter(n=>n.category===t)}},cH=async()=>{try{const t=gn(Ue,"products");if((await Rr(t)).empty){const n=aH.map(r=>Ks(t,{...r,createdAt:new Date,updatedAt:new Date}));await Promise.all(n),console.log("Products initialized successfully")}}catch(t){console.error("Error initializing products:",t)}},eu=async(t,e=null,n=null)=>{try{const r=gn(Ue,"products");let s;e?s=Rs(r,di("category","==",e)):s=Rs(r,nH("name")),n&&(e?s=Rs(s,di("subcategory","==",n)):s=Rs(r,di("subcategory","==",n)));const i=await Rr(s),a=[];return i.forEach(l=>{const c=l.data(),u={id:l.id,...c};(!t||u.name.toLowerCase().includes(t.toLowerCase())||u.description.toLowerCase().includes(t.toLowerCase())||u.tags&&u.tags.some(h=>h.toLowerCase().includes(t.toLowerCase())))&&a.push(u)}),(e||n)&&a.sort((l,c)=>l.name.localeCompare(c.name)),a}catch(r){return console.error("Error searching products:",r),[]}},wl=async t=>await eu("",t),uH=async()=>{try{const t=gn(Ue,"products"),e=await Rr(t),n=gn(Ue,"categories"),r=await Rr(n),s=new Map;r.forEach(l=>{var h,p;const c=l.data(),u=`${(h=c.category)==null?void 0:h.toLowerCase()}-${(p=c.subcategory)==null?void 0:p.toLowerCase()}`;s.set(u,c)});const i=[],a={pizzas:"",burgers:"",biryani:"",chinese:"",indian:"",desserts:"",momo:"",vindi:"",sandwiches:"",noodles:"",rice:"",curry:"",breads:"",soups:"",salads:"",wraps:"",tacos:"",sushi:"",pasta:"",beer:"",wine:"",spirits:"",cocktails:"",juice:"",soda:"",coffee:"",tea:"",smoothies:"",milkshakes:"",energy_drinks:"",staples:"",snacks:"",beverages:"",personal_care:"","personal care":"",household:"",fruits:"",vegetables:"",dairy:"",meat:"",frozen:"",canned:"",bakery:"",condiments:"",spices:"",oils:"",grains:"",pulses:"",nuts:"",chocolates:"",candies:""};if(e.forEach(l=>{var h,p;const c=l.data();if(!c.subcategory||c.subcategory==="all")return;const u=`${(h=c.category)==null?void 0:h.toLowerCase()}-${(p=c.subcategory)==null?void 0:p.toLowerCase()}`;if(!s.has(u)){const m=a[c.subcategory.toLowerCase()]||"",g=c.subcategory.charAt(0).toUpperCase()+c.subcategory.slice(1);i.push({name:g,icon:m,category:c.category,subcategory:c.subcategory.toLowerCase(),displayName:g,createdAt:new Date,updatedAt:new Date})}}),i.length>0){console.log("Adding missing subcategories:",i);const l=i.map(c=>Ks(n,c));await Promise.all(l),console.log(`Added ${i.length} missing subcategories to Firestore`)}else console.log("No missing subcategories found");return i}catch(t){return console.error("Error syncing missing subcategories:",t),[]}},dH=async(t=4)=>{try{const e=gn(Ue,"orders"),n=await Rr(e),r={};return n.forEach(i=>{const a=i.data();Array.isArray(a.items)&&a.items.forEach(l=>{l.id&&(r[l.id]||(r[l.id]={count:0,product:l}),r[l.id].count+=l.quantity||1)})}),Object.values(r).sort((i,a)=>a.count-i.count).slice(0,t).map(i=>({...i.product,totalBought:i.count}))}catch(e){return console.error("Error fetching top bought products:",e),[]}},O2=async()=>{try{console.log("Checking if products exist in database...");const t=gn(Ue,"products"),e=await Rr(t);e.empty?(console.log("No products found in database, initializing..."),await cH()):console.log("Found",e.size,"products in database")}catch(t){console.error("Error checking products:",t)}};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=d.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>d.createElement("svg",{ref:c,...fH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:V2("lucide",s),...l},[...a.map(([u,h])=>d.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(t,e)=>{const n=d.forwardRef(({className:r,...s},i)=>d.createElement(pH,{ref:i,iconNode:e,className:V2(`lucide-${hH(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=ve("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=ve("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=ve("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=ve("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=ve("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=ve("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=ve("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=ve("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=ve("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=ve("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=ve("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=ve("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=ve("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=ve("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=ve("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=ve("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=ve("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=ve("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=ve("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=ve("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=ve("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=ve("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ve("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=ve("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ve("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=ve("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=ve("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=ve("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=ve("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ve("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=ve("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ve("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=ve("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=ve("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=ve("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=ve("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=ve("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=ve("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=ve("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),DC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,OC=SI,Rm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return OC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],p=i==null?void 0:i[u];if(h===null)return null;const m=DC(h)||DC(p);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[p,m]=h;return m===void 0||(u[p]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:p,className:m,...g}=h;return Object.entries(g).every(v=>{let[y,b]=v;return Array.isArray(b)?b.includes({...i,...l}[y]):{...i,...l}[y]===b})?[...u,p,m]:u},[]);return OC(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},BH=Rm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),F=d.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?A5:"button";return o.jsx(a,{className:Ae(BH({variant:e,size:n,className:t})),ref:i,...s})});F.displayName="Button";const HH=Rm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Tt({className:t,variant:e,...n}){return o.jsx("div",{className:Ae(HH({variant:e}),t),...n})}const ke=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ke.displayName="Card";const ut=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ae("flex flex-col space-y-1.5 p-6",t),...e}));ut.displayName="CardHeader";const yt=d.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:Ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));yt.displayName="CardTitle";const WH=d.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));WH.displayName="CardDescription";const Ie=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ae("p-6 pt-0",t),...e}));Ie.displayName="CardContent";const qH=d.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ae("flex items-center p-6 pt-0",t),...e}));qH.displayName="CardFooter";const Ve=d.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ve.displayName="Input";var GH="Label",K2=d.forwardRef((t,e)=>o.jsx(Re.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));K2.displayName=GH;var Q2=K2;const KH=Rm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Me=d.forwardRef(({className:t,...e},n)=>o.jsx(Q2,{ref:n,className:Ae(KH(),t),...e}));Me.displayName=Q2.displayName;function Lm(t){const e=t+"CollectionProvider",[n,r]=Kn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:b,children:w}=y,x=ue.useRef(null),N=ue.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:N,collectionRef:x,children:w})};a.displayName=e;const l=t+"CollectionSlot",c=yo(l),u=ue.forwardRef((y,b)=>{const{scope:w,children:x}=y,N=i(l,w),I=et(b,N.collectionRef);return o.jsx(c,{ref:I,children:x})});u.displayName=l;const h=t+"CollectionItemSlot",p="data-radix-collection-item",m=yo(h),g=ue.forwardRef((y,b)=>{const{scope:w,children:x,...N}=y,I=ue.useRef(null),A=et(b,I),L=i(h,w);return ue.useEffect(()=>(L.itemMap.set(I,{ref:I,...N}),()=>void L.itemMap.delete(I))),o.jsx(m,{[p]:"",ref:A,children:x})});g.displayName=h;function v(y){const b=i(t+"CollectionConsumer",y);return ue.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const N=Array.from(x.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((L,C)=>N.indexOf(L.ref.current)-N.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},v,r]}var QH=d.createContext(void 0);function gc(t){const e=d.useContext(QH);return t||e||"ltr"}var py="rovingFocusGroup.onEntryFocus",YH={bubbles:!1,cancelable:!0},Od="RovingFocusGroup",[i0,Y2,ZH]=Lm(Od),[XH,yc]=Kn(Od,[ZH]),[JH,eW]=XH(Od),Z2=d.forwardRef((t,e)=>o.jsx(i0.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(i0.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(tW,{...t,ref:e})})}));Z2.displayName=Od;var tW=d.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=t,m=d.useRef(null),g=et(e,m),v=gc(i),[y,b]=Gr({prop:a,defaultProp:l??null,onChange:c,caller:Od}),[w,x]=d.useState(!1),N=Bs(u),I=Y2(n),A=d.useRef(!1),[L,C]=d.useState(0);return d.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(py,N),()=>_.removeEventListener(py,N)},[N]),o.jsx(JH,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:y,onItemFocus:d.useCallback(_=>b(_),[b]),onItemShiftTab:d.useCallback(()=>x(!0),[]),onFocusableItemAdd:d.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:d.useCallback(()=>C(_=>_-1),[]),children:o.jsx(Re.div,{tabIndex:w||L===0?-1:0,"data-orientation":r,...p,ref:g,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{A.current=!0}),onFocus:ye(t.onFocus,_=>{const j=!A.current;if(_.target===_.currentTarget&&j&&!w){const T=new CustomEvent(py,YH);if(_.currentTarget.dispatchEvent(T),!T.defaultPrevented){const k=I().filter(G=>G.focusable),P=k.find(G=>G.active),R=k.find(G=>G.id===y),Z=[P,R,...k].filter(Boolean).map(G=>G.ref.current);eA(Z,h)}}A.current=!1}),onBlur:ye(t.onBlur,()=>x(!1))})})}),X2="RovingFocusGroupItem",J2=d.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=t,c=Pr(),u=i||c,h=eW(X2,n),p=h.currentTabStopId===u,m=Y2(n),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:y}=h;return d.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),o.jsx(i0.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Re.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:ye(t.onMouseDown,b=>{r?h.onItemFocus(u):b.preventDefault()}),onFocus:ye(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:ye(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=sW(b,h.orientation,h.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let N=m().filter(I=>I.focusable).map(I=>I.ref.current);if(w==="last")N.reverse();else if(w==="prev"||w==="next"){w==="prev"&&N.reverse();const I=N.indexOf(b.currentTarget);N=h.loop?iW(N,I+1):N.slice(I+1)}setTimeout(()=>eA(N))}}),children:typeof a=="function"?a({isCurrentTabStop:p,hasTabStop:y!=null}):a})})});J2.displayName=X2;var nW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function sW(t,e,n){const r=rW(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return nW[r]}function eA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function iW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Uw=Z2,zw=J2,Mm="Tabs",[oW,yX]=Kn(Mm,[yc]),tA=yc(),[aW,Bw]=oW(Mm),nA=d.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=gc(l),[p,m]=Gr({prop:r,onChange:s,defaultProp:i??"",caller:Mm});return o.jsx(aW,{scope:n,baseId:Pr(),value:p,onValueChange:m,orientation:a,dir:h,activationMode:c,children:o.jsx(Re.div,{dir:h,"data-orientation":a,...u,ref:e})})});nA.displayName=Mm;var rA="TabsList",sA=d.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Bw(rA,n),a=tA(n);return o.jsx(Uw,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(Re.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});sA.displayName=rA;var iA="TabsTrigger",oA=d.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=Bw(iA,n),l=tA(n),c=cA(a.baseId,r),u=uA(a.baseId,r),h=r===a.value;return o.jsx(zw,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(Re.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:ye(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?a.onValueChange(r):p.preventDefault()}),onKeyDown:ye(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&a.onValueChange(r)}),onFocus:ye(t.onFocus,()=>{const p=a.activationMode!=="manual";!h&&!s&&p&&a.onValueChange(r)})})})});oA.displayName=iA;var aA="TabsContent",lA=d.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=Bw(aA,n),c=cA(l.baseId,r),u=uA(l.baseId,r),h=r===l.value,p=d.useRef(h);return d.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(xr,{present:s||h,children:({present:m})=>o.jsx(Re.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:m&&i})})});lA.displayName=aA;function cA(t,e){return`${t}-trigger-${e}`}function uA(t,e){return`${t}-content-${e}`}var lW=nA,dA=sA,hA=oA,fA=lA;const cW=lW,pA=d.forwardRef(({className:t,...e},n)=>o.jsx(dA,{ref:n,className:Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));pA.displayName=dA.displayName;const o0=d.forwardRef(({className:t,...e},n)=>o.jsx(hA,{ref:n,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));o0.displayName=hA.displayName;const a0=d.forwardRef(({className:t,...e},n)=>o.jsx(fA,{ref:n,className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));a0.displayName=fA.displayName;const mA=({isOpen:t,onComplete:e})=>{const[n,r]=d.useState(!1),[s,i]=d.useState({displayName:"",phone:"",age:""}),[a,l]=d.useState({displayName:"",phone:"",age:""});d.useEffect(()=>{t&&wt.currentUser&&i(p=>({...p,displayName:wt.currentUser.displayName||"",phone:wt.currentUser.phoneNumber||""}))},[t]);const c=()=>{const p={displayName:"",phone:"",age:""};if(s.displayName.trim()?s.displayName.trim().length<2&&(p.displayName="Name must be at least 2 characters long"):p.displayName="Name is required",s.phone.trim()?/^[\+]?[1-9][\d]{0,15}$/.test(s.phone.replace(/\s/g,""))||(p.phone="Please enter a valid phone number"):p.phone="Phone number is required",!s.age.trim())p.age="Age is required";else{const m=parseInt(s.age);(isNaN(m)||m<13||m>120)&&(p.age="Age must be between 13 and 120")}return l(p),!Object.values(p).some(m=>m!=="")},u=async p=>{if(p.preventDefault(),!!c()){if(!wt.currentUser){$.error("User not authenticated");return}r(!0);try{await OP(wt.currentUser,{displayName:s.displayName.trim()});const m=kt(Ue,"users",wt.currentUser.uid),g=await ba(m),v={displayName:s.displayName.trim(),email:wt.currentUser.email,phone:s.phone.trim(),age:parseInt(s.age),isOnboarded:!0,createdAt:g.exists()?g.data().createdAt:new Date,updatedAt:new Date,settings:g.exists()?g.data().settings:{notifications:!0,language:"en",sound:!0,emailNotifications:!0,pushNotifications:!0,darkMode:!1}};await T2(m,v,{merge:!0}),$.success("Profile completed successfully!"),e()}catch(m){console.error("Error saving user data:",m),$.error("Failed to save profile. Please try again.")}finally{r(!1)}}},h=(p,m)=>{i(g=>({...g,[p]:m})),a[p]&&l(g=>({...g,[p]:""}))};return t?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs(ke,{className:"w-full max-w-md bg-white",children:[o.jsxs(ut,{className:"text-center",children:[o.jsx(yt,{className:"text-2xl font-bold text-gray-800",children:"Complete Your Profile"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Please provide your details to complete your account setup"})]}),o.jsx(Ie,{children:o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"displayName",className:"text-gray-700",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(ls,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ve,{id:"displayName",type:"text",placeholder:"Enter your full name",value:s.displayName,onChange:p=>h("displayName",p.target.value),className:`pl-10 ${a.displayName?"border-red-500":""}`,disabled:n})]}),a.displayName&&o.jsx("p",{className:"text-red-500 text-xs",children:a.displayName})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(yr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ve,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:s.phone,onChange:p=>h("phone",p.target.value),className:`pl-10 ${a.phone?"border-red-500":""}`,disabled:n})]}),a.phone&&o.jsx("p",{className:"text-red-500 text-xs",children:a.phone})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"age",className:"text-gray-700",children:"Age"}),o.jsxs("div",{className:"relative",children:[o.jsx($2,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ve,{id:"age",type:"number",placeholder:"Enter your age",value:s.age,onChange:p=>h("age",p.target.value),className:`pl-10 ${a.age?"border-red-500":""}`,min:"13",max:"120",disabled:n})]}),a.age&&o.jsx("p",{className:"text-red-500 text-xs",children:a.age}),o.jsx("p",{className:"text-gray-500 text-xs",children:"You must be at least 13 years old to use this service"})]}),o.jsx(F,{type:"submit",className:"w-full bg-pickngo-orange-500 hover:bg-pickngo-orange-600",disabled:n,children:n?o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:["Complete Profile",o.jsx(dp,{className:"ml-2 h-4 w-4"})]})})]})})]})}):null},uW=({isOpen:t,onClose:e,onLoginSuccess:n})=>{const[r,s]=d.useState(!1),[i,a]=d.useState(""),[l,c]=d.useState(""),[u,h]=d.useState(!1),[p,m]=d.useState(!1),[g,v]=d.useState(""),[y,b]=d.useState(""),[w,x]=d.useState(""),[N,I]=d.useState(!1),[A,L]=d.useState(null),[C,_]=d.useState(!1),[j,T]=d.useState(!1),k=()=>{a(""),c(""),v(""),b(""),x(""),I(!1),m(!1),s(!1),_(!1),T(!1)},P=()=>{_(!1),k(),e(),n&&n()},R=async U=>{var z;try{const Q=await ba(kt(Ue,"users",U));return!Q.exists()||!((z=Q.data())!=null&&z.isOnboarded)}catch(Q){return console.error("Error checking user status:",Q),!0}},H=async U=>{U.preventDefault(),s(!0);try{if(p){const z=await w8(wt,i,l);$.success("Account created successfully!"),T(!0),_(!0)}else{const z=await b8(wt,i,l);await R(z.user.uid)?($.success("Account created successfully!"),T(!0),_(!0)):($.success("Logged in successfully!"),k(),e(),n&&n())}}catch(z){console.error("Auth error:",z),z.code==="auth/email-already-in-use"?$.error("Email already in use. Please sign in instead."):z.code==="auth/user-not-found"?$.error("User not found. Please check your email or sign up."):z.code==="auth/wrong-password"?$.error("Incorrect password. Please try again."):z.code==="auth/weak-password"?$.error("Password is too weak. Please use a stronger password."):$.error("Authentication failed. Please try again.")}finally{s(!1)}},Z=async()=>{s(!0);try{const U=new ni;U.setCustomParameters({prompt:"select_account"});const z=await tU(wt,U);await R(z.user.uid)?($.success("Account created successfully!"),T(!0),_(!0)):($.success("Successfully signed in with Google!"),k(),e(),n&&n())}catch(U){console.error("Google auth error:",U),U.code==="auth/popup-closed-by-user"?$.error("Sign-in cancelled. Please try again."):U.code==="auth/popup-blocked"?$.error("Pop-up blocked. Please allow pop-ups for this site."):$.error("Google sign-in failed. Please try again.")}finally{s(!1)}},G=()=>{if(!A){const U=new K8(wt,"recaptcha-container",{size:"invisible",callback:()=>{console.log("reCAPTCHA solved")}});L(U)}},te=async U=>{U.preventDefault(),s(!0);try{if(G(),!A){$.error("reCAPTCHA not ready. Please refresh and try again.");return}const z=g.startsWith("+")?g:`+91${g}`,Q=await EN(wt,z,A);x(Q.verificationId),I(!0),$.success("OTP sent successfully!")}catch(z){console.error("Phone auth error:",z),z.code==="auth/billing-not-enabled"?$.error("Phone authentication requires billing to be enabled. Please enable billing in Firebase Console."):z.code==="auth/invalid-phone-number"?$.error("Invalid phone number. Please check and try again."):z.code==="auth/too-many-requests"?$.error("Too many requests. Please try again later."):z.code==="auth/quota-exceeded"?$.error("SMS quota exceeded. Please try again later or contact support."):$.error("Failed to send OTP. Please try again.")}finally{s(!1)}},O=async U=>{U.preventDefault(),s(!0);try{const z=oa.credential(w,y),Q=await EN(wt,g,A);await R(Q.user.uid)?($.success("Account created successfully!"),T(!0),_(!0)):($.success("Phone number verified successfully!"),k(),e(),n&&n())}catch(z){console.error("OTP verification error:",z),z.code==="auth/invalid-verification-code"?$.error("Invalid OTP. Please check and try again."):z.code==="auth/code-expired"?($.error("OTP has expired. Please request a new one."),I(!1)):$.error("OTP verification failed. Please try again.")}finally{s(!1)}},D=async()=>{s(!0);try{await te(new Event("submit"))}catch(U){console.error("Resend OTP error:",U),$.error("Failed to resend OTP. Please try again.")}finally{s(!1)}},V=()=>{k(),e()};return t?o.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[o.jsxs(ke,{className:"w-full max-w-md bg-white",children:[o.jsxs(ut,{className:"relative",children:[o.jsx(F,{variant:"ghost",size:"icon",className:"absolute right-2 top-2",onClick:V,children:o.jsx(Ra,{className:"w-4 h-4"})}),o.jsx(yt,{className:"text-center text-2xl font-bold",children:p?"Create Account":"Welcome Back"})]}),o.jsxs(Ie,{children:[o.jsxs(cW,{defaultValue:"email",className:"w-full",children:[o.jsxs(pA,{className:"grid w-full grid-cols-2",children:[o.jsxs(o0,{value:"email",className:"flex items-center space-x-2",children:[o.jsx(qs,{className:"w-4 h-4"}),o.jsx("span",{children:"Email"})]}),o.jsxs(o0,{value:"phone",className:"flex items-center space-x-2",children:[o.jsx(yr,{className:"w-4 h-4"}),o.jsx("span",{children:"Phone"})]})]}),o.jsxs(a0,{value:"email",className:"space-y-4",children:[o.jsxs("form",{onSubmit:H,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(qs,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ve,{id:"email",type:"email",placeholder:"Enter your email",value:i,onChange:U=>a(U.target.value),className:"pl-10",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(G2,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ve,{id:"password",type:u?"text":"password",placeholder:"Enter your password",value:l,onChange:U=>c(U.target.value),className:"pl-10 pr-10",required:!0}),o.jsx(F,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>h(!u),children:u?o.jsx(pf,{className:"h-4 w-4"}):o.jsx(Cu,{className:"h-4 w-4"})})]})]}),o.jsx(F,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"mr-2 h-4 w-4 animate-spin"}),p?"Creating Account...":"Signing In..."]}):p?"Create Account":"Sign In"})]}),o.jsx("div",{className:"text-center",children:o.jsx(F,{variant:"link",onClick:()=>m(!p),className:"text-sm",children:p?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with"})})]}),o.jsx(F,{variant:"outline",onClick:Z,className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in with Google..."]}):o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]}),o.jsx(a0,{value:"phone",className:"space-y-4",children:N?o.jsxs("form",{onSubmit:O,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"otp",children:"Verification Code"}),o.jsx(Ve,{id:"otp",type:"text",placeholder:"Enter 6-digit code",value:y,onChange:U=>b(U.target.value),maxLength:6,className:"text-center text-lg tracking-widest",required:!0}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Enter the 6-digit code sent to ",g]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(F,{type:"submit",className:"flex-1",disabled:r||y.length!==6,children:r?o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify OTP"}),o.jsx(F,{type:"button",variant:"outline",onClick:D,disabled:r,children:"Resend"})]}),o.jsx(F,{type:"button",variant:"ghost",onClick:()=>{I(!1),b(""),x("")},className:"w-full",children:"Change Phone Number"})]}):o.jsxs("form",{onSubmit:te,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(yr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Ve,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:g,onChange:U=>v(U.target.value),className:"pl-10",required:!0})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"We'll send you a verification code via SMS"})]}),o.jsx(F,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending OTP..."]}):"Send OTP"})]})})]}),o.jsx("div",{id:"recaptcha-container",className:"mt-4"})]})]}),o.jsx(mA,{isOpen:C,onComplete:P})]}):null};var my="focusScope.autoFocusOnMount",gy="focusScope.autoFocusOnUnmount",VC={bubbles:!1,cancelable:!0},dW="FocusScope",Vd=d.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=d.useState(null),u=Bs(s),h=Bs(i),p=d.useRef(null),m=et(e,y=>c(y)),g=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let y=function(N){if(g.paused||!l)return;const I=N.target;l.contains(I)?p.current=I:Ri(p.current,{select:!0})},b=function(N){if(g.paused||!l)return;const I=N.relatedTarget;I!==null&&(l.contains(I)||Ri(p.current,{select:!0}))},w=function(N){if(document.activeElement===document.body)for(const A of N)A.removedNodes.length>0&&Ri(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const x=new MutationObserver(w);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),x.disconnect()}}},[r,l,g.paused]),d.useEffect(()=>{if(l){$C.add(g);const y=document.activeElement;if(!l.contains(y)){const w=new CustomEvent(my,VC);l.addEventListener(my,u),l.dispatchEvent(w),w.defaultPrevented||(hW(yW(gA(l)),{select:!0}),document.activeElement===y&&Ri(l))}return()=>{l.removeEventListener(my,u),setTimeout(()=>{const w=new CustomEvent(gy,VC);l.addEventListener(gy,h),l.dispatchEvent(w),w.defaultPrevented||Ri(y??document.body,{select:!0}),l.removeEventListener(gy,h),$C.remove(g)},0)}}},[l,u,h,g]);const v=d.useCallback(y=>{if(!n&&!r||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(b&&w){const x=y.currentTarget,[N,I]=fW(x);N&&I?!y.shiftKey&&w===I?(y.preventDefault(),n&&Ri(N,{select:!0})):y.shiftKey&&w===N&&(y.preventDefault(),n&&Ri(I,{select:!0})):w===x&&y.preventDefault()}},[n,r,g.paused]);return o.jsx(Re.div,{tabIndex:-1,...a,ref:m,onKeyDown:v})});Vd.displayName=dW;function hW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ri(r,{select:e}),document.activeElement!==n)return}function fW(t){const e=gA(t),n=FC(e,t),r=FC(e.reverse(),t);return[n,r]}function gA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function FC(t,e){for(const n of t)if(!pW(n,{upTo:e}))return n}function pW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function mW(t){return t instanceof HTMLInputElement&&"select"in t}function Ri(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&mW(t)&&e&&t.select()}}var $C=gW();function gW(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=UC(t,e),t.unshift(e)},remove(e){var n;t=UC(t,e),(n=t[0])==null||n.resume()}}}function UC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function yW(t){return t.filter(e=>e.tagName!=="A")}var yy=0;function Dm(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??zC()),document.body.insertAdjacentElement("beforeend",t[1]??zC()),yy++,()=>{yy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),yy--}},[])}function zC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var mf="right-scroll-bar-position",gf="width-before-scroll-bar",vW="with-scroll-bars-hidden",xW="--removed-body-scroll-bar-size";function vy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function wW(t,e){var n=d.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var bW=typeof window<"u"?d.useLayoutEffect:d.useEffect,BC=new WeakMap;function EW(t,e){var n=wW(null,function(r){return t.forEach(function(s){return vy(s,r)})});return bW(function(){var r=BC.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||vy(l,null)}),i.forEach(function(l){s.has(l)||vy(l,a)})}BC.set(n,t)},[t]),n}function NW(t){return t}function CW(t,e){e===void 0&&(e=NW);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var h=a;a=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),n}}}};return s}function _W(t){t===void 0&&(t={});var e=CW(null);return e.options=Ts({async:!0,ssr:!1},t),e}var yA=function(t){var e=t.sideCar,n=_d(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Ts({},n))};yA.isSideCarExport=!0;function SW(t,e){return t.useMedium(e),yA}var vA=_W(),xy=function(){},Om=d.forwardRef(function(t,e){var n=d.useRef(null),r=d.useState({onScrollCapture:xy,onWheelCapture:xy,onTouchMoveCapture:xy}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,p=t.shards,m=t.sideCar,g=t.noRelative,v=t.noIsolation,y=t.inert,b=t.allowPinchZoom,w=t.as,x=w===void 0?"div":w,N=t.gapMode,I=_d(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,L=EW([n,e]),C=Ts(Ts({},I),s);return d.createElement(d.Fragment,null,h&&d.createElement(A,{sideCar:vA,removeScrollBar:u,shards:p,noRelative:g,noIsolation:v,inert:y,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:N}),a?d.cloneElement(d.Children.only(l),Ts(Ts({},C),{ref:L})):d.createElement(x,Ts({},C,{className:c,ref:L}),l))});Om.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Om.classNames={fullWidth:gf,zeroRight:mf};var jW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=jW();return e&&t.setAttribute("nonce",e),t}function IW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function PW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var TW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=kW())&&(IW(e,n),PW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AW=function(){var t=TW();return function(e,n){d.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},xA=function(){var t=AW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},RW={left:0,top:0,right:0,gap:0},wy=function(t){return parseInt(t||"",10)||0},LW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[wy(n),wy(r),wy(s)]},MW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return RW;var e=LW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},DW=xA(),bl="data-scroll-locked",OW=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(bl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(gf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(mf," .").concat(mf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gf," .").concat(gf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bl,`] {
    `).concat(xW,": ").concat(l,`px;
  }
`)},HC=function(){var t=parseInt(document.body.getAttribute(bl)||"0",10);return isFinite(t)?t:0},VW=function(){d.useEffect(function(){return document.body.setAttribute(bl,(HC()+1).toString()),function(){var t=HC()-1;t<=0?document.body.removeAttribute(bl):document.body.setAttribute(bl,t.toString())}},[])},FW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;VW();var i=d.useMemo(function(){return MW(s)},[s]);return d.createElement(DW,{styles:OW(i,!e,s,n?"":"!important")})},l0=!1;if(typeof window<"u")try{var Vh=Object.defineProperty({},"passive",{get:function(){return l0=!0,!0}});window.addEventListener("test",Vh,Vh),window.removeEventListener("test",Vh,Vh)}catch{l0=!1}var Ua=l0?{passive:!1}:!1,$W=function(t){return t.tagName==="TEXTAREA"},wA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!$W(t)&&n[e]==="visible")},UW=function(t){return wA(t,"overflowY")},zW=function(t){return wA(t,"overflowX")},WC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=bA(t,r);if(s){var i=EA(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},BW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},HW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},bA=function(t,e){return t==="v"?UW(e):zW(e)},EA=function(t,e){return t==="v"?BW(e):HW(e)},WW=function(t,e){return t==="h"&&e==="rtl"?-1:1},qW=function(t,e,n,r,s){var i=WW(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,h=a>0,p=0,m=0;do{if(!l)break;var g=EA(t,l),v=g[0],y=g[1],b=g[2],w=y-b-i*v;(v||w)&&bA(t,l)&&(p+=w,m+=v);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(p)<1||!h&&Math.abs(m)<1)&&(u=!0),u},Fh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qC=function(t){return[t.deltaX,t.deltaY]},GC=function(t){return t&&"current"in t?t.current:t},GW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},KW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},QW=0,za=[];function YW(t){var e=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(QW++)[0],i=d.useState(xA)[0],a=d.useRef(t);d.useEffect(function(){a.current=t},[t]),d.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=p$([t.lockRef.current],(t.shards||[]).map(GC),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=d.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var w=Fh(y),x=n.current,N="deltaX"in y?y.deltaX:x[0]-w[0],I="deltaY"in y?y.deltaY:x[1]-w[1],A,L=y.target,C=Math.abs(N)>Math.abs(I)?"h":"v";if("touches"in y&&C==="h"&&L.type==="range")return!1;var _=WC(C,L);if(!_)return!0;if(_?A=C:(A=C==="v"?"h":"v",_=WC(C,L)),!_)return!1;if(!r.current&&"changedTouches"in y&&(N||I)&&(r.current=A),!A)return!0;var j=r.current||A;return qW(j,b,y,j==="h"?N:I)},[]),c=d.useCallback(function(y){var b=y;if(!(!za.length||za[za.length-1]!==i)){var w="deltaY"in b?qC(b):Fh(b),x=e.current.filter(function(A){return A.name===b.type&&(A.target===b.target||b.target===A.shadowParent)&&GW(A.delta,w)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var N=(a.current.shards||[]).map(GC).filter(Boolean).filter(function(A){return A.contains(b.target)}),I=N.length>0?l(b,N[0]):!a.current.noIsolation;I&&b.cancelable&&b.preventDefault()}}},[]),u=d.useCallback(function(y,b,w,x){var N={name:y,delta:b,target:w,should:x,shadowParent:ZW(w)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(I){return I!==N})},1)},[]),h=d.useCallback(function(y){n.current=Fh(y),r.current=void 0},[]),p=d.useCallback(function(y){u(y.type,qC(y),y.target,l(y,t.lockRef.current))},[]),m=d.useCallback(function(y){u(y.type,Fh(y),y.target,l(y,t.lockRef.current))},[]);d.useEffect(function(){return za.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ua),document.addEventListener("touchmove",c,Ua),document.addEventListener("touchstart",h,Ua),function(){za=za.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Ua),document.removeEventListener("touchmove",c,Ua),document.removeEventListener("touchstart",h,Ua)}},[]);var g=t.removeScrollBar,v=t.inert;return d.createElement(d.Fragment,null,v?d.createElement(i,{styles:KW(s)}):null,g?d.createElement(FW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function ZW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const XW=SW(vA,YW);var Fd=d.forwardRef(function(t,e){return d.createElement(Om,Ts({},t,{ref:e,sideCar:XW}))});Fd.classNames=Om.classNames;var JW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ba=new WeakMap,$h=new WeakMap,Uh={},by=0,NA=function(t){return t&&(t.host||NA(t.parentNode))},eq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=NA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},tq=function(t,e,n,r){var s=eq(e,Array.isArray(t)?t:[t]);Uh[n]||(Uh[n]=new WeakMap);var i=Uh[n],a=[],l=new Set,c=new Set(s),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};s.forEach(u);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(m){if(l.has(m))h(m);else try{var g=m.getAttribute(r),v=g!==null&&g!=="false",y=(Ba.get(m)||0)+1,b=(i.get(m)||0)+1;Ba.set(m,y),i.set(m,b),a.push(m),y===1&&v&&$h.set(m,!0),b===1&&m.setAttribute(n,"true"),v||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return h(e),l.clear(),by++,function(){a.forEach(function(p){var m=Ba.get(p)-1,g=i.get(p)-1;Ba.set(p,m),i.set(p,g),m||($h.has(p)||p.removeAttribute(r),$h.delete(p)),g||p.removeAttribute(n)}),by--,by||(Ba=new WeakMap,Ba=new WeakMap,$h=new WeakMap,Uh={})}},Vm=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=JW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),tq(r,s,n,"aria-hidden")):function(){return null}},Fm="Dialog",[CA,vX]=Kn(Fm),[nq,bs]=CA(Fm),_A=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=d.useRef(null),c=d.useRef(null),[u,h]=Gr({prop:r,defaultProp:s??!1,onChange:i,caller:Fm});return o.jsx(nq,{scope:e,triggerRef:l,contentRef:c,contentId:Pr(),titleId:Pr(),descriptionId:Pr(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(p=>!p),[h]),modal:a,children:n})};_A.displayName=Fm;var SA="DialogTrigger",jA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(SA,n),i=et(e,s.triggerRef);return o.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qw(s.open),...r,ref:i,onClick:ye(t.onClick,s.onOpenToggle)})});jA.displayName=SA;var Hw="DialogPortal",[rq,kA]=CA(Hw,{forceMount:void 0}),IA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=bs(Hw,e);return o.jsx(rq,{scope:e,forceMount:n,children:d.Children.map(r,a=>o.jsx(xr,{present:n||i.open,children:o.jsx(Nd,{asChild:!0,container:s,children:a})}))})};IA.displayName=Hw;var pp="DialogOverlay",PA=d.forwardRef((t,e)=>{const n=kA(pp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=bs(pp,t.__scopeDialog);return i.modal?o.jsx(xr,{present:r||i.open,children:o.jsx(iq,{...s,ref:e})}):null});PA.displayName=pp;var sq=yo("DialogOverlay.RemoveScroll"),iq=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(pp,n);return o.jsx(Fd,{as:sq,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Re.div,{"data-state":qw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ea="DialogContent",TA=d.forwardRef((t,e)=>{const n=kA(Ea,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=bs(Ea,t.__scopeDialog);return o.jsx(xr,{present:r||i.open,children:i.modal?o.jsx(oq,{...s,ref:e}):o.jsx(aq,{...s,ref:e})})});TA.displayName=Ea;var oq=d.forwardRef((t,e)=>{const n=bs(Ea,t.__scopeDialog),r=d.useRef(null),s=et(e,n.contentRef,r);return d.useEffect(()=>{const i=r.current;if(i)return Vm(i)},[]),o.jsx(AA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,i=>i.preventDefault())})}),aq=d.forwardRef((t,e)=>{const n=bs(Ea,t.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(AA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),AA=d.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=bs(Ea,n),c=d.useRef(null),u=et(e,c);return Dm(),o.jsxs(o.Fragment,{children:[o.jsx(Vd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(ec,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":qw(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(lq,{titleId:l.titleId}),o.jsx(uq,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ww="DialogTitle",RA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(Ww,n);return o.jsx(Re.h2,{id:s.titleId,...r,ref:e})});RA.displayName=Ww;var LA="DialogDescription",MA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(LA,n);return o.jsx(Re.p,{id:s.descriptionId,...r,ref:e})});MA.displayName=LA;var DA="DialogClose",OA=d.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(DA,n);return o.jsx(Re.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>s.onOpenChange(!1))})});OA.displayName=DA;function qw(t){return t?"open":"closed"}var VA="DialogTitleWarning",[xX,FA]=P5(VA,{contentName:Ea,titleName:Ww,docsSlug:"dialog"}),lq=({titleId:t})=>{const e=FA(VA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return d.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},cq="DialogDescriptionWarning",uq=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${FA(cq).contentName}}.`;return d.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},$A=_A,dq=jA,UA=IA,$m=PA,Um=TA,zm=RA,Bm=MA,zA=OA;const Ms=$A,hq=dq,fq=UA,BA=d.forwardRef(({className:t,...e},n)=>o.jsx($m,{ref:n,className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));BA.displayName=$m.displayName;const us=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(fq,{children:[o.jsx(BA,{}),o.jsxs(Um,{ref:r,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(zA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Ra,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));us.displayName=Um.displayName;const ds=({className:t,...e})=>o.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ds.displayName="DialogHeader";const hr=d.forwardRef(({className:t,...e},n)=>o.jsx(zm,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",t),...e}));hr.displayName=zm.displayName;const hs=d.forwardRef(({className:t,...e},n)=>o.jsx(Bm,{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));hs.displayName=Bm.displayName;const HA=({isOpen:t,onVerified:e,onClose:n})=>{const[r,s]=d.useState(""),i=()=>{if(!r){$.error("Please enter your date of birth");return}const a=new Date,l=new Date(r);Math.floor((a.getTime()-l.getTime())/(365.25*24*60*60*1e3))>=21?($.success("Age verification successful"),e()):$.error("You must be 21 or older to access this section")};return o.jsx(Ms,{open:t,onOpenChange:n,children:o.jsxs(us,{className:"sm:max-w-md",children:[o.jsxs(ds,{children:[o.jsxs(hr,{className:"flex items-center space-x-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Age Verification Required"})]}),o.jsx(hs,{children:"You must be 21 or older to access alcoholic beverages. Please verify your age to continue."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"birthdate",children:"Date of Birth"}),o.jsx(Ve,{id:"birthdate",type:"date",value:r,onChange:a=>s(a.target.value),className:"mt-1"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(F,{variant:"outline",onClick:n,children:"Cancel"}),o.jsx(F,{onClick:i,children:"Verify Age"})]}),o.jsx("div",{className:"text-xs text-gray-500 text-center",children:o.jsx("p",{children:"By continuing, you confirm that you are of legal drinking age in your jurisdiction."})})]})]})})},Hm=({product:t,onClose:e,onAddToCart:n})=>t?o.jsx(Ms,{open:!!t,onOpenChange:e,children:o.jsx(us,{className:"sm:max-w-2xl",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:t.image,alt:t.name,className:"w-full h-64 md:h-80 object-cover rounded-lg"}),t.originalPrice&&o.jsxs(Tt,{className:"absolute top-2 left-2 bg-red-500",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ds,{children:o.jsx(hr,{className:"text-xl",children:t.name})}),o.jsx("div",{className:"flex items-center space-x-2 mb-2",children:o.jsx(Tt,{variant:"secondary",children:t.category})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Qr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"font-medium",children:t.rating})]}),o.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[o.jsx(Aa,{className:"w-3 h-3 mr-1"}),t.deliveryTime]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-2xl font-bold",children:["",t.price]}),t.originalPrice&&o.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["",t.originalPrice]})]}),t.inStock?o.jsx(Tt,{variant:"outline",className:"text-green-600 border-green-600",children:"In Stock"}):o.jsx(Tt,{variant:"destructive",children:"Out of Stock"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold",children:"Product Features:"}),o.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[o.jsx("li",{children:" High quality ingredients"}),o.jsx("li",{children:" Fast delivery guaranteed"}),o.jsx("li",{children:" Freshness assured"}),o.jsx("li",{children:" Easy returns if not satisfied"})]})]}),o.jsxs(F,{className:"w-full",onClick:()=>{n(t),e()},disabled:!t.inStock,children:[o.jsx(Xn,{className:"w-4 h-4 mr-2"}),t.inStock?"Add to Cart":"Out of Stock"]})]})]})})}):null,Wm=$A,pq=UA,WA=d.forwardRef(({className:t,...e},n)=>o.jsx($m,{className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));WA.displayName=$m.displayName;const mq=Rm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$d=d.forwardRef(({side:t="right",className:e,children:n,...r},s)=>o.jsxs(pq,{children:[o.jsx(WA,{}),o.jsxs(Um,{ref:s,className:Ae(mq({side:t}),e),...r,children:[n,o.jsxs(zA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(Ra,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$d.displayName=Um.displayName;const Ud=({className:t,...e})=>o.jsx("div",{className:Ae("flex flex-col space-y-2 text-center sm:text-left",t),...e});Ud.displayName="SheetHeader";const zd=d.forwardRef(({className:t,...e},n)=>o.jsx(zm,{ref:n,className:Ae("text-lg font-semibold text-foreground",t),...e}));zd.displayName=zm.displayName;const qA=d.forwardRef(({className:t,...e},n)=>o.jsx(Bm,{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));qA.displayName=Bm.displayName;var gq="Separator",KC="horizontal",yq=["horizontal","vertical"],GA=d.forwardRef((t,e)=>{const{decorative:n,orientation:r=KC,...s}=t,i=vq(r)?r:KC,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(Re.div,{"data-orientation":i,...l,...s,ref:e})});GA.displayName=gq;function vq(t){return yq.includes(t)}var KA=GA;const Gw=d.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>o.jsx(KA,{ref:s,decorative:n,orientation:e,className:Ae("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Gw.displayName=KA.displayName;const xq=({isOpen:t,onClose:e,cart:n,updateQuantity:r,totalPrice:s,onProceedToCheckout:i})=>{const{isDarkMode:a,toggleDarkMode:l}=en(),[c,u]=d.useState(""),h=Object.values(n.reduce((m,g)=>(m[g.id]?m[g.id].quantity+=g.quantity:m[g.id]={...g},m),{})),p=s>299?0:29;return o.jsx(Wm,{open:t,onOpenChange:e,children:o.jsxs($d,{className:`w-full sm:max-w-lg flex flex-col ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-l`,children:[o.jsxs(Ud,{children:[o.jsx(zd,{className:a?"text-white":"text-gray-800",children:"Shopping Cart"}),o.jsx(qA,{className:a?"text-gray-400":"text-gray-600",children:h.length===0?"Your cart is empty":`${h.length} item${h.length===1?"":"s"} in your cart`})]}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:h.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Xn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:a?"text-gray-400":"text-gray-500",children:"Your cart is empty"}),o.jsx(F,{onClick:()=>e(!1),className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white",children:"Start Shopping"})]}):o.jsx("div",{className:"space-y-4",children:h.map(m=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 border rounded-lg ${a?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx("img",{src:m.image,alt:m.name,className:"w-16 h-16 object-cover rounded-lg"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:`font-medium text-sm ${a?"text-white":"text-gray-800"}`,children:m.name}),o.jsxs("p",{className:`text-sm ${a?"text-gray-400":"text-gray-600"}`,children:["",m.price]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(F,{variant:"outline",size:"sm",onClick:()=>r(m.id,m.quantity-1),className:"w-8 h-8 p-0 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"-"}),o.jsx("span",{className:`text-sm font-medium w-8 text-center ${a?"text-white":"text-gray-800"}`,children:m.quantity}),o.jsx(F,{variant:"outline",size:"sm",onClick:()=>r(m.id,m.quantity+1),className:"w-8 h-8 p-0 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"+"})]})]}),o.jsx(F,{variant:"ghost",size:"sm",onClick:()=>r(m.id,0),className:"text-red-500 hover:text-red-700",children:""})]},m.id))})}),h.length>0&&o.jsx("div",{className:`border-t pt-4 ${a?"border-gray-700":"border-gray-200"}`,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{placeholder:"Enter promo code",className:"mb-2"}),o.jsx(F,{variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Apply"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal"}),o.jsxs("span",{className:"text-gray-800",children:["",s.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),o.jsx("span",{className:"text-gray-800",children:p===0?"FREE":`${p}`})]}),s<299&&o.jsxs("p",{className:"text-xs text-green-600",children:["Add ",299-s," more for free delivery!"]}),o.jsx(Gw,{}),o.jsxs("div",{className:"flex justify-between font-semibold",children:[o.jsx("span",{className:"text-gray-800",children:"Total"}),o.jsxs("span",{className:"text-orange-500",children:["",(s>299?s:s+p).toFixed(2)]})]})]}),o.jsx(F,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:i,children:"Proceed to Checkout"}),o.jsx(F,{variant:"outline",className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>{},children:"Clear Cart"})]})})]})})};var qm="Popover",[QA,wX]=Kn(qm,[Io]),Bd=Io(),[wq,Lo]=QA(qm),YA=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=t,l=Bd(e),c=d.useRef(null),[u,h]=d.useState(!1),[p,m]=Gr({prop:r,defaultProp:s??!1,onChange:i,caller:qm});return o.jsx(Tx,{...l,children:o.jsx(wq,{scope:e,contentId:Pr(),triggerRef:c,open:p,onOpenChange:m,onOpenToggle:d.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:d.useCallback(()=>h(!0),[]),onCustomAnchorRemove:d.useCallback(()=>h(!1),[]),modal:a,children:n})})};YA.displayName=qm;var ZA="PopoverAnchor",bq=d.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Lo(ZA,n),i=Bd(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return d.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(Ed,{...i,...r,ref:e})});bq.displayName=ZA;var XA="PopoverTrigger",JA=d.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Lo(XA,n),i=Bd(n),a=et(e,s.triggerRef),l=o.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sR(s.open),...r,ref:a,onClick:ye(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(Ed,{asChild:!0,...i,children:l})});JA.displayName=XA;var Kw="PopoverPortal",[Eq,Nq]=QA(Kw,{forceMount:void 0}),eR=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=Lo(Kw,e);return o.jsx(Eq,{scope:e,forceMount:n,children:o.jsx(xr,{present:n||i.open,children:o.jsx(Nd,{asChild:!0,container:s,children:r})})})};eR.displayName=Kw;var Yl="PopoverContent",tR=d.forwardRef((t,e)=>{const n=Nq(Yl,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=Lo(Yl,t.__scopePopover);return o.jsx(xr,{present:r||i.open,children:i.modal?o.jsx(_q,{...s,ref:e}):o.jsx(Sq,{...s,ref:e})})});tR.displayName=Yl;var Cq=yo("PopoverContent.RemoveScroll"),_q=d.forwardRef((t,e)=>{const n=Lo(Yl,t.__scopePopover),r=d.useRef(null),s=et(e,r),i=d.useRef(!1);return d.useEffect(()=>{const a=r.current;if(a)return Vm(a)},[]),o.jsx(Fd,{as:Cq,allowPinchZoom:!0,children:o.jsx(nR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ye(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Sq=d.forwardRef((t,e)=>{const n=Lo(Yl,t.__scopePopover),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(nR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),nR=d.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,...p}=t,m=Lo(Yl,n),g=Bd(n);return Dm(),o.jsx(Vd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(ec,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:o.jsx(Zp,{"data-state":sR(m.open),role:"dialog",id:m.contentId,...g,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rR="PopoverClose",jq=d.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Lo(rR,n);return o.jsx(Re.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>s.onOpenChange(!1))})});jq.displayName=rR;var kq="PopoverArrow",Iq=d.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Bd(n);return o.jsx(Xp,{...s,...r,ref:e})});Iq.displayName=kq;function sR(t){return t?"open":"closed"}var Pq=YA,Tq=JA,Aq=eR,iR=tR;const Rq=Pq,Lq=Tq,oR=d.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>o.jsx(Aq,{children:o.jsx(iR,{ref:s,align:e,sideOffset:n,className:Ae("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));oR.displayName=iR.displayName;const Mq=["Pizza","Milk","Bread","Eggs","Coke","Biscuits","Rice","Snacks","Juice","Soap"],QC=({isOpen:t,onClose:e,onProductSelect:n,onAddToCart:r,cart:s=[]})=>{const{isDarkMode:i,toggleDarkMode:a}=en(),[l,c]=d.useState(""),[u,h]=d.useState([]),[p,m]=d.useState([]),[g,v]=d.useState(!1),[y,b]=d.useState("all"),[w,x]=d.useState("all"),[N,I]=d.useState(!1),[A,L]=d.useState(""),[C,_]=d.useState(!1),j=d.useRef(null);d.useEffect(()=>{C&&T()},[C]),d.useEffect(()=>{k()},[l,y,w,u]);const T=async()=>{v(!0),L("");try{console.log("Loading products for UniversalSearch..."),await O2();const V=await eu("");if(console.log("Loaded products:",V.length),V.length===0){console.log("No products found with empty query, trying category-specific queries...");const[U,z,Q]=await Promise.all([eu("",$e.FOOD),eu("",$e.DAILY_ESSENTIAL),eu("",$e.DRINKS)]);console.log("Food products:",U.length),console.log("Daily essential products:",z.length),console.log("Drinks products:",Q.length);const se=[...U,...z,...Q];console.log("Combined products:",se.length),se.length===0?(console.log("Still no products found, using sample products as fallback..."),h([{id:"1",name:"Domino's Pizza",price:250,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"food",subcategory:"pizzas",description:"Delicious pizza with fresh toppings",deliveryTime:"20-25 mins",inStock:!0,isVeg:!1,discount:"20% OFF",tags:["pizza","italian","cheese","tomato"]},{id:"2",name:"Spice N Ice Biryani",price:220,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"food",subcategory:"biryani",description:"Aromatic biryani with tender meat",deliveryTime:"25-30 mins",inStock:!0,isVeg:!1,offer:"BUY1 GET1",tags:["biryani","rice","spicy","indian"]},{id:"3",name:"China Nation Noodles",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"food",subcategory:"chinese",description:"Stir-fried noodles with vegetables",deliveryTime:"15-20 mins",inStock:!0,isVeg:!0,tags:["noodles","chinese","vegetarian","stir-fry"]},{id:"4",name:"Classic Burger",price:150,rating:4.2,image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400",category:"food",subcategory:"burgers",description:"Juicy beef burger with fresh vegetables",deliveryTime:"18-22 mins",inStock:!0,isVeg:!1,discount:"15% OFF",tags:["burger","beef","fast-food","american"]},{id:"5",name:"Butter Chicken",price:280,rating:4.6,image:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?w=400",category:"food",subcategory:"indian",description:"Creamy butter chicken with naan",deliveryTime:"30-35 mins",inStock:!0,isVeg:!1,tags:["chicken","indian","curry","butter"]},{id:"6",name:"Chocolate Cake",price:120,rating:4.4,image:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400",category:"food",subcategory:"desserts",description:"Rich chocolate cake with cream",deliveryTime:"20-25 mins",inStock:!0,isVeg:!0,tags:["cake","chocolate","dessert","sweet"]}]),L("Using sample products. Database connection may be unavailable.")):h(se)}else console.log("Setting all products:",V.length),h(V)}catch(V){console.error("Error loading products:",V),L("Failed to load products. Please try again."),$.error("Failed to load products")}finally{v(!1)}},k=()=>{let V=u;if(console.log("Filtering products. Total products:",u.length),console.log("Search query:",l),console.log("Selected category:",y),console.log("Selected subcategory:",w),l.trim()){const U=l.toLowerCase();console.log("Filtering by search query:",U),V=V.filter(z=>{const Q=z.name.toLowerCase().includes(U),se=z.description.toLowerCase().includes(U),W=z.tags&&z.tags.some(X=>X.toLowerCase().includes(U)),ge=Q||se||W;return ge&&console.log("Product matches search:",z.name),ge}),console.log("Products after search filter:",V.length)}y&&y!=="all"&&(console.log("Filtering by category:",y),V=V.filter(U=>{const z=U.category===y;return z&&console.log("Product matches category:",U.name),z}),console.log("Products after category filter:",V.length)),w&&w!=="all"&&(console.log("Filtering by subcategory:",w),V=V.filter(U=>{const z=U.subcategory===w;return z&&console.log("Product matches subcategory:",U.name),z}),console.log("Products after subcategory filter:",V.length)),console.log("Final filtered products:",V.length),m(V)},P=V=>{n&&n(V),_(!1)},R=(V,U)=>{U.stopPropagation(),r&&(r(V),$.success(`${V.name} added to cart!`))},H=()=>{b("all"),x("all"),c("")},Z=V=>{c(V),b("all"),x("all")},G=V=>{switch(V){case $e.FOOD:return"Food";case $e.DAILY_ESSENTIAL:return"Daily Essential";case $e.DRINKS:return"Drinks";default:return V}},te=Object.values(xt).filter(V=>typeof V=="string"&&V.trim()!=="").filter((V,U,z)=>z.indexOf(V)===U);w==="all"||te.includes(w);const O=V=>{V.preventDefault(),_(!0)},D=()=>{_(!0)};return l.trim(),o.jsxs(Rq,{open:C,onOpenChange:_,children:[o.jsx(Lq,{asChild:!0,children:o.jsxs("div",{className:"relative flex-1 max-w-2xl",children:[o.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(Ve,{ref:j,placeholder:"Search for food, drinks, groceries...",value:l,onChange:V=>c(V.target.value),onClick:O,onFocus:D,className:`pl-10 pr-10 h-12 text-lg focus:border-orange-500 transition-all duration-200 ${i?"bg-gray-800 text-white border-gray-600 placeholder-gray-400":"bg-gray-50 text-gray-900 border-gray-200"}`}),l&&o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>c(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-orange-500",children:o.jsx(Ra,{className:"w-4 h-4"})})]})}),o.jsx(oR,{className:"w-[500px] max-h-[600px] overflow-y-auto p-0 shadow-2xl border-0",align:"center",side:"bottom",sideOffset:8,children:o.jsxs("div",{className:`${i?"bg-gray-900":"bg-white"} rounded-xl overflow-hidden`,children:[o.jsx("div",{className:`p-4 border-b ${i?"border-gray-700 bg-gray-800":"border-gray-100 bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:`text-lg font-semibold ${i?"text-white":"text-gray-900"}`,children:l.trim()?`Search Results (${p.length})`:"Search Products"}),l.trim()&&o.jsx(F,{variant:"ghost",size:"sm",onClick:H,className:`text-xs ${i?"text-gray-400 hover:text-orange-400":"text-gray-600 hover:text-orange-500"}`,children:"Clear"})]})}),o.jsxs("div",{className:"p-4",children:[A&&o.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm",children:A}),l.trim()?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:`text-sm font-medium mb-2 ${i?"text-gray-300":"text-gray-600"}`,children:"Popular Searches"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Mq.slice(0,6).map(V=>o.jsx(F,{variant:"outline",size:"sm",onClick:()=>Z(V),className:`text-xs rounded-full ${i?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:V},V))})]}),o.jsx("div",{children:g?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):p.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(zs,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),o.jsx("p",{className:`text-base font-medium ${i?"text-gray-300":"text-gray-600"}`,children:"No products found"}),o.jsx("p",{className:`text-sm ${i?"text-gray-500":"text-gray-400"}`,children:"Try adjusting your search terms"})]}):o.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:[p.slice(0,10).map(V=>o.jsxs("div",{className:`flex items-center space-x-4 p-3 rounded-xl cursor-pointer transition-all duration-200 hover:shadow-md ${i?"hover:bg-gray-800":"hover:bg-gray-50"}`,onClick:()=>P(V),children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:V.image,alt:V.name,className:"w-16 h-16 object-cover rounded-lg",onError:U=>{U.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yNCAzMkMyNi4yMDkxIDMyIDI4IDMwLjIwOTEgMjggMjhDMjggMjUuNzkwOSAyNi4yMDkxIDI0IDI0IDI0QzIxLjc5MDkgMjQgMjAgMjUuNzkwOSAyMCAyOEMyMCAzMC4yMDkxIDIxLjc5MDkgMzIgMjQgMzJaIiBmaWxsPSIjOUI5QkEwIi8+Cjwvc3ZnPgo="}}),V.discount&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-orange-500 text-white px-1.5 py-0.5 rounded-full text-xs font-bold",children:V.discount})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-semibold text-base truncate ${i?"text-white":"text-gray-900"}`,children:V.name}),o.jsx("p",{className:`text-sm truncate mb-2 ${i?"text-gray-400":"text-gray-600"}`,children:V.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["",V.price]}),o.jsx(Tt,{variant:"secondary",className:`text-xs ${i?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:G(V.category)})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Qr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:`text-sm ${i?"text-gray-300":"text-gray-600"}`,children:V.rating})]})]})]}),o.jsxs(F,{size:"sm",onClick:U=>R(V,U),className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded-lg flex items-center space-x-1",children:[o.jsx(mc,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs",children:"Add"})]})]},V.id)),p.length>10&&o.jsx("div",{className:"text-center py-3",children:o.jsxs("p",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:["+",p.length-10," more results"]})})]})})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(zs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:`text-lg font-medium ${i?"text-gray-300":"text-gray-600"}`,children:"Start typing to search"}),o.jsx("p",{className:`text-sm ${i?"text-gray-500":"text-gray-400"}`,children:"Search for food, drinks, and groceries"})]})]})]})})]})},aR=d.createContext(void 0),Gm=()=>{const t=d.useContext(aR);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},Dq=({children:t})=>{const[e,n]=d.useState([]),[r,s]=d.useState(!1);d.useEffect(()=>{const m=localStorage.getItem("pickngo-cart");if(m)try{n(JSON.parse(m))}catch(g){console.error("Error loading cart from localStorage:",g)}},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(e))},[e]);const p={cart:e,addToCart:m=>{n(g=>g.find(y=>y.id===m.id)?g.map(y=>y.id===m.id?{...y,quantity:y.quantity+1}:y):[...g,{...m,quantity:1}]),setTimeout(()=>{s(!0)},100)},updateCartQuantity:(m,g)=>{n(v=>g<=0?v.filter(y=>y.id!==m):v.map(y=>y.id===m?{...y,quantity:g}:y))},removeFromCart:m=>{n(g=>g.filter(v=>v.id!==m))},clearCart:()=>{n([])},getTotalItems:()=>e.reduce((m,g)=>m+g.quantity,0),getTotalPrice:()=>e.reduce((m,g)=>m+g.price*g.quantity,0),isCartPopupOpen:r,setIsCartPopupOpen:s};return o.jsx(aR.Provider,{value:p,children:t})};var c0=["Enter"," "],Oq=["ArrowDown","PageUp","Home"],lR=["ArrowUp","PageDown","End"],Vq=[...Oq,...lR],Fq={ltr:[...c0,"ArrowRight"],rtl:[...c0,"ArrowLeft"]},$q={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hd="Menu",[ad,Uq,zq]=Lm(Hd),[La,cR]=Kn(Hd,[zq,Io,yc]),Km=Io(),uR=yc(),[Bq,Ma]=La(Hd),[Hq,Wd]=La(Hd),dR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,l=Km(e),[c,u]=d.useState(null),h=d.useRef(!1),p=Bs(i),m=gc(s);return d.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(Tx,{...l,children:o.jsx(Bq,{scope:e,open:n,onOpenChange:p,content:c,onContentChange:u,children:o.jsx(Hq,{scope:e,onClose:d.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:m,modal:a,children:r})})})};dR.displayName=Hd;var Wq="MenuAnchor",Qw=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Km(n);return o.jsx(Ed,{...s,...r,ref:e})});Qw.displayName=Wq;var Yw="MenuPortal",[qq,hR]=La(Yw,{forceMount:void 0}),fR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ma(Yw,e);return o.jsx(qq,{scope:e,forceMount:n,children:o.jsx(xr,{present:n||i.open,children:o.jsx(Nd,{asChild:!0,container:s,children:r})})})};fR.displayName=Yw;var Hr="MenuContent",[Gq,Zw]=La(Hr),pR=d.forwardRef((t,e)=>{const n=hR(Hr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ma(Hr,t.__scopeMenu),a=Wd(Hr,t.__scopeMenu);return o.jsx(ad.Provider,{scope:t.__scopeMenu,children:o.jsx(xr,{present:r||i.open,children:o.jsx(ad.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(Kq,{...s,ref:e}):o.jsx(Qq,{...s,ref:e})})})})}),Kq=d.forwardRef((t,e)=>{const n=Ma(Hr,t.__scopeMenu),r=d.useRef(null),s=et(e,r);return d.useEffect(()=>{const i=r.current;if(i)return Vm(i)},[]),o.jsx(Xw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ye(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Qq=d.forwardRef((t,e)=>{const n=Ma(Hr,t.__scopeMenu);return o.jsx(Xw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Yq=yo("MenuContent.ScrollLock"),Xw=d.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:m,onDismiss:g,disableOutsideScroll:v,...y}=t,b=Ma(Hr,n),w=Wd(Hr,n),x=Km(n),N=uR(n),I=Uq(n),[A,L]=d.useState(null),C=d.useRef(null),_=et(e,C,b.onContentChange),j=d.useRef(0),T=d.useRef(""),k=d.useRef(0),P=d.useRef(null),R=d.useRef("right"),H=d.useRef(0),Z=v?Fd:d.Fragment,G=v?{as:Yq,allowPinchZoom:!0}:void 0,te=D=>{var X,ce;const V=T.current+D,U=I().filter(xe=>!xe.disabled),z=document.activeElement,Q=(X=U.find(xe=>xe.ref.current===z))==null?void 0:X.textValue,se=U.map(xe=>xe.textValue),W=lG(se,V,Q),ge=(ce=U.find(xe=>xe.textValue===W))==null?void 0:ce.ref.current;(function xe(Y){T.current=Y,window.clearTimeout(j.current),Y!==""&&(j.current=window.setTimeout(()=>xe(""),1e3))})(V),ge&&setTimeout(()=>ge.focus())};d.useEffect(()=>()=>window.clearTimeout(j.current),[]),Dm();const O=d.useCallback(D=>{var U,z;return R.current===((U=P.current)==null?void 0:U.side)&&uG(D,(z=P.current)==null?void 0:z.area)},[]);return o.jsx(Gq,{scope:n,searchRef:T,onItemEnter:d.useCallback(D=>{O(D)&&D.preventDefault()},[O]),onItemLeave:d.useCallback(D=>{var V;O(D)||((V=C.current)==null||V.focus(),L(null))},[O]),onTriggerLeave:d.useCallback(D=>{O(D)&&D.preventDefault()},[O]),pointerGraceTimerRef:k,onPointerGraceIntentChange:d.useCallback(D=>{P.current=D},[]),children:o.jsx(Z,{...G,children:o.jsx(Vd,{asChild:!0,trapped:s,onMountAutoFocus:ye(i,D=>{var V;D.preventDefault(),(V=C.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(ec,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:m,onDismiss:g,children:o.jsx(Uw,{asChild:!0,...N,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:L,onEntryFocus:ye(c,D=>{w.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Zp,{role:"menu","aria-orientation":"vertical","data-state":PR(b.open),"data-radix-menu-content":"",dir:w.dir,...x,...y,ref:_,style:{outline:"none",...y.style},onKeyDown:ye(y.onKeyDown,D=>{const U=D.target.closest("[data-radix-menu-content]")===D.currentTarget,z=D.ctrlKey||D.altKey||D.metaKey,Q=D.key.length===1;U&&(D.key==="Tab"&&D.preventDefault(),!z&&Q&&te(D.key));const se=C.current;if(D.target!==se||!Vq.includes(D.key))return;D.preventDefault();const ge=I().filter(X=>!X.disabled).map(X=>X.ref.current);lR.includes(D.key)&&ge.reverse(),oG(ge)}),onBlur:ye(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(j.current),T.current="")}),onPointerMove:ye(t.onPointerMove,ld(D=>{const V=D.target,U=H.current!==D.clientX;if(D.currentTarget.contains(V)&&U){const z=D.clientX>H.current?"right":"left";R.current=z,H.current=D.clientX}}))})})})})})})});pR.displayName=Hr;var Zq="MenuGroup",Jw=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Re.div,{role:"group",...r,ref:e})});Jw.displayName=Zq;var Xq="MenuLabel",mR=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Re.div,{...r,ref:e})});mR.displayName=Xq;var mp="MenuItem",YC="menu.itemSelect",Qm=d.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=d.useRef(null),a=Wd(mp,t.__scopeMenu),l=Zw(mp,t.__scopeMenu),c=et(e,i),u=d.useRef(!1),h=()=>{const p=i.current;if(!n&&p){const m=new CustomEvent(YC,{bubbles:!0,cancelable:!0});p.addEventListener(YC,g=>r==null?void 0:r(g),{once:!0}),qk(p,m),m.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(gR,{...s,ref:c,disabled:n,onClick:ye(t.onClick,h),onPointerDown:p=>{var m;(m=t.onPointerDown)==null||m.call(t,p),u.current=!0},onPointerUp:ye(t.onPointerUp,p=>{var m;u.current||(m=p.currentTarget)==null||m.click()}),onKeyDown:ye(t.onKeyDown,p=>{const m=l.searchRef.current!=="";n||m&&p.key===" "||c0.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Qm.displayName=mp;var gR=d.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=Zw(mp,n),l=uR(n),c=d.useRef(null),u=et(e,c),[h,p]=d.useState(!1),[m,g]=d.useState("");return d.useEffect(()=>{const v=c.current;v&&g((v.textContent??"").trim())},[i.children]),o.jsx(ad.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:o.jsx(zw,{asChild:!0,...l,focusable:!r,children:o.jsx(Re.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:ye(t.onPointerMove,ld(v=>{r?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(t.onPointerLeave,ld(v=>a.onItemLeave(v))),onFocus:ye(t.onFocus,()=>p(!0)),onBlur:ye(t.onBlur,()=>p(!1))})})})}),Jq="MenuCheckboxItem",yR=d.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return o.jsx(ER,{scope:t.__scopeMenu,checked:n,children:o.jsx(Qm,{role:"menuitemcheckbox","aria-checked":gp(n)?"mixed":n,...s,ref:e,"data-state":tb(n),onSelect:ye(s.onSelect,()=>r==null?void 0:r(gp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});yR.displayName=Jq;var vR="MenuRadioGroup",[eG,tG]=La(vR,{value:void 0,onValueChange:()=>{}}),xR=d.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Bs(r);return o.jsx(eG,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(Jw,{...s,ref:e})})});xR.displayName=vR;var wR="MenuRadioItem",bR=d.forwardRef((t,e)=>{const{value:n,...r}=t,s=tG(wR,t.__scopeMenu),i=n===s.value;return o.jsx(ER,{scope:t.__scopeMenu,checked:i,children:o.jsx(Qm,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":tb(i),onSelect:ye(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});bR.displayName=wR;var eb="MenuItemIndicator",[ER,nG]=La(eb,{checked:!1}),NR=d.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=nG(eb,n);return o.jsx(xr,{present:r||gp(i.checked)||i.checked===!0,children:o.jsx(Re.span,{...s,ref:e,"data-state":tb(i.checked)})})});NR.displayName=eb;var rG="MenuSeparator",CR=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Re.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});CR.displayName=rG;var sG="MenuArrow",_R=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Km(n);return o.jsx(Xp,{...s,...r,ref:e})});_R.displayName=sG;var iG="MenuSub",[bX,SR]=La(iG),nu="MenuSubTrigger",jR=d.forwardRef((t,e)=>{const n=Ma(nu,t.__scopeMenu),r=Wd(nu,t.__scopeMenu),s=SR(nu,t.__scopeMenu),i=Zw(nu,t.__scopeMenu),a=d.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},h=d.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return d.useEffect(()=>h,[h]),d.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),c(null)}},[l,c]),o.jsx(Qw,{asChild:!0,...u,children:o.jsx(gR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":PR(n.open),...t,ref:Gp(e,s.onTriggerChange),onClick:p=>{var m;(m=t.onClick)==null||m.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ye(t.onPointerMove,ld(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ye(t.onPointerLeave,ld(p=>{var g,v;h();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const y=(v=n.content)==null?void 0:v.dataset.side,b=y==="right",w=b?-5:5,x=m[b?"left":"right"],N=m[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+w,y:p.clientY},{x,y:m.top},{x:N,y:m.top},{x:N,y:m.bottom},{x,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ye(t.onKeyDown,p=>{var g;const m=i.searchRef.current!=="";t.disabled||m&&p.key===" "||Fq[r.dir].includes(p.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),p.preventDefault())})})})});jR.displayName=nu;var kR="MenuSubContent",IR=d.forwardRef((t,e)=>{const n=hR(Hr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ma(Hr,t.__scopeMenu),a=Wd(Hr,t.__scopeMenu),l=SR(kR,t.__scopeMenu),c=d.useRef(null),u=et(e,c);return o.jsx(ad.Provider,{scope:t.__scopeMenu,children:o.jsx(xr,{present:r||i.open,children:o.jsx(ad.Slot,{scope:t.__scopeMenu,children:o.jsx(Xw,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;a.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ye(t.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ye(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:ye(t.onKeyDown,h=>{var g;const p=h.currentTarget.contains(h.target),m=$q[a.dir].includes(h.key);p&&m&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),h.preventDefault())})})})})})});IR.displayName=kR;function PR(t){return t?"open":"closed"}function gp(t){return t==="indeterminate"}function tb(t){return gp(t)?"indeterminate":t?"checked":"unchecked"}function oG(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function aG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function lG(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=aG(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function cG(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,h=l.y,p=c.x,m=c.y;h>r!=m>r&&n<(p-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function uG(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return cG(n,e)}function ld(t){return e=>e.pointerType==="mouse"?t(e):void 0}var dG=dR,hG=Qw,fG=fR,pG=pR,mG=Jw,gG=mR,yG=Qm,vG=yR,xG=xR,wG=bR,bG=NR,EG=CR,NG=_R,CG=jR,_G=IR,Ym="DropdownMenu",[SG,EX]=Kn(Ym,[cR]),sr=cR(),[jG,TR]=SG(Ym),AR=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=sr(e),u=d.useRef(null),[h,p]=Gr({prop:s,defaultProp:i??!1,onChange:a,caller:Ym});return o.jsx(jG,{scope:e,triggerId:Pr(),triggerRef:u,contentId:Pr(),open:h,onOpenChange:p,onOpenToggle:d.useCallback(()=>p(m=>!m),[p]),modal:l,children:o.jsx(dG,{...c,open:h,onOpenChange:p,dir:r,modal:l,children:n})})};AR.displayName=Ym;var RR="DropdownMenuTrigger",LR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=TR(RR,n),a=sr(n);return o.jsx(hG,{asChild:!0,...a,children:o.jsx(Re.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Gp(e,i.triggerRef),onPointerDown:ye(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ye(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});LR.displayName=RR;var kG="DropdownMenuPortal",MR=t=>{const{__scopeDropdownMenu:e,...n}=t,r=sr(e);return o.jsx(fG,{...r,...n})};MR.displayName=kG;var DR="DropdownMenuContent",OR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=TR(DR,n),i=sr(n),a=d.useRef(!1);return o.jsx(pG,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ye(t.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:ye(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!s.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OR.displayName=DR;var IG="DropdownMenuGroup",PG=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(mG,{...s,...r,ref:e})});PG.displayName=IG;var TG="DropdownMenuLabel",VR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(gG,{...s,...r,ref:e})});VR.displayName=TG;var AG="DropdownMenuItem",FR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(yG,{...s,...r,ref:e})});FR.displayName=AG;var RG="DropdownMenuCheckboxItem",$R=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(vG,{...s,...r,ref:e})});$R.displayName=RG;var LG="DropdownMenuRadioGroup",MG=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(xG,{...s,...r,ref:e})});MG.displayName=LG;var DG="DropdownMenuRadioItem",UR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(wG,{...s,...r,ref:e})});UR.displayName=DG;var OG="DropdownMenuItemIndicator",zR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(bG,{...s,...r,ref:e})});zR.displayName=OG;var VG="DropdownMenuSeparator",BR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(EG,{...s,...r,ref:e})});BR.displayName=VG;var FG="DropdownMenuArrow",$G=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(NG,{...s,...r,ref:e})});$G.displayName=FG;var UG="DropdownMenuSubTrigger",HR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(CG,{...s,...r,ref:e})});HR.displayName=UG;var zG="DropdownMenuSubContent",WR=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sr(n);return o.jsx(_G,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WR.displayName=zG;var BG=AR,HG=LR,WG=MR,qR=OR,GR=VR,KR=FR,QR=$R,YR=UR,ZR=zR,XR=BR,JR=HR,eL=WR;const Xi=BG,Ji=HG,qG=d.forwardRef(({className:t,inset:e,children:n,...r},s)=>o.jsxs(JR,{ref:s,className:Ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(z2,{className:"ml-auto h-4 w-4"})]}));qG.displayName=JR.displayName;const GG=d.forwardRef(({className:t,...e},n)=>o.jsx(eL,{ref:n,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));GG.displayName=eL.displayName;const ai=d.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(WG,{children:o.jsx(qR,{ref:r,sideOffset:e,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));ai.displayName=qR.displayName;const $t=d.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(KR,{ref:r,className:Ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));$t.displayName=KR.displayName;const KG=d.forwardRef(({className:t,children:e,checked:n,...r},s)=>o.jsxs(QR,{ref:s,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(ZR,{children:o.jsx(Tm,{className:"h-4 w-4"})})}),e]}));KG.displayName=QR.displayName;const QG=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(YR,{ref:r,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(ZR,{children:o.jsx(B2,{className:"h-2 w-2 fill-current"})})}),e]}));QG.displayName=YR.displayName;const li=d.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(GR,{ref:r,className:Ae("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));li.displayName=GR.displayName;const Cr=d.forwardRef(({className:t,...e},n)=>o.jsx(XR,{ref:n,className:Ae("-mx-1 my-1 h-px bg-muted",t),...e}));Cr.displayName=XR.displayName;function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function YG(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZG(t){var e=YG(t,"string");return cd(e)=="symbol"?e:e+""}function ne(t,e,n){return(e=ZG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ey,ZC;function XG(){if(ZC)return Ey;ZC=1;var t=function(n,r,s,i,a,l,c,u){if(!n){var h;if(r===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[s,i,a,l,c,u],m=0;h=new Error(r.replace(/%s/g,function(){return p[m++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return Ey=t,Ey}var JG=XG(),yn=tL(JG),Xe=d.createContext(null);function eK(){yn(!!d.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=d.useContext(Xe);return yn(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function tK(t,e,n){return Object.keys(t).reduce(function(s,i){return e(s,t[i],i)},n)}function nK(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function rK(t,e,n,r){var s={},i=(a,l)=>{var c=n[l];c!==e[l]&&(s[l]=c,a(r,c))};return nK(t,i),s}function sK(t,e,n){var r=tK(n,function(i,a,l){return typeof t[l]=="function"&&i.push(google.maps.event.addListener(e,a,t[l])),i},[]);return r}function iK(t){google.maps.event.removeListener(t)}function nt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(iK)}function tt(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:s,instance:i}=t,a=sK(s,i,n);return rK(e,r,s,i),a}var XC={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},JC={extraMapTypes(t,e){e.forEach(function(r,s){t.mapTypes.set(String(s),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function oK(t){var{children:e,options:n,id:r,mapContainerStyle:s,mapContainerClassName:i,center:a,onClick:l,onDblClick:c,onDrag:u,onDragEnd:h,onDragStart:p,onMouseMove:m,onMouseOut:g,onMouseOver:v,onMouseDown:y,onMouseUp:b,onRightClick:w,onCenterChanged:x,onLoad:N,onUnmount:I}=t,[A,L]=d.useState(null),C=d.useRef(null),[_,j]=d.useState(null),[T,k]=d.useState(null),[P,R]=d.useState(null),[H,Z]=d.useState(null),[G,te]=d.useState(null),[O,D]=d.useState(null),[V,U]=d.useState(null),[z,Q]=d.useState(null),[se,W]=d.useState(null),[ge,X]=d.useState(null),[ce,xe]=d.useState(null),[Y,J]=d.useState(null);return d.useEffect(()=>{n&&A!==null&&A.setOptions(n)},[A,n]),d.useEffect(()=>{A!==null&&typeof a<"u"&&A.setCenter(a)},[A,a]),d.useEffect(()=>{A&&c&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(A,"dblclick",c)))},[c]),d.useEffect(()=>{A&&h&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(A,"dragend",h)))},[h]),d.useEffect(()=>{A&&p&&(H!==null&&google.maps.event.removeListener(H),Z(google.maps.event.addListener(A,"dragstart",p)))},[p]),d.useEffect(()=>{A&&y&&(G!==null&&google.maps.event.removeListener(G),te(google.maps.event.addListener(A,"mousedown",y)))},[y]),d.useEffect(()=>{A&&m&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(A,"mousemove",m)))},[m]),d.useEffect(()=>{A&&g&&(V!==null&&google.maps.event.removeListener(V),U(google.maps.event.addListener(A,"mouseout",g)))},[g]),d.useEffect(()=>{A&&v&&(z!==null&&google.maps.event.removeListener(z),Q(google.maps.event.addListener(A,"mouseover",v)))},[v]),d.useEffect(()=>{A&&b&&(se!==null&&google.maps.event.removeListener(se),W(google.maps.event.addListener(A,"mouseup",b)))},[b]),d.useEffect(()=>{A&&w&&(ge!==null&&google.maps.event.removeListener(ge),X(google.maps.event.addListener(A,"rightclick",w)))},[w]),d.useEffect(()=>{A&&l&&(ce!==null&&google.maps.event.removeListener(ce),xe(google.maps.event.addListener(A,"click",l)))},[l]),d.useEffect(()=>{A&&u&&(Y!==null&&google.maps.event.removeListener(Y),J(google.maps.event.addListener(A,"drag",u)))},[u]),d.useEffect(()=>{A&&x&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(A,"center_changed",x)))},[l]),d.useEffect(()=>{var B=C.current===null?null:new google.maps.Map(C.current,n);return L(B),B!==null&&N&&N(B),()=>{B!==null&&I&&I(B)}},[]),o.jsx("div",{id:r,ref:C,style:s,className:i,children:o.jsx(Xe.Provider,{value:A,children:A!==null?e:null})})}d.memo(oK);class nL extends d.PureComponent{constructor(){super(...arguments),ne(this,"state",{map:null}),ne(this,"registeredEvents",[]),ne(this,"mapRef",null),ne(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),ne(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),ne(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),ne(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=tt({updaterMap:JC,eventMap:XC,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:JC,eventMap:XC,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),nt(this.registeredEvents))}render(){return o.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:o.jsx(Xe.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function e_(t,e,n,r,s,i,a){try{var l=t[i](a),c=l.value}catch(u){return void n(u)}l.done?e(c):Promise.resolve(c).then(r,s)}function rL(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function a(c){e_(i,r,s,a,l,"next",c)}function l(c){e_(i,r,s,a,l,"throw",c)}a(void 0)})}}function sL(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:s,region:i,libraries:a,channel:l,mapIds:c,authReferrerPolicy:u,apiUrl:h="https://maps.googleapis.com"}=t,p=[];return yn(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?p.push("key=".concat(e)):n&&p.push("client=".concat(n)),r&&p.push("v=".concat(r)),s&&p.push("language=".concat(s)),i&&p.push("region=".concat(i)),a&&a.length&&p.push("libraries=".concat(a.sort().join(","))),l&&p.push("channel=".concat(l)),c&&c.length&&p.push("map_ids=".concat(c.join(","))),u&&p.push("auth_referrer_policy=".concat(u)),p.push("loading=async"),p.push("callback=initMap"),"".concat(h,"/maps/api/js?").concat(p.join("&"))}var eo=typeof document<"u";function iL(t){var{url:e,id:n,nonce:r}=t;return eo?new Promise(function(i,a){var l=document.getElementById(n),c=window;if(l){var u=l.getAttribute("data-state");if(l.src===e&&u!=="error"){if(u==="ready")return i(n);var h=c.initMap,p=l.onerror;c.initMap=function(){h&&h(),i(n)},l.onerror=function(g){p&&p(g),a(g)};return}else l.remove()}var m=document.createElement("script");m.type="text/javascript",m.src=e,m.id=n,m.async=!0,m.nonce=r||"",m.onerror=function(v){m.setAttribute("data-state","error"),a(v)},c.initMap=function(){m.setAttribute("data-state","ready"),i(n)},document.head.appendChild(m)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function t_(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function nb(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(s,i){return t_(s)||Reflect.apply(e,t,[s,i]),s};var n=t.appendChild.bind(t);t.appendChild=function(s){return t_(s)||Reflect.apply(n,t,[s]),s}}}var $c=!1;function oL(){return o.jsx("div",{children:"Loading..."})}var ud={id:"script-loader",version:"weekly"};class aK extends d.PureComponent{constructor(){super(...arguments),ne(this,"check",null),ne(this,"state",{loaded:!1}),ne(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),ne(this,"isCleaningUp",rL(function*(){function e(n){if(!$c)n();else if(eo)var r=window.setInterval(function(){$c||(window.clearInterval(r),n())},1)}return new Promise(e)})),ne(this,"cleanup",()=>{$c=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),ne(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&nb(),yn(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:sL(this.props)};iL(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),ne(this,"getRef",e=>{this.check=e})}componentDidMount(){if(eo){if(window.google&&window.google.maps&&!$c){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),eo&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(eo){this.cleanup();var e=()=>{this.check||(delete window.google,$c=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||o.jsx(oL,{})]})}}ne(aK,"defaultProps",ud);function lK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function rb(t,e){if(t==null)return{};var n,r,s=lK(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var n_;function cK(t){var{id:e=ud.id,version:n=ud.version,nonce:r,googleMapsApiKey:s,googleMapsClientId:i,language:a,region:l,libraries:c,preventGoogleFontsLoading:u,channel:h,mapIds:p,authReferrerPolicy:m,apiUrl:g="https://maps.googleapis.com"}=t,v=d.useRef(!1),[y,b]=d.useState(!1),[w,x]=d.useState(void 0);d.useEffect(function(){return v.current=!0,()=>{v.current=!1}},[]),d.useEffect(function(){eo&&u&&nb()},[u]),d.useEffect(function(){y&&yn(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[y]);var N=sL({version:n,googleMapsApiKey:s,googleMapsClientId:i,language:a,region:l,libraries:c,channel:h,mapIds:p,authReferrerPolicy:m,apiUrl:g});d.useEffect(function(){if(!eo)return;function L(){v.current&&(b(!0),n_=N)}if(window.google&&window.google.maps&&n_===N){L();return}iL({id:e,url:N,nonce:r}).then(L).catch(function(_){v.current&&x(_),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(i||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(_)})},[e,N,r]);var I=d.useRef(void 0);return d.useEffect(function(){I.current&&c!==I.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),I.current=c},[c]),{isLoaded:y,loadError:w,url:N}}var uK=["loadingElement","onLoad","onError","onUnmount","children"],dK=o.jsx(oL,{});function hK(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:s,children:i}=t,a=rb(t,uK),{isLoaded:l,loadError:c}=cK(a);return d.useEffect(function(){l&&typeof n=="function"&&n()},[l,n]),d.useEffect(function(){c&&typeof r=="function"&&r(c)},[c,r]),d.useEffect(function(){return()=>{s&&s()}},[s]),l?i:e||dK}d.memo(hK);function fK(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(p){a(p)}}function c(h){try{u(r.throw(h))}catch(p){a(p)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,[])).next())})}function pK(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mK=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},gK=pK(mK),r_="__googleMapsScriptId",ol;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(ol||(ol={}));class Ho{constructor(e){var{apiKey:n,authReferrerPolicy:r,channel:s,client:i,id:a=r_,language:l,libraries:c=[],mapIds:u,nonce:h,region:p,retries:m=3,url:g="https://maps.googleapis.com/maps/api/js",version:v}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=s,this.client=i,this.id=a||r_,this.language=l,this.libraries=c,this.mapIds=u,this.nonce=h,this.region=p,this.retries=m,this.url=g,this.version=v,Ho.instance){if(!gK(this.options,Ho.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Ho.instance.options)));return Ho.instance}Ho.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?ol.FAILURE:this.done?ol.SUCCESS:this.loading?ol.LOADING:ol.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(i=>!r[i]&&delete r[i]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(i=>{var a,l,c,u="The Google Maps JavaScript API",h="google",p="importLibrary",m="__ib__",g=document,v=window;v=v[h]||(v[h]={});var y=v.maps||(v.maps={}),b=new Set,w=new URLSearchParams,x=()=>a||(a=new Promise((N,I)=>fK(this,void 0,void 0,function*(){var A;yield l=g.createElement("script"),l.id=this.id,w.set("libraries",[...b]+"");for(c in i)w.set(c.replace(/[A-Z]/g,L=>"_"+L[0].toLowerCase()),i[c]);w.set("callback",h+".maps."+m),l.src=this.url+"?"+w,y[m]=N,l.onerror=()=>a=I(Error(u+" could not load.")),l.nonce=this.nonce||((A=g.querySelector("script[nonce]"))===null||A===void 0?void 0:A.nonce)||"",g.head.append(l)})));y[p]?console.warn(u+" only loads once. Ignoring:",i):y[p]=function(N){for(var I=arguments.length,A=new Array(I>1?I-1:0),L=1;L<I;L++)A[L-1]=arguments[L];return b.add(N)&&x().then(()=>y[p](N,...A))}})(r);var s=this.libraries.map(i=>this.importLibrary(i));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),i=>{var a=new ErrorEvent("error",{error:i});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var yK=["maps"];function aL(t){var{id:e=ud.id,version:n=ud.version,nonce:r,googleMapsApiKey:s,language:i,region:a,libraries:l=yK,preventGoogleFontsLoading:c,mapIds:u,authReferrerPolicy:h}=t,p=d.useRef(!1),[m,g]=d.useState(!1),[v,y]=d.useState(void 0);d.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]);var b=d.useMemo(()=>new Ho({id:e,apiKey:s,version:n,libraries:l,language:i||"en",region:a||"US",mapIds:u||[],nonce:r||"",authReferrerPolicy:h||"origin"}),[e,s,n,l,i,a,u,r,h]);d.useEffect(function(){m||b.load().then(()=>{p.current&&g(!0)}).catch(N=>{y(N)})},[]),d.useEffect(()=>{eo&&c&&nb()},[c]);var w=d.useRef();return d.useEffect(()=>{w.current&&l!==w.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),w.current=l},[l]),{isLoaded:m,loadError:v}}function s_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var i_={},o_={options(t,e){t.setOptions(e)}};function vK(t){var{options:e,onLoad:n,onUnmount:r}=t,s=d.useContext(Xe),[i,a]=d.useState(null);return d.useEffect(()=>{i!==null&&i.setMap(s)},[s]),d.useEffect(()=>{e&&i!==null&&i.setOptions(e)},[i,e]),d.useEffect(()=>{var l=new google.maps.TrafficLayer(yp(yp({},e),{},{map:s}));return a(l),n&&n(l),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}d.memo(vK);class xK extends d.PureComponent{constructor(){super(...arguments),ne(this,"state",{trafficLayer:null}),ne(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),ne(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(yp(yp({},this.props.options),{},{map:this.context}));this.registeredEvents=tt({updaterMap:o_,eventMap:i_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:o_,eventMap:i_,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),nt(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}ne(xK,"contextType",Xe);function wK(t){var{onLoad:e,onUnmount:n}=t,r=d.useContext(Xe),[s,i]=d.useState(null);return d.useEffect(()=>{s!==null&&s.setMap(r)},[r]),d.useEffect(()=>{var a=new google.maps.BicyclingLayer;return i(a),a.setMap(r),e&&e(a),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}d.memo(wK);class bK extends d.PureComponent{constructor(){super(...arguments),ne(this,"state",{bicyclingLayer:null}),ne(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}ne(bK,"contextType",Xe);function EK(t){var{onLoad:e,onUnmount:n}=t,r=d.useContext(Xe),[s,i]=d.useState(null);return d.useEffect(()=>{s!==null&&s.setMap(r)},[r]),d.useEffect(()=>{var a=new google.maps.TransitLayer;return i(a),a.setMap(r),e&&e(a),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}d.memo(EK);class NK extends d.PureComponent{constructor(){super(...arguments),ne(this,"state",{transitLayer:null}),ne(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}ne(NK,"contextType",Xe);function a_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var l_={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},c_={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function CK(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:s,onOverlayComplete:i,onPolygonComplete:a,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:h}=t,p=d.useContext(Xe),[m,g]=d.useState(null),[v,y]=d.useState(null),[b,w]=d.useState(null),[x,N]=d.useState(null),[I,A]=d.useState(null),[L,C]=d.useState(null),[_,j]=d.useState(null);return d.useEffect(()=>{m!==null&&m.setMap(p)},[p]),d.useEffect(()=>{e&&m!==null&&m.setOptions(e)},[m,e]),d.useEffect(()=>{m!==null&&m.setDrawingMode(n??null)},[m,n]),d.useEffect(()=>{m&&r&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(m,"circlecomplete",r)))},[m,r]),d.useEffect(()=>{m&&s&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(m,"markercomplete",s)))},[m,s]),d.useEffect(()=>{m&&i&&(x!==null&&google.maps.event.removeListener(x),N(google.maps.event.addListener(m,"overlaycomplete",i)))},[m,i]),d.useEffect(()=>{m&&a&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(m,"polygoncomplete",a)))},[m,a]),d.useEffect(()=>{m&&l&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(m,"polylinecomplete",l)))},[m,l]),d.useEffect(()=>{m&&c&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(m,"rectanglecomplete",c)))},[m,c]),d.useEffect(()=>{yn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var T=new google.maps.drawing.DrawingManager(vp(vp({},e),{},{map:p}));return n&&T.setDrawingMode(n),r&&y(google.maps.event.addListener(T,"circlecomplete",r)),s&&w(google.maps.event.addListener(T,"markercomplete",s)),i&&N(google.maps.event.addListener(T,"overlaycomplete",i)),a&&A(google.maps.event.addListener(T,"polygoncomplete",a)),l&&C(google.maps.event.addListener(T,"polylinecomplete",l)),c&&j(google.maps.event.addListener(T,"rectanglecomplete",c)),g(T),u&&u(T),()=>{m!==null&&(v&&google.maps.event.removeListener(v),b&&google.maps.event.removeListener(b),x&&google.maps.event.removeListener(x),I&&google.maps.event.removeListener(I),L&&google.maps.event.removeListener(L),_&&google.maps.event.removeListener(_),h&&h(m),m.setMap(null))}},[]),null}d.memo(CK);class _K extends d.PureComponent{constructor(e){super(e),ne(this,"registeredEvents",[]),ne(this,"state",{drawingManager:null}),ne(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),yn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(vp(vp({},this.props.options),{},{map:this.context}));this.registeredEvents=tt({updaterMap:c_,eventMap:l_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:c_,eventMap:l_,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),nt(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}ne(_K,"contextType",Xe);function u_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function El(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var d_={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},h_={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},xp={};function SK(t){var{position:e,options:n,clusterer:r,noClustererRedraw:s,children:i,draggable:a,visible:l,animation:c,clickable:u,cursor:h,icon:p,label:m,opacity:g,shape:v,title:y,zIndex:b,onClick:w,onDblClick:x,onDrag:N,onDragEnd:I,onDragStart:A,onMouseOut:L,onMouseOver:C,onMouseUp:_,onMouseDown:j,onRightClick:T,onClickableChanged:k,onCursorChanged:P,onAnimationChanged:R,onDraggableChanged:H,onFlatChanged:Z,onIconChanged:G,onPositionChanged:te,onShapeChanged:O,onTitleChanged:D,onVisibleChanged:V,onZindexChanged:U,onLoad:z,onUnmount:Q}=t,se=d.useContext(Xe),[W,ge]=d.useState(null),[X,ce]=d.useState(null),[xe,Y]=d.useState(null),[J,B]=d.useState(null),[he,Se]=d.useState(null),[be,We]=d.useState(null),[qe,Ke]=d.useState(null),[st,Nt]=d.useState(null),[Ct,K]=d.useState(null),[pe,de]=d.useState(null),[it,oe]=d.useState(null),[we,je]=d.useState(null),[vt,At]=d.useState(null),[_t,St]=d.useState(null),[It,Gt]=d.useState(null),[Oe,re]=d.useState(null),[Te,Qe]=d.useState(null),[Be,sn]=d.useState(null),[Rt,Kt]=d.useState(null),[Qt,Rn]=d.useState(null),[Pe,Ye]=d.useState(null),[ot,Yt]=d.useState(null);d.useEffect(()=>{W!==null&&W.setMap(se)},[se]),d.useEffect(()=>{typeof n<"u"&&W!==null&&W.setOptions(n)},[W,n]),d.useEffect(()=>{typeof a<"u"&&W!==null&&W.setDraggable(a)},[W,a]),d.useEffect(()=>{e&&W!==null&&W.setPosition(e)},[W,e]),d.useEffect(()=>{typeof l<"u"&&W!==null&&W.setVisible(l)},[W,l]),d.useEffect(()=>{W==null||W.setAnimation(c)},[W,c]),d.useEffect(()=>{W&&u!==void 0&&W.setClickable(u)},[W,u]),d.useEffect(()=>{W&&h!==void 0&&W.setCursor(h)},[W,h]),d.useEffect(()=>{W&&p!==void 0&&W.setIcon(p)},[W,p]),d.useEffect(()=>{W&&m!==void 0&&W.setLabel(m)},[W,m]),d.useEffect(()=>{W&&g!==void 0&&W.setOpacity(g)},[W,g]),d.useEffect(()=>{W&&v!==void 0&&W.setShape(v)},[W,v]),d.useEffect(()=>{W&&y!==void 0&&W.setTitle(y)},[W,y]),d.useEffect(()=>{W&&b!==void 0&&W.setZIndex(b)},[W,b]),d.useEffect(()=>{W&&x&&(X!==null&&google.maps.event.removeListener(X),ce(google.maps.event.addListener(W,"dblclick",x)))},[x]),d.useEffect(()=>{W&&I&&(xe!==null&&google.maps.event.removeListener(xe),Y(google.maps.event.addListener(W,"dragend",I)))},[I]),d.useEffect(()=>{W&&A&&(J!==null&&google.maps.event.removeListener(J),B(google.maps.event.addListener(W,"dragstart",A)))},[A]),d.useEffect(()=>{W&&j&&(he!==null&&google.maps.event.removeListener(he),Se(google.maps.event.addListener(W,"mousedown",j)))},[j]),d.useEffect(()=>{W&&L&&(be!==null&&google.maps.event.removeListener(be),We(google.maps.event.addListener(W,"mouseout",L)))},[L]),d.useEffect(()=>{W&&C&&(qe!==null&&google.maps.event.removeListener(qe),Ke(google.maps.event.addListener(W,"mouseover",C)))},[C]),d.useEffect(()=>{W&&_&&(st!==null&&google.maps.event.removeListener(st),Nt(google.maps.event.addListener(W,"mouseup",_)))},[_]),d.useEffect(()=>{W&&T&&(Ct!==null&&google.maps.event.removeListener(Ct),K(google.maps.event.addListener(W,"rightclick",T)))},[T]),d.useEffect(()=>{W&&w&&(pe!==null&&google.maps.event.removeListener(pe),de(google.maps.event.addListener(W,"click",w)))},[w]),d.useEffect(()=>{W&&N&&(it!==null&&google.maps.event.removeListener(it),oe(google.maps.event.addListener(W,"drag",N)))},[N]),d.useEffect(()=>{W&&k&&(we!==null&&google.maps.event.removeListener(we),je(google.maps.event.addListener(W,"clickable_changed",k)))},[k]),d.useEffect(()=>{W&&P&&(vt!==null&&google.maps.event.removeListener(vt),At(google.maps.event.addListener(W,"cursor_changed",P)))},[P]),d.useEffect(()=>{W&&R&&(_t!==null&&google.maps.event.removeListener(_t),St(google.maps.event.addListener(W,"animation_changed",R)))},[R]),d.useEffect(()=>{W&&H&&(It!==null&&google.maps.event.removeListener(It),Gt(google.maps.event.addListener(W,"draggable_changed",H)))},[H]),d.useEffect(()=>{W&&Z&&(Oe!==null&&google.maps.event.removeListener(Oe),re(google.maps.event.addListener(W,"flat_changed",Z)))},[Z]),d.useEffect(()=>{W&&G&&(Te!==null&&google.maps.event.removeListener(Te),Qe(google.maps.event.addListener(W,"icon_changed",G)))},[G]),d.useEffect(()=>{W&&te&&(Be!==null&&google.maps.event.removeListener(Be),sn(google.maps.event.addListener(W,"position_changed",te)))},[te]),d.useEffect(()=>{W&&O&&(Rt!==null&&google.maps.event.removeListener(Rt),Kt(google.maps.event.addListener(W,"shape_changed",O)))},[O]),d.useEffect(()=>{W&&D&&(Qt!==null&&google.maps.event.removeListener(Qt),Rn(google.maps.event.addListener(W,"title_changed",D)))},[D]),d.useEffect(()=>{W&&V&&(Pe!==null&&google.maps.event.removeListener(Pe),Ye(google.maps.event.addListener(W,"visible_changed",V)))},[V]),d.useEffect(()=>{W&&U&&(ot!==null&&google.maps.event.removeListener(ot),Yt(google.maps.event.addListener(W,"zindex_changed",U)))},[U]),d.useEffect(()=>{var ct=El(El(El({},n||xp),r?xp:{map:se}),{},{position:e}),Le=new google.maps.Marker(ct);return r?r.addMarker(Le,!!s):Le.setMap(se),e&&Le.setPosition(e),typeof l<"u"&&Le.setVisible(l),typeof a<"u"&&Le.setDraggable(a),typeof u<"u"&&Le.setClickable(u),typeof h=="string"&&Le.setCursor(h),p&&Le.setIcon(p),typeof m<"u"&&Le.setLabel(m),typeof g<"u"&&Le.setOpacity(g),v&&Le.setShape(v),typeof y=="string"&&Le.setTitle(y),typeof b=="number"&&Le.setZIndex(b),x&&ce(google.maps.event.addListener(Le,"dblclick",x)),I&&Y(google.maps.event.addListener(Le,"dragend",I)),A&&B(google.maps.event.addListener(Le,"dragstart",A)),j&&Se(google.maps.event.addListener(Le,"mousedown",j)),L&&We(google.maps.event.addListener(Le,"mouseout",L)),C&&Ke(google.maps.event.addListener(Le,"mouseover",C)),_&&Nt(google.maps.event.addListener(Le,"mouseup",_)),T&&K(google.maps.event.addListener(Le,"rightclick",T)),w&&de(google.maps.event.addListener(Le,"click",w)),N&&oe(google.maps.event.addListener(Le,"drag",N)),k&&je(google.maps.event.addListener(Le,"clickable_changed",k)),P&&At(google.maps.event.addListener(Le,"cursor_changed",P)),R&&St(google.maps.event.addListener(Le,"animation_changed",R)),H&&Gt(google.maps.event.addListener(Le,"draggable_changed",H)),Z&&re(google.maps.event.addListener(Le,"flat_changed",Z)),G&&Qe(google.maps.event.addListener(Le,"icon_changed",G)),te&&sn(google.maps.event.addListener(Le,"position_changed",te)),O&&Kt(google.maps.event.addListener(Le,"shape_changed",O)),D&&Rn(google.maps.event.addListener(Le,"title_changed",D)),V&&Ye(google.maps.event.addListener(Le,"visible_changed",V)),U&&Yt(google.maps.event.addListener(Le,"zindex_changed",U)),ge(Le),z&&z(Le),()=>{X!==null&&google.maps.event.removeListener(X),xe!==null&&google.maps.event.removeListener(xe),J!==null&&google.maps.event.removeListener(J),he!==null&&google.maps.event.removeListener(he),be!==null&&google.maps.event.removeListener(be),qe!==null&&google.maps.event.removeListener(qe),st!==null&&google.maps.event.removeListener(st),Ct!==null&&google.maps.event.removeListener(Ct),pe!==null&&google.maps.event.removeListener(pe),we!==null&&google.maps.event.removeListener(we),vt!==null&&google.maps.event.removeListener(vt),_t!==null&&google.maps.event.removeListener(_t),It!==null&&google.maps.event.removeListener(It),Oe!==null&&google.maps.event.removeListener(Oe),Te!==null&&google.maps.event.removeListener(Te),Be!==null&&google.maps.event.removeListener(Be),Qt!==null&&google.maps.event.removeListener(Qt),Pe!==null&&google.maps.event.removeListener(Pe),ot!==null&&google.maps.event.removeListener(ot),Q&&Q(Le),r?r.removeMarker(Le,!!s):Le&&Le.setMap(null)}},[]);var ht=d.useMemo(()=>i?d.Children.map(i,ct=>{if(!d.isValidElement(ct))return ct;var Le=ct;return d.cloneElement(Le,{anchor:W})}):null,[i,W]);return o.jsx(o.Fragment,{children:ht})||null}d.memo(SK);class wp extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this;return rL(function*(){var n=El(El(El({},e.props.options||xp),e.props.clusterer?xp:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=tt({updaterMap:h_,eventMap:d_,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:h_,eventMap:d_,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),nt(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?d.Children.map(this.props.children,n=>{if(!d.isValidElement(n))return n;var r=n;return d.cloneElement(r,{anchor:this.marker})}):null;return e||null}}ne(wp,"contextType",Xe);var jK=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),s=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(s),this.timeOut=window.setTimeout(function(){var a=n.getMap();if(a!==null){"fitBounds"in a&&a.fitBounds(s);var l=a.getZoom()||0;r!==null&&l>r&&a.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,s,i,a;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),u=parseInt(((e=c[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((n=c[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),p=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(p!==null?"".concat(p.y,"px"):"0","; left: ").concat(p!==null?"".concat(p.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var m=document.createElement("img");m.alt=l,m.src=this.url,m.width=this.width,m.height=this.height,m.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(m.style.clip="rect(-".concat(h,"px, -").concat(u+this.width,"px, -").concat(h+this.height,", -").concat(u,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(g.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(g.innerHTML="".concat((a=this.sums)===null||a===void 0?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(m),this.div.appendChild(g),this.div.title=l,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),kK=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new jK(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,s=n;r<s.length;r++){var i=s[r],a=i.getPosition();a&&e.extend(a)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+r.lat())/s,(this.center.lng()*(s-1)+r.lng())/s),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var i=this.markers.length,a=this.markerClusterer.getMaxZoom(),l=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(a!==null&&typeof l<"u"&&l>a)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var c=0,u=this.markers;c<u.length;c++){var h=u[c];h.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof s<"u"&&s>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function IK(t,e){var n=t.length,r=n.toString().length,s=Math.min(r,e);return{text:n.toString(),index:s,title:""}}var PK=2e3,TK=500,AK="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",RK="png",LK=[53,56,66,78,90],MK="cluster",lL=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||AK,this.imageExtension=r.imageExtension||RK,this.imageSizes=r.imageSizes||LK,this.calculator=r.calculator||IK,this.batchSize=r.batchSize||PK,this.batchSizeIE=r.batchSizeIE||TK,this.clusterClass=r.clusterClass||MK,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var s=0,i=this.clusters;s<i.length;s++){var a=i[s];a.remove()}this.clusters=[];for(var l=0,c=this.listeners;l<c.length;l++){var u=c[l];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,s=e;r<s.length;r++){var i=s[r],a=i.getPosition();a&&n.extend(a)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];s&&this.pushMarkerTo(s)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,s=0,i=e;s<i.length;s++){var a=i[s];r=r||this.removeMarker_(a)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,s=e;r<s.length;r++){var i=s[r];i.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&e.extend(i)}if(s!==null){var a=n.fromDivPixelToLatLng(s);a!==null&&e.extend(a)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var s=r[n];s.remove()}this.clusters=[];for(var i=0,a=this.markers;i<a.length;i++){var l=a[i];l.isAdded=!1,e&&l.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,s=(n.lat()-e.lat())*Math.PI/180,i=(n.lng()-e.lng())*Math.PI/180,a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return r*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,s=null,i=0,a=this.clusters;i<a.length;i++){var l=a[i];n=l;var c=n.getCenter(),u=e.getPosition();if(c&&u){var h=this.distanceBetweenPoints(c,u);h<r&&(r=h,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new kK(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),s=r!==null&&("getBounds"in r)?r.getBounds():null,i=(r==null?void 0:r.getZoom())||0,a=i>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(a),c=Math.min(e+this.batchSize,this.markers.length),u=e;u<c;u++){var h=this.markers[u];h&&!h.isAdded&&this.isMarkerInBounds(h,l)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var p=0,m=this.clusters;p<m.length;p++){var g=m[p];g.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype){var a=i;this.prototype[a]=s.prototype[a]}return this}).apply(e,[n])},t}();function f_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function DK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Or={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},gt={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},OK={};function VK(t){var{children:e,options:n,averageCenter:r,batchSizeIE:s,calculator:i,clusterClass:a,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:h,imagePath:p,imageSizes:m,maxZoom:g,minimumClusterSize:v,styles:y,title:b,zoomOnClick:w,onClick:x,onClusteringBegin:N,onClusteringEnd:I,onMouseOver:A,onMouseOut:L,onLoad:C,onUnmount:_}=t,[j,T]=d.useState(null),k=d.useContext(Xe),[P,R]=d.useState(null),[H,Z]=d.useState(null),[G,te]=d.useState(null),[O,D]=d.useState(null),[V,U]=d.useState(null);return d.useEffect(()=>{j&&L&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(j,Or.onMouseOut,L)))},[L]),d.useEffect(()=>{j&&A&&(V!==null&&google.maps.event.removeListener(V),U(google.maps.event.addListener(j,Or.onMouseOver,A)))},[A]),d.useEffect(()=>{j&&x&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(j,Or.onClick,x)))},[x]),d.useEffect(()=>{j&&N&&(H!==null&&google.maps.event.removeListener(H),Z(google.maps.event.addListener(j,Or.onClusteringBegin,N)))},[N]),d.useEffect(()=>{j&&I&&(G!==null&&google.maps.event.removeListener(G),Z(google.maps.event.addListener(j,Or.onClusteringEnd,I)))},[I]),d.useEffect(()=>{typeof r<"u"&&j!==null&&gt.averageCenter(j,r)},[j,r]),d.useEffect(()=>{typeof s<"u"&&j!==null&&gt.batchSizeIE(j,s)},[j,s]),d.useEffect(()=>{typeof i<"u"&&j!==null&&gt.calculator(j,i)},[j,i]),d.useEffect(()=>{typeof a<"u"&&j!==null&&gt.clusterClass(j,a)},[j,a]),d.useEffect(()=>{typeof l<"u"&&j!==null&&gt.enableRetinaIcons(j,l)},[j,l]),d.useEffect(()=>{typeof c<"u"&&j!==null&&gt.gridSize(j,c)},[j,c]),d.useEffect(()=>{typeof u<"u"&&j!==null&&gt.ignoreHidden(j,u)},[j,u]),d.useEffect(()=>{typeof h<"u"&&j!==null&&gt.imageExtension(j,h)},[j,h]),d.useEffect(()=>{typeof p<"u"&&j!==null&&gt.imagePath(j,p)},[j,p]),d.useEffect(()=>{typeof m<"u"&&j!==null&&gt.imageSizes(j,m)},[j,m]),d.useEffect(()=>{typeof g<"u"&&j!==null&&gt.maxZoom(j,g)},[j,g]),d.useEffect(()=>{typeof v<"u"&&j!==null&&gt.minimumClusterSize(j,v)},[j,v]),d.useEffect(()=>{typeof y<"u"&&j!==null&&gt.styles(j,y)},[j,y]),d.useEffect(()=>{typeof b<"u"&&j!==null&&gt.title(j,b)},[j,b]),d.useEffect(()=>{typeof w<"u"&&j!==null&&gt.zoomOnClick(j,w)},[j,w]),d.useEffect(()=>{if(k){var z=DK({},n||OK),Q=new lL(k,[],z);return r&&gt.averageCenter(Q,r),s&&gt.batchSizeIE(Q,s),i&&gt.calculator(Q,i),a&&gt.clusterClass(Q,a),l&&gt.enableRetinaIcons(Q,l),c&&gt.gridSize(Q,c),u&&gt.ignoreHidden(Q,u),h&&gt.imageExtension(Q,h),p&&gt.imagePath(Q,p),m&&gt.imageSizes(Q,m),g&&gt.maxZoom(Q,g),v&&gt.minimumClusterSize(Q,v),y&&gt.styles(Q,y),b&&gt.title(Q,b),w&&gt.zoomOnClick(Q,w),L&&D(google.maps.event.addListener(Q,Or.onMouseOut,L)),A&&U(google.maps.event.addListener(Q,Or.onMouseOver,A)),x&&R(google.maps.event.addListener(Q,Or.onClick,x)),N&&Z(google.maps.event.addListener(Q,Or.onClusteringBegin,N)),I&&te(google.maps.event.addListener(Q,Or.onClusteringEnd,I)),T(Q),C&&C(Q),()=>{O!==null&&google.maps.event.removeListener(O),V!==null&&google.maps.event.removeListener(V),P!==null&&google.maps.event.removeListener(P),H!==null&&google.maps.event.removeListener(H),G!==null&&google.maps.event.removeListener(G),_&&_(Q)}}},[]),j!==null&&e(j)||null}d.memo(VK);class FK extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{markerClusterer:null}),ne(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new lL(this.context,[],this.props.options);this.registeredEvents=tt({updaterMap:gt,eventMap:Or,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:gt,eventMap:Or,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),nt(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}ne(FK,"contextType",Xe);function p_(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var cL=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(h){h.returnValue=!1,h.preventDefault&&h.preventDefault(),e.enableEventPropagation||p_(h)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0,l=i;a<l.length;a++){var c=l[a];this.eventListeners.push(google.maps.event.addListener(this.div,c,p_))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,s=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var a=n.getDiv(),l=a.offsetWidth,c=a.offsetHeight,u=this.pixelOffset.width,h=this.pixelOffset.height,p=this.div.offsetWidth,m=this.div.offsetHeight,g=this.infoBoxClearance.width,v=this.infoBoxClearance.height,y=this.getProjection(),b=y.fromLatLngToContainerPixel(this.position);b!==null&&(b.x<-u+g?r=b.x+u-g:b.x+p+u+g>l&&(r=b.x+p+u+g-l),this.alignBottom?b.y<-h+v+m?s=b.y+h-v-m:b.y+h+v>c&&(s=b.y+h+v-c):b.y<-h+v?s=b.y+h-v:b.y+m+h+v>c&&(s=b.y+m+h+v-c)),r===0&&s===0||n.panBy(r,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();r.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=s.prototype[i]);return this}).apply(e,[n])},t}(),$K=["position"],UK=["position"];function m_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var g_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},y_={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},zK={};function BK(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:h,onLoad:p,onUnmount:m}=t,g=d.useContext(Xe),[v,y]=d.useState(null),[b,w]=d.useState(null),[x,N]=d.useState(null),[I,A]=d.useState(null),[L,C]=d.useState(null),[_,j]=d.useState(null),T=d.useRef(null);return d.useEffect(()=>{g&&v!==null&&(v.close(),n?v.open(g,n):v.getPosition()&&v.open(g))},[g,v,n]),d.useEffect(()=>{r&&v!==null&&v.setOptions(r)},[v,r]),d.useEffect(()=>{if(s&&v!==null){var k=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);v.setPosition(k)}},[s]),d.useEffect(()=>{typeof i=="number"&&v!==null&&v.setZIndex(i)},[i]),d.useEffect(()=>{v&&a&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(v,"closeclick",a)))},[a]),d.useEffect(()=>{v&&l&&(x!==null&&google.maps.event.removeListener(x),N(google.maps.event.addListener(v,"domready",l)))},[l]),d.useEffect(()=>{v&&c&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(v,"content_changed",c)))},[c]),d.useEffect(()=>{v&&u&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(v,"position_changed",u)))},[u]),d.useEffect(()=>{v&&h&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(v,"zindex_changed",h)))},[h]),d.useEffect(()=>{if(g){var k=r||zK,{position:P}=k,R=rb(k,$K),H;P&&!(P instanceof google.maps.LatLng)&&(H=new google.maps.LatLng(P.lat,P.lng));var Z=new cL(bp(bp({},R),H?{position:H}:{}));T.current=document.createElement("div"),y(Z),a&&w(google.maps.event.addListener(Z,"closeclick",a)),l&&N(google.maps.event.addListener(Z,"domready",l)),c&&A(google.maps.event.addListener(Z,"content_changed",c)),u&&C(google.maps.event.addListener(Z,"position_changed",u)),h&&j(google.maps.event.addListener(Z,"zindex_changed",h)),Z.setContent(T.current),n?Z.open(g,n):Z.getPosition()?Z.open(g):yn(!1,"You must provide either an anchor or a position prop for <InfoBox>."),p&&p(Z)}return()=>{v!==null&&(b&&google.maps.event.removeListener(b),I&&google.maps.event.removeListener(I),x&&google.maps.event.removeListener(x),L&&google.maps.event.removeListener(L),_&&google.maps.event.removeListener(_),m&&m(v),v.close())}},[]),T.current?Yr.createPortal(d.Children.only(e),T.current):null}d.memo(BK);class HK extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoBox:null}),ne(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):yn(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),ne(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=rb(e,UK),s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));var i=new cL(bp(bp({},r),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=tt({updaterMap:y_,eventMap:g_,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:y_,eventMap:g_,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),nt(this.registeredEvents),n.close())}render(){return this.containerElement?Yr.createPortal(d.Children.only(this.props.children),this.containerElement):null}}ne(HK,"contextType",Xe);var Ny,v_;function WK(){return v_||(v_=1,Ny=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),Ny}var qK=WK(),x_=tL(qK),w_=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Cy=1,Uc=8;class sb{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=r>>4;if(s!==Cy)throw new Error("Got v".concat(s," data when expected v").concat(Cy,"."));var i=w_[r&15];if(!i)throw new Error("Unrecognized array type.");var[a]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new sb(l,a,i,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=w_.indexOf(this.ArrayType),a=e*2*this.ArrayType.BYTES_PER_ELEMENT,l=e*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-l%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(r,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,Uc,e),this.coords=new this.ArrayType(this.data,Uc+l+c,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Uc+a+l+c),this.ids=new this.IndexArrayType(this.data,Uc,e),this.coords=new this.ArrayType(this.data,Uc+l+c,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Cy<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return u0(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:a,nodeSize:l}=this,c=[0,i.length-1,0],u=[];c.length;){var h=c.pop()||0,p=c.pop()||0,m=c.pop()||0;if(p-m<=l){for(var g=m;g<=p;g++){var v=a[2*g],y=a[2*g+1];v>=e&&v<=r&&y>=n&&y<=s&&u.push(i[g])}continue}var b=m+p>>1,w=a[2*b],x=a[2*b+1];w>=e&&w<=r&&x>=n&&x<=s&&u.push(i[b]),(h===0?e<=w:n<=x)&&(c.push(m),c.push(b-1),c.push(1-h)),(h===0?r>=w:s>=x)&&(c.push(b+1),c.push(p),c.push(1-h))}return u}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:i,nodeSize:a}=this,l=[0,s.length-1,0],c=[],u=r*r;l.length;){var h=l.pop()||0,p=l.pop()||0,m=l.pop()||0;if(p-m<=a){for(var g=m;g<=p;g++)b_(i[2*g],i[2*g+1],e,n)<=u&&c.push(s[g]);continue}var v=m+p>>1,y=i[2*v],b=i[2*v+1];b_(y,b,e,n)<=u&&c.push(s[v]),(h===0?e-r<=y:n-r<=b)&&(l.push(m),l.push(v-1),l.push(1-h)),(h===0?e+r>=y:n+r>=b)&&(l.push(v+1),l.push(p),l.push(1-h))}return c}}function u0(t,e,n,r,s,i){if(!(s-r<=n)){var a=r+s>>1;uL(t,e,a,r,s,i),u0(t,e,n,r,a-1,1-i),u0(t,e,n,a+1,s,1-i)}}function uL(t,e,n,r,s,i){for(;s>r;){if(s-r>600){var a=s-r+1,l=n-r+1,c=Math.log(a),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1),p=Math.max(r,Math.floor(n-l*u/a+h)),m=Math.min(s,Math.floor(n+(a-l)*u/a+h));uL(t,e,n,p,m,i)}var g=e[2*n+i],v=r,y=s;for(zc(t,e,r,n),e[2*s+i]>g&&zc(t,e,r,s);v<y;){for(zc(t,e,v,y),v++,y--;e[2*v+i]<g;)v++;for(;e[2*y+i]>g;)y--}e[2*r+i]===g?zc(t,e,r,y):(y++,zc(t,e,y,s)),y<=n&&(r=y+1),n<=y&&(s=y-1)}}function zc(t,e,n,r){_y(t,n,r),_y(e,2*n,2*r),_y(e,2*n+1,2*r+1)}function _y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b_(t,e,n,r){var s=t-n,i=e-r;return s*s+i*i}var GK={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},E_=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),$o=2,Oi=3,Sy=4,Li=5,dL=6;class KK{constructor(e){this.options=Object.assign(Object.create(GK),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:s}=this.options;n&&console.time("total time");var i="prepare ".concat(e.length," points");n&&console.time(i),this.points=e;for(var a=[],l=0;l<e.length;l++){var c=e[l];if(c.geometry){var[u,h]=c.geometry.coordinates,p=E_(zh(u)),m=E_(Bh(h));a.push(p,m,1/0,l,-1,1),this.options.reduce&&a.push(0)}}var g=this.trees[s+1]=this._createTree(a);n&&console.timeEnd(i);for(var v=s;v>=r;v--){var y=+Date.now();g=this.trees[v]=this._createTree(this._cluster(g,v)),n&&console.log("z%d: %d clusters in %dms",v,g.numItems,+Date.now()-y)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var l=this.getClusters([r,s,180,a],n),c=this.getClusters([-180,s,i,a],n);return l.concat(c)}var u=this.trees[this._limitZoom(n)],h=u.range(zh(r),Bh(a),zh(i),Bh(s)),p=u.data,m=[];for(var g of h){var v=this.stride*g;m.push(p[v+Li]>1?N_(p,v,this.clusterProps):this.points[p[v+Oi]])}return m}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(s);var a=i.data;if(n*this.stride>=a.length)throw new Error(s);var l=this.options.radius/(this.options.extent*Math.pow(2,r-1)),c=a[n*this.stride],u=a[n*this.stride+1],h=i.within(c,u,l),p=[];for(var m of h){var g=m*this.stride;a[g+Sy]===e&&p.push(a[g+Li]>1?N_(a,g,this.clusterProps):this.points[a[g+Oi]])}if(p.length===0)throw new Error(s);return p}getLeaves(e,n,r){n=n||10,r=r||0;var s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){var s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:a,radius:l}=this.options,c=l/a,u=(r-c)/i,h=(r+1+c)/i,p={features:[]};return this._addTileFeatures(s.range((n-c)/i,u,(n+1+c)/i,h),s.data,n,r,i,p),n===0&&this._addTileFeatures(s.range(1-c/i,u,1,h),s.data,i,r,i,p),n===i-1&&this._addTileFeatures(s.range(0,u,c/i,h),s.data,-1,r,i,p),p.features.length?p:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,i){var a=this.getChildren(n);for(var l of a){var c=l.properties;if(c&&c.cluster?i+c.point_count<=s?i+=c.point_count:i=this._appendLeaves(e,c.cluster_id,r,s,i):i<s?i++:e.push(l),e.length===r)break}return i}_createTree(e){for(var n=new sb(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,s,i,a){for(var l of e){var c=l*this.stride,u=n[c+Li]>1,h=void 0,p=void 0,m=void 0;if(u)h=hL(n,c,this.clusterProps),p=n[c],m=n[c+1];else{var g=this.points[n[c+Oi]];h=g.properties;var[v,y]=g.geometry.coordinates;p=zh(v),m=Bh(y)}var b={type:1,geometry:[[Math.round(this.options.extent*(p*i-r)),Math.round(this.options.extent*(m*i-s))]],tags:h},w=void 0;u||this.options.generateId?w=n[c+Oi]:w=this.points[n[c+Oi]].id,w!==void 0&&(b.id=w),a.features.push(b)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:s,reduce:i,minPoints:a}=this.options,l=r/(s*Math.pow(2,n)),c=e.data,u=[],h=this.stride,p=0;p<c.length;p+=h)if(!(c[p+$o]<=n)){c[p+$o]=n;var m=c[p],g=c[p+1],v=e.within(c[p],c[p+1],l),y=c[p+Li],b=y;for(var w of v){var x=w*h;c[x+$o]>n&&(b+=c[x+Li])}if(b>y&&b>=a){var N=m*y,I=g*y,A=void 0,L=-1,C=((p/h|0)<<5)+(n+1)+this.points.length;for(var _ of v){var j=_*h;if(!(c[j+$o]<=n)){c[j+$o]=n;var T=c[j+Li];N+=c[j]*T,I+=c[j+1]*T,c[j+Sy]=C,i&&(A||(A=this._map(c,p,!0),L=this.clusterProps.length,this.clusterProps.push(A)),i(A,this._map(c,j)))}}c[p+Sy]=C,u.push(N/b,I/b,1/0,C,-1,b),i&&u.push(L)}else{for(var k=0;k<h;k++)u.push(c[p+k]);if(b>1)for(var P of v){var R=P*h;if(!(c[R+$o]<=n)){c[R+$o]=n;for(var H=0;H<h;H++)u.push(c[R+H])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Li]>1){var s=this.clusterProps[e[n+dL]];return r?Object.assign({},s):s}var i=this.points[e[n+Oi]].properties,a=this.options.map(i);return r&&a===i?Object.assign({},a):a}}function N_(t,e,n){return{type:"Feature",id:t[e+Oi],properties:hL(t,e,n),geometry:{type:"Point",coordinates:[QK(t[e]),YK(t[e+1])]}}}function hL(t,e,n){var r=t[e+Li],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,i=t[e+dL],a=i===-1?{}:Object.assign({},n[i]);return Object.assign(a,{cluster:!0,cluster_id:t[e+Oi],point_count:r,point_count_abbreviated:s})}function zh(t){return t/360+.5}function Bh(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function QK(t){return(t-.5)*360}function YK(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ZK(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class Sr{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class d0{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Sr.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Sr.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Sr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class XK{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return JK(n)}}var JK=t=>{var e=t.map(n=>new d0({position:Sr.getPosition(n),markers:[n]}));return e};class eQ extends XK{constructor(e){var{maxZoom:n,radius:r=60}=e,s=ZK(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new KK(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!x_(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var s=this.markers.map(i=>{var a=Sr.getPosition(i),l=[a.lng(),a.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{marker:i}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!x_(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:s}=e;if(s.cluster)return new d0({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:r,lng:n}});var i=s.marker;return new d0({markers:[i],position:Sr.getPosition(i)})}}class tQ{constructor(e,n){this.markers={sum:e.length};var r=n.map(i=>i.count),s=r.reduce((i,a)=>i+a,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class nQ{render(e,n,r){var{count:s,position:i}=e,a=s>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(a,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),c="Cluster of ".concat(s," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+s;if(Sr.isAdvancedMarkerAvailable(r)){var h=new DOMParser,p=h.parseFromString(l,"image/svg+xml").documentElement;p.setAttribute("transform","translate(0 25)");var m={map:r,position:i,zIndex:u,title:c,content:p};return new google.maps.marker.AdvancedMarkerElement(m)}var g={position:i,zIndex:u,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(g)}}function rQ(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class ib{constructor(){rQ(ib,google.maps.OverlayView)}}var _u;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(_u||(_u={}));var sQ=(t,e,n)=>{n.fitBounds(e.bounds)};class iQ extends ib{constructor(e){var{map:n,markers:r=[],algorithmOptions:s={},algorithm:i=new eQ(s),renderer:a=new nQ,onClusterClick:l=sQ}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=a,this.onClusterClick=l,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(Sr.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,_u.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var s=new Set;for(var i of n)i.markers.length==1&&s.add(i.markers[0]);var a=[];for(var l of this.clusters)l.marker!=null&&(l.markers.length==1?s.has(l.marker)||Sr.setMap(l.marker,null):a.push(l.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>a.forEach(c=>Sr.setMap(c,null)))}google.maps.event.trigger(this,_u.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Sr.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new tQ(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(s=>Sr.setMap(s,null)),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,_u.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),Sr.setMap(r.marker,n)})}}function C_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function __(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oQ(t){var e=eK(),[n,r]=d.useState(null);return d.useEffect(()=>{if(e&&n===null){var s=new iQ(__(__({},t),{},{map:e}));r(s)}},[e]),n}function aQ(t){var{children:e,options:n}=t,r=oQ(n);return r!==null?e(r):null}d.memo(aQ);var S_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},j_={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function lQ(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:h,onLoad:p,onUnmount:m}=t,g=d.useContext(Xe),[v,y]=d.useState(null),[b,w]=d.useState(null),[x,N]=d.useState(null),[I,A]=d.useState(null),[L,C]=d.useState(null),[_,j]=d.useState(null),T=d.useRef(null);return d.useEffect(()=>{v!==null&&(v.close(),n?v.open(g,n):v.getPosition()&&v.open(g))},[g,v,n]),d.useEffect(()=>{r&&v!==null&&v.setOptions(r)},[v,r]),d.useEffect(()=>{s&&v!==null&&v.setPosition(s)},[s]),d.useEffect(()=>{typeof i=="number"&&v!==null&&v.setZIndex(i)},[i]),d.useEffect(()=>{v&&a&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(v,"closeclick",a)))},[a]),d.useEffect(()=>{v&&l&&(x!==null&&google.maps.event.removeListener(x),N(google.maps.event.addListener(v,"domready",l)))},[l]),d.useEffect(()=>{v&&c&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(v,"content_changed",c)))},[c]),d.useEffect(()=>{v&&u&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(v,"position_changed",u)))},[u]),d.useEffect(()=>{v&&h&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(v,"zindex_changed",h)))},[h]),d.useEffect(()=>{var k=new google.maps.InfoWindow(r);return y(k),T.current=document.createElement("div"),a&&w(google.maps.event.addListener(k,"closeclick",a)),l&&N(google.maps.event.addListener(k,"domready",l)),c&&A(google.maps.event.addListener(k,"content_changed",c)),u&&C(google.maps.event.addListener(k,"position_changed",u)),h&&j(google.maps.event.addListener(k,"zindex_changed",h)),k.setContent(T.current),s&&k.setPosition(s),i&&k.setZIndex(i),n?k.open(g,n):k.getPosition()?k.open(g):yn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),p&&p(k),()=>{b&&google.maps.event.removeListener(b),I&&google.maps.event.removeListener(I),x&&google.maps.event.removeListener(x),L&&google.maps.event.removeListener(L),_&&google.maps.event.removeListener(_),m&&m(k),k.close()}},[]),T.current?Yr.createPortal(d.Children.only(e),T.current):null}d.memo(lQ);class cQ extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",null),ne(this,"state",{infoWindow:null}),ne(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):yn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),ne(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=tt({updaterMap:j_,eventMap:S_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:j_,eventMap:S_,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(nt(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Yr.createPortal(d.Children.only(this.props.children),this.containerElement):null}}ne(cQ,"contextType",Xe);function k_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ep(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var I_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},P_={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},uQ={};function dQ(t){var{options:e,draggable:n,editable:r,visible:s,path:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:g,onRightClick:v,onClick:y,onDrag:b,onLoad:w,onUnmount:x}=t,N=d.useContext(Xe),[I,A]=d.useState(null),[L,C]=d.useState(null),[_,j]=d.useState(null),[T,k]=d.useState(null),[P,R]=d.useState(null),[H,Z]=d.useState(null),[G,te]=d.useState(null),[O,D]=d.useState(null),[V,U]=d.useState(null),[z,Q]=d.useState(null),[se,W]=d.useState(null),[ge,X]=d.useState(null);return d.useEffect(()=>{I!==null&&I.setMap(N)},[N]),d.useEffect(()=>{typeof e<"u"&&I!==null&&I.setOptions(e)},[I,e]),d.useEffect(()=>{typeof n<"u"&&I!==null&&I.setDraggable(n)},[I,n]),d.useEffect(()=>{typeof r<"u"&&I!==null&&I.setEditable(r)},[I,r]),d.useEffect(()=>{typeof s<"u"&&I!==null&&I.setVisible(s)},[I,s]),d.useEffect(()=>{typeof i<"u"&&I!==null&&I.setPath(i)},[I,i]),d.useEffect(()=>{I&&a&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(I,"dblclick",a)))},[a]),d.useEffect(()=>{I&&l&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(I,"dragend",l)))},[l]),d.useEffect(()=>{I&&c&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(I,"dragstart",c)))},[c]),d.useEffect(()=>{I&&u&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(I,"mousedown",u)))},[u]),d.useEffect(()=>{I&&h&&(H!==null&&google.maps.event.removeListener(H),Z(google.maps.event.addListener(I,"mousemove",h)))},[h]),d.useEffect(()=>{I&&p&&(G!==null&&google.maps.event.removeListener(G),te(google.maps.event.addListener(I,"mouseout",p)))},[p]),d.useEffect(()=>{I&&m&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(I,"mouseover",m)))},[m]),d.useEffect(()=>{I&&g&&(V!==null&&google.maps.event.removeListener(V),U(google.maps.event.addListener(I,"mouseup",g)))},[g]),d.useEffect(()=>{I&&v&&(z!==null&&google.maps.event.removeListener(z),Q(google.maps.event.addListener(I,"rightclick",v)))},[v]),d.useEffect(()=>{I&&y&&(se!==null&&google.maps.event.removeListener(se),W(google.maps.event.addListener(I,"click",y)))},[y]),d.useEffect(()=>{I&&b&&(ge!==null&&google.maps.event.removeListener(ge),X(google.maps.event.addListener(I,"drag",b)))},[b]),d.useEffect(()=>{var ce=new google.maps.Polyline(Ep(Ep({},e||uQ),{},{map:N}));return i&&ce.setPath(i),typeof s<"u"&&ce.setVisible(s),typeof r<"u"&&ce.setEditable(r),typeof n<"u"&&ce.setDraggable(n),a&&C(google.maps.event.addListener(ce,"dblclick",a)),l&&j(google.maps.event.addListener(ce,"dragend",l)),c&&k(google.maps.event.addListener(ce,"dragstart",c)),u&&R(google.maps.event.addListener(ce,"mousedown",u)),h&&Z(google.maps.event.addListener(ce,"mousemove",h)),p&&te(google.maps.event.addListener(ce,"mouseout",p)),m&&D(google.maps.event.addListener(ce,"mouseover",m)),g&&U(google.maps.event.addListener(ce,"mouseup",g)),v&&Q(google.maps.event.addListener(ce,"rightclick",v)),y&&W(google.maps.event.addListener(ce,"click",y)),b&&X(google.maps.event.addListener(ce,"drag",b)),A(ce),w&&w(ce),()=>{L!==null&&google.maps.event.removeListener(L),_!==null&&google.maps.event.removeListener(_),T!==null&&google.maps.event.removeListener(T),P!==null&&google.maps.event.removeListener(P),H!==null&&google.maps.event.removeListener(H),G!==null&&google.maps.event.removeListener(G),O!==null&&google.maps.event.removeListener(O),V!==null&&google.maps.event.removeListener(V),z!==null&&google.maps.event.removeListener(z),se!==null&&google.maps.event.removeListener(se),x&&x(ce),ce.setMap(null)}},[]),null}d.memo(dQ);class fL extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{polyline:null}),ne(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Ep(Ep({},this.props.options),{},{map:this.context}));this.registeredEvents=tt({updaterMap:P_,eventMap:I_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:P_,eventMap:I_,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),nt(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}ne(fL,"contextType",Xe);function T_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function A_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var R_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},L_={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function hQ(t){var{options:e,draggable:n,editable:r,visible:s,path:i,paths:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseUp:v,onRightClick:y,onClick:b,onDrag:w,onLoad:x,onUnmount:N,onEdit:I}=t,A=d.useContext(Xe),[L,C]=d.useState(null),[_,j]=d.useState(null),[T,k]=d.useState(null),[P,R]=d.useState(null),[H,Z]=d.useState(null),[G,te]=d.useState(null),[O,D]=d.useState(null),[V,U]=d.useState(null),[z,Q]=d.useState(null),[se,W]=d.useState(null),[ge,X]=d.useState(null),[ce,xe]=d.useState(null);return d.useEffect(()=>{L!==null&&L.setMap(A)},[A]),d.useEffect(()=>{typeof e<"u"&&L!==null&&L.setOptions(e)},[L,e]),d.useEffect(()=>{typeof n<"u"&&L!==null&&L.setDraggable(n)},[L,n]),d.useEffect(()=>{typeof r<"u"&&L!==null&&L.setEditable(r)},[L,r]),d.useEffect(()=>{typeof s<"u"&&L!==null&&L.setVisible(s)},[L,s]),d.useEffect(()=>{typeof i<"u"&&L!==null&&L.setPath(i)},[L,i]),d.useEffect(()=>{typeof a<"u"&&L!==null&&L.setPaths(a)},[L,a]),d.useEffect(()=>{L&&typeof l=="function"&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(L,"dblclick",l)))},[l]),d.useEffect(()=>{L&&(google.maps.event.addListener(L.getPath(),"insert_at",()=>{I==null||I(L)}),google.maps.event.addListener(L.getPath(),"set_at",()=>{I==null||I(L)}),google.maps.event.addListener(L.getPath(),"remove_at",()=>{I==null||I(L)}))},[L,I]),d.useEffect(()=>{L&&typeof c=="function"&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(L,"dragend",c)))},[c]),d.useEffect(()=>{L&&typeof u=="function"&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(L,"dragstart",u)))},[u]),d.useEffect(()=>{L&&typeof h=="function"&&(H!==null&&google.maps.event.removeListener(H),Z(google.maps.event.addListener(L,"mousedown",h)))},[h]),d.useEffect(()=>{L&&typeof p=="function"&&(G!==null&&google.maps.event.removeListener(G),te(google.maps.event.addListener(L,"mousemove",p)))},[p]),d.useEffect(()=>{L&&typeof m=="function"&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(L,"mouseout",m)))},[m]),d.useEffect(()=>{L&&typeof g=="function"&&(V!==null&&google.maps.event.removeListener(V),U(google.maps.event.addListener(L,"mouseover",g)))},[g]),d.useEffect(()=>{L&&typeof v=="function"&&(z!==null&&google.maps.event.removeListener(z),Q(google.maps.event.addListener(L,"mouseup",v)))},[v]),d.useEffect(()=>{L&&typeof y=="function"&&(se!==null&&google.maps.event.removeListener(se),W(google.maps.event.addListener(L,"rightclick",y)))},[y]),d.useEffect(()=>{L&&typeof b=="function"&&(ge!==null&&google.maps.event.removeListener(ge),X(google.maps.event.addListener(L,"click",b)))},[b]),d.useEffect(()=>{L&&typeof w=="function"&&(ce!==null&&google.maps.event.removeListener(ce),xe(google.maps.event.addListener(L,"drag",w)))},[w]),d.useEffect(()=>{var Y=new google.maps.Polygon(A_(A_({},e),{},{map:A}));return i&&Y.setPath(i),a&&Y.setPaths(a),typeof s<"u"&&Y.setVisible(s),typeof r<"u"&&Y.setEditable(r),typeof n<"u"&&Y.setDraggable(n),l&&j(google.maps.event.addListener(Y,"dblclick",l)),c&&k(google.maps.event.addListener(Y,"dragend",c)),u&&R(google.maps.event.addListener(Y,"dragstart",u)),h&&Z(google.maps.event.addListener(Y,"mousedown",h)),p&&te(google.maps.event.addListener(Y,"mousemove",p)),m&&D(google.maps.event.addListener(Y,"mouseout",m)),g&&U(google.maps.event.addListener(Y,"mouseover",g)),v&&Q(google.maps.event.addListener(Y,"mouseup",v)),y&&W(google.maps.event.addListener(Y,"rightclick",y)),b&&X(google.maps.event.addListener(Y,"click",b)),w&&xe(google.maps.event.addListener(Y,"drag",w)),C(Y),x&&x(Y),()=>{_!==null&&google.maps.event.removeListener(_),T!==null&&google.maps.event.removeListener(T),P!==null&&google.maps.event.removeListener(P),H!==null&&google.maps.event.removeListener(H),G!==null&&google.maps.event.removeListener(G),O!==null&&google.maps.event.removeListener(O),V!==null&&google.maps.event.removeListener(V),z!==null&&google.maps.event.removeListener(z),se!==null&&google.maps.event.removeListener(se),ge!==null&&google.maps.event.removeListener(ge),N&&N(Y),Y.setMap(null)}},[]),null}d.memo(hQ);class fQ extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=tt({updaterMap:L_,eventMap:R_,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:L_,eventMap:R_,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),nt(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}ne(fQ,"contextType",Xe);function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Np(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var D_={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},O_={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function pQ(t){var{options:e,bounds:n,draggable:r,editable:s,visible:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:g,onRightClick:v,onClick:y,onDrag:b,onBoundsChanged:w,onLoad:x,onUnmount:N}=t,I=d.useContext(Xe),[A,L]=d.useState(null),[C,_]=d.useState(null),[j,T]=d.useState(null),[k,P]=d.useState(null),[R,H]=d.useState(null),[Z,G]=d.useState(null),[te,O]=d.useState(null),[D,V]=d.useState(null),[U,z]=d.useState(null),[Q,se]=d.useState(null),[W,ge]=d.useState(null),[X,ce]=d.useState(null),[xe,Y]=d.useState(null);return d.useEffect(()=>{A!==null&&A.setMap(I)},[I]),d.useEffect(()=>{typeof e<"u"&&A!==null&&A.setOptions(e)},[A,e]),d.useEffect(()=>{typeof r<"u"&&A!==null&&A.setDraggable(r)},[A,r]),d.useEffect(()=>{typeof s<"u"&&A!==null&&A.setEditable(s)},[A,s]),d.useEffect(()=>{typeof i<"u"&&A!==null&&A.setVisible(i)},[A,i]),d.useEffect(()=>{typeof n<"u"&&A!==null&&A.setBounds(n)},[A,n]),d.useEffect(()=>{A&&a&&(C!==null&&google.maps.event.removeListener(C),_(google.maps.event.addListener(A,"dblclick",a)))},[a]),d.useEffect(()=>{A&&l&&(j!==null&&google.maps.event.removeListener(j),T(google.maps.event.addListener(A,"dragend",l)))},[l]),d.useEffect(()=>{A&&c&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(A,"dragstart",c)))},[c]),d.useEffect(()=>{A&&u&&(R!==null&&google.maps.event.removeListener(R),H(google.maps.event.addListener(A,"mousedown",u)))},[u]),d.useEffect(()=>{A&&h&&(Z!==null&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(A,"mousemove",h)))},[h]),d.useEffect(()=>{A&&p&&(te!==null&&google.maps.event.removeListener(te),O(google.maps.event.addListener(A,"mouseout",p)))},[p]),d.useEffect(()=>{A&&m&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(A,"mouseover",m)))},[m]),d.useEffect(()=>{A&&g&&(U!==null&&google.maps.event.removeListener(U),z(google.maps.event.addListener(A,"mouseup",g)))},[g]),d.useEffect(()=>{A&&v&&(Q!==null&&google.maps.event.removeListener(Q),se(google.maps.event.addListener(A,"rightclick",v)))},[v]),d.useEffect(()=>{A&&y&&(W!==null&&google.maps.event.removeListener(W),ge(google.maps.event.addListener(A,"click",y)))},[y]),d.useEffect(()=>{A&&b&&(X!==null&&google.maps.event.removeListener(X),ce(google.maps.event.addListener(A,"drag",b)))},[b]),d.useEffect(()=>{A&&w&&(xe!==null&&google.maps.event.removeListener(xe),Y(google.maps.event.addListener(A,"bounds_changed",w)))},[w]),d.useEffect(()=>{var J=new google.maps.Rectangle(Np(Np({},e),{},{map:I}));return typeof i<"u"&&J.setVisible(i),typeof s<"u"&&J.setEditable(s),typeof r<"u"&&J.setDraggable(r),typeof n<"u"&&J.setBounds(n),a&&_(google.maps.event.addListener(J,"dblclick",a)),l&&T(google.maps.event.addListener(J,"dragend",l)),c&&P(google.maps.event.addListener(J,"dragstart",c)),u&&H(google.maps.event.addListener(J,"mousedown",u)),h&&G(google.maps.event.addListener(J,"mousemove",h)),p&&O(google.maps.event.addListener(J,"mouseout",p)),m&&V(google.maps.event.addListener(J,"mouseover",m)),g&&z(google.maps.event.addListener(J,"mouseup",g)),v&&se(google.maps.event.addListener(J,"rightclick",v)),y&&ge(google.maps.event.addListener(J,"click",y)),b&&ce(google.maps.event.addListener(J,"drag",b)),w&&Y(google.maps.event.addListener(J,"bounds_changed",w)),L(J),x&&x(J),()=>{C!==null&&google.maps.event.removeListener(C),j!==null&&google.maps.event.removeListener(j),k!==null&&google.maps.event.removeListener(k),R!==null&&google.maps.event.removeListener(R),Z!==null&&google.maps.event.removeListener(Z),te!==null&&google.maps.event.removeListener(te),D!==null&&google.maps.event.removeListener(D),U!==null&&google.maps.event.removeListener(U),Q!==null&&google.maps.event.removeListener(Q),W!==null&&google.maps.event.removeListener(W),X!==null&&google.maps.event.removeListener(X),xe!==null&&google.maps.event.removeListener(xe),N&&N(J),J.setMap(null)}},[]),null}d.memo(pQ);class mQ extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{rectangle:null}),ne(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Np(Np({},this.props.options),{},{map:this.context}));this.registeredEvents=tt({updaterMap:O_,eventMap:D_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:O_,eventMap:D_,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),nt(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}ne(mQ,"contextType",Xe);function V_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var F_={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},$_={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},gQ={};function yQ(t){var{options:e,center:n,radius:r,draggable:s,editable:i,visible:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseUp:v,onRightClick:y,onClick:b,onDrag:w,onCenterChanged:x,onRadiusChanged:N,onLoad:I,onUnmount:A}=t,L=d.useContext(Xe),[C,_]=d.useState(null),[j,T]=d.useState(null),[k,P]=d.useState(null),[R,H]=d.useState(null),[Z,G]=d.useState(null),[te,O]=d.useState(null),[D,V]=d.useState(null),[U,z]=d.useState(null),[Q,se]=d.useState(null),[W,ge]=d.useState(null),[X,ce]=d.useState(null),[xe,Y]=d.useState(null),[J,B]=d.useState(null),[he,Se]=d.useState(null);return d.useEffect(()=>{C!==null&&C.setMap(L)},[L]),d.useEffect(()=>{typeof e<"u"&&C!==null&&C.setOptions(e)},[C,e]),d.useEffect(()=>{typeof s<"u"&&C!==null&&C.setDraggable(s)},[C,s]),d.useEffect(()=>{typeof i<"u"&&C!==null&&C.setEditable(i)},[C,i]),d.useEffect(()=>{typeof a<"u"&&C!==null&&C.setVisible(a)},[C,a]),d.useEffect(()=>{typeof r=="number"&&C!==null&&C.setRadius(r)},[C,r]),d.useEffect(()=>{typeof n<"u"&&C!==null&&C.setCenter(n)},[C,n]),d.useEffect(()=>{C&&l&&(j!==null&&google.maps.event.removeListener(j),T(google.maps.event.addListener(C,"dblclick",l)))},[l]),d.useEffect(()=>{C&&c&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(C,"dragend",c)))},[c]),d.useEffect(()=>{C&&u&&(R!==null&&google.maps.event.removeListener(R),H(google.maps.event.addListener(C,"dragstart",u)))},[u]),d.useEffect(()=>{C&&h&&(Z!==null&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(C,"mousedown",h)))},[h]),d.useEffect(()=>{C&&p&&(te!==null&&google.maps.event.removeListener(te),O(google.maps.event.addListener(C,"mousemove",p)))},[p]),d.useEffect(()=>{C&&m&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(C,"mouseout",m)))},[m]),d.useEffect(()=>{C&&g&&(U!==null&&google.maps.event.removeListener(U),z(google.maps.event.addListener(C,"mouseover",g)))},[g]),d.useEffect(()=>{C&&v&&(Q!==null&&google.maps.event.removeListener(Q),se(google.maps.event.addListener(C,"mouseup",v)))},[v]),d.useEffect(()=>{C&&y&&(W!==null&&google.maps.event.removeListener(W),ge(google.maps.event.addListener(C,"rightclick",y)))},[y]),d.useEffect(()=>{C&&b&&(X!==null&&google.maps.event.removeListener(X),ce(google.maps.event.addListener(C,"click",b)))},[b]),d.useEffect(()=>{C&&w&&(xe!==null&&google.maps.event.removeListener(xe),Y(google.maps.event.addListener(C,"drag",w)))},[w]),d.useEffect(()=>{C&&x&&(J!==null&&google.maps.event.removeListener(J),B(google.maps.event.addListener(C,"center_changed",x)))},[b]),d.useEffect(()=>{C&&N&&(he!==null&&google.maps.event.removeListener(he),Se(google.maps.event.addListener(C,"radius_changed",N)))},[N]),d.useEffect(()=>{var be=new google.maps.Circle(Cp(Cp({},e||gQ),{},{map:L}));return typeof r=="number"&&be.setRadius(r),typeof n<"u"&&be.setCenter(n),typeof r=="number"&&be.setRadius(r),typeof a<"u"&&be.setVisible(a),typeof i<"u"&&be.setEditable(i),typeof s<"u"&&be.setDraggable(s),l&&T(google.maps.event.addListener(be,"dblclick",l)),c&&P(google.maps.event.addListener(be,"dragend",c)),u&&H(google.maps.event.addListener(be,"dragstart",u)),h&&G(google.maps.event.addListener(be,"mousedown",h)),p&&O(google.maps.event.addListener(be,"mousemove",p)),m&&V(google.maps.event.addListener(be,"mouseout",m)),g&&z(google.maps.event.addListener(be,"mouseover",g)),v&&se(google.maps.event.addListener(be,"mouseup",v)),y&&ge(google.maps.event.addListener(be,"rightclick",y)),b&&ce(google.maps.event.addListener(be,"click",b)),w&&Y(google.maps.event.addListener(be,"drag",w)),x&&B(google.maps.event.addListener(be,"center_changed",x)),N&&Se(google.maps.event.addListener(be,"radius_changed",N)),_(be),I&&I(be),()=>{j!==null&&google.maps.event.removeListener(j),k!==null&&google.maps.event.removeListener(k),R!==null&&google.maps.event.removeListener(R),Z!==null&&google.maps.event.removeListener(Z),te!==null&&google.maps.event.removeListener(te),D!==null&&google.maps.event.removeListener(D),U!==null&&google.maps.event.removeListener(U),Q!==null&&google.maps.event.removeListener(Q),W!==null&&google.maps.event.removeListener(W),X!==null&&google.maps.event.removeListener(X),J!==null&&google.maps.event.removeListener(J),he!==null&&google.maps.event.removeListener(he),A&&A(be),be.setMap(null)}},[]),null}d.memo(yQ);class vQ extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{circle:null}),ne(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Cp(Cp({},this.props.options),{},{map:this.context}));this.registeredEvents=tt({updaterMap:$_,eventMap:F_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:$_,eventMap:F_,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),nt(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}ne(vQ,"contextType",Xe);function U_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var z_={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},B_={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function xQ(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:s,onMouseMove:i,onMouseOut:a,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:h,onRemoveFeature:p,onRemoveProperty:m,onSetGeometry:g,onSetProperty:v,onLoad:y,onUnmount:b}=t,w=d.useContext(Xe),[x,N]=d.useState(null),[I,A]=d.useState(null),[L,C]=d.useState(null),[_,j]=d.useState(null),[T,k]=d.useState(null),[P,R]=d.useState(null),[H,Z]=d.useState(null),[G,te]=d.useState(null),[O,D]=d.useState(null),[V,U]=d.useState(null),[z,Q]=d.useState(null),[se,W]=d.useState(null),[ge,X]=d.useState(null),[ce,xe]=d.useState(null);return d.useEffect(()=>{x!==null&&x.setMap(w)},[w]),d.useEffect(()=>{x&&r&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(x,"dblclick",r)))},[r]),d.useEffect(()=>{x&&s&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(x,"mousedown",s)))},[s]),d.useEffect(()=>{x&&i&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(x,"mousemove",i)))},[i]),d.useEffect(()=>{x&&a&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(x,"mouseout",a)))},[a]),d.useEffect(()=>{x&&l&&(P!==null&&google.maps.event.removeListener(P),R(google.maps.event.addListener(x,"mouseover",l)))},[l]),d.useEffect(()=>{x&&c&&(H!==null&&google.maps.event.removeListener(H),Z(google.maps.event.addListener(x,"mouseup",c)))},[c]),d.useEffect(()=>{x&&u&&(G!==null&&google.maps.event.removeListener(G),te(google.maps.event.addListener(x,"rightclick",u)))},[u]),d.useEffect(()=>{x&&n&&(O!==null&&google.maps.event.removeListener(O),D(google.maps.event.addListener(x,"click",n)))},[n]),d.useEffect(()=>{x&&h&&(V!==null&&google.maps.event.removeListener(V),U(google.maps.event.addListener(x,"addfeature",h)))},[h]),d.useEffect(()=>{x&&p&&(z!==null&&google.maps.event.removeListener(z),Q(google.maps.event.addListener(x,"removefeature",p)))},[p]),d.useEffect(()=>{x&&m&&(se!==null&&google.maps.event.removeListener(se),W(google.maps.event.addListener(x,"removeproperty",m)))},[m]),d.useEffect(()=>{x&&g&&(ge!==null&&google.maps.event.removeListener(ge),X(google.maps.event.addListener(x,"setgeometry",g)))},[g]),d.useEffect(()=>{x&&v&&(ce!==null&&google.maps.event.removeListener(ce),xe(google.maps.event.addListener(x,"setproperty",v)))},[v]),d.useEffect(()=>{if(w!==null){var Y=new google.maps.Data(_p(_p({},e),{},{map:w}));r&&A(google.maps.event.addListener(Y,"dblclick",r)),s&&C(google.maps.event.addListener(Y,"mousedown",s)),i&&j(google.maps.event.addListener(Y,"mousemove",i)),a&&k(google.maps.event.addListener(Y,"mouseout",a)),l&&R(google.maps.event.addListener(Y,"mouseover",l)),c&&Z(google.maps.event.addListener(Y,"mouseup",c)),u&&te(google.maps.event.addListener(Y,"rightclick",u)),n&&D(google.maps.event.addListener(Y,"click",n)),h&&U(google.maps.event.addListener(Y,"addfeature",h)),p&&Q(google.maps.event.addListener(Y,"removefeature",p)),m&&W(google.maps.event.addListener(Y,"removeproperty",m)),g&&X(google.maps.event.addListener(Y,"setgeometry",g)),v&&xe(google.maps.event.addListener(Y,"setproperty",v)),N(Y),y&&y(Y)}return()=>{x&&(I!==null&&google.maps.event.removeListener(I),L!==null&&google.maps.event.removeListener(L),_!==null&&google.maps.event.removeListener(_),T!==null&&google.maps.event.removeListener(T),P!==null&&google.maps.event.removeListener(P),H!==null&&google.maps.event.removeListener(H),G!==null&&google.maps.event.removeListener(G),O!==null&&google.maps.event.removeListener(O),V!==null&&google.maps.event.removeListener(V),z!==null&&google.maps.event.removeListener(z),se!==null&&google.maps.event.removeListener(se),ge!==null&&google.maps.event.removeListener(ge),ce!==null&&google.maps.event.removeListener(ce),b&&b(x),x.setMap(null))}},[]),null}d.memo(xQ);class wQ extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{data:null}),ne(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(_p(_p({},this.props.options),{},{map:this.context}));this.registeredEvents=tt({updaterMap:B_,eventMap:z_,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:B_,eventMap:z_,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),nt(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}ne(wQ,"contextType",Xe);function H_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function W_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var q_={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},G_={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class bQ extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{kmlLayer:null}),ne(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(W_(W_({},this.props.options),{},{map:this.context}));this.registeredEvents=tt({updaterMap:G_,eventMap:q_,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:G_,eventMap:q_,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),nt(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}ne(bQ,"contextType",Xe);function pL(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function EQ(t,e){return new e(t.lat,t.lng)}function NQ(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function CQ(t,e,n){return t instanceof e?t:n(t,e)}function _Q(t,e,n){return t instanceof e?t:n(t,e)}function SQ(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-s.x-e.x,"px"),height:"".concat(s.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function jQ(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:s,y:i}=r;return{left:"".concat(s+e.x,"px"),top:"".concat(i+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function mL(t,e,n,r){return n!==void 0?SQ(t,e,_Q(n,google.maps.LatLngBounds,NQ)):jQ(t,e,CQ(r,google.maps.LatLng,EQ))}function kQ(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function K_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function IQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PQ(t,e,n,r,s){class i extends google.maps.OverlayView{constructor(l,c,u,h){super(),this.container=l,this.pane=c,this.position=u,this.bounds=h}onAdd(){var l,c=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];c==null||c.appendChild(this.container)}draw(){var l=this.getProjection(),c=IQ({},this.container?pL(this.container,s):{x:0,y:0}),u=mL(l,c,this.bounds,this.position);for(var[h,p]of Object.entries(u))this.container.style[h]=p}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(t,e,n,r)}function Q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function TQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y_(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function Z_(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function AQ(t){var{position:e,bounds:n,mapPaneName:r,zIndex:s,onLoad:i,onUnmount:a,getPixelPositionOffset:l,children:c}=t,u=d.useContext(Xe),h=d.useMemo(()=>{var m=document.createElement("div");return m.style.position="absolute",m},[]),p=d.useMemo(()=>PQ(h,r,e,n,l),[h,r,e,n]);return d.useEffect(()=>(i==null||i(p),p==null||p.setMap(u),()=>{a==null||a(p),p==null||p.setMap(null)}),[u,p]),d.useEffect(()=>{h.style.zIndex="".concat(s)},[s,h]),Yr.createPortal(c,h)}d.memo(AQ);class vc extends d.PureComponent{constructor(e){super(e),ne(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),ne(this,"updatePane",()=>{var r=this.props.mapPaneName,s=this.overlayView.getPanes();yn(!!r,"OverlayView requires props.mapPaneName but got %s",r),s?this.setState({paneEl:s[r]}):this.setState({paneEl:null})}),ne(this,"onAdd",()=>{var r,s;this.updatePane(),(r=(s=this.props).onLoad)===null||r===void 0||r.call(s,this.overlayView)}),ne(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),s=TQ({x:0,y:0},this.containerRef.current?pL(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=mL(r,s,this.props.bounds,this.props.position);if(!kQ(i,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var a,l,c,u;this.setState({containerStyle:{top:(a=i.top)!==null&&a!==void 0?a:0,left:(l=i.left)!==null&&l!==void 0?l:0,width:(c=i.width)!==null&&c!==void 0?c:0,height:(u=i.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),ne(this,"draw",()=>{this.onPositionElement()}),ne(this,"onRemove",()=>{var r,s;this.setState(()=>({paneEl:null})),(r=(s=this.props).onUnmount)===null||r===void 0||r.call(s,this.overlayView)}),this.containerRef=d.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=Y_(e.position),r=Y_(this.props.position),s=Z_(e.bounds),i=Z_(this.props.bounds);(n!==r||s!==i)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Yr.createPortal(o.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:d.Children.only(this.props.children)}),e):null}}ne(vc,"FLOAT_PANE","floatPane");ne(vc,"MAP_PANE","mapPane");ne(vc,"MARKER_LAYER","markerLayer");ne(vc,"OVERLAY_LAYER","overlayLayer");ne(vc,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");ne(vc,"contextType",Xe);function RQ(){}function X_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function J_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X_(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var eS={onDblClick:"dblclick",onClick:"click"},tS={opacity(t,e){t.setOpacity(e)}};function LQ(t){var{url:e,bounds:n,options:r,visible:s}=t,i=d.useContext(Xe),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=d.useMemo(()=>new google.maps.GroundOverlay(e,a,r),[]);return d.useEffect(()=>{l!==null&&l.setMap(i)},[i]),d.useEffect(()=>{typeof e<"u"&&l!==null&&(l.set("url",e),l.setMap(i))},[l,e]),d.useEffect(()=>{typeof s<"u"&&l!==null&&l.setOpacity(s?1:0)},[l,s]),d.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&l!==null&&(l.set("bounds",c),l.setMap(i))},[l,n]),null}d.memo(LQ);class gL extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{groundOverlay:null}),ne(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){yn(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,J_(J_({},this.props.options),{},{map:this.context}));this.registeredEvents=tt({updaterMap:tS,eventMap:eS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:tS,eventMap:eS,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}ne(gL,"defaultProps",{onLoad:RQ});ne(gL,"contextType",Xe);function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Sp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var rS={},sS={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function MQ(t){var{data:e,onLoad:n,onUnmount:r,options:s}=t,i=d.useContext(Xe),[a,l]=d.useState(null);return d.useEffect(()=>{google.maps.visualization||yn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),d.useEffect(()=>{yn(!!e,"data property is required in HeatmapLayer %s",e)},[e]),d.useEffect(()=>{a!==null&&a.setMap(i)},[i]),d.useEffect(()=>{s&&a!==null&&a.setOptions(s)},[a,s]),d.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(Sp(Sp({},s),{},{data:e,map:i}));return l(c),n&&n(c),()=>{a!==null&&(r&&r(a),a.setMap(null))}},[]),null}d.memo(MQ);class DQ extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{heatmapLayer:null}),ne(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){yn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),yn(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Sp(Sp({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=tt({updaterMap:sS,eventMap:rS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:sS,eventMap:rS,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),nt(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ne(DQ,"contextType",Xe);var iS={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},oS={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class OQ extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{streetViewPanorama:null}),ne(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=tt({updaterMap:oS,eventMap:iS,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:oS,eventMap:iS,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),nt(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ne(OQ,"contextType",Xe);class VQ extends d.PureComponent{constructor(){super(...arguments),ne(this,"state",{streetViewService:null}),ne(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}ne(VQ,"contextType",Xe);var aS={onDirectionsChanged:"directions_changed"},lS={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class FQ extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"state",{directionsRenderer:null}),ne(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=tt({updaterMap:lS,eventMap:aS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:lS,eventMap:aS,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),nt(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}ne(FQ,"contextType",Xe);var cS={onPlacesChanged:"places_changed"},uS={bounds(t,e){t.setBounds(e)}};class yL extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",d.createRef()),ne(this,"state",{searchBox:null}),ne(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(yn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=tt({updaterMap:uS,eventMap:cS,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:uS,eventMap:cS,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),nt(this.registeredEvents))}render(){return o.jsx("div",{ref:this.containerElement,children:d.Children.only(this.props.children)})}}ne(yL,"contextType",Xe);var dS={onPlaceChanged:"place_changed"},hS={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class vL extends d.PureComponent{constructor(){super(...arguments),ne(this,"registeredEvents",[]),ne(this,"containerElement",d.createRef()),ne(this,"state",{autocomplete:null}),ne(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;yn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=tt({updaterMap:hS,eventMap:dS,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:hS,eventMap:dS,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&nt(this.registeredEvents)}render(){return o.jsx("div",{ref:this.containerElement,className:this.props.className,children:d.Children.only(this.props.children)})}}ne(vL,"defaultProps",{className:""});ne(vL,"contextType",Xe);const qd=({isOpen:t,onClose:e,onLocationSelect:n,currentLocation:r})=>{const{isDarkMode:s}=en(),[i,a]=d.useState(null),[l,c]=d.useState(""),[u,h]=d.useState(!1),[p,m]=d.useState([]),[g,v]=d.useState(!1);d.useRef(null);const[y,b]=d.useState(null),[w,x]=d.useState(""),N=d.useRef(null);d.useEffect(()=>{t&&(r?a(r):I())},[t,r]);const I=async()=>{h(!0);try{if(navigator.geolocation){const k=await new Promise((R,H)=>{navigator.geolocation.getCurrentPosition(R,H,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),P={lat:k.coords.latitude,lng:k.coords.longitude};a(P),$.success("Current location detected!")}else throw new Error("Geolocation not supported")}catch(k){console.error("Error getting location:",k),k instanceof GeolocationPositionError?k.code===1?$.error("Location access denied. Please enable location permissions."):k.code===2?$.error("Location unavailable. Please check your GPS settings."):k.code===3&&$.error("Location request timed out. Please try again."):$.error("Could not get your location. Please click on the map to select your location."),a({lat:22.5726,lng:88.3639})}finally{h(!1)}},A=async(k,P)=>{try{const H=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${k}&lon=${P}&zoom=18&addressdetails=1`)).json();H.display_name&&c(H.display_name)}catch(R){console.error("Error reverse geocoding:",R),c(`Lat: ${k.toFixed(6)}, Lng: ${P.toFixed(6)}`)}},L=()=>{i&&l?(n({lat:i.lat,lng:i.lng,address:l}),e()):$.error("Please select a valid location")};d.useEffect(()=>{const k=P=>{v(!1)};return g&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[g]);const C="AIzaSyC0aUsBjWppu-5sSvme3Zz66Ts9aFKOYRs",_={width:"100%",height:"300px"},j={lat:22.5726,lng:88.3639},{isLoaded:T}=aL({googleMapsApiKey:C,libraries:["places"]});return o.jsx(Ms,{open:t,onOpenChange:e,children:o.jsxs(us,{className:`max-w-2xl w-full ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsxs(ds,{children:[o.jsx(hr,{className:`text-xl font-bold ${s?"text-white":"text-gray-900"}`,children:"Select Delivery Location"}),o.jsx(hs,{className:s?"text-gray-400":"text-gray-600",children:"Click on the map or drag the marker to your exact delivery location"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"relative flex-1",children:T&&o.jsx(yL,{onLoad:k=>b(k),onPlacesChanged:()=>{if(y){const k=y.getPlaces();if(k&&k.length>0){const P=k[0];if(P.geometry&&P.geometry.location){const R=P.geometry.location.lat(),H=P.geometry.location.lng();a({lat:R,lng:H}),c(P.formatted_address||P.name||"")}}}},options:{componentRestrictions:{country:"in"}},children:o.jsx(Ve,{ref:N,placeholder:"Search for an address...",className:`w-full ${s?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}`,autoComplete:"off"})})}),o.jsx(F,{onClick:()=>{i&&A(i.lat,i.lng)},disabled:u,className:"bg-orange-500 hover:bg-orange-600 text-white",children:u?o.jsx(Ls,{className:"w-4 h-4 animate-spin"}):o.jsx(rn,{className:"w-4 h-4"})})]}),o.jsxs(F,{onClick:I,disabled:u,variant:"outline",className:`w-full ${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(r0,{className:"w-4 h-4 mr-2"}),u?"Getting location...":"Use Current Location"]}),o.jsxs("div",{className:"relative border rounded-lg overflow-hidden",children:[T&&o.jsx(nL,{mapContainerStyle:_,center:i||j,zoom:15,onClick:k=>{var H,Z;const P=(H=k.latLng)==null?void 0:H.lat(),R=(Z=k.latLng)==null?void 0:Z.lng();P&&R&&(a({lat:P,lng:R}),A(P,R))},options:{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1},children:i&&o.jsx(wp,{position:i,draggable:!0,onDragEnd:k=>{var H,Z;const P=(H=k.latLng)==null?void 0:H.lat(),R=(Z=k.latLng)==null?void 0:Z.lng();P&&R&&(a({lat:P,lng:R}),A(P,R))}})}),o.jsxs("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 text-xs",children:[o.jsx("p",{className:"font-medium",children:"Map Instructions:"}),o.jsx("p",{children:" Click anywhere to place marker"}),o.jsx("p",{children:" Drag the marker to move it"})]}),i&&o.jsxs("div",{className:`absolute bottom-2 left-2 right-2 p-2 rounded ${s?"bg-gray-800 text-white":"bg-white text-gray-900"} shadow-lg`,children:[o.jsx("p",{className:"text-xs font-medium",children:"Selected Location:"}),o.jsx("p",{className:"text-xs opacity-75 mb-1",children:l||"Address not available"}),o.jsxs("p",{className:"text-xs opacity-75 font-mono",children:[" Lat: ",i.lat.toFixed(6),", Lng: ",i.lng.toFixed(6)]})]})]}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsxs(F,{variant:"outline",onClick:e,className:`${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Cancel"]}),o.jsxs(F,{onClick:L,disabled:!i,className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(Tm,{className:"w-4 h-4 mr-2"}),"Confirm Location"]})]})]})]})})},xc=()=>{const[t,e]=d.useState({isBanned:!1,isLoading:!0}),[n,r]=d.useState(null),s=async a=>{var l,c;try{const u=await ba(kt(Ue,"users",a));if(u.exists()){const h=u.data(),p=h.isBanned||!1,m=h.banReason||"",g=(l=h.banDate)==null?void 0:l.toDate(),v=(c=h.banExpiry)==null?void 0:c.toDate();let y=p;v&&new Date>v&&(y=!1,await i(a,!1)),e({isBanned:y,banReason:m,banDate:g,banExpiry:v,isLoading:!1}),y&&$.error(`Your account has been suspended. Reason: ${m||"Violation of terms of service"}`)}else e({isBanned:!1,isLoading:!1})}catch(u){console.error("Error checking ban status:",u),e({isBanned:!1,isLoading:!1})}},i=async(a,l,c,u)=>{try{const h=kt(Ue,"users",a);await er(h,{isBanned:l,banReason:c||"",banDate:l?new Date:null,banExpiry:u||null,updatedAt:new Date})}catch(h){console.error("Error updating ban status:",h)}};return d.useEffect(()=>{const a=Id(wt,l=>{if(r(l),l){s(l.uid);const c=kt(Ue,"users",l.uid),u=R2(c,h=>{var p,m;if(h.exists()){const g=h.data(),v=g.isBanned||!1,y=g.banReason||"",b=(p=g.banDate)==null?void 0:p.toDate(),w=(m=g.banExpiry)==null?void 0:m.toDate();let x=v;w&&new Date>w&&(x=!1,i(l.uid,!1)),e({isBanned:x,banReason:y,banDate:b,banExpiry:w,isLoading:!1}),x&&$.error(`Your account has been suspended. Reason: ${y||"Violation of terms of service"}`)}else e({isBanned:!1,isLoading:!1})});return()=>u()}else e({isBanned:!1,isLoading:!1})});return()=>a()},[]),d.useEffect(()=>{if(!n)return;const a=setInterval(()=>{s(n.uid)},6e4);return()=>clearInterval(a)},[n]),{banStatus:t,user:n,checkBanStatus:()=>n&&s(n.uid),updateBanStatus:(a,l,c)=>n&&i(n.uid,a,l,c)}};function ob(t){const e=d.useRef({value:t,previous:t});return d.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ab="Radio",[$Q,xL]=Kn(ab),[UQ,zQ]=$Q(ab),wL=d.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:a,value:l="on",onCheck:c,form:u,...h}=t,[p,m]=d.useState(null),g=et(e,b=>m(b)),v=d.useRef(!1),y=p?u||!!p.closest("form"):!0;return o.jsxs(UQ,{scope:n,checked:s,disabled:a,children:[o.jsx(Re.button,{type:"button",role:"radio","aria-checked":s,"data-state":CL(s),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:g,onClick:ye(t.onClick,b=>{s||c==null||c(),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&o.jsx(NL,{control:p,bubbles:!v.current,name:r,value:l,checked:s,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});wL.displayName=ab;var bL="RadioIndicator",EL=d.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=zQ(bL,n);return o.jsx(xr,{present:r||i.checked,children:o.jsx(Re.span,{"data-state":CL(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});EL.displayName=bL;var BQ="RadioBubbleInput",NL=d.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=d.useRef(null),l=et(a,i),c=ob(n),u=kx(e);return d.useEffect(()=>{const h=a.current;if(!h)return;const p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&g){const v=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(v)}},[c,n,r]),o.jsx(Re.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});NL.displayName=BQ;function CL(t){return t?"checked":"unchecked"}var HQ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Zm="RadioGroup",[WQ,NX]=Kn(Zm,[yc,xL]),_L=yc(),SL=xL(),[qQ,GQ]=WQ(Zm),jL=d.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:p,...m}=t,g=_L(n),v=gc(u),[y,b]=Gr({prop:i,defaultProp:s??null,onChange:p,caller:Zm});return o.jsx(qQ,{scope:n,name:r,required:a,disabled:l,value:y,onValueChange:b,children:o.jsx(Uw,{asChild:!0,...g,orientation:c,dir:v,loop:h,children:o.jsx(Re.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...m,ref:e})})})});jL.displayName=Zm;var kL="RadioGroupItem",IL=d.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=GQ(kL,n),a=i.disabled||r,l=_L(n),c=SL(n),u=d.useRef(null),h=et(e,u),p=i.value===s.value,m=d.useRef(!1);return d.useEffect(()=>{const g=y=>{HQ.includes(y.key)&&(m.current=!0)},v=()=>m.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),o.jsx(zw,{asChild:!0,...l,focusable:!a,active:p,children:o.jsx(wL,{disabled:a,required:i.required,checked:p,...c,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:ye(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:ye(s.onFocus,()=>{var g;m.current&&((g=u.current)==null||g.click())})})})});IL.displayName=kL;var KQ="RadioGroupIndicator",PL=d.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=SL(n);return o.jsx(EL,{...s,...r,ref:e})});PL.displayName=KQ;var TL=jL,AL=IL,QQ=PL;const h0=d.forwardRef(({className:t,...e},n)=>o.jsx(TL,{className:Ae("grid gap-2",t),...e,ref:n}));h0.displayName=TL.displayName;const ru=d.forwardRef(({className:t,...e},n)=>o.jsx(AL,{ref:n,className:Ae("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(QQ,{className:"flex items-center justify-center",children:o.jsx(B2,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ru.displayName=AL.displayName;const RL=({subtotal:t,deliveryCharge:e,gstRate:n,isDarkMode:r})=>{const s=Math.round((t+e)*(n/100)),i=t+e+s;return o.jsxs("div",{className:`space-y-1 p-2 rounded-lg ${r?"bg-gray-800":"bg-gray-50"}`,children:[o.jsx("h3",{className:`font-semibold text-sm mb-1 ${r?"text-white":"text-gray-900"}`,children:"Price Breakdown"}),o.jsxs("div",{className:"grid grid-cols-2 gap-y-1 text-xs",children:[o.jsx("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:"Subtotal"}),o.jsxs("span",{className:`text-right ${r?"text-white":"text-gray-900"}`,children:["",t]}),o.jsx("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:"Delivery Charge"}),o.jsxs("span",{className:`text-right ${r?"text-white":"text-gray-900"}`,children:["",e]}),o.jsxs("span",{className:`${r?"text-gray-300":"text-gray-600"}`,children:["GST (",n,"%)"]}),o.jsxs("span",{className:`text-right ${r?"text-white":"text-gray-900"}`,children:["",s]}),o.jsx("span",{className:"col-span-2",children:o.jsx(Gw,{className:r?"bg-gray-700":"bg-gray-300"})}),o.jsx("span",{className:`font-semibold text-sm ${r?"text-white":"text-gray-900"}`,children:"Total"}),o.jsxs("span",{className:"font-bold text-base text-orange-500 text-right",children:["",i]})]}),o.jsx("div",{className:`text-[10px] mt-1 ${r?"text-gray-500":"text-gray-400"}`,children:"* Delivery charge may vary based on distance and time"})]})},Xm=({isOpen:t,onClose:e,onPlaceOrder:n,totalPrice:r,user:s})=>{const{isDarkMode:i,toggleDarkMode:a}=en(),{banStatus:l}=xc(),[c,u]=d.useState(1),[h,p]=d.useState([]),[m,g]=d.useState(null),[v,y]=d.useState("cod"),[b,w]=d.useState(0),[x,N]=d.useState(""),[I,A]=d.useState(!1),[L,C]=d.useState(""),[_,j]=d.useState(!1),[T,k]=d.useState(!1),[P,R]=d.useState(null),[H,Z]=d.useState({name:"",phone:"",landmark:""}),[G,te]=d.useState({name:"",phone:"",landmark:""}),O=r>299?0:40,D=5,V=Math.round((r+O)*(D/100)),U=r+O+V+b;d.useEffect(()=>{t&&l.isBanned&&($.error("Your account has been suspended. You cannot place orders."),e())},[t,l.isBanned,e]),d.useEffect(()=>{t&&s?z(s.uid):(u(1),g(null),y("cod"),w(0),N(""),C(""),j(!1),k(!1),R(null))},[t,s]);const z=async B=>{A(!0);try{const he=gn(Ue,"addresses"),Se=Rs(he,di("userId","==",B)),We=(await Rr(Se)).docs.map(qe=>{const Ke=qe.data();return{id:qe.id,type:Ke.type,name:Ke.name,address:Ke.address,city:Ke.city,state:Ke.state,pincode:Ke.pincode,phone:Ke.phone,email:Ke.email,isDefault:Ke.isDefault}});We.sort((qe,Ke)=>qe.isDefault&&!Ke.isDefault?-1:!qe.isDefault&&Ke.isDefault?1:0),p(We),We.length>0&&g(We.find(qe=>qe.isDefault)||We[0])}catch(he){console.error("Error loading addresses: ",he),$.error("Failed to load addresses.")}finally{A(!1)}},Q=B=>{w(B),N("")},se=B=>{const he=B.target.value;N(he),w(Number(he)||0)},W=B=>{const Se=B.target.value.replace(/\D/g,"").slice(0,10);C(Se)},ge=async()=>{if(!m||!L||L.length!==10){$.error("Please enter a valid 10-digit phone number.");return}try{await er(kt(Ue,"addresses",m.id),{phone:L});const B={...m,phone:L};g(B),p(he=>he.map(Se=>Se.id===m.id?B:Se)),j(!1),C(""),$.success("Phone number added successfully!"),u(2)}catch(B){console.error("Error saving phone number:",B),$.error("Failed to save phone number. Please try again.")}},X=()=>{if(P&&!m){let B={name:"",phone:"",landmark:""};if(H.name.trim()||(B.name="Name is required"),H.phone.match(/^\d{10}$/)||(B.phone="Valid 10-digit phone required"),H.landmark.trim()||(B.landmark="Landmark is required"),te(B),B.name||B.phone||B.landmark)return}if(!m&&!P){$.error("Please select a delivery address or location.");return}if(m&&(!m.phone||m.phone.trim()==="")){j(!0),C(m.phone||"");return}u(2)},ce=async()=>{if(P&&!m){let B={name:"",phone:"",landmark:""};if(H.name.trim()||(B.name="Name is required"),H.phone.match(/^\d{10}$/)||(B.phone="Valid 10-digit phone required"),H.landmark.trim()||(B.landmark="Landmark is required"),te(B),B.name||B.phone||B.landmark)return;const he={type:"other",name:H.name,address:P.address,city:"",state:"",pincode:"",phone:H.phone,email:(s==null?void 0:s.email)||"",isDefault:!0,landmark:H.landmark,userId:s==null?void 0:s.uid,createdAt:new Date};try{const Se=gn(Ue,"addresses"),be=Rs(Se,di("userId","==",s.uid)),qe=(await Rr(be)).docs.map(Nt=>er(kt(Ue,"addresses",Nt.id),{isDefault:!1}));await Promise.all(qe);const Ke=await Ks(Se,he),st={...he,id:Ke.id};await z(s.uid),g(st),$.success("Location saved as your default address!"),n({address:st,paymentMethod:v,tip:b,finalTotal:U,location:P})}catch{$.error("Failed to save address. Please try again.");return}return}if(!m){$.error("Please select a delivery address."),u(1);return}if(!m.phone||m.phone.trim()===""){j(!0),C(m.phone||"");return}n({address:m,paymentMethod:v,tip:b,finalTotal:U,location:P})},xe=B=>{R(B),g(null),k(!1),$.success("Location selected successfully!")},Y=B=>{switch(B){case"home":return o.jsx(q2,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(F2,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(hp,{className:"w-5 h-5 text-gray-500"})}},J=()=>{if(_)return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(hr,{className:`text-xl font-bold mb-2 ${i?"text-white":"text-gray-800"}`,children:"Add Phone Number"}),o.jsx(hs,{className:i?"text-gray-400":"text-gray-600",children:"Please add a phone number to your selected address to continue with the order"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:`p-4 border rounded-lg ${i?"border-gray-600 bg-gray-700":"border-gray-200 bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Y((m==null?void 0:m.type)||""),o.jsx("h3",{className:`font-semibold capitalize ${i?"text-white":"text-gray-900"}`,children:m==null?void 0:m.type}),(m==null?void 0:m.isDefault)&&o.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),o.jsx("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:`${m==null?void 0:m.name}, ${m==null?void 0:m.address}, ${m==null?void 0:m.city}, ${m==null?void 0:m.state} - ${m==null?void 0:m.pincode}`})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Me,{htmlFor:"phone",className:`block text-sm font-medium ${i?"text-white":"text-gray-700"}`,children:"Phone Number *"}),o.jsxs("div",{className:"relative",children:[o.jsx(yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx(Ve,{id:"phone",type:"tel",placeholder:"Enter 10-digit phone number",value:L,onChange:W,className:`pl-10 h-12 text-base ${i?"bg-gray-700 text-white border-gray-600 placeholder-gray-400":"bg-white text-gray-900 border-gray-300"}`,maxLength:10})]}),o.jsx("p",{className:`text-xs ${i?"text-gray-400":"text-gray-500"}`,children:"This number will be used for delivery updates"})]})]})]});switch(c){case 1:return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(hr,{className:`text-xl font-bold mb-2 ${i?"text-white":"text-gray-800"}`,children:"Select Delivery Address"}),o.jsx(hs,{className:i?"text-gray-400":"text-gray-600",children:"Choose where you'd like your order delivered"})]}),o.jsxs(F,{onClick:()=>k(!0),variant:"outline",className:`w-full ${i?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),P?"Change Location":"Set Delivery Location"]}),P&&o.jsxs("div",{className:`p-3 border rounded-lg ${i?"border-gray-600 bg-gray-700":"border-gray-200 bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(rn,{className:"w-4 h-4 text-orange-500"}),o.jsx("span",{className:`text-sm font-medium ${i?"text-white":"text-gray-900"}`,children:"Selected Location"})]}),o.jsx("p",{className:`text-xs ${i?"text-gray-400":"text-gray-600"} mb-1`,children:P.address}),o.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:[" Lat: ",P.lat.toFixed(6),", Lng: ",P.lng.toFixed(6)]})]}),P&&!m&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(Me,{htmlFor:"map-name",className:`block text-sm font-medium ${i?"text-white":"text-gray-700"}`,children:"Full Name *"}),o.jsx(Ve,{id:"map-name",value:H.name,onChange:B=>Z(he=>({...he,name:B.target.value})),placeholder:"Enter your full name",className:i?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}),G.name&&o.jsx("p",{className:"text-red-500 text-xs",children:G.name}),o.jsx(Me,{htmlFor:"map-phone",className:`block text-sm font-medium ${i?"text-white":"text-gray-700"}`,children:"Phone Number *"}),o.jsx(Ve,{id:"map-phone",value:H.phone,onChange:B=>Z(he=>({...he,phone:B.target.value.replace(/\D/g,"").slice(0,10)})),placeholder:"Enter 10-digit phone number",maxLength:10,className:i?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}),G.phone&&o.jsx("p",{className:"text-red-500 text-xs",children:G.phone}),o.jsx(Me,{htmlFor:"map-landmark",className:`block text-sm font-medium ${i?"text-white":"text-gray-700"}`,children:"Landmark *"}),o.jsx(Ve,{id:"map-landmark",value:H.landmark,onChange:B=>Z(he=>({...he,landmark:B.target.value})),placeholder:"Enter a nearby landmark",className:i?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}),G.landmark&&o.jsx("p",{className:"text-red-500 text-xs",children:G.landmark})]}),I?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):o.jsx(h0,{value:m==null?void 0:m.id,onValueChange:B=>g(h.find(he=>he.id===B)||null),children:o.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:h.map(B=>o.jsxs(Me,{htmlFor:B.id,className:`flex items-start space-x-3 p-4 border rounded-xl cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(ru,{value:B.id,id:B.id,className:"mt-1"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Y(B.type),o.jsx("h3",{className:`font-semibold capitalize ${i?"text-white":"text-gray-900"}`,children:B.type}),B.isDefault&&o.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),o.jsx("p",{className:`text-sm leading-relaxed ${i?"text-gray-400":"text-gray-600"}`,children:`${B.name}, ${B.address}, ${B.city}, ${B.state} - ${B.pincode}`}),B.phone&&o.jsxs("p",{className:`text-xs mt-1 ${i?"text-gray-400":"text-gray-500"}`,children:[" ",B.phone]}),!B.phone&&o.jsx("p",{className:"text-xs mt-1 text-orange-500",children:" Phone number required"})]})]},B.id))})}),h.length===0&&!I&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:`mb-4 ${i?"text-gray-400":"text-gray-500"}`,children:"No addresses found"}),o.jsx(F,{variant:"outline",onClick:()=>window.location.href="/address",className:"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Add New Address"})]})]});case 2:return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(hr,{className:`text-xl font-bold mb-0 ${i?"text-white":"text-gray-800"}`,children:"Payment & Tip"}),o.jsx(hs,{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:"Choose your payment method and add a tip"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{children:[o.jsx("h4",{className:`font-semibold mb-1 text-base ${i?"text-white":"text-gray-900"}`,children:"Payment Method"}),o.jsx(h0,{value:v,onValueChange:y,children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Me,{htmlFor:"cod",className:`flex items-center gap-2 p-2 border rounded cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(ru,{value:"cod",id:"cod"}),o.jsx(FH,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`font-medium text-sm leading-tight ${i?"text-white":"text-gray-800"}`,children:"Cash on Delivery"}),o.jsx("span",{className:`text-xs leading-tight ${i?"text-gray-400":"text-gray-500"}`,children:"Pay when you receive your order"})]})]}),o.jsxs(Me,{htmlFor:"upi",className:`flex items-center gap-2 p-2 border rounded cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(ru,{value:"upi",id:"upi"}),o.jsx(jH,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`font-medium text-sm leading-tight ${i?"text-white":"text-gray-800"}`,children:"UPI"}),o.jsx("span",{className:`text-xs leading-tight ${i?"text-gray-400":"text-gray-500"}`,children:"Pay using UPI apps"})]})]}),o.jsxs(Me,{htmlFor:"card",className:`flex items-center gap-2 p-2 border rounded cursor-pointer hover:border-orange-500 transition-colors ${i?"border-gray-700 bg-gray-700":"border-gray-200 bg-white"}`,children:[o.jsx(ru,{value:"card",id:"card"}),o.jsx(EH,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`font-medium text-sm leading-tight ${i?"text-white":"text-gray-800"}`,children:"Credit/Debit Card"}),o.jsx("span",{className:`text-xs leading-tight ${i?"text-gray-400":"text-gray-500"}`,children:"Pay with your card"})]})]})]})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:`font-semibold text-xs ${i?"text-white":"text-gray-900"}`,children:"Add a Tip"}),o.jsx("span",{className:`text-[11px] ${i?"text-gray-400":"text-gray-600"}`,children:"Show appreciation to your delivery partner"}),o.jsx("div",{className:"grid grid-cols-3 gap-1 mb-1",children:[10,20,50].map(B=>o.jsxs(F,{variant:b===B?"default":"outline",onClick:()=>Q(B),className:`h-8 text-sm px-2 ${b===B?"bg-orange-500 hover:bg-orange-600 text-white":"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white"}`,children:["",B]},B))}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ve,{type:"number",placeholder:"Custom amount",value:x,onChange:se,className:`flex-1 h-8 text-sm px-2 ${i?"bg-gray-700 text-white border-gray-600 placeholder-gray-400":"bg-white text-gray-900 border-gray-300"}`}),o.jsx("span",{className:`text-sm ${i?"text-gray-400":"text-gray-500"}`,children:""})]})]})]})]});default:return null}};return o.jsxs(o.Fragment,{children:[o.jsx(Ms,{open:t,onOpenChange:e,children:o.jsx(us,{className:`max-w-xl w-full sm:w-[90vw] h-screen max-h-screen p-0 overflow-hidden rounded-2xl shadow-2xl ${i?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:o.jsxs("div",{className:"flex flex-col h-full max-h-screen",children:[o.jsx(ds,{className:"px-4 pt-4 pb-2 sm:px-8 sm:pt-6 sm:pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(hr,{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:_?"Add Phone Number":"Checkout"}),o.jsx(hs,{className:i?"text-gray-400":"text-gray-600",children:_?"Required for delivery":`Step ${c} of 2`})]}),o.jsx(F,{variant:"ghost",size:"icon",onClick:a,className:i?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:i?o.jsx(vr,{className:"w-5 h-5"}):o.jsx(tr,{className:"w-5 h-5"})})]})}),o.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto scrollbar-none px-4 pb-20 pt-2 sm:px-8 sm:pb-16",style:{scrollbarWidth:"none"},children:J()}),o.jsxs("div",{className:`sticky bottom-0 left-0 right-0 z-20 px-4 pt-3 pb-3 border-t shadow-lg rounded-b-2xl ${i?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} sm:px-8`,children:[!_&&o.jsx("div",{className:"mb-2",children:o.jsx(RL,{subtotal:r,deliveryCharge:O,gstRate:D,isDarkMode:i})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[!_&&o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:["Total: ",o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["",U.toFixed(2)]})]})}),o.jsx("div",{className:"flex space-x-3",children:_?o.jsxs(o.Fragment,{children:[o.jsxs(F,{variant:"outline",onClick:()=>j(!1),className:`${i?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} min-h-[44px] min-w-[100px]`,children:[o.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsxs(F,{onClick:ge,disabled:L.length!==10,className:"bg-orange-500 hover:bg-orange-600 text-white min-h-[44px] min-w-[120px] text-base disabled:opacity-50",children:["Save & Continue",o.jsx(dp,{className:"w-4 h-4 ml-2"})]})]}):o.jsxs(o.Fragment,{children:[c>1&&o.jsxs(F,{variant:"outline",onClick:()=>u(c-1),className:`${i?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} min-h-[44px] min-w-[100px]`,children:[o.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Back"]}),c<2?o.jsxs(F,{onClick:X,disabled:!(m||P),className:"bg-orange-500 hover:bg-orange-600 text-white min-h-[44px] min-w-[120px] text-base",children:["Continue",o.jsx(dp,{className:"w-4 h-4 ml-2"})]}):o.jsx(F,{onClick:ce,className:"bg-orange-500 hover:bg-orange-600 text-white min-h-[44px] min-w-[120px] text-base",children:"Place Order"})]})})]})]})]})})}),o.jsx(qd,{isOpen:T,onClose:()=>k(!1),onLocationSelect:xe,currentLocation:P?{lat:P.lat,lng:P.lng}:void 0})]})};function YQ(t){return Object.prototype.toString.call(t)==="[object Object]"}function fS(t){return YQ(t)||Array.isArray(t)}function ZQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function lb(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:n.every(a=>{const l=t[a],c=e[a];return typeof l=="function"?`${l}`==`${c}`:!fS(l)||!fS(c)?l===c:lb(l,c)})}function pS(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function XQ(t,e){if(t.length!==e.length)return!1;const n=pS(t),r=pS(e);return n.every((s,i)=>{const a=r[i];return lb(s,a)})}function cb(t){return typeof t=="number"}function f0(t){return typeof t=="string"}function Jm(t){return typeof t=="boolean"}function mS(t){return Object.prototype.toString.call(t)==="[object Object]"}function Bt(t){return Math.abs(t)}function ub(t){return Math.sign(t)}function Su(t,e){return Bt(t-e)}function JQ(t,e){if(t===0||e===0||Bt(t)<=Bt(e))return 0;const n=Su(Bt(t),Bt(e));return Bt(n/t)}function eY(t){return Math.round(t*100)/100}function dd(t){return hd(t).map(Number)}function ms(t){return t[Gd(t)]}function Gd(t){return Math.max(0,t.length-1)}function db(t,e){return e===Gd(t)}function gS(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function hd(t){return Object.keys(t)}function LL(t,e){return[t,e].reduce((n,r)=>(hd(r).forEach(s=>{const i=n[s],a=r[s],l=mS(i)&&mS(a);n[s]=l?LL(i,a):a}),n),{})}function p0(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function tY(t,e){const n={start:r,center:s,end:i};function r(){return 0}function s(c){return i(c)/2}function i(c){return e-c}function a(c,u){return f0(t)?n[t](c):t(e,c,u)}return{measure:a}}function fd(){let t=[];function e(s,i,a,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,a,l),c=()=>s.removeEventListener(i,a,l);else{const u=s;u.addListener(a),c=()=>u.removeListener(a)}return t.push(c),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function nY(t,e,n,r){const s=fd(),i=1e3/60;let a=null,l=0,c=0;function u(){s.add(t,"visibilitychange",()=>{t.hidden&&v()})}function h(){g(),s.clear()}function p(b){if(!c)return;a||(a=b,n(),n());const w=b-a;for(a=b,l+=w;l>=i;)n(),l-=i;const x=l/i;r(x),c&&(c=e.requestAnimationFrame(p))}function m(){c||(c=e.requestAnimationFrame(p))}function g(){e.cancelAnimationFrame(c),a=null,l=0,c=0}function v(){a=null,l=0}return{init:u,destroy:h,start:m,stop:g,update:n,render:r}}function rY(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",i=r?"x":"y",a=!r&&n?-1:1,l=h(),c=p();function u(v){const{height:y,width:b}=v;return r?y:b}function h(){return r?"top":n?"right":"left"}function p(){return r?"bottom":n?"left":"right"}function m(v){return v*a}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:m}}function Na(t=0,e=0){const n=Bt(t-e);function r(u){return u<t}function s(u){return u>e}function i(u){return r(u)||s(u)}function a(u){return i(u)?r(u)?t:e:u}function l(u){return n?u-n*Math.ceil((u-e)/n):u}return{length:n,max:e,min:t,constrain:a,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:l}}function ML(t,e,n){const{constrain:r}=Na(0,t),s=t+1;let i=a(e);function a(m){return n?Bt((s+m)%s):r(m)}function l(){return i}function c(m){return i=a(m),p}function u(m){return h().set(l()+m)}function h(){return ML(t,l(),n)}const p={get:l,set:c,add:u,clone:h};return p}function sY(t,e,n,r,s,i,a,l,c,u,h,p,m,g,v,y,b,w,x){const{cross:N,direction:I}=t,A=["INPUT","SELECT","TEXTAREA"],L={passive:!1},C=fd(),_=fd(),j=Na(50,225).constrain(g.measure(20)),T={mouse:300,touch:400},k={mouse:500,touch:600},P=v?43:25;let R=!1,H=0,Z=0,G=!1,te=!1,O=!1,D=!1;function V(B){if(!x)return;function he(be){(Jm(x)||x(B,be))&&ge(be)}const Se=e;C.add(Se,"dragstart",be=>be.preventDefault(),L).add(Se,"touchmove",()=>{},L).add(Se,"touchend",()=>{}).add(Se,"touchstart",he).add(Se,"mousedown",he).add(Se,"touchcancel",ce).add(Se,"contextmenu",ce).add(Se,"click",xe,!0)}function U(){C.clear(),_.clear()}function z(){const B=D?n:e;_.add(B,"touchmove",X,L).add(B,"touchend",ce).add(B,"mousemove",X,L).add(B,"mouseup",ce)}function Q(B){const he=B.nodeName||"";return A.includes(he)}function se(){return(v?k:T)[D?"mouse":"touch"]}function W(B,he){const Se=p.add(ub(B)*-1),be=h.byDistance(B,!v).distance;return v||Bt(B)<j?be:b&&he?be*.5:h.byIndex(Se.get(),0).distance}function ge(B){const he=p0(B,r);D=he,O=v&&he&&!B.buttons&&R,R=Su(s.get(),a.get())>=2,!(he&&B.button!==0)&&(Q(B.target)||(G=!0,i.pointerDown(B),u.useFriction(0).useDuration(0),s.set(a),z(),H=i.readPoint(B),Z=i.readPoint(B,N),m.emit("pointerDown")))}function X(B){if(!p0(B,r)&&B.touches.length>=2)return ce(B);const Se=i.readPoint(B),be=i.readPoint(B,N),We=Su(Se,H),qe=Su(be,Z);if(!te&&!D&&(!B.cancelable||(te=We>qe,!te)))return ce(B);const Ke=i.pointerMove(B);We>y&&(O=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(I(Ke)),B.preventDefault()}function ce(B){const Se=h.byDistance(0,!1).index!==p.get(),be=i.pointerUp(B)*se(),We=W(I(be),Se),qe=JQ(be,We),Ke=P-10*qe,st=w+qe/50;te=!1,G=!1,_.clear(),u.useDuration(Ke).useFriction(st),c.distance(We,!v),D=!1,m.emit("pointerUp")}function xe(B){O&&(B.stopPropagation(),B.preventDefault(),O=!1)}function Y(){return G}return{init:V,destroy:U,pointerDown:Y}}function iY(t,e){let r,s;function i(p){return p.timeStamp}function a(p,m){const v=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(p0(p,e)?p:p.touches[0])[v]}function l(p){return r=p,s=p,a(p)}function c(p){const m=a(p)-a(s),g=i(p)-i(r)>170;return s=p,g&&(r=p),m}function u(p){if(!r||!s)return 0;const m=a(s)-a(r),g=i(p)-i(r),v=i(p)-i(s)>170,y=m/g;return g&&!v&&Bt(y)>.1?y:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:a}}function oY(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:a}=n;return{top:r,right:s+i,bottom:r+a,left:s,width:i,height:a}}return{measure:t}}function aY(t){function e(r){return t*(r/100)}return{measure:e}}function lY(t,e,n,r,s,i,a){const l=[t].concat(r);let c,u,h=[],p=!1;function m(b){return s.measureSize(a.measure(b))}function g(b){if(!i)return;u=m(t),h=r.map(m);function w(x){for(const N of x){if(p)return;const I=N.target===t,A=r.indexOf(N.target),L=I?u:h[A],C=m(I?t:r[A]);if(Bt(C-L)>=.5){b.reInit(),e.emit("resize");break}}}c=new ResizeObserver(x=>{(Jm(i)||i(b,x))&&w(x)}),n.requestAnimationFrame(()=>{l.forEach(x=>c.observe(x))})}function v(){p=!0,c&&c.disconnect()}return{init:g,destroy:v}}function cY(t,e,n,r,s,i){let a=0,l=0,c=s,u=i,h=t.get(),p=0;function m(){const L=r.get()-t.get(),C=!c;let _=0;return C?(a=0,n.set(r),t.set(r),_=L):(n.set(t),a+=L/c,a*=u,h+=a,t.add(a),_=h-p),l=ub(_),p=h,A}function g(){const L=r.get()-e.get();return Bt(L)<.001}function v(){return c}function y(){return l}function b(){return a}function w(){return N(s)}function x(){return I(i)}function N(L){return c=L,A}function I(L){return u=L,A}const A={direction:y,duration:v,velocity:b,seek:m,settled:g,useBaseFriction:x,useBaseDuration:w,useFriction:I,useDuration:N};return A}function uY(t,e,n,r,s){const i=s.measure(10),a=s.measure(50),l=Na(.1,.99);let c=!1;function u(){return!(c||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function h(g){if(!u())return;const v=t.reachedMin(e.get())?"min":"max",y=Bt(t[v]-e.get()),b=n.get()-e.get(),w=l.constrain(y/a);n.subtract(b*w),!g&&Bt(b)<i&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function p(g){c=!g}return{shouldConstrain:u,constrain:h,toggleActive:p}}function dY(t,e,n,r,s){const i=Na(-e+t,0),a=p(),l=h(),c=m();function u(v,y){return Su(v,y)<=1}function h(){const v=a[0],y=ms(a),b=a.lastIndexOf(v),w=a.indexOf(y)+1;return Na(b,w)}function p(){return n.map((v,y)=>{const{min:b,max:w}=i,x=i.constrain(v),N=!y,I=db(n,y);return N?w:I||u(b,x)?b:u(w,x)?w:x}).map(v=>parseFloat(v.toFixed(3)))}function m(){if(e<=t+s)return[i.max];if(r==="keepSnaps")return a;const{min:v,max:y}=l;return a.slice(v,y)}return{snapsContained:c,scrollContainLimit:l}}function hY(t,e,n){const r=e[0],s=n?r-t:ms(e);return{limit:Na(s,r)}}function fY(t,e,n,r){const i=e.min+.1,a=e.max+.1,{reachedMin:l,reachedMax:c}=Na(i,a);function u(m){return m===1?c(n.get()):m===-1?l(n.get()):!1}function h(m){if(!u(m))return;const g=t*(m*-1);r.forEach(v=>v.add(g))}return{loop:h}}function pY(t){const{max:e,length:n}=t;function r(i){const a=i-e;return n?a/-n:0}return{get:r}}function mY(t,e,n,r,s){const{startEdge:i,endEdge:a}=t,{groupSlides:l}=s,c=p().map(e.measure),u=m(),h=g();function p(){return l(r).map(y=>ms(y)[a]-y[0][i]).map(Bt)}function m(){return r.map(y=>n[i]-y[i]).map(y=>-Bt(y))}function g(){return l(u).map(y=>y[0]).map((y,b)=>y+c[b])}return{snaps:u,snapsAligned:h}}function gY(t,e,n,r,s,i){const{groupSlides:a}=s,{min:l,max:c}=r,u=h();function h(){const m=a(i),g=!t||e==="keepSnaps";return n.length===1?[i]:g?m:m.slice(l,c).map((v,y,b)=>{const w=!y,x=db(b,y);if(w){const N=ms(b[0])+1;return gS(N)}if(x){const N=Gd(i)-ms(b)[0]+1;return gS(N,ms(b)[0])}return v})}return{slideRegistry:u}}function yY(t,e,n,r,s){const{reachedAny:i,removeOffset:a,constrain:l}=r;function c(v){return v.concat().sort((y,b)=>Bt(y)-Bt(b))[0]}function u(v){const y=t?a(v):l(v),b=e.map((x,N)=>({diff:h(x-y,0),index:N})).sort((x,N)=>Bt(x.diff)-Bt(N.diff)),{index:w}=b[0];return{index:w,distance:y}}function h(v,y){const b=[v,v+n,v-n];if(!t)return v;if(!y)return c(b);const w=b.filter(x=>ub(x)===y);return w.length?c(w):ms(b)-n}function p(v,y){const b=e[v]-s.get(),w=h(b,y);return{index:v,distance:w}}function m(v,y){const b=s.get()+v,{index:w,distance:x}=u(b),N=!t&&i(b);if(!y||N)return{index:w,distance:v};const I=e[w]-x,A=v+h(I,0);return{index:w,distance:A}}return{byDistance:m,byIndex:p,shortcut:h}}function vY(t,e,n,r,s,i,a){function l(p){const m=p.distance,g=p.index!==e.get();i.add(m),m&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),g&&(n.set(e.get()),e.set(p.index),a.emit("select"))}function c(p,m){const g=s.byDistance(p,m);l(g)}function u(p,m){const g=e.clone().set(p),v=s.byIndex(g.get(),m);l(v)}return{distance:c,index:u}}function xY(t,e,n,r,s,i,a,l){const c={passive:!0,capture:!0};let u=0;function h(g){if(!l)return;function v(y){if(new Date().getTime()-u>10)return;a.emit("slideFocusStart"),t.scrollLeft=0;const x=n.findIndex(N=>N.includes(y));cb(x)&&(s.useDuration(0),r.index(x,0),a.emit("slideFocus"))}i.add(document,"keydown",p,!1),e.forEach((y,b)=>{i.add(y,"focus",w=>{(Jm(l)||l(g,w))&&v(b)},c)})}function p(g){g.code==="Tab"&&(u=new Date().getTime())}return{init:h}}function su(t){let e=t;function n(){return e}function r(c){e=a(c)}function s(c){e+=a(c)}function i(c){e-=a(c)}function a(c){return cb(c)?c:c.get()}return{get:n,set:r,add:s,subtract:i}}function DL(t,e){const n=t.scroll==="x"?a:l,r=e.style;let s=null,i=!1;function a(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(i)return;const g=eY(t.direction(m));g!==s&&(r.transform=n(g),s=g)}function u(m){i=!m}function h(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:h,to:c,toggleActive:u}}function wY(t,e,n,r,s,i,a,l,c){const h=dd(s),p=dd(s).reverse(),m=w().concat(x());function g(C,_){return C.reduce((j,T)=>j-s[T],_)}function v(C,_){return C.reduce((j,T)=>g(j,_)>0?j.concat([T]):j,[])}function y(C){return i.map((_,j)=>({start:_-r[j]+.5+C,end:_+e-.5+C}))}function b(C,_,j){const T=y(_);return C.map(k=>{const P=j?0:-n,R=j?n:0,H=j?"end":"start",Z=T[k][H];return{index:k,loopPoint:Z,slideLocation:su(-1),translate:DL(t,c[k]),target:()=>l.get()>Z?P:R}})}function w(){const C=a[0],_=v(p,C);return b(_,n,!1)}function x(){const C=e-a[0]-1,_=v(h,C);return b(_,-n,!0)}function N(){return m.every(({index:C})=>{const _=h.filter(j=>j!==C);return g(_,e)<=.1})}function I(){m.forEach(C=>{const{target:_,translate:j,slideLocation:T}=C,k=_();k!==T.get()&&(j.to(k),T.set(k))})}function A(){m.forEach(C=>C.translate.clear())}return{canLoop:N,clear:A,loop:I,loopPoints:m}}function bY(t,e,n){let r,s=!1;function i(c){if(!n)return;function u(h){for(const p of h)if(p.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(h=>{s||(Jm(n)||n(c,h))&&u(h)}),r.observe(t,{childList:!0})}function a(){r&&r.disconnect(),s=!0}return{init:i,destroy:a}}function EY(t,e,n,r){const s={};let i=null,a=null,l,c=!1;function u(){l=new IntersectionObserver(v=>{c||(v.forEach(y=>{const b=e.indexOf(y.target);s[b]=y}),i=null,a=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>l.observe(v))}function h(){l&&l.disconnect(),c=!0}function p(v){return hd(s).reduce((y,b)=>{const w=parseInt(b),{isIntersecting:x}=s[w];return(v&&x||!v&&!x)&&y.push(w),y},[])}function m(v=!0){if(v&&i)return i;if(!v&&a)return a;const y=p(v);return v&&(i=y),v||(a=y),y}return{init:u,destroy:h,get:m}}function NY(t,e,n,r,s,i){const{measureSize:a,startEdge:l,endEdge:c}=t,u=n[0]&&s,h=v(),p=y(),m=n.map(a),g=b();function v(){if(!u)return 0;const x=n[0];return Bt(e[l]-x[l])}function y(){if(!u)return 0;const x=i.getComputedStyle(ms(r));return parseFloat(x.getPropertyValue(`margin-${c}`))}function b(){return n.map((x,N,I)=>{const A=!N,L=db(I,N);return A?m[N]+h:L?m[N]+p:I[N+1][l]-x[l]}).map(Bt)}return{slideSizes:m,slideSizesWithGaps:g,startGap:h,endGap:p}}function CY(t,e,n,r,s,i,a,l,c){const{startEdge:u,endEdge:h,direction:p}=t,m=cb(n);function g(w,x){return dd(w).filter(N=>N%x===0).map(N=>w.slice(N,N+x))}function v(w){return w.length?dd(w).reduce((x,N,I)=>{const A=ms(x)||0,L=A===0,C=N===Gd(w),_=s[u]-i[A][u],j=s[u]-i[N][h],T=!r&&L?p(a):0,k=!r&&C?p(l):0,P=Bt(j-k-(_+T));return I&&P>e+c&&x.push(N),C&&x.push(w.length),x},[]).map((x,N,I)=>{const A=Math.max(I[N-1]||0);return w.slice(A,x)}):[]}function y(w){return m?g(w,n):v(w)}return{groupSlides:y}}function _Y(t,e,n,r,s,i,a){const{align:l,axis:c,direction:u,startIndex:h,loop:p,duration:m,dragFree:g,dragThreshold:v,inViewThreshold:y,slidesToScroll:b,skipSnaps:w,containScroll:x,watchResize:N,watchSlides:I,watchDrag:A,watchFocus:L}=i,C=2,_=oY(),j=_.measure(e),T=n.map(_.measure),k=rY(c,u),P=k.measureSize(j),R=aY(P),H=tY(l,P),Z=!p&&!!x,G=p||!!x,{slideSizes:te,slideSizesWithGaps:O,startGap:D,endGap:V}=NY(k,j,T,n,G,s),U=CY(k,P,b,p,j,T,D,V,C),{snaps:z,snapsAligned:Q}=mY(k,H,j,T,U),se=-ms(z)+ms(O),{snapsContained:W,scrollContainLimit:ge}=dY(P,se,Q,x,C),X=Z?W:Q,{limit:ce}=hY(se,X,p),xe=ML(Gd(X),h,p),Y=xe.clone(),J=dd(n),B=({dragHandler:At,scrollBody:_t,scrollBounds:St,options:{loop:It}})=>{It||St.constrain(At.pointerDown()),_t.seek()},he=({scrollBody:At,translate:_t,location:St,offsetLocation:It,previousLocation:Gt,scrollLooper:Oe,slideLooper:re,dragHandler:Te,animation:Qe,eventHandler:Be,scrollBounds:sn,options:{loop:Rt}},Kt)=>{const Qt=At.settled(),Rn=!sn.shouldConstrain(),Pe=Rt?Qt:Qt&&Rn,Ye=Pe&&!Te.pointerDown();Ye&&Qe.stop();const ot=St.get()*Kt+Gt.get()*(1-Kt);It.set(ot),Rt&&(Oe.loop(At.direction()),re.loop()),_t.to(It.get()),Ye&&Be.emit("settle"),Pe||Be.emit("scroll")},Se=nY(r,s,()=>B(vt),At=>he(vt,At)),be=.68,We=X[xe.get()],qe=su(We),Ke=su(We),st=su(We),Nt=su(We),Ct=cY(qe,st,Ke,Nt,m,be),K=yY(p,X,se,ce,Nt),pe=vY(Se,xe,Y,Ct,K,Nt,a),de=pY(ce),it=fd(),oe=EY(e,n,a,y),{slideRegistry:we}=gY(Z,x,X,ge,U,J),je=xY(t,n,we,pe,Ct,it,a,L),vt={ownerDocument:r,ownerWindow:s,eventHandler:a,containerRect:j,slideRects:T,animation:Se,axis:k,dragHandler:sY(k,t,r,s,Nt,iY(k,s),qe,Se,pe,Ct,K,xe,a,R,g,v,w,be,A),eventStore:it,percentOfView:R,index:xe,indexPrevious:Y,limit:ce,location:qe,offsetLocation:st,previousLocation:Ke,options:i,resizeHandler:lY(e,a,s,n,k,N,_),scrollBody:Ct,scrollBounds:uY(ce,st,Nt,Ct,R),scrollLooper:fY(se,ce,st,[qe,st,Ke,Nt]),scrollProgress:de,scrollSnapList:X.map(de.get),scrollSnaps:X,scrollTarget:K,scrollTo:pe,slideLooper:wY(k,P,se,te,O,z,X,st,n),slideFocus:je,slidesHandler:bY(e,a,I),slidesInView:oe,slideIndexes:J,slideRegistry:we,slidesToScroll:U,target:Nt,translate:DL(k,e)};return vt}function SY(){let t={},e;function n(u){e=u}function r(u){return t[u]||[]}function s(u){return r(u).forEach(h=>h(e,u)),c}function i(u,h){return t[u]=r(u).concat([h]),c}function a(u,h){return t[u]=r(u).filter(p=>p!==h),c}function l(){t={}}const c={init:n,emit:s,off:a,on:i,clear:l};return c}const jY={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function kY(t){function e(i,a){return LL(i,a||{})}function n(i){const a=i.breakpoints||{},l=hd(a).filter(c=>t.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>e(c,u),{});return e(i,l)}function r(i){return i.map(a=>hd(a.breakpoints||{})).reduce((a,l)=>a.concat(l),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function IY(t){let e=[];function n(i,a){return e=a.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),e.forEach(l=>l.init(i,t)),a.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function r(){e=e.filter(i=>i.destroy())}return{init:n,destroy:r}}function jp(t,e,n){const r=t.ownerDocument,s=r.defaultView,i=kY(s),a=IY(i),l=fd(),c=SY(),{mergeOptions:u,optionsAtMedia:h,optionsMediaQueries:p}=i,{on:m,off:g,emit:v}=c,y=k;let b=!1,w,x=u(jY,jp.globalOptions),N=u(x),I=[],A,L,C;function _(){const{container:J,slides:B}=N;L=(f0(J)?t.querySelector(J):J)||t.children[0];const Se=f0(B)?L.querySelectorAll(B):B;C=[].slice.call(Se||L.children)}function j(J){const B=_Y(t,L,C,r,s,J,c);if(J.loop&&!B.slideLooper.canLoop()){const he=Object.assign({},J,{loop:!1});return j(he)}return B}function T(J,B){b||(x=u(x,J),N=h(x),I=B||I,_(),w=j(N),p([x,...I.map(({options:he})=>he)]).forEach(he=>l.add(he,"change",k)),N.active&&(w.translate.to(w.location.get()),w.animation.init(),w.slidesInView.init(),w.slideFocus.init(Y),w.eventHandler.init(Y),w.resizeHandler.init(Y),w.slidesHandler.init(Y),w.options.loop&&w.slideLooper.loop(),L.offsetParent&&C.length&&w.dragHandler.init(Y),A=a.init(Y,I)))}function k(J,B){const he=U();P(),T(u({startIndex:he},J),B),c.emit("reInit")}function P(){w.dragHandler.destroy(),w.eventStore.clear(),w.translate.clear(),w.slideLooper.clear(),w.resizeHandler.destroy(),w.slidesHandler.destroy(),w.slidesInView.destroy(),w.animation.destroy(),a.destroy(),l.clear()}function R(){b||(b=!0,l.clear(),P(),c.emit("destroy"),c.clear())}function H(J,B,he){!N.active||b||(w.scrollBody.useBaseFriction().useDuration(B===!0?0:N.duration),w.scrollTo.index(J,he||0))}function Z(J){const B=w.index.add(1).get();H(B,J,-1)}function G(J){const B=w.index.add(-1).get();H(B,J,1)}function te(){return w.index.add(1).get()!==U()}function O(){return w.index.add(-1).get()!==U()}function D(){return w.scrollSnapList}function V(){return w.scrollProgress.get(w.offsetLocation.get())}function U(){return w.index.get()}function z(){return w.indexPrevious.get()}function Q(){return w.slidesInView.get()}function se(){return w.slidesInView.get(!1)}function W(){return A}function ge(){return w}function X(){return t}function ce(){return L}function xe(){return C}const Y={canScrollNext:te,canScrollPrev:O,containerNode:ce,internalEngine:ge,destroy:R,off:g,on:m,emit:v,plugins:W,previousScrollSnap:z,reInit:y,rootNode:X,scrollNext:Z,scrollPrev:G,scrollProgress:V,scrollSnapList:D,scrollTo:H,selectedScrollSnap:U,slideNodes:xe,slidesInView:Q,slidesNotInView:se};return T(e,n),setTimeout(()=>c.emit("init"),0),Y}jp.globalOptions=void 0;function hb(t={},e=[]){const n=d.useRef(t),r=d.useRef(e),[s,i]=d.useState(),[a,l]=d.useState(),c=d.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return d.useEffect(()=>{lb(n.current,t)||(n.current=t,c())},[t,c]),d.useEffect(()=>{XQ(r.current,e)||(r.current=e,c())},[e,c]),d.useEffect(()=>{if(ZQ()&&a){jp.globalOptions=hb.globalOptions;const u=jp(a,n.current,r.current);return i(u),()=>u.destroy()}else i(void 0)},[a,i]),[l,s]}hb.globalOptions=void 0;const OL=d.createContext(null);function eg(){const t=d.useContext(OL);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const m0=d.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:s,children:i,...a},l)=>{const[c,u]=hb({...e,axis:t==="horizontal"?"x":"y"},r),[h,p]=d.useState(!1),[m,g]=d.useState(!1),v=d.useCallback(x=>{x&&(p(x.canScrollPrev()),g(x.canScrollNext()))},[]),y=d.useCallback(()=>{u==null||u.scrollPrev()},[u]),b=d.useCallback(()=>{u==null||u.scrollNext()},[u]),w=d.useCallback(x=>{x.key==="ArrowLeft"?(x.preventDefault(),y()):x.key==="ArrowRight"&&(x.preventDefault(),b())},[y,b]);return d.useEffect(()=>{!u||!n||n(u)},[u,n]),d.useEffect(()=>{if(u)return v(u),u.on("reInit",v),u.on("select",v),()=>{u==null||u.off("select",v)}},[u,v]),o.jsx(OL.Provider,{value:{carouselRef:c,api:u,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:b,canScrollPrev:h,canScrollNext:m},children:o.jsx("div",{ref:l,onKeyDownCapture:w,className:Ae("relative",s),role:"region","aria-roledescription":"carousel",...a,children:i})})});m0.displayName="Carousel";const g0=d.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:s}=eg();return o.jsx("div",{ref:r,className:"overflow-hidden",children:o.jsx("div",{ref:n,className:Ae("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});g0.displayName="CarouselContent";const y0=d.forwardRef(({className:t,...e},n)=>{const{orientation:r}=eg();return o.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:Ae("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});y0.displayName="CarouselItem";const v0=d.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollPrev:a,canScrollPrev:l}=eg();return o.jsxs(F,{ref:s,variant:e,size:n,className:Ae("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:a,...r,children:[o.jsx(Tn,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Previous slide"})]})});v0.displayName="CarouselPrevious";const x0=d.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollNext:a,canScrollNext:l}=eg();return o.jsxs(F,{ref:s,variant:e,size:n,className:Ae("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:a,...r,children:[o.jsx(dp,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Next slide"})]})});x0.displayName="CarouselNext";const tg=({cart:t,totalPrice:e,onCheckout:n,onDelete:r,onViewMenu:s,isDarkMode:i,buttonLabel:a="Checkout",className:l=""})=>{if(!t||t.length===0)return null;const c=t[0],u=t.reduce((h,p)=>h+(p.quantity||1),0);return o.jsx("div",{className:`md:hidden fixed left-0 right-0 bottom-0 z-50 flex justify-center items-end pointer-events-none mb-1.5 ${l}`,children:o.jsxs("div",{className:`flex items-center w-[95vw] max-w-xl rounded-2xl shadow-lg px-3 py-2 border pointer-events-auto gap-3
          ${i?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx("img",{src:c.image,alt:c.name,className:`w-12 h-12 rounded-xl object-cover border ${i?"border-gray-700":"border-gray-300"}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:`font-bold text-base truncate ${i?"text-white":"text-gray-900"}`,children:c.name}),o.jsx("button",{className:`text-sm underline truncate ${i?"text-gray-300":"text-gray-500"} hover:text-pickngo-orange-500`,onClick:s,tabIndex:-1,type:"button",children:"View Full Menu"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center font-bold rounded-xl px-5 py-2 focus:outline-none transition-colors
            ${i?"bg-rose-600 hover:bg-rose-700 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,onClick:n,children:[o.jsxs("span",{className:"text-sm font-semibold",children:[u," item",u>1?"s":""," | ",e]}),o.jsx("span",{className:"text-base font-bold",children:a})]}),o.jsx("button",{className:`ml-2 w-9 h-9 flex items-center justify-center rounded-full focus:outline-none transition-colors
            ${i?"bg-rose-900/60 hover:bg-rose-900 text-white":"bg-rose-100 hover:bg-rose-200 text-rose-500"}`,onClick:r,"aria-label":"Clear Cart",children:o.jsx(Dd,{className:"w-5 h-5"})})]})})},PY=()=>{var Oe;const t=An(),{isDarkMode:e,toggleDarkMode:n}=en(),{selectedAddress:r}=nD(),{cart:s,addToCart:i,updateCartQuantity:a,removeFromCart:l,clearCart:c,getTotalItems:u,getTotalPrice:h,isCartPopupOpen:p,setIsCartPopupOpen:m}=Gm(),{banStatus:g}=xc(),[v,y]=d.useState("food"),[b,w]=d.useState(""),[x,N]=d.useState("grid"),[I,A]=d.useState([0,1e3]),[L,C]=d.useState("Fetching location..."),[_,j]=d.useState(!1),[T,k]=d.useState(!1),[P,R]=d.useState(null),[H,Z]=d.useState(!1),[G,te]=d.useState(null),[O,D]=d.useState(!1),[V,U]=d.useState(!1),[z,Q]=d.useState(!1),[se,W]=d.useState(!1),[ge,X]=d.useState(!0),[ce,xe]=d.useState([]),[Y,J]=d.useState([]),[B,he]=d.useState([]),[Se,be]=d.useState([]),[We,qe]=d.useState([]),[Ke,st]=d.useState([]);d.useEffect(()=>{(async()=>{const Te=await od($e.FOOD);be(Te)})()},[]),d.useEffect(()=>{(async()=>{const Te=await od($e.DAILY_ESSENTIAL);qe(Te)})()},[]),d.useEffect(()=>{(async()=>{st(await dH(4))})()},[]);const Nt=re=>{if(!re||re==="Fetching location..."||re==="Location not found"||re==="Could not fetch location"||re==="Location access denied"||re==="Geolocation not supported")return re;const Te=re.split(",");return Te.length>=3?Te.slice(0,2).join(", ")+"...":Te.length===2?Te[0]+"...":re.length>30?re.substring(0,30)+"...":re},Ct=()=>r?`${r.city}, ${r.state}`:Nt(L),K={fast_delivery:(()=>{var re;if(r){const Te=(re=r.city)==null?void 0:re.toLowerCase();if(Te!=null&&Te.includes("mumbai"))return[{id:5,name:"Pizza Hut",price:120,rating:4.6,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"25-30 mins",ad:!0},{id:6,name:"Bombay Spice",price:150,rating:4.4,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"20-25 mins",discount:"50% OFF"},{id:7,name:"Mumbai Chinese",price:200,rating:4.2,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"18-22 mins",offer:"BUY1 GET1"}];if(Te!=null&&Te.includes("delhi"))return[{id:5,name:"Domino's Delhi",price:110,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"22-28 mins",ad:!0},{id:6,name:"Delhi Darbar",price:140,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"18-23 mins",discount:"40% OFF"},{id:7,name:"Beijing Express",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"20-25 mins",offer:"BUY1 GET1"}];if(Te!=null&&Te.includes("bangalore"))return[{id:5,name:"Pizza Corner",price:130,rating:4.7,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"20-25 mins",ad:!0},{id:6,name:"Bangalore Spice",price:160,rating:4.4,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"15-20 mins",discount:"60% OFF"},{id:7,name:"Tech Chinese",price:190,rating:4.2,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"18-22 mins",offer:"BUY1 GET1"}]}return[{id:5,name:"Domino's Pizza",price:91,rating:4.5,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400",category:"Pizzas",inStock:!0,deliveryTime:"20-25 mins",ad:!0},{id:6,name:"Spice N Ice",price:130,rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400",category:"Indian",inStock:!0,deliveryTime:"20-25 mins",discount:"60% OFF"},{id:7,name:"China Nation",price:180,rating:4.1,image:"https://images.unsplash.com/photo-1582562124811-c09040d0a901?w=400",category:"Chinese",inStock:!0,deliveryTime:"15-20 mins",offer:"BUY1 GET1"}]})()},pe=[{name:"FEAST MODE",subtitle:"65% OFF Every 30 Mins",icon:"",color:"bg-blue-900/50"},{name:"FLASH DEALS",subtitle:"Dishes From 49",icon:"",color:"bg-blue-900/50"},{name:"DISCOUNTS",subtitle:"Up To 60% OFF",icon:"%",color:"bg-blue-900/50"},{name:"Bolt",subtitle:"Food In 10 Mins",icon:"",color:"bg-blue-900/50"}],de=K.fast_delivery.filter(re=>re.name.toLowerCase().includes(b.toLowerCase())),it=()=>{$.success("Redirecting to orders...")},oe=re=>{te(re)},we=()=>{y("wine"),H?t("/drinks"):Q(!0)},je=re=>{console.log("handleFoodClick called with category:",re),y("food"),t("/food",{state:{category:re}})},vt=()=>{y("essentials"),t("/daily-essential")},At=async re=>{const{address:Te,paymentMethod:Qe,tip:Be,finalTotal:sn,location:Rt}=re;if(g.isBanned){$.error("Your account has been suspended. You cannot place orders."),W(!1);return}if(!P){$.error("Please log in to place an order."),j(!0);return}if(!Te.phone||Te.phone.trim()===""){$.error("Please add a phone number to your address before placing the order.");return}let Kt=null;if(Rt)Kt={lat:Rt.lat,lng:Rt.lng},$.success("Using selected delivery location!");else{$.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const ht=await new Promise((ct,Le)=>{navigator.geolocation.getCurrentPosition(ct,Le,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});Kt={lat:ht.coords.latitude,lng:ht.coords.longitude},$.dismiss(),$.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(ht){console.error("Error getting location:",ht),$.dismiss(),ht.code===1?$.error("Location access denied. Please enable location permissions for accurate tracking."):ht.code===2?$.error("Location unavailable. Please check your GPS settings."):ht.code===3?$.error("Location request timed out. Please try again."):$.error("Could not get your location. Using approximate location."),Kt={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const Qt=25,Rn=Math.random()*10+5,Pe=Math.round(Qt+Rn),Ye=new Date(Date.now()+Pe*60*1e3),ot={name:Te.name||P.displayName||"User",email:Te.email||P.email||"",phone:Te.phone},Yt={userId:P.uid,userInfo:ot,items:s,totalPrice:sn,tip:Be,deliveryAddress:Object.fromEntries(Object.entries(Te).filter(([ht,ct])=>ct!=null)),paymentMethod:Qe,status:"pending",createdAt:new Date,estimatedDeliveryTime:Ye,estimatedMinutes:Pe,userLocation:Kt,selectedLocationAddress:(Rt==null?void 0:Rt.address)||null};try{await Kl(async()=>{const ht=await Ks(gn(Ue,"orders"),Yt);await er(kt(Ue,"orders",ht.id),{orderId:ht.id}),$.success("Order placed successfully!"),c(),W(!1),t(`/current-order/${ht.id}`)})}catch(ht){console.error("Error placing order:",ht),ht.code==="permission-denied"?$.error("Access denied. Please check your permissions."):ht.code==="unavailable"?$.error("Firebase service is temporarily unavailable. Please try again later."):$.error("Failed to place order. Please check your connection and try again.")}},_t=re=>{switch(re.category){case"food":t("/food");break;case"drinks":t("/drinks");break;case"daily_essential":t("/daily-essential");break}$.success(`Selected ${re.name}`)};d.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async Qe=>{const{latitude:Be,longitude:sn}=Qe.coords;console.log("Detected coordinates:",{latitude:Be,longitude:sn});try{const Kt=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${Be}&lon=${sn}`)).json();Kt&&Kt.display_name?C(Kt.display_name):C("Location not found")}catch(Rt){console.error("Error fetching location:",Rt),C("Could not fetch location")}},Qe=>{C("Location access denied"),console.error("Geolocation error:",Qe)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):C("Geolocation not supported"),localStorage.getItem("pickngo-cart"),localStorage.getItem("pickngo-age-verified")&&Z(!0);const Te=Id(wt,Qe=>{R(Qe),k(!!Qe)});return()=>Te()},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(s))},[s]),d.useEffect(()=>{(async()=>{await O2(),xe(await wl("Food")),J(await wl("Drinks")),he(await wl("Daily Essential"))})()},[]);const St=async()=>{try{await VP(wt),$.success("Signed out successfully")}catch{$.error("Failed to sign out")}},It=()=>{if(!P){$.error("You must be logged in to place an order."),j(!0);return}if(s.length===0){$.error("Your cart is empty.");return}D(!1),W(!0)},Gt=re=>{C(re.address),U(!1),$.success("Location selected successfully!")};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`hidden md:block sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("img",{src:"/logo.jpg",alt:"PickNGo Logo",className:"h-12 w-auto object-contain"})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rn,{className:"w-5 h-5 text-orange-500"}),o.jsx(F,{variant:"ghost",className:"flex items-center space-x-2 text-left h-auto p-1",onClick:()=>U(!0),children:o.jsx("div",{className:"min-w-0",children:o.jsx("h3",{className:`font-medium text-sm truncate ${e?"text-white":"text-gray-900"}`,children:Ct()||"Select Location"})})})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:"For Business"}),o.jsx(F,{variant:"ghost",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:"Help"}),o.jsx(F,{variant:"ghost",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",onClick:()=>t("/contact-us"),children:"Contact Us"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsxs(F,{variant:"outline",className:`flex items-center space-x-2 relative ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(Xn,{className:"w-5 h-5"}),u()>0&&o.jsx(Tt,{className:"absolute -top-2 -right-2 bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:u()})]})}),o.jsxs(ai,{className:`w-80 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(li,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Shopping Cart"}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:[u()," items"]})]})}),o.jsx(Cr,{className:e?"bg-gray-700":"bg-gray-200"}),s.length===0?o.jsxs("div",{className:"p-4 text-center",children:[o.jsx(Xn,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"})]}):o.jsx("div",{className:"max-h-60 overflow-y-auto",children:s.map(re=>o.jsxs("div",{className:"flex items-center space-x-3 p-3 border-b border-gray-100 dark:border-gray-700",children:[o.jsx("img",{src:re.image,alt:re.name,className:"w-12 h-12 object-cover rounded",onError:Te=>{Te.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yNCAzMkMyNi4yMDkxIDMyIDI4IDMwLjIwOTEgMjggMjhDMjggMjUuNzkwOSAyNi4yMDkxIDI0IDI0IDI0QzIxLjc5MDkgMjQgMjAgMjUuNzkwOSAyMCAyOEMyMCAzMC4yMDkxIDIxLjc5MDkgMzIgMjQgMzJaIiBmaWxsPSIjOUI5QkEwIi8+Cjwvc3ZnPgo="}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-medium text-sm truncate ${e?"text-white":"text-gray-900"}`,children:re.name}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:["",re.price,"  ",re.quantity]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(F,{variant:"ghost",size:"sm",onClick:()=>a(re.id,Math.max(0,re.quantity-1)),className:"w-6 h-6 p-0",children:"-"}),o.jsx("span",{className:`text-sm ${e?"text-white":"text-gray-900"}`,children:re.quantity}),o.jsx(F,{variant:"ghost",size:"sm",onClick:()=>a(re.id,re.quantity+1),className:"w-6 h-6 p-0",children:"+"})]})]},re.id))}),s.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(Cr,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-lg font-bold text-orange-500",children:["",h()]})]}),o.jsx(F,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold",onClick:It,children:"Place Order"})]})]})]})]}),T?o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsxs(F,{variant:"outline",className:`flex items-center space-x-2 ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(ls,{className:"w-5 h-5"}),o.jsx("span",{children:(P==null?void 0:P.displayName)||((Oe=P==null?void 0:P.email)==null?void 0:Oe.split("@")[0])||"My Account"})]})}),o.jsxs(ai,{className:`w-56 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(li,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:`text-sm font-medium leading-none ${e?"text-white":"text-gray-900"}`,children:(P==null?void 0:P.displayName)||(P==null?void 0:P.email)||"User"}),o.jsx("p",{className:`text-xs leading-none ${e?"text-gray-400":"text-gray-500"}`,children:P==null?void 0:P.email})]})}),o.jsx(Cr,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs($t,{onClick:()=>t("/profile"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(ls,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs($t,{onClick:()=>t("/past-orders"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(Is,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Past Orders"})]}),o.jsxs($t,{onClick:()=>t("/settings"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(s0,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]}),o.jsx(Cr,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs($t,{onClick:St,className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(LC,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]}):o.jsx(F,{className:"bg-orange-500 hover:bg-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:()=>j(!0),children:"Sign In"}),o.jsx(F,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:e?o.jsx(vr,{className:"w-5 h-5"}):o.jsx(tr,{className:"w-5 h-5"})})]})]})})}),o.jsx("header",{className:`md:hidden sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("img",{src:"/logo.jpg",alt:"PickNGo Logo",className:"h-10 w-auto object-contain"})}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(rn,{className:"w-4 h-4 text-orange-500"}),o.jsx(F,{variant:"ghost",className:"flex items-center space-x-1 text-left h-auto p-1 rounded-md max-w-[100px] sm:max-w-[120px]",onClick:()=>U(!0),children:o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx("h3",{className:`font-medium text-xs truncate ${e?"text-white":"text-gray-900"}`,children:(r==null?void 0:r.city)||"Location"})})})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsxs(F,{variant:"ghost",size:"icon",className:`relative ${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,children:[o.jsx(Xn,{className:"w-5 h-5"}),u()>0&&o.jsx(Tt,{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:u()})]})}),o.jsxs(ai,{className:`w-72 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(li,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Cart"}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:[u()," items"]})]})}),o.jsx(Cr,{className:e?"bg-gray-700":"bg-gray-200"}),s.length===0?o.jsxs("div",{className:"p-4 text-center",children:[o.jsx(Xn,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"})]}):o.jsx("div",{className:"max-h-48 overflow-y-auto",children:s.map(re=>o.jsxs("div",{className:"flex items-center space-x-3 p-3 border-b border-gray-100 dark:border-gray-700",children:[o.jsx("img",{src:re.image,alt:re.name,className:"w-10 h-10 object-cover rounded",onError:Te=>{Te.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yNCAzMkMyNi4yMDkxIDMyIDI4IDMwLjIwOTEgMjggMjhDMjggMjUuNzkwOSAyNi4yMDkxIDI0IDI0IDI0QzIxLjc5MDkgMjQgMjAgMjUuNzkwOSAyMCAyOEMyMCAzMC4yMDkxIDIxLjc5MDkgMzIgMjQgMzJaIiBmaWxsPSIjOUI5QkEwIi8+Cjwvc3ZnPgo="}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-medium text-sm truncate ${e?"text-white":"text-gray-900"}`,children:re.name}),o.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:["",re.price,"  ",re.quantity]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(F,{variant:"ghost",size:"sm",onClick:()=>a(re.id,Math.max(0,re.quantity-1)),className:"w-5 h-5 p-0",children:"-"}),o.jsx("span",{className:`text-xs ${e?"text-white":"text-gray-900"}`,children:re.quantity}),o.jsx(F,{variant:"ghost",size:"sm",onClick:()=>a(re.id,re.quantity+1),className:"w-5 h-5 p-0",children:"+"})]})]},re.id))}),s.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(Cr,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-lg font-bold text-orange-500",children:["",h()]})]}),o.jsx(F,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold",onClick:It,children:"Place Order"})]})]})]})]}),T?o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsx(F,{variant:"ghost",size:"icon",className:`${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,children:o.jsx(ls,{className:"w-5 h-5"})})}),o.jsxs(ai,{className:`w-56 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,align:"end",children:[o.jsx(li,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:`text-sm font-medium leading-none ${e?"text-white":"text-gray-900"}`,children:(P==null?void 0:P.displayName)||(P==null?void 0:P.email)||"User"}),o.jsx("p",{className:`text-xs leading-none ${e?"text-gray-400":"text-gray-500"}`,children:P==null?void 0:P.email})]})}),o.jsx(Cr,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs($t,{onClick:()=>t("/profile"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(ls,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs($t,{onClick:()=>t("/past-orders"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(Is,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Past Orders"})]}),o.jsxs($t,{onClick:()=>t("/settings"),className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(s0,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]}),o.jsx(Cr,{className:e?"bg-gray-700":"bg-gray-200"}),o.jsxs($t,{onClick:St,className:e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50",children:[o.jsx(LC,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]}):o.jsx(F,{variant:"ghost",size:"icon",className:`${e?"text-gray-300 hover:text-orange-400 bg-gray-700":"text-gray-600 hover:text-orange-500 bg-gray-100"} rounded-full w-10 h-10`,onClick:()=>j(!0),children:o.jsx(ls,{className:"w-5 h-5"})})]})]})})}),o.jsxs("main",{className:"pb-20 md:pb-0",children:[o.jsx("div",{className:`hidden md:block py-16 ${e?"bg-gray-800":"bg-gray-100"}`,children:o.jsxs("div",{className:"container mx-auto text-center",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4 text-orange-500",children:"Your daily essentials, delivered in minutes."}),r&&o.jsx("div",{className:"mb-4",children:o.jsxs(Tt,{className:"bg-orange-100 text-orange-700 px-4 py-2 text-sm",children:[" Delivering to: ",r.city,", ",r.state]})}),o.jsx("p",{className:`text-lg mb-8 ${e?"text-gray-300":"text-gray-600"}`,children:"Order food, groceries, and more from the best places near you."}),o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(QC,{isOpen:!0,onClose:()=>{},onProductSelect:_t,onAddToCart:i,cart:s})})})]})}),o.jsxs("div",{className:"md:hidden",children:[o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(QC,{isOpen:!0,onClose:()=>{},onProductSelect:_t,onAddToCart:i,cart:s}),o.jsx(F,{variant:"ghost",size:"sm",className:"text-pickngo-orange-500",onClick:()=>$.success("Voice search activated!"),children:o.jsx(IH,{className:"w-5 h-5"})})]})}),o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-6 text-white relative overflow-hidden",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Foodie Weekend"}),o.jsx("p",{className:"text-lg mb-4",children:"Upto 60% OFF on delights!"}),o.jsx(F,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:it,children:"ORDER NOW"})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=150",alt:"Food",className:"w-20 h-20 rounded-full object-cover"}),o.jsx("img",{src:"https://images.unsplash.com/photo-1551024601-bec78aea704b?w=150",alt:"Dessert",className:"w-20 h-20 rounded-full object-cover"})]})]})})})]}),o.jsx("div",{className:"hidden md:block container mx-auto py-12",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs(ke,{className:`overflow-hidden cursor-pointer group ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,onClick:()=>je("all"),children:[o.jsx(ut,{className:"p-0",children:o.jsx("img",{src:"https://plus.unsplash.com/premium_photo-1673108852141-e8c3c22a4a22?w=400",alt:"Food Delivery",className:"w-full h-56 object-cover"})}),o.jsxs(Ie,{className:"p-6",children:[o.jsx("h3",{className:`text-2xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Food Delivery"}),o.jsx("p",{className:`mb-4 ${e?"text-gray-300":"text-gray-600"}`,children:"From the best local restaurants"}),o.jsx(F,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Order Now"})]})]}),o.jsxs(ke,{className:`overflow-hidden cursor-pointer group ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,onClick:vt,children:[o.jsx(ut,{className:"p-0",children:o.jsx("img",{src:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=500",alt:"Groceries",className:"w-full h-56 object-cover"})}),o.jsxs(Ie,{className:"p-6",children:[o.jsx("h3",{className:`text-2xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Instamart"}),o.jsx("p",{className:`mb-4 ${e?"text-gray-300":"text-gray-600"}`,children:"Instant Grocery Delivery"}),o.jsx(F,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Shop Now"})]})]}),o.jsxs(ke,{className:`overflow-hidden cursor-pointer group ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,onClick:we,children:[o.jsx(ut,{className:"p-0",children:o.jsx("img",{src:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=500",alt:"Dineout",className:"w-full h-56 object-cover"})}),o.jsxs(Ie,{className:"p-6",children:[o.jsx("h3",{className:`text-2xl font-bold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Dineout & Drinks"}),o.jsx("p",{className:`mb-4 ${e?"text-gray-300":"text-gray-600"}`,children:"Eat out or get drinks delivered"}),o.jsx(F,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",children:"Explore Now"})]})]})]})}),o.jsxs("div",{className:"hidden md:block container mx-auto py-12",children:[o.jsx("h2",{className:`text-3xl font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:"What's on your mind?"}),(()=>{const re=new Set,Te=Se.filter(Qe=>{const Be=Qe.subcategory||Qe.id||Qe.name;return re.has(Be)?!1:(re.add(Be),!0)});return o.jsxs(m0,{opts:{align:"start",loop:!0},children:[o.jsx(g0,{children:Te.map((Qe,Be)=>o.jsx(y0,{className:"basis-auto",children:o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>je(Qe.subcategory),children:[o.jsx("div",{className:"w-36 h-36 flex items-center justify-center rounded-full mx-auto text-6xl bg-gray-100 dark:bg-gray-800",children:Qe.icon}),o.jsx("p",{className:`mt-2 font-semibold ${e?"text-white":"text-gray-900"}`,children:Qe.displayName})]})},Be))}),o.jsx(v0,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"}),o.jsx(x0,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"})]})})()]}),o.jsxs("div",{className:"hidden md:block container mx-auto py-8",children:[o.jsx("h2",{className:`text-2xl font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:"Top Buys of All Time"}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:Ke.filter(re=>re.category==="food").map(re=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${e?"border border-gray-700":"border border-gray-200"}`,children:[o.jsx("div",{className:"relative",children:o.jsx("img",{src:re.image,alt:re.name,className:"w-full h-48 object-cover"})}),o.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[o.jsx("h3",{className:"font-bold text-lg mb-1",children:re.name}),o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsxs("span",{className:"font-medium text-sm text-gray-500 dark:text-gray-300",children:["",re.price]}),o.jsxs("span",{className:"text-gray-400 text-sm",children:[" ",re.rating,""]})]}),o.jsx("p",{className:"text-gray-400 text-sm flex-1",children:re.category}),o.jsxs("span",{className:"text-xs text-orange-500 font-bold mt-2",children:["Total Bought: ",re.totalBought]})]})]},re.id))})]}),o.jsxs("div",{className:"hidden md:block container mx-auto py-12",children:[o.jsx("h2",{className:`text-3xl font-bold mb-6 ${e?"text-white":"text-gray-900"}`,children:"Shop groceries on Instamart"}),(()=>{const re=new Set,Te=We.filter(Qe=>{const Be=Qe.subcategory||Qe.id||Qe.name;return re.has(Be)?!1:(re.add(Be),!0)});return o.jsxs(m0,{opts:{align:"start",loop:!0},children:[o.jsx(g0,{children:Te.map((Qe,Be)=>o.jsx(y0,{className:"basis-auto",children:o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>t("/daily-essential",{state:{category:Qe.subcategory}}),children:[o.jsx("div",{className:`w-36 h-36 flex items-center justify-center rounded-full mx-auto text-6xl ${e?"bg-gray-800":"bg-gray-100"}`,style:{boxShadow:"0 2px 8px 0 rgba(0,0,0,0.04)"},children:Qe.icon?o.jsx("span",{children:Qe.icon}):o.jsx("img",{src:Qe.image||"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=200&h=200&fit=crop",alt:Qe.name,className:"w-20 h-20 object-cover rounded-full"})}),o.jsx("p",{className:`mt-2 font-semibold ${e?"text-white":"text-gray-900"}`,children:Qe.displayName||Qe.name})]})},Be))}),o.jsx(v0,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"}),o.jsx(x0,{className:e?"text-white hover:text-orange-400":"text-gray-900 hover:text-orange-500"})]})})()]}),o.jsxs("div",{className:"md:hidden",children:[o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:pe.map((re,Te)=>o.jsxs("button",{className:`${re.color} backdrop-blur-md rounded-2xl p-4 text-white relative overflow-hidden hover:opacity-90 transition-opacity`,onClick:()=>$.success(`${re.name} activated!`),children:[o.jsx("div",{className:"text-2xl mb-2",children:re.icon}),o.jsx("h3",{className:"font-bold text-sm mb-1",children:re.name}),o.jsx("p",{className:"text-xs opacity-90",children:re.subtitle})]},Te))})}),o.jsx("div",{className:"container mx-auto px-4 mb-6",children:o.jsx("div",{className:"bg-gradient-to-r from-red-600 to-purple-700 rounded-2xl p-6 text-white relative overflow-hidden",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("h3",{className:"text-xl font-bold",children:"Bolt | Dinner in 10 mins"})]}),o.jsx("p",{className:"mb-4",children:"Fresh, hot & crisp delights for you."}),o.jsx(F,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-white font-bold px-6 py-2 rounded-full",onClick:it,children:"ORDER NOW"})]}),o.jsx("img",{src:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=200",alt:"Food Bowl",className:"w-32 h-32 rounded-full object-cover"})]})})}),o.jsxs("div",{className:"container mx-auto px-4 mb-20",children:[o.jsx("h2",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Fast delivery"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:de.map(re=>o.jsxs(ke,{className:`relative overflow-hidden rounded-2xl cursor-pointer hover:shadow-lg transition-shadow border ${e?"bg-gray-800 border-gray-700 text-white":"bg-white/5 backdrop-blur-md text-white border-gray-700"}`,onClick:()=>oe(re),children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:re.image,alt:re.name,className:"w-full h-48 object-cover"}),o.jsx(F,{variant:"ghost",size:"icon",className:"absolute top-3 right-3 bg-black/50 hover:bg-black/70 rounded-full p-2",onClick:Te=>{Te.stopPropagation(),$.success("Added to wishlist!")},children:o.jsx(Ei,{className:"w-4 h-4"})}),re.discount&&o.jsx("div",{className:"absolute top-3 left-3 bg-pickngo-orange-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:re.discount}),re.offer&&o.jsx("div",{className:"absolute bottom-3 right-3 bg-green-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:re.offer}),re.ad&&o.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/80 text-white px-3 py-1 rounded text-sm",children:["ITEMS AT ",re.price]})]}),o.jsxs(Ie,{className:"p-4",children:[o.jsx("h3",{className:"font-bold text-lg mb-1",children:re.name}),o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Qr,{className:"w-4 h-4 fill-green-500 text-green-500"}),o.jsx("span",{className:"font-medium text-sm text-gray-300",children:re.rating})]}),o.jsxs("span",{className:"text-gray-400 text-sm",children:[" ",re.deliveryTime]})]}),o.jsx("p",{className:"text-gray-300 text-sm",children:re.category})]})]},re.id))})]})]})]}),o.jsx("div",{className:`md:hidden fixed bottom-0 left-0 right-0 backdrop-blur-md border-t z-50 ${e?"bg-gray-900/80 border-gray-700":"bg-white/80 border-gray-200"}`,children:o.jsxs("div",{className:`grid ${T?"grid-cols-4":"grid-cols-3"} h-16`,children:[o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="food"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:()=>je("all"),children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("span",{className:"text-xs font-medium",children:"Food"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="essentials"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:vt,children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("span",{className:"text-xs font-medium",children:"Daily Essential"})]}),o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="wine"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:we,children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("span",{className:"text-xs font-medium",children:"Wine Stores"})]}),T&&o.jsxs("button",{className:`flex flex-col items-center justify-center space-y-1 ${v==="reorder"?"text-pickngo-orange-500":e?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,onClick:()=>t("/past-orders"),children:[o.jsx(SH,{className:"w-6 h-6"}),o.jsx("span",{className:"text-xs font-medium",children:"Reorder"})]})]})}),o.jsx(tg,{cart:s,totalPrice:h(),onCheckout:()=>D(!0),onDelete:()=>c(),onViewMenu:()=>D(!0),isDarkMode:e,buttonLabel:"Checkout",className:"bottom-16"}),o.jsx(uW,{isOpen:_,onClose:()=>j(!1),onLoginSuccess:()=>k(!0)}),o.jsx(HA,{isOpen:z,onVerified:()=>{Z(!0),localStorage.setItem("pickngo-age-verified","true"),Q(!1),t("/drinks"),$.success("Age verified! Welcome to wine stores.")},onClose:()=>Q(!1)}),o.jsx(Hm,{product:G,onClose:()=>te(null),onAddToCart:i}),o.jsx(xq,{isOpen:O,onClose:()=>D(!1),cart:s,updateQuantity:a,totalPrice:h(),onProceedToCheckout:It}),o.jsx(Xm,{isOpen:se,onClose:()=>W(!1),onPlaceOrder:At,totalPrice:h(),user:P}),o.jsxs("footer",{className:`${e?"bg-gray-900 text-white":"bg-gray-100 text-gray-900"} mt-20`,children:[o.jsx("div",{className:"container mx-auto px-4 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("h3",{className:"text-2xl font-bold text-pickngo-orange-500",children:"PickNGo"})}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Your trusted partner for quick food delivery, grocery shopping, and daily essentials."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-pickngo-orange-500",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(F,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>je("all"),children:"Food Delivery"})}),o.jsx("li",{children:o.jsx(F,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:vt,children:"Grocery Delivery"})}),o.jsx("li",{children:o.jsx(F,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:we,children:"Wine & Drinks"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-pickngo-orange-500",children:"Support"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(F,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/help-center"),children:"Help Center"})}),o.jsx("li",{children:o.jsx(F,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/contact-us"),children:"Contact Us"})}),o.jsx("li",{children:o.jsx(F,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/track-order"),children:"Track Order"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-pickngo-orange-500",children:"Company"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(F,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/about-us"),children:"About Us"})}),o.jsx("li",{children:o.jsx(F,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/careers"),children:"Careers"})}),o.jsx("li",{children:o.jsx(F,{variant:"ghost",className:`${e?"text-gray-300 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"} p-0 h-auto justify-start`,onClick:()=>t("/privacy-policy"),children:"Privacy Policy"})})]})]})]})}),o.jsx("div",{className:`border-t ${e?"border-gray-800":"border-gray-300"}`,children:o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:" 2024 PickNGo. All rights reserved."}),o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:""}),o.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Made with  in India"})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsx(F,{variant:"ghost",size:"sm",className:`${e?"text-gray-400 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"}`,onClick:()=>$.info("Download our mobile app!"),children:"Download App"}),o.jsx(F,{variant:"ghost",size:"sm",className:`${e?"text-gray-400 hover:text-pickngo-orange-500":"text-gray-600 hover:text-pickngo-orange-500"}`,onClick:()=>$.info("Newsletter subscription coming soon!"),children:"Newsletter"})]})]})})})]}),o.jsx(qd,{isOpen:V,onClose:()=>U(!1),onLocationSelect:Gt})]})},fb=({isOpen:t,onClose:e,cart:n,onUpdateQuantity:r,onRemoveItem:s,onProceedToCheckout:i,isDarkMode:a})=>{const l=()=>n.reduce((p,m)=>p+m.quantity,0),c=()=>n.reduce((p,m)=>p+m.price*m.quantity,0),u=c()>0?40:0;return o.jsx(Ms,{open:t,onOpenChange:e,children:o.jsxs(us,{className:`max-w-md ${a?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ds,{children:o.jsxs(hr,{className:`flex items-center space-x-2 ${a?"text-white":"text-gray-900"}`,children:[o.jsx(Xn,{className:"w-6 h-6 text-orange-500"}),o.jsx("span",{children:"Shopping Cart"}),l()>0&&o.jsx(Tt,{className:"bg-orange-500 text-white",children:l()})]})}),o.jsx("div",{className:"h-64 overflow-y-auto",children:n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Xn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:`text-lg font-medium ${a?"text-gray-300":"text-gray-600"}`,children:"Your cart is empty"}),o.jsx("p",{className:`text-sm ${a?"text-gray-500":"text-gray-400"}`,children:"Add some items to get started!"})]}):o.jsx("div",{className:"space-y-3 pr-2",children:n.map(p=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${a?"bg-gray-800":"bg-gray-50"}`,children:[o.jsx("img",{src:p.image,alt:p.name,className:"w-12 h-12 object-cover rounded flex-shrink-0",onError:m=>{m.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yNCAzMkMyNi4yMDkxIDMyIDI4IDMwLjIwOTEgMjggMjhDMjggMjUuNzkwOSAyNi4yMDkxIDI0IDI0IDI0QzIxLjc5MDkgMjQgMjAgMjUuNzkwOSAyMCAyOEMyMCAzMC4yMDkxIDIxLjc5MDkgMzIgMjQgMzJaIiBmaWxsPSIjOUI5QkEwIi8+Cjwvc3ZnPgo="}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`font-medium text-sm truncate ${a?"text-white":"text-gray-900"}`,children:p.name}),o.jsxs("p",{className:`text-xs ${a?"text-gray-400":"text-gray-500"}`,children:["",p.price,"  ",p.quantity]})]}),o.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(F,{variant:"ghost",size:"sm",onClick:()=>r(p.id,Math.max(0,p.quantity-1)),className:"w-6 h-6 p-0",children:o.jsx(Am,{className:"w-3 h-3"})}),o.jsx("span",{className:`text-sm font-medium ${a?"text-white":"text-gray-900"}`,children:p.quantity}),o.jsx(F,{variant:"ghost",size:"sm",onClick:()=>r(p.id,p.quantity+1),className:"w-6 h-6 p-0",children:o.jsx(mc,{className:"w-3 h-3"})})]}),o.jsx(F,{variant:"ghost",size:"sm",onClick:()=>s(p.id),className:"w-6 h-6 p-0 text-red-500 hover:text-red-600",children:o.jsx(Dd,{className:"w-3 h-3"})})]})]},p.id))})}),n.length>0&&o.jsxs("div",{className:`border-t pt-4 ${a?"border-gray-700":"border-gray-200"}`,children:[o.jsx(RL,{subtotal:c(),deliveryCharge:u,gstRate:5,isDarkMode:a}),o.jsx(F,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 mt-4",onClick:i,children:"Proceed to Checkout"})]})]})})},TY=()=>{var it;const t=An(),e=om(),{isDarkMode:n,toggleDarkMode:r}=en(),[s,i]=d.useState(""),[a,l]=d.useState("All"),[c,u]=d.useState(null),{cart:h,addToCart:p,updateCartQuantity:m,removeFromCart:g,clearCart:v,getTotalItems:y,getTotalPrice:b}=Gm(),[w,x]=d.useState([]),[N,I]=d.useState([]),[A,L]=d.useState(!0),[C,_]=d.useState(!0),[j,T]=d.useState(!1),[k,P]=d.useState(null),[R,H]=d.useState(!1),[Z,G]=d.useState(!1),[te,O]=d.useState(!1),[D,V]=d.useState("relevance"),[U,z]=d.useState(!1),[Q,se]=d.useState("all"),[W,ge]=d.useState(!1),[X,ce]=d.useState(null),[xe,Y]=d.useState("grid"),[J,B]=d.useState("All"),{banStatus:he}=xc(),[Se,be]=d.useState(!1),We=d.useMemo(()=>{let oe=[...w];switch(a!=="all"&&a!=="All"&&(oe=oe.filter(we=>we.subcategory===a)),s&&(oe=oe.filter(we=>we.name.toLowerCase().includes(s.toLowerCase()))),Q==="veg"?oe=oe.filter(we=>we.isVeg===!0):Q==="non-veg"&&(oe=oe.filter(we=>we.isVeg===!1)),D){case"price-asc":oe.sort((we,je)=>we.price-je.price);break;case"price-desc":oe.sort((we,je)=>je.price-we.price);break;case"rating":oe.sort((we,je)=>(je.rating||0)-(we.rating||0));break}return oe},[w,a,s,Q,D]),qe=Array.from(new Map(We.map(oe=>[`${oe.name}-${oe.price}`,oe])).values()),Ke=y(),st=b(),Nt=oe=>{p(oe),O(!0)},Ct=async()=>{_(!0);try{const oe=await od($e.FOOD);I(oe)}catch(oe){console.error("Error loading food categories:",oe),$.error("Failed to load categories")}finally{_(!1)}},K=async()=>{L(!0);try{const oe=await wl($e.FOOD);x(oe)}catch(oe){console.error("Error loading food products:",oe),$.error("Failed to load products")}finally{L(!1)}};d.useEffect(()=>{Ct(),K()},[]),d.useEffect(()=>{var oe;(oe=e.state)!=null&&oe.category&&N.some(je=>je.name===e.state.category||je.subcategory===e.state.category)&&l(e.state.category)},[(it=e.state)==null?void 0:it.category,N]),d.useEffect(()=>{const oe=Id(wt,we=>{P(we),be(!!we)});return()=>oe()},[]),d.useEffect(()=>{console.log("Categories:",N)},[N]);const pe=async oe=>{const{address:we,paymentMethod:je,tip:vt,finalTotal:At,location:_t}=oe;if(he.isBanned){$.error("Your account has been suspended. You cannot place orders."),H(!1);return}if(!k){$.error("Please log in to place an order.");return}if(!we.phone||we.phone.trim()===""){$.error("Please add a phone number to your address before placing the order.");return}let St=null;if(_t)St={lat:_t.lat,lng:_t.lng},$.success("Using selected delivery location!");else{$.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const Be=await new Promise((sn,Rt)=>{navigator.geolocation.getCurrentPosition(sn,Rt,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});St={lat:Be.coords.latitude,lng:Be.coords.longitude},$.dismiss(),$.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(Be){console.error("Error getting location:",Be),$.dismiss(),Be.code===1?$.error("Location access denied. Please enable location permissions for accurate tracking."):Be.code===2?$.error("Location unavailable. Please check your GPS settings."):Be.code===3?$.error("Location request timed out. Please try again."):$.error("Could not get your location. Using approximate location."),St={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const It=25,Gt=Math.random()*10+5,Oe=Math.round(It+Gt),re=new Date(Date.now()+Oe*60*1e3),Te={name:we.name||k.displayName||"User",email:we.email||k.email||"",phone:we.phone},Qe={userId:k.uid,userInfo:Te,items:h,totalPrice:At,tip:vt,deliveryAddress:Object.fromEntries(Object.entries(we).filter(([Be,sn])=>sn!=null)),paymentMethod:je,status:"pending",createdAt:new Date,estimatedDeliveryTime:re,estimatedMinutes:Oe,userLocation:St,selectedLocationAddress:(_t==null?void 0:_t.address)||null};try{await Kl(async()=>{const Be=await Ks(gn(Ue,"orders"),Qe);await er(kt(Ue,"orders",Be.id),{orderId:Be.id}),$.success("Order placed successfully!"),v(),H(!1),t(`/current-order/${Be.id}`)})}catch(Be){console.error("Error placing order:",Be),Be.code==="permission-denied"?$.error("Access denied. Please check your permissions."):Be.code==="unavailable"?$.error("Firebase service is temporarily unavailable. Please try again later."):$.error("Failed to place order. Please check your connection and try again.")}},de=oe=>{ce(oe),ge(!1)};return J==="All"||w.filter(oe=>oe.subcategory===J),o.jsxs("div",{className:`min-h-screen ${n?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-40 ${n?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:n?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Tn,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${n?"text-white":"text-gray-900"}`,children:"Offers"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs(F,{onClick:()=>ge(!0),variant:"outline",size:"sm",className:`${n?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(rn,{className:"w-4 h-4 mr-1"}),X?"Location Set":"Set Location"]}),o.jsx(F,{onClick:()=>z(!U),variant:"ghost",size:"icon",className:n?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(zs,{className:"w-5 h-5"})}),o.jsxs(F,{onClick:()=>O(!0),variant:"ghost",size:"icon",className:"relative",children:[o.jsx(Xn,{className:"w-5 h-5"}),Ke>0&&o.jsx(Tt,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:Ke})]}),o.jsx(F,{variant:"ghost",size:"icon",className:n?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(ls,{className:"w-5 h-5"})}),o.jsx(F,{onClick:()=>T(!0),variant:"ghost",size:"icon",className:"md:hidden",children:o.jsx(Fw,{className:"w-5 h-5"})})]})]})})}),U&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx(Ve,{placeholder:"Search for food...",value:s,onChange:oe=>i(oe.target.value),className:`w-full ${n?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-2 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[o.jsxs(F,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:[o.jsx(Vw,{className:"w-4 h-4 mr-2"})," Filter"]}),o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsx(F,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(ai,{children:[o.jsx(li,{children:"Sort Options"}),o.jsx(Cr,{}),o.jsx($t,{onClick:()=>V("relevance"),children:"Relevance"}),o.jsx($t,{onClick:()=>V("price-asc"),children:"Price: Low to High"}),o.jsx($t,{onClick:()=>V("price-desc"),children:"Price: High to Low"}),o.jsx($t,{onClick:()=>V("rating"),children:"Rating"})]})]}),o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsx(F,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Veg/Non-Veg"})}),o.jsxs(ai,{children:[o.jsx(li,{children:"Dietary"}),o.jsx(Cr,{}),o.jsx($t,{onClick:()=>se("all"),children:"All"}),o.jsx($t,{onClick:()=>se("veg"),children:"Veg"}),o.jsx($t,{onClick:()=>se("non-veg"),children:"Non-Veg"})]})]}),o.jsx(F,{variant:"outline",className:`rounded-full ${n?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Offers"})]})})}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"flex space-x-4 overflow-x-auto px-2 md:justify-center md:space-x-8",children:(()=>{const oe=new Set;return N.filter(je=>{if(!je.name||je.name.trim()===""||je.name===""||je.name===""||je.name.includes("http")||je.name.includes("unsplash"))return!1;const vt=je.subcategory||je.id||je.name;return oe.has(vt)?!1:(oe.add(vt),!0)}).map(je=>{let vt=null;if(je.image)vt=o.jsx("img",{src:je.image,alt:je.name,className:"w-full h-full object-cover"});else if(je.logo)vt=o.jsx("img",{src:je.logo,alt:je.name,className:"w-full h-full object-cover"});else if(je.icon&&typeof je.icon=="string"&&!je.icon.startsWith("http"))vt=o.jsx("span",{className:"text-4xl flex items-center justify-center w-full h-full",children:je.icon});else return null;return o.jsxs("button",{onClick:()=>l(je.subcategory),className:"flex flex-col items-center focus:outline-none",children:[o.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 rounded-full overflow-hidden border-4 transition-all duration-200 ${a===je.subcategory?"border-orange-500 shadow-lg":"border-transparent"}`,style:{boxShadow:a===je.subcategory?"0 0 0 4px rgba(255, 115, 0, 0.2)":void 0},children:vt}),o.jsx("span",{className:"mt-2 text-sm md:text-base font-medium text-center whitespace-nowrap",children:je.name})]},je.id||je.name)})})()})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:[o.jsx("div",{className:"block md:hidden space-y-4",children:qe.map(oe=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:oe.image,alt:oe.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(Ei,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",oe.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${n?"text-white":"text-gray-900"}`,children:oe.name}),o.jsx(F,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Ql,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(Qr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[oe.rating," (500+)  20-25 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:oe.description}),o.jsx("p",{className:`text-sm mt-1 ${n?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar  2.2 km"}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:`font-bold text-lg mb-1 ${n?"text-orange-400":"text-orange-600"}`,children:["",oe.price]}),o.jsx(F,{onClick:()=>Nt(oe),size:"sm",className:n?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:n?"default":"outline",children:"Add to cart"})]})]})]},oe.id))}),o.jsx("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:qe.map(oe=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${n?"border border-gray-700":"border border-gray-200"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:oe.image,alt:oe.name,className:"w-full h-48 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(Ei,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",oe.price]})]}),o.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h3",{className:`font-bold text-lg truncate ${n?"text-white":"text-gray-900"}`,children:oe.name}),o.jsx(F,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Ql,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-1",children:[o.jsx(Qr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[oe.rating," (500+)  20-25 mins"]})]}),o.jsx("p",{className:`text-sm mb-1 truncate ${n?"text-gray-400":"text-gray-600"}`,children:oe.description}),o.jsx("p",{className:`text-sm mb-2 truncate ${n?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar  2.2 km"}),o.jsxs("div",{className:`font-bold text-lg mb-2 ${n?"text-orange-400":"text-orange-600"}`,children:["",oe.price]}),o.jsx(F,{onClick:()=>Nt(oe),size:"sm",className:n?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:n?"default":"outline",children:"Add to cart"})]})]},oe.id))})]}),o.jsx(tg,{cart:h,totalPrice:st,onCheckout:()=>G(!0),onDelete:()=>{v(),$.success("Cart cleared!")},onViewMenu:()=>G(!0),isDarkMode:n,buttonLabel:"Checkout",className:"!bottom-0"}),o.jsx(Wm,{open:Z,onOpenChange:G,children:o.jsxs($d,{className:`w-96 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(Ud,{children:o.jsx(zd,{className:n?"text-white":"text-gray-900",children:"Your Cart"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:h.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Xn,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:`text-lg font-medium ${n?"text-gray-300":"text-gray-600"}`,children:"Your cart is empty"}),o.jsx("p",{className:`text-sm ${n?"text-gray-500":"text-gray-400"}`,children:"Add some delicious food to get started!"})]}):o.jsx("div",{className:"space-y-4",children:h.map(oe=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${n?"bg-gray-700":"bg-gray-50"}`,children:[o.jsx("img",{src:oe.image,alt:oe.name,className:"w-16 h-16 object-cover rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${n?"text-white":"text-gray-900"}`,children:oe.name}),o.jsxs("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:["",oe.price]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(F,{variant:"outline",size:"sm",onClick:()=>m(oe.id,Math.max(0,oe.quantity-1)),className:n?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(Am,{className:"w-3 h-3"})}),o.jsx("span",{className:`w-8 text-center ${n?"text-white":"text-gray-900"}`,children:oe.quantity}),o.jsx(F,{variant:"outline",size:"sm",onClick:()=>m(oe.id,oe.quantity+1),className:n?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(mc,{className:"w-3 h-3"})})]})]},oe.id))})}),h.length>0&&o.jsxs("div",{className:`border-t ${n?"border-gray-700":"border-gray-200"} pt-4`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:`font-medium ${n?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["",st.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(F,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>{if(!k){$.error("You must be logged in to place an order.");return}H(!0)},children:"Proceed to Checkout"}),o.jsx(F,{variant:"outline",className:`w-full ${n?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,onClick:v,children:"Clear Cart"})]})]})]})}),c&&o.jsx(Hm,{product:c,onClose:()=>u(null),onAddToCart:p}),R&&o.jsx(Xm,{isOpen:R,onClose:()=>H(!1),onPlaceOrder:pe,totalPrice:st,user:k}),o.jsx(fb,{isOpen:te,onClose:()=>O(!1),cart:h,onUpdateQuantity:m,onRemoveItem:g,onProceedToCheckout:()=>H(!0),isDarkMode:n}),o.jsx(qd,{isOpen:W,onClose:()=>ge(!1),onLocationSelect:de})]})},AY=()=>{var Ct;const t=An(),{isDarkMode:e,toggleDarkMode:n}=en(),[r,s]=d.useState(""),[i,a]=d.useState("All"),[l,c]=d.useState(null),{cart:u,addToCart:h,updateCartQuantity:p,removeFromCart:m,clearCart:g,getTotalItems:v,getTotalPrice:y,isCartPopupOpen:b,setIsCartPopupOpen:w}=Gm(),[x,N]=d.useState([]),[I,A]=d.useState([]),[L,C]=d.useState(!0),[_,j]=d.useState(!0),[T,k]=d.useState(!1),[P,R]=d.useState(null),[H,Z]=d.useState(!1),[G,te]=d.useState("relevance"),[O,D]=d.useState(!1),[V,U]=d.useState(!1),z=om(),[Q,se]=d.useState(!1),[W,ge]=d.useState(null),[X,ce]=d.useState("grid"),{banStatus:xe}=xc(),[Y,J]=d.useState(!1),B=d.useMemo(()=>{let K=[...x];switch(i!=="all"&&i!=="All"&&(K=K.filter(pe=>pe.subcategory===i)),r&&(K=K.filter(pe=>pe.name.toLowerCase().includes(r.toLowerCase()))),G){case"price-asc":K.sort((pe,de)=>pe.price-de.price);break;case"price-desc":K.sort((pe,de)=>de.price-pe.price);break;case"rating":K.sort((pe,de)=>(de.rating||0)-(pe.rating||0));break}return K},[x,i,r,G]),he=d.useMemo(()=>{const K=new Map;for(const pe of B){const de=`${pe.name}-${pe.price}`;K.has(de)||K.set(de,pe)}return Array.from(K.values())},[B]),Se=u.reduce((K,pe)=>K+pe.quantity,0),be=u.reduce((K,pe)=>K+pe.price*pe.quantity,0),We=K=>{h(K)},qe=async()=>{j(!0);try{const K=await od($e.DAILY_ESSENTIAL);A(K)}catch(K){console.error("Error loading daily essential categories:",K),$.error("Failed to load categories")}finally{j(!1)}},Ke=async()=>{C(!0);try{const K=await wl($e.DAILY_ESSENTIAL);N(K)}catch(K){console.error("Error loading daily essential products:",K),$.error("Failed to load products")}finally{C(!1)}};d.useEffect(()=>{qe(),Ke()},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(u))},[u]),d.useEffect(()=>{const K=Id(wt,pe=>{R(pe),J(!!pe)});return()=>K()},[]),d.useEffect(()=>{var K;(K=z.state)!=null&&K.category&&I.some(de=>de.name===z.state.category||de.subcategory===z.state.category)&&a(z.state.category)},[(Ct=z.state)==null?void 0:Ct.category,I]),d.useEffect(()=>{console.log("Categories:",I)},[I]);const st=async K=>{const{address:pe,paymentMethod:de,tip:it,finalTotal:oe,location:we}=K;if(xe.isBanned){$.error("Your account has been suspended. You cannot place orders."),Z(!1);return}if(!P){$.error("Please log in to place an order.");return}if(!pe.phone||pe.phone.trim()===""){$.error("Please add a phone number to your address before placing the order.");return}let je=null;if(we)je={lat:we.lat,lng:we.lng},$.success("Using selected delivery location!");else{$.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const Oe=await new Promise((re,Te)=>{navigator.geolocation.getCurrentPosition(re,Te,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});je={lat:Oe.coords.latitude,lng:Oe.coords.longitude},$.dismiss(),$.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(Oe){console.error("Error getting location:",Oe),$.dismiss(),Oe.code===1?$.error("Location access denied. Please enable location permissions for accurate tracking."):Oe.code===2?$.error("Location unavailable. Please check your GPS settings."):Oe.code===3?$.error("Location request timed out. Please try again."):$.error("Could not get your location. Using approximate location."),je={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const vt=25,At=Math.random()*10+5,_t=Math.round(vt+At),St=new Date(Date.now()+_t*60*1e3),It={name:pe.name||P.displayName||"User",email:pe.email||P.email||"",phone:pe.phone},Gt={userId:P.uid,userInfo:It,items:u,totalPrice:oe,tip:it,deliveryAddress:Object.fromEntries(Object.entries(pe).filter(([Oe,re])=>re!=null)),paymentMethod:de,status:"pending",createdAt:new Date,estimatedDeliveryTime:St,estimatedMinutes:_t,userLocation:je,selectedLocationAddress:(we==null?void 0:we.address)||null};try{await Kl(async()=>{const Oe=await Ks(gn(Ue,"orders"),Gt);await er(kt(Ue,"orders",Oe.id),{orderId:Oe.id}),$.success("Order placed successfully!"),g(),Z(!1),t(`/current-order/${Oe.id}`)})}catch(Oe){console.error("Error placing order:",Oe),Oe.code==="permission-denied"?$.error("Access denied. Please check your permissions."):Oe.code==="unavailable"?$.error("Firebase service is temporarily unavailable. Please try again later."):$.error("Failed to place order. Please check your connection and try again.")}},Nt=K=>{ge(K),se(!1)};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-40 ${e?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Tn,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Daily Essentials"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs(F,{onClick:()=>se(!0),variant:"outline",size:"sm",className:`${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(rn,{className:"w-4 h-4 mr-1"}),W?"Location Set":"Set Location"]}),o.jsx(F,{onClick:()=>D(!O),variant:"ghost",size:"icon",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(zs,{className:"w-5 h-5"})}),o.jsxs(F,{onClick:()=>w(!0),variant:"ghost",size:"icon",className:"relative",children:[o.jsx(Xn,{className:"w-5 h-5"}),Se>0&&o.jsx(Tt,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:Se})]}),o.jsx(F,{variant:"ghost",size:"icon",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(ls,{className:"w-5 h-5"})}),o.jsx(F,{onClick:()=>k(!0),variant:"ghost",size:"icon",className:"md:hidden",children:o.jsx(Fw,{className:"w-5 h-5"})})]})]})})}),O&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx(Ve,{placeholder:"Search for essentials...",value:r,onChange:K=>s(K.target.value),className:`w-full ${e?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-2 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[o.jsxs(F,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:[o.jsx(Vw,{className:"w-4 h-4 mr-2"})," Filter"]}),o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsx(F,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(ai,{children:[o.jsx(li,{children:"Sort Options"}),o.jsx(Cr,{}),o.jsx($t,{onClick:()=>te("relevance"),children:"Relevance"}),o.jsx($t,{onClick:()=>te("price-asc"),children:"Price: Low to High"}),o.jsx($t,{onClick:()=>te("price-desc"),children:"Price: High to Low"}),o.jsx($t,{onClick:()=>te("rating"),children:"Rating"})]})]}),o.jsx(F,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Offers"})]})})}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"flex space-x-4 overflow-x-auto px-2 md:justify-center md:space-x-8",children:(()=>{const K=new Set;return I.filter(de=>{if(!de.name||de.name.trim()===""||de.name===""||de.name===""||de.name.includes("http")||de.name.includes("unsplash"))return!1;const it=de.subcategory||de.id||de.name;return K.has(it)?!1:(K.add(it),!0)}).map(de=>{let it=null;if(de.image)it=o.jsx("img",{src:de.image,alt:de.name,className:"w-full h-full object-cover"});else if(de.logo)it=o.jsx("img",{src:de.logo,alt:de.name,className:"w-full h-full object-cover"});else if(de.icon&&typeof de.icon=="string"&&!de.icon.startsWith("http"))it=o.jsx("span",{className:"text-4xl flex items-center justify-center w-full h-full",children:de.icon});else return null;return o.jsxs("button",{onClick:()=>a(de.subcategory),className:"flex flex-col items-center focus:outline-none",children:[o.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 rounded-full overflow-hidden border-4 transition-all duration-200 ${i===de.subcategory?"border-orange-500 shadow-lg":"border-transparent"}`,style:{boxShadow:i===de.subcategory?"0 0 0 4px rgba(255, 115, 0, 0.2)":void 0},children:it}),o.jsx("span",{className:"mt-2 text-sm md:text-base font-medium text-center whitespace-nowrap",children:de.name})]},de.id||de.name)})})()})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:[o.jsx("div",{className:"block md:hidden space-y-4",children:he.map(K=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:K.image,alt:K.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(Ei,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",K.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${e?"text-white":"text-gray-900"}`,children:K.name}),o.jsx(F,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Ql,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(Qr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[K.rating," (500+)  20-25 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:K.description}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar  2.2 km"}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:`font-bold text-lg mb-1 ${e?"text-orange-400":"text-orange-600"}`,children:["",K.price]}),o.jsx(F,{onClick:()=>We(K),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]})]},K.id))}),o.jsx("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:he.map(K=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${e?"border border-gray-700":"border border-gray-200"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:K.image,alt:K.name,className:"w-full h-48 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(Ei,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",K.price]})]}),o.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h3",{className:`font-bold text-lg truncate ${e?"text-white":"text-gray-900"}`,children:K.name}),o.jsx(F,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Ql,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-1",children:[o.jsx(Qr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[K.rating," (500+)  20-25 mins"]})]}),o.jsx("p",{className:`text-sm mb-1 truncate ${e?"text-gray-400":"text-gray-600"}`,children:K.description}),o.jsx("p",{className:`text-sm mb-2 truncate ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar  2.2 km"}),o.jsxs("div",{className:`font-bold text-lg mb-2 ${e?"text-orange-400":"text-orange-600"}`,children:["",K.price]}),o.jsx(F,{onClick:()=>We(K),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]},K.id))})]}),o.jsx(tg,{cart:u,totalPrice:be,onCheckout:()=>U(!0),onDelete:()=>{g(),$.success("Cart cleared!")},onViewMenu:()=>U(!0),isDarkMode:e,buttonLabel:"Checkout",className:"!bottom-0"}),o.jsx(Wm,{open:T,onOpenChange:k,children:o.jsxs($d,{className:`w-96 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(Ud,{children:o.jsx(zd,{className:e?"text-white":"text-gray-900",children:"Your Cart"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:u.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Xn,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:`text-lg font-medium ${e?"text-gray-300":"text-gray-600"}`,children:"Your cart is empty"}),o.jsx("p",{className:`text-sm ${e?"text-gray-500":"text-gray-400"}`,children:"Add some daily essentials to get started!"})]}):o.jsx("div",{className:"space-y-4",children:u.map(K=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${e?"bg-gray-700":"bg-gray-50"}`,children:[o.jsx("img",{src:K.image,alt:K.name,className:"w-16 h-16 object-cover rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:K.name}),o.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:["",K.price]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(F,{variant:"outline",size:"sm",onClick:()=>p(K.id,Math.max(0,K.quantity-1)),className:e?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(Am,{className:"w-3 h-3"})}),o.jsx("span",{className:`w-8 text-center ${e?"text-white":"text-gray-900"}`,children:K.quantity}),o.jsx(F,{variant:"outline",size:"sm",onClick:()=>p(K.id,K.quantity+1),className:e?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(mc,{className:"w-3 h-3"})})]})]},K.id))})}),u.length>0&&o.jsxs("div",{className:`border-t ${e?"border-gray-700":"border-gray-200"} pt-4`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["",be.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(F,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>{if(!P){$.error("You must be logged in to place an order.");return}Z(!0)},children:"Proceed to Checkout"}),o.jsx(F,{variant:"outline",className:`w-full ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,onClick:g,children:"Clear Cart"})]})]})]})}),l&&o.jsx(Hm,{product:l,onClose:()=>c(null),onAddToCart:We}),H&&o.jsx(Xm,{isOpen:H,onClose:()=>Z(!1),onPlaceOrder:st,totalPrice:be,user:P}),o.jsx(fb,{isOpen:b,onClose:()=>w(!1),cart:u,onUpdateQuantity:p,onRemoveItem:m,onProceedToCheckout:()=>Z(!0),isDarkMode:e}),o.jsx(qd,{isOpen:Q,onClose:()=>se(!1),onLocationSelect:Nt})]})},RY=()=>{const t=An(),{isDarkMode:e,toggleDarkMode:n}=en(),[r,s]=d.useState(""),[i,a]=d.useState("All"),[l,c]=d.useState(null),{cart:u,addToCart:h,updateCartQuantity:p,removeFromCart:m,clearCart:g,getTotalItems:v,getTotalPrice:y,isCartPopupOpen:b,setIsCartPopupOpen:w}=Gm(),{banStatus:x}=xc(),[N,I]=d.useState(!1),[A,L]=d.useState(!1),[C,_]=d.useState([]),[j,T]=d.useState([]),[k,P]=d.useState(!0),[R,H]=d.useState(!0),[Z,G]=d.useState(!1),[te,O]=d.useState(null),[D,V]=d.useState(!1),[U,z]=d.useState("relevance"),[Q,se]=d.useState(!1),[W,ge]=d.useState(!1),[X,ce]=d.useState(null),[xe,Y]=d.useState("grid"),[J,B]=d.useState("All"),he=d.useMemo(()=>{let K=[...C];switch(i!=="all"&&i!=="All"&&(K=K.filter(pe=>pe.subcategory===i)),r&&(K=K.filter(pe=>pe.name.toLowerCase().includes(r.toLowerCase()))),U){case"price-asc":K.sort((pe,de)=>pe.price-de.price);break;case"price-desc":K.sort((pe,de)=>de.price-pe.price);break;case"rating":K.sort((pe,de)=>(de.rating||0)-(pe.rating||0));break}return K},[C,i,r,U]),Se=d.useMemo(()=>{const K=new Map;for(const pe of he){const de=`${pe.name}-${pe.price}`;K.has(de)||K.set(de,pe)}return Array.from(K.values())},[he]),be=u.reduce((K,pe)=>K+pe.quantity,0),We=u.reduce((K,pe)=>K+pe.price*pe.quantity,0),qe=K=>{if(!N){L(!0);return}h(K)},Ke=async()=>{H(!0);try{const K=await od($e.DRINKS);T(K)}catch(K){console.error("Error loading drinks categories:",K),$.error("Failed to load categories")}finally{H(!1)}},st=async()=>{P(!0);try{const K=await wl($e.DRINKS);_(K)}catch(K){console.error("Error loading drinks products:",K),$.error("Failed to load products")}finally{P(!1)}};d.useEffect(()=>{Ke(),st(),localStorage.getItem("pickngo-age-verified")?I(!0):L(!0);const pe=Id(wt,de=>{O(de)});return()=>pe()},[]),d.useEffect(()=>{localStorage.setItem("pickngo-cart",JSON.stringify(u))},[u]);const Nt=async K=>{const{address:pe,paymentMethod:de,tip:it,finalTotal:oe,location:we}=K;if(x.isBanned){$.error("Your account has been suspended. You cannot place orders."),V(!1);return}if(!te){$.error("Please log in to place an order.");return}if(!pe.phone||pe.phone.trim()===""){$.error("Please add a phone number to your address before placing the order.");return}let je=null;if(we)je={lat:we.lat,lng:we.lng},$.success("Using selected delivery location!");else{$.loading("Getting your location for accurate delivery tracking...");try{if(navigator.geolocation){const Oe=await new Promise((re,Te)=>{navigator.geolocation.getCurrentPosition(re,Te,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})});je={lat:Oe.coords.latitude,lng:Oe.coords.longitude},$.dismiss(),$.success("Location accessed successfully!")}else throw new Error("Geolocation not supported")}catch(Oe){console.error("Error getting location:",Oe),$.dismiss(),Oe.code===1?$.error("Location access denied. Please enable location permissions for accurate tracking."):Oe.code===2?$.error("Location unavailable. Please check your GPS settings."):Oe.code===3?$.error("Location request timed out. Please try again."):$.error("Could not get your location. Using approximate location."),je={lat:22.5726+(Math.random()-.5)*.01,lng:88.3639+(Math.random()-.5)*.01}}}const vt=25,At=Math.random()*10+5,_t=Math.round(vt+At),St=new Date(Date.now()+_t*60*1e3),It={name:pe.name||te.displayName||"User",email:pe.email||te.email||"",phone:pe.phone},Gt={userId:te.uid,userInfo:It,items:u,totalPrice:oe,tip:it,deliveryAddress:Object.fromEntries(Object.entries(pe).filter(([Oe,re])=>re!=null)),paymentMethod:de,status:"pending",createdAt:new Date,estimatedDeliveryTime:St,estimatedMinutes:_t,userLocation:je,selectedLocationAddress:(we==null?void 0:we.address)||null};try{await Kl(async()=>{const Oe=await Ks(gn(Ue,"orders"),Gt);await er(kt(Ue,"orders",Oe.id),{orderId:Oe.id}),$.success("Order placed successfully!"),g(),V(!1),t(`/current-order/${Oe.id}`)})}catch(Oe){console.error("Error placing order:",Oe),Oe.code==="permission-denied"?$.error("Access denied. Please check your permissions."):Oe.code==="unavailable"?$.error("Firebase service is temporarily unavailable. Please try again later."):$.error("Failed to place order. Please check your connection and try again.")}};d.useEffect(()=>{console.log("Categories:",j)},[j]);const Ct=K=>{ce(K),ge(!1)};return J==="All"||C.filter(K=>K.subcategory===J),o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-40 ${e?"bg-gray-800":"bg-white"}`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(Tn,{className:"w-5 h-5"})}),o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Drinks"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs(F,{onClick:()=>ge(!0),variant:"outline",size:"sm",className:`${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(rn,{className:"w-4 h-4 mr-1"}),X?"Location Set":"Set Location"]}),o.jsx(F,{onClick:()=>se(!Q),variant:"ghost",size:"icon",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(zs,{className:"w-5 h-5"})}),o.jsxs(F,{onClick:()=>w(!0),variant:"ghost",size:"icon",className:"relative",children:[o.jsx(Xn,{className:"w-5 h-5"}),be>0&&o.jsx(Tt,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:be})]}),o.jsx(F,{variant:"ghost",size:"icon",className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx(ls,{className:"w-5 h-5"})}),o.jsx(F,{onClick:()=>G(!0),variant:"ghost",size:"icon",className:"md:hidden",children:o.jsx(Fw,{className:"w-5 h-5"})})]})]})})}),Q&&o.jsx("div",{className:"container mx-auto px-4 pt-2 pb-4",children:o.jsx(Ve,{placeholder:"Search for drinks...",value:r,onChange:K=>s(K.target.value),className:`w-full ${e?"bg-gray-700":""}`})}),o.jsx("div",{className:`sticky top-16 z-40 py-2 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[o.jsxs(F,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:[o.jsx(Vw,{className:"w-4 h-4 mr-2"})," Filter"]}),o.jsxs(Xi,{children:[o.jsx(Ji,{asChild:!0,children:o.jsx(F,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Sort by"})}),o.jsxs(ai,{children:[o.jsx(li,{children:"Sort Options"}),o.jsx(Cr,{}),o.jsx($t,{onClick:()=>z("relevance"),children:"Relevance"}),o.jsx($t,{onClick:()=>z("price-asc"),children:"Price: Low to High"}),o.jsx($t,{onClick:()=>z("price-desc"),children:"Price: High to Low"}),o.jsx($t,{onClick:()=>z("rating"),children:"Rating"})]})]}),o.jsx(F,{variant:"outline",className:`rounded-full ${e?"border-gray-600 bg-gray-700":"border-gray-300"}`,children:"Offers"})]})})}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"flex space-x-4 overflow-x-auto px-2 md:justify-center md:space-x-8",children:(()=>{const K=new Set;return j.filter(de=>{if(!de.name||de.name.trim()===""||de.name===""||de.name===""||de.name.includes("http")||de.name.includes("unsplash"))return!1;const it=de.subcategory||de.id||de.name;return K.has(it)?!1:(K.add(it),!0)}).map(de=>{let it=null;if(de.image)it=o.jsx("img",{src:de.image,alt:de.name,className:"w-full h-full object-cover"});else if(de.logo)it=o.jsx("img",{src:de.logo,alt:de.name,className:"w-full h-full object-cover"});else if(de.icon&&typeof de.icon=="string"&&!de.icon.startsWith("http"))it=o.jsx("span",{className:"text-4xl flex items-center justify-center w-full h-full",children:de.icon});else return null;return o.jsxs("button",{onClick:()=>a(de.subcategory),className:"flex flex-col items-center focus:outline-none",children:[o.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 rounded-full overflow-hidden border-4 transition-all duration-200 ${i===de.subcategory?"border-orange-500 shadow-lg":"border-transparent"}`,style:{boxShadow:i===de.subcategory?"0 0 0 4px rgba(255, 115, 0, 0.2)":void 0},children:it}),o.jsx("span",{className:"mt-2 text-sm md:text-base font-medium text-center whitespace-nowrap",children:de.name})]},de.id||de.name)})})()})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6 pb-24",children:[o.jsx("div",{className:"block md:hidden space-y-4",children:Se.map(K=>o.jsxs("div",{className:"flex space-x-4 group",children:[o.jsxs("div",{className:"w-1/3 relative",children:[o.jsx("img",{src:K.image,alt:K.name,className:"rounded-2xl w-full h-40 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(Ei,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",K.price]})]}),o.jsxs("div",{className:"w-2/3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-bold text-lg ${e?"text-white":"text-gray-900"}`,children:K.name}),o.jsx(F,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Ql,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[o.jsx(Qr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[K.rating," (500+)  20-25 mins"]})]}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:K.description}),o.jsx("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar  2.2 km"}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:`font-bold text-lg mb-1 ${e?"text-orange-400":"text-orange-600"}`,children:["",K.price]}),o.jsx(F,{onClick:()=>qe(K),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]})]},K.id))}),o.jsx("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Se.map(K=>o.jsxs("div",{className:`rounded-2xl shadow-lg overflow-hidden bg-white dark:bg-gray-800 flex flex-col h-full transition-transform hover:scale-[1.02] ${e?"border border-gray-700":"border border-gray-200"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:K.image,alt:K.name,className:"w-full h-48 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm rounded-full p-1",children:o.jsx(Ei,{className:"w-5 h-5 text-gray-700"})}),o.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs font-bold px-2 py-1 rounded-md",children:["ITEMS AT ",K.price]})]}),o.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h3",{className:`font-bold text-lg truncate ${e?"text-white":"text-gray-900"}`,children:K.name}),o.jsx(F,{variant:"ghost",size:"icon",className:"w-8 h-8 -mr-2",children:o.jsx(Ql,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-1",children:[o.jsx(Qr,{className:"w-4 h-4 text-green-500 fill-green-500"}),o.jsxs("span",{children:[K.rating," (500+)  20-25 mins"]})]}),o.jsx("p",{className:`text-sm mb-1 truncate ${e?"text-gray-400":"text-gray-600"}`,children:K.description}),o.jsx("p",{className:`text-sm mb-2 truncate ${e?"text-gray-400":"text-gray-600"}`,children:"Khaprail Bazar  2.2 km"}),o.jsxs("div",{className:`font-bold text-lg mb-2 ${e?"text-orange-400":"text-orange-600"}`,children:["",K.price]}),o.jsx(F,{onClick:()=>qe(K),size:"sm",className:e?"bg-orange-500 hover:bg-orange-600 text-white w-full":"border-orange-500 text-orange-500 hover:bg-orange-50 hover:text-orange-600 w-full",variant:e?"default":"outline",children:"Add to cart"})]})]},K.id))})]}),o.jsx(tg,{cart:u,totalPrice:We,onCheckout:()=>G(!0),onDelete:()=>{g(),$.success("Cart cleared!")},onViewMenu:()=>G(!0),isDarkMode:e,buttonLabel:"Checkout",className:"!bottom-0"}),o.jsx(Wm,{open:Z,onOpenChange:G,children:o.jsxs($d,{className:`w-96 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(Ud,{children:o.jsx(zd,{className:e?"text-white":"text-gray-900",children:"Your Cart"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:u.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Xn,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:`text-lg font-medium ${e?"text-gray-300":"text-gray-600"}`,children:"Your cart is empty"}),o.jsx("p",{className:`text-sm ${e?"text-gray-500":"text-gray-400"}`,children:"Add some drinks to get started!"})]}):o.jsx("div",{className:"space-y-4",children:u.map(K=>o.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${e?"bg-gray-700":"bg-gray-50"}`,children:[o.jsx("img",{src:K.image,alt:K.name,className:"w-16 h-16 object-cover rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:K.name}),o.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:["",K.price]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(F,{variant:"outline",size:"sm",onClick:()=>p(K.id,Math.max(0,K.quantity-1)),className:e?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(Am,{className:"w-3 h-3"})}),o.jsx("span",{className:`w-8 text-center ${e?"text-white":"text-gray-900"}`,children:K.quantity}),o.jsx(F,{variant:"outline",size:"sm",onClick:()=>p(K.id,K.quantity+1),className:e?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100",children:o.jsx(mc,{className:"w-3 h-3"})})]})]},K.id))})}),u.length>0&&o.jsxs("div",{className:`border-t ${e?"border-gray-700":"border-gray-200"} pt-4`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:"Total:"}),o.jsxs("span",{className:"text-orange-500 font-bold text-lg",children:["",We.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(F,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>{if(!te){$.error("You must be logged in to place an order.");return}V(!0)},children:"Proceed to Checkout"}),o.jsx(F,{variant:"outline",className:`w-full ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,onClick:g,children:"Clear Cart"})]})]})]})}),l&&o.jsx(Hm,{product:l,onClose:()=>c(null),onAddToCart:h}),D&&o.jsx(Xm,{isOpen:D,onClose:()=>V(!1),onPlaceOrder:Nt,totalPrice:We,user:te}),o.jsx(fb,{isOpen:b,onClose:()=>w(!1),cart:u,onUpdateQuantity:p,onRemoveItem:m,onProceedToCheckout:()=>V(!0),isDarkMode:e}),o.jsx(HA,{isOpen:A,onClose:()=>L(!1),onVerified:()=>{I(!0),L(!1),localStorage.setItem("pickngo-age-verified","true")}}),o.jsx(qd,{isOpen:W,onClose:()=>ge(!1),onLocationSelect:Ct})]})},LY=()=>{const t=An(),{isDarkMode:e,toggleDarkMode:n}=en(),[r,s]=d.useState(null),[i,a]=d.useState(!1),[l,c]=d.useState(!1),[u,h]=d.useState({displayName:"",email:"",phone:"",address:"",city:"",state:"",pincode:""});d.useEffect(()=>{const g=wt.onAuthStateChanged(async v=>{if(v){s(v);try{const y=await ba(kt(Ue,"users",v.uid));if(y.exists()){const b=y.data();h({displayName:b.displayName||v.displayName||"",email:v.email||"",phone:b.phone||v.phoneNumber||"",address:b.address||"",city:b.city||"",state:b.state||"",pincode:b.pincode||""})}else h({displayName:v.displayName||"",email:v.email||"",phone:v.phoneNumber||"",address:"",city:"",state:"",pincode:""})}catch(y){console.error("Error fetching user data:",y),$.error("Failed to load profile data")}}else t("/")});return()=>g()},[t]);const p=async()=>{if(r){c(!0);try{await OP(r,{displayName:u.displayName});const g=kt(Ue,"users",r.uid);await T2(g,{displayName:u.displayName,email:u.email,phone:u.phone,address:u.address,city:u.city,state:u.state,pincode:u.pincode,updatedAt:new Date},{merge:!0}),$.success("Profile updated successfully!"),a(!1)}catch(g){console.error("Error updating profile:",g),$.error("Failed to update profile")}finally{c(!1)}}},m=()=>{h({displayName:(r==null?void 0:r.displayName)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phoneNumber)||"",address:"",city:"",state:"",pincode:""}),a(!1)};return r?o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Tn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Profile"})]}),i?o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(F,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500 bg-gray-100 rounded-full w-10 h-10",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(vr,{className:"w-5 h-5"}):o.jsx(tr,{className:"w-5 h-5"})}),o.jsxs(F,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-orange-500",onClick:m,disabled:l,children:[o.jsx(Ra,{className:"w-4 h-4 mr-1"}),"Cancel"]}),o.jsxs(F,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:p,disabled:l,children:[o.jsx(PH,{className:"w-4 h-4 mr-1"}),l?"Saving...":"Save"]})]}):o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(F,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500 bg-gray-100 rounded-full w-10 h-10",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(vr,{className:"w-5 h-5"}):o.jsx(tr,{className:"w-5 h-5"})}),o.jsxs(F,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-orange-500",onClick:()=>a(!0),children:[o.jsx($w,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx(ke,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:o.jsx(Ie,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center",children:o.jsx(ls,{className:"w-10 h-10 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:u.displayName||"User"}),o.jsx("p",{className:"text-gray-600",children:u.email}),i&&o.jsxs(F,{variant:"ghost",size:"sm",className:"mt-2 text-orange-500 hover:text-orange-600",children:[o.jsx(U2,{className:"w-4 h-4 mr-1"}),"Change Photo"]})]})]})})}),o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsx(yt,{className:"text-gray-800",children:"Personal Information"})}),o.jsxs(Ie,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"displayName",className:"text-gray-700",children:"Full Name"}),o.jsx(Ve,{id:"displayName",value:u.displayName,onChange:g=>h({...u,displayName:g.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"email",className:"text-gray-700",children:"Email"}),o.jsx(Ve,{id:"email",value:u.email,disabled:!0,className:"mt-1 bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsx(Ve,{id:"phone",value:u.phone,onChange:g=>h({...u,phone:g.target.value}),disabled:!i,className:"mt-1"})]})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"address",className:"text-gray-700",children:"Address"}),o.jsx(Ve,{id:"address",value:u.address,onChange:g=>h({...u,address:g.target.value}),disabled:!i,className:"mt-1",placeholder:"Street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"city",className:"text-gray-700",children:"City"}),o.jsx(Ve,{id:"city",value:u.city,onChange:g=>h({...u,city:g.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"state",className:"text-gray-700",children:"State"}),o.jsx(Ve,{id:"state",value:u.state,onChange:g=>h({...u,state:g.target.value}),disabled:!i,className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"pincode",className:"text-gray-700",children:"Pincode"}),o.jsx(Ve,{id:"pincode",value:u.pincode,onChange:g=>h({...u,pincode:g.target.value}),disabled:!i,className:"mt-1"})]})]})]})]})]})]}):o.jsx("div",{children:"Loading..."})},MY=()=>{const t=An(),{isDarkMode:e,toggleDarkMode:n}=en(),[r,s]=d.useState(null),[i,a]=d.useState([]),[l,c]=d.useState(!0),[u,h]=d.useState(TC());d.useEffect(()=>{const y=wt.onAuthStateChanged(async w=>{w?(s(w),await p(w.uid)):t("/")}),b=()=>{const w=TC();h(w),w&&r&&p(r.uid)};return window.addEventListener("online",b),window.addEventListener("offline",b),()=>{y(),window.removeEventListener("online",b),window.removeEventListener("offline",b)}},[t,r]);const p=async y=>{c(!0);try{if(!u){$.error("You are offline. Please check your internet connection."),c(!1);return}await Kl(async()=>{const b=gn(Ue,"orders"),w=Rs(b,di("userId","==",y)),x=await Rr(w),N=[];x.forEach(I=>{N.push({id:I.id,...I.data()})}),N.sort((I,A)=>{var _,j;const L=(_=I.createdAt)!=null&&_.toDate?I.createdAt.toDate():0;return((j=A.createdAt)!=null&&j.toDate?A.createdAt.toDate():0)-L}),a(N)})}catch(b){console.error("Error loading orders:",b),b.code==="permission-denied"?$.error("Access denied. Please check your permissions."):b.code==="unavailable"?$.error("Firebase service is temporarily unavailable. Please try again later."):$.error("Failed to load orders. Please check your connection and try again.")}finally{c(!1)}},m=async()=>{if(r)try{if(!u){$.error("You are offline. Please check your internet connection.");return}await Kl(async()=>{const y={userId:r.uid,date:new Date().toISOString().split("T")[0],status:"delivered",total:450,items:[{name:"Domino's Pizza",quantity:1,price:250},{name:"Coca Cola",quantity:2,price:100}],deliveryAddress:"White Building, Midnapore, West Bengal",deliveryTime:"20-25 mins",createdAt:iH()};await Ks(gn(Ue,"orders"),y),$.success("Sample order created!"),await p(r.uid)})}catch(y){console.error("Error creating sample order:",y),y.code==="permission-denied"?$.error("Access denied. Please check your permissions."):y.code==="unavailable"?$.error("Firebase service is temporarily unavailable. Please try again later."):$.error("Failed to create sample order. Please check your connection and try again.")}},g=y=>{switch(y){case"delivered":return"bg-green-500";case"cancelled":return"bg-red-500";case"processing":return"bg-yellow-500";default:return"bg-gray-500"}},v=y=>{switch(y){case"delivered":return o.jsx(tu,{className:"w-4 h-4"});case"cancelled":return o.jsx(wH,{className:"w-4 h-4"});case"processing":return o.jsx(Aa,{className:"w-4 h-4"});default:return o.jsx(Is,{className:"w-4 h-4"})}};return r?o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Tn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Past Orders"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(vr,{className:"w-5 h-5"}):o.jsx(tr,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[u?o.jsx(zH,{className:"w-4 h-4 text-orange-500"}):o.jsx(UH,{className:"w-4 h-4 text-red-500"}),o.jsx("span",{className:`text-xs ${u?"text-orange-500":"text-red-500"}`,children:u?"Online":"Offline"})]}),i.length===0&&o.jsx(F,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:m,children:"Create Sample Order"})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:l?o.jsx(ke,{className:"bg-white border border-gray-200",children:o.jsxs(Ie,{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):i.length===0?o.jsx(ke,{className:"bg-white border border-gray-200",children:o.jsxs(Ie,{className:"p-8 text-center",children:[o.jsx(Is,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800",children:"No Orders Yet"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Start shopping to see your order history here"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(F,{onClick:()=>t("/"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:"Start Shopping"}),o.jsx(F,{variant:"outline",onClick:m,className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Create Sample Order"})]})]})}):o.jsxs("div",{className:"space-y-4",children:[i.filter(y=>y.status!=="delivered"&&y.status!=="cancelled").length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 text-orange-500 flex items-center",children:[o.jsx(as,{className:"w-5 h-5 mr-2"}),"Current Orders"]}),o.jsx("div",{className:"space-y-4",children:i.filter(y=>y.status!=="delivered"&&y.status!=="cancelled").map(y=>{var b,w;return o.jsxs(ke,{className:"bg-white border border-orange-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(yt,{className:"text-gray-800",children:["Order #",y.id.slice(-6)]}),o.jsx("p",{className:"text-gray-600 text-sm",children:(b=y.createdAt)!=null&&b.toDate?y.createdAt.toDate().toLocaleDateString():y.date})]}),o.jsx(Tt,{className:"bg-orange-500 text-white",children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(as,{className:"w-4 h-4"}),o.jsx("span",{className:"capitalize",children:y.status})]})})]})}),o.jsxs(Ie,{children:[o.jsx("div",{className:"space-y-2",children:y.items.map((x,N)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(Is,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:x.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",x.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["",x.price]})]},N))}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg mt-3",children:[o.jsx(rn,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:typeof y.deliveryAddress=="string"?y.deliveryAddress:(w=y.deliveryAddress)!=null&&w.address?`${y.deliveryAddress.address}, ${y.deliveryAddress.city}, ${y.deliveryAddress.state} - ${y.deliveryAddress.pincode}`:"Address not available"})]}),o.jsxs("div",{className:"space-y-3 p-3 bg-orange-50 rounded-lg mt-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(as,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Delivery Time: ",y.deliveryTime||"20-25 mins"]})]}),y.paymentMethod&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 text-orange-500",children:""}),o.jsxs("span",{className:"text-sm text-gray-600 capitalize",children:["Payment: ",y.paymentMethod==="cod"?"Cash on Delivery":y.paymentMethod.toUpperCase()]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-orange-200",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["",y.totalPrice||y.total||0]})]})]}),o.jsxs("div",{className:"flex space-x-2 mt-4",children:[o.jsxs(F,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>t(`/current-order/${y.id}`),children:[o.jsx(as,{className:"w-4 h-4 mr-2"}),"Track Order"]}),o.jsxs(F,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Call Support"]})]})]})]},`current-${y.id}`)})})]}),i.filter(y=>y.status==="delivered"||y.status==="cancelled").length>0&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:[o.jsx(Is,{className:"w-5 h-5 mr-2"}),"Past Orders"]}),o.jsx("div",{className:"space-y-4",children:i.filter(y=>y.status==="delivered"||y.status==="cancelled").map(y=>{var b,w;return o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(yt,{className:"text-gray-800",children:["Order #",y.id.slice(-6)]}),o.jsx("p",{className:"text-gray-600 text-sm",children:(b=y.createdAt)!=null&&b.toDate?y.createdAt.toDate().toLocaleDateString():y.date})]}),o.jsx(Tt,{className:`${g(y.status)} text-white`,children:o.jsxs("div",{className:"flex items-center space-x-1",children:[v(y.status),o.jsx("span",{className:"capitalize",children:y.status})]})})]})}),o.jsxs(Ie,{children:[o.jsx("div",{className:"space-y-2",children:y.items.map((x,N)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(Is,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:x.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",x.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["",x.price]})]},N))}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg mt-3",children:[o.jsx(rn,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:typeof y.deliveryAddress=="string"?y.deliveryAddress:(w=y.deliveryAddress)!=null&&w.address?`${y.deliveryAddress.address}, ${y.deliveryAddress.city}, ${y.deliveryAddress.state} - ${y.deliveryAddress.pincode}`:"Address not available"})]}),o.jsxs("div",{className:"space-y-3 p-3 bg-orange-50 rounded-lg mt-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(as,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Delivery Time: ",y.deliveryTime||"20-25 mins"]})]}),y.paymentMethod&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 text-orange-500",children:""}),o.jsxs("span",{className:"text-sm text-gray-600 capitalize",children:["Payment: ",y.paymentMethod==="cod"?"Cash on Delivery":y.paymentMethod.toUpperCase()]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),o.jsxs("span",{className:"text-gray-800",children:["",y.totalPrice||y.total||0]})]}),y.tip&&y.tip>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Tip:"}),o.jsxs("span",{className:"text-gray-800",children:["",y.tip]})]}),y.totalPrice&&y.totalPrice>299?o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee:"}),o.jsx("span",{className:"text-orange-500",children:"FREE"})]}):y.totalPrice&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Delivery Fee:"}),o.jsx("span",{className:"text-gray-800",children:"29"})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-orange-200",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["",y.totalPrice||y.total||0]})]})]})]}),o.jsxs("div",{className:"flex space-x-2 mt-4",children:[y.status!=="delivered"&&y.status!=="cancelled"&&o.jsxs(F,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>t(`/current-order/${y.id}`),children:[o.jsx(as,{className:"w-4 h-4 mr-2"}),"Track Order"]}),o.jsxs(F,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Rate Order"]}),o.jsxs(F,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(Is,{className:"w-4 h-4 mr-2"}),"Reorder"]})]})]})]},y.id)})})]})]})})]}):o.jsx("div",{children:"Loading..."})};var pb="Progress",mb=100,[DY,CX]=Kn(pb),[OY,VY]=DY(pb),VL=d.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=FY,...a}=t;(s||s===0)&&!yS(s)&&console.error($Y(`${s}`,"Progress"));const l=yS(s)?s:mb;r!==null&&!vS(r,l)&&console.error(UY(`${r}`,"Progress"));const c=vS(r,l)?r:null,u=kp(c)?i(c,l):void 0;return o.jsx(OY,{scope:n,value:c,max:l,children:o.jsx(Re.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":kp(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":UL(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});VL.displayName=pb;var FL="ProgressIndicator",$L=d.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=VY(FL,n);return o.jsx(Re.div,{"data-state":UL(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});$L.displayName=FL;function FY(t,e){return`${Math.round(t/e*100)}%`}function UL(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function kp(t){return typeof t=="number"}function yS(t){return kp(t)&&!isNaN(t)&&t>0}function vS(t,e){return kp(t)&&!isNaN(t)&&t<=e&&t>=0}function $Y(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${mb}\`.`}function UY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${mb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var zL=VL,zY=$L;const BL=d.forwardRef(({className:t,value:e,...n},r)=>o.jsx(zL,{ref:r,className:Ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(zY,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));BL.displayName=zL.displayName;const BY=()=>{var te;const t=An(),{orderId:e}=cF(),{isDarkMode:n,toggleDarkMode:r}=en(),[s,i]=d.useState(null),[a,l]=d.useState(null),[c,u]=d.useState(!0),[h,p]=d.useState(1),[m,g]=d.useState({minutes:0,seconds:0}),[v,y]=d.useState(0),b="AIzaSyC0aUsBjWppu-5sSvme3Zz66Ts9aFKOYRs",w={width:"100%",height:"300px"},x={lat:22.5726,lng:88.3639},{isLoaded:N}=aL({googleMapsApiKey:b,libraries:["places"]}),I={dominos:{lat:22.5726,lng:88.3639,name:"Domino's Pizza",address:"Park Street, Kolkata",icon:""},spice_n_ice:{lat:22.5726+.005,lng:88.3639+.005,name:"Spice N Ice",address:"Esplanade, Kolkata",icon:""},china_nation:{lat:22.5726-.003,lng:88.3639-.003,name:"China Nation",address:"Chowringhee, Kolkata",icon:""},default:{lat:22.5726,lng:88.3639,name:"Restaurant",address:"Kolkata",icon:""}};d.useEffect(()=>{const O=wt.onAuthStateChanged(async D=>{D?(i(D),e&&await A(e)):t("/")});return()=>O()},[t,e]);const A=async O=>{u(!0);try{const D=kt(Ue,"orders",O);return R2(D,U=>{if(U.exists()){const z={id:U.id,...U.data()};l(z),z.status&&P(z.status),setTimeout(async()=>{await L(z)},100)}else $.error("Order not found"),t("/past-orders");u(!1)})}catch(D){console.error("Error loading order:",D),$.error("Failed to load order"),u(!1)}},L=async O=>{if(!N)return;const D=T(O),V=O.userLocation||{lat:22.5726,lng:88.3639},[U,z]=await Promise.all([k(D.lat,D.lng),k(V.lat,V.lng)]);D.address=U,(D.lat+V.lat)/2,(D.lng+V.lng)/2;const Q=C(D.lat,D.lng,V.lat,V.lng);y(Q)},C=(O,D,V,U)=>{const Q=(V-O)*Math.PI/180,se=(U-D)*Math.PI/180,W=Math.sin(Q/2)*Math.sin(Q/2)+Math.cos(O*Math.PI/180)*Math.cos(V*Math.PI/180)*Math.sin(se/2)*Math.sin(se/2);return 6371*(2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W)))};d.useEffect(()=>{if(!(a!=null&&a.estimatedDeliveryTime))return;const O=setInterval(()=>{const D=new Date().getTime(),U=(a.estimatedDeliveryTime.toDate?a.estimatedDeliveryTime.toDate().getTime():new Date(a.estimatedDeliveryTime).getTime())-D;if(U>0){const z=Math.floor(U/6e4),Q=Math.floor(U%(1e3*60)/1e3);g({minutes:z,seconds:Q})}else g({minutes:0,seconds:0}),a.status!=="delivered"&&_("delivered")},1e3);return()=>clearInterval(O)},[a]);const _=async O=>{if(e)try{const D=kt(Ue,"orders",e);await er(D,{status:O})}catch(D){console.error("Error updating order status:",D)}},j=O=>{if(!O||O.length===0)return"default";const D=O[0].name.toLowerCase();return D.includes("domino")||D.includes("pizza")?"dominos":D.includes("spice")||D.includes("ice")?"spice_n_ice":D.includes("china")||D.includes("nation")?"china_nation":"default"},T=O=>{if(!O||!O.items)return I.default;const D=O.userLocation||{lat:22.5726,lng:88.3639},V=j(O.items),U={dominos:{name:"Domino's Pizza",address:"Nearby Location",icon:"",offset:{lat:.002,lng:.003}},spice_n_ice:{name:"Spice N Ice",address:"Local Restaurant",icon:"",offset:{lat:-.001,lng:.002}},china_nation:{name:"China Nation",address:"Chinese Restaurant",icon:"",offset:{lat:.003,lng:-.001}},default:{name:"Local Restaurant",address:"Nearby Location",icon:"",offset:{lat:.001,lng:.001}}},z=U[V]||U.default;return{lat:D.lat+z.offset.lat,lng:D.lng+z.offset.lng,name:z.name,address:z.address,icon:z.icon}},k=async(O,D)=>{try{const U=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${O}&lon=${D}&zoom=18&addressdetails=1`)).json();if(U&&U.display_name){const z=U.display_name.split(", "),Q=z[0]||"Nearby Location",se=z[z.length-3]||"Your Area";return`${Q}, ${se}`}}catch(V){console.error("Error getting address:",V)}return"Nearby Location"},P=O=>{switch(O){case"pending":p(1);break;case"confirmed":p(2);break;case"preparing":p(3);break;case"out_for_delivery":p(4);break;case"delivered":p(5);break;default:p(1)}},R=O=>{const D=[{title:"Order Placed",description:"Your order has been received",icon:"",color:"text-blue-400"},{title:"Order Confirmed",description:"Restaurant has confirmed your order",icon:"",color:"text-green-400"},{title:"Preparing",description:"Your food is being prepared",icon:"",color:"text-yellow-400"},{title:"Out for Delivery",description:"Your order is on the way",icon:"",color:"text-pickngo-orange-400"},{title:"Delivered",description:"Enjoy your meal!",icon:"",color:"text-green-500"}];return D[O-1]||D[0]},H=()=>{var O;return a?typeof a.deliveryAddress=="string"?a.deliveryAddress:(O=a.deliveryAddress)!=null&&O.address?`${a.deliveryAddress.address}, ${a.deliveryAddress.city}, ${a.deliveryAddress.state} - ${a.deliveryAddress.pincode}`:"Address not available":""};if(d.useEffect(()=>()=>{},[]),!s)return o.jsx("div",{children:"Loading..."});if(c)return o.jsx("div",{className:"min-h-screen bg-white text-gray-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{children:"Loading order details..."})]})});if(!a)return o.jsx("div",{className:"min-h-screen bg-white text-gray-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{children:"Order not found"}),o.jsx(F,{onClick:()=>t("/past-orders"),className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white",children:"Go to Past Orders"})]})});const Z=T(a),G=R(h);return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/past-orders"),children:o.jsx(Tn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-gray-800 font-bold text-lg",children:["Order #",a.id.slice(-6)]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(LH,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"text-orange-500 font-semibold",children:[m.minutes,"m ",m.seconds,"s left"]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(F,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:r,title:n?"Switch to light mode":"Switch to dark mode",children:n?o.jsx(vr,{className:"w-5 h-5"}):o.jsx(tr,{className:"w-5 h-5"})}),o.jsxs(Tt,{className:"bg-orange-500 text-white",children:[o.jsx(Aa,{className:"w-4 h-4 mr-1"}),v.toFixed(1)," km away"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-4",children:[o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(ut,{children:o.jsxs(yt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(rn,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Live Tracking"})]})}),o.jsxs(Ie,{children:[N&&a&&o.jsxs(nL,{mapContainerStyle:w,center:a.userLocation||x,zoom:14,options:{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1},children:[o.jsx(wp,{position:I[j(a.items||[])]||I.default,label:"R"}),a.userLocation&&o.jsx(wp,{position:a.userLocation,label:"U"}),a.userLocation&&o.jsx(fL,{path:[I[j(a.items||[])]||I.default,a.userLocation],options:{strokeColor:"#3b82f6",strokeWeight:4,strokeOpacity:.7}})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Distance"}),o.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[v.toFixed(1)," km"]})]}),o.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Est. Time"}),o.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[m.minutes,"m ",m.seconds,"s"]})]})]})]})]}),o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsxs(ut,{children:[o.jsxs(yt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:G.icon}),o.jsx("span",{className:"text-orange-500",children:G.title})]}),o.jsx("p",{className:"text-gray-600",children:G.description})]}),o.jsx(Ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Progress"}),o.jsxs("span",{className:"text-gray-800",children:[Math.round(h/5*100),"%"]})]}),o.jsx(BL,{value:h/5*100,className:"h-2"})]}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(O=>o.jsxs("div",{className:`flex flex-col items-center p-2 rounded-lg transition-all duration-300 ${O<=h?"bg-orange-100 scale-105":"bg-gray-100"}`,children:[o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs transition-all duration-300 ${O<=h?"bg-orange-500 shadow-lg text-white":"bg-gray-300 text-gray-600"}`,children:O<h?"":O}),o.jsx("span",{className:"text-xs mt-1 text-center text-gray-600",children:R(O).title.split(" ")[0]})]},O))})]})})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs(yt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx("span",{className:"text-2xl",children:Z.icon}),o.jsx("span",{children:"Restaurant"})]})}),o.jsxs(Ie,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:Z.name}),o.jsx("p",{className:"text-gray-600",children:Z.address})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(F,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Call Restaurant"]}),o.jsxs(F,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(r0,{className:"w-4 h-4 mr-2"}),"Directions"]})]})]})]}),o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs(yt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(as,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Delivery Address"})]})}),o.jsxs(Ie,{className:"space-y-4",children:[o.jsx("div",{children:o.jsx("p",{className:"text-gray-600",children:H()})}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(F,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Call Delivery"]}),o.jsxs(F,{variant:"outline",size:"sm",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(r0,{className:"w-4 h-4 mr-2"}),"Track Order"]})]})]})]})]}),o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(ut,{children:o.jsx(yt,{className:"text-gray-800",children:"Order Items"})}),o.jsxs(Ie,{children:[o.jsx("div",{className:"space-y-3",children:(te=a.items)==null?void 0:te.map((O,D)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-orange-600 text-sm",children:""})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:O.name}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",O.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["",O.price]})]},D))}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["",a.totalPrice||a.total||0]})]})})]})]}),o.jsxs("div",{className:"flex space-x-3 mb-6",children:[o.jsx(F,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>t("/past-orders"),children:"View All Orders"}),o.jsx(F,{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>t("/"),children:"Order Again"})]})]})]})};var ng="Switch",[HY,_X]=Kn(ng),[WY,qY]=HY(ng),HL=d.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:h,...p}=t,[m,g]=d.useState(null),v=et(e,N=>g(N)),y=d.useRef(!1),b=m?h||!!m.closest("form"):!0,[w,x]=Gr({prop:s,defaultProp:i??!1,onChange:u,caller:ng});return o.jsxs(WY,{scope:n,checked:w,disabled:l,children:[o.jsx(Re.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":KL(w),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:v,onClick:ye(t.onClick,N=>{x(I=>!I),b&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})}),b&&o.jsx(GL,{control:m,bubbles:!y.current,name:r,value:c,checked:w,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});HL.displayName=ng;var WL="SwitchThumb",qL=d.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=qY(WL,n);return o.jsx(Re.span,{"data-state":KL(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});qL.displayName=WL;var GY="SwitchBubbleInput",GL=d.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=d.useRef(null),l=et(a,i),c=ob(n),u=kx(e);return d.useEffect(()=>{const h=a.current;if(!h)return;const p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&g){const v=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(v)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});GL.displayName=GY;function KL(t){return t?"checked":"unchecked"}var QL=HL,KY=qL;const iu=d.forwardRef(({className:t,...e},n)=>o.jsx(QL,{className:Ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(KY,{className:Ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));iu.displayName=QL.displayName;function xS(t,[e,n]){return Math.min(n,Math.max(e,t))}var QY=[" ","Enter","ArrowUp","ArrowDown"],YY=[" ","Enter"],Ca="Select",[rg,sg,ZY]=Lm(Ca),[wc,SX]=Kn(Ca,[ZY,Io]),ig=Io(),[XY,Mo]=wc(Ca),[JY,eZ]=wc(Ca),YL=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:p,disabled:m,required:g,form:v}=t,y=ig(e),[b,w]=d.useState(null),[x,N]=d.useState(null),[I,A]=d.useState(!1),L=gc(u),[C,_]=Gr({prop:r,defaultProp:s??!1,onChange:i,caller:Ca}),[j,T]=Gr({prop:a,defaultProp:l,onChange:c,caller:Ca}),k=d.useRef(null),P=b?v||!!b.closest("form"):!0,[R,H]=d.useState(new Set),Z=Array.from(R).map(G=>G.props.value).join(";");return o.jsx(Tx,{...y,children:o.jsxs(XY,{required:g,scope:e,trigger:b,onTriggerChange:w,valueNode:x,onValueNodeChange:N,valueNodeHasChildren:I,onValueNodeHasChildrenChange:A,contentId:Pr(),value:j,onValueChange:T,open:C,onOpenChange:_,dir:L,triggerPointerDownPosRef:k,disabled:m,children:[o.jsx(rg.Provider,{scope:e,children:o.jsx(JY,{scope:t.__scopeSelect,onNativeOptionAdd:d.useCallback(G=>{H(te=>new Set(te).add(G))},[]),onNativeOptionRemove:d.useCallback(G=>{H(te=>{const O=new Set(te);return O.delete(G),O})},[]),children:n})}),P?o.jsxs(wM,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:p,value:j,onChange:G=>T(G.target.value),disabled:m,form:v,children:[j===void 0?o.jsx("option",{value:""}):null,Array.from(R)]},Z):null]})})};YL.displayName=Ca;var ZL="SelectTrigger",XL=d.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ig(n),a=Mo(ZL,n),l=a.disabled||r,c=et(e,a.onTriggerChange),u=sg(n),h=d.useRef("touch"),[p,m,g]=EM(y=>{const b=u().filter(N=>!N.disabled),w=b.find(N=>N.value===a.value),x=NM(b,y,w);x!==void 0&&a.onValueChange(x.value)}),v=y=>{l||(a.onOpenChange(!0),g()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return o.jsx(Ed,{asChild:!0,...i,children:o.jsx(Re.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":bM(a.value)?"":void 0,...s,ref:c,onClick:ye(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&v(y)}),onPointerDown:ye(s.onPointerDown,y=>{h.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:ye(s.onKeyDown,y=>{const b=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(b&&y.key===" ")&&QY.includes(y.key)&&(v(),y.preventDefault())})})})});XL.displayName=ZL;var JL="SelectValue",eM=d.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=Mo(JL,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,p=et(e,c.onValueNodeChange);return In(()=>{u(h)},[u,h]),o.jsx(Re.span,{...l,ref:p,style:{pointerEvents:"none"},children:bM(c.value)?o.jsx(o.Fragment,{children:a}):i})});eM.displayName=JL;var tZ="SelectIcon",tM=d.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Re.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});tM.displayName=tZ;var nZ="SelectPortal",nM=t=>o.jsx(Nd,{asChild:!0,...t});nM.displayName=nZ;var _a="SelectContent",rM=d.forwardRef((t,e)=>{const n=Mo(_a,t.__scopeSelect),[r,s]=d.useState();if(In(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Yr.createPortal(o.jsx(sM,{scope:t.__scopeSelect,children:o.jsx(rg.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(iM,{...t,ref:e})});rM.displayName=_a;var es=10,[sM,Do]=wc(_a),rZ="SelectContentImpl",sZ=yo("SelectContent.RemoveScroll"),iM=d.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b,...w}=t,x=Mo(_a,n),[N,I]=d.useState(null),[A,L]=d.useState(null),C=et(e,X=>I(X)),[_,j]=d.useState(null),[T,k]=d.useState(null),P=sg(n),[R,H]=d.useState(!1),Z=d.useRef(!1);d.useEffect(()=>{if(N)return Vm(N)},[N]),Dm();const G=d.useCallback(X=>{const[ce,...xe]=P().map(B=>B.ref.current),[Y]=xe.slice(-1),J=document.activeElement;for(const B of X)if(B===J||(B==null||B.scrollIntoView({block:"nearest"}),B===ce&&A&&(A.scrollTop=0),B===Y&&A&&(A.scrollTop=A.scrollHeight),B==null||B.focus(),document.activeElement!==J))return},[P,A]),te=d.useCallback(()=>G([_,N]),[G,_,N]);d.useEffect(()=>{R&&te()},[R,te]);const{onOpenChange:O,triggerPointerDownPosRef:D}=x;d.useEffect(()=>{if(N){let X={x:0,y:0};const ce=Y=>{var J,B;X={x:Math.abs(Math.round(Y.pageX)-(((J=D.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(Y.pageY)-(((B=D.current)==null?void 0:B.y)??0))}},xe=Y=>{X.x<=10&&X.y<=10?Y.preventDefault():N.contains(Y.target)||O(!1),document.removeEventListener("pointermove",ce),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",xe,{capture:!0})}}},[N,O,D]),d.useEffect(()=>{const X=()=>O(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[O]);const[V,U]=EM(X=>{const ce=P().filter(J=>!J.disabled),xe=ce.find(J=>J.ref.current===document.activeElement),Y=NM(ce,X,xe);Y&&setTimeout(()=>Y.ref.current.focus())}),z=d.useCallback((X,ce,xe)=>{const Y=!Z.current&&!xe;(x.value!==void 0&&x.value===ce||Y)&&(j(X),Y&&(Z.current=!0))},[x.value]),Q=d.useCallback(()=>N==null?void 0:N.focus(),[N]),se=d.useCallback((X,ce,xe)=>{const Y=!Z.current&&!xe;(x.value!==void 0&&x.value===ce||Y)&&k(X)},[x.value]),W=r==="popper"?w0:oM,ge=W===w0?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b}:{};return o.jsx(sM,{scope:n,content:N,viewport:A,onViewportChange:L,itemRefCallback:z,selectedItem:_,onItemLeave:Q,itemTextRefCallback:se,focusSelectedItem:te,selectedItemText:T,position:r,isPositioned:R,searchRef:V,children:o.jsx(Fd,{as:sZ,allowPinchZoom:!0,children:o.jsx(Vd,{asChild:!0,trapped:x.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:ye(s,X=>{var ce;(ce=x.trigger)==null||ce.focus({preventScroll:!0}),X.preventDefault()}),children:o.jsx(ec,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(W,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:X=>X.preventDefault(),...w,...ge,onPlaced:()=>H(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ye(w.onKeyDown,X=>{const ce=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!ce&&X.key.length===1&&U(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let Y=P().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(X.key)&&(Y=Y.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const J=X.target,B=Y.indexOf(J);Y=Y.slice(B+1)}setTimeout(()=>G(Y)),X.preventDefault()}})})})})})})});iM.displayName=rZ;var iZ="SelectItemAlignedPosition",oM=d.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Mo(_a,n),a=Do(_a,n),[l,c]=d.useState(null),[u,h]=d.useState(null),p=et(e,C=>h(C)),m=sg(n),g=d.useRef(!1),v=d.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:w,focusSelectedItem:x}=a,N=d.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&y&&b&&w){const C=i.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),j=i.valueNode.getBoundingClientRect(),T=w.getBoundingClientRect();if(i.dir!=="rtl"){const J=T.left-_.left,B=j.left-J,he=C.left-B,Se=C.width+he,be=Math.max(Se,_.width),We=window.innerWidth-es,qe=xS(B,[es,Math.max(es,We-be)]);l.style.minWidth=Se+"px",l.style.left=qe+"px"}else{const J=_.right-T.right,B=window.innerWidth-j.right-J,he=window.innerWidth-C.right-B,Se=C.width+he,be=Math.max(Se,_.width),We=window.innerWidth-es,qe=xS(B,[es,Math.max(es,We-be)]);l.style.minWidth=Se+"px",l.style.right=qe+"px"}const k=m(),P=window.innerHeight-es*2,R=y.scrollHeight,H=window.getComputedStyle(u),Z=parseInt(H.borderTopWidth,10),G=parseInt(H.paddingTop,10),te=parseInt(H.borderBottomWidth,10),O=parseInt(H.paddingBottom,10),D=Z+G+R+O+te,V=Math.min(b.offsetHeight*5,D),U=window.getComputedStyle(y),z=parseInt(U.paddingTop,10),Q=parseInt(U.paddingBottom,10),se=C.top+C.height/2-es,W=P-se,ge=b.offsetHeight/2,X=b.offsetTop+ge,ce=Z+G+X,xe=D-ce;if(ce<=se){const J=k.length>0&&b===k[k.length-1].ref.current;l.style.bottom="0px";const B=u.clientHeight-y.offsetTop-y.offsetHeight,he=Math.max(W,ge+(J?Q:0)+B+te),Se=ce+he;l.style.height=Se+"px"}else{const J=k.length>0&&b===k[0].ref.current;l.style.top="0px";const he=Math.max(se,Z+y.offsetTop+(J?z:0)+ge)+xe;l.style.height=he+"px",y.scrollTop=ce-se+y.offsetTop}l.style.margin=`${es}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,l,u,y,b,w,i.dir,r]);In(()=>N(),[N]);const[I,A]=d.useState();In(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const L=d.useCallback(C=>{C&&v.current===!0&&(N(),x==null||x(),v.current=!1)},[N,x]);return o.jsx(aZ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:L,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:o.jsx(Re.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});oM.displayName=iZ;var oZ="SelectPopperPosition",w0=d.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=es,...i}=t,a=ig(n);return o.jsx(Zp,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});w0.displayName=oZ;var[aZ,gb]=wc(_a,{}),b0="SelectViewport",aM=d.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Do(b0,n),a=gb(b0,n),l=et(e,i.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(rg.Slot,{scope:n,children:o.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ye(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&p){const g=Math.abs(c.current-h.scrollTop);if(g>0){const v=window.innerHeight-es*2,y=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),w=Math.max(y,b);if(w<v){const x=w+g,N=Math.min(v,x),I=x-N;p.style.height=N+"px",p.style.bottom==="0px"&&(h.scrollTop=I>0?I:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});aM.displayName=b0;var lM="SelectGroup",[lZ,cZ]=wc(lM),uZ=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Pr();return o.jsx(lZ,{scope:n,id:s,children:o.jsx(Re.div,{role:"group","aria-labelledby":s,...r,ref:e})})});uZ.displayName=lM;var cM="SelectLabel",uM=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=cZ(cM,n);return o.jsx(Re.div,{id:s.id,...r,ref:e})});uM.displayName=cM;var Ip="SelectItem",[dZ,dM]=wc(Ip),hM=d.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=Mo(Ip,n),c=Do(Ip,n),u=l.value===r,[h,p]=d.useState(i??""),[m,g]=d.useState(!1),v=et(e,x=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,x,r,s)}),y=Pr(),b=d.useRef("touch"),w=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(dZ,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:d.useCallback(x=>{p(N=>N||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(rg.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(Re.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:ye(a.onFocus,()=>g(!0)),onBlur:ye(a.onBlur,()=>g(!1)),onClick:ye(a.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:ye(a.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:ye(a.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:ye(a.onPointerMove,x=>{var N;b.current=x.pointerType,s?(N=c.onItemLeave)==null||N.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(a.onPointerLeave,x=>{var N;x.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:ye(a.onKeyDown,x=>{var I;((I=c.searchRef)==null?void 0:I.current)!==""&&x.key===" "||(YY.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});hM.displayName=Ip;var ou="SelectItemText",fM=d.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=Mo(ou,n),l=Do(ou,n),c=dM(ou,n),u=eZ(ou,n),[h,p]=d.useState(null),m=et(e,w=>p(w),c.onItemTextChange,w=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,w,c.value,c.disabled)}),g=h==null?void 0:h.textContent,v=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return In(()=>(y(v),()=>b(v)),[y,b,v]),o.jsxs(o.Fragment,{children:[o.jsx(Re.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Yr.createPortal(i.children,a.valueNode):null]})});fM.displayName=ou;var pM="SelectItemIndicator",mM=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return dM(pM,n).isSelected?o.jsx(Re.span,{"aria-hidden":!0,...r,ref:e}):null});mM.displayName=pM;var E0="SelectScrollUpButton",gM=d.forwardRef((t,e)=>{const n=Do(E0,t.__scopeSelect),r=gb(E0,t.__scopeSelect),[s,i]=d.useState(!1),a=et(e,r.onScrollButtonChange);return In(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(vM,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});gM.displayName=E0;var N0="SelectScrollDownButton",yM=d.forwardRef((t,e)=>{const n=Do(N0,t.__scopeSelect),r=gb(N0,t.__scopeSelect),[s,i]=d.useState(!1),a=et(e,r.onScrollButtonChange);return In(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(vM,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});yM.displayName=N0;var vM=d.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Do("SelectScrollButton",n),a=d.useRef(null),l=sg(n),c=d.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),In(()=>{var h;const u=l().find(p=>p.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(Re.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ye(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ye(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ye(s.onPointerLeave,()=>{c()})})}),hZ="SelectSeparator",xM=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Re.div,{"aria-hidden":!0,...r,ref:e})});xM.displayName=hZ;var C0="SelectArrow",fZ=d.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ig(n),i=Mo(C0,n),a=Do(C0,n);return i.open&&a.position==="popper"?o.jsx(Xp,{...s,...r,ref:e}):null});fZ.displayName=C0;var pZ="SelectBubbleInput",wM=d.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=d.useRef(null),i=et(r,s),a=ob(e);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&h){const p=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(p)}},[a,e]),o.jsx(Re.select,{...n,style:{...mI,...n.style},ref:i,defaultValue:e})});wM.displayName=pZ;function bM(t){return t===""||t===void 0}function EM(t){const e=Bs(t),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function NM(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=mZ(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function mZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var gZ=YL,CM=XL,yZ=eM,vZ=tM,xZ=nM,_M=rM,wZ=aM,SM=uM,jM=hM,bZ=fM,EZ=mM,kM=gM,IM=yM,PM=xM;const og=gZ,ag=yZ,Kd=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(CM,{ref:r,className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(vZ,{asChild:!0,children:o.jsx(Ow,{className:"h-4 w-4 opacity-50"})})]}));Kd.displayName=CM.displayName;const TM=d.forwardRef(({className:t,...e},n)=>o.jsx(kM,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(xH,{className:"h-4 w-4"})}));TM.displayName=kM.displayName;const AM=d.forwardRef(({className:t,...e},n)=>o.jsx(IM,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(Ow,{className:"h-4 w-4"})}));AM.displayName=IM.displayName;const Qd=d.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(xZ,{children:o.jsxs(_M,{ref:s,className:Ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(TM,{}),o.jsx(wZ,{className:Ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(AM,{})]})}));Qd.displayName=_M.displayName;const NZ=d.forwardRef(({className:t,...e},n)=>o.jsx(SM,{ref:n,className:Ae("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));NZ.displayName=SM.displayName;const ln=d.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(jM,{ref:r,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(EZ,{children:o.jsx(Tm,{className:"h-4 w-4"})})}),o.jsx(bZ,{children:e})]}));ln.displayName=jM.displayName;const CZ=d.forwardRef(({className:t,...e},n)=>o.jsx(PM,{ref:n,className:Ae("-mx-1 my-1 h-px bg-muted",t),...e}));CZ.displayName=PM.displayName;const _Z=()=>{const t=An(),{isDarkMode:e,setDarkMode:n}=en(),[r,s]=d.useState(null),[i,a]=d.useState(!0),[l,c]=d.useState({notifications:!0,language:"en",sound:!0,emailNotifications:!0,pushNotifications:!0}),[u,h]=d.useState(!1),[p,m]=d.useState(!1),[g,v]=d.useState(!1),[y,b]=d.useState(!1),[w,x]=d.useState(""),[N,I]=d.useState(""),[A,L]=d.useState(""),[C,_]=d.useState(!1),[j,T]=d.useState(!1),[k,P]=d.useState(!1),[R,H]=d.useState(!1),[Z,G]=d.useState(""),[te,O]=d.useState(!1),[D,V]=d.useState(!1),[U,z]=d.useState(!1);d.useEffect(()=>{const Y=wt.onAuthStateChanged(async J=>{if(J){s(J),await Q(J.uid);const B=await ba(kt(Ue,"users",J.uid));if(B.exists()){const he=B.data();V(he.twoFactorEnabled||!1)}}else t("/")});return()=>Y()},[t]);const Q=async Y=>{a(!0);try{const J=await ba(kt(Ue,"users",Y));if(J.exists()){const B=J.data();B.settings&&(c(B.settings),B.settings.darkMode!==void 0&&n(B.settings.darkMode))}}catch(J){console.error("Error loading settings:",J),$.error("Failed to load settings")}finally{a(!1)}},se=async(Y,J)=>{if(r)try{const B={...l,[Y]:J};c(B);const he=kt(Ue,"users",r.uid);await er(he,{settings:B,updatedAt:new Date}),Y==="pushNotifications"&&J&&await ge(),Y==="sound"&&J&&new Audio("/notification.mp3").play().catch(()=>{}),$.success(`${Y.replace(/([A-Z])/g," $1").toLowerCase()} updated`)}catch(B){console.error("Error updating settings:",B),$.error("Failed to update settings"),c(he=>({...he,[Y]:!J}))}},W=async Y=>{if(n(Y),!!r)try{const J={...l,darkMode:Y};c(J);const B=kt(Ue,"users",r.uid);await er(B,{settings:J,updatedAt:new Date}),$.success(`Dark mode ${Y?"enabled":"disabled"}`)}catch(J){console.error("Error updating dark mode:",J),$.error("Failed to update dark mode")}},ge=async()=>{"Notification"in window&&await Notification.requestPermission()!=="granted"&&($.error("Notification permission denied"),c(J=>({...J,pushNotifications:!1})))},X=async Y=>{if(Y.preventDefault(),N!==A){$.error("New passwords do not match");return}if(N.length<6){$.error("Password must be at least 6 characters long");return}H(!0);try{const J=Ia.credential(r.email,w);await x8(r,J),await N8(r,N),$.success("Password updated successfully"),h(!1),x(""),I(""),L("")}catch(J){console.error("Error changing password:",J),J.code==="auth/wrong-password"?$.error("Current password is incorrect"):J.code==="auth/weak-password"?$.error("New password is too weak"):$.error("Failed to update password")}finally{H(!1)}},ce=async()=>{z(!0);try{const Y=kt(Ue,"users",r.uid);await er(Y,{twoFactorEnabled:!0,updatedAt:new Date}),V(!0),$.success("Two-factor authentication enabled"),b(!1)}catch(Y){console.error("Error setting up 2FA:",Y),$.error("Failed to setup two-factor authentication")}finally{z(!1)}},xe=async()=>{if(Z!=="DELETE"){$.error("Please type DELETE to confirm");return}O(!0);try{const Y=kt(Ue,"users",r.uid);await A2(Y),await j8(r),$.success("Account deleted successfully"),t("/")}catch(Y){console.error("Error deleting account:",Y),$.error("Failed to delete account. Please try again.")}finally{O(!1)}};return r?o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Tn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Settings"})]})})})}),o.jsx("div",{className:"container mx-auto px-4 py-6 space-y-6",children:i?o.jsx(ke,{className:"bg-white border border-gray-200 shadow-sm",children:o.jsxs(Ie,{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading settings..."})]})}):o.jsxs(o.Fragment,{children:[o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs(yt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(AC,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Notifications"})]})}),o.jsxs(Ie,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(AC,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Me,{className:"text-gray-800",children:"Push Notifications"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Receive notifications on your device"})]})]}),o.jsx(iu,{checked:l.pushNotifications,onCheckedChange:Y=>se("pushNotifications",Y)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(qs,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Me,{className:"text-gray-800",children:"Email Notifications"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Receive updates via email"})]})]}),o.jsx(iu,{checked:l.emailNotifications,onCheckedChange:Y=>se("emailNotifications",Y)})]})]})]}),o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs(yt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(tr,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Appearance"})]})}),o.jsxs(Ie,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[e?o.jsx(tr,{className:"w-5 h-5 text-gray-500"}):o.jsx(vr,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Me,{className:"text-gray-800",children:"Dark Mode"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Use dark theme"})]})]}),o.jsx(iu,{checked:e,onCheckedChange:W})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(W2,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Me,{className:"text-gray-800",children:"Language"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Choose your preferred language"})]})]}),o.jsxs(og,{value:l.language,onValueChange:Y=>se("language",Y),children:[o.jsx(Kd,{className:"w-32 bg-white border-gray-300",children:o.jsx(ag,{})}),o.jsxs(Qd,{children:[o.jsx(ln,{value:"en",children:"English"}),o.jsx(ln,{value:"hi",children:"Hindi"}),o.jsx(ln,{value:"bn",children:"Bengali"})]})]})]})]})]}),o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs(yt,{className:"text-gray-800 flex items-center space-x-2",children:[l.sound?o.jsx(MC,{className:"w-5 h-5 text-orange-500"}):o.jsx(VH,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Sound & Vibration"})]})}),o.jsx(Ie,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(MC,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx(Me,{className:"text-gray-800",children:"Sound Effects"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Play sounds for notifications"})]})]}),o.jsx(iu,{checked:l.sound,onCheckedChange:Y=>se("sound",Y)})]})})]}),o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs(yt,{className:"text-gray-800 flex items-center space-x-2",children:[o.jsx(aa,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{children:"Privacy & Security"})]})}),o.jsxs(Ie,{className:"space-y-4",children:[o.jsxs(F,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>h(!0),children:[o.jsx(G2,{className:"w-4 h-4 mr-2"}),"Change Password"]}),o.jsxs(F,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>b(!0),children:[o.jsx(fp,{className:"w-4 h-4 mr-2"}),"Two-Factor Authentication",D&&o.jsx("span",{className:"ml-2 text-orange-500",children:" Enabled"})]}),o.jsxs(F,{variant:"outline",className:"w-full justify-start border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",onClick:()=>m(!0),children:[o.jsx(aa,{className:"w-4 h-4 mr-2"}),"Privacy Policy"]})]})]}),o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsx(yt,{className:"text-gray-800",children:"Account"})}),o.jsx(Ie,{className:"space-y-4",children:o.jsxs(F,{variant:"outline",className:"w-full justify-start text-red-500 border-red-500 hover:bg-red-500 hover:text-white",onClick:()=>v(!0),children:[o.jsx(Dd,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})}),o.jsx(Ms,{open:u,onOpenChange:h,children:o.jsxs(us,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(ds,{children:[o.jsx(hr,{className:"text-gray-900",children:"Change Password"}),o.jsx(hs,{className:"text-gray-600",children:"Enter your current password and choose a new one."})]}),o.jsxs("form",{onSubmit:X,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"currentPassword",className:"text-gray-900",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ve,{id:"currentPassword",type:C?"text":"password",value:w,onChange:Y=>x(Y.target.value),className:"pr-10",required:!0}),o.jsx(F,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>_(!C),children:C?o.jsx(pf,{className:"h-4 w-4"}):o.jsx(Cu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"newPassword",className:"text-gray-900",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ve,{id:"newPassword",type:j?"text":"password",value:N,onChange:Y=>I(Y.target.value),className:"pr-10",required:!0}),o.jsx(F,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>T(!j),children:j?o.jsx(pf,{className:"h-4 w-4"}):o.jsx(Cu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"confirmPassword",className:"text-gray-900",children:"Confirm New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ve,{id:"confirmPassword",type:k?"text":"password",value:A,onChange:Y=>L(Y.target.value),className:"pr-10",required:!0}),o.jsx(F,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:()=>P(!k),children:k?o.jsx(pf,{className:"h-4 w-4"}):o.jsx(Cu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(F,{type:"button",variant:"outline",onClick:()=>h(!1),className:"flex-1",children:"Cancel"}),o.jsx(F,{type:"submit",disabled:R,className:"flex-1",children:R?o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Password"})]})]})]})}),o.jsx(Ms,{open:p,onOpenChange:m,children:o.jsxs(us,{className:"bg-white/95 backdrop-blur-md border-gray-700 max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsx(ds,{children:o.jsx(hr,{className:"text-gray-900",children:"Privacy Policy"})}),o.jsxs("div",{className:"space-y-4 text-gray-700",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"PickNGo Privacy Policy"}),o.jsx("p",{className:"text-sm",children:"This Privacy Policy describes how PickNGo collects, uses, and protects your personal information."}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Information We Collect"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Account information (name, email, phone number)"}),o.jsx("li",{children:"Order history and preferences"}),o.jsx("li",{children:"Location data for delivery services"}),o.jsx("li",{children:"Device information and usage analytics"})]}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"How We Use Your Information"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Process and deliver your orders"}),o.jsx("li",{children:"Send order updates and notifications"}),o.jsx("li",{children:"Improve our services and user experience"}),o.jsx("li",{children:"Provide customer support"})]}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Data Security"}),o.jsx("p",{className:"text-sm",children:"We implement industry-standard security measures to protect your personal information. Your data is encrypted and stored securely."}),o.jsx("h4",{className:"font-semibold text-gray-900",children:"Your Rights"}),o.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Access and update your personal information"}),o.jsx("li",{children:"Delete your account and associated data"}),o.jsx("li",{children:"Opt-out of marketing communications"}),o.jsx("li",{children:"Request data portability"})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Last updated: ",new Date().toLocaleDateString()]})]}),o.jsx(F,{onClick:()=>m(!1),className:"w-full",children:"Close"})]})}),o.jsx(Ms,{open:y,onOpenChange:b,children:o.jsxs(us,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(ds,{children:[o.jsx(hr,{className:"text-gray-900",children:"Two-Factor Authentication"}),o.jsx(hs,{className:"text-gray-600",children:D?"Two-factor authentication is currently enabled for your account.":"Add an extra layer of security to your account with two-factor authentication."})]}),o.jsxs("div",{className:"space-y-4",children:[D?o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(aa,{className:"w-8 h-8 text-green-600"})}),o.jsx("p",{className:"text-gray-700",children:"Your account is protected with 2FA"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(fp,{className:"w-8 h-8 text-blue-600"})}),o.jsx("p",{className:"text-gray-700",children:"Enable two-factor authentication for enhanced security"})]}),o.jsx(F,{onClick:ce,disabled:U,className:"w-full",children:U?o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"mr-2 h-4 w-4 animate-spin"}),"Setting up 2FA..."]}):"Enable 2FA"})]}),o.jsx(F,{variant:"outline",onClick:()=>b(!1),className:"w-full",children:"Close"})]})]})}),o.jsx(Ms,{open:g,onOpenChange:v,children:o.jsxs(us,{className:"bg-white/95 backdrop-blur-md border-gray-700",children:[o.jsxs(ds,{children:[o.jsx(hr,{className:"text-red-600",children:"Delete Account"}),o.jsx(hs,{className:"text-gray-600",children:"This action cannot be undone. All your data will be permanently deleted."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[o.jsxs("p",{className:"text-red-800 text-sm",children:[o.jsx("strong",{children:"Warning:"})," Deleting your account will:"]}),o.jsxs("ul",{className:"text-red-700 text-sm mt-2 space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Permanently delete all your personal data"}),o.jsx("li",{children:"Cancel any active orders"}),o.jsx("li",{children:"Remove your order history"}),o.jsx("li",{children:"Delete your saved addresses and preferences"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"deleteConfirmation",className:"text-gray-900",children:'Type "DELETE" to confirm'}),o.jsx(Ve,{id:"deleteConfirmation",value:Z,onChange:Y=>G(Y.target.value),placeholder:"DELETE",className:"text-center font-mono"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(F,{variant:"outline",onClick:()=>v(!1),className:"flex-1",children:"Cancel"}),o.jsx(F,{variant:"destructive",onClick:xe,disabled:Z!=="DELETE"||te,className:"flex-1",children:te?o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Account"})]})]})]})})]}):o.jsx("div",{children:"Loading..."})},SZ=()=>{const t=An(),{isDarkMode:e,toggleDarkMode:n}=en(),{selectedAddress:r,setSelectedAddress:s}=nD(),[i,a]=d.useState(null),[l,c]=d.useState([]),[u,h]=d.useState(!1),[p,m]=d.useState(null),[g,v]=d.useState(!0),[y,b]=d.useState(null),[w,x]=d.useState({type:"home",name:"",phone:"",address:"",landmark:"",city:"",state:"",pincode:"",isDefault:!1});d.useEffect(()=>{const k=wt.onAuthStateChanged(async P=>{P?(a(P),await N(P.uid)):t("/")});return()=>k()},[t]),d.useEffect(()=>{const k=l.find(P=>P.isDefault);k&&b(k.id)},[l]);const N=async k=>{v(!0);try{const P=gn(Ue,"addresses"),R=Rs(P,di("userId","==",k)),H=await Rr(R),Z=[];H.forEach(G=>{Z.push({id:G.id,...G.data()})}),Z.sort((G,te)=>{var V,U;if(G.isDefault&&!te.isDefault)return-1;if(!G.isDefault&&te.isDefault)return 1;const O=(V=G.createdAt)!=null&&V.toDate?G.createdAt.toDate():0;return((U=te.createdAt)!=null&&U.toDate?te.createdAt.toDate():0)-O}),c(Z)}catch(P){console.error("Error loading addresses:",P),$.error("Failed to load addresses")}finally{v(!1)}},I=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async k=>{const{latitude:P,longitude:R}=k.coords;try{const Z=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${P}&lon=${R}`)).json();if(Z&&Z.address){const G=Z.address;x({type:"other",name:G.road||"Current Location",phone:"",address:`${G.road||""}, ${G.suburb||""}`,landmark:"",city:G.city||G.town||G.village,state:G.state,pincode:G.postcode,isDefault:!1}),m(null),h(!0)}else $.error("Could not determine address from location.")}catch(H){console.error("Error fetching address:",H),$.error("Could not fetch address from location.")}},k=>{console.error("Geolocation error:",k),$.error("Could not access your location.")}):$.error("Geolocation is not supported by your browser.")},A=()=>{x({type:"home",name:"",phone:"",address:"",landmark:"",city:"",state:"",pincode:"",isDefault:!1}),m(null)},L=async()=>{if(i){if(!w.name||!w.phone||!w.address||!w.city||!w.state||!w.pincode){$.error("Please fill in all required fields");return}try{if(p){const k=kt(Ue,"addresses",p.id);await er(k,{...w,updatedAt:new Date}),$.success("Address updated successfully!")}else{const k={...w,userId:i.uid,createdAt:new Date};await Ks(gn(Ue,"addresses"),k),$.success("Address added successfully!")}h(!1),A(),await N(i.uid)}catch(k){console.error("Error saving address:",k),$.error("Failed to save address")}}},C=k=>{m(k),x(k),h(!0)},_=async k=>{if(i&&confirm("Are you sure you want to delete this address?"))try{await A2(kt(Ue,"addresses",k)),$.success("Address deleted successfully!"),await N(i.uid)}catch(P){console.error("Error deleting address:",P),$.error("Failed to delete address")}},j=async k=>{if(i)try{const P=gn(Ue,"addresses"),R=Rs(P,di("userId","==",i.uid)),Z=(await Rr(R)).docs.map(te=>er(te.ref,{isDefault:!1}));await Promise.all(Z),await er(kt(Ue,"addresses",k),{isDefault:!0});const G=l.find(te=>te.id===k);G&&s(G),$.success("Default address updated!"),await N(i.uid),b(k)}catch(P){console.error("Error setting default address:",P),$.error("Failed to update default address")}},T=k=>{switch(k){case"home":return o.jsx(q2,{className:"w-5 h-5 text-gray-500"});case"work":return o.jsx(F2,{className:"w-5 h-5 text-gray-500"});default:return o.jsx(hp,{className:"w-5 h-5 text-gray-500"})}};return i?o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Tn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"My Addresses"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Manage your delivery addresses"})]})]}),o.jsx(F,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:e?o.jsx(vr,{className:"w-4 h-4"}):o.jsx(tr,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[o.jsxs(Ms,{open:u,onOpenChange:h,children:[o.jsx(hq,{asChild:!0,children:o.jsxs(F,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(mc,{className:"w-4 h-4 mr-2"}),"Add New Address"]})}),o.jsxs(us,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsxs(ds,{children:[o.jsx(hr,{className:e?"text-white":"text-gray-900",children:p?"Edit Address":"Add New Address"}),o.jsx(hs,{className:e?"text-gray-300":"text-gray-600",children:p?"Update your address details":"Add a new delivery address"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"type",className:e?"text-white":"text-gray-900",children:"Address Type"}),o.jsxs(og,{value:w.type,onValueChange:k=>x(P=>({...P,type:k})),children:[o.jsx(Kd,{className:`${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:o.jsx(ag,{})}),o.jsxs(Qd,{className:e?"bg-gray-700 border-gray-600":"bg-white border-gray-300",children:[o.jsx(ln,{value:"home",children:"Home"}),o.jsx(ln,{value:"work",children:"Work"}),o.jsx(ln,{value:"other",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"name",className:e?"text-white":"text-gray-900",children:"Full Name *"}),o.jsx(Ve,{id:"name",value:w.name,onChange:k=>x(P=>({...P,name:k.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"phone",className:e?"text-white":"text-gray-900",children:"Phone Number *"}),o.jsx(Ve,{id:"phone",value:w.phone,onChange:k=>x(P=>({...P,phone:k.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your phone number"})]})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"address",className:e?"text-white":"text-gray-900",children:"Address *"}),o.jsx(Ve,{id:"address",value:w.address,onChange:k=>x(P=>({...P,address:k.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter your address"})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"landmark",className:e?"text-white":"text-gray-900",children:"Landmark"}),o.jsx(Ve,{id:"landmark",value:w.landmark,onChange:k=>x(P=>({...P,landmark:k.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter a nearby landmark (optional)"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"city",className:e?"text-white":"text-gray-900",children:"City *"}),o.jsx(Ve,{id:"city",value:w.city,onChange:k=>x(P=>({...P,city:k.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter city"})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"state",className:e?"text-white":"text-gray-900",children:"State *"}),o.jsx(Ve,{id:"state",value:w.state,onChange:k=>x(P=>({...P,state:k.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter state"})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"pincode",className:e?"text-white":"text-gray-900",children:"Pincode *"}),o.jsx(Ve,{id:"pincode",value:w.pincode,onChange:k=>x(P=>({...P,pincode:k.target.value})),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,placeholder:"Enter pincode"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"isDefault",checked:w.isDefault,onChange:k=>x(P=>({...P,isDefault:k.target.checked})),className:"rounded"}),o.jsx(Me,{htmlFor:"isDefault",className:e?"text-white":"text-gray-900",children:"Set as default address"})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx(F,{variant:"outline",onClick:()=>h(!1),className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx(F,{onClick:L,className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:p?"Update Address":"Add Address"})]})]})]})]}),o.jsxs(F,{variant:"outline",onClick:I,className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Use Current Location"]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Ve,{placeholder:"Try JP Nagar, Siri Gardenia, etc.",className:`pl-10 h-12 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h2",{className:"text-xs font-semibold mb-2 text-gray-400",children:"SAVED ADDRESSES"}),g?o.jsx("p",{className:e?"text-gray-300":"text-gray-600",children:"Loading addresses..."}):l.length===0?o.jsx("p",{className:e?"text-gray-300":"text-gray-600",children:"No saved addresses."}):o.jsx("div",{className:"space-y-4",children:l.map(k=>o.jsxs("div",{className:`border rounded-lg p-4 transition-colors ${e?"border-gray-700 hover:bg-gray-800":"border-gray-200 hover:bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[o.jsx("div",{className:"mt-1",children:T(k.type)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h3",{className:`font-bold capitalize ${e?"text-white":"text-gray-900"}`,children:k.type}),(r==null?void 0:r.id)===k.id&&o.jsxs(Tt,{className:"bg-pickngo-orange-100 text-pickngo-orange-700 text-xs",children:[o.jsx(Tm,{className:"w-3 h-3 mr-1"}),"CURRENTLY SELECTED"]}),k.isDefault&&o.jsxs(Tt,{className:"bg-green-100 text-green-700 text-xs",children:[o.jsx(Qr,{className:"w-3 h-3 mr-1"}),"DEFAULT"]})]}),o.jsx("p",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:k.name}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:k.phone}),o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:[k.address,", ",k.city,", ",k.state," - ",k.pincode]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(F,{variant:"ghost",size:"sm",onClick:()=>C(k),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-orange-500",children:o.jsx($w,{className:"w-4 h-4"})}),o.jsx(F,{variant:"ghost",size:"sm",onClick:()=>_(k.id),className:e?"text-gray-300 hover:text-red-400":"text-gray-600 hover:text-red-500",children:o.jsx(Dd,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[!k.isDefault&&o.jsx(F,{variant:"outline",size:"sm",onClick:()=>j(k.id),className:e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Set as Default"}),o.jsx(F,{size:"sm",onClick:()=>{s(k),$.success("Address selected successfully!")},className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:"Use This Address"})]})]},k.id))})]})]})]}):o.jsx("div",{className:"text-center p-8",children:"Loading..."})},jZ=()=>{const t=An(),{isDarkMode:e}=en();return o.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-6xl font-bold text-gray-800 dark:text-white mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8",children:"Page not found"}),o.jsx(F,{onClick:()=>t("/"),className:"bg-blue-600 hover:bg-blue-700",children:"Go Home"})]})})},kZ=[{name:"For You",icon:o.jsx(H2,{className:"w-6 h-6"})},{name:"Grocery",icon:o.jsx("img",{src:"https://img.icons8.com/color/48/grocery-bag.png",alt:"grocery",className:"w-8 h-8"})},{name:"Fashion",icon:o.jsx(TH,{className:"w-6 h-6"})},{name:"Appliances",icon:o.jsx(DH,{className:"w-6 h-6"})},{name:"Mobiles",icon:o.jsx(fp,{className:"w-6 h-6"})},{name:"Electronics",icon:o.jsx(bH,{className:"w-6 h-6"})},{name:"Smart Gadgets",icon:o.jsx($H,{className:"w-6 h-6"})},{name:"Home",icon:o.jsx(AH,{className:"w-6 h-6"})},{name:"Beauty & Personal Care",icon:o.jsx(CH,{className:"w-6 h-6"})}],wS={title:"Grocery",sections:[{title:"Staples",items:[{name:"Ghee & Oils",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-g_R9DkL_ij9a8V3n-QyW2-sH2W-qJq_LgQ&s",subcategory:"Staples"},{name:"Sugar, Jaggery & Salt",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRkYxJ1A4Z-Y3l1Xw2O-p5B9g_Yn3X0z3q9wA&s",subcategory:"Staples"},{name:"Rice & Rice Products",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTc1j8gq-u_tYwQ-Y9E9Z-2Xw3a-nJ4d0l3Xw&s",subcategory:"Staples"},{name:"Dry Fruits, Nuts & Seeds",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ4x9J0N-n8v6Z-Z9C9Xw_Q8X_X2n-H_y3o3A&s",subcategory:"Staples"},{name:"Masalas & Spices",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRYSoZ6TqO6Y-K2rL0z7gJpG8e-A9z2wF_sLw&s",subcategory:"Staples"},{name:"Dals & Pulses",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ4p7gY-p-L2N-O_R-d0a_R1p2m-G5a9yJ_pQ&s",subcategory:"Staples"},{name:"Atta & Flours",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS-p6-gT7mQ5H2xX-O_Kq_wG-g5K-Y4Kz_yXg&s",subcategory:"Staples"}]},{title:"Snacks & Beverages",items:[{name:"Juices",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRz-o-w7O3l7g-v-l2K-j-j_H-v8V-hJ_p-Jw&s",subcategory:"Beverages"},{name:"Water",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7b-C8xXcz-n-J-k-f-oD_v1n_Y-f9hY6w&s",subcategory:"Beverages"},{name:"Chips, Namkeen & Snacks",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-G7oF5x-2y-x_k-Z8c-Z-fJ_o-I_p_X_w&s",subcategory:"Snacks"},{name:"Chocolates",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_x_P3-mB_y-Y7R-n-H-O-hI_p_S8V-kL_A&s",subcategory:"Snacks"},{name:"Health Drinks",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_x_P3-mB_y-Y7R-n-H-O-hI_p_S8V-kL_A&s",subcategory:"Beverages"},{name:"Instant Beverages",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhXgG_pD-K-v-k_k-O-c-Z-Y-k_k-S-j-I_A&s",subcategory:"Beverages"}]}]},IZ=({onSubcategoryClick:t})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-blue-600 dark:text-blue-400 flex items-center",children:[wS.title," ",o.jsx(z2,{className:"w-6 h-6"})]}),o.jsx("img",{src:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=200",alt:"Grocery Banner",className:"rounded-lg h-12 object-cover"})]}),wS.sections.map((e,n)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:e.title}),o.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-6",children:e.items.map((r,s)=>o.jsxs("div",{className:"text-center cursor-pointer",onClick:()=>t(r.subcategory),children:[o.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full w-20 h-20 mx-auto flex items-center justify-center overflow-hidden mb-2",children:o.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-contain p-2"})}),o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:r.name})]},s))})]},n))]}),PZ=({categoryName:t})=>o.jsxs("div",{className:"text-center p-8 flex flex-col items-center justify-center h-full",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 dark:text-white",children:t}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Products coming soon!"})]}),TZ=()=>{const t=An(),{isDarkMode:e,toggleDarkMode:n}=en(),[r,s]=d.useState("Grocery"),i=l=>{t("/daily-essential",{state:{subcategory:l}})},a=()=>{switch(r){case"Grocery":return o.jsx(IZ,{onSubcategoryClick:i});default:return o.jsx(PZ,{categoryName:r})}};return o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[o.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"All Categories"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",className:"text-gray-600 dark:text-gray-300",onClick:n,title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx(vr,{className:"w-5 h-5"}):o.jsx(tr,{className:"w-5 h-5"})}),o.jsx(zs,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(U2,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),o.jsx(Xn,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})]})]})}),o.jsxs("div",{className:"flex",children:[o.jsx("aside",{className:"w-28 bg-gray-50 dark:bg-gray-800 h-screen-minus-header fixed top-16 left-0 overflow-y-auto pb-16",children:o.jsx("nav",{children:o.jsx("ul",{children:kZ.map((l,c)=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>s(l.name),className:`w-full text-center p-3 text-sm font-medium border-l-4 ${r===l.name?"border-blue-500 bg-white dark:bg-gray-700 text-blue-500 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx("div",{className:"text-2xl mb-1 mx-auto flex justify-center items-center h-8",children:l.icon}),o.jsx("span",{className:"text-xs",children:l.name})]})},c))})})}),o.jsx("main",{className:"ml-28 p-4 flex-1 mb-16",children:a()})]})]})};var lg="Collapsible",[AZ,RM]=Kn(lg),[RZ,yb]=AZ(lg),LM=d.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:a,...l}=t,[c,u]=Gr({prop:r,defaultProp:s??!1,onChange:a,caller:lg});return o.jsx(RZ,{scope:n,disabled:i,contentId:Pr(),open:c,onOpenToggle:d.useCallback(()=>u(h=>!h),[u]),children:o.jsx(Re.div,{"data-state":xb(c),"data-disabled":i?"":void 0,...l,ref:e})})});LM.displayName=lg;var MM="CollapsibleTrigger",DM=d.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=yb(MM,n);return o.jsx(Re.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":xb(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:ye(t.onClick,s.onOpenToggle)})});DM.displayName=MM;var vb="CollapsibleContent",OM=d.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=yb(vb,t.__scopeCollapsible);return o.jsx(xr,{present:n||s.open,children:({present:i})=>o.jsx(LZ,{...r,ref:e,present:i})})});OM.displayName=vb;var LZ=d.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,a=yb(vb,n),[l,c]=d.useState(r),u=d.useRef(null),h=et(e,u),p=d.useRef(0),m=p.current,g=d.useRef(0),v=g.current,y=a.open||l,b=d.useRef(y),w=d.useRef(void 0);return d.useEffect(()=>{const x=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(x)},[]),In(()=>{const x=u.current;if(x){w.current=w.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const N=x.getBoundingClientRect();p.current=N.height,g.current=N.width,b.current||(x.style.transitionDuration=w.current.transitionDuration,x.style.animationName=w.current.animationName),c(r)}},[a.open,r]),o.jsx(Re.div,{"data-state":xb(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...i,ref:h,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:y&&s})});function xb(t){return t?"open":"closed"}var MZ=LM,DZ=DM,OZ=OM,Es="Accordion",VZ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[wb,FZ,$Z]=Lm(Es),[cg,jX]=Kn(Es,[$Z,RM]),bb=RM(),VM=ue.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return o.jsx(wb.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?o.jsx(HZ,{...i,ref:e}):o.jsx(BZ,{...s,ref:e})})});VM.displayName=Es;var[FM,UZ]=cg(Es),[$M,zZ]=cg(Es,{collapsible:!1}),BZ=ue.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...a}=t,[l,c]=Gr({prop:n,defaultProp:r??"",onChange:s,caller:Es});return o.jsx(FM,{scope:t.__scopeAccordion,value:ue.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:ue.useCallback(()=>i&&c(""),[i,c]),children:o.jsx($M,{scope:t.__scopeAccordion,collapsible:i,children:o.jsx(UM,{...a,ref:e})})})}),HZ=ue.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[a,l]=Gr({prop:n,defaultProp:r??[],onChange:s,caller:Es}),c=ue.useCallback(h=>l((p=[])=>[...p,h]),[l]),u=ue.useCallback(h=>l((p=[])=>p.filter(m=>m!==h)),[l]);return o.jsx(FM,{scope:t.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:o.jsx($M,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(UM,{...i,ref:e})})})}),[WZ,ug]=cg(Es),UM=ue.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...a}=t,l=ue.useRef(null),c=et(l,e),u=FZ(n),p=gc(s)==="ltr",m=ye(t.onKeyDown,g=>{var _;if(!VZ.includes(g.key))return;const v=g.target,y=u().filter(j=>{var T;return!((T=j.ref.current)!=null&&T.disabled)}),b=y.findIndex(j=>j.ref.current===v),w=y.length;if(b===-1)return;g.preventDefault();let x=b;const N=0,I=w-1,A=()=>{x=b+1,x>I&&(x=N)},L=()=>{x=b-1,x<N&&(x=I)};switch(g.key){case"Home":x=N;break;case"End":x=I;break;case"ArrowRight":i==="horizontal"&&(p?A():L());break;case"ArrowDown":i==="vertical"&&A();break;case"ArrowLeft":i==="horizontal"&&(p?L():A());break;case"ArrowUp":i==="vertical"&&L();break}const C=x%w;(_=y[C].ref.current)==null||_.focus()});return o.jsx(WZ,{scope:n,disabled:r,direction:s,orientation:i,children:o.jsx(wb.Slot,{scope:n,children:o.jsx(Re.div,{...a,"data-orientation":i,ref:c,onKeyDown:r?void 0:m})})})}),Pp="AccordionItem",[qZ,Eb]=cg(Pp),zM=ue.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=ug(Pp,n),a=UZ(Pp,n),l=bb(n),c=Pr(),u=r&&a.value.includes(r)||!1,h=i.disabled||t.disabled;return o.jsx(qZ,{scope:n,open:u,disabled:h,triggerId:c,children:o.jsx(MZ,{"data-orientation":i.orientation,"data-state":KM(u),...l,...s,ref:e,disabled:h,open:u,onOpenChange:p=>{p?a.onItemOpen(r):a.onItemClose(r)}})})});zM.displayName=Pp;var BM="AccordionHeader",HM=ue.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=ug(Es,n),i=Eb(BM,n);return o.jsx(Re.h3,{"data-orientation":s.orientation,"data-state":KM(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});HM.displayName=BM;var _0="AccordionTrigger",WM=ue.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=ug(Es,n),i=Eb(_0,n),a=zZ(_0,n),l=bb(n);return o.jsx(wb.ItemSlot,{scope:n,children:o.jsx(DZ,{"aria-disabled":i.open&&!a.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...r,ref:e})})});WM.displayName=_0;var qM="AccordionContent",GM=ue.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=ug(Es,n),i=Eb(qM,n),a=bb(n);return o.jsx(OZ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});GM.displayName=qM;function KM(t){return t?"open":"closed"}var GZ=VM,KZ=zM,QZ=HM,QM=WM,YM=GM;const bS=GZ,ZM=d.forwardRef(({className:t,...e},n)=>o.jsx(KZ,{ref:n,className:Ae("border-b",t),...e}));ZM.displayName="AccordionItem";const XM=d.forwardRef(({className:t,children:e,...n},r)=>o.jsx(QZ,{className:"flex",children:o.jsxs(QM,{ref:r,className:Ae("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,o.jsx(Ow,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));XM.displayName=QM.displayName;const JM=d.forwardRef(({className:t,children:e,...n},r)=>o.jsx(YM,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:Ae("pb-4 pt-0",t),children:e})}));JM.displayName=YM.displayName;const YZ=()=>{const t=An(),{isDarkMode:e,toggleDarkMode:n}=en(),[r,s]=d.useState(""),i=[{category:"Ordering",questions:[{question:"How do I place an order?",answer:"To place an order, simply browse our menu, add items to your cart, and proceed to checkout. You can choose your delivery address, payment method, and add a tip before confirming your order."},{question:"What payment methods do you accept?",answer:"We accept Cash on Delivery (COD), UPI, and Credit/Debit Cards. All online payments are secure and encrypted."},{question:"Can I modify or cancel my order?",answer:"You can modify or cancel your order within 5 minutes of placing it. After that, please contact our customer support team."},{question:"What is the minimum order amount?",answer:"There is no minimum order amount, but orders above 299 qualify for free delivery. Orders below 299 have a delivery fee of 29."}]},{category:"Delivery",questions:[{question:"How long does delivery take?",answer:"Delivery typically takes 25-35 minutes depending on your location and current order volume. You can track your order in real-time through our app."},{question:"Do you deliver to my area?",answer:"We deliver to most areas within our service radius. Enter your address during checkout to check if we deliver to your location."},{question:"Can I schedule delivery for later?",answer:"Currently, we offer immediate delivery only. We are working on scheduled delivery options for future updates."},{question:"What if my order is delayed?",answer:"If your order is delayed, you will receive real-time updates. For significant delays, we may offer compensation or a refund."}]},{category:"Account & App",questions:[{question:"How do I create an account?",answer:"You can create an account using your email address or sign up with Google. This allows you to save addresses, track orders, and view order history."},{question:"I forgot my password. How do I reset it?",answer:'Click on "Forgot Password" on the login screen and enter your email address. You will receive a password reset link.'},{question:"How do I update my delivery address?",answer:"Go to your Profile > Address section to add, edit, or remove delivery addresses. You can also set a default address."},{question:"Is my personal information secure?",answer:"Yes, we use industry-standard encryption to protect your personal information. We never share your data with third parties without your consent."}]},{category:"Refunds & Issues",questions:[{question:"What is your refund policy?",answer:"We offer full refunds for incorrect orders, missing items, or quality issues. Contact our support team within 24 hours of delivery."},{question:"What if my food arrives cold or damaged?",answer:"If your food arrives in poor condition, please contact us immediately. We will arrange a replacement or provide a full refund."},{question:"How do I report a missing item?",answer:"Contact our customer support team with your order number and details of the missing item. We will arrange a refund or replacement."},{question:"Can I get a refund for late delivery?",answer:"For deliveries significantly delayed beyond our estimated time, we may offer partial refunds or credits as compensation."}]}],a=[{title:"Track Your Order",icon:"",description:"Real-time order tracking"},{title:"Payment Issues",icon:"",description:"Payment problems and solutions"},{title:"Delivery Problems",icon:"",description:"Delivery delays and issues"},{title:"Account Access",icon:"",description:"Login and account issues"},{title:"Menu & Pricing",icon:"",description:"Menu items and pricing"},{title:"App Problems",icon:"",description:"Technical app issues"}],l=[{title:"Customer Support",description:"24/7 customer service",icon:o.jsx(yr,{className:"w-6 h-6"}),action:"Call Now",value:"+91 98765 43210"},{title:"Email Support",description:"Get help via email",icon:o.jsx(qs,{className:"w-6 h-6"}),action:"Send Email",value:"support@pickngo.com"},{title:"Live Chat",description:"Chat with our team",icon:o.jsx(n0,{className:"w-6 h-6"}),action:"Start Chat",value:"Available 24/7"}],c=i.map(u=>({...u,questions:u.questions.filter(h=>h.question.toLowerCase().includes(r.toLowerCase())||h.answer.toLowerCase().includes(r.toLowerCase()))})).filter(u=>u.questions.length>0);return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Tn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Help Center"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Get help and support"})]})]}),o.jsx(F,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:e?o.jsx(vr,{className:"w-4 h-4"}):o.jsx(tr,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx(Ve,{placeholder:"Search for help topics...",value:r,onChange:u=>s(u.target.value),className:`pl-10 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`})]})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:`text-xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Popular Topics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map((u,h)=>o.jsx(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:border-pickngo-orange-500 transition-colors cursor-pointer`,children:o.jsxs(Ie,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-3xl mb-2",children:u.icon}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:u.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:u.description})]})},h))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Contact Us"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.map((u,h)=>o.jsx(ke,{className:"bg-white border border-gray-200",children:o.jsxs(Ie,{className:"p-6 text-center",children:[o.jsx("div",{className:"flex justify-center mb-3",children:o.jsx("div",{className:"p-3 bg-pickngo-orange-100 rounded-full",children:u.icon})}),o.jsx("h3",{className:"font-semibold mb-2 text-gray-800",children:u.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.description}),o.jsx("p",{className:"text-sm font-medium mb-3 text-gray-800",children:u.value}),o.jsx(F,{variant:"outline",className:"w-full border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:u.action})]})},h))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Frequently Asked Questions"}),c.length>0?o.jsx(bS,{type:"single",collapsible:!0,className:"space-y-4",children:c.map((u,h)=>o.jsxs(ke,{className:"bg-white border border-gray-200",children:[o.jsx(ut,{children:o.jsxs(yt,{className:"flex items-center space-x-2 text-gray-800",children:[o.jsx(RC,{className:"w-5 h-5"}),o.jsx("span",{children:u.category}),o.jsx(Tt,{variant:"secondary",className:"bg-pickngo-orange-100 text-pickngo-orange-800",children:u.questions.length})]})}),o.jsx(Ie,{children:o.jsx(bS,{type:"single",collapsible:!0,className:"space-y-2",children:u.questions.map((p,m)=>o.jsxs(ZM,{value:`${h}-${m}`,className:"border-gray-200",children:[o.jsx(XM,{className:"text-left hover:no-underline text-gray-800",children:o.jsx("span",{className:"font-medium",children:p.question})}),o.jsx(JM,{className:"text-gray-600 pt-2",children:p.answer})]},m))})})]},h))}):o.jsx(ke,{className:"bg-white border border-gray-200",children:o.jsxs(Ie,{className:"p-8 text-center",children:[o.jsx(RC,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"No results found"}),o.jsx("p",{className:"text-gray-600",children:"Try searching with different keywords"})]})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(F,{onClick:()=>t("/current-order"),className:"h-16 text-lg bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(Aa,{className:"w-5 h-5 mr-2"}),"Track My Order"]}),o.jsxs(F,{onClick:()=>t("/past-orders"),variant:"outline",className:"h-16 text-lg border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(rn,{className:"w-5 h-5 mr-2"}),"View Order History"]})]})]}),o.jsx(ke,{className:"bg-white border border-gray-200",children:o.jsxs(Ie,{className:"p-6 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Still need help?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Our customer support team is available 24/7 to assist you with any questions or concerns."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(F,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Call Support"]}),o.jsxs(F,{variant:"outline",className:"border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(qs,{className:"w-4 h-4 mr-2"}),"Send Email"]})]})]})})]})]})},Nb=d.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Nb.displayName="Textarea";const ZZ=()=>{const t=An(),{isDarkMode:e,toggleDarkMode:n}=en(),[r,s]=d.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,a]=d.useState(!1),l=[{title:"Customer Support",description:"24/7 customer service",icon:o.jsx(yr,{className:"w-6 h-6"}),value:"+91 98765 43210",action:"Call Now",color:"bg-green-600"},{title:"Email Support",description:"Get help via email",icon:o.jsx(qs,{className:"w-6 h-6"}),value:"support@pickngo.com",action:"Send Email",color:"bg-blue-600"},{title:"Live Chat",description:"Chat with our team",icon:o.jsx(n0,{className:"w-6 h-6"}),value:"Available 24/7",action:"Start Chat",color:"bg-purple-600"},{title:"Office Address",description:"Visit our office",icon:o.jsx(rn,{className:"w-6 h-6"}),value:"123 Food Street, Kolkata, WB 700001",action:"Get Directions",color:"bg-orange-600"}],c=[{day:"Monday - Friday",hours:"9:00 AM - 10:00 PM"},{day:"Saturday",hours:"10:00 AM - 11:00 PM"},{day:"Sunday",hours:"10:00 AM - 9:00 PM"}],u=(p,m)=>{s(g=>({...g,[p]:m}))},h=async p=>{p.preventDefault(),a(!0),await new Promise(m=>setTimeout(m,2e3)),$.success("Message sent successfully! We will get back to you soon."),s({name:"",email:"",phone:"",subject:"",message:""}),a(!1)};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Tn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Contact Us"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Get in touch with our team"})]})]}),o.jsx(F,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:e?o.jsx(vr,{className:"w-4 h-4"}):o.jsx(tr,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:`text-2xl font-bold mb-6 text-center ${e?"text-white":"text-gray-800"}`,children:"Get in Touch"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map((p,m)=>o.jsx(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:border-pickngo-orange-500 transition-colors`,children:o.jsxs(Ie,{className:"p-6 text-center",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${p.color}`,children:p.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:p.title}),o.jsx("p",{className:`text-sm mb-3 ${e?"text-gray-300":"text-gray-600"}`,children:p.description}),o.jsx("p",{className:`text-sm font-medium mb-4 ${e?"text-white":"text-gray-800"}`,children:p.value}),o.jsx(F,{variant:"outline",className:"w-full border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:p.action})]})},m))})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ut,{children:o.jsxs(yt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(hp,{className:"w-5 h-5"}),o.jsx("span",{children:"Send us a Message"})]})}),o.jsx(Ie,{children:o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"name",className:e?"text-white":"text-gray-800",children:"Full Name *"}),o.jsx(Ve,{id:"name",value:r.name,onChange:p=>u("name",p.target.value),required:!0,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"email",className:e?"text-white":"text-gray-800",children:"Email Address *"}),o.jsx(Ve,{id:"email",type:"email",value:r.email,onChange:p=>u("email",p.target.value),required:!0,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your email"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"phone",className:e?"text-white":"text-gray-800",children:"Phone Number"}),o.jsx(Ve,{id:"phone",type:"tel",value:r.phone,onChange:p=>u("phone",p.target.value),className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Enter your phone number"})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"subject",className:e?"text-white":"text-gray-800",children:"Subject *"}),o.jsxs(og,{value:r.subject,onValueChange:p=>u("subject",p),children:[o.jsx(Kd,{className:`${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:o.jsx(ag,{placeholder:"Select a subject"})}),o.jsxs(Qd,{children:[o.jsx(ln,{value:"general",children:"General Inquiry"}),o.jsx(ln,{value:"order",children:"Order Issue"}),o.jsx(ln,{value:"delivery",children:"Delivery Problem"}),o.jsx(ln,{value:"payment",children:"Payment Issue"}),o.jsx(ln,{value:"technical",children:"Technical Support"}),o.jsx(ln,{value:"feedback",children:"Feedback"}),o.jsx(ln,{value:"complaint",children:"Complaint"}),o.jsx(ln,{value:"other",children:"Other"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"message",className:e?"text-white":"text-gray-800",children:"Message *"}),o.jsx(Nb,{id:"message",value:r.message,onChange:p=>u("message",p.target.value),required:!0,rows:5,className:`${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500"}`,placeholder:"Tell us how we can help you..."})]}),o.jsx(F,{type:"submit",className:"w-full bg-pickngo-orange-500 hover:bg-pickngo-orange-600",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(hp,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ut,{children:o.jsxs(yt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(Aa,{className:"w-5 h-5"}),o.jsx("span",{children:"Business Hours"})]})}),o.jsxs(Ie,{children:[o.jsx("div",{className:"space-y-3",children:c.map((p,m)=>o.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[o.jsx("span",{className:`font-medium ${e?"text-white":"text-gray-800"}`,children:p.day}),o.jsx("span",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:p.hours})]},m))}),o.jsx("div",{className:"mt-4 p-3 bg-pickngo-orange-100 rounded-lg",children:o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:[o.jsx("strong",{children:"Note:"})," Customer support is available 24/7 for urgent issues."]})})]})]}),o.jsxs(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ut,{children:o.jsxs(yt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(rn,{className:"w-5 h-5"}),o.jsx("span",{children:"Office Location"})]})}),o.jsx(Ie,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"space-y-2",children:o.jsxs("p",{className:`text-gray-600 ${e?"text-gray-300":"text-gray-800"}`,children:[o.jsx("strong",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"PickNGo Headquarters"}),o.jsx("br",{}),"123 Food Street",o.jsx("br",{}),"Park Street Area",o.jsx("br",{}),"Kolkata, West Bengal 700001",o.jsx("br",{}),"India"]})}),o.jsxs(F,{variant:"outline",className:"w-full border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Get Directions"]})]})})]}),o.jsxs(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ut,{children:o.jsx(yt,{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Response Time"})}),o.jsx(Ie,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Phone Support"}),o.jsx(Tt,{className:"bg-green-600",children:"Immediate"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Live Chat"}),o.jsx(Tt,{className:"bg-green-600",children:"Within 2 min"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Email Support"}),o.jsx(Tt,{className:"bg-yellow-600",children:"Within 24 hours"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-gray-800 ${e?"text-white":"text-gray-800"}`,children:"Contact Form"}),o.jsx(Tt,{className:"bg-yellow-600",children:"Within 24 hours"})]})]})})]})]})]}),o.jsx("div",{className:"mt-8",children:o.jsx(ke,{className:`${e?"bg-red-900 border-red-800":"bg-red-50 border-red-200"}`,children:o.jsxs(Ie,{className:"p-6 text-center",children:[o.jsx("h3",{className:`text-lg font-semibold mb-2 ${e?"text-white":"text-red-800"}`,children:"Emergency Support"}),o.jsx("p",{className:`text-red-700 ${e?"text-gray-300":"text-gray-600"} mb-4`,children:"For urgent issues like food safety concerns or delivery emergencies"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(F,{className:`${e?"bg-red-800 hover:bg-red-900":"bg-red-600 hover:bg-red-700"}`,children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Emergency Hotline: +91 98765 43211"]}),o.jsxs(F,{variant:"outline",className:`${e?"border-red-800 text-red-800 hover:bg-red-800 hover:text-white":"border-red-500 text-red-600 hover:bg-red-600 hover:text-white"}`,children:[o.jsx(n0,{className:"w-4 h-4 mr-2"}),"Emergency Chat"]})]})]})})})]})]})},XZ=()=>{const t=An(),{isDarkMode:e,toggleDarkMode:n}=en(),[r,s]=d.useState("orderId"),[i,a]=d.useState(""),[l,c]=d.useState(!1),[u,h]=d.useState(null),p={id:"ORD123456789",status:"out_for_delivery",items:[{name:"Domino's Pizza Margherita",quantity:1,price:299},{name:"Coca Cola",quantity:2,price:60},{name:"Garlic Bread",quantity:1,price:120}],totalPrice:539,deliveryAddress:{name:"John Doe",address:"123 Main Street",city:"Kolkata",state:"West Bengal",pincode:"700001"},estimatedDeliveryTime:new Date(Date.now()+15*60*1e3),currentStep:4,deliveryPerson:{name:"Rahul Kumar",phone:"+91 98765 43210",vehicle:"Bike - KA-01-AB-1234"},timeline:[{step:1,title:"Order Placed",description:"Your order has been received",time:new Date(Date.now()-45*60*1e3),completed:!0,icon:""},{step:2,title:"Order Confirmed",description:"Restaurant has confirmed your order",time:new Date(Date.now()-40*60*1e3),completed:!0,icon:""},{step:3,title:"Preparing",description:"Your food is being prepared",time:new Date(Date.now()-30*60*1e3),completed:!0,icon:""},{step:4,title:"Out for Delivery",description:"Your order is on the way",time:new Date(Date.now()-5*60*1e3),completed:!0,icon:""},{step:5,title:"Delivered",description:"Enjoy your meal!",time:null,completed:!1,icon:""}]},m=async()=>{if(!i.trim()){$.error("Please enter your tracking information");return}c(!0),await new Promise(y=>setTimeout(y,2e3)),i.toLowerCase().includes("123")||i.toLowerCase().includes("98765")?(h(p),$.success("Order found!")):(h(null),$.error("Order not found. Please check your tracking information.")),c(!1)},g=y=>{switch(y){case"pending":return"bg-yellow-600";case"confirmed":return"bg-blue-600";case"preparing":return"bg-orange-600";case"out_for_delivery":return"bg-purple-600";case"delivered":return"bg-green-600";case"cancelled":return"bg-red-600";default:return"bg-gray-600"}},v=y=>{switch(y){case"pending":return"Pending";case"confirmed":return"Confirmed";case"preparing":return"Preparing";case"out_for_delivery":return"Out for Delivery";case"delivered":return"Delivered";case"cancelled":return"Cancelled";default:return"Unknown"}};return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-orange-500",onClick:()=>t("/"),children:o.jsx(Tn,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-gray-800 font-bold text-lg",children:"Track Order"})]})})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm mb-6",children:[o.jsx(ut,{children:o.jsx(yt,{className:"text-gray-800",children:"Track Your Order"})}),o.jsx(Ie,{children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"orderId",className:"text-gray-700",children:"Order ID"}),o.jsx(Ve,{id:"orderId",type:"text",placeholder:"Enter order ID",value:i,onChange:y=>a(y.target.value),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"phone",className:"text-gray-700",children:"Phone Number"}),o.jsx(Ve,{id:"phone",type:"tel",placeholder:"Enter phone number",value:i,onChange:y=>a(y.target.value),className:"mt-1"})]})]}),o.jsx(F,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white",disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"w-4 h-4 mr-2 animate-spin"}),"Searching..."]}):o.jsxs(o.Fragment,{children:[o.jsx(zs,{className:"w-4 h-4 mr-2"}),"Track Order"]})})]})})]}),u&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsxs(yt,{className:"flex items-center justify-between text-gray-800",children:[o.jsxs("span",{children:["Order #",u.id]}),o.jsx(Tt,{className:g(u.status),children:v(u.status)})]})}),o.jsx(Ie,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:""}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Order Items"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[u.items.length," items"]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:""}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Total Amount"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["",u.totalPrice]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:""}),o.jsx("p",{className:"font-semibold text-gray-800",children:"Estimated Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:u.estimatedDeliveryTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})]}),o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsx(yt,{className:"text-gray-800",children:"Delivery Timeline"})}),o.jsx(Ie,{children:o.jsx("div",{className:"space-y-4",children:u.timeline.map((y,b)=>o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm ${y.completed?"bg-orange-500":"bg-gray-300"}`,children:y.completed?"":b+1}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${y.completed?"text-gray-800":"text-gray-500"}`,children:y.title}),o.jsx("p",{className:`text-sm ${y.completed?"text-gray-600":"text-gray-400"}`,children:y.description}),y.time&&o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:y.time})]})]},b))})})]}),o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsx(yt,{className:"text-gray-800",children:"Order Items"})}),o.jsx(Ie,{children:o.jsx("div",{className:"space-y-3",children:u.items.map((y,b)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(Is,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:y.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",y.quantity]})]})]}),o.jsxs("p",{className:"font-bold text-gray-800",children:["",y.price]})]},b))})})]}),o.jsxs(ke,{className:"bg-white border border-gray-200 shadow-sm",children:[o.jsx(ut,{children:o.jsx(yt,{className:"text-gray-800",children:"Delivery Address"})}),o.jsx(Ie,{children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(rn,{className:"w-5 h-5 text-orange-500 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-800",children:u.deliveryAddress.name}),o.jsxs("p",{className:"text-gray-600",children:[u.deliveryAddress.address,", ",u.deliveryAddress.city,", ",u.deliveryAddress.state," - ",u.deliveryAddress.pincode]})]})]})})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(F,{onClick:()=>t(`/current-order/${u.id}`),className:"flex-1 bg-orange-500 hover:bg-orange-600",children:[o.jsx(as,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),o.jsxs(F,{variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:[o.jsx(qs,{className:"w-4 h-4 mr-2"}),"Contact Support"]})]})]}),!u&&!l&&o.jsx(ke,{className:"bg-white border border-gray-200 shadow-sm",children:o.jsxs(Ie,{className:"p-8 text-center",children:[o.jsx(Is,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Track Your Order"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Enter your order ID or phone number to track your order status"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(F,{onClick:()=>t("/past-orders"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:"View Order History"}),o.jsx(F,{variant:"outline",onClick:()=>t("/contact-us"),className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Need Help?"})]})]})})]})]})},JZ=()=>{const t=An(),{isDarkMode:e,toggleDarkMode:n}=en(),r=[{label:"Happy Customers",value:"50,000+",icon:""},{label:"Cities Served",value:"25+",icon:""},{label:"Restaurant Partners",value:"500+",icon:""},{label:"Orders Delivered",value:"1M+",icon:""}],s=[{title:"Quality First",description:"We never compromise on food quality and safety standards.",icon:o.jsx(mH,{className:"w-8 h-8"}),color:"bg-yellow-600"},{title:"Customer Satisfaction",description:"Your satisfaction is our top priority. We go above and beyond to exceed expectations.",icon:o.jsx(Ei,{className:"w-8 h-8"}),color:"bg-red-600"},{title:"Fast Delivery",description:"We promise to deliver your food fresh and hot within 30 minutes.",icon:o.jsx(as,{className:"w-8 h-8"}),color:"bg-green-600"},{title:"Trust & Safety",description:"Your safety and trust are paramount. We maintain the highest hygiene standards.",icon:o.jsx(aa,{className:"w-8 h-8"}),color:"bg-blue-600"}],i=[{name:"Rahul Sharma",position:"CEO & Founder",image:"",description:"Former food industry executive with 15+ years of experience"},{name:"Priya Patel",position:"CTO",image:"",description:"Tech enthusiast leading our digital transformation"},{name:"Amit Kumar",position:"Head of Operations",image:"",description:"Operations expert ensuring smooth delivery logistics"},{name:"Neha Singh",position:"Head of Customer Experience",image:"",description:"Customer advocate focused on exceptional service"}],a=[{year:"2023",title:"Best Food Delivery App",description:"Awarded by FoodTech India",icon:""},{year:"2023",title:"Fastest Growing Startup",description:"Recognized by Startup India",icon:""},{year:"2022",title:"Customer Choice Award",description:"Highest rated delivery app",icon:""},{year:"2022",title:"Innovation in Logistics",description:"Awarded by Logistics India",icon:""}],l=[{year:"2020",title:"Company Founded",description:"Started with a vision to revolutionize food delivery"},{year:"2021",title:"First 1000 Orders",description:"Reached our first major milestone"},{year:"2022",title:"Expanded to 10 Cities",description:"Grew our presence across major cities"},{year:"2023",title:"1 Million Orders",description:"Celebrated delivering 1 million orders"}];return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Tn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"About Us"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Learn more about PickNGo"})]})]}),o.jsx(F,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:e?o.jsx(vr,{className:"w-4 h-4"}):o.jsx(tr,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Revolutionizing Food Delivery"}),o.jsx("p",{className:`text-xl max-w-3xl mx-auto ${e?"text-gray-300":"text-gray-600"}`,children:"At PickNGo, we believe that great food should be accessible to everyone, delivered fresh and fast. We're on a mission to connect people with their favorite restaurants through technology and exceptional service."})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:r.map((c,u)=>o.jsx(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Ie,{className:"p-6",children:[o.jsx("div",{className:"text-3xl mb-2",children:c.icon}),o.jsx("div",{className:`text-2xl font-bold mb-1 ${e?"text-white":"text-gray-800"}`,children:c.value}),o.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:c.label})]})},u))}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[o.jsxs(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ut,{children:o.jsxs(yt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(RH,{className:"w-5 h-5"}),o.jsx("span",{children:"Our Mission"})]})}),o.jsx(Ie,{children:o.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:"To provide the fastest, most reliable food delivery service while maintaining the highest standards of food quality, customer service, and safety. We strive to make ordering food as simple as possible while ensuring every meal arrives fresh and delicious."})})]}),o.jsxs(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ut,{children:o.jsxs(yt,{className:`flex items-center space-x-2 ${e?"text-white":"text-gray-800"}`,children:[o.jsx(Qr,{className:"w-5 h-5"}),o.jsx("span",{children:"Our Vision"})]})}),o.jsx(Ie,{children:o.jsx("p",{className:`leading-relaxed ${e?"text-gray-300":"text-gray-600"}`,children:"To become the most trusted and preferred food delivery platform in India, known for our commitment to quality, speed, and customer satisfaction. We envision a future where everyone can enjoy their favorite food delivered to their doorstep within minutes."})})]})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Values"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((c,u)=>o.jsx(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Ie,{className:"p-6",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${c.color}`,children:c.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:c.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})},u))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Leadership Team"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((c,u)=>o.jsx(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Ie,{className:"p-6",children:[o.jsx("div",{className:"text-4xl mb-3",children:c.image}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:c.name}),o.jsx("p",{className:"text-pickngo-orange-500 mb-2",children:c.position}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})},u))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Awards & Recognition"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map((c,u)=>o.jsx(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:o.jsx(Ie,{className:"p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"text-3xl",children:c.icon}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Tt,{variant:"secondary",className:"bg-pickngo-orange-100 text-pickngo-orange-800",children:c.year}),o.jsx("h3",{className:`font-semibold ${e?"text-white":"text-gray-800"}`,children:c.title})]}),o.jsx("p",{className:`${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})]})})},u))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Our Journey"}),o.jsx("div",{className:"space-y-6",children:l.map((c,u)=>o.jsx(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:o.jsx(Ie,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Tt,{className:"bg-pickngo-orange-500",children:c.year})}),o.jsxs("div",{children:[o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:c.title}),o.jsx("p",{className:`${e?"text-gray-300":"text-gray-600"}`,children:c.description})]})]})})},u))})]}),o.jsxs(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsx(ut,{children:o.jsx(yt,{className:`text-center ${e?"text-white":"text-gray-800"}`,children:"Get in Touch"})}),o.jsx(Ie,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[o.jsxs("div",{children:[o.jsx(rn,{className:"w-6 h-6 mx-auto mb-2 text-pickngo-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Address"}),o.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:["123 Food Street",o.jsx("br",{}),"Park Street Area",o.jsx("br",{}),"Kolkata, WB 700001"]})]}),o.jsxs("div",{children:[o.jsx(yr,{className:"w-6 h-6 mx-auto mb-2 text-pickngo-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Phone"}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"+91 98765 43210"})]}),o.jsxs("div",{children:[o.jsx(qs,{className:"w-6 h-6 mx-auto mb-2 text-pickngo-orange-500"}),o.jsx("h3",{className:`font-semibold mb-1 ${e?"text-white":"text-gray-800"}`,children:"Email"}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"hello@pickngo.com"})]})]})})]}),o.jsx("div",{className:"text-center mt-8",children:o.jsx(F,{onClick:()=>t("/"),className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600 text-lg px-8 py-3",children:"Start Ordering Now"})})]})]})},eX=()=>{const t=An(),{isDarkMode:e,toggleDarkMode:n}=en(),[r,s]=d.useState(null),[i,a]=d.useState(!1),[l,c]=d.useState({name:"",email:"",phone:"",position:"",experience:"",coverLetter:"",resume:null}),u=[{id:1,title:"Senior React Developer",department:"Engineering",location:"Kolkata, WB",type:"Full-time",experience:"3-5 years",salary:"8-15 LPA",description:"We are looking for a passionate React developer to join our team and help build amazing user experiences.",requirements:["Strong proficiency in React, TypeScript, and modern JavaScript","Experience with state management (Redux, Zustand)","Knowledge of responsive design and CSS frameworks","Experience with testing frameworks (Jest, React Testing Library)","Good understanding of REST APIs and GraphQL"],responsibilities:["Develop and maintain high-quality React applications","Collaborate with design and product teams","Write clean, maintainable, and well-documented code","Participate in code reviews and technical discussions","Mentor junior developers"]},{id:2,title:"Product Manager",department:"Product",location:"Remote",type:"Full-time",experience:"2-4 years",salary:"10-18 LPA",description:"Join our product team to help shape the future of food delivery and create amazing user experiences.",requirements:["Experience in product management or related field","Strong analytical and problem-solving skills","Excellent communication and collaboration abilities","Experience with agile methodologies","Knowledge of user research and data analysis"],responsibilities:["Define product strategy and roadmap","Gather and analyze user feedback","Work with engineering and design teams","Monitor product metrics and KPIs","Drive product launches and iterations"]},{id:3,title:"UI/UX Designer",department:"Design",location:"Mumbai, MH",type:"Full-time",experience:"2-4 years",salary:"6-12 LPA",description:"Create beautiful and intuitive user interfaces that delight our customers and drive business growth.",requirements:["Strong portfolio showcasing UI/UX work","Proficiency in design tools (Figma, Sketch, Adobe Creative Suite)","Understanding of user-centered design principles","Experience with mobile app design","Knowledge of design systems and component libraries"],responsibilities:["Design user interfaces and user experiences","Create wireframes, prototypes, and high-fidelity designs","Conduct user research and usability testing","Collaborate with product and engineering teams","Maintain and evolve our design system"]},{id:4,title:"Operations Manager",department:"Operations",location:"Delhi, NCR",type:"Full-time",experience:"3-6 years",salary:"8-15 LPA",description:"Lead our operations team to ensure smooth delivery operations and excellent customer service.",requirements:["Experience in operations management or logistics","Strong leadership and team management skills","Excellent problem-solving and decision-making abilities","Experience with process optimization","Knowledge of supply chain management"],responsibilities:["Manage day-to-day operations","Optimize delivery processes and efficiency","Lead and mentor operations team","Monitor and improve service quality","Develop and implement operational strategies"]},{id:5,title:"Marketing Specialist",department:"Marketing",location:"Bangalore, KA",type:"Full-time",experience:"1-3 years",salary:"5-10 LPA",description:"Help us grow our brand and reach more customers through creative marketing campaigns.",requirements:["Experience in digital marketing or related field","Knowledge of social media marketing and content creation","Experience with marketing analytics and tools","Creative thinking and strong communication skills","Understanding of customer acquisition and retention"],responsibilities:["Develop and execute marketing campaigns","Create engaging content for social media","Analyze marketing performance and optimize campaigns","Collaborate with creative and product teams","Manage brand presence across channels"]}],h=[{title:"Health & Wellness",description:"Comprehensive health insurance and wellness programs",icon:o.jsx(Ei,{className:"w-6 h-6"}),color:"bg-red-600"},{title:"Learning & Growth",description:"Continuous learning opportunities and career development",icon:o.jsx(_H,{className:"w-6 h-6"}),color:"bg-blue-600"},{title:"Flexible Work",description:"Remote work options and flexible working hours",icon:o.jsx(W2,{className:"w-6 h-6"}),color:"bg-green-600"},{title:"Team Events",description:"Regular team building activities and social events",icon:o.jsx(OH,{className:"w-6 h-6"}),color:"bg-purple-600"}],p=v=>{s(v),c(y=>({...y,position:v.title})),a(!0)},m=async v=>{v.preventDefault(),await new Promise(y=>setTimeout(y,2e3)),$.success("Application submitted successfully! We will get back to you soon."),a(!1),c({name:"",email:"",phone:"",position:"",experience:"",coverLetter:"",resume:null})},g=(v,y)=>{c(b=>({...b,[v]:y}))};return o.jsxs("div",{className:`min-h-screen ${e?"bg-gray-900 text-white":"bg-white text-gray-800"}`,children:[o.jsx("header",{className:`sticky top-0 z-50 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b`,children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Tn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-xl font-bold ${e?"text-white":"text-gray-800"}`,children:"Careers"}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:"Join our amazing team"})]})]}),o.jsx(F,{variant:"ghost",size:"icon",onClick:n,className:e?"text-gray-300 hover:text-orange-400":"text-gray-600 hover:text-pickngo-orange-500",children:e?o.jsx(vr,{className:"w-4 h-4"}):o.jsx(tr,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Join Our Team"}),o.jsx("p",{className:`text-xl max-w-3xl mx-auto ${e?"text-gray-300":"text-gray-600"}`,children:"Be part of a team that's revolutionizing food delivery. We're looking for passionate individuals who want to make a difference and grow with us."})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Why Work With Us"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((v,y)=>o.jsx(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} text-center`,children:o.jsxs(Ie,{className:"p-6",children:[o.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${v.color}`,children:v.icon}),o.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:v.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:v.description})]})},y))})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:`text-3xl font-bold text-center mb-8 ${e?"text-white":"text-gray-800"}`,children:"Open Positions"}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.map(v=>o.jsxs(ke,{className:`${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} hover:shadow-lg transition-shadow`,children:[o.jsx(ut,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(yt,{className:`text-xl ${e?"text-white":"text-gray-800"}`,children:v.title}),o.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:v.department})]}),o.jsx(Tt,{className:"bg-pickngo-orange-500",children:v.type})]})}),o.jsxs(Ie,{children:[o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(rn,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:v.location})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Aa,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:v.experience})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(NH,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:v.salary})]})]}),o.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:v.description})]}),o.jsx(F,{onClick:()=>p(v),className:"w-full bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:"Apply Now"})]})]},v.id))})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs(ke,{className:"bg-white border border-gray-200 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(ut,{children:o.jsxs(yt,{className:"flex items-center justify-between text-gray-800",children:[o.jsxs("span",{children:["Apply for ",r==null?void 0:r.title]}),o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>a(!1),className:"text-gray-600 hover:text-pickngo-orange-500",children:""})]})}),o.jsx(Ie,{children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"name",className:"text-gray-800",children:"Full Name *"}),o.jsx(Ve,{id:"name",value:l.name,onChange:v=>g("name",v.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"email",className:"text-gray-800",children:"Email Address *"}),o.jsx(Ve,{id:"email",type:"email",value:l.email,onChange:v=>g("email",v.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your email"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"phone",className:"text-gray-800",children:"Phone Number *"}),o.jsx(Ve,{id:"phone",type:"tel",value:l.phone,onChange:v=>g("phone",v.target.value),required:!0,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Enter your phone number"})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"experience",className:"text-gray-800",children:"Years of Experience *"}),o.jsxs(og,{value:l.experience,onValueChange:v=>g("experience",v),children:[o.jsx(Kd,{className:"bg-white border-gray-300 text-gray-800",children:o.jsx(ag,{placeholder:"Select experience level"})}),o.jsxs(Qd,{children:[o.jsx(ln,{value:"0-1",children:"0-1 years"}),o.jsx(ln,{value:"1-3",children:"1-3 years"}),o.jsx(ln,{value:"3-5",children:"3-5 years"}),o.jsx(ln,{value:"5-8",children:"5-8 years"}),o.jsx(ln,{value:"8+",children:"8+ years"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"coverLetter",className:"text-gray-800",children:"Cover Letter *"}),o.jsx(Nb,{id:"coverLetter",value:l.coverLetter,onChange:v=>g("coverLetter",v.target.value),required:!0,rows:5,className:"bg-white border-gray-300 text-gray-800 placeholder-gray-500",placeholder:"Tell us why you're interested in this position and what makes you a great fit..."})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"resume",className:"text-gray-800",children:"Resume/CV *"}),o.jsx(Ve,{id:"resume",type:"file",accept:".pdf,.doc,.docx",onChange:v=>g("resume",v.target.files[0]),required:!0,className:"bg-white border-gray-300 text-gray-800 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-pickngo-orange-500 file:text-white hover:file:bg-pickngo-orange-600"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted formats: PDF, DOC, DOCX (Max 5MB)"})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(F,{type:"submit",className:"flex-1 bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:"Submit Application"}),o.jsx(F,{type:"button",variant:"outline",onClick:()=>a(!1),className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"})]})]})})]})}),o.jsx(ke,{className:"bg-white border border-gray-200",children:o.jsxs(Ie,{className:"p-8 text-center",children:[o.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Don't see a perfect fit?"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"We're always looking for talented individuals to join our team. Send us your resume and we'll keep you in mind for future opportunities."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(F,{className:"bg-pickngo-orange-500 hover:bg-pickngo-orange-600",children:[o.jsx(qs,{className:"w-4 h-4 mr-2"}),"Send Resume"]}),o.jsxs(F,{variant:"outline",className:"border-pickngo-orange-500 text-pickngo-orange-500 hover:bg-pickngo-orange-500 hover:text-white",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Contact HR"]})]})]})})]})]})},tX=()=>{const t=An(),{isDarkMode:e,toggleDarkMode:n}=en(),[r,s]=d.useState("overview");return o.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"text-gray-600 hover:text-pickngo-orange-500",children:o.jsx(Tn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Privacy Policy"}),o.jsx("p",{className:"text-sm text-gray-600",children:"How we protect your data"})]})]}),o.jsx(F,{variant:"ghost",size:"icon",onClick:n,className:"text-gray-600 hover:text-pickngo-orange-500",children:e?o.jsx(vr,{className:"w-4 h-4"}):o.jsx(tr,{className:"w-4 h-4"})})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[o.jsx("div",{className:"mb-6 p-4 bg-pickngo-orange-50 border border-pickngo-orange-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($2,{className:"w-5 h-5 text-pickngo-orange-600"}),o.jsx("span",{className:"text-sm font-medium text-pickngo-orange-800",children:"Last updated: December 15, 2024"})]})}),o.jsx(ke,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Ie,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Introduction"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"At PickNGo Instant Grub, we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our food delivery service."}),o.jsx("p",{className:"text-gray-600",children:"By using our service, you agree to the collection and use of information in accordance with this policy."})]})}),o.jsx(ke,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Ie,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Information We Collect"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(ls,{className:"w-5 h-5 mr-2 text-pickngo-orange-500"}),"Personal Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"Name and contact information (email, phone number)"}),o.jsx("li",{children:"Delivery address and location data"}),o.jsx("li",{children:"Payment information (processed securely through our payment partners)"}),o.jsx("li",{children:"Account credentials and profile information"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(fp,{className:"w-5 h-5 mr-2 text-pickngo-orange-500"}),"Device and Usage Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"Device type, operating system, and browser information"}),o.jsx("li",{children:"IP address and general location data"}),o.jsx("li",{children:"App usage patterns and preferences"}),o.jsx("li",{children:"Order history and delivery preferences"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[o.jsx(rn,{className:"w-5 h-5 mr-2 text-pickngo-orange-500"}),"Location Information"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 ml-6",children:[o.jsx("li",{children:"GPS location for delivery services"}),o.jsx("li",{children:"Address book contacts (with permission)"}),o.jsx("li",{children:"Real-time location tracking during delivery"})]})]})]})]})}),o.jsx(ke,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Ie,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"How We Use Your Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(as,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Service Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Process orders and coordinate deliveries"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(aa,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Security"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Prevent fraud and ensure account security"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(kH,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Communication"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Send order updates and support messages"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(vH,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Analytics"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Improve our service and user experience"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(H2,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Personalization"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Provide relevant recommendations"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(s0,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Account Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage your account and preferences"})]})]})]})]})]})}),o.jsx(ke,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Ie,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Information Sharing"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We do not sell, trade, or rent your personal information to third parties. We may share your information only in the following circumstances:"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full mt-1",children:o.jsx(yH,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Restaurant Partners"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Share order details with restaurants to fulfill your orders"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full mt-1",children:o.jsx(as,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Delivery Partners"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Provide necessary information to delivery drivers"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full mt-1",children:o.jsx(aa,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Legal Requirements"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Comply with applicable laws and regulations"})]})]})]})]})}),o.jsx(ke,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Ie,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Data Security"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We implement industry-standard security measures to protect your personal information:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(tu,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"SSL encryption for data transmission"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(tu,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Secure payment processing"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(tu,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Regular security audits"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(tu,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"Access controls and authentication"})]})]})]})}),o.jsx(ke,{className:"mb-8 bg-white border border-gray-200",children:o.jsxs(Ie,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Your Rights"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"You have the following rights regarding your personal information:"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(Cu,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Access"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request access to your personal data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx($w,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Correction"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request correction of inaccurate data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(Dd,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Deletion"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Request deletion of your personal data"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"p-2 bg-pickngo-orange-100 rounded-full",children:o.jsx(gH,{className:"w-4 h-4 text-pickngo-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Objection"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Object to processing of your data"})]})]})]})]})}),o.jsx(ke,{className:"bg-white border border-gray-200",children:o.jsxs(Ie,{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Contact Us"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(qs,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"privacy@pickngo.com"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(yr,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"+1 (555) 123-4567"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(rn,{className:"w-5 h-5 text-pickngo-orange-500"}),o.jsx("span",{className:"text-gray-700",children:"123 Food Street, Delivery City, DC 12345"})]})]})]})})]})]})},nX=({children:t})=>{const{banStatus:e,user:n}=xc(),{isDarkMode:r}=en();if(n&&e.isBanned){const s=async()=>{try{await VP(wt),$.success("Signed out successfully")}catch(c){console.error("Error signing out:",c),$.error("Failed to sign out")}},i=c=>c?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(c):"Unknown",a=!e.banExpiry,l=e.banExpiry&&new Date>e.banExpiry;return o.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 ${r?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:o.jsxs(ke,{className:`max-w-md w-full ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[o.jsxs(ut,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx(aa,{className:"w-8 h-8 text-red-600"})}),o.jsx(yt,{className:`text-xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Account Suspended"})]}),o.jsxs(Ie,{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:`text-sm ${r?"text-gray-300":"text-gray-600"} mb-4`,children:"Your account has been suspended due to a violation of our terms of service."}),e.banReason&&o.jsx("div",{className:`p-3 rounded-lg mb-4 ${r?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"} border`,children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(MH,{className:"w-4 h-4 text-orange-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-gray-900"}`,children:"Reason:"}),o.jsx("p",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:e.banReason})]})]})}),o.jsx("div",{className:`p-3 rounded-lg mb-4 ${r?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"} border`,children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Aa,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-gray-900"}`,children:a?"Permanent Ban":"Temporary Ban"}),o.jsxs("p",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:["Banned on: ",i(e.banDate)]}),e.banExpiry&&o.jsxs("p",{className:`text-xs ${r?"text-gray-400":"text-gray-600"}`,children:["Expires: ",i(e.banExpiry)]})]})]})}),l&&o.jsx("div",{className:`p-3 rounded-lg mb-4 ${r?"bg-green-900 border-green-700":"bg-green-50 border-green-200"} border`,children:o.jsx("p",{className:`text-sm font-medium text-green-600 ${r?"text-green-400":"text-green-700"}`,children:" Your ban has expired! You can now use the app normally."})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(F,{onClick:s,variant:"outline",className:`w-full ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Sign Out"]}),!a&&!l&&o.jsx("p",{className:`text-xs text-center ${r?"text-gray-400":"text-gray-500"}`,children:"Your account will be automatically restored when the ban expires."})]})]})]})})}return e.isLoading?o.jsx("div",{className:`min-h-screen flex items-center justify-center ${r?"bg-gray-900":"bg-gray-50"}`,children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Checking account status..."})]})}):o.jsx(o.Fragment,{children:t})},rX=new PV,eD=d.createContext(void 0),en=()=>{const t=d.useContext(eD);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},tD=d.createContext(void 0),nD=()=>{const t=d.useContext(tD);if(!t)throw new Error("useSelectedAddress must be used within a SelectedAddressProvider");return t},sX=({children:t})=>{const[e,n]=d.useState(!1);d.useEffect(()=>{const c=localStorage.getItem("darkMode")==="true";n(c),r(c)},[]);const r=l=>{l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},s=()=>{const l=!e;n(l),localStorage.setItem("darkMode",l.toString()),r(l),wt.currentUser&&a(wt.currentUser.uid,l)},i=l=>{n(l),localStorage.setItem("darkMode",l.toString()),r(l),wt.currentUser&&a(wt.currentUser.uid,l)},a=async(l,c)=>{try{const u=kt(Ue,"users",l);await er(u,{"settings.darkMode":c,updatedAt:new Date})}catch(u){console.error("Error updating theme in Firestore:",u)}};return o.jsx(eD.Provider,{value:{isDarkMode:e,toggleDarkMode:s,setDarkMode:i},children:t})},iX=()=>{const[t,e]=d.useState(()=>{const a=localStorage.getItem("pickngo-selected-address");return a?JSON.parse(a):null}),[n,r]=d.useState(!1);d.useEffect(()=>{(async()=>{try{await lH(),await uH(),console.log("Firebase data initialized successfully")}catch(l){console.error("Error initializing Firebase data:",l)}})()},[]),d.useEffect(()=>{t?localStorage.setItem("pickngo-selected-address",JSON.stringify(t)):localStorage.removeItem("pickngo-selected-address")},[t]),d.useEffect(()=>{(async()=>{try{const l=await lU(wt);l&&($.success("Google sign-in successful!"),await s(l.user))}catch(l){console.error("Google sign-in redirect error:",l),$.error("Google sign-in failed. Please try again.")}})()},[]),d.useEffect(()=>{const a=wt.onAuthStateChanged(async l=>{l?await s(l):r(!1)});return()=>a()},[]);const s=async a=>{var l;try{const c=await ba(kt(Ue,"users",a.uid));(!c.exists()||!((l=c.data())!=null&&l.isOnboarded))&&r(!0)}catch(c){console.error("Error checking user onboarding status:",c)}},i=()=>{r(!1)};return o.jsx(AV,{client:rX,children:o.jsx(sX,{children:o.jsx(tD.Provider,{value:{selectedAddress:t,setSelectedAddress:e},children:o.jsxs(Dq,{children:[o.jsxs(oV,{children:[o.jsx(I5,{position:"top-right"}),o.jsx(kF,{children:o.jsx(nX,{children:o.jsxs(_F,{children:[o.jsx(vn,{path:"/",element:o.jsx(PY,{})}),o.jsx(vn,{path:"/food",element:o.jsx(TY,{})}),o.jsx(vn,{path:"/daily-essential",element:o.jsx(AY,{})}),o.jsx(vn,{path:"/drinks",element:o.jsx(RY,{})}),o.jsx(vn,{path:"/all-categories",element:o.jsx(TZ,{})}),o.jsx(vn,{path:"/profile",element:o.jsx(LY,{})}),o.jsx(vn,{path:"/past-orders",element:o.jsx(MY,{})}),o.jsx(vn,{path:"/current-order/:orderId",element:o.jsx(BY,{})}),o.jsx(vn,{path:"/settings",element:o.jsx(_Z,{})}),o.jsx(vn,{path:"/address",element:o.jsx(SZ,{})}),o.jsx(vn,{path:"/help-center",element:o.jsx(YZ,{})}),o.jsx(vn,{path:"/contact-us",element:o.jsx(ZZ,{})}),o.jsx(vn,{path:"/track-order",element:o.jsx(XZ,{})}),o.jsx(vn,{path:"/about-us",element:o.jsx(JZ,{})}),o.jsx(vn,{path:"/careers",element:o.jsx(eX,{})}),o.jsx(vn,{path:"/privacy-policy",element:o.jsx(tX,{})}),o.jsx(vn,{path:"*",element:o.jsx(jZ,{})})]})})})]}),o.jsx(mA,{isOpen:n,onComplete:i})]})})})})};Hk(document.getElementById("root")).render(o.jsx(iX,{}));
